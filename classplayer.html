<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: player Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classplayer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#related">Related Functions</a> &#124;
<a href="classplayer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">player Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="player_8h_source.html">player.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for player:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classplayer.png" usemap="#player_map" alt=""/>
  <map id="player_map" name="player_map">
<area href="classCharacter.html" alt="Character" shape="rect" coords="74,56,213,80"/>
<area href="classCreature.html" alt="Creature" shape="rect" coords="0,0,139,24"/>
<area href="classvisitable.html" alt="visitable&lt; Character &gt;" shape="rect" coords="149,0,288,24"/>
<area href="classavatar.html" alt="avatar" shape="rect" coords="0,168,139,192"/>
<area href="classnpc.html" alt="npc" shape="rect" coords="149,168,288,192"/>
<area href="classstandard__npc.html" title="An NPC with standard stats." alt="standard_npc" shape="rect" coords="149,224,288,248"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structplayer_1_1power__mut__ui__result.html">power_mut_ui_result</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a97de83bce15f880241f561b55b016b02"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a97de83bce15f880241f561b55b016b02">player</a> ()</td></tr>
<tr class="separator:a97de83bce15f880241f561b55b016b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a562deb1fda48edf8063f6270a15a6943"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a562deb1fda48edf8063f6270a15a6943">player</a> (const <a class="el" href="classplayer.html">player</a> &amp;)=delete</td></tr>
<tr class="separator:a562deb1fda48edf8063f6270a15a6943"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae622dffe97885461e38a6a7d04e222eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ae622dffe97885461e38a6a7d04e222eb">player</a> (<a class="el" href="classplayer.html">player</a> &amp;&amp;)</td></tr>
<tr class="separator:ae622dffe97885461e38a6a7d04e222eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a62c0208584465db2daa1ac6e15b1ad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a0a62c0208584465db2daa1ac6e15b1ad">~player</a> () override</td></tr>
<tr class="separator:a0a62c0208584465db2daa1ac6e15b1ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4665a9a14b92cd85aa657545ba56a5c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a4665a9a14b92cd85aa657545ba56a5c4">operator=</a> (const <a class="el" href="classplayer.html">player</a> &amp;)=delete</td></tr>
<tr class="separator:a4665a9a14b92cd85aa657545ba56a5c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd3b58687c5223941f399b9c509d6819"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#acd3b58687c5223941f399b9c509d6819">operator=</a> (<a class="el" href="classplayer.html">player</a> &amp;&amp;)</td></tr>
<tr class="separator:acd3b58687c5223941f399b9c509d6819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af00b79f3024445040119fc88e4335086"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#af00b79f3024445040119fc88e4335086">normalize</a> () override</td></tr>
<tr class="memdesc:af00b79f3024445040119fc88e4335086"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls <a class="el" href="classCharacter.html#a86d7d95c31f10627ad52711c37f53df2" title="Calls Creature::normalize() nulls out the player&#39;s weapon Should only be called through player::norma...">Character::normalize()</a> normalizes HP and body temperature.  <a href="classplayer.html#af00b79f3024445040119fc88e4335086">More...</a><br /></td></tr>
<tr class="separator:af00b79f3024445040119fc88e4335086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4d6390315e3c781edf8649c5ae59a33"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a> () const override</td></tr>
<tr class="separator:af4d6390315e3c781edf8649c5ae59a33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae324fd4928f77b6f7f9e1a28e238f51f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classplayer.html">player</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ae324fd4928f77b6f7f9e1a28e238f51f">as_player</a> () override</td></tr>
<tr class="separator:ae324fd4928f77b6f7f9e1a28e238f51f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a807fa880457247495f511add1ceceeca"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classplayer.html">player</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a807fa880457247495f511add1ceceeca">as_player</a> () const override</td></tr>
<tr class="separator:a807fa880457247495f511add1ceceeca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1b4d1bd41fbdb1bc19c6f7e5b4bc795"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#aa1b4d1bd41fbdb1bc19c6f7e5b4bc795">process_effects_internal</a> () override</td></tr>
<tr class="memdesc:aa1b4d1bd41fbdb1bc19c6f7e5b4bc795"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes human-specific effects of effects before calling <a class="el" href="classCreature.html#a7c4224e3e3ce5b7bf6af5da26c622af6" title="Processes through all the effects on the Creature.">Creature::process_effects()</a>.  <a href="classplayer.html#aa1b4d1bd41fbdb1bc19c6f7e5b4bc795">More...</a><br /></td></tr>
<tr class="separator:aa1b4d1bd41fbdb1bc19c6f7e5b4bc795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35dbd29627c811fa80d6b6226fcc5d24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a35dbd29627c811fa80d6b6226fcc5d24">hardcoded_effects</a> (<a class="el" href="classeffect.html">effect</a> &amp;it)</td></tr>
<tr class="memdesc:a35dbd29627c811fa80d6b6226fcc5d24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the still hard-coded effects.  <a href="classplayer.html#a35dbd29627c811fa80d6b6226fcc5d24">More...</a><br /></td></tr>
<tr class="separator:a35dbd29627c811fa80d6b6226fcc5d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafc274c41799c1d77e81e52ee9a723bb"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#aafc274c41799c1d77e81e52ee9a723bb">vomit_mod</a> ()</td></tr>
<tr class="memdesc:aafc274c41799c1d77e81e52ee9a723bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the modifier value used for vomiting effects.  <a href="classplayer.html#aafc274c41799c1d77e81e52ee9a723bb">More...</a><br /></td></tr>
<tr class="separator:aafc274c41799c1d77e81e52ee9a723bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b34c26cb73111ff42bcab11576f51a0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a> () const override</td></tr>
<tr class="separator:a4b34c26cb73111ff42bcab11576f51a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c73f7ea4519b34a81aeaa2724d9e7d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnc__color.html">nc_color</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a5c73f7ea4519b34a81aeaa2724d9e7d5">basic_symbol_color</a> () const override</td></tr>
<tr class="memdesc:a5c73f7ea4519b34a81aeaa2724d9e7d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns what color the player should be drawn as.  <a href="classplayer.html#a5c73f7ea4519b34a81aeaa2724d9e7d5">More...</a><br /></td></tr>
<tr class="separator:a5c73f7ea4519b34a81aeaa2724d9e7d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9af8a795d678568c01841a749ba818c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ad9af8a795d678568c01841a749ba818c">deserialize</a> (<a class="el" href="classJsonIn.html">JsonIn</a> &amp;jsin)=0</td></tr>
<tr class="separator:ad9af8a795d678568c01841a749ba818c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf7d0efffb4514ae3831252059b9e593"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#aaf7d0efffb4514ae3831252059b9e593">serialize</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;jsout) const =0</td></tr>
<tr class="separator:aaf7d0efffb4514ae3831252059b9e593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a940a7323f98692262044159d4cbf3d3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a940a7323f98692262044159d4cbf3d3a">disp_info</a> ()</td></tr>
<tr class="memdesc:a940a7323f98692262044159d4cbf3d3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles and displays detailed character info for the '@' screen.  <a href="classplayer.html#a940a7323f98692262044159d4cbf3d3a">More...</a><br /></td></tr>
<tr class="separator:a940a7323f98692262044159d4cbf3d3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82f42ac5b69a7d62333843471d19988b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a82f42ac5b69a7d62333843471d19988b">estimate_effect_dur</a> (const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;relevant_skill, const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;<a class="el" href="classeffect.html">effect</a>, const <a class="el" href="classtime__duration.html">time_duration</a> &amp;error_magnitude, int threshold, const <a class="el" href="classCreature.html">Creature</a> &amp;target) const</td></tr>
<tr class="memdesc:a82f42ac5b69a7d62333843471d19988b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimate effect duration based on player relevant skill.  <a href="classplayer.html#a82f42ac5b69a7d62333843471d19988b">More...</a><br /></td></tr>
<tr class="separator:a82f42ac5b69a7d62333843471d19988b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb67fb2b2b1249783b07a2429d523554"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#acb67fb2b2b1249783b07a2429d523554">process_turn</a> () override</td></tr>
<tr class="memdesc:acb67fb2b2b1249783b07a2429d523554"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets movement points and applies other non-idempotent changes.  <a href="classplayer.html#acb67fb2b2b1249783b07a2429d523554">More...</a><br /></td></tr>
<tr class="separator:acb67fb2b2b1249783b07a2429d523554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ac864aa036130790e8fe033ab786d18"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a0ac864aa036130790e8fe033ab786d18">recalc_speed_bonus</a> ()</td></tr>
<tr class="memdesc:a0ac864aa036130790e8fe033ab786d18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the various speed bonuses we will get from mutations, etc.  <a href="classplayer.html#a0ac864aa036130790e8fe033ab786d18">More...</a><br /></td></tr>
<tr class="separator:a0ac864aa036130790e8fe033ab786d18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8318429326b62d514d8923bc9f5708b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a8318429326b62d514d8923bc9f5708b3">update_body_wetness</a> (const <a class="el" href="structw__point.html">w_point</a> &amp;weather)</td></tr>
<tr class="memdesc:a8318429326b62d514d8923bc9f5708b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maintains body wetness and handles the rate at which the player dries.  <a href="classplayer.html#a8318429326b62d514d8923bc9f5708b3">More...</a><br /></td></tr>
<tr class="separator:a8318429326b62d514d8923bc9f5708b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac620b353f0a1789408b99d3c164a671b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ac620b353f0a1789408b99d3c164a671b">has_conflicting_trait</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;flag) const</td></tr>
<tr class="memdesc:ac620b353f0a1789408b99d3c164a671b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has a conflicting trait to the entered trait Uses <a class="el" href="classCharacter.html#a809f85bef6731c16373600ad9f97dad7" title="Returns true if the player has a trait which cancels the entered trait.">has_opposite_trait()</a>, <a class="el" href="classplayer.html#af5da6a90988de8ed2f2b0e18acf0745e" title="Returns true if the player has a trait which upgrades into the entered trait.">has_lower_trait()</a>, and <a class="el" href="classplayer.html#a4248377bab405c423f22f97324717b27" title="Returns true if the player has a trait which is an upgrade of the entered trait.">has_higher_trait()</a> to determine conflicts.  <a href="classplayer.html#ac620b353f0a1789408b99d3c164a671b">More...</a><br /></td></tr>
<tr class="separator:ac620b353f0a1789408b99d3c164a671b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5da6a90988de8ed2f2b0e18acf0745e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#af5da6a90988de8ed2f2b0e18acf0745e">has_lower_trait</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;flag) const</td></tr>
<tr class="memdesc:af5da6a90988de8ed2f2b0e18acf0745e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has a trait which upgrades into the entered trait.  <a href="classplayer.html#af5da6a90988de8ed2f2b0e18acf0745e">More...</a><br /></td></tr>
<tr class="separator:af5da6a90988de8ed2f2b0e18acf0745e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4248377bab405c423f22f97324717b27"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a4248377bab405c423f22f97324717b27">has_higher_trait</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;flag) const</td></tr>
<tr class="memdesc:a4248377bab405c423f22f97324717b27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has a trait which is an upgrade of the entered trait.  <a href="classplayer.html#a4248377bab405c423f22f97324717b27">More...</a><br /></td></tr>
<tr class="separator:a4248377bab405c423f22f97324717b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae87cd4473794c04ebae7572b29854ea0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ae87cd4473794c04ebae7572b29854ea0">has_same_type_trait</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;flag) const</td></tr>
<tr class="memdesc:ae87cd4473794c04ebae7572b29854ea0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has a trait that shares a type with the entered trait.  <a href="classplayer.html#ae87cd4473794c04ebae7572b29854ea0">More...</a><br /></td></tr>
<tr class="separator:ae87cd4473794c04ebae7572b29854ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af184e63ebc91612702d2a195c056b37e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#af184e63ebc91612702d2a195c056b37e">purifiable</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;flag) const</td></tr>
<tr class="memdesc:af184e63ebc91612702d2a195c056b37e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the entered trait may be purified away Defaults to true.  <a href="classplayer.html#af184e63ebc91612702d2a195c056b37e">More...</a><br /></td></tr>
<tr class="separator:af184e63ebc91612702d2a195c056b37e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a306d945c53613ef1f22050608572247d"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a306d945c53613ef1f22050608572247d">get_category_dream</a> (const std::string &amp;cat, int strength) const</td></tr>
<tr class="memdesc:a306d945c53613ef1f22050608572247d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a dream's description selected randomly from the player's highest mutation category.  <a href="classplayer.html#a306d945c53613ef1f22050608572247d">More...</a><br /></td></tr>
<tr class="separator:a306d945c53613ef1f22050608572247d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af18f720a82b1ab24a84809c61ba9d0fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#af18f720a82b1ab24a84809c61ba9d0fe">power_bionics</a> ()</td></tr>
<tr class="memdesc:af18f720a82b1ab24a84809c61ba9d0fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates and handles the UI for player interaction with installed bionics.  <a href="classplayer.html#af18f720a82b1ab24a84809c61ba9d0fe">More...</a><br /></td></tr>
<tr class="separator:af18f720a82b1ab24a84809c61ba9d0fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaff0fabbf1abf952f200995733d86d4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#aaff0fabbf1abf952f200995733d86d4b">power_mutations</a> ()</td></tr>
<tr class="separator:aaff0fabbf1abf952f200995733d86d4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09902859b0f28b6aae33c2b76abc521e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbionic.html">bionic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a09902859b0f28b6aae33c2b76abc521e">bionic_by_invlet</a> (int ch)</td></tr>
<tr class="memdesc:a09902859b0f28b6aae33c2b76abc521e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the bionic with the given invlet, or NULL if no bionic has that invlet.  <a href="classplayer.html#a09902859b0f28b6aae33c2b76abc521e">More...</a><br /></td></tr>
<tr class="separator:a09902859b0f28b6aae33c2b76abc521e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad96e0c895f6ffe7dd924ede585b23d4c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ad96e0c895f6ffe7dd924ede585b23d4c">avoid_trap</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;<a class="el" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>, const <a class="el" href="structtrap.html">trap</a> &amp;tr) const override</td></tr>
<tr class="memdesc:ad96e0c895f6ffe7dd924ede585b23d4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a player triggers a trap, returns true if they don't set it off.  <a href="classplayer.html#ad96e0c895f6ffe7dd924ede585b23d4c">More...</a><br /></td></tr>
<tr class="separator:ad96e0c895f6ffe7dd924ede585b23d4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a40fdd3243988aac9e6784421558fb7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a2a40fdd3243988aac9e6784421558fb7">pause</a> ()</td></tr>
<tr class="separator:a2a40fdd3243988aac9e6784421558fb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e1328282191fb93805357b248623fb5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a2e1328282191fb93805357b248623fb5">can_autolearn</a> (const <a class="el" href="type__id_8h.html#ad6390cfa5598a169e10ca7ae1a3f6aaf">matype_id</a> &amp;ma_id) const</td></tr>
<tr class="memdesc:a2e1328282191fb93805357b248623fb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player can learn the entered martial art.  <a href="classplayer.html#a2e1328282191fb93805357b248623fb5">More...</a><br /></td></tr>
<tr class="separator:a2e1328282191fb93805357b248623fb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade9f2154bc9711f924fc216a46162a74"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ade9f2154bc9711f924fc216a46162a74">stability_roll</a> () const override</td></tr>
<tr class="memdesc:ade9f2154bc9711f924fc216a46162a74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns value of player's stable footing.  <a href="classplayer.html#ade9f2154bc9711f924fc216a46162a74">More...</a><br /></td></tr>
<tr class="separator:ade9f2154bc9711f924fc216a46162a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68be73ab25fcde011093fb9f0c2457b4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a68be73ab25fcde011093fb9f0c2457b4">is_stealthy</a> () const</td></tr>
<tr class="memdesc:a68be73ab25fcde011093fb9f0c2457b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has stealthy movement.  <a href="classplayer.html#a68be73ab25fcde011093fb9f0c2457b4">More...</a><br /></td></tr>
<tr class="separator:a68be73ab25fcde011093fb9f0c2457b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d57c62aa3ec8d8fca387bc2ff930113"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a3d57c62aa3ec8d8fca387bc2ff930113">can_melee</a> () const</td></tr>
<tr class="memdesc:a3d57c62aa3ec8d8fca387bc2ff930113"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the current martial art works with the player's current weapon.  <a href="classplayer.html#a3d57c62aa3ec8d8fca387bc2ff930113">More...</a><br /></td></tr>
<tr class="separator:a3d57c62aa3ec8d8fca387bc2ff930113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19f31fc34e96a784d48fde849d7af6fb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a19f31fc34e96a784d48fde849d7af6fb">is_dead_state</a> () const override</td></tr>
<tr class="memdesc:a19f31fc34e96a784d48fde849d7af6fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player should be dead.  <a href="classplayer.html#a19f31fc34e96a784d48fde849d7af6fb">More...</a><br /></td></tr>
<tr class="separator:a19f31fc34e96a784d48fde849d7af6fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7ae0d0b0d45994a073f37862cbf6d3b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#af7ae0d0b0d45994a073f37862cbf6d3b">can_grab_break</a> (const <a class="el" href="classitem.html">item</a> &amp;weap) const</td></tr>
<tr class="memdesc:af7ae0d0b0d45994a073f37862cbf6d3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player is able to use a grab breaking technique.  <a href="classplayer.html#af7ae0d0b0d45994a073f37862cbf6d3b">More...</a><br /></td></tr>
<tr class="separator:af7ae0d0b0d45994a073f37862cbf6d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3deecf5e0ddfe40130d97c61c57e2fe2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdispersion__sources.html">dispersion_sources</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a3deecf5e0ddfe40130d97c61c57e2fe2">get_weapon_dispersion</a> (const <a class="el" href="classitem.html">item</a> &amp;obj) const</td></tr>
<tr class="memdesc:a3deecf5e0ddfe40130d97c61c57e2fe2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a weapon's modified dispersion value.  <a href="classplayer.html#a3deecf5e0ddfe40130d97c61c57e2fe2">More...</a><br /></td></tr>
<tr class="separator:a3deecf5e0ddfe40130d97c61c57e2fe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a589ee8688344c50b483d319cea1eb15b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a589ee8688344c50b483d319cea1eb15b">handle_gun_damage</a> (<a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="memdesc:a589ee8688344c50b483d319cea1eb15b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if a gun misfires, jams, or has other problems, else returns false.  <a href="classplayer.html#a589ee8688344c50b483d319cea1eb15b">More...</a><br /></td></tr>
<tr class="separator:a589ee8688344c50b483d319cea1eb15b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c356da8331dbc6964aa054fa8030d45"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a9c356da8331dbc6964aa054fa8030d45">gun_engagement_moves</a> (const <a class="el" href="classitem.html">item</a> &amp;gun, int target=0, int start=<a class="el" href="game__constants_8h.html#a8226e8a134603e5bc06df05efd13d8d1">MAX_RECOIL</a>) const</td></tr>
<tr class="memdesc:a9c356da8331dbc6964aa054fa8030d45"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many moves does it take to aim gun to the target accuracy.  <a href="classplayer.html#a9c356da8331dbc6964aa054fa8030d45">More...</a><br /></td></tr>
<tr class="separator:a9c356da8331dbc6964aa054fa8030d45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44202fda7322e9ba557a37a7081e249c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a44202fda7322e9ba557a37a7081e249c">fire_gun</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;target, int shots=1)</td></tr>
<tr class="memdesc:a44202fda7322e9ba557a37a7081e249c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fires a gun or auxiliary gunmod (ignoring any current mode)  <a href="classplayer.html#a44202fda7322e9ba557a37a7081e249c">More...</a><br /></td></tr>
<tr class="separator:a44202fda7322e9ba557a37a7081e249c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09de46fc4e05450f99872c0e4fcc30e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a09de46fc4e05450f99872c0e4fcc30e2">fire_gun</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;target, int shots, <a class="el" href="classitem.html">item</a> &amp;gun)</td></tr>
<tr class="memdesc:a09de46fc4e05450f99872c0e4fcc30e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fires a gun or auxiliary gunmod (ignoring any current mode)  <a href="classplayer.html#a09de46fc4e05450f99872c0e4fcc30e2">More...</a><br /></td></tr>
<tr class="separator:a09de46fc4e05450f99872c0e4fcc30e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e47185f2242fa9ed4d34a1685ee4c3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a3e47185f2242fa9ed4d34a1685ee4c3b">reach_attack</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p)</td></tr>
<tr class="memdesc:a3e47185f2242fa9ed4d34a1685ee4c3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles reach melee attacks.  <a href="classplayer.html#a3e47185f2242fa9ed4d34a1685ee4c3b">More...</a><br /></td></tr>
<tr class="separator:a3e47185f2242fa9ed4d34a1685ee4c3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d84938529a732fabf035ac2e9d6189a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a9d84938529a732fabf035ac2e9d6189a">on_dodge</a> (<a class="el" href="classCreature.html">Creature</a> *source, float difficulty) override</td></tr>
<tr class="memdesc:a9d84938529a732fabf035ac2e9d6189a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called after the player has successfully dodged an attack.  <a href="classplayer.html#a9d84938529a732fabf035ac2e9d6189a">More...</a><br /></td></tr>
<tr class="separator:a9d84938529a732fabf035ac2e9d6189a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c612a00cf5588ee822c1fe0d0fde897"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a9c612a00cf5588ee822c1fe0d0fde897">on_hit</a> (<a class="el" href="classCreature.html">Creature</a> *source, <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> bp_hit, float difficulty=INT_MIN, <a class="el" href="structdealt__projectile__attack.html">dealt_projectile_attack</a> const *proj=nullptr) override</td></tr>
<tr class="memdesc:a9c612a00cf5588ee822c1fe0d0fde897"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles special defenses from an attack that hit us (source can be null)  <a href="classplayer.html#a9c612a00cf5588ee822c1fe0d0fde897">More...</a><br /></td></tr>
<tr class="separator:a9c612a00cf5588ee822c1fe0d0fde897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c7623c11f37f370c8675385ef15566c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a8c7623c11f37f370c8675385ef15566c">weapon_value</a> (const <a class="el" href="classitem.html">item</a> &amp;weap, int ammo=10) const</td></tr>
<tr class="memdesc:a8c7623c11f37f370c8675385ef15566c"><td class="mdescLeft">&#160;</td><td class="mdescRight">NPC-related item rating functions.  <a href="classplayer.html#a8c7623c11f37f370c8675385ef15566c">More...</a><br /></td></tr>
<tr class="separator:a8c7623c11f37f370c8675385ef15566c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7cc78075e6defac1a555615a4a0451a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ad7cc78075e6defac1a555615a4a0451a">gun_value</a> (const <a class="el" href="classitem.html">item</a> &amp;weap, int ammo=10) const</td></tr>
<tr class="separator:ad7cc78075e6defac1a555615a4a0451a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e5ce206cc070d81475a4fbaeaef852d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a7e5ce206cc070d81475a4fbaeaef852d">melee_value</a> (const <a class="el" href="classitem.html">item</a> &amp;weap) const</td></tr>
<tr class="separator:a7e5ce206cc070d81475a4fbaeaef852d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d29f3f8b0db12ee6efc61d476bb8326"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a9d29f3f8b0db12ee6efc61d476bb8326">unarmed_value</a> () const</td></tr>
<tr class="separator:a9d29f3f8b0db12ee6efc61d476bb8326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7e4dde968944b2538203f740e166359"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ad7e4dde968944b2538203f740e166359">dodge_roll</a> () override</td></tr>
<tr class="memdesc:ad7e4dde968944b2538203f740e166359"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the player's dodge_roll to be compared against an aggressor's <a class="el" href="classCharacter.html#a5b1b6d0e3efd0577ed298752a12d5cd1" title="Returns the player&#39;s basic hit roll that is compared to the target&#39;s dodge roll.">hit_roll()</a>  <a href="classplayer.html#ad7e4dde968944b2538203f740e166359">More...</a><br /></td></tr>
<tr class="separator:ad7e4dde968944b2538203f740e166359"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d3f175e2fc15015c26e0e28a8678c52"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a9d3f175e2fc15015c26e0e28a8678c52">get_melee</a> () const override</td></tr>
<tr class="memdesc:a9d3f175e2fc15015c26e0e28a8678c52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns melee skill level, to be used to throttle dodge practice.  <a href="classplayer.html#a9d3f175e2fc15015c26e0e28a8678c52">More...</a><br /></td></tr>
<tr class="separator:a9d3f175e2fc15015c26e0e28a8678c52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ef167aef3a35a062b56c8905f59b133"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a8ef167aef3a35a062b56c8905f59b133">uncanny_dodge</a> () override</td></tr>
<tr class="memdesc:a8ef167aef3a35a062b56c8905f59b133"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the uncanny dodge bionic and effects, returns true if the player successfully dodges.  <a href="classplayer.html#a8ef167aef3a35a062b56c8905f59b133">More...</a><br /></td></tr>
<tr class="separator:a8ef167aef3a35a062b56c8905f59b133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad90fa441b632cda6fe845de7a55f5df8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ad90fa441b632cda6fe845de7a55f5df8">climbing_cost</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;from, const <a class="el" href="structtripoint.html">tripoint</a> &amp;to) const</td></tr>
<tr class="memdesc:ad90fa441b632cda6fe845de7a55f5df8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks both the neighborhoods of from and to for climbable surfaces, returns move cost of climbing from <code>from</code> to <code>to</code>.  <a href="classplayer.html#ad90fa441b632cda6fe845de7a55f5df8">More...</a><br /></td></tr>
<tr class="separator:ad90fa441b632cda6fe845de7a55f5df8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a347590f5f5ca932d3ffc5c5cc5cdc723"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdealt__projectile__attack.html">dealt_projectile_attack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a347590f5f5ca932d3ffc5c5cc5cdc723">throw_item</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;target, const <a class="el" href="classitem.html">item</a> &amp;to_throw, const <a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;blind_throw_from_pos=<a class="el" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>)</td></tr>
<tr class="memdesc:a347590f5f5ca932d3ffc5c5cc5cdc723"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a throw.  <a href="classplayer.html#a347590f5f5ca932d3ffc5c5cc5cdc723">More...</a><br /></td></tr>
<tr class="separator:a347590f5f5ca932d3ffc5c5cc5cdc723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cf34b604818377fbb17c0815da1eb9e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a7cf34b604818377fbb17c0815da1eb9e">talk_skill</a> () const</td></tr>
<tr class="memdesc:a7cf34b604818377fbb17c0815da1eb9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a value used when attempting to convince NPC's of something.  <a href="classplayer.html#a7cf34b604818377fbb17c0815da1eb9e">More...</a><br /></td></tr>
<tr class="separator:a7cf34b604818377fbb17c0815da1eb9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eab8f8fdf3915abd37edddb25510530"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a3eab8f8fdf3915abd37edddb25510530">intimidation</a> () const</td></tr>
<tr class="memdesc:a3eab8f8fdf3915abd37edddb25510530"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a value used when attempting to intimidate NPC's.  <a href="classplayer.html#a3eab8f8fdf3915abd37edddb25510530">More...</a><br /></td></tr>
<tr class="separator:a3eab8f8fdf3915abd37edddb25510530"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd9bcabf4f32e79e18172937133033cf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#acd9bcabf4f32e79e18172937133033cf">immune_to</a> (<a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp, <a class="el" href="structdamage__unit.html">damage_unit</a> dam) const</td></tr>
<tr class="memdesc:acd9bcabf4f32e79e18172937133033cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a given body part is immune to a given damage type.  <a href="classplayer.html#acd9bcabf4f32e79e18172937133033cf">More...</a><br /></td></tr>
<tr class="separator:acd9bcabf4f32e79e18172937133033cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1304421e7a67d0046529f3bd9263ce42"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">mod_pain</a> (int npain) override</td></tr>
<tr class="memdesc:a1304421e7a67d0046529f3bd9263ce42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modifies a pain value by player traits before passing it to <a class="el" href="classCreature.html#a5391e672390a2e5f28f0d5e6742c0b54">Creature::mod_pain()</a>  <a href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">More...</a><br /></td></tr>
<tr class="separator:a1304421e7a67d0046529f3bd9263ce42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7af2288294fdf27ae72f02e214df878"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#af7af2288294fdf27ae72f02e214df878">set_pain</a> (int npain) override</td></tr>
<tr class="memdesc:af7af2288294fdf27ae72f02e214df878"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets new intensity of pain an reacts to it.  <a href="classplayer.html#af7af2288294fdf27ae72f02e214df878">More...</a><br /></td></tr>
<tr class="separator:af7af2288294fdf27ae72f02e214df878"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866f12c5891fa0a43d837669fc52706b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a866f12c5891fa0a43d837669fc52706b">get_perceived_pain</a> () const override</td></tr>
<tr class="memdesc:a866f12c5891fa0a43d837669fc52706b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns perceived pain (reduced with painkillers)  <a href="classplayer.html#a866f12c5891fa0a43d837669fc52706b">More...</a><br /></td></tr>
<tr class="separator:a866f12c5891fa0a43d837669fc52706b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae57cd543ddae82149c53bc43c12ffd54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ae57cd543ddae82149c53bc43c12ffd54">add_pain_msg</a> (int val, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp) const</td></tr>
<tr class="separator:ae57cd543ddae82149c53bc43c12ffd54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b07f11977446bd749238eb0dc424c61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a9b07f11977446bd749238eb0dc424c61">knock_back_to</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;to) override</td></tr>
<tr class="memdesc:a9b07f11977446bd749238eb0dc424c61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Knocks the player to a specified tile.  <a href="classplayer.html#a9b07f11977446bd749238eb0dc424c61">More...</a><br /></td></tr>
<tr class="separator:a9b07f11977446bd749238eb0dc424c61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f4f5995d32e0a3a0fe585abbafbf76d"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a8f4f5995d32e0a3a0fe585abbafbf76d">fall_damage_mod</a> () const override</td></tr>
<tr class="memdesc:a8f4f5995d32e0a3a0fe585abbafbf76d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns multiplier on fall damage at low velocity (knockback/pit/1 z-level, not 5 z-levels)  <a href="classplayer.html#a8f4f5995d32e0a3a0fe585abbafbf76d">More...</a><br /></td></tr>
<tr class="separator:a8f4f5995d32e0a3a0fe585abbafbf76d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1d6e52d9fb8fdf08eecb74890a28342"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ae1d6e52d9fb8fdf08eecb74890a28342">impact</a> (int force, const <a class="el" href="structtripoint.html">tripoint</a> &amp;<a class="el" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>) override</td></tr>
<tr class="memdesc:ae1d6e52d9fb8fdf08eecb74890a28342"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deals falling/collision damage with terrain/creature at pos.  <a href="classplayer.html#ae1d6e52d9fb8fdf08eecb74890a28342">More...</a><br /></td></tr>
<tr class="separator:ae1d6e52d9fb8fdf08eecb74890a28342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c2589f63489526c9a74ac8e1c33ca60"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a1c2589f63489526c9a74ac8e1c33ca60">hp_percentage</a> () const override</td></tr>
<tr class="memdesc:a1c2589f63489526c9a74ac8e1c33ca60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns overall % of HP remaining.  <a href="classplayer.html#a1c2589f63489526c9a74ac8e1c33ca60">More...</a><br /></td></tr>
<tr class="separator:a1c2589f63489526c9a74ac8e1c33ca60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab72a48abf40ace9fafec0738996ad866"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ab72a48abf40ace9fafec0738996ad866">get_artifact_items</a> ()</td></tr>
<tr class="memdesc:ab72a48abf40ace9fafec0738996ad866"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns list of artifacts in player inventory.  <a href="classplayer.html#ab72a48abf40ace9fafec0738996ad866">More...</a><br /></td></tr>
<tr class="separator:ab72a48abf40ace9fafec0738996ad866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae620c56d3dc1a9c856d9c10bb6681c28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ae620c56d3dc1a9c856d9c10bb6681c28">siphon</a> (<a class="el" href="classvehicle.html">vehicle</a> &amp;veh, const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;desired_liquid)</td></tr>
<tr class="memdesc:ae620c56d3dc1a9c856d9c10bb6681c28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Siphons fuel (if available) from the specified vehicle into container or similar via game::handle_liquid.  <a href="classplayer.html#ae620c56d3dc1a9c856d9c10bb6681c28">More...</a><br /></td></tr>
<tr class="separator:ae620c56d3dc1a9c856d9c10bb6681c28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4a7b5f549e1de904a5800c35a3557aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ad4a7b5f549e1de904a5800c35a3557aa">drink_from_hands</a> (<a class="el" href="classitem.html">item</a> &amp;water)</td></tr>
<tr class="memdesc:ad4a7b5f549e1de904a5800c35a3557aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">used for drinking from hands, returns how many charges were consumed  <a href="classplayer.html#ad4a7b5f549e1de904a5800c35a3557aa">More...</a><br /></td></tr>
<tr class="separator:ad4a7b5f549e1de904a5800c35a3557aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46e60f36a469120e2afde88426732a8f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a46e60f36a469120e2afde88426732a8f">consume</a> (<a class="el" href="classitem__location.html">item_location</a> loc)</td></tr>
<tr class="memdesc:a46e60f36a469120e2afde88426732a8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for eating object at pos, returns true if object is removed from inventory (last charge was consumed)  <a href="classplayer.html#a46e60f36a469120e2afde88426732a8f">More...</a><br /></td></tr>
<tr class="separator:a46e60f36a469120e2afde88426732a8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac694873c13ad824239747e227f296556"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ac694873c13ad824239747e227f296556">consume_item</a> (<a class="el" href="classitem.html">item</a> &amp;target)</td></tr>
<tr class="memdesc:ac694873c13ad824239747e227f296556"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for eating a particular item that doesn't need to be in inventory.  <a href="classplayer.html#ac694873c13ad824239747e227f296556">More...</a><br /></td></tr>
<tr class="separator:ac694873c13ad824239747e227f296556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade215471686460149590c160a167d9f4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ade215471686460149590c160a167d9f4">eat</a> (<a class="el" href="classitem.html">item</a> &amp;food, bool force=false)</td></tr>
<tr class="memdesc:ade215471686460149590c160a167d9f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for eating entered comestible, returns true if comestible is successfully eaten.  <a href="classplayer.html#ade215471686460149590c160a167d9f4">More...</a><br /></td></tr>
<tr class="separator:ade215471686460149590c160a167d9f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1869e8eaef94e686180c539c32dc52ca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a1869e8eaef94e686180c539c32dc52ca">book_fun_for</a> (const <a class="el" href="classitem.html">item</a> &amp;book, const <a class="el" href="classplayer.html">player</a> &amp;p) const</td></tr>
<tr class="memdesc:a1869e8eaef94e686180c539c32dc52ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the enjoyability value for a book.  <a href="classplayer.html#a1869e8eaef94e686180c539c32dc52ca">More...</a><br /></td></tr>
<tr class="separator:a1869e8eaef94e686180c539c32dc52ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3526879395962aa306c93ad8faa837cb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a3526879395962aa306c93ad8faa837cb">get_lift_assist</a> () const</td></tr>
<tr class="separator:a3526879395962aa306c93ad8faa837cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6f920376059ceec5700f70986435a34"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ad6f920376059ceec5700f70986435a34">list_ammo</a> (const <a class="el" href="classitem.html">item</a> &amp;base, std::vector&lt; <a class="el" href="classitem_1_1reload__option.html">item::reload_option</a> &gt; &amp;ammo_list, bool include_empty_mags=true, bool include_potential=false) const</td></tr>
<tr class="separator:ad6f920376059ceec5700f70986435a34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43a0479640831a4268c76fa19bbd1051"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem_1_1reload__option.html">item::reload_option</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a43a0479640831a4268c76fa19bbd1051">select_ammo</a> (const <a class="el" href="classitem.html">item</a> &amp;base, bool prompt=false, bool include_empty_mags=true, bool include_potential=false) const</td></tr>
<tr class="memdesc:a43a0479640831a4268c76fa19bbd1051"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select suitable ammo with which to reload the item.  <a href="classplayer.html#a43a0479640831a4268c76fa19bbd1051">More...</a><br /></td></tr>
<tr class="separator:a43a0479640831a4268c76fa19bbd1051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64d67d585e19fdc3c4b0684c794572ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem_1_1reload__option.html">item::reload_option</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a64d67d585e19fdc3c4b0684c794572ed">select_ammo</a> (const <a class="el" href="classitem.html">item</a> &amp;base, std::vector&lt; <a class="el" href="classitem_1_1reload__option.html">item::reload_option</a> &gt; opts) const</td></tr>
<tr class="memdesc:a64d67d585e19fdc3c4b0684c794572ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select ammo from the provided options.  <a href="classplayer.html#a64d67d585e19fdc3c4b0684c794572ed">More...</a><br /></td></tr>
<tr class="separator:a64d67d585e19fdc3c4b0684c794572ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff0473c898bbc2050d392b1109753bef"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#aff0473c898bbc2050d392b1109753bef">can_lift</a> (int lift_strength_required) const</td></tr>
<tr class="memdesc:aff0473c898bbc2050d392b1109753bef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check player strong enough to lift an object unaided by equipment (jacks, levers etc)  <a href="classplayer.html#aff0473c898bbc2050d392b1109753bef">More...</a><br /></td></tr>
<tr class="separator:aff0473c898bbc2050d392b1109753bef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc7afd68c20908fba93feaf5cc28e8cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classret__val.html">ret_val</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#acc7afd68c20908fba93feaf5cc28e8cd">can_takeoff</a> (const <a class="el" href="classitem.html">item</a> &amp;it, const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; *res=nullptr)</td></tr>
<tr class="memdesc:acc7afd68c20908fba93feaf5cc28e8cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check player capable of taking off an item.  <a href="classplayer.html#acc7afd68c20908fba93feaf5cc28e8cd">More...</a><br /></td></tr>
<tr class="separator:acc7afd68c20908fba93feaf5cc28e8cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a7027632b8f86717dd34d64d3015dda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classret__val.html">ret_val</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a0a7027632b8f86717dd34d64d3015dda">can_wield</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:a0a7027632b8f86717dd34d64d3015dda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check player capable of wielding an item.  <a href="classplayer.html#a0a7027632b8f86717dd34d64d3015dda">More...</a><br /></td></tr>
<tr class="separator:a0a7027632b8f86717dd34d64d3015dda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a4073343b5776cab794313c9a7e4cfb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a9a4073343b5776cab794313c9a7e4cfb">unwield</a> ()</td></tr>
<tr class="separator:a9a4073343b5776cab794313c9a7e4cfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a373081bc6d2cfc6c8917398f87052747"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a373081bc6d2cfc6c8917398f87052747">can_reload</a> (const <a class="el" href="classitem.html">item</a> &amp;it, const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;ammo=<a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>()) const</td></tr>
<tr class="memdesc:a373081bc6d2cfc6c8917398f87052747"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether a tool or gun is potentially reloadable (optionally considering a specific ammo)  <a href="classplayer.html#a373081bc6d2cfc6c8917398f87052747">More...</a><br /></td></tr>
<tr class="separator:a373081bc6d2cfc6c8917398f87052747"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a366f31cb29b539b83d8d91d4a8c0c1b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a366f31cb29b539b83d8d91d4a8c0c1b5">mend_item</a> (<a class="el" href="classitem__location.html">item_location</a> &amp;&amp;obj, bool interactive=true)</td></tr>
<tr class="memdesc:a366f31cb29b539b83d8d91d4a8c0c1b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to mend an item (fix any current faults)  <a href="classplayer.html#a366f31cb29b539b83d8d91d4a8c0c1b5">More...</a><br /></td></tr>
<tr class="separator:a366f31cb29b539b83d8d91d4a8c0c1b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4e12c748135487720e2fd1baadaf55b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ae4e12c748135487720e2fd1baadaf55b">item_reload_cost</a> (const <a class="el" href="classitem.html">item</a> &amp;it, const <a class="el" href="classitem.html">item</a> &amp;ammo, int qty) const</td></tr>
<tr class="memdesc:ae4e12c748135487720e2fd1baadaf55b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate (but do not deduct) the number of moves required to reload an item with specified quantity of ammo.  <a href="classplayer.html#ae4e12c748135487720e2fd1baadaf55b">More...</a><br /></td></tr>
<tr class="separator:ae4e12c748135487720e2fd1baadaf55b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a149e1926d7fef1471ff7c47d6347ec92"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; std::list&lt; <a class="el" href="classitem.html">item</a> &gt;::iterator &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a149e1926d7fef1471ff7c47d6347ec92">wear</a> (int <a class="el" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>, bool interactive=true)</td></tr>
<tr class="memdesc:a149e1926d7fef1471ff7c47d6347ec92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wear item; returns false on fail.  <a href="classplayer.html#a149e1926d7fef1471ff7c47d6347ec92">More...</a><br /></td></tr>
<tr class="separator:a149e1926d7fef1471ff7c47d6347ec92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2408ec64223ab7855a60c92ef95323af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; std::list&lt; <a class="el" href="classitem.html">item</a> &gt;::iterator &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a2408ec64223ab7855a60c92ef95323af">wear</a> (<a class="el" href="classitem.html">item</a> &amp;to_wear, bool interactive=true)</td></tr>
<tr class="separator:a2408ec64223ab7855a60c92ef95323af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad39c9459b63bca24dc3c3d68b41c0e87"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ad39c9459b63bca24dc3c3d68b41c0e87">takeoff</a> (<a class="el" href="classitem.html">item</a> &amp;it, std::list&lt; <a class="el" href="classitem.html">item</a> &gt; *res=nullptr)</td></tr>
<tr class="memdesc:ad39c9459b63bca24dc3c3d68b41c0e87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes off an item, returning false on fail.  <a href="classplayer.html#ad39c9459b63bca24dc3c3d68b41c0e87">More...</a><br /></td></tr>
<tr class="separator:ad39c9459b63bca24dc3c3d68b41c0e87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f107aadec1c27a7cf37746d9cb7e28"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a99f107aadec1c27a7cf37746d9cb7e28">takeoff</a> (int <a class="el" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>)</td></tr>
<tr class="separator:a99f107aadec1c27a7cf37746d9cb7e28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b9bfe7bf07eeec92c3879e63b84cecb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a9b9bfe7bf07eeec92c3879e63b84cecb">add_or_drop_with_msg</a> (<a class="el" href="classitem.html">item</a> &amp;it, bool unloading=false)</td></tr>
<tr class="memdesc:a9b9bfe7bf07eeec92c3879e63b84cecb"><td class="mdescLeft">&#160;</td><td class="mdescRight">So far only called by <a class="el" href="classplayer.html#a354106a089a5ddf51b5ecd81c75369db">unload()</a> from <a class="el" href="game_8cpp.html">game.cpp</a>.  <a href="classplayer.html#a9b9bfe7bf07eeec92c3879e63b84cecb">More...</a><br /></td></tr>
<tr class="separator:a9b9bfe7bf07eeec92c3879e63b84cecb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a354106a089a5ddf51b5ecd81c75369db"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a354106a089a5ddf51b5ecd81c75369db">unload</a> (<a class="el" href="classitem__location.html">item_location</a> loc)</td></tr>
<tr class="separator:a354106a089a5ddf51b5ecd81c75369db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6dc9128184b67ca03057f8d19c066c2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ab6dc9128184b67ca03057f8d19c066c2">wield_contents</a> (<a class="el" href="classitem.html">item</a> &amp;container, <a class="el" href="classitem.html">item</a> *internal_item=nullptr, bool penalties=true, int base_cost=<a class="el" href="game__constants_8h.html#aa5931cb2f162c829bae20f0df39ae014">INVENTORY_HANDLING_PENALTY</a>)</td></tr>
<tr class="memdesc:ab6dc9128184b67ca03057f8d19c066c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to wield a contained item consuming moves proportional to weapon skill and volume.  <a href="classplayer.html#ab6dc9128184b67ca03057f8d19c066c2">More...</a><br /></td></tr>
<tr class="separator:ab6dc9128184b67ca03057f8d19c066c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affc70ebfa60eb6ecd1350a4f2035c4b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#affc70ebfa60eb6ecd1350a4f2035c4b4">store</a> (<a class="el" href="classitem.html">item</a> &amp;container, <a class="el" href="classitem.html">item</a> &amp;put, bool penalties=true, int base_cost=<a class="el" href="game__constants_8h.html#aa5931cb2f162c829bae20f0df39ae014">INVENTORY_HANDLING_PENALTY</a>)</td></tr>
<tr class="memdesc:affc70ebfa60eb6ecd1350a4f2035c4b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores an item inside another consuming moves proportional to weapon skill and volume.  <a href="classplayer.html#affc70ebfa60eb6ecd1350a4f2035c4b4">More...</a><br /></td></tr>
<tr class="separator:affc70ebfa60eb6ecd1350a4f2035c4b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0f5d7ccefd81bd82dd35bb1c498edc9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#aa0f5d7ccefd81bd82dd35bb1c498edc9">sort_armor</a> ()</td></tr>
<tr class="memdesc:aa0f5d7ccefd81bd82dd35bb1c498edc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the UI and handles player input for the armor re-ordering window.  <a href="classplayer.html#aa0f5d7ccefd81bd82dd35bb1c498edc9">More...</a><br /></td></tr>
<tr class="separator:aa0f5d7ccefd81bd82dd35bb1c498edc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad107606402421d519f2cb6403afc9eb3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ad107606402421d519f2cb6403afc9eb3">use</a> (int inventory_position)</td></tr>
<tr class="memdesc:ad107606402421d519f2cb6403afc9eb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses a tool.  <a href="classplayer.html#ad107606402421d519f2cb6403afc9eb3">More...</a><br /></td></tr>
<tr class="separator:ad107606402421d519f2cb6403afc9eb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0fce8ec3a86cee2acc24bd17cea338f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ad0fce8ec3a86cee2acc24bd17cea338f">use</a> (<a class="el" href="classitem__location.html">item_location</a> loc)</td></tr>
<tr class="memdesc:ad0fce8ec3a86cee2acc24bd17cea338f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses a tool at location.  <a href="classplayer.html#ad0fce8ec3a86cee2acc24bd17cea338f">More...</a><br /></td></tr>
<tr class="separator:ad0fce8ec3a86cee2acc24bd17cea338f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac02b378fd254e8a0fbea2476a45d2e94"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ac02b378fd254e8a0fbea2476a45d2e94">use_wielded</a> ()</td></tr>
<tr class="memdesc:ac02b378fd254e8a0fbea2476a45d2e94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses the current wielded weapon.  <a href="classplayer.html#ac02b378fd254e8a0fbea2476a45d2e94">More...</a><br /></td></tr>
<tr class="separator:ac02b378fd254e8a0fbea2476a45d2e94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60c8558e2ea02847cb872ad6513a8cb7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a60c8558e2ea02847cb872ad6513a8cb7">reassign_item</a> (<a class="el" href="classitem.html">item</a> &amp;it, int invlet)</td></tr>
<tr class="memdesc:a60c8558e2ea02847cb872ad6513a8cb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reassign letter.  <a href="classplayer.html#a60c8558e2ea02847cb872ad6513a8cb7">More...</a><br /></td></tr>
<tr class="separator:a60c8558e2ea02847cb872ad6513a8cb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef141ae17e1b4f7975ce0792d88600d6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#aef141ae17e1b4f7975ce0792d88600d6">gunmod_remove</a> (<a class="el" href="classitem.html">item</a> &amp;gun, <a class="el" href="classitem.html">item</a> &amp;mod)</td></tr>
<tr class="memdesc:aef141ae17e1b4f7975ce0792d88600d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes gunmod after first unloading any contained ammo and returns true on success.  <a href="classplayer.html#aef141ae17e1b4f7975ce0792d88600d6">More...</a><br /></td></tr>
<tr class="separator:aef141ae17e1b4f7975ce0792d88600d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d41d8089689600e089ba046e017f0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ab3d41d8089689600e089ba046e017f0e">gunmod_add</a> (<a class="el" href="classitem.html">item</a> &amp;gun, <a class="el" href="classitem.html">item</a> &amp;mod)</td></tr>
<tr class="memdesc:ab3d41d8089689600e089ba046e017f0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts activity to install gunmod having warned user about any risk of failure or irremovable mods s.  <a href="classplayer.html#ab3d41d8089689600e089ba046e017f0e">More...</a><br /></td></tr>
<tr class="separator:ab3d41d8089689600e089ba046e017f0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4244893e087c70921dd2cd531f8bf5df"><td class="memItemLeft" align="right" valign="top">std::pair&lt; int, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a4244893e087c70921dd2cd531f8bf5df">gunmod_installation_odds</a> (const <a class="el" href="classitem.html">item</a> &amp;gun, const <a class="el" href="classitem.html">item</a> &amp;mod) const</td></tr>
<tr class="separator:a4244893e087c70921dd2cd531f8bf5df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5e3009e1ccad19cbbc7c54500c98090"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#af5e3009e1ccad19cbbc7c54500c98090">toolmod_add</a> (<a class="el" href="classitem__location.html">item_location</a> <a class="el" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>, <a class="el" href="classitem__location.html">item_location</a> mod)</td></tr>
<tr class="memdesc:af5e3009e1ccad19cbbc7c54500c98090"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts activity to install toolmod.  <a href="classplayer.html#af5e3009e1ccad19cbbc7c54500c98090">More...</a><br /></td></tr>
<tr class="separator:af5e3009e1ccad19cbbc7c54500c98090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51e8ad7ee6cea745cffabc78c7cd95e7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a51e8ad7ee6cea745cffabc78c7cd95e7">fun_to_read</a> (const <a class="el" href="classitem.html">item</a> &amp;book) const</td></tr>
<tr class="separator:a51e8ad7ee6cea745cffabc78c7cd95e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae69703500aeff2b2c9bb3e741a492f4"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#aae69703500aeff2b2c9bb3e741a492f4">has_identified</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;item_id) const =0</td></tr>
<tr class="memdesc:aae69703500aeff2b2c9bb3e741a492f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Note that we've read a book at least once.  <a href="classplayer.html#aae69703500aeff2b2c9bb3e741a492f4">More...</a><br /></td></tr>
<tr class="separator:aae69703500aeff2b2c9bb3e741a492f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a755c8e77aeb786765909fcdea856aea5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a755c8e77aeb786765909fcdea856aea5">try_to_sleep</a> (const <a class="el" href="classtime__duration.html">time_duration</a> &amp;dur=30_minutes)</td></tr>
<tr class="memdesc:a755c8e77aeb786765909fcdea856aea5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles sleep attempts by the player, starts ACT_TRY_SLEEP activity.  <a href="classplayer.html#a755c8e77aeb786765909fcdea856aea5">More...</a><br /></td></tr>
<tr class="separator:a755c8e77aeb786765909fcdea856aea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3398f0b9e51eef761822407a686378c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ab3398f0b9e51eef761822407a686378c">sleep_spot</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p) const</td></tr>
<tr class="memdesc:ab3398f0b9e51eef761822407a686378c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rate point's ability to serve as a bed.  <a href="classplayer.html#ab3398f0b9e51eef761822407a686378c">More...</a><br /></td></tr>
<tr class="separator:ab3398f0b9e51eef761822407a686378c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af79e5154c3c5c24b98701e93f30d24d8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#af79e5154c3c5c24b98701e93f30d24d8">can_sleep</a> ()</td></tr>
<tr class="memdesc:af79e5154c3c5c24b98701e93f30d24d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checked each turn during "lying_down", returns true if the player falls asleep.  <a href="classplayer.html#af79e5154c3c5c24b98701e93f30d24d8">More...</a><br /></td></tr>
<tr class="separator:af79e5154c3c5c24b98701e93f30d24d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9202ef548f32485ac763fa66319557fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a9202ef548f32485ac763fa66319557fa">calc_focus_equilibrium</a> (bool ignore_pain=false) const</td></tr>
<tr class="memdesc:a9202ef548f32485ac763fa66319557fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses morale and other factors to return the player's focus target goto value.  <a href="classplayer.html#a9202ef548f32485ac763fa66319557fa">More...</a><br /></td></tr>
<tr class="separator:a9202ef548f32485ac763fa66319557fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d8d8980786115dc4783f61002cae7a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a6d8d8980786115dc4783f61002cae7a5">calc_focus_change</a> () const</td></tr>
<tr class="memdesc:a6d8d8980786115dc4783f61002cae7a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates actual focus gain/loss value from focus equilibrium.  <a href="classplayer.html#a6d8d8980786115dc4783f61002cae7a5">More...</a><br /></td></tr>
<tr class="separator:a6d8d8980786115dc4783f61002cae7a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99160178bdf4e469221ab392a7ed0820"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a99160178bdf4e469221ab392a7ed0820">update_mental_focus</a> ()</td></tr>
<tr class="memdesc:a99160178bdf4e469221ab392a7ed0820"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses calc_focus_change to update the player's current focus.  <a href="classplayer.html#a99160178bdf4e469221ab392a7ed0820">More...</a><br /></td></tr>
<tr class="separator:a99160178bdf4e469221ab392a7ed0820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaacfc35adb15fa4e6c5fcee90d5c014"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#abaacfc35adb15fa4e6c5fcee90d5c014">reset_stats</a> () override</td></tr>
<tr class="memdesc:abaacfc35adb15fa4e6c5fcee90d5c014"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets stats, and applies effects in an idempotent manner.  <a href="classplayer.html#abaacfc35adb15fa4e6c5fcee90d5c014">More...</a><br /></td></tr>
<tr class="separator:abaacfc35adb15fa4e6c5fcee90d5c014"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a679df6703c948c0fffa835885a857f42"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a679df6703c948c0fffa835885a857f42">fine_detail_vision_mod</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p=<a class="el" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>) const</td></tr>
<tr class="memdesc:a679df6703c948c0fffa835885a857f42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a value from 1.0 to 5.0 that acts as a multiplier for the time taken to perform tasks that require detail vision, above 4.0 means these activities cannot be performed.  <a href="classplayer.html#a679df6703c948c0fffa835885a857f42">More...</a><br /></td></tr>
<tr class="separator:a679df6703c948c0fffa835885a857f42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae045a282ca91bc999a0db121a6948e2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219">hint_rating</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ae045a282ca91bc999a0db121a6948e2c">rate_action_use</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:ae045a282ca91bc999a0db121a6948e2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to determine player feedback on item use for the inventory code.  <a href="classplayer.html#ae045a282ca91bc999a0db121a6948e2c">More...</a><br /></td></tr>
<tr class="separator:ae045a282ca91bc999a0db121a6948e2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26efe081633fcbc4060e4793f5dbfff0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219">hint_rating</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a26efe081633fcbc4060e4793f5dbfff0">rate_action_wear</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:a26efe081633fcbc4060e4793f5dbfff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16a225b20a266e6ad310d00e1b831647"><td class="memItemLeft" align="right" valign="top"><a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219">hint_rating</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a16a225b20a266e6ad310d00e1b831647">rate_action_takeoff</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:a16a225b20a266e6ad310d00e1b831647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19c066b79b4653868ea364c52a68533f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219">hint_rating</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a19c066b79b4653868ea364c52a68533f">rate_action_reload</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:a19c066b79b4653868ea364c52a68533f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac004afd7213abd73b6de435d32aeb52a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219">hint_rating</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ac004afd7213abd73b6de435d32aeb52a">rate_action_unload</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:ac004afd7213abd73b6de435d32aeb52a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a006c459b1f47588d677002b513d5fd90"><td class="memItemLeft" align="right" valign="top"><a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219">hint_rating</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a006c459b1f47588d677002b513d5fd90">rate_action_mend</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:a006c459b1f47588d677002b513d5fd90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9758d0b4081f2bd2a404c0c517fd6a02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219">hint_rating</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a9758d0b4081f2bd2a404c0c517fd6a02">rate_action_disassemble</a> (const <a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="separator:a9758d0b4081f2bd2a404c0c517fd6a02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1827f3e149c8cbbfdf6ba1803cbf80d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ae1827f3e149c8cbbfdf6ba1803cbf80d">add_faction_warning</a> (const <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;<a class="el" href="classCharacter.html#a8d0ef1736a17d274868b515b184a820d">id</a>)</td></tr>
<tr class="separator:ae1827f3e149c8cbbfdf6ba1803cbf80d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88a82cf73a3978f516e1e0bdc11dc5ec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a88a82cf73a3978f516e1e0bdc11dc5ec">current_warnings_fac</a> (const <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;<a class="el" href="classCharacter.html#a8d0ef1736a17d274868b515b184a820d">id</a>)</td></tr>
<tr class="separator:a88a82cf73a3978f516e1e0bdc11dc5ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af97ad12737b2d639c6c7249043b346ac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#af97ad12737b2d639c6c7249043b346ac">beyond_final_warning</a> (const <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;<a class="el" href="classCharacter.html#a8d0ef1736a17d274868b515b184a820d">id</a>)</td></tr>
<tr class="separator:af97ad12737b2d639c6c7249043b346ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7f549cbcbbca36c3a0fc9f75865b3a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structstat__mod.html">stat_mod</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ac7f549cbcbbca36c3a0fc9f75865b3a4">get_pain_penalty</a> () const</td></tr>
<tr class="memdesc:ac7f549cbcbbca36c3a0fc9f75865b3a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the effect of pain on stats.  <a href="classplayer.html#ac7f549cbcbbca36c3a0fc9f75865b3a4">More...</a><br /></td></tr>
<tr class="separator:ac7f549cbcbbca36c3a0fc9f75865b3a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f726b620ef0ada3e6c5e2d2dfca635d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a9f726b620ef0ada3e6c5e2d2dfca635d">kcal_speed_penalty</a> () const</td></tr>
<tr class="separator:a9f726b620ef0ada3e6c5e2d2dfca635d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa57c61de29a5e410c100aee07798b9b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a> (const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;<a class="el" href="classCharacter.html#a8d0ef1736a17d274868b515b184a820d">id</a>, int amount, int cap=99, bool suppress_warning=false)</td></tr>
<tr class="memdesc:aa57c61de29a5e410c100aee07798b9b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This handles giving xp for a skill.  <a href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">More...</a><br /></td></tr>
<tr class="separator:aa57c61de29a5e410c100aee07798b9b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38b184076f4431dd9f0a2b5a2ef42544"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a38b184076f4431dd9f0a2b5a2ef42544">handle_skill_warning</a> (const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;<a class="el" href="classCharacter.html#a8d0ef1736a17d274868b515b184a820d">id</a>, bool force_warning=false)</td></tr>
<tr class="memdesc:a38b184076f4431dd9f0a2b5a2ef42544"><td class="mdescLeft">&#160;</td><td class="mdescRight">This handles warning the player that there current activity will not give them xp.  <a href="classplayer.html#a38b184076f4431dd9f0a2b5a2ef42544">More...</a><br /></td></tr>
<tr class="separator:a38b184076f4431dd9f0a2b5a2ef42544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82954dab20066baf77d77106bf5d7a3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a82954dab20066baf77d77106bf5d7a3d">on_worn_item_transform</a> (const <a class="el" href="classitem.html">item</a> &amp;old_it, const <a class="el" href="classitem.html">item</a> &amp;new_it)</td></tr>
<tr class="separator:a82954dab20066baf77d77106bf5d7a3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cbe3da3a5ba447b31ba5f00faf40c26"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a4cbe3da3a5ba447b31ba5f00faf40c26">weapname</a> () const</td></tr>
<tr class="memdesc:a4cbe3da3a5ba447b31ba5f00faf40c26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the formatted name of the currently wielded item (if any) with current gun mode (if gun)  <a href="classplayer.html#a4cbe3da3a5ba447b31ba5f00faf40c26">More...</a><br /></td></tr>
<tr class="separator:a4cbe3da3a5ba447b31ba5f00faf40c26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53fed4109f94db9842d86d982f291a10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a53fed4109f94db9842d86d982f291a10">process_items</a> ()</td></tr>
<tr class="separator:a53fed4109f94db9842d86d982f291a10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e999634841db6a6af22f65d06abf4e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a7e999634841db6a6af22f65d06abf4e5">reduce_charges</a> (int <a class="el" href="classCharacter.html#a637149a8ac278a0533a6bb36f31e947e">position</a>, int quantity)</td></tr>
<tr class="memdesc:a7e999634841db6a6af22f65d06abf4e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove charges from a specific item (given by its item position).  <a href="classplayer.html#a7e999634841db6a6af22f65d06abf4e5">More...</a><br /></td></tr>
<tr class="separator:a7e999634841db6a6af22f65d06abf4e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19f5c3adb7e0ee6dd64e088c163f5a95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a19f5c3adb7e0ee6dd64e088c163f5a95">reduce_charges</a> (<a class="el" href="classitem.html">item</a> *it, int quantity)</td></tr>
<tr class="memdesc:a19f5c3adb7e0ee6dd64e088c163f5a95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove charges from a specific item (given by a pointer to it).  <a href="classplayer.html#a19f5c3adb7e0ee6dd64e088c163f5a95">More...</a><br /></td></tr>
<tr class="separator:a19f5c3adb7e0ee6dd64e088c163f5a95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae96b5036f9c88020817edc70c6906d6c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ae96b5036f9c88020817edc70c6906d6c">can_interface_armor</a> () const</td></tr>
<tr class="memdesc:ae96b5036f9c88020817edc70c6906d6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether player has a bionic power armor interface.  <a href="classplayer.html#ae96b5036f9c88020817edc70c6906d6c">More...</a><br /></td></tr>
<tr class="separator:ae96b5036f9c88020817edc70c6906d6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53329f7bd0de15ab927b18f7eeed45b9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a53329f7bd0de15ab927b18f7eeed45b9">has_mission_item</a> (int mission_id) const</td></tr>
<tr class="separator:a53329f7bd0de15ab927b18f7eeed45b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab53fe4c2fb2876d837f88abe6e7b505a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ab53fe4c2fb2876d837f88abe6e7b505a">has_gun_for_ammo</a> (const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> &amp;at) const</td></tr>
<tr class="memdesc:ab53fe4c2fb2876d837f88abe6e7b505a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether the player has a gun that uses the given type of ammo.  <a href="classplayer.html#ab53fe4c2fb2876d837f88abe6e7b505a">More...</a><br /></td></tr>
<tr class="separator:ab53fe4c2fb2876d837f88abe6e7b505a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c9f776a11906ac1bb7e60b95cf619ac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a8c9f776a11906ac1bb7e60b95cf619ac">has_magazine_for_ammo</a> (const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> &amp;at) const</td></tr>
<tr class="separator:a8c9f776a11906ac1bb7e60b95cf619ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4184fe8a21d73194f782cc48c798f60"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#aa4184fe8a21d73194f782cc48c798f60">has_recipe</a> (const <a class="el" href="classrecipe.html">recipe</a> *r, const <a class="el" href="classinventory.html">inventory</a> &amp;crafting_inv, const std::vector&lt; <a class="el" href="classnpc.html">npc</a> * &gt; &amp;helpers) const</td></tr>
<tr class="separator:aa4184fe8a21d73194f782cc48c798f60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc8b110d8e655cfc6d27b7bdc67fab3b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#abc8b110d8e655cfc6d27b7bdc67fab3b">knows_recipe</a> (const <a class="el" href="classrecipe.html">recipe</a> *rec) const</td></tr>
<tr class="separator:abc8b110d8e655cfc6d27b7bdc67fab3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2258c1cee5a8603dbe0bedaa3cd52383"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a2258c1cee5a8603dbe0bedaa3cd52383">learn_recipe</a> (const <a class="el" href="classrecipe.html">recipe</a> *rec)</td></tr>
<tr class="separator:a2258c1cee5a8603dbe0bedaa3cd52383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2032d28e8d6dd731cc838e30e709c2a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ac2032d28e8d6dd731cc838e30e709c2a">exceeds_recipe_requirements</a> (const <a class="el" href="classrecipe.html">recipe</a> &amp;rec) const</td></tr>
<tr class="separator:ac2032d28e8d6dd731cc838e30e709c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7de4e27c52a5b8c08b91ec54bb28c8b9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a7de4e27c52a5b8c08b91ec54bb28c8b9">has_recipe_requirements</a> (const <a class="el" href="classrecipe.html">recipe</a> &amp;rec) const</td></tr>
<tr class="separator:a7de4e27c52a5b8c08b91ec54bb28c8b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a010e76e9611050acd16e0753ee8b492b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a010e76e9611050acd16e0753ee8b492b">can_decomp_learn</a> (const <a class="el" href="classrecipe.html">recipe</a> &amp;rec) const</td></tr>
<tr class="separator:a010e76e9611050acd16e0753ee8b492b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c7fb735b20f0ca0fa641c0f990a67b0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a5c7fb735b20f0ca0fa641c0f990a67b0">studied_all_recipes</a> (const <a class="el" href="structitype.html">itype</a> &amp;book) const</td></tr>
<tr class="separator:a5c7fb735b20f0ca0fa641c0f990a67b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a774d62f7d266fb6816af6f937c94d66f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classrecipe__subset.html">recipe_subset</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a774d62f7d266fb6816af6f937c94d66f">get_learned_recipes</a> () const</td></tr>
<tr class="memdesc:a774d62f7d266fb6816af6f937c94d66f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all known recipes.  <a href="classplayer.html#a774d62f7d266fb6816af6f937c94d66f">More...</a><br /></td></tr>
<tr class="separator:a774d62f7d266fb6816af6f937c94d66f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd383103570b8a0ff02409d6bd85dca2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrecipe__subset.html">recipe_subset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#abd383103570b8a0ff02409d6bd85dca2">get_recipes_from_books</a> (const <a class="el" href="classinventory.html">inventory</a> &amp;crafting_inv, <a class="el" href="player_8h.html#ae2615a93a91e7d03895ae911437aec6f">recipe_filter</a> filter=nullptr) const</td></tr>
<tr class="memdesc:abd383103570b8a0ff02409d6bd85dca2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all recipes that are known from the books (either in inventory or nearby).  <a href="classplayer.html#abd383103570b8a0ff02409d6bd85dca2">More...</a><br /></td></tr>
<tr class="separator:abd383103570b8a0ff02409d6bd85dca2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd7dbcb2cb20ee59903ffbd4d10d3f63"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrecipe__subset.html">recipe_subset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#abd7dbcb2cb20ee59903ffbd4d10d3f63">get_available_recipes</a> (const <a class="el" href="classinventory.html">inventory</a> &amp;crafting_inv, const std::vector&lt; <a class="el" href="classnpc.html">npc</a> * &gt; *helpers=nullptr, <a class="el" href="player_8h.html#ae2615a93a91e7d03895ae911437aec6f">recipe_filter</a> filter=nullptr) const</td></tr>
<tr class="memdesc:abd7dbcb2cb20ee59903ffbd4d10d3f63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all available recipes (from books and npc companions)  <a href="classplayer.html#abd7dbcb2cb20ee59903ffbd4d10d3f63">More...</a><br /></td></tr>
<tr class="separator:abd7dbcb2cb20ee59903ffbd4d10d3f63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcc5c1d87d4731a1c998dda2ce995a9f"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#abcc5c1d87d4731a1c998dda2ce995a9f">morale_crafting_speed_multiplier</a> (const <a class="el" href="classrecipe.html">recipe</a> &amp;rec) const</td></tr>
<tr class="separator:abcc5c1d87d4731a1c998dda2ce995a9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ee047b1912857bcc83e625f1ac377f7"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a8ee047b1912857bcc83e625f1ac377f7">lighting_craft_speed_multiplier</a> (const <a class="el" href="classrecipe.html">recipe</a> &amp;rec) const</td></tr>
<tr class="separator:a8ee047b1912857bcc83e625f1ac377f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39537c9669f9a81b8ac7e52ea9aae0dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a39537c9669f9a81b8ac7e52ea9aae0dd">available_assistant_count</a> (const <a class="el" href="classrecipe.html">recipe</a> &amp;rec) const</td></tr>
<tr class="memdesc:a39537c9669f9a81b8ac7e52ea9aae0dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">For use with in progress crafts.  <a href="classplayer.html#a39537c9669f9a81b8ac7e52ea9aae0dd">More...</a><br /></td></tr>
<tr class="separator:a39537c9669f9a81b8ac7e52ea9aae0dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eb30a8d6bfec2c190e360f9c14d69b0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a1eb30a8d6bfec2c190e360f9c14d69b0">base_time_to_craft</a> (const <a class="el" href="classrecipe.html">recipe</a> &amp;rec, int batch_size=1) const</td></tr>
<tr class="memdesc:a1eb30a8d6bfec2c190e360f9c14d69b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time to craft not including speed multiplier.  <a href="classplayer.html#a1eb30a8d6bfec2c190e360f9c14d69b0">More...</a><br /></td></tr>
<tr class="separator:a1eb30a8d6bfec2c190e360f9c14d69b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47643481404290e193c63aee98cc77e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a47643481404290e193c63aee98cc77e4">expected_time_to_craft</a> (const <a class="el" href="classrecipe.html">recipe</a> &amp;rec, int batch_size=1, bool in_progress=false) const</td></tr>
<tr class="memdesc:a47643481404290e193c63aee98cc77e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expected time to craft a recipe, with assumption that multipliers stay constant.  <a href="classplayer.html#a47643481404290e193c63aee98cc77e4">More...</a><br /></td></tr>
<tr class="separator:a47643481404290e193c63aee98cc77e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacd5b90342a774ecd1d7c5d19205bb07"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#aacd5b90342a774ecd1d7c5d19205bb07">get_eligible_containers_for_crafting</a> () const</td></tr>
<tr class="separator:aacd5b90342a774ecd1d7c5d19205bb07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7de6a67bf992674f83642a4f67cffdba"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a7de6a67bf992674f83642a4f67cffdba">check_eligible_containers_for_crafting</a> (const <a class="el" href="classrecipe.html">recipe</a> &amp;rec, int batch_size=1) const</td></tr>
<tr class="separator:a7de6a67bf992674f83642a4f67cffdba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2503f9e57c828ffa03aa68b3b19e0323"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a2503f9e57c828ffa03aa68b3b19e0323">can_make</a> (const <a class="el" href="classrecipe.html">recipe</a> *r, int batch_size=1)</td></tr>
<tr class="separator:a2503f9e57c828ffa03aa68b3b19e0323"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeccf7317f1d8fd8bee4571d9812b8f5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#afeccf7317f1d8fd8bee4571d9812b8f5">can_start_craft</a> (const <a class="el" href="classrecipe.html">recipe</a> *rec, <a class="el" href="recipe_8h.html#a6409b244d953153c56933adfbdc71b81">recipe_filter_flags</a>, int batch_size=1)</td></tr>
<tr class="memdesc:afeccf7317f1d8fd8bee4571d9812b8f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player can start crafting the recipe with the given batch size The player is not required to have enough tool charges to finish crafting, only to complete the first step (total / 20 + total % 20 charges)  <a href="classplayer.html#afeccf7317f1d8fd8bee4571d9812b8f5">More...</a><br /></td></tr>
<tr class="separator:afeccf7317f1d8fd8bee4571d9812b8f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65db2a7d8271e4f84d3d7a504baf2af4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a65db2a7d8271e4f84d3d7a504baf2af4">making_would_work</a> (const <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a> &amp;id_to_make, int batch_size)</td></tr>
<tr class="separator:a65db2a7d8271e4f84d3d7a504baf2af4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aa852d005e0aea1715af75ba518c489"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;loc=<a class="el" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>)</td></tr>
<tr class="memdesc:a7aa852d005e0aea1715af75ba518c489"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start various types of crafts.  <a href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">More...</a><br /></td></tr>
<tr class="separator:a7aa852d005e0aea1715af75ba518c489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3ed7f777d0304aabe7dbcac8a465979"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#af3ed7f777d0304aabe7dbcac8a465979">recraft</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;loc=<a class="el" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>)</td></tr>
<tr class="separator:af3ed7f777d0304aabe7dbcac8a465979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7122e51039149f9c71b6801bc8f0b6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#af7122e51039149f9c71b6801bc8f0b6c">long_craft</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;loc=<a class="el" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>)</td></tr>
<tr class="separator:af7122e51039149f9c71b6801bc8f0b6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa95d2a2e290fde49ab1580a1324c9c90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#aa95d2a2e290fde49ab1580a1324c9c90">make_craft</a> (const <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a> &amp;<a class="el" href="classCharacter.html#a8d0ef1736a17d274868b515b184a820d">id</a>, int batch_size, const <a class="el" href="structtripoint.html">tripoint</a> &amp;loc=<a class="el" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>)</td></tr>
<tr class="separator:aa95d2a2e290fde49ab1580a1324c9c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae24110c95fd199a4e2877d68b18365"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a8ae24110c95fd199a4e2877d68b18365">make_all_craft</a> (const <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a> &amp;<a class="el" href="classCharacter.html#a8d0ef1736a17d274868b515b184a820d">id</a>, int batch_size, const <a class="el" href="structtripoint.html">tripoint</a> &amp;loc=<a class="el" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>)</td></tr>
<tr class="separator:a8ae24110c95fd199a4e2877d68b18365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff69a2ab90c5c4c209d40ddaa5f345f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem__location.html">item_location</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#aff69a2ab90c5c4c209d40ddaa5f345f2">start_craft</a> (<a class="el" href="classcraft__command.html">craft_command</a> &amp;command, const <a class="el" href="structtripoint.html">tripoint</a> &amp;loc)</td></tr>
<tr class="memdesc:aff69a2ab90c5c4c209d40ddaa5f345f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">consume components and create an active, in progress craft containing them  <a href="classplayer.html#aff69a2ab90c5c4c209d40ddaa5f345f2">More...</a><br /></td></tr>
<tr class="separator:aff69a2ab90c5c4c209d40ddaa5f345f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeab8d12218640d360a89b3dfccebc9c8"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#aeab8d12218640d360a89b3dfccebc9c8">crafting_success_roll</a> (const <a class="el" href="classrecipe.html">recipe</a> &amp;making) const</td></tr>
<tr class="memdesc:aeab8d12218640d360a89b3dfccebc9c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate a value representing the success of the player at crafting the given recipe, taking player skill, recipe difficulty, npc helpers, and player mutations into account.  <a href="classplayer.html#aeab8d12218640d360a89b3dfccebc9c8">More...</a><br /></td></tr>
<tr class="separator:aeab8d12218640d360a89b3dfccebc9c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b76ffb136ac45068a15eca83a71b279"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a9b76ffb136ac45068a15eca83a71b279">can_continue_craft</a> (<a class="el" href="classitem.html">item</a> &amp;<a class="el" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>)</td></tr>
<tr class="memdesc:a9b76ffb136ac45068a15eca83a71b279"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the player meets the requirements to continue the in progress craft and if unable to continue print messages explaining the reason.  <a href="classplayer.html#a9b76ffb136ac45068a15eca83a71b279">More...</a><br /></td></tr>
<tr class="separator:a9b76ffb136ac45068a15eca83a71b279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ca63c0414c6b4ea34691ef1f4f40047"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classnpc.html">npc</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a1ca63c0414c6b4ea34691ef1f4f40047">get_crafting_helpers</a> (size_t max=0) const</td></tr>
<tr class="memdesc:a1ca63c0414c6b4ea34691ef1f4f40047"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns nearby NPCs ready and willing to help with crafting or some other manual task.  <a href="classplayer.html#a1ca63c0414c6b4ea34691ef1f4f40047">More...</a><br /></td></tr>
<tr class="separator:a1ca63c0414c6b4ea34691ef1f4f40047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a809cd0c318adcff86e150e44bff0ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a0a809cd0c318adcff86e150e44bff0ff">craft_skill_gain</a> (const <a class="el" href="classitem.html">item</a> &amp;<a class="el" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>, const int &amp;multiplier)</td></tr>
<tr class="memdesc:a0a809cd0c318adcff86e150e44bff0ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle skill gain for player and followers during crafting.  <a href="classplayer.html#a0a809cd0c318adcff86e150e44bff0ff">More...</a><br /></td></tr>
<tr class="separator:a0a809cd0c318adcff86e150e44bff0ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a326ca5eed7a942d13b5a21d0c4729785"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classret__val.html">ret_val</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a326ca5eed7a942d13b5a21d0c4729785">can_disassemble</a> (const <a class="el" href="classitem.html">item</a> &amp;obj, const <a class="el" href="classinventory.html">inventory</a> &amp;<a class="el" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>) const</td></tr>
<tr class="memdesc:a326ca5eed7a942d13b5a21d0c4729785"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the player can disassemble an item using the current crafting inventory.  <a href="classplayer.html#a326ca5eed7a942d13b5a21d0c4729785">More...</a><br /></td></tr>
<tr class="separator:a326ca5eed7a942d13b5a21d0c4729785"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9da31740010570cb21b47ca70885d48"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#aa9da31740010570cb21b47ca70885d48">disassemble</a> ()</td></tr>
<tr class="separator:aa9da31740010570cb21b47ca70885d48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a73392221e3db0e2b4264235ab6617c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a4a73392221e3db0e2b4264235ab6617c">disassemble</a> (<a class="el" href="classitem__location.html">item_location</a> target, bool interactive=true)</td></tr>
<tr class="separator:a4a73392221e3db0e2b4264235ab6617c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00dc9fb0c8c19b9ff2a43f083967079f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a00dc9fb0c8c19b9ff2a43f083967079f">disassemble_all</a> (bool one_pass)</td></tr>
<tr class="separator:a00dc9fb0c8c19b9ff2a43f083967079f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1c2d2666f11633988582a4dbe8a4063"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#af1c2d2666f11633988582a4dbe8a4063">complete_disassemble</a> ()</td></tr>
<tr class="separator:af1c2d2666f11633988582a4dbe8a4063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb97666728df699a74ece656d95578bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#acb97666728df699a74ece656d95578bf">complete_disassemble</a> (<a class="el" href="classitem__location.html">item_location</a> &amp;target, const <a class="el" href="classrecipe.html">recipe</a> &amp;dis)</td></tr>
<tr class="separator:acb97666728df699a74ece656d95578bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4a36bf0591e40b36cc470758ff0340a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structrequirement__data.html">requirement_data</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ac4a36bf0591e40b36cc470758ff0340a">select_requirements</a> (const std::vector&lt; const <a class="el" href="structrequirement__data.html">requirement_data</a> * &gt; &amp;, int batch, const <a class="el" href="classinventory.html">inventory</a> &amp;, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter) const</td></tr>
<tr class="separator:ac4a36bf0591e40b36cc470758ff0340a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b2038d8060c04bb5bfa88204ff5d82a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcomp__selection.html">comp_selection</a>&lt; <a class="el" href="structitem__comp.html">item_comp</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a1b2038d8060c04bb5bfa88204ff5d82a">select_item_component</a> (const std::vector&lt; <a class="el" href="structitem__comp.html">item_comp</a> &gt; &amp;components, int batch, <a class="el" href="classinventory.html">inventory</a> &amp;map_inv, bool can_cancel=false, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;, bool player_inv=true)</td></tr>
<tr class="separator:a1b2038d8060c04bb5bfa88204ff5d82a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1f5e6d21b83313ab148302140083b99"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ad1f5e6d21b83313ab148302140083b99">consume_items</a> (const <a class="el" href="structcomp__selection.html">comp_selection</a>&lt; <a class="el" href="structitem__comp.html">item_comp</a> &gt; &amp;is, int batch, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;)</td></tr>
<tr class="separator:ad1f5e6d21b83313ab148302140083b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c7587cfa25f9cb0abd0139243e058eb"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a3c7587cfa25f9cb0abd0139243e058eb">consume_items</a> (<a class="el" href="classmap.html">map</a> &amp;m, const <a class="el" href="structcomp__selection.html">comp_selection</a>&lt; <a class="el" href="structitem__comp.html">item_comp</a> &gt; &amp;is, int batch, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;, const <a class="el" href="structtripoint.html">tripoint</a> &amp;origin=<a class="el" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>, int radius=<a class="el" href="cached__options_8h.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a>)</td></tr>
<tr class="separator:a3c7587cfa25f9cb0abd0139243e058eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f2e5a756ff676c4169332cd90cb5da4"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a7f2e5a756ff676c4169332cd90cb5da4">consume_items</a> (const std::vector&lt; <a class="el" href="structitem__comp.html">item_comp</a> &gt; &amp;components, int batch=1, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;)</td></tr>
<tr class="separator:a7f2e5a756ff676c4169332cd90cb5da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1870b748c0c70bbc649eb822dd72954a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a1870b748c0c70bbc649eb822dd72954a">craft_consume_tools</a> (<a class="el" href="classitem.html">item</a> &amp;<a class="el" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>, int mulitplier, bool <a class="el" href="classplayer.html#aff69a2ab90c5c4c209d40ddaa5f345f2">start_craft</a>)</td></tr>
<tr class="memdesc:a1870b748c0c70bbc649eb822dd72954a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Consume tools for the next multiplier * 5% progress of the craft.  <a href="classplayer.html#a1870b748c0c70bbc649eb822dd72954a">More...</a><br /></td></tr>
<tr class="separator:a1870b748c0c70bbc649eb822dd72954a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafa6cc2db2568af687ab21f09f8e4c2e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#aafa6cc2db2568af687ab21f09f8e4c2e">consume_tools</a> (const <a class="el" href="structcomp__selection.html">comp_selection</a>&lt; <a class="el" href="structtool__comp.html">tool_comp</a> &gt; &amp;<a class="el" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>, int batch)</td></tr>
<tr class="separator:aafa6cc2db2568af687ab21f09f8e4c2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e3d8db54896187d0c95223d290e2585"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a9e3d8db54896187d0c95223d290e2585">consume_tools</a> (<a class="el" href="classmap.html">map</a> &amp;m, const <a class="el" href="structcomp__selection.html">comp_selection</a>&lt; <a class="el" href="structtool__comp.html">tool_comp</a> &gt; &amp;<a class="el" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>, int batch, const <a class="el" href="structtripoint.html">tripoint</a> &amp;origin=<a class="el" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>, int radius=<a class="el" href="cached__options_8h.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a>, <a class="el" href="classbasecamp.html">basecamp</a> *bcp=nullptr)</td></tr>
<tr class="separator:a9e3d8db54896187d0c95223d290e2585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8de62c320c0832d24228930cf21f8557"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a8de62c320c0832d24228930cf21f8557">consume_tools</a> (const std::vector&lt; <a class="el" href="structtool__comp.html">tool_comp</a> &gt; &amp;tools, int batch=1, const std::string &amp;hotkeys=<a class="el" href="player_8h.html#a105a2bc78dff70bdbdc683b88b2f5351">DEFAULT_HOTKEYS</a>)</td></tr>
<tr class="separator:a8de62c320c0832d24228930cf21f8557"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8082decee5acb38dc6e35e0c1823c3c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ae8082decee5acb38dc6e35e0c1823c3c">make_craft_with_command</a> (const <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a> &amp;id_to_make, int batch_size, bool is_long=false, const <a class="el" href="structtripoint.html">tripoint</a> &amp;loc=<a class="el" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>)</td></tr>
<tr class="separator:ae8082decee5acb38dc6e35e0c1823c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d4ff6f5e604d64d8b82650f0673ccdd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a2d4ff6f5e604d64d8b82650f0673ccdd">mod_stat</a> (const std::string &amp;stat, float modifier) override</td></tr>
<tr class="separator:a2d4ff6f5e604d64d8b82650f0673ccdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2fbd86dfd2406eeca14185fdf1c2868"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ae2fbd86dfd2406eeca14185fdf1c2868">set_underwater</a> (bool)</td></tr>
<tr class="separator:ae2fbd86dfd2406eeca14185fdf1c2868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad155441e037e0e038014fca58d93bc4e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ad155441e037e0e038014fca58d93bc4e">is_hallucination</a> () const override</td></tr>
<tr class="separator:ad155441e037e0e038014fca58d93bc4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a658ed278951f4cd052b928ff76f151af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a658ed278951f4cd052b928ff76f151af">environmental_revert_effect</a> ()</td></tr>
<tr class="separator:a658ed278951f4cd052b928ff76f151af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7009d849f19a4f5ebe877cbe463c459"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a> (const std::string &amp;msg) const override</td></tr>
<tr class="separator:ae7009d849f19a4f5ebe877cbe463c459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa8ba8aef24a8b4ece3678cd32309d89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#afa8ba8aef24a8b4ece3678cd32309d89">add_msg_if_player</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const std::string &amp;msg) const override</td></tr>
<tr class="separator:afa8ba8aef24a8b4ece3678cd32309d89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07108565639fa6fe5b6776b4e8674fb6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a> (const std::string &amp;player_msg, const std::string &amp;npc_str) const override</td></tr>
<tr class="separator:a07108565639fa6fe5b6776b4e8674fb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85718e842797f36394e6b4ec5916a1ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a85718e842797f36394e6b4ec5916a1ab">add_msg_player_or_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const std::string &amp;player_msg, const std::string &amp;npc_msg) const override</td></tr>
<tr class="separator:a85718e842797f36394e6b4ec5916a1ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcbd1476690aeb6a2b8de82e9e7a9cee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#afcbd1476690aeb6a2b8de82e9e7a9cee">add_msg_player_or_say</a> (const std::string &amp;player_msg, const std::string &amp;npc_speech) const override</td></tr>
<tr class="separator:afcbd1476690aeb6a2b8de82e9e7a9cee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af49b8304d815bcc9eb6737c940b3c5ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#af49b8304d815bcc9eb6737c940b3c5ed">add_msg_player_or_say</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const std::string &amp;player_msg, const std::string &amp;npc_speech) const override</td></tr>
<tr class="separator:af49b8304d815bcc9eb6737c940b3c5ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a874226a0510cd9cee887c2c2c79dff11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a874226a0510cd9cee887c2c2c79dff11">search_surroundings</a> ()</td></tr>
<tr class="memdesc:a874226a0510cd9cee887c2c2c79dff11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search surrounding squares for traps (and maybe other things in the future).  <a href="classplayer.html#a874226a0510cd9cee887c2c2c79dff11">More...</a><br /></td></tr>
<tr class="separator:a874226a0510cd9cee887c2c2c79dff11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63f4a05fec27ce5d58d750f273ddf4ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a63f4a05fec27ce5d58d750f273ddf4ea">print_encumbrance</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;win, int <a class="el" href="mapgen_8h.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a>=-1, const <a class="el" href="classitem.html">item</a> *selected_clothing=nullptr) const</td></tr>
<tr class="separator:a63f4a05fec27ce5d58d750f273ddf4ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a341f7f0dc2d439c0aa12e55fb29d87a6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a> (const std::string &amp;mes) const override</td></tr>
<tr class="separator:a341f7f0dc2d439c0aa12e55fb29d87a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d834bb8130bbe9689b8cc19190d3ea7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a1d834bb8130bbe9689b8cc19190d3ea7">disarm</a> (<a class="el" href="classnpc.html">npc</a> &amp;target)</td></tr>
<tr class="memdesc:a1d834bb8130bbe9689b8cc19190d3ea7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to disarm the NPC.  <a href="classplayer.html#a1d834bb8130bbe9689b8cc19190d3ea7">More...</a><br /></td></tr>
<tr class="separator:a1d834bb8130bbe9689b8cc19190d3ea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a358731acbb8b137aa540bb8d49109ca3"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a358731acbb8b137aa540bb8d49109ca3"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classplayer.html#a358731acbb8b137aa540bb8d49109ca3">query_yn</a> (const char *const msg, Args &amp;&amp;... args) const</td></tr>
<tr class="memdesc:a358731acbb8b137aa540bb8d49109ca3"><td class="mdescLeft">&#160;</td><td class="mdescRight">It is supposed to hide the query_yn to simplify player vs.  <a href="classplayer.html#a358731acbb8b137aa540bb8d49109ca3">More...</a><br /></td></tr>
<tr class="separator:a358731acbb8b137aa540bb8d49109ca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cf703e3582ab38ec9eda6fd38d67328"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a6cf703e3582ab38ec9eda6fd38d67328">query_yn</a> (const std::string &amp;msg) const=0</td></tr>
<tr class="separator:a6cf703e3582ab38ec9eda6fd38d67328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classCharacter"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classCharacter')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classCharacter.html">Character</a></td></tr>
<tr class="memitem:a7df885690caa12d42a1d730866cfe0e3 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7df885690caa12d42a1d730866cfe0e3">Character</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;)=delete</td></tr>
<tr class="separator:a7df885690caa12d42a1d730866cfe0e3 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b436576f41e3bc40f4478b3ae7d7f97 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2b436576f41e3bc40f4478b3ae7d7f97">operator=</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;)=delete</td></tr>
<tr class="separator:a2b436576f41e3bc40f4478b3ae7d7f97 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e399f512bf22a9e8558a4bae1ec9555 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5e399f512bf22a9e8558a4bae1ec9555">~Character</a> () override</td></tr>
<tr class="separator:a5e399f512bf22a9e8558a4bae1ec9555 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfe0b911702d5c0be6babacd1b23f4c0 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCharacter.html">Character</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#adfe0b911702d5c0be6babacd1b23f4c0">as_character</a> () override</td></tr>
<tr class="separator:adfe0b911702d5c0be6babacd1b23f4c0 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89431fef811081217fb832b10ee018d0 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classCharacter.html">Character</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a89431fef811081217fb832b10ee018d0">as_character</a> () const override</td></tr>
<tr class="separator:a89431fef811081217fb832b10ee018d0 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb54bdcb284abb66b6be99c8ae225065 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcharacter__id.html">character_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a> () const</td></tr>
<tr class="separator:adb54bdcb284abb66b6be99c8ae225065 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37b90d2dba9c6779d06e4b44e8884681 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a37b90d2dba9c6779d06e4b44e8884681">setID</a> (<a class="el" href="classcharacter__id.html">character_id</a> i, bool force=false)</td></tr>
<tr class="separator:a37b90d2dba9c6779d06e4b44e8884681 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0673cf3c18511cb38c23f2f02b4641f8 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a2a56520b7eef7294fc98230cb883c9d2">field_type_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0673cf3c18511cb38c23f2f02b4641f8">bloodType</a> () const override</td></tr>
<tr class="separator:a0673cf3c18511cb38c23f2f02b4641f8 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcc2e85bcf23adcedf6ba076dcc8ecfb inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a2a56520b7eef7294fc98230cb883c9d2">field_type_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#adcc2e85bcf23adcedf6ba076dcc8ecfb">gibType</a> () const override</td></tr>
<tr class="separator:adcc2e85bcf23adcedf6ba076dcc8ecfb inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81d4f84e1f3b9c35cc5e222dd549c887 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a81d4f84e1f3b9c35cc5e222dd549c887">is_warm</a> () const override</td></tr>
<tr class="separator:a81d4f84e1f3b9c35cc5e222dd549c887 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a537b11f812cc4138b7bbc723e7673a6f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a537b11f812cc4138b7bbc723e7673a6f">in_species</a> (const <a class="el" href="type__id_8h.html#aabb3ae1a3aec00a1aa497b29c81ed527">species_id</a> &amp;spec) const override</td></tr>
<tr class="separator:a537b11f812cc4138b7bbc723e7673a6f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad19243d81ad7ecca4e08055128f11f70 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad19243d81ad7ecca4e08055128f11f70">symbol</a> () const override</td></tr>
<tr class="separator:ad19243d81ad7ecca4e08055128f11f70 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aba683ccf77cb560a0a932308289bd9 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5aba683ccf77cb560a0a932308289bd9">get_str</a> () const</td></tr>
<tr class="memdesc:a5aba683ccf77cb560a0a932308289bd9 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getters for stats exclusive to characters.  <a href="classCharacter.html#a5aba683ccf77cb560a0a932308289bd9">More...</a><br /></td></tr>
<tr class="separator:a5aba683ccf77cb560a0a932308289bd9 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34a927d0f161ac92ab0d462397828bd5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a34a927d0f161ac92ab0d462397828bd5">get_dex</a> () const</td></tr>
<tr class="separator:a34a927d0f161ac92ab0d462397828bd5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb0a1847902e6db0bd3c923ee8187702 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#abb0a1847902e6db0bd3c923ee8187702">get_per</a> () const</td></tr>
<tr class="separator:abb0a1847902e6db0bd3c923ee8187702 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a588d5cc1d729490552fe03b006685ae5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a588d5cc1d729490552fe03b006685ae5">get_int</a> () const</td></tr>
<tr class="separator:a588d5cc1d729490552fe03b006685ae5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9355007f0604df379188fd7d0a1c1f5b inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9355007f0604df379188fd7d0a1c1f5b">get_str_base</a> () const</td></tr>
<tr class="separator:a9355007f0604df379188fd7d0a1c1f5b inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a987fc5377b49392d7ba36074aa4baf54 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a987fc5377b49392d7ba36074aa4baf54">get_dex_base</a> () const</td></tr>
<tr class="separator:a987fc5377b49392d7ba36074aa4baf54 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae64323ba594938757c2c080ca1f0b41e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae64323ba594938757c2c080ca1f0b41e">get_per_base</a> () const</td></tr>
<tr class="separator:ae64323ba594938757c2c080ca1f0b41e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4012d9dd5043af5c3a765e4edbb4a88 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af4012d9dd5043af5c3a765e4edbb4a88">get_int_base</a> () const</td></tr>
<tr class="separator:af4012d9dd5043af5c3a765e4edbb4a88 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a035582952cd5e19963a5609585c314a9 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a035582952cd5e19963a5609585c314a9">get_str_bonus</a> () const</td></tr>
<tr class="separator:a035582952cd5e19963a5609585c314a9 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeeecb20f5d89598619b8948c2e8a0e0 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#afeeecb20f5d89598619b8948c2e8a0e0">get_dex_bonus</a> () const</td></tr>
<tr class="separator:afeeecb20f5d89598619b8948c2e8a0e0 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf5583cbfc563f3a6a1ba708fc72bea9 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#acf5583cbfc563f3a6a1ba708fc72bea9">get_per_bonus</a> () const</td></tr>
<tr class="separator:acf5583cbfc563f3a6a1ba708fc72bea9 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa792d074ba8c8dc291e410cbbb27f292 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa792d074ba8c8dc291e410cbbb27f292">get_int_bonus</a> () const</td></tr>
<tr class="separator:aa792d074ba8c8dc291e410cbbb27f292 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedc66fc50d352420cae7791b4a0f57f7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aedc66fc50d352420cae7791b4a0f57f7">get_speed</a> () const override</td></tr>
<tr class="separator:aedc66fc50d352420cae7791b4a0f57f7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaef1f2b773b9e659b6b69f813ea4dafb inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aaef1f2b773b9e659b6b69f813ea4dafb">ranged_dex_mod</a> () const</td></tr>
<tr class="separator:aaef1f2b773b9e659b6b69f813ea4dafb inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaca0aa6cf36c88068ac22eb6b50102c2 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aaca0aa6cf36c88068ac22eb6b50102c2">ranged_per_mod</a> () const</td></tr>
<tr class="separator:aaca0aa6cf36c88068ac22eb6b50102c2 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00d8de19b0e7ce9727bb7c21639af7f3 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a00d8de19b0e7ce9727bb7c21639af7f3">set_str_bonus</a> (int nstr)</td></tr>
<tr class="memdesc:a00d8de19b0e7ce9727bb7c21639af7f3 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setters for stats exclusive to characters.  <a href="classCharacter.html#a00d8de19b0e7ce9727bb7c21639af7f3">More...</a><br /></td></tr>
<tr class="separator:a00d8de19b0e7ce9727bb7c21639af7f3 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefd3260eb1513e991867a83f98e92574 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aefd3260eb1513e991867a83f98e92574">set_dex_bonus</a> (int ndex)</td></tr>
<tr class="separator:aefd3260eb1513e991867a83f98e92574 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6468665c416a0ff1f0099b586b37042e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6468665c416a0ff1f0099b586b37042e">set_per_bonus</a> (int nper)</td></tr>
<tr class="separator:a6468665c416a0ff1f0099b586b37042e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6bf7fc74f496275b3a2df6eb9a401c2 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac6bf7fc74f496275b3a2df6eb9a401c2">set_int_bonus</a> (int nint)</td></tr>
<tr class="separator:ac6bf7fc74f496275b3a2df6eb9a401c2 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb8078ce8af28f6a779c039e3c1e1ca inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6cb8078ce8af28f6a779c039e3c1e1ca">mod_str_bonus</a> (int nstr)</td></tr>
<tr class="separator:a6cb8078ce8af28f6a779c039e3c1e1ca inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f1ce1b5bdc4116046f13af5ef5236fc inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1f1ce1b5bdc4116046f13af5ef5236fc">mod_dex_bonus</a> (int ndex)</td></tr>
<tr class="separator:a1f1ce1b5bdc4116046f13af5ef5236fc inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fb6896d21fc20b5f30f2a0b8afd9b1d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0fb6896d21fc20b5f30f2a0b8afd9b1d">mod_per_bonus</a> (int nper)</td></tr>
<tr class="separator:a0fb6896d21fc20b5f30f2a0b8afd9b1d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6603125d7342944862004a14de55a8a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af6603125d7342944862004a14de55a8a">mod_int_bonus</a> (int nint)</td></tr>
<tr class="separator:af6603125d7342944862004a14de55a8a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96ac6bf3782237c2f105f976ee0af3a7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a96ac6bf3782237c2f105f976ee0af3a7">print_health</a> () const</td></tr>
<tr class="separator:a96ac6bf3782237c2f105f976ee0af3a7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c9fb43c7fb93a18f5d1a785790faca4 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4c9fb43c7fb93a18f5d1a785790faca4">get_healthy</a> () const</td></tr>
<tr class="memdesc:a4c9fb43c7fb93a18f5d1a785790faca4 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getters for health values exclusive to characters.  <a href="classCharacter.html#a4c9fb43c7fb93a18f5d1a785790faca4">More...</a><br /></td></tr>
<tr class="separator:a4c9fb43c7fb93a18f5d1a785790faca4 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21e465cff376e96f87dd4e9202bff601 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a21e465cff376e96f87dd4e9202bff601">get_healthy_mod</a> () const</td></tr>
<tr class="separator:a21e465cff376e96f87dd4e9202bff601 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dccbd6c8830ec355bd793c74291fa8d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0dccbd6c8830ec355bd793c74291fa8d">mod_healthy</a> (int nhealthy)</td></tr>
<tr class="memdesc:a0dccbd6c8830ec355bd793c74291fa8d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modifiers for health values exclusive to characters.  <a href="classCharacter.html#a0dccbd6c8830ec355bd793c74291fa8d">More...</a><br /></td></tr>
<tr class="separator:a0dccbd6c8830ec355bd793c74291fa8d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c4e364e25b0ea4d5a27c3120a9f973f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8c4e364e25b0ea4d5a27c3120a9f973f">mod_healthy_mod</a> (int nhealthy_mod, int cap)</td></tr>
<tr class="separator:a8c4e364e25b0ea4d5a27c3120a9f973f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9acf20ad52ac234831c4ec5472da8426 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9acf20ad52ac234831c4ec5472da8426">set_healthy</a> (int nhealthy)</td></tr>
<tr class="memdesc:a9acf20ad52ac234831c4ec5472da8426 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setters for health values exclusive to characters.  <a href="classCharacter.html#a9acf20ad52ac234831c4ec5472da8426">More...</a><br /></td></tr>
<tr class="separator:a9acf20ad52ac234831c4ec5472da8426 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e0c83c8160696f441f82d4230c0e7a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a32e0c83c8160696f441f82d4230c0e7a">set_healthy_mod</a> (int nhealthy_mod)</td></tr>
<tr class="separator:a32e0c83c8160696f441f82d4230c0e7a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a824a60fef8920f38a6f1e1b35bea4879 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a824a60fef8920f38a6f1e1b35bea4879">get_stored_kcal</a> () const</td></tr>
<tr class="memdesc:a824a60fef8920f38a6f1e1b35bea4879 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for need values exclusive to characters.  <a href="classCharacter.html#a824a60fef8920f38a6f1e1b35bea4879">More...</a><br /></td></tr>
<tr class="separator:a824a60fef8920f38a6f1e1b35bea4879 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4905fef46d52e8b8334cc22666addcf0 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4905fef46d52e8b8334cc22666addcf0">max_stored_kcal</a> () const</td></tr>
<tr class="separator:a4905fef46d52e8b8334cc22666addcf0 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42c4ba47635e0659553c233c399da84a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a42c4ba47635e0659553c233c399da84a">get_kcal_percent</a> () const</td></tr>
<tr class="separator:a42c4ba47635e0659553c233c399da84a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ca6c670844c9fd8c419c474788a7bf7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7ca6c670844c9fd8c419c474788a7bf7">get_thirst</a> () const</td></tr>
<tr class="separator:a7ca6c670844c9fd8c419c474788a7bf7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54a8931c87903f988cb882aa3526923d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::pair&lt; std::string, <a class="el" href="classnc__color.html">nc_color</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a54a8931c87903f988cb882aa3526923d">get_thirst_description</a> () const</td></tr>
<tr class="separator:a54a8931c87903f988cb882aa3526923d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac762e6f1b7cf77c273d9e5beabfe5b5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::pair&lt; std::string, <a class="el" href="classnc__color.html">nc_color</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aac762e6f1b7cf77c273d9e5beabfe5b5">get_hunger_description</a> () const</td></tr>
<tr class="separator:aac762e6f1b7cf77c273d9e5beabfe5b5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae1dd80beb520669c1c14fb95f011e7d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::pair&lt; std::string, <a class="el" href="classnc__color.html">nc_color</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aae1dd80beb520669c1c14fb95f011e7d">get_fatigue_description</a> () const</td></tr>
<tr class="separator:aae1dd80beb520669c1c14fb95f011e7d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31c20b0d370fef88fefe520ff046daf5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a> () const</td></tr>
<tr class="separator:a31c20b0d370fef88fefe520ff046daf5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2db9a91b7251e1ca4c1735c9cc2bf52 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab2db9a91b7251e1ca4c1735c9cc2bf52">get_sleep_deprivation</a> () const</td></tr>
<tr class="separator:ab2db9a91b7251e1ca4c1735c9cc2bf52 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87859e8312ccd742229e234cde3f9d6e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::pair&lt; std::string, <a class="el" href="classnc__color.html">nc_color</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a87859e8312ccd742229e234cde3f9d6e">get_pain_description</a> () const override</td></tr>
<tr class="separator:a87859e8312ccd742229e234cde3f9d6e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a431180ff2af878a9956bf474783017c0 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a431180ff2af878a9956bf474783017c0">mod_stored_kcal</a> (int nkcal)</td></tr>
<tr class="memdesc:a431180ff2af878a9956bf474783017c0 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modifiers for need values exclusive to characters.  <a href="classCharacter.html#a431180ff2af878a9956bf474783017c0">More...</a><br /></td></tr>
<tr class="separator:a431180ff2af878a9956bf474783017c0 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac362a4ed1eb0794de41ee0b5df98724d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac362a4ed1eb0794de41ee0b5df98724d">mod_stored_nutr</a> (int nnutr)</td></tr>
<tr class="separator:ac362a4ed1eb0794de41ee0b5df98724d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ce2644a98b526b5e453b043f5fa49bc inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a> (int nthirst)</td></tr>
<tr class="separator:a9ce2644a98b526b5e453b043f5fa49bc inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67a7e1b4bc1b191c747a27a1575ee1a6 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">mod_fatigue</a> (int nfatigue)</td></tr>
<tr class="separator:a67a7e1b4bc1b191c747a27a1575ee1a6 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9dd19e76cdf464f81af55ed2056e85c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac9dd19e76cdf464f81af55ed2056e85c">mod_sleep_deprivation</a> (int nsleep_deprivation)</td></tr>
<tr class="separator:ac9dd19e76cdf464f81af55ed2056e85c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74e6a7c7b747298dd3d1e853fab2c1ff inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a74e6a7c7b747298dd3d1e853fab2c1ff">set_stored_kcal</a> (int kcal)</td></tr>
<tr class="memdesc:a74e6a7c7b747298dd3d1e853fab2c1ff inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setters for need values exclusive to characters.  <a href="classCharacter.html#a74e6a7c7b747298dd3d1e853fab2c1ff">More...</a><br /></td></tr>
<tr class="separator:a74e6a7c7b747298dd3d1e853fab2c1ff inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6bcae1e1d30b35e0152b5e1bd615f5e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae6bcae1e1d30b35e0152b5e1bd615f5e">set_thirst</a> (int nthirst)</td></tr>
<tr class="separator:ae6bcae1e1d30b35e0152b5e1bd615f5e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a487913b9c97a3172f66517e87803d4a6 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a487913b9c97a3172f66517e87803d4a6">set_fatigue</a> (int nfatigue)</td></tr>
<tr class="separator:a487913b9c97a3172f66517e87803d4a6 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e658d88946cc7abba5333ad4cd3f153 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2e658d88946cc7abba5333ad4cd3f153">set_sleep_deprivation</a> (int nsleep_deprivation)</td></tr>
<tr class="separator:a2e658d88946cc7abba5333ad4cd3f153 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5ca0f6c4fb1c08bb93ece1c9746c368 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592">m_size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa5ca0f6c4fb1c08bb93ece1c9746c368">get_size</a> () const override</td></tr>
<tr class="memdesc:aa5ca0f6c4fb1c08bb93ece1c9746c368 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get size class of character.  <a href="classCharacter.html#aa5ca0f6c4fb1c08bb93ece1c9746c368">More...</a><br /></td></tr>
<tr class="separator:aa5ca0f6c4fb1c08bb93ece1c9746c368 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5100aa0d28bbb63634738bc814586a5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa5100aa0d28bbb63634738bc814586a5">recalculate_size</a> ()</td></tr>
<tr class="memdesc:aa5100aa0d28bbb63634738bc814586a5 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculate size class of character.  <a href="classCharacter.html#aa5100aa0d28bbb63634738bc814586a5">More...</a><br /></td></tr>
<tr class="separator:aa5100aa0d28bbb63634738bc814586a5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e1996b6d6fc0a86d917cd155e1656d8 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1e1996b6d6fc0a86d917cd155e1656d8">disp_name</a> (bool possessive=false, bool capitalize_first=false) const override</td></tr>
<tr class="memdesc:a1e1996b6d6fc0a86d917cd155e1656d8 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns either "you" or the player's name.  <a href="classCharacter.html#a1e1996b6d6fc0a86d917cd155e1656d8">More...</a><br /></td></tr>
<tr class="separator:a1e1996b6d6fc0a86d917cd155e1656d8 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab66b4d463af30f482df164e3699839e8 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab66b4d463af30f482df164e3699839e8">skin_name</a> () const override</td></tr>
<tr class="memdesc:ab66b4d463af30f482df164e3699839e8 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the player's outer layer, e.g.  <a href="classCharacter.html#ab66b4d463af30f482df164e3699839e8">More...</a><br /></td></tr>
<tr class="separator:ab66b4d463af30f482df164e3699839e8 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4576a50adcb91041db4cabea0955d8ea inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classfaction.html">faction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4576a50adcb91041db4cabea0955d8ea">get_faction</a> () const</td></tr>
<tr class="separator:a4576a50adcb91041db4cabea0955d8ea inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59f562b43a601023546f08177f04716c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a59f562b43a601023546f08177f04716c">set_fac_id</a> (const std::string &amp;my_fac_id)</td></tr>
<tr class="separator:a59f562b43a601023546f08177f04716c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37855668c0e9260587d5561b044f5510 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a37855668c0e9260587d5561b044f5510">effective_dispersion</a> (int dispersion) const</td></tr>
<tr class="separator:a37855668c0e9260587d5561b044f5510 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a8f9ffd035435c9f2777e007059e68d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structaim__type.html">aim_type</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7a8f9ffd035435c9f2777e007059e68d">get_aim_types</a> (const <a class="el" href="classitem.html">item</a> &amp;gun) const</td></tr>
<tr class="separator:a7a8f9ffd035435c9f2777e007059e68d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a466683aa8b2ff17611cdb39206c76200 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::pair&lt; int, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a466683aa8b2ff17611cdb39206c76200">get_fastest_sight</a> (const <a class="el" href="classitem.html">item</a> &amp;gun, double <a class="el" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a>) const</td></tr>
<tr class="separator:a466683aa8b2ff17611cdb39206c76200 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba2e414c6cd7b5ff8dd6337b5c724b1f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aba2e414c6cd7b5ff8dd6337b5c724b1f">get_most_accurate_sight</a> (const <a class="el" href="classitem.html">item</a> &amp;gun) const</td></tr>
<tr class="separator:aba2e414c6cd7b5ff8dd6337b5c724b1f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51a7e199b8cd76945c4d80dbc56e4d7e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a51a7e199b8cd76945c4d80dbc56e4d7e">aim_speed_skill_modifier</a> (const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;gun_skill) const</td></tr>
<tr class="separator:a51a7e199b8cd76945c4d80dbc56e4d7e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6ab6918534dec012003b7b957c4b1f8 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab6ab6918534dec012003b7b957c4b1f8">aim_speed_dex_modifier</a> () const</td></tr>
<tr class="separator:ab6ab6918534dec012003b7b957c4b1f8 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d331425e59311b2d3d1fc4d68bdd485 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5d331425e59311b2d3d1fc4d68bdd485">aim_speed_encumbrance_modifier</a> () const</td></tr>
<tr class="separator:a5d331425e59311b2d3d1fc4d68bdd485 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8306af30a6a6d1f8680179e1ebcf8438 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8306af30a6a6d1f8680179e1ebcf8438">aim_cap_from_volume</a> (const <a class="el" href="classitem.html">item</a> &amp;gun) const</td></tr>
<tr class="separator:a8306af30a6a6d1f8680179e1ebcf8438 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a851daac85a019452f34ba82a377773b0 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a851daac85a019452f34ba82a377773b0">aim_per_move</a> (const <a class="el" href="classitem.html">item</a> &amp;gun, double <a class="el" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a>) const</td></tr>
<tr class="separator:a851daac85a019452f34ba82a377773b0 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accd6b165a9454cad9972bc153061215a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#accd6b165a9454cad9972bc153061215a">recoil_vehicle</a> () const</td></tr>
<tr class="memdesc:accd6b165a9454cad9972bc153061215a inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get maximum recoil penalty due to vehicle motion.  <a href="classCharacter.html#accd6b165a9454cad9972bc153061215a">More...</a><br /></td></tr>
<tr class="separator:accd6b165a9454cad9972bc153061215a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ee7c9ce54b692f58991fa9f39c92a6f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1ee7c9ce54b692f58991fa9f39c92a6f">recoil_mode</a> () const</td></tr>
<tr class="separator:a1ee7c9ce54b692f58991fa9f39c92a6f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec46a4b513360ef60f6143830bbb711d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aec46a4b513360ef60f6143830bbb711d">recoil_total</a> () const</td></tr>
<tr class="memdesc:aec46a4b513360ef60f6143830bbb711d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current total maximum recoil penalty from all sources.  <a href="classCharacter.html#aec46a4b513360ef60f6143830bbb711d">More...</a><br /></td></tr>
<tr class="separator:aec46a4b513360ef60f6143830bbb711d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf52125fca0a9d7a161c487877e17fdd inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aaf52125fca0a9d7a161c487877e17fdd">get_dodge_base</a> () const override</td></tr>
<tr class="memdesc:aaf52125fca0a9d7a161c487877e17fdd inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Combat getters.  <a href="classCharacter.html#aaf52125fca0a9d7a161c487877e17fdd">More...</a><br /></td></tr>
<tr class="separator:aaf52125fca0a9d7a161c487877e17fdd inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a656bafd59dccac1266974c53f127e5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7a656bafd59dccac1266974c53f127e5">get_hit_base</a> () const override</td></tr>
<tr class="separator:a7a656bafd59dccac1266974c53f127e5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff7c6ea07bde0a44d9d08b1bacde9064 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aff7c6ea07bde0a44d9d08b1bacde9064">get_dodge</a> () const override</td></tr>
<tr class="separator:aff7c6ea07bde0a44d9d08b1bacde9064 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad24859164517ed6e392e21df69527199 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a> () const override</td></tr>
<tr class="separator:ad24859164517ed6e392e21df69527199 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ffc3c0c0a303aefcbed72bdf8f807d9 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9ffc3c0c0a303aefcbed72bdf8f807d9">sight_range</a> (int light_level) const override</td></tr>
<tr class="memdesc:a9ffc3c0c0a303aefcbed72bdf8f807d9 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the player's sight range.  <a href="classCharacter.html#a9ffc3c0c0a303aefcbed72bdf8f807d9">More...</a><br /></td></tr>
<tr class="separator:a9ffc3c0c0a303aefcbed72bdf8f807d9 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4015f6dcb9046648701ae3a368fd3ccd inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4015f6dcb9046648701ae3a368fd3ccd">unimpaired_range</a> () const</td></tr>
<tr class="memdesc:a4015f6dcb9046648701ae3a368fd3ccd inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the player maximum vision range factoring in mutations, diseases, and other effects.  <a href="classCharacter.html#a4015f6dcb9046648701ae3a368fd3ccd">More...</a><br /></td></tr>
<tr class="separator:a4015f6dcb9046648701ae3a368fd3ccd inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f315b534da49aacebea1cf6df05aa2e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0f315b534da49aacebea1cf6df05aa2e">overmap_los</a> (const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;omt, int sight_points)</td></tr>
<tr class="memdesc:a0f315b534da49aacebea1cf6df05aa2e inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if overmap tile is within player line-of-sight.  <a href="classCharacter.html#a0f315b534da49aacebea1cf6df05aa2e">More...</a><br /></td></tr>
<tr class="separator:a0f315b534da49aacebea1cf6df05aa2e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa320981a51e625b80e2eccb604f03fb3 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa320981a51e625b80e2eccb604f03fb3">overmap_sight_range</a> (int light_level) const</td></tr>
<tr class="memdesc:aa320981a51e625b80e2eccb604f03fb3 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the distance the player can see on the overmap.  <a href="classCharacter.html#aa320981a51e625b80e2eccb604f03fb3">More...</a><br /></td></tr>
<tr class="separator:aa320981a51e625b80e2eccb604f03fb3 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a637b69da1eaea75f12d248d14c939703 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a637b69da1eaea75f12d248d14c939703">clairvoyance</a> () const</td></tr>
<tr class="memdesc:a637b69da1eaea75f12d248d14c939703 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the distance the player can see through walls.  <a href="classCharacter.html#a637b69da1eaea75f12d248d14c939703">More...</a><br /></td></tr>
<tr class="separator:a637b69da1eaea75f12d248d14c939703 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5399da52643bb056f44e3b789e916574 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5399da52643bb056f44e3b789e916574">sight_impaired</a> () const</td></tr>
<tr class="memdesc:a5399da52643bb056f44e3b789e916574 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has some form of impaired sight.  <a href="classCharacter.html#a5399da52643bb056f44e3b789e916574">More...</a><br /></td></tr>
<tr class="separator:a5399da52643bb056f44e3b789e916574 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d29ef022fdd5817059cc3b005ed8576 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5d29ef022fdd5817059cc3b005ed8576">has_alarm_clock</a> () const</td></tr>
<tr class="memdesc:a5d29ef022fdd5817059cc3b005ed8576 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player or their vehicle has an alarm clock.  <a href="classCharacter.html#a5d29ef022fdd5817059cc3b005ed8576">More...</a><br /></td></tr>
<tr class="separator:a5d29ef022fdd5817059cc3b005ed8576 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1736947fb1ce598899cfa2c4dcff97e2 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1736947fb1ce598899cfa2c4dcff97e2">has_watch</a> () const</td></tr>
<tr class="memdesc:a1736947fb1ce598899cfa2c4dcff97e2 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player or their vehicle has a watch.  <a href="classCharacter.html#a1736947fb1ce598899cfa2c4dcff97e2">More...</a><br /></td></tr>
<tr class="separator:a1736947fb1ce598899cfa2c4dcff97e2 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22529ee5a1a53f2cdf534819d672fad9 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a22529ee5a1a53f2cdf534819d672fad9">action_taken</a> ()</td></tr>
<tr class="memdesc:a22529ee5a1a53f2cdf534819d672fad9 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called after every action, invalidates player caches.  <a href="classCharacter.html#a22529ee5a1a53f2cdf534819d672fad9">More...</a><br /></td></tr>
<tr class="separator:a22529ee5a1a53f2cdf534819d672fad9 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f82f3257619099e3b2e3103777a703a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3f82f3257619099e3b2e3103777a703a">is_on_ground</a> () const override</td></tr>
<tr class="memdesc:a3f82f3257619099e3b2e3103777a703a inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player is knocked over or has broken legs.  <a href="classCharacter.html#a3f82f3257619099e3b2e3103777a703a">More...</a><br /></td></tr>
<tr class="separator:a3f82f3257619099e3b2e3103777a703a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48531fb6d06678b20e3b7a2c8164c206 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a48531fb6d06678b20e3b7a2c8164c206">swim_speed</a> () const</td></tr>
<tr class="memdesc:a48531fb6d06678b20e3b7a2c8164c206 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the player's speed for swimming across water tiles.  <a href="classCharacter.html#a48531fb6d06678b20e3b7a2c8164c206">More...</a><br /></td></tr>
<tr class="separator:a48531fb6d06678b20e3b7a2c8164c206 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6924ca4d6836c2a8c64bd6fda0436c70 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6924ca4d6836c2a8c64bd6fda0436c70">add_miss_reason</a> (const std::string &amp;reason, unsigned int weight)</td></tr>
<tr class="memdesc:a6924ca4d6836c2a8c64bd6fda0436c70 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a reason for why the player would miss a melee attack.  <a href="classCharacter.html#a6924ca4d6836c2a8c64bd6fda0436c70">More...</a><br /></td></tr>
<tr class="separator:a6924ca4d6836c2a8c64bd6fda0436c70 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a995d6d84d90b9b14f66cacede5a5fa16 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a995d6d84d90b9b14f66cacede5a5fa16">clear_miss_reasons</a> ()</td></tr>
<tr class="memdesc:a995d6d84d90b9b14f66cacede5a5fa16 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the list of reasons for why the player would miss a melee attack.  <a href="classCharacter.html#a995d6d84d90b9b14f66cacede5a5fa16">More...</a><br /></td></tr>
<tr class="separator:a995d6d84d90b9b14f66cacede5a5fa16 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc44f5e4d52c736b8ad834e3a3405046 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#adc44f5e4d52c736b8ad834e3a3405046">get_miss_reason</a> ()</td></tr>
<tr class="memdesc:adc44f5e4d52c736b8ad834e3a3405046 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an explanation for why the player would miss a melee attack.  <a href="classCharacter.html#adc44f5e4d52c736b8ad834e3a3405046">More...</a><br /></td></tr>
<tr class="separator:adc44f5e4d52c736b8ad834e3a3405046 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86472795da754293d2eb4d5d35534619 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a86472795da754293d2eb4d5d35534619">regen</a> (int rate_multiplier)</td></tr>
<tr class="memdesc:a86472795da754293d2eb4d5d35534619 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles passive regeneration of pain and maybe hp.  <a href="classCharacter.html#a86472795da754293d2eb4d5d35534619">More...</a><br /></td></tr>
<tr class="separator:a86472795da754293d2eb4d5d35534619 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7e1d405b2992bc7d5cee3da9d272618 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae7e1d405b2992bc7d5cee3da9d272618">enforce_minimum_healing</a> ()</td></tr>
<tr class="separator:ae7e1d405b2992bc7d5cee3da9d272618 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3b524c5f7c2ac7528783ba453a88053 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab3b524c5f7c2ac7528783ba453a88053">best_quality_item</a> (const <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a> &amp;qual)</td></tr>
<tr class="memdesc:ab3b524c5f7c2ac7528783ba453a88053 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">get best quality item that this character has  <a href="classCharacter.html#ab3b524c5f7c2ac7528783ba453a88053">More...</a><br /></td></tr>
<tr class="separator:ab3b524c5f7c2ac7528783ba453a88053 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e267176d91453781455bc23061af3ae inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7e267176d91453781455bc23061af3ae">update_health</a> (int external_modifiers=0)</td></tr>
<tr class="memdesc:a7e267176d91453781455bc23061af3ae inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles health fluctuations over time.  <a href="classCharacter.html#a7e267176d91453781455bc23061af3ae">More...</a><br /></td></tr>
<tr class="separator:a7e267176d91453781455bc23061af3ae inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5e36191325bfbc72b0e624284cfebae inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af5e36191325bfbc72b0e624284cfebae">update_body</a> ()</td></tr>
<tr class="memdesc:af5e36191325bfbc72b0e624284cfebae inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates all "biology" by one turn.  <a href="classCharacter.html#af5e36191325bfbc72b0e624284cfebae">More...</a><br /></td></tr>
<tr class="separator:af5e36191325bfbc72b0e624284cfebae inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82cfc7230a6b1f95bd798bf19198da5a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a82cfc7230a6b1f95bd798bf19198da5a">update_body</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;from, const <a class="el" href="classtime__point.html">time_point</a> &amp;to)</td></tr>
<tr class="memdesc:a82cfc7230a6b1f95bd798bf19198da5a inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates all "biology" as if time between <code>from</code> and <code>to</code> passed.  <a href="classCharacter.html#a82cfc7230a6b1f95bd798bf19198da5a">More...</a><br /></td></tr>
<tr class="separator:a82cfc7230a6b1f95bd798bf19198da5a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abadbafc291e11034ae1db0f215e64ade inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#abadbafc291e11034ae1db0f215e64ade">update_stomach</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;from, const <a class="el" href="classtime__point.html">time_point</a> &amp;to)</td></tr>
<tr class="memdesc:abadbafc291e11034ae1db0f215e64ade inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the stomach to give accurate hunger messages.  <a href="classCharacter.html#abadbafc291e11034ae1db0f215e64ade">More...</a><br /></td></tr>
<tr class="separator:abadbafc291e11034ae1db0f215e64ade inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a654477095d99d22583346286ce2bc6fa inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a654477095d99d22583346286ce2bc6fa">update_needs</a> (int rate_multiplier)</td></tr>
<tr class="memdesc:a654477095d99d22583346286ce2bc6fa inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increases hunger, thirst, fatigue and stimulants wearing off.  <a href="classCharacter.html#a654477095d99d22583346286ce2bc6fa">More...</a><br /></td></tr>
<tr class="separator:a654477095d99d22583346286ce2bc6fa inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1c5a29039893bd41d82908a9eb5655a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structneeds__rates.html">needs_rates</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab1c5a29039893bd41d82908a9eb5655a">calc_needs_rates</a> () const</td></tr>
<tr class="separator:ab1c5a29039893bd41d82908a9eb5655a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ebd046d64553ac91ab7b8a463007dd inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a48ebd046d64553ac91ab7b8a463007dd">check_needs_extremes</a> ()</td></tr>
<tr class="memdesc:a48ebd046d64553ac91ab7b8a463007dd inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Kills the player if too hungry, stimmed up etc., forces tired player to sleep and prints warnings.  <a href="classCharacter.html#a48ebd046d64553ac91ab7b8a463007dd">More...</a><br /></td></tr>
<tr class="separator:a48ebd046d64553ac91ab7b8a463007dd inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dc08653cf45817906e4b5836fa6065c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2dc08653cf45817906e4b5836fa6065c">is_hibernating</a> () const</td></tr>
<tr class="memdesc:a2dc08653cf45817906e4b5836fa6065c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns if the player has hibernation mutation and is asleep and well fed.  <a href="classCharacter.html#a2dc08653cf45817906e4b5836fa6065c">More...</a><br /></td></tr>
<tr class="separator:a2dc08653cf45817906e4b5836fa6065c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d9341b8914a52416b883a20d4dd9e47 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4d9341b8914a52416b883a20d4dd9e47">update_bodytemp</a> (const <a class="el" href="classmap.html">map</a> &amp;m, const <a class="el" href="classweather__manager.html">weather_manager</a> &amp;weather)</td></tr>
<tr class="memdesc:a4d9341b8914a52416b883a20d4dd9e47 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maintains body temperature.  <a href="classCharacter.html#a4d9341b8914a52416b883a20d4dd9e47">More...</a><br /></td></tr>
<tr class="separator:a4d9341b8914a52416b883a20d4dd9e47 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad616e0deca97e35dbbc76e35da1831ee inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad616e0deca97e35dbbc76e35da1831ee">temp_equalizer</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp1, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp2)</td></tr>
<tr class="memdesc:ad616e0deca97e35dbbc76e35da1831ee inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equalizes heat between body parts.  <a href="classCharacter.html#ad616e0deca97e35dbbc76e35da1831ee">More...</a><br /></td></tr>
<tr class="separator:ad616e0deca97e35dbbc76e35da1831ee inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a019f8df7afe648fcccc9473d7d7a2ca8 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structCharacter_1_1comfort__response__t.html">comfort_response_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a019f8df7afe648fcccc9473d7d7a2ca8">base_comfort_value</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p) const</td></tr>
<tr class="memdesc:a019f8df7afe648fcccc9473d7d7a2ca8 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rate point's ability to serve as a bed.  <a href="classCharacter.html#a019f8df7afe648fcccc9473d7d7a2ca8">More...</a><br /></td></tr>
<tr class="separator:a019f8df7afe648fcccc9473d7d7a2ca8 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ef1bfb00d4a8d9b1ff9078eae2a9103 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9ef1bfb00d4a8d9b1ff9078eae2a9103">blood_loss</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp) const</td></tr>
<tr class="memdesc:a9ef1bfb00d4a8d9b1ff9078eae2a9103 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define blood loss (in percents)  <a href="classCharacter.html#a9ef1bfb00d4a8d9b1ff9078eae2a9103">More...</a><br /></td></tr>
<tr class="separator:a9ef1bfb00d4a8d9b1ff9078eae2a9103 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3e555b219563fb112e335bc059ad7b9 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab3e555b219563fb112e335bc059ad7b9">reset_bonuses</a> () override</td></tr>
<tr class="memdesc:ab3e555b219563fb112e335bc059ad7b9 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the value of all bonus fields to 0.  <a href="classCharacter.html#ab3e555b219563fb112e335bc059ad7b9">More...</a><br /></td></tr>
<tr class="separator:ab3e555b219563fb112e335bc059ad7b9 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd3a76bac72b578555b4e47816eb4e29 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#abd3a76bac72b578555b4e47816eb4e29">reset</a> () override</td></tr>
<tr class="memdesc:abd3a76bac72b578555b4e47816eb4e29 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles stat and bonus reset.  <a href="classCharacter.html#abd3a76bac72b578555b4e47816eb4e29">More...</a><br /></td></tr>
<tr class="separator:abd3a76bac72b578555b4e47816eb4e29 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad67a790400ac88405241f279b566b89e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad67a790400ac88405241f279b566b89e">reset_encumbrance</a> ()</td></tr>
<tr class="memdesc:ad67a790400ac88405241f279b566b89e inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculates encumbrance cache.  <a href="classCharacter.html#ad67a790400ac88405241f279b566b89e">More...</a><br /></td></tr>
<tr class="separator:ad67a790400ac88405241f279b566b89e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc1fd84a88722a905e57fea8bfd5b6b0 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#adc1fd84a88722a905e57fea8bfd5b6b0">encumb</a> (<a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp) const</td></tr>
<tr class="memdesc:adc1fd84a88722a905e57fea8bfd5b6b0 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns ENC provided by armor, etc.  <a href="classCharacter.html#adc1fd84a88722a905e57fea8bfd5b6b0">More...</a><br /></td></tr>
<tr class="separator:adc1fd84a88722a905e57fea8bfd5b6b0 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a264388843c2319708b9f727da5d15a81 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a264388843c2319708b9f727da5d15a81">get_weight</a> () const override</td></tr>
<tr class="memdesc:a264388843c2319708b9f727da5d15a81 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns body weight plus weight of inventory and worn/wielded items.  <a href="classCharacter.html#a264388843c2319708b9f727da5d15a81">More...</a><br /></td></tr>
<tr class="separator:a264388843c2319708b9f727da5d15a81 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab4a81807fc7f6760a2f426046da8809 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::array&lt; <a class="el" href="structencumbrance__data.html">encumbrance_data</a>, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aab4a81807fc7f6760a2f426046da8809">get_encumbrance</a> () const</td></tr>
<tr class="memdesc:aab4a81807fc7f6760a2f426046da8809 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get encumbrance for all body parts.  <a href="classCharacter.html#aab4a81807fc7f6760a2f426046da8809">More...</a><br /></td></tr>
<tr class="separator:aab4a81807fc7f6760a2f426046da8809 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6f6e79108c09452f818500daaf14156 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::array&lt; <a class="el" href="structencumbrance__data.html">encumbrance_data</a>, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af6f6e79108c09452f818500daaf14156">get_encumbrance</a> (const <a class="el" href="classitem.html">item</a> &amp;new_item) const</td></tr>
<tr class="memdesc:af6f6e79108c09452f818500daaf14156 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get encumbrance for all body parts as if <code>new_item</code> was also worn.  <a href="classCharacter.html#af6f6e79108c09452f818500daaf14156">More...</a><br /></td></tr>
<tr class="separator:af6f6e79108c09452f818500daaf14156 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6af4d7c749174394505bec7695e5718 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab6af4d7c749174394505bec7695e5718">extraEncumbrance</a> (<a class="el" href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0">layer_level</a> level, int bp) const</td></tr>
<tr class="memdesc:ab6af4d7c749174394505bec7695e5718 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get encumbrance penalty per layer &amp; body part.  <a href="classCharacter.html#ab6af4d7c749174394505bec7695e5718">More...</a><br /></td></tr>
<tr class="separator:ab6af4d7c749174394505bec7695e5718 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ac2251449507ddb5de5ce181fca00af inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0ac2251449507ddb5de5ce181fca00af">is_wearing_power_armor</a> (bool *hasHelmet=nullptr) const</td></tr>
<tr class="memdesc:a0ac2251449507ddb5de5ce181fca00af inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the character is wearing power armor.  <a href="classCharacter.html#a0ac2251449507ddb5de5ce181fca00af">More...</a><br /></td></tr>
<tr class="separator:a0ac2251449507ddb5de5ce181fca00af inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b396391a26679d966e2eaa671093d67 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2b396391a26679d966e2eaa671093d67">is_wearing_active_power_armor</a> () const</td></tr>
<tr class="memdesc:a2b396391a26679d966e2eaa671093d67 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the character is wearing active power.  <a href="classCharacter.html#a2b396391a26679d966e2eaa671093d67">More...</a><br /></td></tr>
<tr class="separator:a2b396391a26679d966e2eaa671093d67 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33ae50fa04d45782f640c2fc572d9eee inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a33ae50fa04d45782f640c2fc572d9eee">is_wearing_active_optcloak</a> () const</td></tr>
<tr class="memdesc:a33ae50fa04d45782f640c2fc572d9eee inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player is wearing an active optical cloak.  <a href="classCharacter.html#a33ae50fa04d45782f640c2fc572d9eee">More...</a><br /></td></tr>
<tr class="separator:a33ae50fa04d45782f640c2fc572d9eee inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4f0754e8e195b1330807943b2920f19 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad4f0754e8e195b1330807943b2920f19">in_climate_control</a> ()</td></tr>
<tr class="memdesc:ad4f0754e8e195b1330807943b2920f19 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player is in a climate controlled area or armor.  <a href="classCharacter.html#ad4f0754e8e195b1330807943b2920f19">More...</a><br /></td></tr>
<tr class="separator:ad4f0754e8e195b1330807943b2920f19 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a9671b1264d53cb74469e78000e2544 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4a9671b1264d53cb74469e78000e2544">is_blind</a> () const</td></tr>
<tr class="memdesc:a4a9671b1264d53cb74469e78000e2544 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player isn't able to see.  <a href="classCharacter.html#a4a9671b1264d53cb74469e78000e2544">More...</a><br /></td></tr>
<tr class="separator:a4a9671b1264d53cb74469e78000e2544 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc2d93e00cc39ed02dbb2c222f7f94d2 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#adc2d93e00cc39ed02dbb2c222f7f94d2">is_invisible</a> () const</td></tr>
<tr class="separator:adc2d93e00cc39ed02dbb2c222f7f94d2 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40e47094669fd1448b975358051f9f98 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a40e47094669fd1448b975358051f9f98">visibility</a> (bool check_color=false, int stillness=0) const</td></tr>
<tr class="memdesc:a40e47094669fd1448b975358051f9f98 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks <a class="el" href="classCharacter.html#adc2d93e00cc39ed02dbb2c222f7f94d2">is_invisible()</a> as well as other factors.  <a href="classCharacter.html#a40e47094669fd1448b975358051f9f98">More...</a><br /></td></tr>
<tr class="separator:a40e47094669fd1448b975358051f9f98 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4db8f0b7490ded5bd598b640fdbed978 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4db8f0b7490ded5bd598b640fdbed978">active_light</a> () const</td></tr>
<tr class="memdesc:a4db8f0b7490ded5bd598b640fdbed978 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns character luminosity based on the brightest active item they are carrying.  <a href="classCharacter.html#a4db8f0b7490ded5bd598b640fdbed978">More...</a><br /></td></tr>
<tr class="separator:a4db8f0b7490ded5bd598b640fdbed978 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9333ab3cffa25b588ec5aa932db8d73d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9333ab3cffa25b588ec5aa932db8d73d">sees_with_specials</a> (const <a class="el" href="classCreature.html">Creature</a> &amp;critter) const</td></tr>
<tr class="separator:a9333ab3cffa25b588ec5aa932db8d73d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1febd48cd6251eb3dabd51ccfd608148 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbody__part__set.html">body_part_set</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1febd48cd6251eb3dabd51ccfd608148">exclusive_flag_coverage</a> (const std::string &amp;flag) const</td></tr>
<tr class="memdesc:a1febd48cd6251eb3dabd51ccfd608148 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bitset of all the body parts covered only with items with <code>flag</code> (or nothing)  <a href="classCharacter.html#a1febd48cd6251eb3dabd51ccfd608148">More...</a><br /></td></tr>
<tr class="separator:a1febd48cd6251eb3dabd51ccfd608148 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37772343c5d5a20510bafe1890a5a839 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a37772343c5d5a20510bafe1890a5a839">move_effects</a> (bool attacking) override</td></tr>
<tr class="memdesc:a37772343c5d5a20510bafe1890a5a839 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes effects which may prevent the <a class="el" href="classCharacter.html">Character</a> from moving (bear traps, crushed, etc.).  <a href="classCharacter.html#a37772343c5d5a20510bafe1890a5a839">More...</a><br /></td></tr>
<tr class="separator:a37772343c5d5a20510bafe1890a5a839 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab94093235048027d0afad3f6af4e21c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aab94093235048027d0afad3f6af4e21c">wait_effects</a> ()</td></tr>
<tr class="separator:aab94093235048027d0afad3f6af4e21c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ef8afad4fda9a0346b3852e4d9c3600 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2ef8afad4fda9a0346b3852e4d9c3600">movement_mode_is</a> (<a class="el" href="character_8h.html#af749573d20b6327d21f9588ebdd5b19b">character_movemode</a> mode) const</td></tr>
<tr class="memdesc:a2ef8afad4fda9a0346b3852e4d9c3600 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check against the character's current movement mode.  <a href="classCharacter.html#a2ef8afad4fda9a0346b3852e4d9c3600">More...</a><br /></td></tr>
<tr class="separator:a2ef8afad4fda9a0346b3852e4d9c3600 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fd4fd21e3e0f7957001d695a909c23a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="character_8h.html#af749573d20b6327d21f9588ebdd5b19b">character_movemode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1fd4fd21e3e0f7957001d695a909c23a">get_movement_mode</a> () const</td></tr>
<tr class="separator:a1fd4fd21e3e0f7957001d695a909c23a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6f15c226542470f181855b1bb473cae inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa6f15c226542470f181855b1bb473cae">set_movement_mode</a> (<a class="el" href="character_8h.html#af749573d20b6327d21f9588ebdd5b19b">character_movemode</a> mode)=0</td></tr>
<tr class="separator:aa6f15c226542470f181855b1bb473cae inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a075e636b02332a92beb8aaadd7653118 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a075e636b02332a92beb8aaadd7653118">expose_to_disease</a> (<a class="el" href="type__id_8h.html#affe9d743c1ec4cbbb991c70437ac67ed">diseasetype_id</a> dis_type)</td></tr>
<tr class="memdesc:a075e636b02332a92beb8aaadd7653118 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if character is susceptible to dis_type and if so apply the symptoms.  <a href="classCharacter.html#a075e636b02332a92beb8aaadd7653118">More...</a><br /></td></tr>
<tr class="separator:a075e636b02332a92beb8aaadd7653118 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9de69bc0450c41078c9f5c86bcf837c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae9de69bc0450c41078c9f5c86bcf837c">recalc_hp</a> ()</td></tr>
<tr class="memdesc:ae9de69bc0450c41078c9f5c86bcf837c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculates HP after a change to max strength.  <a href="classCharacter.html#ae9de69bc0450c41078c9f5c86bcf837c">More...</a><br /></td></tr>
<tr class="separator:ae9de69bc0450c41078c9f5c86bcf837c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac545f65dc2756956a43c456b0228e171 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac545f65dc2756956a43c456b0228e171">calc_all_parts_hp</a> (float hp_mod=0.0, float hp_adjust=0.0, int <a class="el" href="classCharacter.html#a0bbd9aa7982f98e08f67db130e4eb9f8">str_max</a>=0)</td></tr>
<tr class="memdesc:ac545f65dc2756956a43c456b0228e171 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets hp for all body parts.  <a href="classCharacter.html#ac545f65dc2756956a43c456b0228e171">More...</a><br /></td></tr>
<tr class="separator:ac545f65dc2756956a43c456b0228e171 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0d1b26c15ad4a52973774bf6a7610c1 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa0d1b26c15ad4a52973774bf6a7610c1">recalc_sight_limits</a> ()</td></tr>
<tr class="memdesc:aa0d1b26c15ad4a52973774bf6a7610c1 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modifies the player's sight values Must be called when any of the following change: This must be called when any of the following change:  <a href="classCharacter.html#aa0d1b26c15ad4a52973774bf6a7610c1">More...</a><br /></td></tr>
<tr class="separator:aa0d1b26c15ad4a52973774bf6a7610c1 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38c75c1d916e71c0c93348e1eed453e2 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a38c75c1d916e71c0c93348e1eed453e2">get_vision_threshold</a> (float light_level) const</td></tr>
<tr class="memdesc:a38c75c1d916e71c0c93348e1eed453e2 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the apparent light level at which the player can see.  <a href="classCharacter.html#a38c75c1d916e71c0c93348e1eed453e2">More...</a><br /></td></tr>
<tr class="separator:a38c75c1d916e71c0c93348e1eed453e2 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3801457283281bb7dcc0572d3f707e10 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3801457283281bb7dcc0572d3f707e10">flag_encumbrance</a> ()</td></tr>
<tr class="memdesc:a3801457283281bb7dcc0572d3f707e10 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag encumbrance for updating.  <a href="classCharacter.html#a3801457283281bb7dcc0572d3f707e10">More...</a><br /></td></tr>
<tr class="separator:a3801457283281bb7dcc0572d3f707e10 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cf277ecea2a8248e835aa6a94e20b57 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2cf277ecea2a8248e835aa6a94e20b57">check_item_encumbrance_flag</a> ()</td></tr>
<tr class="memdesc:a2cf277ecea2a8248e835aa6a94e20b57 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks worn items for the "RESET_ENCUMBRANCE" flag, which indicates that encumbrance may have changed and require recalculating.  <a href="classCharacter.html#a2cf277ecea2a8248e835aa6a94e20b57">More...</a><br /></td></tr>
<tr class="separator:a2cf277ecea2a8248e835aa6a94e20b57 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a327a42f3afe42f0ea55db6613a8e7d4d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a327a42f3afe42f0ea55db6613a8e7d4d">natural_attack_restricted_on</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp) const</td></tr>
<tr class="memdesc:a327a42f3afe42f0ea55db6613a8e7d4d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the character is wearing something on the entered body_part, ignoring items with the ALLOWS_NATURAL_ATTACKS flag.  <a href="classCharacter.html#a327a42f3afe42f0ea55db6613a8e7d4d">More...</a><br /></td></tr>
<tr class="separator:a327a42f3afe42f0ea55db6613a8e7d4d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3930404bfc5dfc61b453b487c7755a47 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3930404bfc5dfc61b453b487c7755a47">can_miss_recovery</a> (const <a class="el" href="classitem.html">item</a> &amp;weap) const</td></tr>
<tr class="memdesc:a3930404bfc5dfc61b453b487c7755a47 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player is able to use a miss recovery technique.  <a href="classCharacter.html#a3930404bfc5dfc61b453b487c7755a47">More...</a><br /></td></tr>
<tr class="separator:a3930404bfc5dfc61b453b487c7755a47 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af609490bff41a7de4c9beb2ccf042188 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af609490bff41a7de4c9beb2ccf042188">is_quiet</a> () const</td></tr>
<tr class="memdesc:af609490bff41a7de4c9beb2ccf042188 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has quiet melee attacks.  <a href="classCharacter.html#af609490bff41a7de4c9beb2ccf042188">More...</a><br /></td></tr>
<tr class="separator:af609490bff41a7de4c9beb2ccf042188 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4a8c6a5f6aeb5b005aed8534a46cc82 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae4a8c6a5f6aeb5b005aed8534a46cc82">block_hit</a> (<a class="el" href="classCreature.html">Creature</a> *source, <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp_hit, <a class="el" href="structdamage__instance.html">damage_instance</a> &amp;dam) override</td></tr>
<tr class="memdesc:ae4a8c6a5f6aeb5b005aed8534a46cc82 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks for valid block abilities and reduces damage accordingly.  <a href="classCharacter.html#ae4a8c6a5f6aeb5b005aed8534a46cc82">More...</a><br /></td></tr>
<tr class="separator:ae4a8c6a5f6aeb5b005aed8534a46cc82 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab779b17e441836fef6ffbdda872ad57d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab779b17e441836fef6ffbdda872ad57d">best_shield</a> ()</td></tr>
<tr class="memdesc:ab779b17e441836fef6ffbdda872ad57d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the best item for blocking with.  <a href="classCharacter.html#ab779b17e441836fef6ffbdda872ad57d">More...</a><br /></td></tr>
<tr class="separator:ab779b17e441836fef6ffbdda872ad57d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa427d558b5e0e0d8d5d10c58994c6849 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa427d558b5e0e0d8d5d10c58994c6849">handle_melee_wear</a> (<a class="el" href="classitem.html">item</a> &amp;shield, float wear_multiplier=1.0f)</td></tr>
<tr class="memdesc:aa427d558b5e0e0d8d5d10c58994c6849 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates melee weapon wear-and-tear through use, returns true if item is destroyed.  <a href="classCharacter.html#aa427d558b5e0e0d8d5d10c58994c6849">More...</a><br /></td></tr>
<tr class="separator:aa427d558b5e0e0d8d5d10c58994c6849 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37eb1f87157d10b3f504ee6b6ce28f4c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a15c813836397fb5a5747fa15b5c82d84">matec_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a37eb1f87157d10b3f504ee6b6ce28f4c">pick_technique</a> (<a class="el" href="classCreature.html">Creature</a> &amp;t, const <a class="el" href="classitem.html">item</a> &amp;weap, bool crit, bool dodge_counter, bool block_counter)</td></tr>
<tr class="memdesc:a37eb1f87157d10b3f504ee6b6ce28f4c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a random valid technique.  <a href="classCharacter.html#a37eb1f87157d10b3f504ee6b6ce28f4c">More...</a><br /></td></tr>
<tr class="separator:a37eb1f87157d10b3f504ee6b6ce28f4c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad25ce8a5598ed00bfc9225a056eb24fd inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad25ce8a5598ed00bfc9225a056eb24fd">perform_technique</a> (const <a class="el" href="classma__technique.html">ma_technique</a> &amp;technique, <a class="el" href="classCreature.html">Creature</a> &amp;t, <a class="el" href="structdamage__instance.html">damage_instance</a> &amp;di, int &amp;<a class="el" href="activity__item__handling_8cpp.html#a0572000ec0976f2d095ae0cd9d20e78b">move_cost</a>)</td></tr>
<tr class="separator:ad25ce8a5598ed00bfc9225a056eb24fd inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7af9d555fb7d6fbc127ea37e9e709804 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7af9d555fb7d6fbc127ea37e9e709804">melee_attack</a> (<a class="el" href="classCreature.html">Creature</a> &amp;t, bool allow_special, const <a class="el" href="type__id_8h.html#a15c813836397fb5a5747fa15b5c82d84">matec_id</a> &amp;force_technique, bool allow_unarmed=true)</td></tr>
<tr class="memdesc:a7af9d555fb7d6fbc127ea37e9e709804 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up a melee attack and handles melee attack function calls.  <a href="classCharacter.html#a7af9d555fb7d6fbc127ea37e9e709804">More...</a><br /></td></tr>
<tr class="separator:a7af9d555fb7d6fbc127ea37e9e709804 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af78318717b12c7a4a25a18ea7a7bff38 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af78318717b12c7a4a25a18ea7a7bff38">melee_attack</a> (<a class="el" href="classCreature.html">Creature</a> &amp;t, bool allow_special)</td></tr>
<tr class="memdesc:af78318717b12c7a4a25a18ea7a7bff38 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the to other melee_attack function with an empty technique id (meaning no specific technique should be used).  <a href="classCharacter.html#af78318717b12c7a4a25a18ea7a7bff38">More...</a><br /></td></tr>
<tr class="separator:af78318717b12c7a4a25a18ea7a7bff38 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f2e3a92986df8d8abbaf7d6ed5e0fc4 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4f2e3a92986df8d8abbaf7d6ed5e0fc4">melee_special_effects</a> (<a class="el" href="classCreature.html">Creature</a> &amp;t, <a class="el" href="structdamage__instance.html">damage_instance</a> &amp;d, <a class="el" href="classitem.html">item</a> &amp;weap)</td></tr>
<tr class="memdesc:a4f2e3a92986df8d8abbaf7d6ed5e0fc4 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles combat effects, returns a string of any valid combat effect messages.  <a href="classCharacter.html#a4f2e3a92986df8d8abbaf7d6ed5e0fc4">More...</a><br /></td></tr>
<tr class="separator:a4f2e3a92986df8d8abbaf7d6ed5e0fc4 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a571fe099172e8743388e0c1ae671f01c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a571fe099172e8743388e0c1ae671f01c">perform_special_attacks</a> (<a class="el" href="classCreature.html">Creature</a> &amp;t, <a class="el" href="structdealt__damage__instance.html">dealt_damage_instance</a> &amp;dealt_dam)</td></tr>
<tr class="memdesc:a571fe099172e8743388e0c1ae671f01c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs special attacks and their effects (poisonous, stinger, etc.)  <a href="classCharacter.html#a571fe099172e8743388e0c1ae671f01c">More...</a><br /></td></tr>
<tr class="separator:a571fe099172e8743388e0c1ae671f01c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff3eb258ff2a3e9868db426b88bd01fb inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structspecial__attack.html">special_attack</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aff3eb258ff2a3e9868db426b88bd01fb">mutation_attacks</a> (<a class="el" href="classCreature.html">Creature</a> &amp;t) const</td></tr>
<tr class="memdesc:aff3eb258ff2a3e9868db426b88bd01fb inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a vector of valid mutation attacks.  <a href="classCharacter.html#aff3eb258ff2a3e9868db426b88bd01fb">More...</a><br /></td></tr>
<tr class="separator:aff3eb258ff2a3e9868db426b88bd01fb inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f82b38c97ad4846469c79667f548c91 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0f82b38c97ad4846469c79667f548c91">bonus_damage</a> (bool random) const</td></tr>
<tr class="memdesc:a0f82b38c97ad4846469c79667f548c91 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the bonus bashing damage the player deals based on their stats.  <a href="classCharacter.html#a0f82b38c97ad4846469c79667f548c91">More...</a><br /></td></tr>
<tr class="separator:a0f82b38c97ad4846469c79667f548c91 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd9c67b16cfa415e2161d84f2c38d429 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#acd9c67b16cfa415e2161d84f2c38d429">get_melee_hit_base</a> () const</td></tr>
<tr class="memdesc:acd9c67b16cfa415e2161d84f2c38d429 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns weapon skill.  <a href="classCharacter.html#acd9c67b16cfa415e2161d84f2c38d429">More...</a><br /></td></tr>
<tr class="separator:acd9c67b16cfa415e2161d84f2c38d429 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b1b6d0e3efd0577ed298752a12d5cd1 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5b1b6d0e3efd0577ed298752a12d5cd1">hit_roll</a> () const override</td></tr>
<tr class="memdesc:a5b1b6d0e3efd0577ed298752a12d5cd1 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the player's basic hit roll that is compared to the target's dodge roll.  <a href="classCharacter.html#a5b1b6d0e3efd0577ed298752a12d5cd1">More...</a><br /></td></tr>
<tr class="separator:a5b1b6d0e3efd0577ed298752a12d5cd1 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a938cbb0dad93f07152c6e81fd270b153 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a938cbb0dad93f07152c6e81fd270b153">crit_chance</a> (float roll_hit, float target_dodge, const <a class="el" href="classitem.html">item</a> &amp;weap) const</td></tr>
<tr class="memdesc:a938cbb0dad93f07152c6e81fd270b153 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the chance to critical given a hit roll and target's dodge roll.  <a href="classCharacter.html#a938cbb0dad93f07152c6e81fd270b153">More...</a><br /></td></tr>
<tr class="separator:a938cbb0dad93f07152c6e81fd270b153 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a873b012bc73634c88ac0f73f613c8e90 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a873b012bc73634c88ac0f73f613c8e90">scored_crit</a> (float target_dodge, const <a class="el" href="classitem.html">item</a> &amp;weap) const</td></tr>
<tr class="memdesc:a873b012bc73634c88ac0f73f613c8e90 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player scores a critical hit.  <a href="classCharacter.html#a873b012bc73634c88ac0f73f613c8e90">More...</a><br /></td></tr>
<tr class="separator:a873b012bc73634c88ac0f73f613c8e90 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f40bb355d62047f8140901ee35995ec inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0f40bb355d62047f8140901ee35995ec">attack_cost</a> (const <a class="el" href="classitem.html">item</a> &amp;weap) const</td></tr>
<tr class="memdesc:a0f40bb355d62047f8140901ee35995ec inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns cost (in moves) of attacking with given item (no modifiers, like stuck)  <a href="classCharacter.html#a0f40bb355d62047f8140901ee35995ec">More...</a><br /></td></tr>
<tr class="separator:a0f40bb355d62047f8140901ee35995ec inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52dfbf13174b42bc92e9bea730b1e1ef inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a52dfbf13174b42bc92e9bea730b1e1ef">get_hit_weapon</a> (const <a class="el" href="classitem.html">item</a> &amp;weap) const</td></tr>
<tr class="memdesc:a52dfbf13174b42bc92e9bea730b1e1ef inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets melee accuracy component from weapon+skills.  <a href="classCharacter.html#a52dfbf13174b42bc92e9bea730b1e1ef">More...</a><br /></td></tr>
<tr class="separator:a52dfbf13174b42bc92e9bea730b1e1ef inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af407abdc309ee04ba3518e6a2fe8e4f4 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af407abdc309ee04ba3518e6a2fe8e4f4">roll_all_damage</a> (bool crit, <a class="el" href="structdamage__instance.html">damage_instance</a> &amp;di, bool average, const <a class="el" href="classitem.html">item</a> &amp;weap) const</td></tr>
<tr class="memdesc:af407abdc309ee04ba3518e6a2fe8e4f4 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds all 3 types of physical damage to instance.  <a href="classCharacter.html#af407abdc309ee04ba3518e6a2fe8e4f4">More...</a><br /></td></tr>
<tr class="separator:af407abdc309ee04ba3518e6a2fe8e4f4 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac32fc7b58853ea8ea8602b622bc734e3 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac32fc7b58853ea8ea8602b622bc734e3">roll_bash_damage</a> (bool crit, <a class="el" href="structdamage__instance.html">damage_instance</a> &amp;di, bool average, const <a class="el" href="classitem.html">item</a> &amp;weap) const</td></tr>
<tr class="memdesc:ac32fc7b58853ea8ea8602b622bc734e3 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds player's total bash damage to the damage instance.  <a href="classCharacter.html#ac32fc7b58853ea8ea8602b622bc734e3">More...</a><br /></td></tr>
<tr class="separator:ac32fc7b58853ea8ea8602b622bc734e3 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3b130209d209a406a440cd28c4b3892 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae3b130209d209a406a440cd28c4b3892">roll_cut_damage</a> (bool crit, <a class="el" href="structdamage__instance.html">damage_instance</a> &amp;di, bool average, const <a class="el" href="classitem.html">item</a> &amp;weap) const</td></tr>
<tr class="memdesc:ae3b130209d209a406a440cd28c4b3892 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds player's total cut damage to the damage instance.  <a href="classCharacter.html#ae3b130209d209a406a440cd28c4b3892">More...</a><br /></td></tr>
<tr class="separator:ae3b130209d209a406a440cd28c4b3892 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dc2dda7c5167120ae5d80ea20adecbd inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0dc2dda7c5167120ae5d80ea20adecbd">roll_stab_damage</a> (bool crit, <a class="el" href="structdamage__instance.html">damage_instance</a> &amp;di, bool average, const <a class="el" href="classitem.html">item</a> &amp;weap) const</td></tr>
<tr class="memdesc:a0dc2dda7c5167120ae5d80ea20adecbd inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds player's total stab damage to the damage instance.  <a href="classCharacter.html#a0dc2dda7c5167120ae5d80ea20adecbd">More...</a><br /></td></tr>
<tr class="separator:a0dc2dda7c5167120ae5d80ea20adecbd inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97727b4427db88fdb98cdda663febc01 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a97727b4427db88fdb98cdda663febc01">did_hit</a> (<a class="el" href="classCreature.html">Creature</a> &amp;target)</td></tr>
<tr class="separator:a97727b4427db88fdb98cdda663febc01 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c11a4f12bee9f80279bff21faa54153 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7c11a4f12bee9f80279bff21faa54153">apply_damage</a> (<a class="el" href="classCreature.html">Creature</a> *source, <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> hurt, int dam, bool bypass_med=false) override</td></tr>
<tr class="memdesc:a7c11a4f12bee9f80279bff21faa54153 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actually hurt the player, hurts a body_part directly, no armor reduction.  <a href="classCharacter.html#a7c11a4f12bee9f80279bff21faa54153">More...</a><br /></td></tr>
<tr class="separator:a7c11a4f12bee9f80279bff21faa54153 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c05090cba2078f9ebefd80e61564be3 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdealt__damage__instance.html">dealt_damage_instance</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2c05090cba2078f9ebefd80e61564be3">deal_damage</a> (<a class="el" href="classCreature.html">Creature</a> *source, <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> bp, const <a class="el" href="structdamage__instance.html">damage_instance</a> &amp;d) override</td></tr>
<tr class="memdesc:a2c05090cba2078f9ebefd80e61564be3 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls <a class="el" href="classCreature.html#a75ad96eb6ce27d3c1df250965b4de7b5" title="Deals the damage via an attack.">Creature::deal_damage</a> and handles damaged effects (waking up, etc.)  <a href="classCharacter.html#a2c05090cba2078f9ebefd80e61564be3">More...</a><br /></td></tr>
<tr class="separator:a2c05090cba2078f9ebefd80e61564be3 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a733f152f1a84a2e73ce4945106aef991 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a733f152f1a84a2e73ce4945106aef991">reduce_healing_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, int remove_med, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;hurt)</td></tr>
<tr class="memdesc:a733f152f1a84a2e73ce4945106aef991 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reduce healing effect intensity, return initial intensity of the effect.  <a href="classCharacter.html#a733f152f1a84a2e73ce4945106aef991">More...</a><br /></td></tr>
<tr class="separator:a733f152f1a84a2e73ce4945106aef991 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5372963458e39e2755de3489b2624ac2 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5372963458e39e2755de3489b2624ac2">cough</a> (bool harmful=false, int loudness=4)</td></tr>
<tr class="separator:a5372963458e39e2755de3489b2624ac2 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab204a367071ffd6cc1d01ec8010222c5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab204a367071ffd6cc1d01ec8010222c5">passive_absorb_hit</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp, <a class="el" href="structdamage__unit.html">damage_unit</a> &amp;du) const</td></tr>
<tr class="memdesc:ab204a367071ffd6cc1d01ec8010222c5 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for relevant passive, non-clothing that can absorb damage, and reduce by specified damage unit.  <a href="classCharacter.html#ab204a367071ffd6cc1d01ec8010222c5">More...</a><br /></td></tr>
<tr class="separator:ab204a367071ffd6cc1d01ec8010222c5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85d9fe86243747421a0d5ea6a56b6951 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a85d9fe86243747421a0d5ea6a56b6951">absorb_hit</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp, <a class="el" href="structdamage__instance.html">damage_instance</a> &amp;dam) override</td></tr>
<tr class="memdesc:a85d9fe86243747421a0d5ea6a56b6951 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs through all bionics and armor on a part and reduces damage through their armor_absorb.  <a href="classCharacter.html#a85d9fe86243747421a0d5ea6a56b6951">More...</a><br /></td></tr>
<tr class="separator:a85d9fe86243747421a0d5ea6a56b6951 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a905e6c7b63246b7b4d11662a434823f2 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a905e6c7b63246b7b4d11662a434823f2">armor_absorb</a> (<a class="el" href="structdamage__unit.html">damage_unit</a> &amp;du, <a class="el" href="classitem.html">item</a> &amp;armor)</td></tr>
<tr class="memdesc:a905e6c7b63246b7b4d11662a434823f2 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reduces and mutates du, prints messages about armor taking damage.  <a href="classCharacter.html#a905e6c7b63246b7b4d11662a434823f2">More...</a><br /></td></tr>
<tr class="separator:a905e6c7b63246b7b4d11662a434823f2 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3239b8e0e5267f981d4e118bbfb3c562 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3239b8e0e5267f981d4e118bbfb3c562">bionic_armor_bonus</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp, <a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a> dt) const</td></tr>
<tr class="memdesc:a3239b8e0e5267f981d4e118bbfb3c562 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for passive bionics that provide armor, and returns the armor bonus This is called from <a class="el" href="classCharacter.html#ab204a367071ffd6cc1d01ec8010222c5" title="Check for relevant passive, non-clothing that can absorb damage, and reduce by specified damage unit.">player::passive_absorb_hit</a>.  <a href="classCharacter.html#a3239b8e0e5267f981d4e118bbfb3c562">More...</a><br /></td></tr>
<tr class="separator:a3239b8e0e5267f981d4e118bbfb3c562 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a067be17c2a1388251743ad81d16565d7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a067be17c2a1388251743ad81d16565d7">mabuff_armor_bonus</a> (<a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a> <a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>) const</td></tr>
<tr class="memdesc:a067be17c2a1388251743ad81d16565d7 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the armor bonus against given type from martial arts buffs.  <a href="classCharacter.html#a067be17c2a1388251743ad81d16565d7">More...</a><br /></td></tr>
<tr class="separator:a067be17c2a1388251743ad81d16565d7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdd96f1417510ccf8ba9d3917a333766 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#abdd96f1417510ccf8ba9d3917a333766">get_armor_fire</a> (const std::map&lt; <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>, std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt; &gt; &amp;clothing_map) const</td></tr>
<tr class="memdesc:abdd96f1417510ccf8ba9d3917a333766 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns overall fire resistance.  <a href="classCharacter.html#abdd96f1417510ccf8ba9d3917a333766">More...</a><br /></td></tr>
<tr class="separator:abdd96f1417510ccf8ba9d3917a333766 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24a6b0d36755a6d26817d2d79efefbc3 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a24a6b0d36755a6d26817d2d79efefbc3">random_good_trait</a> ()</td></tr>
<tr class="memdesc:a24a6b0d36755a6d26817d2d79efefbc3 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the id of a random starting trait that costs &gt;= 0 points.  <a href="classCharacter.html#a24a6b0d36755a6d26817d2d79efefbc3">More...</a><br /></td></tr>
<tr class="separator:a24a6b0d36755a6d26817d2d79efefbc3 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bfe0d5066bcd24d7dad1e6ccdec7405 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3bfe0d5066bcd24d7dad1e6ccdec7405">random_bad_trait</a> ()</td></tr>
<tr class="memdesc:a3bfe0d5066bcd24d7dad1e6ccdec7405 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the id of a random starting trait that costs &lt; 0 points.  <a href="classCharacter.html#a3bfe0d5066bcd24d7dad1e6ccdec7405">More...</a><br /></td></tr>
<tr class="separator:a3bfe0d5066bcd24d7dad1e6ccdec7405 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af06dd97724f4f05df782e7a4b4f9cfe1 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;<a class="el" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>) const override</td></tr>
<tr class="memdesc:af06dd97724f4f05df782e7a4b4f9cfe1 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has the entered trait.  <a href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">More...</a><br /></td></tr>
<tr class="separator:af06dd97724f4f05df782e7a4b4f9cfe1 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e6396a377235ed8f76339fb4d1cff2c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8e6396a377235ed8f76339fb4d1cff2c">has_base_trait</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;<a class="el" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>) const</td></tr>
<tr class="memdesc:a8e6396a377235ed8f76339fb4d1cff2c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has the entered starting trait.  <a href="classCharacter.html#a8e6396a377235ed8f76339fb4d1cff2c">More...</a><br /></td></tr>
<tr class="separator:a8e6396a377235ed8f76339fb4d1cff2c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21a89fdd699655461fd63d27179d3adb inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a21a89fdd699655461fd63d27179d3adb">has_trait_flag</a> (const std::string &amp;<a class="el" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>) const</td></tr>
<tr class="memdesc:a21a89fdd699655461fd63d27179d3adb inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if player has a trait with a flag.  <a href="classCharacter.html#a21a89fdd699655461fd63d27179d3adb">More...</a><br /></td></tr>
<tr class="separator:a21a89fdd699655461fd63d27179d3adb inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a994d6d08223ced277eba3f347db02417 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a994d6d08223ced277eba3f347db02417">trait_by_invlet</a> (int ch) const</td></tr>
<tr class="memdesc:a994d6d08223ced277eba3f347db02417 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the trait id with the given invlet, or an empty string if no trait has that invlet.  <a href="classCharacter.html#a994d6d08223ced277eba3f347db02417">More...</a><br /></td></tr>
<tr class="separator:a994d6d08223ced277eba3f347db02417 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38133c09d1212f8ce51425a763334414 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a38133c09d1212f8ce51425a763334414">toggle_trait</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;)</td></tr>
<tr class="memdesc:a38133c09d1212f8ce51425a763334414 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Toggles a trait on the player and in their mutation list.  <a href="classCharacter.html#a38133c09d1212f8ce51425a763334414">More...</a><br /></td></tr>
<tr class="separator:a38133c09d1212f8ce51425a763334414 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab62ff442fdad1420ab48b1c166af2e89 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab62ff442fdad1420ab48b1c166af2e89">set_mutation</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;)</td></tr>
<tr class="memdesc:ab62ff442fdad1420ab48b1c166af2e89 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add or removes a mutation on the player, but does not trigger mutation loss/gain effects.  <a href="classCharacter.html#ab62ff442fdad1420ab48b1c166af2e89">More...</a><br /></td></tr>
<tr class="separator:ab62ff442fdad1420ab48b1c166af2e89 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d0c8ac674e4cadce1faf3c002353a3b inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4d0c8ac674e4cadce1faf3c002353a3b">unset_mutation</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;)</td></tr>
<tr class="separator:a4d0c8ac674e4cadce1faf3c002353a3b inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae86ddb2e6e48b73e45db4e0504c6b31 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aae86ddb2e6e48b73e45db4e0504c6b31">switch_mutations</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;switched, const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;target, bool start_powered)</td></tr>
<tr class="memdesc:aae86ddb2e6e48b73e45db4e0504c6b31 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unset switched mutation and set target mutation instead.  <a href="classCharacter.html#aae86ddb2e6e48b73e45db4e0504c6b31">More...</a><br /></td></tr>
<tr class="separator:aae86ddb2e6e48b73e45db4e0504c6b31 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed857a178c749c1159a58cd32b5b5749 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aed857a178c749c1159a58cd32b5b5749">activate_mutation</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;mutation)</td></tr>
<tr class="separator:aed857a178c749c1159a58cd32b5b5749 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74fe859b4fd584a4545440c20b5d2fac inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a74fe859b4fd584a4545440c20b5d2fac">deactivate_mutation</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;mut)</td></tr>
<tr class="separator:a74fe859b4fd584a4545440c20b5d2fac inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf3d5d081bee618b84701d090cea91cb inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#adf3d5d081bee618b84701d090cea91cb">mutation_spend_resources</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;mut)</td></tr>
<tr class="memdesc:adf3d5d081bee618b84701d090cea91cb inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the appropriate costs (NOTE: will reapply mods &amp; recalc sightlines in case of newly activated mutation).  <a href="classCharacter.html#adf3d5d081bee618b84701d090cea91cb">More...</a><br /></td></tr>
<tr class="separator:adf3d5d081bee618b84701d090cea91cb inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1027c3406b74da0333b7c5775c53d75 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af1027c3406b74da0333b7c5775c53d75">can_mount</a> (const <a class="el" href="classmonster.html">monster</a> &amp;critter) const</td></tr>
<tr class="separator:af1027c3406b74da0333b7c5775c53d75 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47a9878edd9b95afc9f39e089fb9ebb2 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a47a9878edd9b95afc9f39e089fb9ebb2">mount_creature</a> (<a class="el" href="classmonster.html">monster</a> &amp;z)</td></tr>
<tr class="separator:a47a9878edd9b95afc9f39e089fb9ebb2 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67b51491c2529df09755e07bc633cc55 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a> () const</td></tr>
<tr class="separator:a67b51491c2529df09755e07bc633cc55 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31ed0095166e5c2ac942a478235f9479 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a31ed0095166e5c2ac942a478235f9479">check_mount_will_move</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;dest_loc)</td></tr>
<tr class="separator:a31ed0095166e5c2ac942a478235f9479 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fd5d15584cef6560f7d62ae2ad61176 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2fd5d15584cef6560f7d62ae2ad61176">check_mount_is_spooked</a> ()</td></tr>
<tr class="separator:a2fd5d15584cef6560f7d62ae2ad61176 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaf7be942d78e96f7bd09e7b8efd1599 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#adaf7be942d78e96f7bd09e7b8efd1599">dismount</a> ()</td></tr>
<tr class="separator:adaf7be942d78e96f7bd09e7b8efd1599 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85a591640ed5dec800bd4e6e42241fbf inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a85a591640ed5dec800bd4e6e42241fbf">forced_dismount</a> ()</td></tr>
<tr class="separator:a85a591640ed5dec800bd4e6e42241fbf inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecadb13556a47d015e1a1ac7c46d56a7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aecadb13556a47d015e1a1ac7c46d56a7">is_deaf</a> () const</td></tr>
<tr class="separator:aecadb13556a47d015e1a1ac7c46d56a7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e2d2e1c01bfbb36401ae221300370f5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8e2d2e1c01bfbb36401ae221300370f5">has_two_arms</a> () const</td></tr>
<tr class="memdesc:a8e2d2e1c01bfbb36401ae221300370f5 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has two functioning arms.  <a href="classCharacter.html#a8e2d2e1c01bfbb36401ae221300370f5">More...</a><br /></td></tr>
<tr class="separator:a8e2d2e1c01bfbb36401ae221300370f5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c2f4c860613a583174fea53b3572831 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0c2f4c860613a583174fea53b3572831">get_working_arm_count</a> () const</td></tr>
<tr class="memdesc:a0c2f4c860613a583174fea53b3572831 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of functioning arms.  <a href="classCharacter.html#a0c2f4c860613a583174fea53b3572831">More...</a><br /></td></tr>
<tr class="separator:a0c2f4c860613a583174fea53b3572831 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a263014a43f6feb8ef0666f1de36e2853 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a263014a43f6feb8ef0666f1de36e2853">get_working_leg_count</a> () const</td></tr>
<tr class="memdesc:a263014a43f6feb8ef0666f1de36e2853 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of functioning legs.  <a href="classCharacter.html#a263014a43f6feb8ef0666f1de36e2853">More...</a><br /></td></tr>
<tr class="separator:a263014a43f6feb8ef0666f1de36e2853 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfc07741b8d2a11c4fd4981e9dd048b4 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#adfc07741b8d2a11c4fd4981e9dd048b4">is_limb_disabled</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;limb) const</td></tr>
<tr class="memdesc:adfc07741b8d2a11c4fd4981e9dd048b4 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the limb is disabled(12.5% or less hp)  <a href="classCharacter.html#adfc07741b8d2a11c4fd4981e9dd048b4">More...</a><br /></td></tr>
<tr class="separator:adfc07741b8d2a11c4fd4981e9dd048b4 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f999accadac02b4af7fb460136767ea inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2f999accadac02b4af7fb460136767ea">is_limb_hindered</a> (<a class="el" href="pldata_8h.html#a51c99b582921c7fe956e6cb62a7b8fe0">hp_part</a> limb) const</td></tr>
<tr class="memdesc:a2f999accadac02b4af7fb460136767ea inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the limb is hindered(40% or less hp)  <a href="classCharacter.html#a2f999accadac02b4af7fb460136767ea">More...</a><br /></td></tr>
<tr class="separator:a2f999accadac02b4af7fb460136767ea inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2245aed6c7279986f42ef9208e816c0 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac2245aed6c7279986f42ef9208e816c0">is_limb_broken</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;limb) const</td></tr>
<tr class="memdesc:ac2245aed6c7279986f42ef9208e816c0 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the limb is broken.  <a href="classCharacter.html#ac2245aed6c7279986f42ef9208e816c0">More...</a><br /></td></tr>
<tr class="separator:ac2245aed6c7279986f42ef9208e816c0 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a1dd6df0e3771b8a49495d837051050 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2a1dd6df0e3771b8a49495d837051050">can_run</a> ()</td></tr>
<tr class="memdesc:a2a1dd6df0e3771b8a49495d837051050 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">source of truth of whether a <a class="el" href="classCharacter.html">Character</a> can run  <a href="classCharacter.html#a2a1dd6df0e3771b8a49495d837051050">More...</a><br /></td></tr>
<tr class="separator:a2a1dd6df0e3771b8a49495d837051050 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad30aa5db93626016bfc8ac32f848f82d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad30aa5db93626016bfc8ac32f848f82d">hurtall</a> (int dam, <a class="el" href="classCreature.html">Creature</a> *source, bool disturb=true)</td></tr>
<tr class="memdesc:ad30aa5db93626016bfc8ac32f848f82d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hurts all body parts for dam, no armor reduction.  <a href="classCharacter.html#ad30aa5db93626016bfc8ac32f848f82d">More...</a><br /></td></tr>
<tr class="separator:ad30aa5db93626016bfc8ac32f848f82d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59ce503ce81563ebcc1da591816a7b7c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a59ce503ce81563ebcc1da591816a7b7c">hitall</a> (int dam, int vary, <a class="el" href="classCreature.html">Creature</a> *source)</td></tr>
<tr class="memdesc:a59ce503ce81563ebcc1da591816a7b7c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Harms all body parts for dam, with armor reduction.  <a href="classCharacter.html#a59ce503ce81563ebcc1da591816a7b7c">More...</a><br /></td></tr>
<tr class="separator:a59ce503ce81563ebcc1da591816a7b7c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7755cc128b0dccace5cfc24ff5dd392c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7755cc128b0dccace5cfc24ff5dd392c">on_hurt</a> (<a class="el" href="classCreature.html">Creature</a> *source, bool disturb=true)</td></tr>
<tr class="memdesc:a7755cc128b0dccace5cfc24ff5dd392c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles effects that happen when the player is damaged and aware of the fact.  <a href="classCharacter.html#a7755cc128b0dccace5cfc24ff5dd392c">More...</a><br /></td></tr>
<tr class="separator:a7755cc128b0dccace5cfc24ff5dd392c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa37435b78aa0bc1f7d77b6e4cbcea996 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa37435b78aa0bc1f7d77b6e4cbcea996">heal</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;healed, int dam)</td></tr>
<tr class="memdesc:aa37435b78aa0bc1f7d77b6e4cbcea996 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Heals a body_part for dam.  <a href="classCharacter.html#aa37435b78aa0bc1f7d77b6e4cbcea996">More...</a><br /></td></tr>
<tr class="separator:aa37435b78aa0bc1f7d77b6e4cbcea996 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7a558a2455f552673b825e3ad2e0fd4 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae7a558a2455f552673b825e3ad2e0fd4">healall</a> (int dam)</td></tr>
<tr class="memdesc:ae7a558a2455f552673b825e3ad2e0fd4 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Heals all body parts for dam.  <a href="classCharacter.html#ae7a558a2455f552673b825e3ad2e0fd4">More...</a><br /></td></tr>
<tr class="separator:ae7a558a2455f552673b825e3ad2e0fd4 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a3aee03c9178a74889be4ba3c557d9c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pldata_8h.html#a51c99b582921c7fe956e6cb62a7b8fe0">hp_part</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3a3aee03c9178a74889be4ba3c557d9c">body_window</a> (const std::string &amp;menu_header, bool show_all, bool precise, int normal_bonus, int head_bonus, int torso_bonus, float <a class="el" href="classCreature.html#a303fcc58869f10f44be1d598ed1aa26f">bleed</a>, float bite, float infect, float bandage_power, float disinfectant_power) const</td></tr>
<tr class="memdesc:a3a3aee03c9178a74889be4ba3c557d9c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Displays menu with body part hp, optionally with hp estimation after healing.  <a href="classCharacter.html#a3a3aee03c9178a74889be4ba3c557d9c">More...</a><br /></td></tr>
<tr class="separator:a3a3aee03c9178a74889be4ba3c557d9c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77c7a5adc51e77396f672ac2f33f8c10 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnc__color.html">nc_color</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a77c7a5adc51e77396f672ac2f33f8c10">limb_color</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp, bool <a class="el" href="classCreature.html#a303fcc58869f10f44be1d598ed1aa26f">bleed</a>, bool bite, bool infect) const</td></tr>
<tr class="separator:a77c7a5adc51e77396f672ac2f33f8c10 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf37a95251d21b51493b472af0dd4918 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#acf37a95251d21b51493b472af0dd4918">made_of</a> (const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &amp;m) const override</td></tr>
<tr class="separator:acf37a95251d21b51493b472af0dd4918 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a371719c513bb4291033d51c570f3bb25 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a371719c513bb4291033d51c570f3bb25">made_of_any</a> (const std::set&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt; &amp;ms) const override</td></tr>
<tr class="separator:a371719c513bb4291033d51c570f3bb25 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a464e960411f87bd3be76d5142dc255cb inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a> () const override</td></tr>
<tr class="separator:a464e960411f87bd3be76d5142dc255cb inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b4d2e6bf4190c6470b282ce60183c0f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a> () const override</td></tr>
<tr class="separator:a4b4d2e6bf4190c6470b282ce60183c0f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d0cb32a95161137e0c61303f84b3753 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0d0cb32a95161137e0c61303f84b3753">posz</a> () const override</td></tr>
<tr class="separator:a0d0cb32a95161137e0c61303f84b3753 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a341eed703fc5d19da9766df8ce7fb105 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a341eed703fc5d19da9766df8ce7fb105">setx</a> (int x)</td></tr>
<tr class="separator:a341eed703fc5d19da9766df8ce7fb105 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73694b53ed29e4876a0b395bf63524f5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a73694b53ed29e4876a0b395bf63524f5">sety</a> (int y)</td></tr>
<tr class="separator:a73694b53ed29e4876a0b395bf63524f5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38cd11d564c5d7230b055a326cd89b3a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a38cd11d564c5d7230b055a326cd89b3a">setz</a> (int z)</td></tr>
<tr class="separator:a38cd11d564c5d7230b055a326cd89b3a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81bb9016c05d558713f6bce2512cd9e5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a81bb9016c05d558713f6bce2512cd9e5">setpos</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p) override</td></tr>
<tr class="separator:a81bb9016c05d558713f6bce2512cd9e5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9215cea1ebd608a259e1eafa97eb938c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="structtripoint.html">tripoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9215cea1ebd608a259e1eafa97eb938c">global_square_location</a> () const</td></tr>
<tr class="memdesc:a9215cea1ebd608a259e1eafa97eb938c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global position, expressed in map square coordinate system (the most detailed coordinate system), used by the <a class="el" href="classmap.html">map</a>.  <a href="classCharacter.html#a9215cea1ebd608a259e1eafa97eb938c">More...</a><br /></td></tr>
<tr class="separator:a9215cea1ebd608a259e1eafa97eb938c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d8533249182cd0cfc6feefb81349e3e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtripoint.html">tripoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6d8533249182cd0cfc6feefb81349e3e">global_sm_location</a> () const</td></tr>
<tr class="memdesc:a6d8533249182cd0cfc6feefb81349e3e inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the location of the player in global submap coordinates.  <a href="classCharacter.html#a6d8533249182cd0cfc6feefb81349e3e">More...</a><br /></td></tr>
<tr class="separator:a6d8533249182cd0cfc6feefb81349e3e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af254fa44c7792574ff19973b0fa06b36 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af254fa44c7792574ff19973b0fa06b36">global_omt_location</a> () const</td></tr>
<tr class="memdesc:af254fa44c7792574ff19973b0fa06b36 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the location of the player in global overmap terrain coordinates.  <a href="classCharacter.html#af254fa44c7792574ff19973b0fa06b36">More...</a><br /></td></tr>
<tr class="separator:af254fa44c7792574ff19973b0fa06b36 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6396870f289f9c3b1dc4ea91f7a65f0 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa6396870f289f9c3b1dc4ea91f7a65f0">recalculate_enchantment_cache</a> ()</td></tr>
<tr class="separator:aa6396870f289f9c3b1dc4ea91f7a65f0 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af42d5b979b1ccff52b5694aa632e18a7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af42d5b979b1ccff52b5694aa632e18a7">rebuild_mutation_cache</a> ()</td></tr>
<tr class="separator:af42d5b979b1ccff52b5694aa632e18a7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc248f444bde56349dc619c48a549c04 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#adc248f444bde56349dc619c48a549c04">bonus_from_enchantments</a> (double base, <a class="el" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">enchant_vals::mod</a> value, bool round=false) const</td></tr>
<tr class="memdesc:adc248f444bde56349dc619c48a549c04 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate bonus from enchantments for given base value.  <a href="classCharacter.html#adc248f444bde56349dc619c48a549c04">More...</a><br /></td></tr>
<tr class="separator:adc248f444bde56349dc619c48a549c04 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30758f5470796263905645b6e2045823 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a30758f5470796263905645b6e2045823">has_mabuff</a> (const <a class="el" href="type__id_8h.html#ab7f29b5d54b88570b013def0d9ec46c5">mabuff_id</a> &amp;buff_id) const</td></tr>
<tr class="memdesc:a30758f5470796263905645b6e2045823 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has any martial arts buffs attached.  <a href="classCharacter.html#a30758f5470796263905645b6e2045823">More...</a><br /></td></tr>
<tr class="separator:a30758f5470796263905645b6e2045823 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951d934cb1eaf57e53e7aca48012d17a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a951d934cb1eaf57e53e7aca48012d17a">has_grab_break_tec</a> () const override</td></tr>
<tr class="memdesc:a951d934cb1eaf57e53e7aca48012d17a inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has a grab breaking technique available.  <a href="classCharacter.html#a951d934cb1eaf57e53e7aca48012d17a">More...</a><br /></td></tr>
<tr class="separator:a951d934cb1eaf57e53e7aca48012d17a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82b5731962ce55debdae4d0d1283145b inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a82b5731962ce55debdae4d0d1283145b">mabuff_tohit_bonus</a> () const</td></tr>
<tr class="memdesc:a82b5731962ce55debdae4d0d1283145b inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the to hit bonus from martial arts buffs.  <a href="classCharacter.html#a82b5731962ce55debdae4d0d1283145b">More...</a><br /></td></tr>
<tr class="separator:a82b5731962ce55debdae4d0d1283145b inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba0dd3cd625129fd3792d9cf10bf5f77 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aba0dd3cd625129fd3792d9cf10bf5f77">mabuff_dodge_bonus</a> () const</td></tr>
<tr class="memdesc:aba0dd3cd625129fd3792d9cf10bf5f77 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the dodge bonus from martial arts buffs.  <a href="classCharacter.html#aba0dd3cd625129fd3792d9cf10bf5f77">More...</a><br /></td></tr>
<tr class="separator:aba0dd3cd625129fd3792d9cf10bf5f77 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eeb135fc18687ba646838541401a4fc inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3eeb135fc18687ba646838541401a4fc">mabuff_block_bonus</a> () const</td></tr>
<tr class="memdesc:a3eeb135fc18687ba646838541401a4fc inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the block bonus from martial arts buffs.  <a href="classCharacter.html#a3eeb135fc18687ba646838541401a4fc">More...</a><br /></td></tr>
<tr class="separator:a3eeb135fc18687ba646838541401a4fc inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e068564c87eb2d870e67eefb63ef144 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8e068564c87eb2d870e67eefb63ef144">mabuff_speed_bonus</a> () const</td></tr>
<tr class="memdesc:a8e068564c87eb2d870e67eefb63ef144 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the speed bonus from martial arts buffs.  <a href="classCharacter.html#a8e068564c87eb2d870e67eefb63ef144">More...</a><br /></td></tr>
<tr class="separator:a8e068564c87eb2d870e67eefb63ef144 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06cbcb9643c29a14596ebfb3898c0604 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a06cbcb9643c29a14596ebfb3898c0604">mabuff_arpen_bonus</a> (<a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a> <a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>) const</td></tr>
<tr class="memdesc:a06cbcb9643c29a14596ebfb3898c0604 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the arpen bonus from martial arts buffs.  <a href="classCharacter.html#a06cbcb9643c29a14596ebfb3898c0604">More...</a><br /></td></tr>
<tr class="separator:a06cbcb9643c29a14596ebfb3898c0604 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad448bf4ad337d67e101b82a3a6cdf63c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad448bf4ad337d67e101b82a3a6cdf63c">mabuff_damage_mult</a> (<a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a> <a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>) const</td></tr>
<tr class="memdesc:ad448bf4ad337d67e101b82a3a6cdf63c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the damage multiplier to given type from martial arts buffs.  <a href="classCharacter.html#ad448bf4ad337d67e101b82a3a6cdf63c">More...</a><br /></td></tr>
<tr class="separator:ad448bf4ad337d67e101b82a3a6cdf63c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a998afd4d1531b2d30d6359251adea36f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a998afd4d1531b2d30d6359251adea36f">mabuff_damage_bonus</a> (<a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a> <a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>) const</td></tr>
<tr class="memdesc:a998afd4d1531b2d30d6359251adea36f inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the flat damage bonus to given type from martial arts buffs, applied after the multiplier.  <a href="classCharacter.html#a998afd4d1531b2d30d6359251adea36f">More...</a><br /></td></tr>
<tr class="separator:a998afd4d1531b2d30d6359251adea36f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eece162a8db63865d24f9d11f0bb2a9 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8eece162a8db63865d24f9d11f0bb2a9">mabuff_attack_cost_penalty</a> () const</td></tr>
<tr class="memdesc:a8eece162a8db63865d24f9d11f0bb2a9 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the flat penalty to move cost of attacks.  <a href="classCharacter.html#a8eece162a8db63865d24f9d11f0bb2a9">More...</a><br /></td></tr>
<tr class="separator:a8eece162a8db63865d24f9d11f0bb2a9 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6787b1c99c8fac24ff9f7d8147708f99 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6787b1c99c8fac24ff9f7d8147708f99">mabuff_attack_cost_mult</a> () const</td></tr>
<tr class="memdesc:a6787b1c99c8fac24ff9f7d8147708f99 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the multiplier on move cost of attacks.  <a href="classCharacter.html#a6787b1c99c8fac24ff9f7d8147708f99">More...</a><br /></td></tr>
<tr class="separator:a6787b1c99c8fac24ff9f7d8147708f99 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada4240bc77c5457515f3fed9ff8678e7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ada4240bc77c5457515f3fed9ff8678e7">mutation_effect</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;mut)</td></tr>
<tr class="memdesc:ada4240bc77c5457515f3fed9ff8678e7 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles things like removal of armor, etc.  <a href="classCharacter.html#ada4240bc77c5457515f3fed9ff8678e7">More...</a><br /></td></tr>
<tr class="separator:ada4240bc77c5457515f3fed9ff8678e7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acda9c561191689a3bdf5ecbd7474ccd3 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#acda9c561191689a3bdf5ecbd7474ccd3">mutation_loss_effect</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;mut)</td></tr>
<tr class="memdesc:acda9c561191689a3bdf5ecbd7474ccd3 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles what happens when you lose a mutation.  <a href="classCharacter.html#acda9c561191689a3bdf5ecbd7474ccd3">More...</a><br /></td></tr>
<tr class="separator:acda9c561191689a3bdf5ecbd7474ccd3 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a225de862f8875f9ff96ec8a303213404 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a225de862f8875f9ff96ec8a303213404">has_active_mutation</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;<a class="el" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>) const</td></tr>
<tr class="separator:a225de862f8875f9ff96ec8a303213404 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a219dfd606ef95e169114487e61ba0ad7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a219dfd606ef95e169114487e61ba0ad7">mutate</a> ()</td></tr>
<tr class="memdesc:a219dfd606ef95e169114487e61ba0ad7 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Picks a random valid mutation and gives it to the <a class="el" href="classCharacter.html">Character</a>, possibly removing/changing others along the way.  <a href="classCharacter.html#a219dfd606ef95e169114487e61ba0ad7">More...</a><br /></td></tr>
<tr class="separator:a219dfd606ef95e169114487e61ba0ad7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76d9825c0441355c9b62c1b7bd2ec92d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a76d9825c0441355c9b62c1b7bd2ec92d">mutation_ok</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;mutation, bool force_good, bool force_bad) const</td></tr>
<tr class="memdesc:a76d9825c0441355c9b62c1b7bd2ec92d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player doesn't have the mutation or a conflicting one and it complies with the force typing.  <a href="classCharacter.html#a76d9825c0441355c9b62c1b7bd2ec92d">More...</a><br /></td></tr>
<tr class="separator:a76d9825c0441355c9b62c1b7bd2ec92d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00716e2ac25311496743b19eb9c598f1 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a00716e2ac25311496743b19eb9c598f1">mutate_category</a> (const std::string &amp;mut_cat)</td></tr>
<tr class="memdesc:a00716e2ac25311496743b19eb9c598f1 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Picks a random valid mutation in a category and <a class="el" href="classCharacter.html#a67387b284ee20256fa226a968f64077f" title="Mutates toward one of the given mutations, upgrading or removing conflicts if necessary.">mutate_towards()</a> it.  <a href="classCharacter.html#a00716e2ac25311496743b19eb9c598f1">More...</a><br /></td></tr>
<tr class="separator:a00716e2ac25311496743b19eb9c598f1 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67387b284ee20256fa226a968f64077f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a67387b284ee20256fa226a968f64077f">mutate_towards</a> (std::vector&lt; <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &gt; muts, int num_tries=INT_MAX)</td></tr>
<tr class="memdesc:a67387b284ee20256fa226a968f64077f inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutates toward one of the given mutations, upgrading or removing conflicts if necessary.  <a href="classCharacter.html#a67387b284ee20256fa226a968f64077f">More...</a><br /></td></tr>
<tr class="separator:a67387b284ee20256fa226a968f64077f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6047332981f6570a01c90c043136b213 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6047332981f6570a01c90c043136b213">mutate_towards</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;mut)</td></tr>
<tr class="memdesc:a6047332981f6570a01c90c043136b213 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutates toward the entered mutation, upgrading or removing conflicts if necessary.  <a href="classCharacter.html#a6047332981f6570a01c90c043136b213">More...</a><br /></td></tr>
<tr class="separator:a6047332981f6570a01c90c043136b213 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1874479b9834819441c65081acf5fa05 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1874479b9834819441c65081acf5fa05">remove_mutation</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;mut, bool <a class="el" href="weather__type_8h.html#a72d839b22172d982273f161206458e25aea0954256baa532a790715983c326a09">silent</a>=false)</td></tr>
<tr class="memdesc:a1874479b9834819441c65081acf5fa05 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a mutation, downgrading to the previous level if possible.  <a href="classCharacter.html#a1874479b9834819441c65081acf5fa05">More...</a><br /></td></tr>
<tr class="separator:a1874479b9834819441c65081acf5fa05 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6fe11859a8d16d6cc9c12bb34f75304 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a>, float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa6fe11859a8d16d6cc9c12bb34f75304">mutation_chances</a> () const</td></tr>
<tr class="memdesc:aa6fe11859a8d16d6cc9c12bb34f75304 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate percentage chances for mutations.  <a href="classCharacter.html#aa6fe11859a8d16d6cc9c12bb34f75304">More...</a><br /></td></tr>
<tr class="separator:aa6fe11859a8d16d6cc9c12bb34f75304 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ca417c4b79b9953854ded86301115e6 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2ca417c4b79b9953854ded86301115e6">has_child_flag</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;flag) const</td></tr>
<tr class="memdesc:a2ca417c4b79b9953854ded86301115e6 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has the entered mutation child flag.  <a href="classCharacter.html#a2ca417c4b79b9953854ded86301115e6">More...</a><br /></td></tr>
<tr class="separator:a2ca417c4b79b9953854ded86301115e6 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d3b55d33385a671a2dea6aa47b2abd4 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3d3b55d33385a671a2dea6aa47b2abd4">remove_child_flag</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;flag)</td></tr>
<tr class="memdesc:a3d3b55d33385a671a2dea6aa47b2abd4 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the mutation's child flag from the player's list.  <a href="classCharacter.html#a3d3b55d33385a671a2dea6aa47b2abd4">More...</a><br /></td></tr>
<tr class="separator:a3d3b55d33385a671a2dea6aa47b2abd4 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af76abcd5937e9328d9a0cf475b733ca7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af76abcd5937e9328d9a0cf475b733ca7">set_highest_cat_level</a> ()</td></tr>
<tr class="memdesc:af76abcd5937e9328d9a0cf475b733ca7 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculates mutation_category_level[] values for the player.  <a href="classCharacter.html#af76abcd5937e9328d9a0cf475b733ca7">More...</a><br /></td></tr>
<tr class="separator:af76abcd5937e9328d9a0cf475b733ca7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab16d86fdaf75c28043679273a8c74843 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab16d86fdaf75c28043679273a8c74843">get_highest_category</a> () const</td></tr>
<tr class="memdesc:ab16d86fdaf75c28043679273a8c74843 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the highest mutation category.  <a href="classCharacter.html#ab16d86fdaf75c28043679273a8c74843">More...</a><br /></td></tr>
<tr class="separator:ab16d86fdaf75c28043679273a8c74843 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b31d50521b10bc44d596fa71efa0239 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5b31d50521b10bc44d596fa71efa0239">drench_mut_calc</a> ()</td></tr>
<tr class="memdesc:a5b31d50521b10bc44d596fa71efa0239 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculates mutation drench protection for all bodyparts (ignored/good/neutral stats)  <a href="classCharacter.html#a5b31d50521b10bc44d596fa71efa0239">More...</a><br /></td></tr>
<tr class="separator:a5b31d50521b10bc44d596fa71efa0239 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83b09148b1c4ac73a92cf7ccd4f98b39 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a83b09148b1c4ac73a92cf7ccd4f98b39">build_mut_dependency_map</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;mut, std::unordered_map&lt; <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a>, int &gt; &amp;dependency_map, int distance)</td></tr>
<tr class="memdesc:a83b09148b1c4ac73a92cf7ccd4f98b39 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recursively traverses the mutation's prerequisites and replacements, building up a map.  <a href="classCharacter.html#a83b09148b1c4ac73a92cf7ccd4f98b39">More...</a><br /></td></tr>
<tr class="separator:a83b09148b1c4ac73a92cf7ccd4f98b39 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a923d20387a523e8dbdacb8914acf4b08 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a923d20387a523e8dbdacb8914acf4b08">is_category_allowed</a> (const std::vector&lt; std::string &gt; &amp;category) const</td></tr>
<tr class="memdesc:a923d20387a523e8dbdacb8914acf4b08 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this category of mutation is allowed.  <a href="classCharacter.html#a923d20387a523e8dbdacb8914acf4b08">More...</a><br /></td></tr>
<tr class="separator:a923d20387a523e8dbdacb8914acf4b08 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae32d9e1d4bdf4e9da598e0c1cf2abed3 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae32d9e1d4bdf4e9da598e0c1cf2abed3">is_category_allowed</a> (const std::string &amp;category) const</td></tr>
<tr class="separator:ae32d9e1d4bdf4e9da598e0c1cf2abed3 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71766d717abb48ac8d03c177d56655fa inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a71766d717abb48ac8d03c177d56655fa">is_weak_to_water</a> () const</td></tr>
<tr class="separator:a71766d717abb48ac8d03c177d56655fa inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b498c99a1da1340c9bd4472e58d7ad9 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1b498c99a1da1340c9bd4472e58d7ad9">can_use_heal_item</a> (const <a class="el" href="classitem.html">item</a> &amp;med) const</td></tr>
<tr class="memdesc:a1b498c99a1da1340c9bd4472e58d7ad9 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for mutation disallowing the use of an healing item.  <a href="classCharacter.html#a1b498c99a1da1340c9bd4472e58d7ad9">More...</a><br /></td></tr>
<tr class="separator:a1b498c99a1da1340c9bd4472e58d7ad9 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1773b88cb3d9ebcd09ede7111def23dc inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1773b88cb3d9ebcd09ede7111def23dc">can_install_cbm_on_bp</a> (const std::vector&lt; <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &gt; &amp;bps) const</td></tr>
<tr class="separator:a1773b88cb3d9ebcd09ede7111def23dc inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7715263fb670ef77ee4dfc42791b1db inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structresistances.html">resistances</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad7715263fb670ef77ee4dfc42791b1db">mutation_armor</a> (<a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> bp) const</td></tr>
<tr class="memdesc:ad7715263fb670ef77ee4dfc42791b1db inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns resistances on a body part provided by mutations.  <a href="classCharacter.html#ad7715263fb670ef77ee4dfc42791b1db">More...</a><br /></td></tr>
<tr class="separator:ad7715263fb670ef77ee4dfc42791b1db inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b0e16ae266c55b2dd731a2b44c341a7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2b0e16ae266c55b2dd731a2b44c341a7">mutation_armor</a> (<a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> bp, <a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a> dt) const</td></tr>
<tr class="separator:a2b0e16ae266c55b2dd731a2b44c341a7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af98d7533575d6d86570f4391ac27516b inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af98d7533575d6d86570f4391ac27516b">mutation_armor</a> (<a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> bp, const <a class="el" href="structdamage__unit.html">damage_unit</a> &amp;du) const</td></tr>
<tr class="separator:af98d7533575d6d86570f4391ac27516b inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a893b252cf4169a00e8f707c65d11f5fe inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a893b252cf4169a00e8f707c65d11f5fe">activate_bionic</a> (int <a class="el" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>, bool eff_only=false)</td></tr>
<tr class="memdesc:a893b252cf4169a00e8f707c65d11f5fe inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles bionic activation effects of the entered bionic, returns if anything activated.  <a href="classCharacter.html#a893b252cf4169a00e8f707c65d11f5fe">More...</a><br /></td></tr>
<tr class="separator:a893b252cf4169a00e8f707c65d11f5fe inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae798c58ced01966f567d2c6fa6971eb8 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae798c58ced01966f567d2c6fa6971eb8">get_bionics</a> () const</td></tr>
<tr class="separator:ae798c58ced01966f567d2c6fa6971eb8 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a642f3deb74df182d5932e1ed4724e590 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::pair&lt; int, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a642f3deb74df182d5932e1ed4724e590">amount_of_storage_bionics</a> () const</td></tr>
<tr class="memdesc:a642f3deb74df182d5932e1ed4724e590 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns amount of Storage CBMs in the corpse.  <a href="classCharacter.html#a642f3deb74df182d5932e1ed4724e590">More...</a><br /></td></tr>
<tr class="separator:a642f3deb74df182d5932e1ed4724e590 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5751b689e5a4ecd43b6de5c3e2d31541 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a> (const <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> &amp;<a class="el" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>) const</td></tr>
<tr class="memdesc:a5751b689e5a4ecd43b6de5c3e2d31541 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has the entered bionic id.  <a href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">More...</a><br /></td></tr>
<tr class="separator:a5751b689e5a4ecd43b6de5c3e2d31541 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9c7419575e23d52745c94009929fafb inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af9c7419575e23d52745c94009929fafb">has_active_bionic</a> (const <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> &amp;<a class="el" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>) const</td></tr>
<tr class="memdesc:af9c7419575e23d52745c94009929fafb inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has the entered bionic id and it is powered on.  <a href="classCharacter.html#af9c7419575e23d52745c94009929fafb">More...</a><br /></td></tr>
<tr class="separator:af9c7419575e23d52745c94009929fafb inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a683fe237dea8057351da3bdb775699b3 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a683fe237dea8057351da3bdb775699b3">has_any_bionic</a> () const</td></tr>
<tr class="memdesc:a683fe237dea8057351da3bdb775699b3 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has any bionic.  <a href="classCharacter.html#a683fe237dea8057351da3bdb775699b3">More...</a><br /></td></tr>
<tr class="separator:a683fe237dea8057351da3bdb775699b3 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98634805ba288293c54905c26cb5e8a2 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a98634805ba288293c54905c26cb5e8a2">can_fuel_bionic_with</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:a98634805ba288293c54905c26cb5e8a2 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the character can fuel a bionic with the item.  <a href="classCharacter.html#a98634805ba288293c54905c26cb5e8a2">More...</a><br /></td></tr>
<tr class="separator:a98634805ba288293c54905c26cb5e8a2 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ed6a6f9d344eddefc42ea45e3f19dfa inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4ed6a6f9d344eddefc42ea45e3f19dfa">get_bionic_fueled_with</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:a4ed6a6f9d344eddefc42ea45e3f19dfa inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return bionic_id of bionics able to use it as fuel.  <a href="classCharacter.html#a4ed6a6f9d344eddefc42ea45e3f19dfa">More...</a><br /></td></tr>
<tr class="separator:a4ed6a6f9d344eddefc42ea45e3f19dfa inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b208d2f40f1ae46337013f16c4a30a3 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2b208d2f40f1ae46337013f16c4a30a3">get_fueled_bionics</a> () const</td></tr>
<tr class="memdesc:a2b208d2f40f1ae46337013f16c4a30a3 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return bionic_id of fueled bionics.  <a href="classCharacter.html#a2b208d2f40f1ae46337013f16c4a30a3">More...</a><br /></td></tr>
<tr class="separator:a2b208d2f40f1ae46337013f16c4a30a3 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95f78cc0cde76f0a1428f6abd8742548 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a95f78cc0cde76f0a1428f6abd8742548">get_remote_fueled_bionic</a> () const</td></tr>
<tr class="memdesc:a95f78cc0cde76f0a1428f6abd8742548 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns bionic_id of first remote fueled bionic found.  <a href="classCharacter.html#a95f78cc0cde76f0a1428f6abd8742548">More...</a><br /></td></tr>
<tr class="separator:a95f78cc0cde76f0a1428f6abd8742548 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84cc7c0ee05228b3b6eec72c16335f47 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a84cc7c0ee05228b3b6eec72c16335f47">get_most_efficient_bionic</a> (const std::vector&lt; <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> &gt; &amp;bids) const</td></tr>
<tr class="memdesc:a84cc7c0ee05228b3b6eec72c16335f47 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return bionic_id of bionic of most fuel efficient bionic.  <a href="classCharacter.html#a84cc7c0ee05228b3b6eec72c16335f47">More...</a><br /></td></tr>
<tr class="separator:a84cc7c0ee05228b3b6eec72c16335f47 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a005fa396edce8bcf39c8ec47b8ab5294 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a005fa396edce8bcf39c8ec47b8ab5294">get_fuel_available</a> (const <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> &amp;bio) const</td></tr>
<tr class="memdesc:a005fa396edce8bcf39c8ec47b8ab5294 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return list of available fuel for this bionic.  <a href="classCharacter.html#a005fa396edce8bcf39c8ec47b8ab5294">More...</a><br /></td></tr>
<tr class="separator:a005fa396edce8bcf39c8ec47b8ab5294 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3fa3ed689e34de72fee39d15753d2b6 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af3fa3ed689e34de72fee39d15753d2b6">get_fuel_capacity</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;fuel) const</td></tr>
<tr class="memdesc:af3fa3ed689e34de72fee39d15753d2b6 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return available space to store specified fuel.  <a href="classCharacter.html#af3fa3ed689e34de72fee39d15753d2b6">More...</a><br /></td></tr>
<tr class="separator:af3fa3ed689e34de72fee39d15753d2b6 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad05c4c6e976672ab7d74e96db3c9f51e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad05c4c6e976672ab7d74e96db3c9f51e">get_total_fuel_capacity</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;fuel) const</td></tr>
<tr class="memdesc:ad05c4c6e976672ab7d74e96db3c9f51e inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return total space to store specified fuel.  <a href="classCharacter.html#ad05c4c6e976672ab7d74e96db3c9f51e">More...</a><br /></td></tr>
<tr class="separator:ad05c4c6e976672ab7d74e96db3c9f51e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac784c8908bd868115933c363e77cc0a6 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac784c8908bd868115933c363e77cc0a6">update_fuel_storage</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;fuel)</td></tr>
<tr class="memdesc:ac784c8908bd868115933c363e77cc0a6 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates which bionic contain fuel and which is empty.  <a href="classCharacter.html#ac784c8908bd868115933c363e77cc0a6">More...</a><br /></td></tr>
<tr class="separator:ac784c8908bd868115933c363e77cc0a6 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafae2e55b991d000ca053ced6a089a15 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aafae2e55b991d000ca053ced6a089a15">get_mod_stat_from_bionic</a> (const <a class="el" href="character_8h.html#a27f8e52e2e5afc1c4a709dd65ab84755">character_stat</a> &amp;Stat) const</td></tr>
<tr class="memdesc:aafae2e55b991d000ca053ced6a089a15 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get stat bonus from bionic.  <a href="classCharacter.html#aafae2e55b991d000ca053ced6a089a15">More...</a><br /></td></tr>
<tr class="separator:aafae2e55b991d000ca053ced6a089a15 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bc709eadfca142d7093c136308e93fe inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3bc709eadfca142d7093c136308e93fe">process_bionic</a> (int <a class="el" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>)</td></tr>
<tr class="memdesc:a3bc709eadfca142d7093c136308e93fe inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles bionic effects over time of the entered bionic.  <a href="classCharacter.html#a3bc709eadfca142d7093c136308e93fe">More...</a><br /></td></tr>
<tr class="separator:a3bc709eadfca142d7093c136308e93fe inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cbfb1bf8e0e13332e547df6dcfb0d3d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9cbfb1bf8e0e13332e547df6dcfb0d3d">deactivate_bionic</a> (int <a class="el" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>, bool eff_only=false)</td></tr>
<tr class="memdesc:a9cbfb1bf8e0e13332e547df6dcfb0d3d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles bionic deactivation effects of the entered bionic, returns if anything deactivated.  <a href="classCharacter.html#a9cbfb1bf8e0e13332e547df6dcfb0d3d">More...</a><br /></td></tr>
<tr class="separator:a9cbfb1bf8e0e13332e547df6dcfb0d3d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addf91f96f433cff061b08e3eeff3796a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#addf91f96f433cff061b08e3eeff3796a">num_bionics</a> () const</td></tr>
<tr class="memdesc:addf91f96f433cff061b08e3eeff3796a inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of my_bionics[].  <a href="classCharacter.html#addf91f96f433cff061b08e3eeff3796a">More...</a><br /></td></tr>
<tr class="separator:addf91f96f433cff061b08e3eeff3796a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ac370a4452c7c9d80e53d230227659c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbionic.html">bionic</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1ac370a4452c7c9d80e53d230227659c">bionic_at_index</a> (int i)</td></tr>
<tr class="memdesc:a1ac370a4452c7c9d80e53d230227659c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the bionic at a given index in my_bionics[].  <a href="classCharacter.html#a1ac370a4452c7c9d80e53d230227659c">More...</a><br /></td></tr>
<tr class="separator:a1ac370a4452c7c9d80e53d230227659c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c08ae777d54b058dd0fb1c7c789ea77 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5c08ae777d54b058dd0fb1c7c789ea77">clear_bionics</a> ()</td></tr>
<tr class="memdesc:a5c08ae777d54b058dd0fb1c7c789ea77 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all bionics.  <a href="classCharacter.html#a5c08ae777d54b058dd0fb1c7c789ea77">More...</a><br /></td></tr>
<tr class="separator:a5c08ae777d54b058dd0fb1c7c789ea77 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9f1b87006033aafc8eaa74c0d1be883 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af9f1b87006033aafc8eaa74c0d1be883">get_used_bionics_slots</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp) const</td></tr>
<tr class="separator:af9f1b87006033aafc8eaa74c0d1be883 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e2bd7defca57bcf42fd5ef9ca93b9b6 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4e2bd7defca57bcf42fd5ef9ca93b9b6">get_total_bionics_slots</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp) const</td></tr>
<tr class="separator:a4e2bd7defca57bcf42fd5ef9ca93b9b6 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ab151b3e9ec20b32714e607016deea4 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4ab151b3e9ec20b32714e607016deea4">get_free_bionics_slots</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp) const</td></tr>
<tr class="separator:a4ab151b3e9ec20b32714e607016deea4 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c9e8e8d58532f14b70b154ddb5a1af4 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2c9e8e8d58532f14b70b154ddb5a1af4">has_enough_anesth</a> (const <a class="el" href="structitype.html">itype</a> *cbm, <a class="el" href="classplayer.html">player</a> &amp;patient)</td></tr>
<tr class="memdesc:a2c9e8e8d58532f14b70b154ddb5a1af4 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Has enough anesthetic for surgery.  <a href="classCharacter.html#a2c9e8e8d58532f14b70b154ddb5a1af4">More...</a><br /></td></tr>
<tr class="separator:a2c9e8e8d58532f14b70b154ddb5a1af4 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39ac64dcbaa73e7970d2347d2bea658d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a39ac64dcbaa73e7970d2347d2bea658d">introduce_into_anesthesia</a> (const <a class="el" href="classtime__duration.html">time_duration</a> &amp;duration, <a class="el" href="classplayer.html">player</a> &amp;installer, bool needs_anesthesia)</td></tr>
<tr class="memdesc:a39ac64dcbaa73e7970d2347d2bea658d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles process of introducing patient into anesthesia during Autodoc operations.  <a href="classCharacter.html#a39ac64dcbaa73e7970d2347d2bea658d">More...</a><br /></td></tr>
<tr class="separator:a39ac64dcbaa73e7970d2347d2bea658d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f24a0dfb69bdf383f8d19292008eb07 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3f24a0dfb69bdf383f8d19292008eb07">remove_bionic</a> (const <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> &amp;<a class="el" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>)</td></tr>
<tr class="memdesc:a3f24a0dfb69bdf383f8d19292008eb07 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a bionic from my_bionics[].  <a href="classCharacter.html#a3f24a0dfb69bdf383f8d19292008eb07">More...</a><br /></td></tr>
<tr class="separator:a3f24a0dfb69bdf383f8d19292008eb07 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b15e1da8d72ed5175dc4e0e34c1da97 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8b15e1da8d72ed5175dc4e0e34c1da97">add_bionic</a> (const <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> &amp;<a class="el" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>)</td></tr>
<tr class="memdesc:a8b15e1da8d72ed5175dc4e0e34c1da97 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a bionic to my_bionics[].  <a href="classCharacter.html#a8b15e1da8d72ed5175dc4e0e34c1da97">More...</a><br /></td></tr>
<tr class="separator:a8b15e1da8d72ed5175dc4e0e34c1da97 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e99571430f32a1393a78dbfd4573f6e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0e99571430f32a1393a78dbfd4573f6e">env_surgery_bonus</a> (int radius)</td></tr>
<tr class="memdesc:a0e99571430f32a1393a78dbfd4573f6e inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate skill bonus from tiles in radius.  <a href="classCharacter.html#a0e99571430f32a1393a78dbfd4573f6e">More...</a><br /></td></tr>
<tr class="separator:a0e99571430f32a1393a78dbfd4573f6e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad157be79eb59848c852bd03383e7715d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad157be79eb59848c852bd03383e7715d">bionics_adjusted_skill</a> (const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;most_important_skill, const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;important_skill, const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;least_important_skill, int skill_level=-1)</td></tr>
<tr class="memdesc:ad157be79eb59848c852bd03383e7715d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate skill for (un)installing bionics.  <a href="classCharacter.html#ad157be79eb59848c852bd03383e7715d">More...</a><br /></td></tr>
<tr class="separator:ad157be79eb59848c852bd03383e7715d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951e6fd04b8907ee1b8adac12d5f4749 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a951e6fd04b8907ee1b8adac12d5f4749">bionics_pl_skill</a> (const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;most_important_skill, const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;important_skill, const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;least_important_skill, int skill_level=-1)</td></tr>
<tr class="memdesc:a951e6fd04b8907ee1b8adac12d5f4749 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate non adjusted skill for (un)installing bionics.  <a href="classCharacter.html#a951e6fd04b8907ee1b8adac12d5f4749">More...</a><br /></td></tr>
<tr class="separator:a951e6fd04b8907ee1b8adac12d5f4749 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b9e56586159d7e9f9e16d4dc84a3198 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4b9e56586159d7e9f9e16d4dc84a3198">can_install_bionics</a> (const <a class="el" href="structitype.html">itype</a> &amp;<a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <a class="el" href="classplayer.html">player</a> &amp;installer, bool autodoc=false, int skill_level=-1)</td></tr>
<tr class="memdesc:a4b9e56586159d7e9f9e16d4dc84a3198 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the installation possible.  <a href="classCharacter.html#a4b9e56586159d7e9f9e16d4dc84a3198">More...</a><br /></td></tr>
<tr class="separator:a4b9e56586159d7e9f9e16d4dc84a3198 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a650c06130969baf51c158c9645a6d769 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a650c06130969baf51c158c9645a6d769">bionic_installation_issues</a> (const <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> &amp;bioid) const</td></tr>
<tr class="separator:a650c06130969baf51c158c9645a6d769 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c475c0bd3f69108309f12f046e97063 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3c475c0bd3f69108309f12f046e97063">install_bionics</a> (const <a class="el" href="structitype.html">itype</a> &amp;<a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <a class="el" href="classplayer.html">player</a> &amp;installer, bool autodoc=false, int skill_level=-1)</td></tr>
<tr class="memdesc:a3c475c0bd3f69108309f12f046e97063 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize all the values needed to start the operation <a class="el" href="classplayer__activity.html">player_activity</a>.  <a href="classCharacter.html#a3c475c0bd3f69108309f12f046e97063">More...</a><br /></td></tr>
<tr class="separator:a3c475c0bd3f69108309f12f046e97063 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a228f16822ddc4cf4502bbe1b90ee7575 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a228f16822ddc4cf4502bbe1b90ee7575">perform_install</a> (<a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> bid, <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> upbid, int difficulty, int success, int pl_skill, const std::string &amp;installer_name, const std::vector&lt; <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &gt; &amp;trait_to_rem)</td></tr>
<tr class="memdesc:a228f16822ddc4cf4502bbe1b90ee7575 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Success or failure of installation happens here.  <a href="classCharacter.html#a228f16822ddc4cf4502bbe1b90ee7575">More...</a><br /></td></tr>
<tr class="separator:a228f16822ddc4cf4502bbe1b90ee7575 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdfc7de2d7abdc74665e0c74ca15b6de inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#afdfc7de2d7abdc74665e0c74ca15b6de">do_damage_for_bionic_failure</a> (int min_damage, int max_damage)</td></tr>
<tr class="separator:afdfc7de2d7abdc74665e0c74ca15b6de inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a026cdc7769922a5c634d27e9a099de inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7a026cdc7769922a5c634d27e9a099de">bionics_install_failure</a> (const std::string &amp;installer, int difficulty, int success, float adjusted_skill)</td></tr>
<tr class="separator:a7a026cdc7769922a5c634d27e9a099de inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46e532601173c6b54d976d848a068b6a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a46e532601173c6b54d976d848a068b6a">can_uninstall_bionic</a> (const <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> &amp;b_id, <a class="el" href="classplayer.html">player</a> &amp;installer, bool autodoc=false, int skill_level=-1)</td></tr>
<tr class="memdesc:a46e532601173c6b54d976d848a068b6a inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is The uninstallation possible.  <a href="classCharacter.html#a46e532601173c6b54d976d848a068b6a">More...</a><br /></td></tr>
<tr class="separator:a46e532601173c6b54d976d848a068b6a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4dcace988fbe414cff778b4b1a56356 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab4dcace988fbe414cff778b4b1a56356">uninstall_bionic</a> (const <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> &amp;b_id, <a class="el" href="classplayer.html">player</a> &amp;installer, bool autodoc=false, int skill_level=-1)</td></tr>
<tr class="memdesc:ab4dcace988fbe414cff778b4b1a56356 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize all the values needed to start the operation <a class="el" href="classplayer__activity.html">player_activity</a>.  <a href="classCharacter.html#ab4dcace988fbe414cff778b4b1a56356">More...</a><br /></td></tr>
<tr class="separator:ab4dcace988fbe414cff778b4b1a56356 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e03e97f67801d1201be71d2036a433b inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1e03e97f67801d1201be71d2036a433b">perform_uninstall</a> (<a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> bid, int difficulty, int success, const <a class="el" href="namespaceunits.html#a2c4cd5492f5947af989912819d5b5e4b">units::energy</a> &amp;power_lvl, int pl_skill)</td></tr>
<tr class="memdesc:a1e03e97f67801d1201be71d2036a433b inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Succes or failure of removal happens here.  <a href="classCharacter.html#a1e03e97f67801d1201be71d2036a433b">More...</a><br /></td></tr>
<tr class="separator:a1e03e97f67801d1201be71d2036a433b inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90efc09389e2d07818c87d57e7ca79fc inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a90efc09389e2d07818c87d57e7ca79fc">bionics_uninstall_failure</a> (int difficulty, int success, float adjusted_skill)</td></tr>
<tr class="memdesc:a90efc09389e2d07818c87d57e7ca79fc inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">When a player fails the surgery.  <a href="classCharacter.html#a90efc09389e2d07818c87d57e7ca79fc">More...</a><br /></td></tr>
<tr class="separator:a90efc09389e2d07818c87d57e7ca79fc inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29791a7bd9cb9ea581111dd70bff2d49 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a29791a7bd9cb9ea581111dd70bff2d49">uninstall_bionic</a> (const <a class="el" href="structbionic.html">bionic</a> &amp;target_cbm, <a class="el" href="classmonster.html">monster</a> &amp;installer, <a class="el" href="classplayer.html">player</a> &amp;patient, float adjusted_skill)</td></tr>
<tr class="memdesc:a29791a7bd9cb9ea581111dd70bff2d49 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used by monster to perform surgery.  <a href="classCharacter.html#a29791a7bd9cb9ea581111dd70bff2d49">More...</a><br /></td></tr>
<tr class="separator:a29791a7bd9cb9ea581111dd70bff2d49 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc31ad25011c75268610817c3ec06142 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#abc31ad25011c75268610817c3ec06142">bionics_uninstall_failure</a> (<a class="el" href="classmonster.html">monster</a> &amp;installer, <a class="el" href="classplayer.html">player</a> &amp;patient, int difficulty, int success, float adjusted_skill)</td></tr>
<tr class="memdesc:abc31ad25011c75268610817c3ec06142 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">When a monster fails the surgery.  <a href="classCharacter.html#abc31ad25011c75268610817c3ec06142">More...</a><br /></td></tr>
<tr class="separator:abc31ad25011c75268610817c3ec06142 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6cbe6ecd973af687fdb6978783402f7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa6cbe6ecd973af687fdb6978783402f7">burn_fuel</a> (int <a class="el" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>, bool start=false)</td></tr>
<tr class="memdesc:aa6cbe6ecd973af687fdb6978783402f7 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert fuel to bionic power.  <a href="classCharacter.html#aa6cbe6ecd973af687fdb6978783402f7">More...</a><br /></td></tr>
<tr class="separator:aa6cbe6ecd973af687fdb6978783402f7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81d89e1924a7b368282e3065e6e1b617 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a81d89e1924a7b368282e3065e6e1b617">passive_power_gen</a> (int <a class="el" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>)</td></tr>
<tr class="memdesc:a81d89e1924a7b368282e3065e6e1b617 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Passively produce power from PERPETUAL fuel.  <a href="classCharacter.html#a81d89e1924a7b368282e3065e6e1b617">More...</a><br /></td></tr>
<tr class="separator:a81d89e1924a7b368282e3065e6e1b617 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad05a5d54ddc3fc0f011258b4d329c1e3 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad05a5d54ddc3fc0f011258b4d329c1e3">find_remote_fuel</a> (bool look_only=false)</td></tr>
<tr class="memdesc:ad05a5d54ddc3fc0f011258b4d329c1e3 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find fuel used by remote powered bionic.  <a href="classCharacter.html#ad05a5d54ddc3fc0f011258b4d329c1e3">More...</a><br /></td></tr>
<tr class="separator:ad05a5d54ddc3fc0f011258b4d329c1e3 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86c59317636b952532a99c41544bce1c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a86c59317636b952532a99c41544bce1c">consume_remote_fuel</a> (int amount)</td></tr>
<tr class="memdesc:a86c59317636b952532a99c41544bce1c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Consume fuel used by remote powered bionic, return amount of request unfulfilled (0 if totally successful).  <a href="classCharacter.html#a86c59317636b952532a99c41544bce1c">More...</a><br /></td></tr>
<tr class="separator:a86c59317636b952532a99c41544bce1c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaea5a3b7fd54a1e07bcd02e7b7d96194 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aaea5a3b7fd54a1e07bcd02e7b7d96194">reset_remote_fuel</a> ()</td></tr>
<tr class="separator:aaea5a3b7fd54a1e07bcd02e7b7d96194 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43230185241c11c25b99fe2cf912e340 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a43230185241c11c25b99fe2cf912e340">heat_emission</a> (int <a class="el" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>, int fuel_energy)</td></tr>
<tr class="memdesc:a43230185241c11c25b99fe2cf912e340 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle heat from exothermic power generation.  <a href="classCharacter.html#a43230185241c11c25b99fe2cf912e340">More...</a><br /></td></tr>
<tr class="separator:a43230185241c11c25b99fe2cf912e340 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09b9fb9277ab1b06cbf0a8e04bf0c966 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a09b9fb9277ab1b06cbf0a8e04bf0c966">get_effective_efficiency</a> (int <a class="el" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>, float fuel_efficiency)</td></tr>
<tr class="memdesc:a09b9fb9277ab1b06cbf0a8e04bf0c966 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies modifier to fuel_efficiency and returns the resulting efficiency.  <a href="classCharacter.html#a09b9fb9277ab1b06cbf0a8e04bf0c966">More...</a><br /></td></tr>
<tr class="separator:a09b9fb9277ab1b06cbf0a8e04bf0c966 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add22510ff2fa20a662868b4dd86e030e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a2c4cd5492f5947af989912819d5b5e4b">units::energy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#add22510ff2fa20a662868b4dd86e030e">get_power_level</a> () const</td></tr>
<tr class="separator:add22510ff2fa20a662868b4dd86e030e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3e27cd8b8fe445e06e6d20d0eb82aff inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a2c4cd5492f5947af989912819d5b5e4b">units::energy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac3e27cd8b8fe445e06e6d20d0eb82aff">get_max_power_level</a> () const</td></tr>
<tr class="separator:ac3e27cd8b8fe445e06e6d20d0eb82aff inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17446e14fd6046648a505c4aaec3d976 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a17446e14fd6046648a505c4aaec3d976">mod_power_level</a> (const <a class="el" href="namespaceunits.html#a2c4cd5492f5947af989912819d5b5e4b">units::energy</a> &amp;npower)</td></tr>
<tr class="separator:a17446e14fd6046648a505c4aaec3d976 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3420863c28fd06e45575a6199cae8635 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3420863c28fd06e45575a6199cae8635">mod_max_power_level</a> (const <a class="el" href="namespaceunits.html#a2c4cd5492f5947af989912819d5b5e4b">units::energy</a> &amp;npower_max)</td></tr>
<tr class="separator:a3420863c28fd06e45575a6199cae8635 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a0a0c4f206d907e7f05ffe7e2927f0f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5a0a0c4f206d907e7f05ffe7e2927f0f">set_power_level</a> (const <a class="el" href="namespaceunits.html#a2c4cd5492f5947af989912819d5b5e4b">units::energy</a> &amp;npower)</td></tr>
<tr class="separator:a5a0a0c4f206d907e7f05ffe7e2927f0f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad736f947139b910c85e6c3d2a885889f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad736f947139b910c85e6c3d2a885889f">set_max_power_level</a> (const <a class="el" href="namespaceunits.html#a2c4cd5492f5947af989912819d5b5e4b">units::energy</a> &amp;npower_max)</td></tr>
<tr class="separator:ad736f947139b910c85e6c3d2a885889f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6168af7dd0878d4c7fe9322fd7f0cb0f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6168af7dd0878d4c7fe9322fd7f0cb0f">is_max_power</a> () const</td></tr>
<tr class="separator:a6168af7dd0878d4c7fe9322fd7f0cb0f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad33fda9a7f9d4c8529cff2bbaea675ae inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad33fda9a7f9d4c8529cff2bbaea675ae">has_power</a> () const</td></tr>
<tr class="separator:ad33fda9a7f9d4c8529cff2bbaea675ae inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a557d91be043cef7047af79f45fd5fdb1 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a557d91be043cef7047af79f45fd5fdb1">has_max_power</a> () const</td></tr>
<tr class="separator:a557d91be043cef7047af79f45fd5fdb1 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e23dcce68b00cf1b74fbb36bcf0101e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8e23dcce68b00cf1b74fbb36bcf0101e">enough_power_for</a> (const <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> &amp;bid) const</td></tr>
<tr class="separator:a8e23dcce68b00cf1b74fbb36bcf0101e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f49f2f728afeb3aaad4ac6cdcca74f0 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0f49f2f728afeb3aaad4ac6cdcca74f0">conduct_blood_analysis</a> () const</td></tr>
<tr class="separator:a0f49f2f728afeb3aaad4ac6cdcca74f0 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d8d747c469431f530acb05c5f7a7f45 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">is_worn</a> (const <a class="el" href="classitem.html">item</a> &amp;thing) const</td></tr>
<tr class="separator:a4d8d747c469431f530acb05c5f7a7f45 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dbec601ddf5ba1b6059b20785dfc329 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4dbec601ddf5ba1b6059b20785dfc329">invoke_item</a> (<a class="el" href="classitem.html">item</a> *, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pt)</td></tr>
<tr class="memdesc:a4dbec601ddf5ba1b6059b20785dfc329 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asks how to use the item (if it has more than one use_method) and uses it.  <a href="classCharacter.html#a4dbec601ddf5ba1b6059b20785dfc329">More...</a><br /></td></tr>
<tr class="separator:a4dbec601ddf5ba1b6059b20785dfc329 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b6b7b51eedbf0485ea7faca852e876f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8b6b7b51eedbf0485ea7faca852e876f">invoke_item</a> (<a class="el" href="classitem.html">item</a> *, const std::string &amp;, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pt)</td></tr>
<tr class="memdesc:a8b6b7b51eedbf0485ea7faca852e876f inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">As above, but with a pre-selected method.  <a href="classCharacter.html#a8b6b7b51eedbf0485ea7faca852e876f">More...</a><br /></td></tr>
<tr class="separator:a8b6b7b51eedbf0485ea7faca852e876f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1570ed8af469f6fdf0f76ec97f393de0 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1570ed8af469f6fdf0f76ec97f393de0">invoke_item</a> (<a class="el" href="classitem.html">item</a> *)</td></tr>
<tr class="memdesc:a1570ed8af469f6fdf0f76ec97f393de0 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">As above two, but with position equal to current position.  <a href="classCharacter.html#a1570ed8af469f6fdf0f76ec97f393de0">More...</a><br /></td></tr>
<tr class="separator:a1570ed8af469f6fdf0f76ec97f393de0 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a577d4d0ae3927ed977c0881988debbf1 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a577d4d0ae3927ed977c0881988debbf1">invoke_item</a> (<a class="el" href="classitem.html">item</a> *, const std::string &amp;)</td></tr>
<tr class="separator:a577d4d0ae3927ed977c0881988debbf1 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb844c65a8e171ccb4bb088edeb72f8d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#abb844c65a8e171ccb4bb088edeb72f8d">dispose_item</a> (<a class="el" href="classitem__location.html">item_location</a> &amp;&amp;obj, const std::string &amp;prompt=std::string())</td></tr>
<tr class="memdesc:abb844c65a8e171ccb4bb088edeb72f8d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drop, wear, stash or otherwise try to dispose of an item consuming appropriate moves.  <a href="classCharacter.html#abb844c65a8e171ccb4bb088edeb72f8d">More...</a><br /></td></tr>
<tr class="separator:abb844c65a8e171ccb4bb088edeb72f8d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1986577611b062ba002eaed9ae600ef1 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1986577611b062ba002eaed9ae600ef1">has_enough_charges</a> (const <a class="el" href="classitem.html">item</a> &amp;it, bool show_msg) const</td></tr>
<tr class="memdesc:a1986577611b062ba002eaed9ae600ef1 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Has the item enough charges to invoke its use function? Also checks if UPS from this player is used instead of item charges.  <a href="classCharacter.html#a1986577611b062ba002eaed9ae600ef1">More...</a><br /></td></tr>
<tr class="separator:a1986577611b062ba002eaed9ae600ef1 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a440c45f92704e6fe31024a90f10ac9c1 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a440c45f92704e6fe31024a90f10ac9c1">consume_charges</a> (<a class="el" href="classitem.html">item</a> &amp;used, int qty)</td></tr>
<tr class="memdesc:a440c45f92704e6fe31024a90f10ac9c1 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Consume charges of a tool or comestible item, potentially destroying it in the process.  <a href="classCharacter.html#a440c45f92704e6fe31024a90f10ac9c1">More...</a><br /></td></tr>
<tr class="separator:a440c45f92704e6fe31024a90f10ac9c1 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33b54fd8799f4b1c9f6b0af42dbf33f8 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a33b54fd8799f4b1c9f6b0af42dbf33f8">item_handling_cost</a> (const <a class="el" href="classitem.html">item</a> &amp;it, bool penalties=true, int base_cost=<a class="el" href="game__constants_8h.html#aa5931cb2f162c829bae20f0df39ae014">INVENTORY_HANDLING_PENALTY</a>) const</td></tr>
<tr class="memdesc:a33b54fd8799f4b1c9f6b0af42dbf33f8 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate (but do not deduct) the number of moves required when handling (e.g.  <a href="classCharacter.html#a33b54fd8799f4b1c9f6b0af42dbf33f8">More...</a><br /></td></tr>
<tr class="separator:a33b54fd8799f4b1c9f6b0af42dbf33f8 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa93e1d185933bc96b038c4844b38ca90 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa93e1d185933bc96b038c4844b38ca90">item_store_cost</a> (const <a class="el" href="classitem.html">item</a> &amp;it, const <a class="el" href="classitem.html">item</a> &amp;container, bool penalties=true, int base_cost=<a class="el" href="game__constants_8h.html#aa5931cb2f162c829bae20f0df39ae014">INVENTORY_HANDLING_PENALTY</a>) const</td></tr>
<tr class="memdesc:aa93e1d185933bc96b038c4844b38ca90 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate (but do not deduct) the number of moves required when storing an item in a container.  <a href="classCharacter.html#aa93e1d185933bc96b038c4844b38ca90">More...</a><br /></td></tr>
<tr class="separator:aa93e1d185933bc96b038c4844b38ca90 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a916c7c6cebede773e1083aae05b3e075 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a916c7c6cebede773e1083aae05b3e075">item_wear_cost</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:a916c7c6cebede773e1083aae05b3e075 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate (but do not deduct) the number of moves required to wear an item.  <a href="classCharacter.html#a916c7c6cebede773e1083aae05b3e075">More...</a><br /></td></tr>
<tr class="separator:a916c7c6cebede773e1083aae05b3e075 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a298ce5c5382920e7bffb8f146a18cce1 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; std::list&lt; <a class="el" href="classitem.html">item</a> &gt;::iterator &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a298ce5c5382920e7bffb8f146a18cce1">wear_item</a> (const <a class="el" href="classitem.html">item</a> &amp;to_wear, bool interactive=true)</td></tr>
<tr class="memdesc:a298ce5c5382920e7bffb8f146a18cce1 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wear item; returns nullopt on fail, or pointer to newly worn item on success.  <a href="classCharacter.html#a298ce5c5382920e7bffb8f146a18cce1">More...</a><br /></td></tr>
<tr class="separator:a298ce5c5382920e7bffb8f146a18cce1 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86c0275b1070f239cbfcea6f9d94c7c5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a86c0275b1070f239cbfcea6f9d94c7c5">amount_worn</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;<a class="el" href="classCharacter.html#a8d0ef1736a17d274868b515b184a820d">id</a>) const</td></tr>
<tr class="memdesc:a86c0275b1070f239cbfcea6f9d94c7c5 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the amount of item &lsquo;type&rsquo; that is currently worn.  <a href="classCharacter.html#a86c0275b1070f239cbfcea6f9d94c7c5">More...</a><br /></td></tr>
<tr class="separator:a86c0275b1070f239cbfcea6f9d94c7c5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a888dcfd080bc19a0fc109876ec1eca36 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem__location.html">item_location</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a888dcfd080bc19a0fc109876ec1eca36">nearby</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> *, const <a class="el" href="classitem.html">item</a> *)&gt; &amp;func, int radius=1) const</td></tr>
<tr class="memdesc:a888dcfd080bc19a0fc109876ec1eca36 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns nearby items which match the provided predicate.  <a href="classCharacter.html#a888dcfd080bc19a0fc109876ec1eca36">More...</a><br /></td></tr>
<tr class="separator:a888dcfd080bc19a0fc109876ec1eca36 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac407c565e22ac2a0d52a17c1c9986c90 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac407c565e22ac2a0d52a17c1c9986c90">remove_worn_items_with</a> (std::function&lt; bool(<a class="el" href="classitem.html">item</a> &amp;)&gt; filter)</td></tr>
<tr class="memdesc:ac407c565e22ac2a0d52a17c1c9986c90 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Similar to <a class="el" href="classvisitable.html#a82d5eb61d79aa5a1ff06375288600796">remove_items_with</a>, but considers only worn items and not their content (<a class="el" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">item::contents</a> is not checked).  <a href="classCharacter.html#ac407c565e22ac2a0d52a17c1c9986c90">More...</a><br /></td></tr>
<tr class="separator:ac407c565e22ac2a0d52a17c1c9986c90 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a5d53916ea06db1f64575e4c91a1653 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9a5d53916ea06db1f64575e4c91a1653">invlet_to_item</a> (int invlet)</td></tr>
<tr class="memdesc:a9a5d53916ea06db1f64575e4c91a1653 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the item pointer of the item with given invlet, return nullptr if the player does not have such an item with that invlet.  <a href="classCharacter.html#a9a5d53916ea06db1f64575e4c91a1653">More...</a><br /></td></tr>
<tr class="separator:a9a5d53916ea06db1f64575e4c91a1653 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a654ed96afe759517e0bf1a31c7a3ea11 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a654ed96afe759517e0bf1a31c7a3ea11">i_at</a> (int <a class="el" href="classCharacter.html#a637149a8ac278a0533a6bb36f31e947e">position</a>)</td></tr>
<tr class="separator:a654ed96afe759517e0bf1a31c7a3ea11 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a34c372794abb1eb99849b443e1d763 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9a34c372794abb1eb99849b443e1d763">i_at</a> (int <a class="el" href="classCharacter.html#a637149a8ac278a0533a6bb36f31e947e">position</a>) const</td></tr>
<tr class="separator:a9a34c372794abb1eb99849b443e1d763 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50ca774a69b5d6e12f7fba07434d9b35 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a50ca774a69b5d6e12f7fba07434d9b35">get_item_position</a> (const <a class="el" href="classitem.html">item</a> *it) const</td></tr>
<tr class="memdesc:a50ca774a69b5d6e12f7fba07434d9b35 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the item position (suitable for <a class="el" href="classCharacter.html#a654ed96afe759517e0bf1a31c7a3ea11">i_at</a> or similar) of a specific item.  <a href="classCharacter.html#a50ca774a69b5d6e12f7fba07434d9b35">More...</a><br /></td></tr>
<tr class="separator:a50ca774a69b5d6e12f7fba07434d9b35 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e4cc59c18923d8ffbb9017236747dc0 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4e4cc59c18923d8ffbb9017236747dc0">used_weapon</a> () const</td></tr>
<tr class="memdesc:a4e4cc59c18923d8ffbb9017236747dc0 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reference to the item which will be used to make attacks.  <a href="classCharacter.html#a4e4cc59c18923d8ffbb9017236747dc0">More...</a><br /></td></tr>
<tr class="separator:a4e4cc59c18923d8ffbb9017236747dc0 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0225adb9376cfa289e89a5f28c13e4da inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0225adb9376cfa289e89a5f28c13e4da">used_weapon</a> ()</td></tr>
<tr class="separator:a0225adb9376cfa289e89a5f28c13e4da inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3984315b08c3e42f11694f2572b10b1 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae3984315b08c3e42f11694f2572b10b1">i_add_to_container</a> (const <a class="el" href="classitem.html">item</a> &amp;it, bool unloading)</td></tr>
<tr class="memdesc:ae3984315b08c3e42f11694f2572b10b1 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to find a container/s on character containing ammo of type it.typeId() and add charges until the container is full.  <a href="classCharacter.html#ae3984315b08c3e42f11694f2572b10b1">More...</a><br /></td></tr>
<tr class="separator:ae3984315b08c3e42f11694f2572b10b1 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a611bd51d6d4fa9c119787f2fbc6bdd52 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a611bd51d6d4fa9c119787f2fbc6bdd52">i_add</a> (<a class="el" href="classitem.html">item</a> it, bool should_stack=true)</td></tr>
<tr class="separator:a611bd51d6d4fa9c119787f2fbc6bdd52 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35f89e2e6eb1144b623be5281f4f221b inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">i_rem</a> (int <a class="el" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>)</td></tr>
<tr class="memdesc:a35f89e2e6eb1144b623be5281f4f221b inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a specific item from player possession.  <a href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">More...</a><br /></td></tr>
<tr class="separator:a35f89e2e6eb1144b623be5281f4f221b inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a379081ad133b17e4ab3d230270b2414d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a379081ad133b17e4ab3d230270b2414d">i_rem</a> (const <a class="el" href="classitem.html">item</a> *it)</td></tr>
<tr class="memdesc:a379081ad133b17e4ab3d230270b2414d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a specific item from player possession.  <a href="classCharacter.html#a379081ad133b17e4ab3d230270b2414d">More...</a><br /></td></tr>
<tr class="separator:a379081ad133b17e4ab3d230270b2414d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d48b7ecc176e222e641cf4a2dd4d7cd inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6d48b7ecc176e222e641cf4a2dd4d7cd">i_rem_keep_contents</a> (int idx)</td></tr>
<tr class="separator:a6d48b7ecc176e222e641cf4a2dd4d7cd inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab80b4bcd5228af487bb1a26c14864e5d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab80b4bcd5228af487bb1a26c14864e5d">i_add_or_drop</a> (<a class="el" href="classitem.html">item</a> &amp;it, int qty=1)</td></tr>
<tr class="memdesc:ab80b4bcd5228af487bb1a26c14864e5d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets invlet and adds to inventory if possible, drops otherwise, returns true if either succeeded.  <a href="classCharacter.html#ab80b4bcd5228af487bb1a26c14864e5d">More...</a><br /></td></tr>
<tr class="separator:ab80b4bcd5228af487bb1a26c14864e5d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51a93e4225d09d4991fe636623373446 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::bitset&lt; std::numeric_limits&lt; char &gt;::max()&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a51a93e4225d09d4991fe636623373446">allocated_invlets</a> () const</td></tr>
<tr class="memdesc:a51a93e4225d09d4991fe636623373446 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only use for UI things.  <a href="classCharacter.html#a51a93e4225d09d4991fe636623373446">More...</a><br /></td></tr>
<tr class="separator:a51a93e4225d09d4991fe636623373446 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37f135e792eeba920085377b9bdb9a9b inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a37f135e792eeba920085377b9bdb9a9b">has_active_item</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;<a class="el" href="classCharacter.html#a8d0ef1736a17d274868b515b184a820d">id</a>) const</td></tr>
<tr class="memdesc:a37f135e792eeba920085377b9bdb9a9b inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the player carries an active item of the given item type.  <a href="classCharacter.html#a37f135e792eeba920085377b9bdb9a9b">More...</a><br /></td></tr>
<tr class="separator:a37f135e792eeba920085377b9bdb9a9b inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a3141afedc8744a698f5f2a498b9b12 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6a3141afedc8744a698f5f2a498b9b12">remove_weapon</a> ()</td></tr>
<tr class="separator:a6a3141afedc8744a698f5f2a498b9b12 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3895b16432c99f2e41dfcd6822cdc14 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae3895b16432c99f2e41dfcd6822cdc14">remove_mission_items</a> (int mission_id)</td></tr>
<tr class="separator:ae3895b16432c99f2e41dfcd6822cdc14 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c25d98b1050595bb9d1a36454d6740 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a91c25d98b1050595bb9d1a36454d6740">get_ammo</a> (const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> &amp;at) const</td></tr>
<tr class="memdesc:a91c25d98b1050595bb9d1a36454d6740 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the items that are ammo and have the matching ammo type.  <a href="classCharacter.html#a91c25d98b1050595bb9d1a36454d6740">More...</a><br /></td></tr>
<tr class="separator:a91c25d98b1050595bb9d1a36454d6740 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6a33462a9476b6f490a6cea8b19d5a4 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem__location.html">item_location</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af6a33462a9476b6f490a6cea8b19d5a4">find_ammo</a> (const <a class="el" href="classitem.html">item</a> &amp;obj, bool empty=true, int radius=1) const</td></tr>
<tr class="memdesc:af6a33462a9476b6f490a6cea8b19d5a4 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for ammo or magazines that can be used to reload obj.  <a href="classCharacter.html#af6a33462a9476b6f490a6cea8b19d5a4">More...</a><br /></td></tr>
<tr class="separator:af6a33462a9476b6f490a6cea8b19d5a4 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada10bba91d7720933d2e4ce8ff571423 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem__location.html">item_location</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ada10bba91d7720933d2e4ce8ff571423">find_reloadables</a> ()</td></tr>
<tr class="memdesc:ada10bba91d7720933d2e4ce8ff571423 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for weapons and magazines that can be reloaded.  <a href="classCharacter.html#ada10bba91d7720933d2e4ce8ff571423">More...</a><br /></td></tr>
<tr class="separator:ada10bba91d7720933d2e4ce8ff571423 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1b3b47cc1c1250e603bdbdf26936ba7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab1b3b47cc1c1250e603bdbdf26936ba7">ammo_count_for</a> (const <a class="el" href="classitem.html">item</a> &amp;gun)</td></tr>
<tr class="memdesc:ab1b3b47cc1c1250e603bdbdf26936ba7 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counts ammo and UPS charges (lower of) for a given gun on the character.  <a href="classCharacter.html#ab1b3b47cc1c1250e603bdbdf26936ba7">More...</a><br /></td></tr>
<tr class="separator:ab1b3b47cc1c1250e603bdbdf26936ba7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a455c06bf0dab6e3558f759fe43e27e98 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a455c06bf0dab6e3558f759fe43e27e98">throw_range</a> (const <a class="el" href="classitem.html">item</a> &amp;) const</td></tr>
<tr class="memdesc:a455c06bf0dab6e3558f759fe43e27e98 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum thrown range with a given item, taking all active effects into account.  <a href="classCharacter.html#a455c06bf0dab6e3558f759fe43e27e98">More...</a><br /></td></tr>
<tr class="separator:a455c06bf0dab6e3558f759fe43e27e98 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb0f054c128c0a8386c44e8d9ef0f108 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#adb0f054c128c0a8386c44e8d9ef0f108">unarmed_attack</a> () const</td></tr>
<tr class="memdesc:adb0f054c128c0a8386c44e8d9ef0f108 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if unarmed or wielding a weapon with the UNARMED_WEAPON flag.  <a href="classCharacter.html#adb0f054c128c0a8386c44e8d9ef0f108">More...</a><br /></td></tr>
<tr class="separator:adb0f054c128c0a8386c44e8d9ef0f108 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af922a6633676f1652047fc82e5736aee inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af922a6633676f1652047fc82e5736aee">best_nearby_lifting_assist</a> () const</td></tr>
<tr class="memdesc:af922a6633676f1652047fc82e5736aee inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks for items, tools, and vehicles with the Lifting quality near the character returning the highest quality in range.  <a href="classCharacter.html#af922a6633676f1652047fc82e5736aee">More...</a><br /></td></tr>
<tr class="separator:af922a6633676f1652047fc82e5736aee inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae55d150789ba72eba4074198d776f1e0 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae55d150789ba72eba4074198d776f1e0">best_nearby_lifting_assist</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;world_pos) const</td></tr>
<tr class="memdesc:ae55d150789ba72eba4074198d776f1e0 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alternate version if you need to specify a different orign point for nearby vehicle sources of lifting used for operations on distant objects (e.g.  <a href="classCharacter.html#ae55d150789ba72eba4074198d776f1e0">More...</a><br /></td></tr>
<tr class="separator:ae55d150789ba72eba4074198d776f1e0 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44eb21a2cbc49344f4d766472a42aa64 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a44eb21a2cbc49344f4d766472a42aa64">inv_dump</a> ()</td></tr>
<tr class="separator:a44eb21a2cbc49344f4d766472a42aa64 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5929e955c11ee6c749447472df7c774d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5929e955c11ee6c749447472df7c774d">weight_carried</a> () const</td></tr>
<tr class="separator:a5929e955c11ee6c749447472df7c774d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3a5a1cd76002a3e9903b7e09b77bb3f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab3a5a1cd76002a3e9903b7e09b77bb3f">volume_carried</a> () const</td></tr>
<tr class="separator:ab3a5a1cd76002a3e9903b7e09b77bb3f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3617fad4c888d630bc4a2b1edb5c9227 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3617fad4c888d630bc4a2b1edb5c9227">weight_carried_reduced_by</a> (const <a class="el" href="inventory_8h.html#ac8f227bff9aca2b1d23d4cbfcc331e21">excluded_stacks</a> &amp;without) const</td></tr>
<tr class="separator:a3617fad4c888d630bc4a2b1edb5c9227 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a496086ce1e27f3cc1150bb726bd6b5b7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a496086ce1e27f3cc1150bb726bd6b5b7">volume_carried_reduced_by</a> (const <a class="el" href="inventory_8h.html#ac8f227bff9aca2b1d23d4cbfcc331e21">excluded_stacks</a> &amp;without) const</td></tr>
<tr class="separator:a496086ce1e27f3cc1150bb726bd6b5b7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bdec852c8280a1cb4bb5e45e14057b5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0bdec852c8280a1cb4bb5e45e14057b5">weight_capacity</a> () const override</td></tr>
<tr class="separator:a0bdec852c8280a1cb4bb5e45e14057b5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f0f412e4bec8d107de42bd34f1fa441 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4f0f412e4bec8d107de42bd34f1fa441">volume_capacity</a> () const</td></tr>
<tr class="separator:a4f0f412e4bec8d107de42bd34f1fa441 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ea22d049916c0c66d7aec36efd981dd inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6ea22d049916c0c66d7aec36efd981dd">volume_capacity_reduced_by</a> (const <a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> &amp;mod, const <a class="el" href="inventory_8h.html#ac8f227bff9aca2b1d23d4cbfcc331e21">excluded_stacks</a> &amp;without={}) const</td></tr>
<tr class="separator:a6ea22d049916c0c66d7aec36efd981dd inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9194d4ec193c9a26488fb7ccde73437c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9194d4ec193c9a26488fb7ccde73437c">can_pick_volume</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:a9194d4ec193c9a26488fb7ccde73437c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4450310d04377c69f7e04b4bcc5381b0 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4450310d04377c69f7e04b4bcc5381b0">can_pick_volume</a> (<a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> volume) const</td></tr>
<tr class="separator:a4450310d04377c69f7e04b4bcc5381b0 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef94559a8419824449833a59a1573aaf inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aef94559a8419824449833a59a1573aaf">can_pick_weight</a> (const <a class="el" href="classitem.html">item</a> &amp;it, bool safe=true) const</td></tr>
<tr class="separator:aef94559a8419824449833a59a1573aaf inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9914a26587b7992ba97e495754e25ea7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9914a26587b7992ba97e495754e25ea7">can_pick_weight</a> (<a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a> weight, bool safe=true) const</td></tr>
<tr class="separator:a9914a26587b7992ba97e495754e25ea7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eddeb86babf626e7869882079b40651 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4eddeb86babf626e7869882079b40651">can_use</a> (const <a class="el" href="classitem.html">item</a> &amp;it, const <a class="el" href="classitem.html">item</a> &amp;context=<a class="el" href="classitem.html">item</a>()) const</td></tr>
<tr class="memdesc:a4eddeb86babf626e7869882079b40651 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if character stats and skills meet minimum requirements for the item.  <a href="classCharacter.html#a4eddeb86babf626e7869882079b40651">More...</a><br /></td></tr>
<tr class="separator:a4eddeb86babf626e7869882079b40651 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add7c18c1ff4186fa02862a1fef9cdbe1 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classret__val.html">ret_val</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#add7c18c1ff4186fa02862a1fef9cdbe1">can_wear</a> (const <a class="el" href="classitem.html">item</a> &amp;it, bool with_equip_change=false) const</td></tr>
<tr class="memdesc:add7c18c1ff4186fa02862a1fef9cdbe1 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check character capable of wearing an item.  <a href="classCharacter.html#add7c18c1ff4186fa02862a1fef9cdbe1">More...</a><br /></td></tr>
<tr class="separator:add7c18c1ff4186fa02862a1fef9cdbe1 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad79464264cb8a2061f5888d092f5cd86 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad79464264cb8a2061f5888d092f5cd86">is_armed</a> () const</td></tr>
<tr class="memdesc:ad79464264cb8a2061f5888d092f5cd86 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the character is wielding something.  <a href="classCharacter.html#ad79464264cb8a2061f5888d092f5cd86">More...</a><br /></td></tr>
<tr class="separator:ad79464264cb8a2061f5888d092f5cd86 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfefc2e9898fff84f1d6bf007a73a976 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#abfefc2e9898fff84f1d6bf007a73a976">wield</a> (<a class="el" href="classitem.html">item</a> &amp;target)=0</td></tr>
<tr class="memdesc:abfefc2e9898fff84f1d6bf007a73a976 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes currently wielded item (if any) and replaces it with the target item.  <a href="classCharacter.html#abfefc2e9898fff84f1d6bf007a73a976">More...</a><br /></td></tr>
<tr class="separator:abfefc2e9898fff84f1d6bf007a73a976 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4824e66a8c00b7334c41fb5262d8148 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classret__val.html">ret_val</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa4824e66a8c00b7334c41fb5262d8148">can_unwield</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:aa4824e66a8c00b7334c41fb5262d8148 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check player capable of unwielding an item.  <a href="classCharacter.html#aa4824e66a8c00b7334c41fb5262d8148">More...</a><br /></td></tr>
<tr class="separator:aa4824e66a8c00b7334c41fb5262d8148 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4522a03a5d1cdd935f139d67ac4dda43 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classret__val.html">ret_val</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4522a03a5d1cdd935f139d67ac4dda43">can_swap</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:a4522a03a5d1cdd935f139d67ac4dda43 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check player capable of swapping the side of a worn item.  <a href="classCharacter.html#a4522a03a5d1cdd935f139d67ac4dda43">More...</a><br /></td></tr>
<tr class="separator:a4522a03a5d1cdd935f139d67ac4dda43 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa342bc315f7b61074f2ac81217a2a0f5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa342bc315f7b61074f2ac81217a2a0f5">drop_invalid_inventory</a> ()</td></tr>
<tr class="separator:aa342bc315f7b61074f2ac81217a2a0f5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c47ecf4bf281c370bcc18edc8da662e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4c47ecf4bf281c370bcc18edc8da662e">get_dependent_worn_items</a> (const <a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="memdesc:a4c47ecf4bf281c370bcc18edc8da662e inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all items that must be taken off before taking off this item.  <a href="classCharacter.html#a4c47ecf4bf281c370bcc18edc8da662e">More...</a><br /></td></tr>
<tr class="separator:a4c47ecf4bf281c370bcc18edc8da662e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87b6cc35ac98456d6141a208dd650ee4 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a87b6cc35ac98456d6141a208dd650ee4">drop</a> (<a class="el" href="classitem__location.html">item_location</a> loc, const <a class="el" href="structtripoint.html">tripoint</a> &amp;where)</td></tr>
<tr class="memdesc:a87b6cc35ac98456d6141a208dd650ee4 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drops an item to the specified location.  <a href="classCharacter.html#a87b6cc35ac98456d6141a208dd650ee4">More...</a><br /></td></tr>
<tr class="separator:a87b6cc35ac98456d6141a208dd650ee4 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83423bae99ffeabcc262a958a3bddf94 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a83423bae99ffeabcc262a958a3bddf94">drop</a> (const <a class="el" href="item__handling__util_8h.html#ab6eddf239a037205dfd747394734dbcd">drop_locations</a> &amp;what, const <a class="el" href="structtripoint.html">tripoint</a> &amp;target, bool stash=false)</td></tr>
<tr class="separator:a83423bae99ffeabcc262a958a3bddf94 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24f9a7fe69a7d8c34809d16e62ac2cf4 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a24f9a7fe69a7d8c34809d16e62ac2cf4">has_artifact_with</a> (<a class="el" href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621">art_effect_passive</a> <a class="el" href="classeffect.html">effect</a>) const</td></tr>
<tr class="separator:a24f9a7fe69a7d8c34809d16e62ac2cf4 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81864eee5b75943bd4222b696117a52a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a81864eee5b75943bd4222b696117a52a">is_wielding</a> (const <a class="el" href="classitem.html">item</a> &amp;target) const</td></tr>
<tr class="separator:a81864eee5b75943bd4222b696117a52a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6462fa28e480adc07c0f526b38c5811d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6462fa28e480adc07c0f526b38c5811d">covered_with_flag</a> (const std::string &amp;flag, const <a class="el" href="classbody__part__set.html">body_part_set</a> &amp;parts) const</td></tr>
<tr class="separator:a6462fa28e480adc07c0f526b38c5811d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e3588cb25d45eec74e61458404d23f5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0e3588cb25d45eec74e61458404d23f5">is_waterproof</a> (const <a class="el" href="classbody__part__set.html">body_part_set</a> &amp;parts) const</td></tr>
<tr class="separator:a0e3588cb25d45eec74e61458404d23f5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc25d1c7ac31566f6e087635df3cd7f1 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#abc25d1c7ac31566f6e087635df3cd7f1">leak_level</a> (const std::string &amp;flag) const</td></tr>
<tr class="separator:abc25d1c7ac31566f6e087635df3cd7f1 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6028587ccee9855c6ba900042188eec3 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6028587ccee9855c6ba900042188eec3">is_wearing</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;it) const</td></tr>
<tr class="memdesc:a6028587ccee9855c6ba900042188eec3 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player is wearing the item.  <a href="classCharacter.html#a6028587ccee9855c6ba900042188eec3">More...</a><br /></td></tr>
<tr class="separator:a6028587ccee9855c6ba900042188eec3 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f64cc317f376b3340c0e8b1b729a512 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7f64cc317f376b3340c0e8b1b729a512">is_wearing_on_bp</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;it, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp) const</td></tr>
<tr class="memdesc:a7f64cc317f376b3340c0e8b1b729a512 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player is wearing the item on the given body part.  <a href="classCharacter.html#a7f64cc317f376b3340c0e8b1b729a512">More...</a><br /></td></tr>
<tr class="separator:a7f64cc317f376b3340c0e8b1b729a512 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aaa75382f6308a729369c7f2ccf0600 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3aaa75382f6308a729369c7f2ccf0600">worn_with_flag</a> (const std::string &amp;flag, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp=<a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">bodypart_str_id::NULL_ID</a>()) const</td></tr>
<tr class="memdesc:a3aaa75382f6308a729369c7f2ccf0600 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player is wearing an item with the given flag.  <a href="classCharacter.html#a3aaa75382f6308a729369c7f2ccf0600">More...</a><br /></td></tr>
<tr class="separator:a3aaa75382f6308a729369c7f2ccf0600 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29316d3da485ae0de4d2992555587beb inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a29316d3da485ae0de4d2992555587beb">item_worn_with_flag</a> (const std::string &amp;flag, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp=<a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">bodypart_str_id::NULL_ID</a>()) const</td></tr>
<tr class="memdesc:a29316d3da485ae0de4d2992555587beb inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the first worn item with a given flag.  <a href="classCharacter.html#a29316d3da485ae0de4d2992555587beb">More...</a><br /></td></tr>
<tr class="separator:a29316d3da485ae0de4d2992555587beb inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69e8c31ee828c335c4fdaa4f0daac7a7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a69e8c31ee828c335c4fdaa4f0daac7a7">get_overlay_ids</a> () const</td></tr>
<tr class="memdesc:a69e8c31ee828c335c4fdaa4f0daac7a7 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of the IDs of overlays on this character, sorted from "lowest" to "highest".  <a href="classCharacter.html#a69e8c31ee828c335c4fdaa4f0daac7a7">More...</a><br /></td></tr>
<tr class="separator:a69e8c31ee828c335c4fdaa4f0daac7a7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa95fe499ca6b55ab97f1b442a4c95c5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a> (const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;ident) const</td></tr>
<tr class="separator:afa95fe499ca6b55ab97f1b442a4c95c5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67fb31a635385b1f7110d7009cf7fcb4 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a67fb31a635385b1f7110d7009cf7fcb4">get_skill_level</a> (const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;ident, const <a class="el" href="classitem.html">item</a> &amp;context) const</td></tr>
<tr class="separator:a67fb31a635385b1f7110d7009cf7fcb4 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eff1956d8cca838d791f2c4d148ddea inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classSkillLevelMap.html">SkillLevelMap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3eff1956d8cca838d791f2c4d148ddea">get_all_skills</a> () const</td></tr>
<tr class="separator:a3eff1956d8cca838d791f2c4d148ddea inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2726ac089fa49e864b486e289f53fade inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSkillLevel.html">SkillLevel</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2726ac089fa49e864b486e289f53fade">get_skill_level_object</a> (const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;ident)</td></tr>
<tr class="separator:a2726ac089fa49e864b486e289f53fade inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37316b1399166afb1ae3825e5bf95408 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classSkillLevel.html">SkillLevel</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a37316b1399166afb1ae3825e5bf95408">get_skill_level_object</a> (const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;ident) const</td></tr>
<tr class="separator:a37316b1399166afb1ae3825e5bf95408 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac28618b387cf4ce36252e47699938d5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aac28618b387cf4ce36252e47699938d5">set_skill_level</a> (const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;ident, int level)</td></tr>
<tr class="separator:aac28618b387cf4ce36252e47699938d5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae47764cfe4f475853062fb4705e24742 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae47764cfe4f475853062fb4705e24742">mod_skill_level</a> (const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;ident, int delta)</td></tr>
<tr class="separator:ae47764cfe4f475853062fb4705e24742 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc4d3be0006e7ac9643b568bcf531ae9 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#afc4d3be0006e7ac9643b568bcf531ae9">meets_skill_requirements</a> (const std::map&lt; <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>, int &gt; &amp;req, const <a class="el" href="classitem.html">item</a> &amp;context=<a class="el" href="classitem.html">item</a>()) const</td></tr>
<tr class="memdesc:afc4d3be0006e7ac9643b568bcf531ae9 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the character's skills meet the required.  <a href="classCharacter.html#afc4d3be0006e7ac9643b568bcf531ae9">More...</a><br /></td></tr>
<tr class="separator:afc4d3be0006e7ac9643b568bcf531ae9 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8373ab2db6026fd8a6fdaf1f2484dbab inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8373ab2db6026fd8a6fdaf1f2484dbab">meets_skill_requirements</a> (const <a class="el" href="structconstruction.html">construction</a> &amp;con) const</td></tr>
<tr class="memdesc:a8373ab2db6026fd8a6fdaf1f2484dbab inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the character's skills meet the required.  <a href="classCharacter.html#a8373ab2db6026fd8a6fdaf1f2484dbab">More...</a><br /></td></tr>
<tr class="separator:a8373ab2db6026fd8a6fdaf1f2484dbab inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d5a5c1cf1300b215357f0c3be308ae8 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1d5a5c1cf1300b215357f0c3be308ae8">meets_stat_requirements</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:a1d5a5c1cf1300b215357f0c3be308ae8 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the character's stats meets the stats required by the item.  <a href="classCharacter.html#a1d5a5c1cf1300b215357f0c3be308ae8">More...</a><br /></td></tr>
<tr class="separator:a1d5a5c1cf1300b215357f0c3be308ae8 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afca93d0bd4fe00f5c087d4040cbf98ae inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#afca93d0bd4fe00f5c087d4040cbf98ae">meets_requirements</a> (const <a class="el" href="classitem.html">item</a> &amp;it, const <a class="el" href="classitem.html">item</a> &amp;context=<a class="el" href="classitem.html">item</a>()) const</td></tr>
<tr class="memdesc:afca93d0bd4fe00f5c087d4040cbf98ae inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the character meets overall requirements to be able to use the item.  <a href="classCharacter.html#afca93d0bd4fe00f5c087d4040cbf98ae">More...</a><br /></td></tr>
<tr class="separator:afca93d0bd4fe00f5c087d4040cbf98ae inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7de97d7b6c31fdddbedb114f63627db3 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7de97d7b6c31fdddbedb114f63627db3">enumerate_unmet_requirements</a> (const <a class="el" href="classitem.html">item</a> &amp;it, const <a class="el" href="classitem.html">item</a> &amp;context=<a class="el" href="classitem.html">item</a>()) const</td></tr>
<tr class="memdesc:a7de97d7b6c31fdddbedb114f63627db3 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string of missed requirements (both stats and skills)  <a href="classCharacter.html#a7de97d7b6c31fdddbedb114f63627db3">More...</a><br /></td></tr>
<tr class="separator:a7de97d7b6c31fdddbedb114f63627db3 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7566f88fb4d591bb10a63ae3d89d8852 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7566f88fb4d591bb10a63ae3d89d8852">rust_rate</a> () const</td></tr>
<tr class="memdesc:a7566f88fb4d591bb10a63ae3d89d8852 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the player's skill rust rate.  <a href="classCharacter.html#a7566f88fb4d591bb10a63ae3d89d8852">More...</a><br /></td></tr>
<tr class="separator:a7566f88fb4d591bb10a63ae3d89d8852 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af610bff638dba44235d3613d7c662557 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af610bff638dba44235d3613d7c662557">read_speed</a> (bool return_stat_effect=true) const</td></tr>
<tr class="memdesc:af610bff638dba44235d3613d7c662557 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the player's reading speed.  <a href="classCharacter.html#af610bff638dba44235d3613d7c662557">More...</a><br /></td></tr>
<tr class="separator:af610bff638dba44235d3613d7c662557 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cfd138ff3710b9913b8c2c6baab8982 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0cfd138ff3710b9913b8c2c6baab8982">get_time_died</a> () const</td></tr>
<tr class="memdesc:a0cfd138ff3710b9913b8c2c6baab8982 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the <a class="el" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> the character expired  <a href="classCharacter.html#a0cfd138ff3710b9913b8c2c6baab8982">More...</a><br /></td></tr>
<tr class="separator:a0cfd138ff3710b9913b8c2c6baab8982 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0a23427ca9016a72c2144d53f56590a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa0a23427ca9016a72c2144d53f56590a">set_time_died</a> (const <a class="el" href="classtime__point.html">time_point</a> &amp;time)</td></tr>
<tr class="memdesc:aa0a23427ca9016a72c2144d53f56590a inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the turn the turn the character died if not already done  <a href="classCharacter.html#aa0a23427ca9016a72c2144d53f56590a">More...</a><br /></td></tr>
<tr class="separator:aa0a23427ca9016a72c2144d53f56590a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47a1761594252c70c78bee7ce75f1037 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a47a1761594252c70c78bee7ce75f1037">die</a> (<a class="el" href="classCreature.html">Creature</a> *nkiller) override</td></tr>
<tr class="memdesc:a47a1761594252c70c78bee7ce75f1037 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty function.  <a href="classCharacter.html#a47a1761594252c70c78bee7ce75f1037">More...</a><br /></td></tr>
<tr class="separator:a47a1761594252c70c78bee7ce75f1037 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae47514f140700c67ea21ccbadf66d106 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae47514f140700c67ea21ccbadf66d106">get_name</a> () const override</td></tr>
<tr class="separator:ae47514f140700c67ea21ccbadf66d106 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a8f84d5dc2a79148c5f22cae8ef1dc2 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0a8f84d5dc2a79148c5f22cae8ef1dc2">get_grammatical_genders</a> () const override</td></tr>
<tr class="separator:a0a8f84d5dc2a79148c5f22cae8ef1dc2 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a358731acbb8b137aa540bb8d49109ca3 inherit pub_methods_classCharacter"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a358731acbb8b137aa540bb8d49109ca3 inherit pub_methods_classCharacter"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCharacter.html#a358731acbb8b137aa540bb8d49109ca3">query_yn</a> (const char *const msg, Args &amp;&amp;... args) const</td></tr>
<tr class="memdesc:a358731acbb8b137aa540bb8d49109ca3 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">It is supposed to hide the query_yn to simplify player vs.  <a href="classCharacter.html#a358731acbb8b137aa540bb8d49109ca3">More...</a><br /></td></tr>
<tr class="separator:a358731acbb8b137aa540bb8d49109ca3 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89f7f22d882e6ca5e272fe0a4184ff2b inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a89f7f22d882e6ca5e272fe0a4184ff2b">is_immune_field</a> (const <a class="el" href="type__id_8h.html#a2a56520b7eef7294fc98230cb883c9d2">field_type_id</a> &amp;fid) const override</td></tr>
<tr class="memdesc:a89f7f22d882e6ca5e272fe0a4184ff2b inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if we are immune to the field type with the given fid.  <a href="classCharacter.html#a89f7f22d882e6ca5e272fe0a4184ff2b">More...</a><br /></td></tr>
<tr class="separator:a89f7f22d882e6ca5e272fe0a4184ff2b inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fcc1fc6fbdadd5dc6f404eb80351b3f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2fcc1fc6fbdadd5dc6f404eb80351b3f">is_elec_immune</a> () const override</td></tr>
<tr class="memdesc:a2fcc1fc6fbdadd5dc6f404eb80351b3f inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true is the player is protected from electric shocks.  <a href="classCharacter.html#a2fcc1fc6fbdadd5dc6f404eb80351b3f">More...</a><br /></td></tr>
<tr class="separator:a2fcc1fc6fbdadd5dc6f404eb80351b3f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad12c96b78412ee57cbddbcef80b6c431 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad12c96b78412ee57cbddbcef80b6c431">is_immune_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;) const override</td></tr>
<tr class="memdesc:ad12c96b78412ee57cbddbcef80b6c431 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player is immune to this kind of effect.  <a href="classCharacter.html#ad12c96b78412ee57cbddbcef80b6c431">More...</a><br /></td></tr>
<tr class="separator:ad12c96b78412ee57cbddbcef80b6c431 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d6fc1ca9e4da196f54cf96d617e70d1 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5d6fc1ca9e4da196f54cf96d617e70d1">is_immune_damage</a> (<a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a>) const override</td></tr>
<tr class="memdesc:a5d6fc1ca9e4da196f54cf96d617e70d1 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player is immune to this kind of damage.  <a href="classCharacter.html#a5d6fc1ca9e4da196f54cf96d617e70d1">More...</a><br /></td></tr>
<tr class="separator:a5d6fc1ca9e4da196f54cf96d617e70d1 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad14126be8e7c9de6ba0ac6b8dd742844 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad14126be8e7c9de6ba0ac6b8dd742844">is_rad_immune</a> () const</td></tr>
<tr class="memdesc:ad14126be8e7c9de6ba0ac6b8dd742844 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player is protected from radiation.  <a href="classCharacter.html#ad14126be8e7c9de6ba0ac6b8dd742844">More...</a><br /></td></tr>
<tr class="separator:ad14126be8e7c9de6ba0ac6b8dd742844 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9612295236144e36e019fb74b04c309 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab9612295236144e36e019fb74b04c309">is_throw_immune</a> () const</td></tr>
<tr class="memdesc:ab9612295236144e36e019fb74b04c309 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player is immune to throws.  <a href="classCharacter.html#ab9612295236144e36e019fb74b04c309">More...</a><br /></td></tr>
<tr class="separator:ab9612295236144e36e019fb74b04c309 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72846056d470cbe94874ed6f7b8026e5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a72846056d470cbe94874ed6f7b8026e5">has_nv</a> ()</td></tr>
<tr class="memdesc:a72846056d470cbe94874ed6f7b8026e5 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has some form of night vision.  <a href="classCharacter.html#a72846056d470cbe94874ed6f7b8026e5">More...</a><br /></td></tr>
<tr class="separator:a72846056d470cbe94874ed6f7b8026e5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9831e3cdb9c055216855d407c2ff0c4c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9831e3cdb9c055216855d407c2ff0c4c">rest_quality</a> () const</td></tr>
<tr class="memdesc:a9831e3cdb9c055216855d407c2ff0c4c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns &gt;0 if character is sitting/lying and relatively inactive.  <a href="classCharacter.html#a9831e3cdb9c055216855d407c2ff0c4c">More...</a><br /></td></tr>
<tr class="separator:a9831e3cdb9c055216855d407c2ff0c4c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a065910e5f3192232732870b00a704264 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a065910e5f3192232732870b00a704264">healing_rate</a> (float at_rest_quality) const</td></tr>
<tr class="memdesc:a065910e5f3192232732870b00a704264 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Average hit points healed per turn.  <a href="classCharacter.html#a065910e5f3192232732870b00a704264">More...</a><br /></td></tr>
<tr class="separator:a065910e5f3192232732870b00a704264 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52da49cab67599cada56abf05597fefc inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a52da49cab67599cada56abf05597fefc">healing_rate_medicine</a> (float at_rest_quality, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp) const</td></tr>
<tr class="memdesc:a52da49cab67599cada56abf05597fefc inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Average hit points healed per turn from healing effects.  <a href="classCharacter.html#a52da49cab67599cada56abf05597fefc">More...</a><br /></td></tr>
<tr class="separator:a52da49cab67599cada56abf05597fefc inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fbae705aa03db588d52519dfa1e285c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7fbae705aa03db588d52519dfa1e285c">mutation_value</a> (const std::string &amp;val) const</td></tr>
<tr class="memdesc:a7fbae705aa03db588d52519dfa1e285c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Goes over all mutations, gets min and max of a value with given name.  <a href="classCharacter.html#a7fbae705aa03db588d52519dfa1e285c">More...</a><br /></td></tr>
<tr class="separator:a7fbae705aa03db588d52519dfa1e285c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15405aed8682db1e7c090822ba84785d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsocial__modifiers.html">social_modifiers</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a15405aed8682db1e7c090822ba84785d">get_mutation_social_mods</a> () const</td></tr>
<tr class="memdesc:a15405aed8682db1e7c090822ba84785d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Goes over all mutations, returning the sum of the social modifiers.  <a href="classCharacter.html#a15405aed8682db1e7c090822ba84785d">More...</a><br /></td></tr>
<tr class="separator:a15405aed8682db1e7c090822ba84785d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad00f56641a33efb961a32f1651b83541 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnc__color.html">nc_color</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad00f56641a33efb961a32f1651b83541">symbol_color</a> () const override</td></tr>
<tr class="memdesc:ad00f56641a33efb961a32f1651b83541 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Color's character's tile's background.  <a href="classCharacter.html#ad00f56641a33efb961a32f1651b83541">More...</a><br /></td></tr>
<tr class="separator:ad00f56641a33efb961a32f1651b83541 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d3ae1a43f83dce5a8fcfc605c8226f2 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0d3ae1a43f83dce5a8fcfc605c8226f2">extended_description</a> () const override</td></tr>
<tr class="separator:a0d3ae1a43f83dce5a8fcfc605c8226f2 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a90a994f0365e2fb4d1f3ee97cff32d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9a90a994f0365e2fb4d1f3ee97cff32d">empty_skills</a> ()</td></tr>
<tr class="separator:a9a90a994f0365e2fb4d1f3ee97cff32d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaa47888f287188f4262ac4c64400bc8 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aeaa47888f287188f4262ac4c64400bc8">pick_name</a> (bool bUseDefault=false)</td></tr>
<tr class="memdesc:aeaa47888f287188f4262ac4c64400bc8 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a random name from NAMES_*.  <a href="classCharacter.html#aeaa47888f287188f4262ac4c64400bc8">More...</a><br /></td></tr>
<tr class="separator:aeaa47888f287188f4262ac4c64400bc8 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fb20d773a7dcc8a15cadec93b6dcafe inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1fb20d773a7dcc8a15cadec93b6dcafe">get_base_traits</a> () const</td></tr>
<tr class="memdesc:a1fb20d773a7dcc8a15cadec93b6dcafe inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the idents of all base traits.  <a href="classCharacter.html#a1fb20d773a7dcc8a15cadec93b6dcafe">More...</a><br /></td></tr>
<tr class="separator:a1fb20d773a7dcc8a15cadec93b6dcafe inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97c5948a2648dc5fd3e2defd5885cdb0 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a97c5948a2648dc5fd3e2defd5885cdb0">get_mutations</a> (bool include_hidden=true) const</td></tr>
<tr class="memdesc:a97c5948a2648dc5fd3e2defd5885cdb0 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the idents of all traits/mutations.  <a href="classCharacter.html#a97c5948a2648dc5fd3e2defd5885cdb0">More...</a><br /></td></tr>
<tr class="separator:a97c5948a2648dc5fd3e2defd5885cdb0 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b0008e414492c82f3c5bbf5e9811982 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">const std::bitset&lt; <a class="el" href="character_8h.html#ad87be595004034c31843cf782d41c0b5a0a7effe1d6f45087e6f1f0f209109bc4">NUM_VISION_MODES</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1b0008e414492c82f3c5bbf5e9811982">get_vision_modes</a> () const</td></tr>
<tr class="separator:a1b0008e414492c82f3c5bbf5e9811982 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bac7d45421950828e84a75ea92d379c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6bac7d45421950828e84a75ea92d379c">clear_mutations</a> ()</td></tr>
<tr class="memdesc:a6bac7d45421950828e84a75ea92d379c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empties the trait and mutations lists.  <a href="classCharacter.html#a6bac7d45421950828e84a75ea92d379c">More...</a><br /></td></tr>
<tr class="separator:a6bac7d45421950828e84a75ea92d379c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11e60b9a011fa48cef2b5aab3977b586 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a11e60b9a011fa48cef2b5aab3977b586">add_traits</a> ()</td></tr>
<tr class="memdesc:a11e60b9a011fa48cef2b5aab3977b586 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds mandatory scenario and profession traits unless you already have them And if you do already have them, refunds the points for the trait.  <a href="classCharacter.html#a11e60b9a011fa48cef2b5aab3977b586">More...</a><br /></td></tr>
<tr class="separator:a11e60b9a011fa48cef2b5aab3977b586 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1db73792a4956eaff565a067691f2574 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1db73792a4956eaff565a067691f2574">add_traits</a> (<a class="el" href="structpoints__left.html">points_left</a> &amp;points)</td></tr>
<tr class="separator:a1db73792a4956eaff565a067691f2574 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ecd6260cdd64e5e520d834f03e449bd inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3ecd6260cdd64e5e520d834f03e449bd">crossed_threshold</a> () const</td></tr>
<tr class="memdesc:a3ecd6260cdd64e5e520d834f03e449bd inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has crossed a mutation threshold Player can only cross one mutation threshold.  <a href="classCharacter.html#a3ecd6260cdd64e5e520d834f03e449bd">More...</a><br /></td></tr>
<tr class="separator:a3ecd6260cdd64e5e520d834f03e449bd inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a218867c29011e068411140277abdab80 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a218867c29011e068411140277abdab80">add_addiction</a> (<a class="el" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295b">add_type</a> <a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, int strength)</td></tr>
<tr class="memdesc:a218867c29011e068411140277abdab80 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an addiction to the player.  <a href="classCharacter.html#a218867c29011e068411140277abdab80">More...</a><br /></td></tr>
<tr class="separator:a218867c29011e068411140277abdab80 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6106ffc3053c2eb470bd840bce44d1b9 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6106ffc3053c2eb470bd840bce44d1b9">rem_addiction</a> (<a class="el" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295b">add_type</a> <a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>)</td></tr>
<tr class="memdesc:a6106ffc3053c2eb470bd840bce44d1b9 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes an addition from the player.  <a href="classCharacter.html#a6106ffc3053c2eb470bd840bce44d1b9">More...</a><br /></td></tr>
<tr class="separator:a6106ffc3053c2eb470bd840bce44d1b9 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe055a629e5f9afdb201cd9a8749283c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#afe055a629e5f9afdb201cd9a8749283c">has_addiction</a> (<a class="el" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295b">add_type</a> <a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>) const</td></tr>
<tr class="memdesc:afe055a629e5f9afdb201cd9a8749283c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has an addiction of the specified type.  <a href="classCharacter.html#afe055a629e5f9afdb201cd9a8749283c">More...</a><br /></td></tr>
<tr class="separator:afe055a629e5f9afdb201cd9a8749283c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f6b4a5ad4b128bda53fe610362b5b0 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af2f6b4a5ad4b128bda53fe610362b5b0">addiction_level</a> (<a class="el" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295b">add_type</a> <a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>) const</td></tr>
<tr class="memdesc:af2f6b4a5ad4b128bda53fe610362b5b0 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the intensity of the specified addiction.  <a href="classCharacter.html#af2f6b4a5ad4b128bda53fe610362b5b0">More...</a><br /></td></tr>
<tr class="separator:af2f6b4a5ad4b128bda53fe610362b5b0 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa824314f3a280a2f9f95d7f46324b297 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa824314f3a280a2f9f95d7f46324b297">start_hauling</a> ()</td></tr>
<tr class="separator:aa824314f3a280a2f9f95d7f46324b297 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af41b2402ff6f402c399454156f152ef2 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af41b2402ff6f402c399454156f152ef2">stop_hauling</a> ()</td></tr>
<tr class="separator:af41b2402ff6f402c399454156f152ef2 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a459be1dc759e2674295b14585bf868d5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a459be1dc759e2674295b14585bf868d5">is_hauling</a> () const</td></tr>
<tr class="separator:a459be1dc759e2674295b14585bf868d5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a871b6838d0ca81d5a54f86f32fc464ff inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a871b6838d0ca81d5a54f86f32fc464ff">has_item_with_flag</a> (const std::string &amp;flag, bool need_charges=false) const</td></tr>
<tr class="separator:a871b6838d0ca81d5a54f86f32fc464ff inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77dab73efee10d517925c57310ec1f95 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a77dab73efee10d517925c57310ec1f95">all_items_with_flag</a> (const std::string &amp;flag) const</td></tr>
<tr class="memdesc:a77dab73efee10d517925c57310ec1f95 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">All items that have the given flag (<a class="el" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">item::has_flag</a>).  <a href="classCharacter.html#a77dab73efee10d517925c57310ec1f95">More...</a><br /></td></tr>
<tr class="separator:a77dab73efee10d517925c57310ec1f95 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bff3208a5e121c4e3a71b81b378e4e7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9bff3208a5e121c4e3a71b81b378e4e7">has_charges</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;it, int quantity, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;) const</td></tr>
<tr class="separator:a9bff3208a5e121c4e3a71b81b378e4e7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cb114203e03014f9834a10fa4bff24e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7cb114203e03014f9834a10fa4bff24e">use_amount</a> (<a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> it, int quantity, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;)</td></tr>
<tr class="separator:a7cb114203e03014f9834a10fa4bff24e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a33b517f5d4f8a85c83a71a3bc8cdaf inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8a33b517f5d4f8a85c83a71a3bc8cdaf">use_charges_if_avail</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;it, int quantity)</td></tr>
<tr class="separator:a8a33b517f5d4f8a85c83a71a3bc8cdaf inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d0ec2b4e80527bd2daad576c2bbb187 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">use_charges</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, int qty, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;)</td></tr>
<tr class="separator:a3d0ec2b4e80527bd2daad576c2bbb187 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af29d9cab22b1bb185e60dedacffce758 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af29d9cab22b1bb185e60dedacffce758">has_fire</a> (int quantity) const</td></tr>
<tr class="separator:af29d9cab22b1bb185e60dedacffce758 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a554c46f9160ac4aba4d9c117942e8946 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a554c46f9160ac4aba4d9c117942e8946">use_fire</a> (int quantity)</td></tr>
<tr class="separator:a554c46f9160ac4aba4d9c117942e8946 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37cbf03be0b64ebb45c3eb5cdb6a3b18 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a37cbf03be0b64ebb45c3eb5cdb6a3b18">assign_stashed_activity</a> ()</td></tr>
<tr class="separator:a37cbf03be0b64ebb45c3eb5cdb6a3b18 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b38269bfb5ffc4edef08f904bd487f6 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2b38269bfb5ffc4edef08f904bd487f6">check_outbounds_activity</a> (const <a class="el" href="classplayer__activity.html">player_activity</a> &amp;<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, bool check_only=false)</td></tr>
<tr class="separator:a2b38269bfb5ffc4edef08f904bd487f6 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7d50915d362a56eeff40bc6b392326d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a> (const <a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a> &amp;<a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, int <a class="el" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a>=<a class="el" href="namespacecalendar.html#a00a46407cfaf938c78b9e3ae7bbc763f">calendar::INDEFINITELY_LONG</a>, int index=-1, int <a class="el" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>=INT_MIN, const std::string &amp;<a class="el" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a>=&quot;&quot;)</td></tr>
<tr class="memdesc:af7d50915d362a56eeff40bc6b392326d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Legacy activity assignment, does not work for any activites using the new <a class="el" href="classactivity__actor.html">activity_actor</a> class and may cause issues with resuming.  <a href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">More...</a><br /></td></tr>
<tr class="separator:af7d50915d362a56eeff40bc6b392326d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae799733b79aa31347b0c83f81ec992ce inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae799733b79aa31347b0c83f81ec992ce">assign_activity</a> (const <a class="el" href="classplayer__activity.html">player_activity</a> &amp;<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, bool allow_resume=true)</td></tr>
<tr class="memdesc:ae799733b79aa31347b0c83f81ec992ce inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns activity to player, possibly resuming old activity if it's similar enough.  <a href="classCharacter.html#ae799733b79aa31347b0c83f81ec992ce">More...</a><br /></td></tr>
<tr class="separator:ae799733b79aa31347b0c83f81ec992ce inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6186c819cc348b5a060e140b5bab8226 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6186c819cc348b5a060e140b5bab8226">has_activity</a> (const <a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a> &amp;<a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>) const</td></tr>
<tr class="memdesc:a6186c819cc348b5a060e140b5bab8226 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if player currently has a given activity.  <a href="classCharacter.html#a6186c819cc348b5a060e140b5bab8226">More...</a><br /></td></tr>
<tr class="separator:a6186c819cc348b5a060e140b5bab8226 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad52624d13193084079a4c36022ff76e2 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad52624d13193084079a4c36022ff76e2">has_activity</a> (const std::vector&lt; <a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a> &gt; &amp;types) const</td></tr>
<tr class="memdesc:ad52624d13193084079a4c36022ff76e2 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if player currently has any of the given activities.  <a href="classCharacter.html#ad52624d13193084079a4c36022ff76e2">More...</a><br /></td></tr>
<tr class="separator:ad52624d13193084079a4c36022ff76e2 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0a16a221b42885b3a0cb4a774b592e5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab0a16a221b42885b3a0cb4a774b592e5">resume_backlog_activity</a> ()</td></tr>
<tr class="separator:ab0a16a221b42885b3a0cb4a774b592e5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a597968eba450c923b56a1c9cac1676dc inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a597968eba450c923b56a1c9cac1676dc">cancel_activity</a> ()</td></tr>
<tr class="separator:a597968eba450c923b56a1c9cac1676dc inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36421cfd1daee0e9b07fa38e32329f56 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a36421cfd1daee0e9b07fa38e32329f56">cancel_stashed_activity</a> ()</td></tr>
<tr class="separator:a36421cfd1daee0e9b07fa38e32329f56 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5815e4a8e87aa5ac0faf6a045bdaf4c8 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classplayer__activity.html">player_activity</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5815e4a8e87aa5ac0faf6a045bdaf4c8">get_stashed_activity</a> () const</td></tr>
<tr class="separator:a5815e4a8e87aa5ac0faf6a045bdaf4c8 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cf9e2a42d88b976ac9d0f0afa27dfde inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2cf9e2a42d88b976ac9d0f0afa27dfde">set_stashed_activity</a> (const <a class="el" href="classplayer__activity.html">player_activity</a> &amp;<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, const <a class="el" href="classplayer__activity.html">player_activity</a> &amp;act_back=<a class="el" href="classplayer__activity.html">player_activity</a>())</td></tr>
<tr class="separator:a2cf9e2a42d88b976ac9d0f0afa27dfde inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9a9d879469286e1da635f69bc39c736 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af9a9d879469286e1da635f69bc39c736">has_stashed_activity</a> () const</td></tr>
<tr class="separator:af9a9d879469286e1da635f69bc39c736 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac19b9c4c86d954c8008d37490d801e8e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac19b9c4c86d954c8008d37490d801e8e">initialize_stomach_contents</a> ()</td></tr>
<tr class="separator:ac19b9c4c86d954c8008d37490d801e8e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69245a386351aaece624b82f7fb668d2 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a69245a386351aaece624b82f7fb668d2">metabolic_rate_base</a> () const</td></tr>
<tr class="memdesc:a69245a386351aaece624b82f7fb668d2 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stable base metabolic rate due to traits.  <a href="classCharacter.html#a69245a386351aaece624b82f7fb668d2">More...</a><br /></td></tr>
<tr class="separator:a69245a386351aaece624b82f7fb668d2 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24a1143537358b4138e3d9d504847a81 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a24a1143537358b4138e3d9d504847a81">metabolic_rate</a> () const</td></tr>
<tr class="memdesc:a24a1143537358b4138e3d9d504847a81 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current metabolic rate due to traits, hunger, speed, etc.  <a href="classCharacter.html#a24a1143537358b4138e3d9d504847a81">More...</a><br /></td></tr>
<tr class="separator:a24a1143537358b4138e3d9d504847a81 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50a010c49e18755e65ffca0cc5e8dfc9 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a50a010c49e18755e65ffca0cc5e8dfc9">get_weight_string</a> () const</td></tr>
<tr class="separator:a50a010c49e18755e65ffca0cc5e8dfc9 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aa0b0b3d04a75a5b57aa59c531b047c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2aa0b0b3d04a75a5b57aa59c531b047c">get_max_healthy</a> () const</td></tr>
<tr class="separator:a2aa0b0b3d04a75a5b57aa59c531b047c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6ccd4032695618731d330cf103c1a15 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab6ccd4032695618731d330cf103c1a15">bmi</a> () const</td></tr>
<tr class="separator:ab6ccd4032695618731d330cf103c1a15 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7313382d8e1f3cdf036ca6ad697da4e9 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7313382d8e1f3cdf036ca6ad697da4e9">bmr</a> () const</td></tr>
<tr class="separator:a7313382d8e1f3cdf036ca6ad697da4e9 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb537fa9dda1a22d1502125e4b3f3d69 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#acb537fa9dda1a22d1502125e4b3f3d69">reset_chargen_attributes</a> ()</td></tr>
<tr class="separator:acb537fa9dda1a22d1502125e4b3f3d69 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d626c918b0aa58ab99016e8564de256 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8d626c918b0aa58ab99016e8564de256">base_age</a> () const</td></tr>
<tr class="separator:a8d626c918b0aa58ab99016e8564de256 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48e3d4074974e70d2884e1f98ea1d521 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a48e3d4074974e70d2884e1f98ea1d521">set_base_age</a> (int <a class="el" href="classCharacter.html#acbf3309e06cd387bdc67c2ba04223210">age</a>)</td></tr>
<tr class="separator:a48e3d4074974e70d2884e1f98ea1d521 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac29293183ff758ed8b95aec3ec1863d4 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac29293183ff758ed8b95aec3ec1863d4">mod_base_age</a> (int mod)</td></tr>
<tr class="separator:ac29293183ff758ed8b95aec3ec1863d4 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf3309e06cd387bdc67c2ba04223210 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#acbf3309e06cd387bdc67c2ba04223210">age</a> () const</td></tr>
<tr class="separator:acbf3309e06cd387bdc67c2ba04223210 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a293766142b7f6a98e088e4ace62983d9 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a293766142b7f6a98e088e4ace62983d9">age_string</a> () const</td></tr>
<tr class="separator:a293766142b7f6a98e088e4ace62983d9 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbc355a0e5db820977290031b72c8149 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#afbc355a0e5db820977290031b72c8149">base_height</a> () const</td></tr>
<tr class="separator:afbc355a0e5db820977290031b72c8149 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed2688c416ca1a330b497927aef0fc86 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aed2688c416ca1a330b497927aef0fc86">set_base_height</a> (int <a class="el" href="classCharacter.html#aa9c1f97d187bff47d164c786df2807ba">height</a>)</td></tr>
<tr class="separator:aed2688c416ca1a330b497927aef0fc86 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40464833e5b75301b0838bab0787c5ad inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a40464833e5b75301b0838bab0787c5ad">mod_base_height</a> (int mod)</td></tr>
<tr class="separator:a40464833e5b75301b0838bab0787c5ad inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8dd26dc9f9339cdf605875e010f0061 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac8dd26dc9f9339cdf605875e010f0061">height_string</a> () const</td></tr>
<tr class="separator:ac8dd26dc9f9339cdf605875e010f0061 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9c1f97d187bff47d164c786df2807ba inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa9c1f97d187bff47d164c786df2807ba">height</a> () const</td></tr>
<tr class="separator:aa9c1f97d187bff47d164c786df2807ba inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adadbd053d2d4a9953ae41475a6c7c9c3 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#adadbd053d2d4a9953ae41475a6c7c9c3">bodyweight</a> () const</td></tr>
<tr class="separator:adadbd053d2d4a9953ae41475a6c7c9c3 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad430c5cf95ffb086932c014e53431fd6 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad430c5cf95ffb086932c014e53431fd6">bionics_weight</a> () const</td></tr>
<tr class="separator:ad430c5cf95ffb086932c014e53431fd6 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf163ec04813fd088bf3a49edafc22f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#acbf163ec04813fd088bf3a49edafc22f">get_armor_bash</a> (<a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> bp) const override</td></tr>
<tr class="memdesc:acbf163ec04813fd088bf3a49edafc22f inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns overall bashing resistance for the body_part.  <a href="classCharacter.html#acbf163ec04813fd088bf3a49edafc22f">More...</a><br /></td></tr>
<tr class="separator:acbf163ec04813fd088bf3a49edafc22f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa07b9d5f3a6d22ce9c6593d364cb14bc inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa07b9d5f3a6d22ce9c6593d364cb14bc">get_armor_cut</a> (<a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> bp) const override</td></tr>
<tr class="memdesc:aa07b9d5f3a6d22ce9c6593d364cb14bc inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns overall cutting resistance for the body_part.  <a href="classCharacter.html#aa07b9d5f3a6d22ce9c6593d364cb14bc">More...</a><br /></td></tr>
<tr class="separator:aa07b9d5f3a6d22ce9c6593d364cb14bc inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe992dd11fc9220c4cf4e7ff1687ed25 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#abe992dd11fc9220c4cf4e7ff1687ed25">get_armor_bullet</a> (<a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> bp) const override</td></tr>
<tr class="memdesc:abe992dd11fc9220c4cf4e7ff1687ed25 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns overall bullet resistance for the body_part.  <a href="classCharacter.html#abe992dd11fc9220c4cf4e7ff1687ed25">More...</a><br /></td></tr>
<tr class="separator:abe992dd11fc9220c4cf4e7ff1687ed25 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a645c7b04d12b27bb8b9f81da687c0c4d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a645c7b04d12b27bb8b9f81da687c0c4d">get_armor_bash_base</a> (<a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> bp) const override</td></tr>
<tr class="memdesc:a645c7b04d12b27bb8b9f81da687c0c4d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns bashing resistance from the creature and armor only.  <a href="classCharacter.html#a645c7b04d12b27bb8b9f81da687c0c4d">More...</a><br /></td></tr>
<tr class="separator:a645c7b04d12b27bb8b9f81da687c0c4d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71b95986e2d9328d89d6c7824353f3ac inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a71b95986e2d9328d89d6c7824353f3ac">get_armor_cut_base</a> (<a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> bp) const override</td></tr>
<tr class="memdesc:a71b95986e2d9328d89d6c7824353f3ac inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns cutting resistance from the creature and armor only.  <a href="classCharacter.html#a71b95986e2d9328d89d6c7824353f3ac">More...</a><br /></td></tr>
<tr class="separator:a71b95986e2d9328d89d6c7824353f3ac inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd492cba955b5944ac8684bf1f98cc70 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#abd492cba955b5944ac8684bf1f98cc70">get_armor_bullet_base</a> (<a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> bp) const override</td></tr>
<tr class="memdesc:abd492cba955b5944ac8684bf1f98cc70 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns cutting resistance from the creature and armor only.  <a href="classCharacter.html#abd492cba955b5944ac8684bf1f98cc70">More...</a><br /></td></tr>
<tr class="separator:abd492cba955b5944ac8684bf1f98cc70 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bc4c7c3d24cec4d735cf276e02de93a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8bc4c7c3d24cec4d735cf276e02de93a">get_env_resist</a> (<a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> bp) const override</td></tr>
<tr class="memdesc:a8bc4c7c3d24cec4d735cf276e02de93a inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns overall env_resist on a body_part.  <a href="classCharacter.html#a8bc4c7c3d24cec4d735cf276e02de93a">More...</a><br /></td></tr>
<tr class="separator:a8bc4c7c3d24cec4d735cf276e02de93a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b27788cc68732b4097c5dffe3559c5e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4b27788cc68732b4097c5dffe3559c5e">get_armor_acid</a> (<a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> bp) const</td></tr>
<tr class="memdesc:a4b27788cc68732b4097c5dffe3559c5e inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns overall acid resistance for the body part.  <a href="classCharacter.html#a4b27788cc68732b4097c5dffe3559c5e">More...</a><br /></td></tr>
<tr class="separator:a4b27788cc68732b4097c5dffe3559c5e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aaea50daa966bc12e4b1ec44134fa12 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6aaea50daa966bc12e4b1ec44134fa12">get_armor_type</a> (<a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a> dt, <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> bp) const override</td></tr>
<tr class="memdesc:a6aaea50daa966bc12e4b1ec44134fa12 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns overall resistance to given type on the bod part.  <a href="classCharacter.html#a6aaea50daa966bc12e4b1ec44134fa12">More...</a><br /></td></tr>
<tr class="separator:a6aaea50daa966bc12e4b1ec44134fa12 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c3aa03259e74f119df993f4f276b3c1 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3c3aa03259e74f119df993f4f276b3c1">get_all_armor_type</a> (<a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a> dt, const std::map&lt; <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>, std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt; &gt; &amp;clothing_map) const</td></tr>
<tr class="separator:a3c3aa03259e74f119df993f4f276b3c1 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7335f053c5874081211552623fa625c5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7335f053c5874081211552623fa625c5">get_stim</a> () const</td></tr>
<tr class="separator:a7335f053c5874081211552623fa625c5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5106996739b703dd5915cf166236653a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5106996739b703dd5915cf166236653a">set_stim</a> (int new_stim)</td></tr>
<tr class="separator:a5106996739b703dd5915cf166236653a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac840406f65172cadd93d4274ddd78e15 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac840406f65172cadd93d4274ddd78e15">mod_stim</a> (int mod)</td></tr>
<tr class="separator:ac840406f65172cadd93d4274ddd78e15 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa81a4b0db6f2387bfc02706a6b7a678e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa81a4b0db6f2387bfc02706a6b7a678e">get_rad</a> () const</td></tr>
<tr class="separator:aa81a4b0db6f2387bfc02706a6b7a678e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad06f0f9440098eb66fa9a6c46d033324 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad06f0f9440098eb66fa9a6c46d033324">set_rad</a> (int new_rad)</td></tr>
<tr class="separator:ad06f0f9440098eb66fa9a6c46d033324 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27c339d757f9f189e7a9280daa0d2630 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a27c339d757f9f189e7a9280daa0d2630">mod_rad</a> (int mod)</td></tr>
<tr class="separator:a27c339d757f9f189e7a9280daa0d2630 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ffe14df559cee6e9b5d02f5b214d009 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0ffe14df559cee6e9b5d02f5b214d009">get_stamina</a> () const</td></tr>
<tr class="separator:a0ffe14df559cee6e9b5d02f5b214d009 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefe5432750eb1c2c65fea628fd9878a7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aefe5432750eb1c2c65fea628fd9878a7">get_stamina_max</a> () const</td></tr>
<tr class="separator:aefe5432750eb1c2c65fea628fd9878a7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65642ccc4e3370f7a594d77e4e1fd374 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a65642ccc4e3370f7a594d77e4e1fd374">set_stamina</a> (int new_stamina)</td></tr>
<tr class="separator:a65642ccc4e3370f7a594d77e4e1fd374 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac29de3d2bc90dd1c8d921b539fb05cfb inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac29de3d2bc90dd1c8d921b539fb05cfb">mod_stamina</a> (int mod)</td></tr>
<tr class="separator:ac29de3d2bc90dd1c8d921b539fb05cfb inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a19076e05cfbfb9e2ef9c57dd45958d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0a19076e05cfbfb9e2ef9c57dd45958d">burn_move_stamina</a> (int <a class="el" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a>)</td></tr>
<tr class="separator:a0a19076e05cfbfb9e2ef9c57dd45958d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8a52a34a813283498d6859e49ec792e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad8a52a34a813283498d6859e49ec792e">stamina_move_cost_modifier</a> () const</td></tr>
<tr class="separator:ad8a52a34a813283498d6859e49ec792e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af57e8ba9aafdd6960677af16d90ce0c0 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af57e8ba9aafdd6960677af16d90ce0c0">update_stamina</a> (int turns)</td></tr>
<tr class="memdesc:af57e8ba9aafdd6960677af16d90ce0c0 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Regenerates stamina.  <a href="classCharacter.html#af57e8ba9aafdd6960677af16d90ce0c0">More...</a><br /></td></tr>
<tr class="separator:af57e8ba9aafdd6960677af16d90ce0c0 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95d488911238c2c12517dd742b00c81f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a95d488911238c2c12517dd742b00c81f">on_item_wear</a> (const <a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="memdesc:a95d488911238c2c12517dd742b00c81f inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when an item is worn.  <a href="classCharacter.html#a95d488911238c2c12517dd742b00c81f">More...</a><br /></td></tr>
<tr class="separator:a95d488911238c2c12517dd742b00c81f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2e2e141aa01aad994ef237aca8ca53c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac2e2e141aa01aad994ef237aca8ca53c">on_item_takeoff</a> (const <a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="memdesc:ac2e2e141aa01aad994ef237aca8ca53c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when an item is taken off.  <a href="classCharacter.html#ac2e2e141aa01aad994ef237aca8ca53c">More...</a><br /></td></tr>
<tr class="separator:ac2e2e141aa01aad994ef237aca8ca53c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3430e2eee8566869f441d3af8368c153 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3430e2eee8566869f441d3af8368c153">on_worn_item_washed</a> (const <a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="memdesc:a3430e2eee8566869f441d3af8368c153 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when an item is washed.  <a href="classCharacter.html#a3430e2eee8566869f441d3af8368c153">More...</a><br /></td></tr>
<tr class="separator:a3430e2eee8566869f441d3af8368c153 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5625848f7b8901ef1a089bd2ee876d5d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5625848f7b8901ef1a089bd2ee876d5d">on_effect_int_change</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;<a class="el" href="classeffect__type.html">effect_type</a>, int intensity, const <a class="el" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a> &amp;bp) override</td></tr>
<tr class="memdesc:a5625848f7b8901ef1a089bd2ee876d5d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when effect intensity has been changed.  <a href="classCharacter.html#a5625848f7b8901ef1a089bd2ee876d5d">More...</a><br /></td></tr>
<tr class="separator:a5625848f7b8901ef1a089bd2ee876d5d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4609d68fa1977aefed931d2a51afa52b inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4609d68fa1977aefed931d2a51afa52b">on_mutation_gain</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;mid)</td></tr>
<tr class="memdesc:a4609d68fa1977aefed931d2a51afa52b inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a mutation is gained.  <a href="classCharacter.html#a4609d68fa1977aefed931d2a51afa52b">More...</a><br /></td></tr>
<tr class="separator:a4609d68fa1977aefed931d2a51afa52b inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6d6061756db162728e47b9a480f09bb inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af6d6061756db162728e47b9a480f09bb">on_mutation_loss</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;mid)</td></tr>
<tr class="memdesc:af6d6061756db162728e47b9a480f09bb inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a mutation is lost.  <a href="classCharacter.html#af6d6061756db162728e47b9a480f09bb">More...</a><br /></td></tr>
<tr class="separator:af6d6061756db162728e47b9a480f09bb inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18182a6307b6430dacfc7a83b2636c9d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a18182a6307b6430dacfc7a83b2636c9d">on_stat_change</a> (const std::string &amp;stat, int value) override</td></tr>
<tr class="memdesc:a18182a6307b6430dacfc7a83b2636c9d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a stat is changed.  <a href="classCharacter.html#a18182a6307b6430dacfc7a83b2636c9d">More...</a><br /></td></tr>
<tr class="separator:a18182a6307b6430dacfc7a83b2636c9d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7db38cfe9df5a59341ed2008089df3f9 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtripoint.html">tripoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7db38cfe9df5a59341ed2008089df3f9">adjacent_tile</a> () const</td></tr>
<tr class="memdesc:a7db38cfe9df5a59341ed2008089df3f9 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an unoccupied, safe adjacent point.  <a href="classCharacter.html#a7db38cfe9df5a59341ed2008089df3f9">More...</a><br /></td></tr>
<tr class="separator:a7db38cfe9df5a59341ed2008089df3f9 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a809f85bef6731c16373600ad9f97dad7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a809f85bef6731c16373600ad9f97dad7">has_opposite_trait</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;flag) const</td></tr>
<tr class="memdesc:a809f85bef6731c16373600ad9f97dad7 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player has a trait which cancels the entered trait.  <a href="classCharacter.html#a809f85bef6731c16373600ad9f97dad7">More...</a><br /></td></tr>
<tr class="separator:a809f85bef6731c16373600ad9f97dad7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b32571db45faeab8561f33af6da1e28 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0b32571db45faeab8561f33af6da1e28">wake_up</a> ()</td></tr>
<tr class="memdesc:a0b32571db45faeab8561f33af6da1e28 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes "sleep" and "lying_down".  <a href="classCharacter.html#a0b32571db45faeab8561f33af6da1e28">More...</a><br /></td></tr>
<tr class="separator:a0b32571db45faeab8561f33af6da1e28 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9d3573dd5389eef3e7db0475b134095 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af9d3573dd5389eef3e7db0475b134095">get_shout_volume</a> () const</td></tr>
<tr class="separator:af9d3573dd5389eef3e7db0475b134095 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d1ae52e5e0c154d53b1cbf33cfcb926 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8d1ae52e5e0c154d53b1cbf33cfcb926">shout</a> (std::string msg=&quot;&quot;, bool order=false)</td></tr>
<tr class="separator:a8d1ae52e5e0c154d53b1cbf33cfcb926 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72b82d2498ae823e0cd6cad311215327 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">vomit</a> ()</td></tr>
<tr class="memdesc:a72b82d2498ae823e0cd6cad311215327 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles <a class="el" href="classCharacter.html">Character</a> vomiting effects.  <a href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">More...</a><br /></td></tr>
<tr class="separator:a72b82d2498ae823e0cd6cad311215327 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5d5b230cb69f676e3f796f9d3c072a2 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab5d5b230cb69f676e3f796f9d3c072a2">healed_bp</a> (int bp, int amount)</td></tr>
<tr class="separator:ab5d5b230cb69f676e3f796f9d3c072a2 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec3d558103114c003e421bef9040b822 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aec3d558103114c003e421bef9040b822">adjust_for_focus</a> (int amount) const</td></tr>
<tr class="separator:aec3d558103114c003e421bef9040b822 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f27afb33f33278c0e87025b1a2b22a6 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0f27afb33f33278c0e87025b1a2b22a6">update_type_of_scent</a> (bool init=false)</td></tr>
<tr class="separator:a0f27afb33f33278c0e87025b1a2b22a6 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac730f7fc536d8e2104ca780f6aa6dd7f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac730f7fc536d8e2104ca780f6aa6dd7f">update_type_of_scent</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;mut, bool gain=true)</td></tr>
<tr class="separator:ac730f7fc536d8e2104ca780f6aa6dd7f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79c08e977676e91b199287f36f55178d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a79c08e977676e91b199287f36f55178d">set_type_of_scent</a> (const <a class="el" href="type__id_8h.html#aef6bbf210a36a90bca13aaaf3b2aac13">scenttype_id</a> &amp;<a class="el" href="classCharacter.html#a8d0ef1736a17d274868b515b184a820d">id</a>)</td></tr>
<tr class="separator:a79c08e977676e91b199287f36f55178d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8276115b14eab8dfbb67f5dbb6f645b3 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#aef6bbf210a36a90bca13aaaf3b2aac13">scenttype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8276115b14eab8dfbb67f5dbb6f645b3">get_type_of_scent</a> () const</td></tr>
<tr class="separator:a8276115b14eab8dfbb67f5dbb6f645b3 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7818b073576ebe8b8f1331af79e1f41 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab7818b073576ebe8b8f1331af79e1f41">restore_scent</a> ()</td></tr>
<tr class="memdesc:ab7818b073576ebe8b8f1331af79e1f41 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">restore scent after masked_scent effect run out or is removed by water  <a href="classCharacter.html#ab7818b073576ebe8b8f1331af79e1f41">More...</a><br /></td></tr>
<tr class="separator:ab7818b073576ebe8b8f1331af79e1f41 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9790ad52dd6dfc8fd6c615ed994f8105 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9790ad52dd6dfc8fd6c615ed994f8105">mod_painkiller</a> (int npkill)</td></tr>
<tr class="memdesc:a9790ad52dd6dfc8fd6c615ed994f8105 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modifies intensity of painkillers <br  />
  <a href="classCharacter.html#a9790ad52dd6dfc8fd6c615ed994f8105">More...</a><br /></td></tr>
<tr class="separator:a9790ad52dd6dfc8fd6c615ed994f8105 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f1a21ad76d22926f2688c1e49105311 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5f1a21ad76d22926f2688c1e49105311">set_painkiller</a> (int npkill)</td></tr>
<tr class="memdesc:a5f1a21ad76d22926f2688c1e49105311 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets intensity of painkillers <br  />
  <a href="classCharacter.html#a5f1a21ad76d22926f2688c1e49105311">More...</a><br /></td></tr>
<tr class="separator:a5f1a21ad76d22926f2688c1e49105311 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1961ab0f9c702252e550bf42cb8dd974 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1961ab0f9c702252e550bf42cb8dd974">get_painkiller</a> () const</td></tr>
<tr class="memdesc:a1961ab0f9c702252e550bf42cb8dd974 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns intensity of painkillers <br  />
  <a href="classCharacter.html#a1961ab0f9c702252e550bf42cb8dd974">More...</a><br /></td></tr>
<tr class="separator:a1961ab0f9c702252e550bf42cb8dd974 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4ec92e564e84508af434393884fd139 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae4ec92e564e84508af434393884fd139">react_to_felt_pain</a> (int intensity)</td></tr>
<tr class="separator:ae4ec92e564e84508af434393884fd139 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab61b11b2213f90f55aa5b5bc0f682276 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab61b11b2213f90f55aa5b5bc0f682276">spores</a> ()</td></tr>
<tr class="separator:ab61b11b2213f90f55aa5b5bc0f682276 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f314857ab98e4958b7d2b74c07ff545 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9f314857ab98e4958b7d2b74c07ff545">blossoms</a> ()</td></tr>
<tr class="separator:a9f314857ab98e4958b7d2b74c07ff545 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e63260fe4977941254983ee15a528ea inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1e63260fe4977941254983ee15a528ea">rooted_message</a> () const</td></tr>
<tr class="memdesc:a1e63260fe4977941254983ee15a528ea inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles rooting effects.  <a href="classCharacter.html#a1e63260fe4977941254983ee15a528ea">More...</a><br /></td></tr>
<tr class="separator:a1e63260fe4977941254983ee15a528ea inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab37374ceb3147c0841a71a9244faab6e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab37374ceb3147c0841a71a9244faab6e">rooted</a> ()</td></tr>
<tr class="separator:ab37374ceb3147c0841a71a9244faab6e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4886c07d74c7e8ad7ce2ced7d8238015 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4886c07d74c7e8ad7ce2ced7d8238015">fall_asleep</a> ()</td></tr>
<tr class="memdesc:a4886c07d74c7e8ad7ce2ced7d8238015 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds "sleep" to the player.  <a href="classCharacter.html#a4886c07d74c7e8ad7ce2ced7d8238015">More...</a><br /></td></tr>
<tr class="separator:a4886c07d74c7e8ad7ce2ced7d8238015 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae4d57432be5010fe6d4500efcce897 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8ae4d57432be5010fe6d4500efcce897">fall_asleep</a> (const <a class="el" href="classtime__duration.html">time_duration</a> &amp;duration)</td></tr>
<tr class="separator:a8ae4d57432be5010fe6d4500efcce897 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2bee218a965ef700d1da29f0cddc446 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab2bee218a965ef700d1da29f0cddc446">is_snuggling</a> () const</td></tr>
<tr class="memdesc:ab2bee218a965ef700d1da29f0cddc446 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks to see if the player is using floor items to keep warm, and return the name of one such item if so.  <a href="classCharacter.html#ab2bee218a965ef700d1da29f0cddc446">More...</a><br /></td></tr>
<tr class="separator:ab2bee218a965ef700d1da29f0cddc446 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab15fdce2f018b3327c92847b150c62dc inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab15fdce2f018b3327c92847b150c62dc">power_rating</a> () const override</td></tr>
<tr class="memdesc:ab15fdce2f018b3327c92847b150c62dc inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an approximation of the creature's strength.  <a href="classCharacter.html#ab15fdce2f018b3327c92847b150c62dc">More...</a><br /></td></tr>
<tr class="separator:ab15fdce2f018b3327c92847b150c62dc inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7854a24d8f6700177f2c611359ca627 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af7854a24d8f6700177f2c611359ca627">speed_rating</a> () const override</td></tr>
<tr class="memdesc:af7854a24d8f6700177f2c611359ca627 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an approximate number of tiles this creature can travel per turn.  <a href="classCharacter.html#af7854a24d8f6700177f2c611359ca627">More...</a><br /></td></tr>
<tr class="separator:af7854a24d8f6700177f2c611359ca627 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9edd4a9e1caca73d6e071000c817d20 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af9edd4a9e1caca73d6e071000c817d20">item_with_best_of_quality</a> (const <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a> &amp;qid)</td></tr>
<tr class="memdesc:af9edd4a9e1caca73d6e071000c817d20 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the item in the player's inventory with the highest of the specified quality.  <a href="classCharacter.html#af9edd4a9e1caca73d6e071000c817d20">More...</a><br /></td></tr>
<tr class="separator:af9edd4a9e1caca73d6e071000c817d20 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9976ba9d9bccdaff264bd834628b97ec inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9976ba9d9bccdaff264bd834628b97ec">sees_with_infrared</a> (const <a class="el" href="classCreature.html">Creature</a> &amp;critter) const</td></tr>
<tr class="memdesc:a9976ba9d9bccdaff264bd834628b97ec inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether the this player can see the other creature with infrared.  <a href="classCharacter.html#a9976ba9d9bccdaff264bd834628b97ec">More...</a><br /></td></tr>
<tr class="separator:a9976ba9d9bccdaff264bd834628b97ec inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40abdc6cce03ee730a4991b506026246 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a40abdc6cce03ee730a4991b506026246">place_corpse</a> ()</td></tr>
<tr class="separator:a40abdc6cce03ee730a4991b506026246 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa82dee87350ea848cb5c8d01f23bb03b inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa82dee87350ea848cb5c8d01f23bb03b">place_corpse</a> (const <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &amp;om_target)</td></tr>
<tr class="separator:aa82dee87350ea848cb5c8d01f23bb03b inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85e40d1109c07460a6e03ff0421c7e2d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a85e40d1109c07460a6e03ff0421c7e2d">run_cost</a> (int base_cost, bool diag=false) const</td></tr>
<tr class="memdesc:a85e40d1109c07460a6e03ff0421c7e2d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the player's modified base movement cost.  <a href="classCharacter.html#a85e40d1109c07460a6e03ff0421c7e2d">More...</a><br /></td></tr>
<tr class="separator:a85e40d1109c07460a6e03ff0421c7e2d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7240b1a7ad2b5c556a6aeafc2132d46 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structpathfinding__settings.html">pathfinding_settings</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa7240b1a7ad2b5c556a6aeafc2132d46">get_pathfinding_settings</a> () const override</td></tr>
<tr class="memdesc:aa7240b1a7ad2b5c556a6aeafc2132d46 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns settings for pathfinding.  <a href="classCharacter.html#aa7240b1a7ad2b5c556a6aeafc2132d46">More...</a><br /></td></tr>
<tr class="separator:aa7240b1a7ad2b5c556a6aeafc2132d46 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4820be3a01e28cb0ad60f95a2df82e06 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4820be3a01e28cb0ad60f95a2df82e06">get_path_avoid</a> () const override</td></tr>
<tr class="memdesc:a4820be3a01e28cb0ad60f95a2df82e06 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a set of points we do not want to path through.  <a href="classCharacter.html#a4820be3a01e28cb0ad60f95a2df82e06">More...</a><br /></td></tr>
<tr class="separator:a4820be3a01e28cb0ad60f95a2df82e06 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9829172d5d8df497268ff97d7df7aa85 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classCreature.html">Creature</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9829172d5d8df497268ff97d7df7aa85">get_hostile_creatures</a> (int range) const</td></tr>
<tr class="memdesc:a9829172d5d8df497268ff97d7df7aa85 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all hostile creatures currently visible to this player.  <a href="classCharacter.html#a9829172d5d8df497268ff97d7df7aa85">More...</a><br /></td></tr>
<tr class="separator:a9829172d5d8df497268ff97d7df7aa85 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab638f579f648e401c5597fbafdc771b inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classCreature.html">Creature</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aab638f579f648e401c5597fbafdc771b">get_visible_creatures</a> (int range) const</td></tr>
<tr class="memdesc:aab638f579f648e401c5597fbafdc771b inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all creatures that this player can see and that are in the given range.  <a href="classCharacter.html#aab638f579f648e401c5597fbafdc771b">More...</a><br /></td></tr>
<tr class="separator:aab638f579f648e401c5597fbafdc771b inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadada1013f0f5d61ce925dbf78906c8d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aadada1013f0f5d61ce925dbf78906c8d">visible_mutations</a> (int visibility_cap) const</td></tr>
<tr class="memdesc:aadada1013f0f5d61ce925dbf78906c8d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an enumeration of visible mutations with colors.  <a href="classCharacter.html#aadada1013f0f5d61ce925dbf78906c8d">More...</a><br /></td></tr>
<tr class="separator:aadada1013f0f5d61ce925dbf78906c8d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54431751250b6e0b49e992f40ae6a728 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classplayer__activity.html">player_activity</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a54431751250b6e0b49e992f40ae6a728">get_destination_activity</a> () const</td></tr>
<tr class="separator:a54431751250b6e0b49e992f40ae6a728 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eab82f0cb0d03348b5ef6287f214b50 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3eab82f0cb0d03348b5ef6287f214b50">set_destination_activity</a> (const <a class="el" href="classplayer__activity.html">player_activity</a> &amp;new_destination_activity)</td></tr>
<tr class="separator:a3eab82f0cb0d03348b5ef6287f214b50 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8e08c97272a0d00c46cd13835d8e29a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa8e08c97272a0d00c46cd13835d8e29a">clear_destination_activity</a> ()</td></tr>
<tr class="separator:aa8e08c97272a0d00c46cd13835d8e29a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64f14497e3cba41e92963ba948f20e80 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a64f14497e3cba41e92963ba948f20e80">warmth</a> (const std::map&lt; <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>, std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt; &gt; &amp;clothing_map) const</td></tr>
<tr class="memdesc:a64f14497e3cba41e92963ba948f20e80 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns warmth provided by armor, etc.  <a href="classCharacter.html#a64f14497e3cba41e92963ba948f20e80">More...</a><br /></td></tr>
<tr class="separator:a64f14497e3cba41e92963ba948f20e80 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1cb4fe3c92b17fe1ac8a1658154aecf inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac1cb4fe3c92b17fe1ac8a1658154aecf">can_use_floor_warmth</a> () const</td></tr>
<tr class="memdesc:ac1cb4fe3c92b17fe1ac8a1658154aecf inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can the player lie down and cover self with blankets etc.  <a href="classCharacter.html#ac1cb4fe3c92b17fe1ac8a1658154aecf">More...</a><br /></td></tr>
<tr class="separator:ac1cb4fe3c92b17fe1ac8a1658154aecf inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5d3c80abed596057c2c0cdb066d6a84 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae5d3c80abed596057c2c0cdb066d6a84">floor_warmth</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;<a class="el" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>) const</td></tr>
<tr class="memdesc:ae5d3c80abed596057c2c0cdb066d6a84 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Final warmth from the floor.  <a href="classCharacter.html#ae5d3c80abed596057c2c0cdb066d6a84">More...</a><br /></td></tr>
<tr class="separator:ae5d3c80abed596057c2c0cdb066d6a84 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acebb225930ddd74c5f724f45b25051bb inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#acebb225930ddd74c5f724f45b25051bb">bodytemp_modifier_traits</a> (bool overheated) const</td></tr>
<tr class="memdesc:acebb225930ddd74c5f724f45b25051bb inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Correction factor of the body temperature due to traits and mutations.  <a href="classCharacter.html#acebb225930ddd74c5f724f45b25051bb">More...</a><br /></td></tr>
<tr class="separator:acebb225930ddd74c5f724f45b25051bb inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab998582b3a8a720ff5574bec6ed6934c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab998582b3a8a720ff5574bec6ed6934c">bodytemp_modifier_traits_floor</a> () const</td></tr>
<tr class="memdesc:ab998582b3a8a720ff5574bec6ed6934c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Correction factor of the body temperature due to traits and mutations for player lying on the floor.  <a href="classCharacter.html#ab998582b3a8a720ff5574bec6ed6934c">More...</a><br /></td></tr>
<tr class="separator:ab998582b3a8a720ff5574bec6ed6934c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8640fb1ac4fb9764a2702b8fa22eb52f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8640fb1ac4fb9764a2702b8fa22eb52f">temp_corrected_by_climate_control</a> (int temperature) const</td></tr>
<tr class="memdesc:a8640fb1ac4fb9764a2702b8fa22eb52f inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Value of the body temperature corrected by climate control.  <a href="classCharacter.html#a8640fb1ac4fb9764a2702b8fa22eb52f">More...</a><br /></td></tr>
<tr class="separator:a8640fb1ac4fb9764a2702b8fa22eb52f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f0bdbd929787a486a0dd5748ef10c65 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4f0bdbd929787a486a0dd5748ef10c65">in_sleep_state</a> () const override</td></tr>
<tr class="separator:a4f0bdbd929787a486a0dd5748ef10c65 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa81f7189c03db495fc90e44b3421ebc5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa81f7189c03db495fc90e44b3421ebc5">update_vitamins</a> (const <a class="el" href="type__id_8h.html#a62798cd4a1ea702e8d25b8c0f17a4834">vitamin_id</a> &amp;vit)</td></tr>
<tr class="memdesc:aa81f7189c03db495fc90e44b3421ebc5 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set vitamin deficiency/excess disease states dependent upon current vitamin levels.  <a href="classCharacter.html#aa81f7189c03db495fc90e44b3421ebc5">More...</a><br /></td></tr>
<tr class="separator:aa81f7189c03db495fc90e44b3421ebc5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7536f499a8b09536d1d9c8360319fad5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7536f499a8b09536d1d9c8360319fad5">vitamin_get</a> (const <a class="el" href="type__id_8h.html#a62798cd4a1ea702e8d25b8c0f17a4834">vitamin_id</a> &amp;vit) const</td></tr>
<tr class="memdesc:a7536f499a8b09536d1d9c8360319fad5 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check current level of a vitamin.  <a href="classCharacter.html#a7536f499a8b09536d1d9c8360319fad5">More...</a><br /></td></tr>
<tr class="separator:a7536f499a8b09536d1d9c8360319fad5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7975474f0c63007e927640d70614ee71 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7975474f0c63007e927640d70614ee71">vitamin_set</a> (const <a class="el" href="type__id_8h.html#a62798cd4a1ea702e8d25b8c0f17a4834">vitamin_id</a> &amp;vit, int qty)</td></tr>
<tr class="memdesc:a7975474f0c63007e927640d70614ee71 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets level of a vitamin or returns false if id given in vit does not exist.  <a href="classCharacter.html#a7975474f0c63007e927640d70614ee71">More...</a><br /></td></tr>
<tr class="separator:a7975474f0c63007e927640d70614ee71 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af090da1ea61ecf999c1136d48cc35a07 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af090da1ea61ecf999c1136d48cc35a07">vitamin_mod</a> (const <a class="el" href="type__id_8h.html#a62798cd4a1ea702e8d25b8c0f17a4834">vitamin_id</a> &amp;vit, int qty, bool capped=true)</td></tr>
<tr class="memdesc:af090da1ea61ecf999c1136d48cc35a07 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add or subtract vitamins from character storage pools.  <a href="classCharacter.html#af090da1ea61ecf999c1136d48cc35a07">More...</a><br /></td></tr>
<tr class="separator:af090da1ea61ecf999c1136d48cc35a07 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4435f5588dfa3597c3754ca5038c522 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab4435f5588dfa3597c3754ca5038c522">vitamins_mod</a> (const std::map&lt; <a class="el" href="type__id_8h.html#a62798cd4a1ea702e8d25b8c0f17a4834">vitamin_id</a>, int &gt; &amp;, bool capped=true)</td></tr>
<tr class="separator:ab4435f5588dfa3597c3754ca5038c522 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca04618a096cdf167a88143d66d4aa0a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aca04618a096cdf167a88143d66d4aa0a">vitamin_rate</a> (const <a class="el" href="type__id_8h.html#a62798cd4a1ea702e8d25b8c0f17a4834">vitamin_id</a> &amp;vit) const</td></tr>
<tr class="memdesc:aca04618a096cdf167a88143d66d4aa0a inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get vitamin usage rate (minutes per unit) accounting for bionics, mutations and effects.  <a href="classCharacter.html#aca04618a096cdf167a88143d66d4aa0a">More...</a><br /></td></tr>
<tr class="separator:aca04618a096cdf167a88143d66d4aa0a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfe305dc4dab1ce52dc6b46c73f4883f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#adfe305dc4dab1ce52dc6b46c73f4883f">nutrition_for</a> (const <a class="el" href="classitem.html">item</a> &amp;comest) const</td></tr>
<tr class="memdesc:adfe305dc4dab1ce52dc6b46c73f4883f inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the nutrition value for a comestible.  <a href="classCharacter.html#adfe305dc4dab1ce52dc6b46c73f4883f">More...</a><br /></td></tr>
<tr class="separator:adfe305dc4dab1ce52dc6b46c73f4883f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04df4efd633604ed5b88827b8072a1d2 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classret__val.html">ret_val</a>&lt; <a class="el" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedf">edible_rating</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a04df4efd633604ed5b88827b8072a1d2">can_eat</a> (const <a class="el" href="classitem.html">item</a> &amp;food) const</td></tr>
<tr class="memdesc:a04df4efd633604ed5b88827b8072a1d2 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can the food be [theoretically] eaten no matter the consequen ces?  <a href="classCharacter.html#a04df4efd633604ed5b88827b8072a1d2">More...</a><br /></td></tr>
<tr class="separator:a04df4efd633604ed5b88827b8072a1d2 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eb1793aafe89d34ba7ab96bf9facc19 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classret__val.html">ret_val</a>&lt; <a class="el" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedf">edible_rating</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4eb1793aafe89d34ba7ab96bf9facc19">will_eat</a> (const <a class="el" href="classitem.html">item</a> &amp;food, bool interactive=false) const</td></tr>
<tr class="memdesc:a4eb1793aafe89d34ba7ab96bf9facc19 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as <a class="el" href="classCharacter.html#a04df4efd633604ed5b88827b8072a1d2">can_eat</a>, but takes consequences into account.  <a href="classCharacter.html#a4eb1793aafe89d34ba7ab96bf9facc19">More...</a><br /></td></tr>
<tr class="separator:a4eb1793aafe89d34ba7ab96bf9facc19 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb47b37ee747b2306ff2b45809108be3 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#adb47b37ee747b2306ff2b45809108be3">can_feed_reactor_with</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:adb47b37ee747b2306ff2b45809108be3 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine character's capability of recharging their CBMs.  <a href="classCharacter.html#adb47b37ee747b2306ff2b45809108be3">More...</a><br /></td></tr>
<tr class="separator:adb47b37ee747b2306ff2b45809108be3 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a504cb6c25145b63f0d764e5704200ae1 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a504cb6c25145b63f0d764e5704200ae1">can_feed_furnace_with</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:a504cb6c25145b63f0d764e5704200ae1 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0da9712d69a6d58b659622f9cdbeacd7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5a">rechargeable_cbm</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0da9712d69a6d58b659622f9cdbeacd7">get_cbm_rechargeable_with</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:a0da9712d69a6d58b659622f9cdbeacd7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b48caf9a892afb2d51d217b66f4953 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a48b48caf9a892afb2d51d217b66f4953">get_acquirable_energy</a> (const <a class="el" href="classitem.html">item</a> &amp;it, <a class="el" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5a">rechargeable_cbm</a> cbm) const</td></tr>
<tr class="separator:a48b48caf9a892afb2d51d217b66f4953 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e09c0bb63fbe757546c2d121e0f480b inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7e09c0bb63fbe757546c2d121e0f480b">get_acquirable_energy</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:a7e09c0bb63fbe757546c2d121e0f480b inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeac0c91004fe8bc0c5019e99439e5f31 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aeac0c91004fe8bc0c5019e99439e5f31">feed_reactor_with</a> (<a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="memdesc:aeac0c91004fe8bc0c5019e99439e5f31 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recharge CBMs whenever possible.  <a href="classCharacter.html#aeac0c91004fe8bc0c5019e99439e5f31">More...</a><br /></td></tr>
<tr class="separator:aeac0c91004fe8bc0c5019e99439e5f31 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab55ee1eb2acb63789182bf7bda945118 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab55ee1eb2acb63789182bf7bda945118">feed_furnace_with</a> (<a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="separator:ab55ee1eb2acb63789182bf7bda945118 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd0c316a434eb1177663869cea11e88e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#acd0c316a434eb1177663869cea11e88e">fuel_bionic_with</a> (<a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="separator:acd0c316a434eb1177663869cea11e88e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a187c642b9a6ea2a8c8b1a257ecd11f3e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a187c642b9a6ea2a8c8b1a257ecd11f3e">modify_stimulation</a> (const <a class="el" href="structislot__comestible.html">islot_comestible</a> &amp;comest)</td></tr>
<tr class="memdesc:a187c642b9a6ea2a8c8b1a257ecd11f3e inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to apply stimulation modifications from food and medication.  <a href="classCharacter.html#a187c642b9a6ea2a8c8b1a257ecd11f3e">More...</a><br /></td></tr>
<tr class="separator:a187c642b9a6ea2a8c8b1a257ecd11f3e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afefd24b9a3671f6d49454b28e3c52200 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#afefd24b9a3671f6d49454b28e3c52200">modify_fatigue</a> (const <a class="el" href="structislot__comestible.html">islot_comestible</a> &amp;comest)</td></tr>
<tr class="memdesc:afefd24b9a3671f6d49454b28e3c52200 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to apply fatigue modifications from food and medication.  <a href="classCharacter.html#afefd24b9a3671f6d49454b28e3c52200">More...</a><br /></td></tr>
<tr class="separator:afefd24b9a3671f6d49454b28e3c52200 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a842395c262eb711ca235be5de59e9781 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a842395c262eb711ca235be5de59e9781">modify_radiation</a> (const <a class="el" href="structislot__comestible.html">islot_comestible</a> &amp;comest)</td></tr>
<tr class="memdesc:a842395c262eb711ca235be5de59e9781 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to apply radiation from food and medication.  <a href="classCharacter.html#a842395c262eb711ca235be5de59e9781">More...</a><br /></td></tr>
<tr class="separator:a842395c262eb711ca235be5de59e9781 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a135907caa62db71b58cb8a46e8180ce6 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a135907caa62db71b58cb8a46e8180ce6">modify_addiction</a> (const <a class="el" href="structislot__comestible.html">islot_comestible</a> &amp;comest)</td></tr>
<tr class="memdesc:a135907caa62db71b58cb8a46e8180ce6 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to apply addiction modifications from food and medication.  <a href="classCharacter.html#a135907caa62db71b58cb8a46e8180ce6">More...</a><br /></td></tr>
<tr class="separator:a135907caa62db71b58cb8a46e8180ce6 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcc868bf2ce6d77beb80fe1e57fec732 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#abcc868bf2ce6d77beb80fe1e57fec732">modify_health</a> (const <a class="el" href="structislot__comestible.html">islot_comestible</a> &amp;comest)</td></tr>
<tr class="memdesc:abcc868bf2ce6d77beb80fe1e57fec732 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to apply health modifications from food and medication.  <a href="classCharacter.html#abcc868bf2ce6d77beb80fe1e57fec732">More...</a><br /></td></tr>
<tr class="separator:abcc868bf2ce6d77beb80fe1e57fec732 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54f90ca736510c41a6539c8d8ad833b6 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a54f90ca736510c41a6539c8d8ad833b6">consume_effects</a> (<a class="el" href="classitem.html">item</a> &amp;food)</td></tr>
<tr class="memdesc:a54f90ca736510c41a6539c8d8ad833b6 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the effects of consuming an item.  <a href="classCharacter.html#a54f90ca736510c41a6539c8d8ad833b6">More...</a><br /></td></tr>
<tr class="separator:a54f90ca736510c41a6539c8d8ad833b6 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef5b7618d63c19913facbdf221098cf2 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aef5b7618d63c19913facbdf221098cf2">can_consume</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:aef5b7618d63c19913facbdf221098cf2 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check character's capability of consumption overall.  <a href="classCharacter.html#aef5b7618d63c19913facbdf221098cf2">More...</a><br /></td></tr>
<tr class="separator:aef5b7618d63c19913facbdf221098cf2 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5903c5bd493f4300e949d8452eb04835 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5903c5bd493f4300e949d8452eb04835">can_estimate_rot</a> () const</td></tr>
<tr class="memdesc:a5903c5bd493f4300e949d8452eb04835 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if the character has enough skill (in cooking or survival) to estimate time to rot.  <a href="classCharacter.html#a5903c5bd493f4300e949d8452eb04835">More...</a><br /></td></tr>
<tr class="separator:a5903c5bd493f4300e949d8452eb04835 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a881167b8345723b21ff8c7e54781dcd5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a881167b8345723b21ff8c7e54781dcd5">can_consume_as_is</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:a881167b8345723b21ff8c7e54781dcd5 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether character can consume this very item.  <a href="classCharacter.html#a881167b8345723b21ff8c7e54781dcd5">More...</a><br /></td></tr>
<tr class="separator:a881167b8345723b21ff8c7e54781dcd5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af95eda3657fd255e76aa3e4a43088d57 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af95eda3657fd255e76aa3e4a43088d57">can_consume_for_bionic</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:af95eda3657fd255e76aa3e4a43088d57 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad58bc3e4db2aa237a070695ca2746ee5 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad58bc3e4db2aa237a070695ca2746ee5">get_consumable_from</a> (<a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:ad58bc3e4db2aa237a070695ca2746ee5 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reference to the item itself (if it's consumable), the first of its contents (if it's consumable) or null item otherwise.  <a href="classCharacter.html#ad58bc3e4db2aa237a070695ca2746ee5">More...</a><br /></td></tr>
<tr class="separator:ad58bc3e4db2aa237a070695ca2746ee5 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae622504df55d52dc4a19e7fe1d6a7a95 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219">hint_rating</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae622504df55d52dc4a19e7fe1d6a7a95">rate_action_eat</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:ae622504df55d52dc4a19e7fe1d6a7a95 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5577a0e5921fcd26b7e28570fc3d7349 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="structnutrients.html">nutrients</a>, <a class="el" href="structnutrients.html">nutrients</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5577a0e5921fcd26b7e28570fc3d7349">compute_nutrient_range</a> (const <a class="el" href="classitem.html">item</a> &amp;, const <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a> &amp;, const <a class="el" href="classcata_1_1flat__set.html">cata::flat_set</a>&lt; std::string &gt; &amp;extra_flags={}) const</td></tr>
<tr class="memdesc:a5577a0e5921fcd26b7e28570fc3d7349 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get calorie &amp; vitamin contents for a comestible, taking into account character traits.  <a href="classCharacter.html#a5577a0e5921fcd26b7e28570fc3d7349">More...</a><br /></td></tr>
<tr class="separator:a5577a0e5921fcd26b7e28570fc3d7349 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a152dcf40438d300a12a1dda5591dd017 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="structnutrients.html">nutrients</a>, <a class="el" href="structnutrients.html">nutrients</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a152dcf40438d300a12a1dda5591dd017">compute_nutrient_range</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;, const <a class="el" href="classcata_1_1flat__set.html">cata::flat_set</a>&lt; std::string &gt; &amp;extra_flags={}) const</td></tr>
<tr class="memdesc:a152dcf40438d300a12a1dda5591dd017 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same, but across arbitrary recipes.  <a href="classCharacter.html#a152dcf40438d300a12a1dda5591dd017">More...</a><br /></td></tr>
<tr class="separator:a152dcf40438d300a12a1dda5591dd017 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a306dfd8496f2ff25cce5ad2a9cc7f80e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a2ed0f2b9269cbadc0e6d015c4fb4a1b0">morale_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a306dfd8496f2ff25cce5ad2a9cc7f80e">allergy_type</a> (const <a class="el" href="classitem.html">item</a> &amp;food) const</td></tr>
<tr class="memdesc:a306dfd8496f2ff25cce5ad2a9cc7f80e inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns allergy type or MORALE_NULL if not allergic for this character.  <a href="classCharacter.html#a306dfd8496f2ff25cce5ad2a9cc7f80e">More...</a><br /></td></tr>
<tr class="separator:a306dfd8496f2ff25cce5ad2a9cc7f80e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30ae2557de3be7c7e7f353fffc557c91 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnutrients.html">nutrients</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a30ae2557de3be7c7e7f353fffc557c91">compute_effective_nutrients</a> (const <a class="el" href="classitem.html">item</a> &amp;) const</td></tr>
<tr class="separator:a30ae2557de3be7c7e7f353fffc557c91 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d3588802fde645fd5387038b259377c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6d3588802fde645fd5387038b259377c">wearing_something_on</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp) const</td></tr>
<tr class="memdesc:a6d3588802fde645fd5387038b259377c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the character is wearing something on the entered body part.  <a href="classCharacter.html#a6d3588802fde645fd5387038b259377c">More...</a><br /></td></tr>
<tr class="separator:a6d3588802fde645fd5387038b259377c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6776e80fa35011187ae35295185de7e6 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6776e80fa35011187ae35295185de7e6">is_wearing_helmet</a> () const</td></tr>
<tr class="memdesc:a6776e80fa35011187ae35295185de7e6 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the character is wearing something occupying the helmet slot.  <a href="classCharacter.html#a6776e80fa35011187ae35295185de7e6">More...</a><br /></td></tr>
<tr class="separator:a6776e80fa35011187ae35295185de7e6 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabe7a28a7ca628858a47ef56d8fd651f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aabe7a28a7ca628858a47ef56d8fd651f">head_cloth_encumbrance</a> () const</td></tr>
<tr class="memdesc:aabe7a28a7ca628858a47ef56d8fd651f inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total encumbrance of all SKINTIGHT and HELMET_COMPAT items coveringi the head.  <a href="classCharacter.html#aabe7a28a7ca628858a47ef56d8fd651f">More...</a><br /></td></tr>
<tr class="separator:aabe7a28a7ca628858a47ef56d8fd651f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae44726e767acde457aba81bd70358418 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae44726e767acde457aba81bd70358418">armwear_factor</a> () const</td></tr>
<tr class="memdesc:ae44726e767acde457aba81bd70358418 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as footwear factor, but for arms.  <a href="classCharacter.html#ae44726e767acde457aba81bd70358418">More...</a><br /></td></tr>
<tr class="separator:ae44726e767acde457aba81bd70358418 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae06e5548d130b968ef3c982c2a36f357 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae06e5548d130b968ef3c982c2a36f357">shoe_type_count</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;it) const</td></tr>
<tr class="memdesc:ae06e5548d130b968ef3c982c2a36f357 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns 1 if the player is wearing an item of that count on one foot, 2 if on both, and zero if on neither.  <a href="classCharacter.html#ae06e5548d130b968ef3c982c2a36f357">More...</a><br /></td></tr>
<tr class="separator:ae06e5548d130b968ef3c982c2a36f357 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18c8a686d129626f053cad80e38e4540 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a18c8a686d129626f053cad80e38e4540">footwear_factor</a> () const</td></tr>
<tr class="memdesc:a18c8a686d129626f053cad80e38e4540 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns 1 if the player is wearing something on both feet, .5 if on one, and 0 if on neither.  <a href="classCharacter.html#a18c8a686d129626f053cad80e38e4540">More...</a><br /></td></tr>
<tr class="separator:a18c8a686d129626f053cad80e38e4540 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff8079f85d43ccf327ee18aca041beb3 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aff8079f85d43ccf327ee18aca041beb3">is_wearing_shoes</a> (const <a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4">side</a> &amp;which_side=<a class="el" href="bodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4a6328e5e3186c227a021ef2ff77e40197">side::BOTH</a>) const</td></tr>
<tr class="memdesc:aff8079f85d43ccf327ee18aca041beb3 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the player is wearing something on their feet that is not SKINTIGHT.  <a href="classCharacter.html#aff8079f85d43ccf327ee18aca041beb3">More...</a><br /></td></tr>
<tr class="separator:aff8079f85d43ccf327ee18aca041beb3 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c67a9a553e858645037e7a5abe6a41a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8c67a9a553e858645037e7a5abe6a41a">change_side</a> (<a class="el" href="classitem.html">item</a> &amp;it, bool interactive=true)</td></tr>
<tr class="memdesc:a8c67a9a553e858645037e7a5abe6a41a inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Swap side on which item is worn; returns false on fail.  <a href="classCharacter.html#a8c67a9a553e858645037e7a5abe6a41a">More...</a><br /></td></tr>
<tr class="separator:a8c67a9a553e858645037e7a5abe6a41a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9881d9eaab1e9f5701a9ca1759885b79 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9881d9eaab1e9f5701a9ca1759885b79">change_side</a> (<a class="el" href="classitem__location.html">item_location</a> &amp;loc, bool interactive=true)</td></tr>
<tr class="separator:a9881d9eaab1e9f5701a9ca1759885b79 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a0171fec2245029f81d7f493201eb6 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219">hint_rating</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a09a0171fec2245029f81d7f493201eb6">rate_action_change_side</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:a09a0171fec2245029f81d7f493201eb6 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to determine player feedback on item use for the inventory code.  <a href="classCharacter.html#a09a0171fec2245029f81d7f493201eb6">More...</a><br /></td></tr>
<tr class="separator:a09a0171fec2245029f81d7f493201eb6 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a165e76d3db9a1a8c6810b25c9b0ed42f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a165e76d3db9a1a8c6810b25c9b0ed42f">get_check_encumbrance</a> ()</td></tr>
<tr class="separator:a165e76d3db9a1a8c6810b25c9b0ed42f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcf8cfaf4ae6c2717bdfaa0aacd2c941 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#afcf8cfaf4ae6c2717bdfaa0aacd2c941">set_check_encumbrance</a> (bool new_check)</td></tr>
<tr class="separator:afcf8cfaf4ae6c2717bdfaa0aacd2c941 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e7fe175b3b4c45a97dec7b74347efce inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0e7fe175b3b4c45a97dec7b74347efce">update_morale</a> ()</td></tr>
<tr class="memdesc:a0e7fe175b3b4c45a97dec7b74347efce inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ticks down morale counters and removes them.  <a href="classCharacter.html#a0e7fe175b3b4c45a97dec7b74347efce">More...</a><br /></td></tr>
<tr class="separator:a0e7fe175b3b4c45a97dec7b74347efce inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81ad6ef8cd09ac8bdeeabfb0dc40f105 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a81ad6ef8cd09ac8bdeeabfb0dc40f105">apply_persistent_morale</a> ()</td></tr>
<tr class="memdesc:a81ad6ef8cd09ac8bdeeabfb0dc40f105 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ensures persistent morale effects are up-to-date.  <a href="classCharacter.html#a81ad6ef8cd09ac8bdeeabfb0dc40f105">More...</a><br /></td></tr>
<tr class="separator:a81ad6ef8cd09ac8bdeeabfb0dc40f105 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aa55d8bbc2485b0f02b7c4f7af79605 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2aa55d8bbc2485b0f02b7c4f7af79605">modify_morale</a> (<a class="el" href="classitem.html">item</a> &amp;food, int nutr=0)</td></tr>
<tr class="memdesc:a2aa55d8bbc2485b0f02b7c4f7af79605 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to apply morale modifications from food and medication.  <a href="classCharacter.html#a2aa55d8bbc2485b0f02b7c4f7af79605">More...</a><br /></td></tr>
<tr class="separator:a2aa55d8bbc2485b0f02b7c4f7af79605 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81a81cee431c657465e6ab54af345eaf inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a81a81cee431c657465e6ab54af345eaf">get_morale_level</a> () const</td></tr>
<tr class="separator:a81a81cee431c657465e6ab54af345eaf inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6b6b317ae10bfb8f358fe289d645c96 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a> (const <a class="el" href="type__id_8h.html#a2ed0f2b9269cbadc0e6d015c4fb4a1b0">morale_type</a> &amp;<a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, int bonus, int max_bonus=0, const <a class="el" href="classtime__duration.html">time_duration</a> &amp;duration=1_hours, const <a class="el" href="classtime__duration.html">time_duration</a> &amp;decay_start=30_minutes, bool capped=false, const <a class="el" href="structitype.html">itype</a> *item_type=nullptr)</td></tr>
<tr class="separator:ab6b6b317ae10bfb8f358fe289d645c96 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51a6b8e64f0e18cd2d0bbfcff2edae57 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a51a6b8e64f0e18cd2d0bbfcff2edae57">has_morale</a> (const <a class="el" href="type__id_8h.html#a2ed0f2b9269cbadc0e6d015c4fb4a1b0">morale_type</a> &amp;<a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>) const</td></tr>
<tr class="separator:a51a6b8e64f0e18cd2d0bbfcff2edae57 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3710a10324a9bf1489396c2a00ad6f25 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3710a10324a9bf1489396c2a00ad6f25">get_morale</a> (const <a class="el" href="type__id_8h.html#a2ed0f2b9269cbadc0e6d015c4fb4a1b0">morale_type</a> &amp;<a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>) const</td></tr>
<tr class="separator:a3710a10324a9bf1489396c2a00ad6f25 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac55733961846b5c57183bd3b0fde9eae inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac55733961846b5c57183bd3b0fde9eae">rem_morale</a> (const <a class="el" href="type__id_8h.html#a2ed0f2b9269cbadc0e6d015c4fb4a1b0">morale_type</a> &amp;<a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>)</td></tr>
<tr class="separator:ac55733961846b5c57183bd3b0fde9eae inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00c8a80f0531acdcdbeabc98a89101d8 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a00c8a80f0531acdcdbeabc98a89101d8">clear_morale</a> ()</td></tr>
<tr class="separator:a00c8a80f0531acdcdbeabc98a89101d8 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61c75029881234874a4709c179eb229f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a61c75029881234874a4709c179eb229f">has_morale_to_read</a> () const</td></tr>
<tr class="separator:a61c75029881234874a4709c179eb229f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ca7c0c3d959ba59a58203261e051acd inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9ca7c0c3d959ba59a58203261e051acd">has_morale_to_craft</a> () const</td></tr>
<tr class="separator:a9ca7c0c3d959ba59a58203261e051acd inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd358c7a7757575b70b1613dbcce40a7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#abd358c7a7757575b70b1613dbcce40a7">crafting_inventory</a> (bool clear_path)</td></tr>
<tr class="separator:abd358c7a7757575b70b1613dbcce40a7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bda941c5925db3083f1526d8a0fd42a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2bda941c5925db3083f1526d8a0fd42a">crafting_inventory</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;src_pos=<a class="el" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>, int radius=<a class="el" href="cached__options_8h.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a>, bool clear_path=true)</td></tr>
<tr class="separator:a2bda941c5925db3083f1526d8a0fd42a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe4c095c2e6510f07f351d7e091f5787 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#afe4c095c2e6510f07f351d7e091f5787">invalidate_crafting_inventory</a> ()</td></tr>
<tr class="separator:afe4c095c2e6510f07f351d7e091f5787 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6223810b5e778318e2e67b29e071531 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad6223810b5e778318e2e67b29e071531">check_and_recover_morale</a> ()</td></tr>
<tr class="memdesc:ad6223810b5e778318e2e67b29e071531 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks permanent morale for consistency and recovers it when an inconsistency is found.  <a href="classCharacter.html#ad6223810b5e778318e2e67b29e071531">More...</a><br /></td></tr>
<tr class="separator:ad6223810b5e778318e2e67b29e071531 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace2d1a2ba10920f5986e562fb8ff8aff inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::pair&lt; int, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ace2d1a2ba10920f5986e562fb8ff8aff">fun_for</a> (const <a class="el" href="classitem.html">item</a> &amp;comest) const</td></tr>
<tr class="memdesc:ace2d1a2ba10920f5986e562fb8ff8aff inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the enjoyability value for a comestible.  <a href="classCharacter.html#ace2d1a2ba10920f5986e562fb8ff8aff">More...</a><br /></td></tr>
<tr class="separator:ace2d1a2ba10920f5986e562fb8ff8aff inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3066aafc3a5ffe9ee8058e062e177a7 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac3066aafc3a5ffe9ee8058e062e177a7">suffer</a> ()</td></tr>
<tr class="memdesc:ac3066aafc3a5ffe9ee8058e062e177a7 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles a large number of timers decrementing and other randomized effects.  <a href="classCharacter.html#ac3066aafc3a5ffe9ee8058e062e177a7">More...</a><br /></td></tr>
<tr class="separator:ac3066aafc3a5ffe9ee8058e062e177a7 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af157e1fa623589a34b3c23a511dbc797 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af157e1fa623589a34b3c23a511dbc797">irradiate</a> (float rads, bool bypass=false)</td></tr>
<tr class="memdesc:af157e1fa623589a34b3c23a511dbc797 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles mitigation and application of radiation.  <a href="classCharacter.html#af157e1fa623589a34b3c23a511dbc797">More...</a><br /></td></tr>
<tr class="separator:af157e1fa623589a34b3c23a511dbc797 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc5f7517b5c9ed41ded17291a5bc7f9d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#abc5f7517b5c9ed41ded17291a5bc7f9d">mend</a> (int rate_multiplier)</td></tr>
<tr class="memdesc:abc5f7517b5c9ed41ded17291a5bc7f9d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the chance for broken limbs to spontaneously heal to 1 HP.  <a href="classCharacter.html#abc5f7517b5c9ed41ded17291a5bc7f9d">More...</a><br /></td></tr>
<tr class="separator:abc5f7517b5c9ed41ded17291a5bc7f9d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0923956a07957b673415d4a0a7b79014 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0923956a07957b673415d4a0a7b79014">sound_hallu</a> ()</td></tr>
<tr class="memdesc:a0923956a07957b673415d4a0a7b79014 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an auditory hallucination.  <a href="classCharacter.html#a0923956a07957b673415d4a0a7b79014">More...</a><br /></td></tr>
<tr class="separator:a0923956a07957b673415d4a0a7b79014 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44dbe53874421147bfc4491d8753cccc inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a44dbe53874421147bfc4491d8753cccc">drench</a> (int saturation, const <a class="el" href="classbody__part__set.html">body_part_set</a> &amp;flags, bool ignore_waterproof)</td></tr>
<tr class="memdesc:a44dbe53874421147bfc4491d8753cccc inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drenches the player with water, saturation is the percent gotten wet.  <a href="classCharacter.html#a44dbe53874421147bfc4491d8753cccc">More...</a><br /></td></tr>
<tr class="separator:a44dbe53874421147bfc4491d8753cccc inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9ce142fd159d6d2a556d7201646b43d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af9ce142fd159d6d2a556d7201646b43d">apply_wetness_morale</a> (int temperature)</td></tr>
<tr class="memdesc:af9ce142fd159d6d2a556d7201646b43d inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculates morale penalty/bonus from wetness based on mutations, equipment and temperature.  <a href="classCharacter.html#af9ce142fd159d6d2a556d7201646b43d">More...</a><br /></td></tr>
<tr class="separator:af9ce142fd159d6d2a556d7201646b43d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44e02682b4525f2bd772efab694a9fe6 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a44e02682b4525f2bd772efab694a9fe6">short_description_parts</a> () const</td></tr>
<tr class="separator:a44e02682b4525f2bd772efab694a9fe6 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a817f1617aed90d40cbba378f9385940f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a817f1617aed90d40cbba378f9385940f">short_description</a> () const</td></tr>
<tr class="separator:a817f1617aed90d40cbba378f9385940f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74f3ba3310d1f6dfc3534644fdf3346a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a74f3ba3310d1f6dfc3534644fdf3346a">print_info</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, int vStart, int vLines, int column) const override</td></tr>
<tr class="memdesc:a74f3ba3310d1f6dfc3534644fdf3346a inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write information about this creature.  <a href="classCharacter.html#a74f3ba3310d1f6dfc3534644fdf3346a">More...</a><br /></td></tr>
<tr class="separator:a74f3ba3310d1f6dfc3534644fdf3346a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0ad8a1c48785fa554d5b2f662248697 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab0ad8a1c48785fa554d5b2f662248697">can_hear</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;source, int volume) const</td></tr>
<tr class="separator:ab0ad8a1c48785fa554d5b2f662248697 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f03a0212e83bb41892caae002836177 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0f03a0212e83bb41892caae002836177">hearing_ability</a> () const</td></tr>
<tr class="separator:a0f03a0212e83bb41892caae002836177 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cf3a039fed01ee44525ea41940cb00d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7cf3a039fed01ee44525ea41940cb00d">knows_trap</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;<a class="el" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>) const</td></tr>
<tr class="separator:a7cf3a039fed01ee44525ea41940cb00d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada34ca3fb472a8b1816e297ead2b31df inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ada34ca3fb472a8b1816e297ead2b31df">add_known_trap</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;<a class="el" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>, const <a class="el" href="structtrap.html">trap</a> &amp;t)</td></tr>
<tr class="separator:ada34ca3fb472a8b1816e297ead2b31df inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25ec467ccbf93df7ccc7eae21f128745 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnc__color.html">nc_color</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a25ec467ccbf93df7ccc7eae21f128745">bodytemp_color</a> (int bp) const</td></tr>
<tr class="memdesc:a25ec467ccbf93df7ccc7eae21f128745 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define color for displaying the body temperature.  <a href="classCharacter.html#a25ec467ccbf93df7ccc7eae21f128745">More...</a><br /></td></tr>
<tr class="separator:a25ec467ccbf93df7ccc7eae21f128745 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba9bd7517b334e6ed4149889ed32377a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aba9bd7517b334e6ed4149889ed32377a">sees</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;t, bool <a class="el" href="classCreature.html#a1217a190a2e561227e831a72d4a6d390">is_player</a>=false, int range_mod=0) const override</td></tr>
<tr class="separator:aba9bd7517b334e6ed4149889ed32377a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a478724457c1d66496aa823c6643b3e8c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a478724457c1d66496aa823c6643b3e8c">sees</a> (const <a class="el" href="classCreature.html">Creature</a> &amp;critter) const override</td></tr>
<tr class="memdesc:a478724457c1d66496aa823c6643b3e8c inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">The functions check whether this creature can see the target.  <a href="classCharacter.html#a478724457c1d66496aa823c6643b3e8c">More...</a><br /></td></tr>
<tr class="separator:a478724457c1d66496aa823c6643b3e8c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b6a4fc8bbec9e138f0e3922bdbf2ce9 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217">Attitude</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6b6a4fc8bbec9e138f0e3922bdbf2ce9">attitude_to</a> (const <a class="el" href="classCreature.html">Creature</a> &amp;<a class="el" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>) const override</td></tr>
<tr class="memdesc:a6b6a4fc8bbec9e138f0e3922bdbf2ce9 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attitude (of this creature) towards another creature.  <a href="classCharacter.html#a6b6a4fc8bbec9e138f0e3922bdbf2ce9">More...</a><br /></td></tr>
<tr class="separator:a6b6a4fc8bbec9e138f0e3922bdbf2ce9 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f3834f8f432e8b4810dc9975d41ef8d inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4f3834f8f432e8b4810dc9975d41ef8d">get_lowest_hp</a> () const</td></tr>
<tr class="separator:a4f3834f8f432e8b4810dc9975d41ef8d inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9511a04100db12858069c5fd802fa77e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9511a04100db12858069c5fd802fa77e">has_weapon</a> () const override</td></tr>
<tr class="separator:a9511a04100db12858069c5fd802fa77e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1990d70a21969bcf285ac97f26d1369f inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1990d70a21969bcf285ac97f26d1369f">shift_destination</a> (const <a class="el" href="structpoint.html">point</a> &amp;shift)</td></tr>
<tr class="separator:a1990d70a21969bcf285ac97f26d1369f inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05f34432b3b1eabef92da141910daf09 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a05f34432b3b1eabef92da141910daf09">set_destination</a> (const std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;route, const <a class="el" href="classplayer__activity.html">player_activity</a> &amp;new_destination_activity=<a class="el" href="classplayer__activity.html">player_activity</a>())</td></tr>
<tr class="separator:a05f34432b3b1eabef92da141910daf09 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ea61d6622ef255afac7216bebfb337e inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0ea61d6622ef255afac7216bebfb337e">clear_destination</a> ()</td></tr>
<tr class="separator:a0ea61d6622ef255afac7216bebfb337e inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb3b070a492dff7d7863f63405d47458 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#adb3b070a492dff7d7863f63405d47458">has_distant_destination</a> () const</td></tr>
<tr class="separator:adb3b070a492dff7d7863f63405d47458 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a2fed39e9b4cd0405f0e1b46f092416 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7a2fed39e9b4cd0405f0e1b46f092416">is_auto_moving</a> () const</td></tr>
<tr class="separator:a7a2fed39e9b4cd0405f0e1b46f092416 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f95b5332e70af7ccf1d46fe7a3484f6 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7f95b5332e70af7ccf1d46fe7a3484f6">has_destination</a> () const</td></tr>
<tr class="separator:a7f95b5332e70af7ccf1d46fe7a3484f6 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73e94730498f4353bf773eba0c3dd69a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a73e94730498f4353bf773eba0c3dd69a">has_destination_activity</a> () const</td></tr>
<tr class="separator:a73e94730498f4353bf773eba0c3dd69a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a65544960c46310fe2d2ed12f52dc10 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8a65544960c46310fe2d2ed12f52dc10">start_destination_activity</a> ()</td></tr>
<tr class="separator:a8a65544960c46310fe2d2ed12f52dc10 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a2a9c398baece6f3f65394727669359 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9a2a9c398baece6f3f65394727669359">get_auto_move_route</a> ()</td></tr>
<tr class="separator:a9a2a9c398baece6f3f65394727669359 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c7a638ebe07b70723bbc726e408d815 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="action_8h.html#a14769f0512c139a614db195c6477c667">action_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9c7a638ebe07b70723bbc726e408d815">get_next_auto_move_direction</a> ()</td></tr>
<tr class="separator:a9c7a638ebe07b70723bbc726e408d815 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a892fcaf412fdcea4c7e2ee1340de7d6a inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a892fcaf412fdcea4c7e2ee1340de7d6a">defer_move</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;next)</td></tr>
<tr class="separator:a892fcaf412fdcea4c7e2ee1340de7d6a inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81bb32d8561dd4b1bb401fbd2e68d442 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>, float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a81bb32d8561dd4b1bb401fbd2e68d442">bodypart_exposure</a> ()</td></tr>
<tr class="memdesc:a81bb32d8561dd4b1bb401fbd2e68d442 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map body parts to their total exposure, from 0.0 (fully covered) to 1.0 (buck naked).  <a href="classCharacter.html#a81bb32d8561dd4b1bb401fbd2e68d442">More...</a><br /></td></tr>
<tr class="separator:a81bb32d8561dd4b1bb401fbd2e68d442 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93594f148264874275f21698d5e27b12 inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a93594f148264874275f21698d5e27b12">pour_into</a> (<a class="el" href="classitem.html">item</a> &amp;container, <a class="el" href="classitem.html">item</a> &amp;liquid)</td></tr>
<tr class="memdesc:a93594f148264874275f21698d5e27b12 inherit pub_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to pour the given liquid into the given container/vehicle.  <a href="classCharacter.html#a93594f148264874275f21698d5e27b12">More...</a><br /></td></tr>
<tr class="separator:a93594f148264874275f21698d5e27b12 inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45e0b2baaef92de8d398ab43e151442c inherit pub_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a45e0b2baaef92de8d398ab43e151442c">pour_into</a> (<a class="el" href="classvehicle.html">vehicle</a> &amp;veh, <a class="el" href="classitem.html">item</a> &amp;liquid)</td></tr>
<tr class="separator:a45e0b2baaef92de8d398ab43e151442c inherit pub_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classCreature"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classCreature')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classCreature.html">Creature</a></td></tr>
<tr class="memitem:aa991b23f4813fbdb6f875204ed49814d inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aa991b23f4813fbdb6f875204ed49814d">~Creature</a> ()</td></tr>
<tr class="separator:aa991b23f4813fbdb6f875204ed49814d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac209d32cbfd3774af3d5c0500e2fae52 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a> () const</td></tr>
<tr class="separator:ac209d32cbfd3774af3d5c0500e2fae52 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07012d6d1998068bef112510c7424374 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a07012d6d1998068bef112510c7424374">is_monster</a> () const</td></tr>
<tr class="separator:a07012d6d1998068bef112510c7424374 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19360f20a115e3f23eff0b7221875dec inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmonster.html">monster</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a19360f20a115e3f23eff0b7221875dec">as_monster</a> ()</td></tr>
<tr class="separator:a19360f20a115e3f23eff0b7221875dec inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a799911fa7969040b1af3bf091912560d inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classmonster.html">monster</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a799911fa7969040b1af3bf091912560d">as_monster</a> () const</td></tr>
<tr class="separator:a799911fa7969040b1af3bf091912560d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a024a4315f61f90e5e9e19bf3c7592106 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classnpc.html">npc</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a024a4315f61f90e5e9e19bf3c7592106">as_npc</a> ()</td></tr>
<tr class="separator:a024a4315f61f90e5e9e19bf3c7592106 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad46a81582fde8dec1d3fd4d913bc1b00 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classnpc.html">npc</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ad46a81582fde8dec1d3fd4d913bc1b00">as_npc</a> () const</td></tr>
<tr class="separator:ad46a81582fde8dec1d3fd4d913bc1b00 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff1d211fe3b960fc3046db5f3dfcf793 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classavatar.html">avatar</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aff1d211fe3b960fc3046db5f3dfcf793">as_avatar</a> ()</td></tr>
<tr class="separator:aff1d211fe3b960fc3046db5f3dfcf793 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2d197790cecdc64341433a87f0e4113 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classavatar.html">avatar</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aa2d197790cecdc64341433a87f0e4113">as_avatar</a> () const</td></tr>
<tr class="separator:aa2d197790cecdc64341433a87f0e4113 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98ef8437aca8647165ccbe2ebb2e1f2c inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">is_fake</a> () const</td></tr>
<tr class="memdesc:a98ef8437aca8647165ccbe2ebb2e1f2c inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true for non-real Creatures used temporarily; i.e.  <a href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">More...</a><br /></td></tr>
<tr class="separator:a98ef8437aca8647165ccbe2ebb2e1f2c inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad76a5de4e1a09c774c1fea1c3405075b inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ad76a5de4e1a09c774c1fea1c3405075b">set_fake</a> (bool fake_value)</td></tr>
<tr class="memdesc:ad76a5de4e1a09c774c1fea1c3405075b inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a <a class="el" href="classCreature.html">Creature</a>'s fake boolean.  <a href="classCreature.html#ad76a5de4e1a09c774c1fea1c3405075b">More...</a><br /></td></tr>
<tr class="separator:ad76a5de4e1a09c774c1fea1c3405075b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a303fcc58869f10f44be1d598ed1aa26f inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a303fcc58869f10f44be1d598ed1aa26f">bleed</a> () const</td></tr>
<tr class="memdesc:a303fcc58869f10f44be1d598ed1aa26f inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an appropriate blood splatter.  <a href="classCreature.html#a303fcc58869f10f44be1d598ed1aa26f">More...</a><br /></td></tr>
<tr class="separator:a303fcc58869f10f44be1d598ed1aa26f inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb91e1cd5610658124d40623e7e4d698 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCreature.html">Creature</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#abb91e1cd5610658124d40623e7e4d698">auto_find_hostile_target</a> (int range, int &amp;boo_hoo, int area=0)</td></tr>
<tr class="memdesc:abb91e1cd5610658124d40623e7e4d698 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">For fake-players (turrets, mounted turrets) this functions chooses a target.  <a href="classCreature.html#abb91e1cd5610658124d40623e7e4d698">More...</a><br /></td></tr>
<tr class="separator:abb91e1cd5610658124d40623e7e4d698 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c8ea56d06ff96a720201c46a40969aa inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a1c8ea56d06ff96a720201c46a40969aa">ranged_target_size</a> () const</td></tr>
<tr class="memdesc:a1c8ea56d06ff96a720201c46a40969aa inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the target this creature presents to ranged weapons.  <a href="classCreature.html#a1c8ea56d06ff96a720201c46a40969aa">More...</a><br /></td></tr>
<tr class="separator:a1c8ea56d06ff96a720201c46a40969aa inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa39af83d946765e7e652fd66d50e807c inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aa39af83d946765e7e652fd66d50e807c">knock_back_from</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p)</td></tr>
<tr class="separator:aa39af83d946765e7e652fd66d50e807c inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6748055fb3a5922e1fa55c4214aff48f inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6748055fb3a5922e1fa55c4214aff48f">size_melee_penalty</a> () const</td></tr>
<tr class="separator:a6748055fb3a5922e1fa55c4214aff48f inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ed7b87167039b2cf0ecb2464d62f802 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a2ed7b87167039b2cf0ecb2464d62f802">deal_melee_attack</a> (<a class="el" href="classCreature.html">Creature</a> *source, int hitroll)</td></tr>
<tr class="separator:a2ed7b87167039b2cf0ecb2464d62f802 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8442db1f510ee1da550ac8bf4b3675a0 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a8442db1f510ee1da550ac8bf4b3675a0">deal_melee_hit</a> (<a class="el" href="classCreature.html">Creature</a> *source, int hit_spread, bool critical_hit, const <a class="el" href="structdamage__instance.html">damage_instance</a> &amp;dam, <a class="el" href="structdealt__damage__instance.html">dealt_damage_instance</a> &amp;dealt_dam)</td></tr>
<tr class="separator:a8442db1f510ee1da550ac8bf4b3675a0 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38f6eca5af094a68b5f3a03ed8521900 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a38f6eca5af094a68b5f3a03ed8521900">deal_projectile_attack</a> (<a class="el" href="classCreature.html">Creature</a> *source, <a class="el" href="structdealt__projectile__attack.html">dealt_projectile_attack</a> &amp;attack)</td></tr>
<tr class="memdesc:a38f6eca5af094a68b5f3a03ed8521900 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to harm a creature with a projectile.  <a href="classCreature.html#a38f6eca5af094a68b5f3a03ed8521900">More...</a><br /></td></tr>
<tr class="separator:a38f6eca5af094a68b5f3a03ed8521900 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e52aa13c84bf1ab09efb7086a416fbf inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a9e52aa13c84bf1ab09efb7086a416fbf">deal_damage_handle_type</a> (const <a class="el" href="structdamage__unit.html">damage_unit</a> &amp;du, <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> bp, int &amp;damage, int &amp;<a class="el" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a>)</td></tr>
<tr class="separator:a9e52aa13c84bf1ab09efb7086a416fbf inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e137a55dbbe37b9656e64f2547cf8da inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a4e137a55dbbe37b9656e64f2547cf8da">digging</a> () const</td></tr>
<tr class="separator:a4e137a55dbbe37b9656e64f2547cf8da inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a2346f549de9c87e8f2afeec1e71366 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a> () const</td></tr>
<tr class="separator:a5a2346f549de9c87e8f2afeec1e71366 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a4c43d66f5a8b50a879d78682b00976 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6a4c43d66f5a8b50a879d78682b00976">is_dangerous_fields</a> (const <a class="el" href="classfield.html">field</a> &amp;fld) const</td></tr>
<tr class="memdesc:a6a4c43d66f5a8b50a879d78682b00976 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if there is a field in the field set that is dangerous to us.  <a href="classCreature.html#a6a4c43d66f5a8b50a879d78682b00976">More...</a><br /></td></tr>
<tr class="separator:a6a4c43d66f5a8b50a879d78682b00976 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5c36ca5b43c92f6cb02afb52a448372 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#af5c36ca5b43c92f6cb02afb52a448372">is_dangerous_field</a> (const <a class="el" href="classfield__entry.html">field_entry</a> &amp;entry) const</td></tr>
<tr class="memdesc:af5c36ca5b43c92f6cb02afb52a448372 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the given field entry is dangerous to us.  <a href="classCreature.html#af5c36ca5b43c92f6cb02afb52a448372">More...</a><br /></td></tr>
<tr class="separator:af5c36ca5b43c92f6cb02afb52a448372 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36dcf5a04ddc0cf9fa29c08b7b099158 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a36dcf5a04ddc0cf9fa29c08b7b099158">check_dead_state</a> ()</td></tr>
<tr class="memdesc:a36dcf5a04ddc0cf9fa29c08b7b099158 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function checks the creatures <a class="el" href="classCreature.html#ab4c318885f6b9947a7c85d3328d25ffe">is_dead_state</a> and (if true) calls <a class="el" href="classCreature.html#a330dad28f732a1cf3af695eedb54877d">die</a>.  <a href="classCreature.html#a36dcf5a04ddc0cf9fa29c08b7b099158">More...</a><br /></td></tr>
<tr class="separator:a36dcf5a04ddc0cf9fa29c08b7b099158 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a666022fd3ed772fa109d273c20e8de55 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a> (const <a class="el" href="classeffect.html">effect</a> &amp;eff, bool force=false, bool <a class="el" href="veh__type_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a>=false)</td></tr>
<tr class="separator:a666022fd3ed772fa109d273c20e8de55 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9527f6d71bb600066748b5ff2173094d inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a9527f6d71bb600066748b5ff2173094d">add_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, const <a class="el" href="classtime__duration.html">time_duration</a> &amp;dur, const <a class="el" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a> &amp;bp, int intensity=0, bool force=false, bool <a class="el" href="veh__type_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a>=false)</td></tr>
<tr class="memdesc:a9527f6d71bb600066748b5ff2173094d inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds or modifies an effect.  <a href="classCreature.html#a9527f6d71bb600066748b5ff2173094d">More...</a><br /></td></tr>
<tr class="separator:a9527f6d71bb600066748b5ff2173094d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3f27adc7d930ec5f8902bf697e948c9 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ae3f27adc7d930ec5f8902bf697e948c9">add_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, const <a class="el" href="classtime__duration.html">time_duration</a> &amp;dur, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp=<a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a>, int intensity=0, bool force=false, bool <a class="el" href="veh__type_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a>=false)</td></tr>
<tr class="separator:ae3f27adc7d930ec5f8902bf697e948c9 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb7869963d4c1060c4d928424511d2e0 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aeb7869963d4c1060c4d928424511d2e0">add_env_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> vector, int strength, const <a class="el" href="classtime__duration.html">time_duration</a> &amp;dur, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp=<a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a>, int intensity=1, bool force=false)</td></tr>
<tr class="memdesc:aeb7869963d4c1060c4d928424511d2e0 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives chance to save via environmental resist, returns false if resistance was successful.  <a href="classCreature.html#aeb7869963d4c1060c4d928424511d2e0">More...</a><br /></td></tr>
<tr class="separator:aeb7869963d4c1060c4d928424511d2e0 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a0b6cc07894acdc576e7ed89f7de59 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ad7a0b6cc07894acdc576e7ed89f7de59">add_env_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> vector, int strength, const <a class="el" href="classtime__duration.html">time_duration</a> &amp;dur, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp, bool REMOVED, int intensity=1, bool force=false)=delete</td></tr>
<tr class="separator:ad7a0b6cc07894acdc576e7ed89f7de59 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a730fb8be5a540edd31ed9d8126ea20de inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp=<a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a>)</td></tr>
<tr class="memdesc:a730fb8be5a540edd31ed9d8126ea20de inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a listed effect.  <a href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">More...</a><br /></td></tr>
<tr class="separator:a730fb8be5a540edd31ed9d8126ea20de inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2dcbf1c848922b4970214fcdc50c05e inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#af2dcbf1c848922b4970214fcdc50c05e">remove_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, const <a class="el" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a> &amp;bp)</td></tr>
<tr class="separator:af2dcbf1c848922b4970214fcdc50c05e inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade25d295e89504f92aff453b05cd2bbe inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ade25d295e89504f92aff453b05cd2bbe">clear_effects</a> ()</td></tr>
<tr class="memdesc:ade25d295e89504f92aff453b05cd2bbe inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all effects.  <a href="classCreature.html#ade25d295e89504f92aff453b05cd2bbe">More...</a><br /></td></tr>
<tr class="separator:ade25d295e89504f92aff453b05cd2bbe inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fb79df9315dc2bed6f34d9a2e37da90 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp=<a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a>) const</td></tr>
<tr class="memdesc:a6fb79df9315dc2bed6f34d9a2e37da90 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if creature has the matching effect.  <a href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">More...</a><br /></td></tr>
<tr class="separator:a6fb79df9315dc2bed6f34d9a2e37da90 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00f1827c2198435026db46dda3cdf7d5 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a00f1827c2198435026db46dda3cdf7d5">has_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, const <a class="el" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a> &amp;bp) const</td></tr>
<tr class="separator:a00f1827c2198435026db46dda3cdf7d5 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b8d5ac840f6d08881374f0483f6d798 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a2b8d5ac840f6d08881374f0483f6d798">has_effect_with_flag</a> (const std::string &amp;flag, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp=<a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a>) const</td></tr>
<tr class="memdesc:a2b8d5ac840f6d08881374f0483f6d798 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if creature has any effect with the given flag.  <a href="classCreature.html#a2b8d5ac840f6d08881374f0483f6d798">More...</a><br /></td></tr>
<tr class="separator:a2b8d5ac840f6d08881374f0483f6d798 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89f56544cdbf34297b4c0e62f3350817 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classeffect.html">effect</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp=<a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a>) const</td></tr>
<tr class="memdesc:a89f56544cdbf34297b4c0e62f3350817 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the effect that matches the given arguments exactly.  <a href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">More...</a><br /></td></tr>
<tr class="separator:a89f56544cdbf34297b4c0e62f3350817 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3721e2f822cedc9866c9e65c2681adc2 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classeffect.html">effect</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a3721e2f822cedc9866c9e65c2681adc2">get_effect</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp=<a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a>)</td></tr>
<tr class="separator:a3721e2f822cedc9866c9e65c2681adc2 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac94e7c7a3d343c197ddc581745b8a37 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classeffect.html">effect</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aac94e7c7a3d343c197ddc581745b8a37">get_all_effects_of_type</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id) const</td></tr>
<tr class="memdesc:aac94e7c7a3d343c197ddc581745b8a37 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns pointers to all effects matching given type.  <a href="classCreature.html#aac94e7c7a3d343c197ddc581745b8a37">More...</a><br /></td></tr>
<tr class="separator:aac94e7c7a3d343c197ddc581745b8a37 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bb3543ca955d69805e57e4e09d878ef inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a2bb3543ca955d69805e57e4e09d878ef">get_effect_dur</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp=<a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a>) const</td></tr>
<tr class="memdesc:a2bb3543ca955d69805e57e4e09d878ef inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the duration of the matching effect.  <a href="classCreature.html#a2bb3543ca955d69805e57e4e09d878ef">More...</a><br /></td></tr>
<tr class="separator:a2bb3543ca955d69805e57e4e09d878ef inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70ba05a0184ff83095f639eac18f24fe inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a70ba05a0184ff83095f639eac18f24fe">get_effect_int</a> (const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;eff_id, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp=<a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a>) const</td></tr>
<tr class="memdesc:a70ba05a0184ff83095f639eac18f24fe inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the intensity of the matching effect.  <a href="classCreature.html#a70ba05a0184ff83095f639eac18f24fe">More...</a><br /></td></tr>
<tr class="separator:a70ba05a0184ff83095f639eac18f24fe inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6a1afd1c3ed70f80b5b902125569408 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#af6a1afd1c3ed70f80b5b902125569408">resists_effect</a> (const <a class="el" href="classeffect.html">effect</a> &amp;e)</td></tr>
<tr class="memdesc:af6a1afd1c3ed70f80b5b902125569408 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the creature resists an effect.  <a href="classCreature.html#af6a1afd1c3ed70f80b5b902125569408">More...</a><br /></td></tr>
<tr class="separator:af6a1afd1c3ed70f80b5b902125569408 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04c1983abeefbf67db1e3f2b2a9b58ab inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a04c1983abeefbf67db1e3f2b2a9b58ab">set_value</a> (const std::string &amp;key, const std::string &amp;value)</td></tr>
<tr class="separator:a04c1983abeefbf67db1e3f2b2a9b58ab inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ad06869ed97eb2701f5f74b7d36281e inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6ad06869ed97eb2701f5f74b7d36281e">remove_value</a> (const std::string &amp;key)</td></tr>
<tr class="separator:a6ad06869ed97eb2701f5f74b7d36281e inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2acb6e1e19bcb775748403d07d8dc3f0 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a2acb6e1e19bcb775748403d07d8dc3f0">get_value</a> (const std::string &amp;key) const</td></tr>
<tr class="separator:a2acb6e1e19bcb775748403d07d8dc3f0 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c4224e3e3ce5b7bf6af5da26c622af6 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a7c4224e3e3ce5b7bf6af5da26c622af6">process_effects</a> ()</td></tr>
<tr class="memdesc:a7c4224e3e3ce5b7bf6af5da26c622af6 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes through all the effects on the <a class="el" href="classCreature.html">Creature</a>.  <a href="classCreature.html#a7c4224e3e3ce5b7bf6af5da26c622af6">More...</a><br /></td></tr>
<tr class="separator:a7c4224e3e3ce5b7bf6af5da26c622af6 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74f17106e37657f528e42b3fd706766a inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a74f17106e37657f528e42b3fd706766a">mod_pain_noresist</a> (int npain)</td></tr>
<tr class="separator:a74f17106e37657f528e42b3fd706766a inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71e8440dfb96a7a870c29e0472b7b85d inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a71e8440dfb96a7a870c29e0472b7b85d">get_pain</a> () const</td></tr>
<tr class="separator:a71e8440dfb96a7a870c29e0472b7b85d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3d3fb7cfb98cf3c36f0f0681414274a inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#af3d3fb7cfb98cf3c36f0f0681414274a">get_moves</a> () const</td></tr>
<tr class="separator:af3d3fb7cfb98cf3c36f0f0681414274a inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a891bc2d0c564449cb462178317819254 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a> (int nmoves)</td></tr>
<tr class="separator:a891bc2d0c564449cb462178317819254 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af826bfbdc9d7f81a8b9e53775f43d080 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#af826bfbdc9d7f81a8b9e53775f43d080">set_moves</a> (int nmoves)</td></tr>
<tr class="separator:af826bfbdc9d7f81a8b9e53775f43d080 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3175e1b479b42298f197f5a41de45f50 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classCreature.html">Creature</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a3175e1b479b42298f197f5a41de45f50">get_killer</a> () const</td></tr>
<tr class="separator:a3175e1b479b42298f197f5a41de45f50 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a805a8d90db2178529997b355e8898d70 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a805a8d90db2178529997b355e8898d70">get_num_blocks</a> () const</td></tr>
<tr class="separator:a805a8d90db2178529997b355e8898d70 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a655af12aa145ee7fe2340c24a3b4b856 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a655af12aa145ee7fe2340c24a3b4b856">get_num_dodges</a> () const</td></tr>
<tr class="separator:a655af12aa145ee7fe2340c24a3b4b856 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e5459c1b7ff6fee815a1f15643a972c inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a5e5459c1b7ff6fee815a1f15643a972c">get_num_blocks_bonus</a> () const</td></tr>
<tr class="separator:a5e5459c1b7ff6fee815a1f15643a972c inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae498ac0177ab95ad88e80a454e67f721 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ae498ac0177ab95ad88e80a454e67f721">get_num_dodges_bonus</a> () const</td></tr>
<tr class="separator:ae498ac0177ab95ad88e80a454e67f721 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6596f10b3ecc70bf4ece4a13eac31cb9 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6596f10b3ecc70bf4ece4a13eac31cb9">get_num_dodges_base</a> () const</td></tr>
<tr class="separator:a6596f10b3ecc70bf4ece4a13eac31cb9 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac60aa5fbf2288af721c85d4ad0e5c3d7 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ac60aa5fbf2288af721c85d4ad0e5c3d7">get_armor_bash_bonus</a> () const</td></tr>
<tr class="separator:ac60aa5fbf2288af721c85d4ad0e5c3d7 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0a50a1c65fe8eb4879f9efcb8611aaa inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ac0a50a1c65fe8eb4879f9efcb8611aaa">get_armor_cut_bonus</a> () const</td></tr>
<tr class="separator:ac0a50a1c65fe8eb4879f9efcb8611aaa inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade576569fbf413f86248ed9612266181 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ade576569fbf413f86248ed9612266181">get_armor_bullet_bonus</a> () const</td></tr>
<tr class="separator:ade576569fbf413f86248ed9612266181 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88b81d1ff0359794554e81c7ae16f370 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a88b81d1ff0359794554e81c7ae16f370">get_hit</a> () const</td></tr>
<tr class="separator:a88b81d1ff0359794554e81c7ae16f370 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94737d93f30cee269b2df71478ee29fd inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a94737d93f30cee269b2df71478ee29fd">get_hp</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp) const</td></tr>
<tr class="separator:a94737d93f30cee269b2df71478ee29fd inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1bef04dffb96ab1ad30472fd2895a08 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ab1bef04dffb96ab1ad30472fd2895a08">get_hp</a> () const</td></tr>
<tr class="separator:ab1bef04dffb96ab1ad30472fd2895a08 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e1819fd37a50af66566c6d1b896572a inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6e1819fd37a50af66566c6d1b896572a">get_hp_max</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp) const</td></tr>
<tr class="separator:a6e1819fd37a50af66566c6d1b896572a inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2a4228cdac0e116a7f9238e2d1b5561 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ac2a4228cdac0e116a7f9238e2d1b5561">get_hp_max</a> () const</td></tr>
<tr class="separator:ac2a4228cdac0e116a7f9238e2d1b5561 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a993e0edf9322ff4aba71a9a3a4f5485c inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a993e0edf9322ff4aba71a9a3a4f5485c">has_flag</a> (const <a class="el" href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842">m_flag</a>) const</td></tr>
<tr class="separator:a993e0edf9322ff4aba71a9a3a4f5485c inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59d8ead2387b3b99cb2e88c5f1858e17 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="anatomy_8h.html#a1ed57b4e8ea6d9a0e43d3bbb59750771">anatomy_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a59d8ead2387b3b99cb2e88c5f1858e17">get_anatomy</a> () const</td></tr>
<tr class="separator:a59d8ead2387b3b99cb2e88c5f1858e17 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae4a92105510e6459a382ff5a4e74833 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aae4a92105510e6459a382ff5a4e74833">set_anatomy</a> (<a class="el" href="anatomy_8h.html#a1ed57b4e8ea6d9a0e43d3bbb59750771">anatomy_id</a> anat)</td></tr>
<tr class="separator:aae4a92105510e6459a382ff5a4e74833 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51c96c81ae1ea766b5eead4a265c1492 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a51c96c81ae1ea766b5eead4a265c1492">get_random_body_part</a> (bool <a class="el" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>=false) const</td></tr>
<tr class="separator:a51c96c81ae1ea766b5eead4a265c1492 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f9cc294949ffc5bd51ab464b5c5ad6f inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a9f9cc294949ffc5bd51ab464b5c5ad6f">get_all_body_parts</a> (bool only_main=false) const</td></tr>
<tr class="memdesc:a9f9cc294949ffc5bd51ab464b5c5ad6f inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns body parts this creature have.  <a href="classCreature.html#a9f9cc294949ffc5bd51ab464b5c5ad6f">More...</a><br /></td></tr>
<tr class="separator:a9f9cc294949ffc5bd51ab464b5c5ad6f inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4dbde454c86b3296f53681c60612974 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">const std::map&lt; <a class="el" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a>, <a class="el" href="classbodypart.html">bodypart</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ac4dbde454c86b3296f53681c60612974">get_body</a> () const</td></tr>
<tr class="separator:ac4dbde454c86b3296f53681c60612974 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08520d85381520ff27dc274d5718a989 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a08520d85381520ff27dc274d5718a989">set_body</a> ()</td></tr>
<tr class="separator:a08520d85381520ff27dc274d5718a989 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af376b238bc80631e8873908f465fe7b2 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbodypart.html">bodypart</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#af376b238bc80631e8873908f465fe7b2">get_part</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id)</td></tr>
<tr class="separator:af376b238bc80631e8873908f465fe7b2 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab0b7b276eb26a27b07f4c228126b5ae inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbodypart.html">bodypart</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aab0b7b276eb26a27b07f4c228126b5ae">get_part</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id) const</td></tr>
<tr class="separator:aab0b7b276eb26a27b07f4c228126b5ae inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab901ee8b150fdad01ff2028ec8dba84c inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ab901ee8b150fdad01ff2028ec8dba84c">get_part_hp_cur</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id) const</td></tr>
<tr class="separator:ab901ee8b150fdad01ff2028ec8dba84c inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad6dc5532f233030d367ed67e0ea6613 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aad6dc5532f233030d367ed67e0ea6613">get_part_hp_max</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id) const</td></tr>
<tr class="separator:aad6dc5532f233030d367ed67e0ea6613 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeff660cc0df3f660c46142e5362f8ffe inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aeff660cc0df3f660c46142e5362f8ffe">get_part_healed_total</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id) const</td></tr>
<tr class="separator:aeff660cc0df3f660c46142e5362f8ffe inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a226d6b1000b12edac3e5adecae7b8928 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a226d6b1000b12edac3e5adecae7b8928">set_part_hp_cur</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int set)</td></tr>
<tr class="separator:a226d6b1000b12edac3e5adecae7b8928 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee8599df32920db133b4d40281fe61e inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6ee8599df32920db133b4d40281fe61e">set_part_hp_max</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int set)</td></tr>
<tr class="separator:a6ee8599df32920db133b4d40281fe61e inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92182fbfd56229f1d8d23b929955b6a4 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a92182fbfd56229f1d8d23b929955b6a4">set_part_healed_total</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int set)</td></tr>
<tr class="separator:a92182fbfd56229f1d8d23b929955b6a4 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29006b1d624e44def0208134e7f0ac3f inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a29006b1d624e44def0208134e7f0ac3f">mod_part_hp_cur</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int mod)</td></tr>
<tr class="separator:a29006b1d624e44def0208134e7f0ac3f inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b7481562f5db150aa48141a0994ed2 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a29b7481562f5db150aa48141a0994ed2">mod_part_hp_max</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int mod)</td></tr>
<tr class="separator:a29b7481562f5db150aa48141a0994ed2 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55954967387e535b1e52f16946a85a47 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a55954967387e535b1e52f16946a85a47">mod_part_healed_total</a> (const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;id, int mod)</td></tr>
<tr class="separator:a55954967387e535b1e52f16946a85a47 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ebcf1d6c0af9f4223695752a5ae3632 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6ebcf1d6c0af9f4223695752a5ae3632">set_all_parts_hp_cur</a> (int set)</td></tr>
<tr class="separator:a6ebcf1d6c0af9f4223695752a5ae3632 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6af61264a3d5ac62a64df4899e87d2c1 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6af61264a3d5ac62a64df4899e87d2c1">set_all_parts_hp_to_max</a> ()</td></tr>
<tr class="separator:a6af61264a3d5ac62a64df4899e87d2c1 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfac03f5782f8ea53e1efcb5321ead1b inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">get_speed_base</a> () const</td></tr>
<tr class="separator:acfac03f5782f8ea53e1efcb5321ead1b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35bbfb9c042ed3cf7e0ae9b7280384c4 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a35bbfb9c042ed3cf7e0ae9b7280384c4">get_speed_bonus</a> () const</td></tr>
<tr class="separator:a35bbfb9c042ed3cf7e0ae9b7280384c4 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a282e131a72c19f24c7f0a56323b47ecb inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a282e131a72c19f24c7f0a56323b47ecb">get_block_bonus</a> () const</td></tr>
<tr class="separator:a282e131a72c19f24c7f0a56323b47ecb inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7f9ca1f62f41d70a2615dfeb17b7cbc inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ab7f9ca1f62f41d70a2615dfeb17b7cbc">get_dodge_bonus</a> () const</td></tr>
<tr class="separator:ab7f9ca1f62f41d70a2615dfeb17b7cbc inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06ca4f66498062afc881d76b82946bac inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a06ca4f66498062afc881d76b82946bac">get_hit_bonus</a> () const</td></tr>
<tr class="separator:a06ca4f66498062afc881d76b82946bac inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaed992e8acaf0e9dc182ea8ce1d15423 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aaed992e8acaf0e9dc182ea8ce1d15423">set_num_blocks_bonus</a> (int nblocks)</td></tr>
<tr class="separator:aaed992e8acaf0e9dc182ea8ce1d15423 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adffc2b92625bf6103e3e2f95c3a404c3 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#adffc2b92625bf6103e3e2f95c3a404c3">mod_num_dodges_bonus</a> (int ndodges)</td></tr>
<tr class="separator:adffc2b92625bf6103e3e2f95c3a404c3 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d5c909ab864ba5bf09323c083af1283 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a1d5c909ab864ba5bf09323c083af1283">set_armor_bash_bonus</a> (int nbasharm)</td></tr>
<tr class="separator:a1d5c909ab864ba5bf09323c083af1283 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a963a66db8e5601c1fb7ade8501d98d4a inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a963a66db8e5601c1fb7ade8501d98d4a">set_armor_cut_bonus</a> (int ncutarm)</td></tr>
<tr class="separator:a963a66db8e5601c1fb7ade8501d98d4a inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7b4cc2f6c25729d298e22052e54bc6c inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ae7b4cc2f6c25729d298e22052e54bc6c">set_armor_bullet_bonus</a> (int nbulletarm)</td></tr>
<tr class="separator:ae7b4cc2f6c25729d298e22052e54bc6c inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afedb5874d4d3438d3c82cb2104ec49fa inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">set_speed_base</a> (int nspeed)</td></tr>
<tr class="separator:afedb5874d4d3438d3c82cb2104ec49fa inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81fd71e521e09908425fc63a64458f59 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a81fd71e521e09908425fc63a64458f59">set_speed_bonus</a> (int nspeed)</td></tr>
<tr class="separator:a81fd71e521e09908425fc63a64458f59 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9993b4cb7492f25fb6eb70568009d90a inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a9993b4cb7492f25fb6eb70568009d90a">set_block_bonus</a> (int nblock)</td></tr>
<tr class="separator:a9993b4cb7492f25fb6eb70568009d90a inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4f09ff71f1aa8562798d47cb4ef0682 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">mod_speed_bonus</a> (int nspeed)</td></tr>
<tr class="separator:aa4f09ff71f1aa8562798d47cb4ef0682 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73dcd9331c055a2cd05d05be0337257d inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a73dcd9331c055a2cd05d05be0337257d">mod_block_bonus</a> (int nblock)</td></tr>
<tr class="separator:a73dcd9331c055a2cd05d05be0337257d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e9c58c5ee7f2c5780abe8f90bdd6608 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a7e9c58c5ee7f2c5780abe8f90bdd6608">set_dodge_bonus</a> (float ndodge)</td></tr>
<tr class="separator:a7e9c58c5ee7f2c5780abe8f90bdd6608 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1258aef238c0dbd5dd72427a73ab0714 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a1258aef238c0dbd5dd72427a73ab0714">set_hit_bonus</a> (float nhit)</td></tr>
<tr class="separator:a1258aef238c0dbd5dd72427a73ab0714 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60ca228583adf18b2e56e1c96ff8b048 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a60ca228583adf18b2e56e1c96ff8b048">mod_dodge_bonus</a> (float ndodge)</td></tr>
<tr class="separator:a60ca228583adf18b2e56e1c96ff8b048 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a089a7123da50e5ffa294e86e0d8dacd6 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a089a7123da50e5ffa294e86e0d8dacd6">mod_hit_bonus</a> (float nhit)</td></tr>
<tr class="separator:a089a7123da50e5ffa294e86e0d8dacd6 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f39711701b63d9ae4e74b624c326316 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">draw</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, const <a class="el" href="structpoint.html">point</a> &amp;origin, bool inverted) const</td></tr>
<tr class="separator:a1f39711701b63d9ae4e74b624c326316 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9bcfd9fd983268a76a178dc61869d52 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ac9bcfd9fd983268a76a178dc61869d52">draw</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, const <a class="el" href="structtripoint.html">tripoint</a> &amp;origin, bool inverted) const</td></tr>
<tr class="separator:ac9bcfd9fd983268a76a178dc61869d52 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eadbc3e5891d1ff578ac49291e12b66 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a1eadbc3e5891d1ff578ac49291e12b66">describe_infrared</a> (std::vector&lt; std::string &gt; &amp;buf) const</td></tr>
<tr class="memdesc:a1eadbc3e5891d1ff578ac49291e12b66 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Describe this creature as seen by the avatar via infrared vision.  <a href="classCreature.html#a1eadbc3e5891d1ff578ac49291e12b66">More...</a><br /></td></tr>
<tr class="separator:a1eadbc3e5891d1ff578ac49291e12b66 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6293c17885ef44d613618b4953a1be17 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6293c17885ef44d613618b4953a1be17">describe_specials</a> (std::vector&lt; std::string &gt; &amp;buf) const</td></tr>
<tr class="memdesc:a6293c17885ef44d613618b4953a1be17 inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Describe this creature as detected by the avatar's special senses.  <a href="classCreature.html#a6293c17885ef44d613618b4953a1be17">More...</a><br /></td></tr>
<tr class="separator:a6293c17885ef44d613618b4953a1be17 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a362ab9bed1655e6a8d89500c0a918151 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a362ab9bed1655e6a8d89500c0a918151">add_msg_if_player</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:a362ab9bed1655e6a8d89500c0a918151 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f53ca8ced4f6083f02d47ceef2aeb8b inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a9f53ca8ced4f6083f02d47ceef2aeb8b">add_msg_if_player</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:a9f53ca8ced4f6083f02d47ceef2aeb8b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7b015b4a8a8f1d6565bd447dea4e91e inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:ae7b015b4a8a8f1d6565bd447dea4e91e inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#ae7b015b4a8a8f1d6565bd447dea4e91e">add_msg_if_player</a> (const char *const msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:ae7b015b4a8a8f1d6565bd447dea4e91e inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb3c5a00b0bb0cb6b5cf064bca962e5 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a6cb3c5a00b0bb0cb6b5cf064bca962e5 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a6cb3c5a00b0bb0cb6b5cf064bca962e5">add_msg_if_player</a> (const std::string &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a6cb3c5a00b0bb0cb6b5cf064bca962e5 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2df004655672434d5a9b31cab46fa16b inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a2df004655672434d5a9b31cab46fa16b inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a2df004655672434d5a9b31cab46fa16b">add_msg_if_player</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a2df004655672434d5a9b31cab46fa16b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25e758630f6e0f9a6b017d06a5061027 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a25e758630f6e0f9a6b017d06a5061027 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a25e758630f6e0f9a6b017d06a5061027">add_msg_if_player</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const char *const msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a25e758630f6e0f9a6b017d06a5061027 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1be7851858cc262d9f152bc5cfba0b3c inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a1be7851858cc262d9f152bc5cfba0b3c inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a1be7851858cc262d9f152bc5cfba0b3c">add_msg_if_player</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const std::string &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a1be7851858cc262d9f152bc5cfba0b3c inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abec1b60d0dd693076c231f3d24f4455d inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:abec1b60d0dd693076c231f3d24f4455d inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#abec1b60d0dd693076c231f3d24f4455d">add_msg_if_player</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const <a class="el" href="classtranslation.html">translation</a> &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:abec1b60d0dd693076c231f3d24f4455d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5da3a2470cbe9db76174216826307c1 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aa5da3a2470cbe9db76174216826307c1">add_msg_if_npc</a> (const std::string &amp;) const</td></tr>
<tr class="separator:aa5da3a2470cbe9db76174216826307c1 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a2d18231b856df1947c0f2c51768cc inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aa6a2d18231b856df1947c0f2c51768cc">add_msg_if_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;, const std::string &amp;) const</td></tr>
<tr class="separator:aa6a2d18231b856df1947c0f2c51768cc inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3b0f9beac863a48f4e7b1b375ecc7cf inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#af3b0f9beac863a48f4e7b1b375ecc7cf">add_msg_if_npc</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:af3b0f9beac863a48f4e7b1b375ecc7cf inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff08a0fd32630c9d3ea6dd7320048028 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aff08a0fd32630c9d3ea6dd7320048028">add_msg_if_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:aff08a0fd32630c9d3ea6dd7320048028 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaa8bbf304094b1f21b2740518d6630e inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:aaaa8bbf304094b1f21b2740518d6630e inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#aaaa8bbf304094b1f21b2740518d6630e">add_msg_if_npc</a> (const char *const msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:aaaa8bbf304094b1f21b2740518d6630e inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48279f8a14d84719495e7589230e3576 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a48279f8a14d84719495e7589230e3576 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a48279f8a14d84719495e7589230e3576">add_msg_if_npc</a> (const std::string &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a48279f8a14d84719495e7589230e3576 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31796e0c637397ee99aa363d9fff619a inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a31796e0c637397ee99aa363d9fff619a inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a31796e0c637397ee99aa363d9fff619a">add_msg_if_npc</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a31796e0c637397ee99aa363d9fff619a inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab829716b1c7d34c74a6be5f7cbb8d8dc inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:ab829716b1c7d34c74a6be5f7cbb8d8dc inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#ab829716b1c7d34c74a6be5f7cbb8d8dc">add_msg_if_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const char *const msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:ab829716b1c7d34c74a6be5f7cbb8d8dc inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae472c038258be0005ac20376ee68be3b inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:ae472c038258be0005ac20376ee68be3b inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#ae472c038258be0005ac20376ee68be3b">add_msg_if_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const std::string &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:ae472c038258be0005ac20376ee68be3b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1593ee1fc7ab6bf0ae760fdabc9f1ce inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:ae1593ee1fc7ab6bf0ae760fdabc9f1ce inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#ae1593ee1fc7ab6bf0ae760fdabc9f1ce">add_msg_if_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const <a class="el" href="classtranslation.html">translation</a> &amp;msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:ae1593ee1fc7ab6bf0ae760fdabc9f1ce inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b6938eb560ebd8f5d2518632c0d21ea inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a7b6938eb560ebd8f5d2518632c0d21ea">add_msg_player_or_npc</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:a7b6938eb560ebd8f5d2518632c0d21ea inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba59f7f156a1a85ed266b0458fd6be2e inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aba59f7f156a1a85ed266b0458fd6be2e">add_msg_player_or_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:aba59f7f156a1a85ed266b0458fd6be2e inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f62360e42c8429e2f6dbc06c0b998da inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a6f62360e42c8429e2f6dbc06c0b998da inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a6f62360e42c8429e2f6dbc06c0b998da">add_msg_player_or_npc</a> (const char *const player_msg, const char *const npc_msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a6f62360e42c8429e2f6dbc06c0b998da inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67c1a6d047f771eb8087eee69e9743fe inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a67c1a6d047f771eb8087eee69e9743fe inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a67c1a6d047f771eb8087eee69e9743fe">add_msg_player_or_npc</a> (const std::string &amp;player_msg, const std::string &amp;npc_msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a67c1a6d047f771eb8087eee69e9743fe inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a203cbfdf79509fb8331551031b86e75b inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a203cbfdf79509fb8331551031b86e75b inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a203cbfdf79509fb8331551031b86e75b">add_msg_player_or_npc</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;player_msg, const <a class="el" href="classtranslation.html">translation</a> &amp;npc_msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a203cbfdf79509fb8331551031b86e75b inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1641f7cd3c45babcf065beeb2d341d71 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a1641f7cd3c45babcf065beeb2d341d71 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a1641f7cd3c45babcf065beeb2d341d71">add_msg_player_or_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const char *const player_msg, const char *const npc_msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a1641f7cd3c45babcf065beeb2d341d71 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2310e011bcb43c7f0129bfc994a194aa inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:a2310e011bcb43c7f0129bfc994a194aa inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#a2310e011bcb43c7f0129bfc994a194aa">add_msg_player_or_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const std::string &amp;player_msg, const std::string &amp;npc_msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:a2310e011bcb43c7f0129bfc994a194aa inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa76a8657010c9d1ddb06cba966f48822 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:aa76a8657010c9d1ddb06cba966f48822 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#aa76a8657010c9d1ddb06cba966f48822">add_msg_player_or_npc</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const <a class="el" href="classtranslation.html">translation</a> &amp;player_msg, const <a class="el" href="classtranslation.html">translation</a> &amp;npc_msg, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:aa76a8657010c9d1ddb06cba966f48822 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44a4fc37b385760d28c9d1ef786ed7c9 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a44a4fc37b385760d28c9d1ef786ed7c9">add_msg_player_or_say</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:a44a4fc37b385760d28c9d1ef786ed7c9 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a71f490d521680c54e485b811129ca2 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a5a71f490d521680c54e485b811129ca2">add_msg_player_or_say</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;, const <a class="el" href="classtranslation.html">translation</a> &amp;) const</td></tr>
<tr class="separator:a5a71f490d521680c54e485b811129ca2 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab8e21a7dc23122912312f4f1b4e7309 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:aab8e21a7dc23122912312f4f1b4e7309 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#aab8e21a7dc23122912312f4f1b4e7309">add_msg_player_or_say</a> (const char *const player_msg, const char *const npc_speech, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:aab8e21a7dc23122912312f4f1b4e7309 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb957c944f2a65000030415bf9041280 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:afb957c944f2a65000030415bf9041280 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#afb957c944f2a65000030415bf9041280">add_msg_player_or_say</a> (const std::string &amp;player_msg, const std::string &amp;npc_speech, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:afb957c944f2a65000030415bf9041280 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace0149213e778d5f0034af9e26d29111 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:ace0149213e778d5f0034af9e26d29111 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#ace0149213e778d5f0034af9e26d29111">add_msg_player_or_say</a> (const <a class="el" href="classtranslation.html">translation</a> &amp;player_msg, const <a class="el" href="classtranslation.html">translation</a> &amp;npc_speech, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:ace0149213e778d5f0034af9e26d29111 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec7d10af5a2f4c9697590299c9dc29fd inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:aec7d10af5a2f4c9697590299c9dc29fd inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#aec7d10af5a2f4c9697590299c9dc29fd">add_msg_player_or_say</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const char *const player_msg, const char *const npc_speech, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:aec7d10af5a2f4c9697590299c9dc29fd inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af94db5f2e951561ee5ffe083b106a5c5 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:af94db5f2e951561ee5ffe083b106a5c5 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#af94db5f2e951561ee5ffe083b106a5c5">add_msg_player_or_say</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const std::string &amp;player_msg, const std::string &amp;npc_speech, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:af94db5f2e951561ee5ffe083b106a5c5 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea6e417cd7bfc04692f2b754f17b7f29 inherit pub_methods_classCreature"><td class="memTemplParams" colspan="2">template&lt;typename ... Args&gt; </td></tr>
<tr class="memitem:aea6e417cd7bfc04692f2b754f17b7f29 inherit pub_methods_classCreature"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCreature.html#aea6e417cd7bfc04692f2b754f17b7f29">add_msg_player_or_say</a> (const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;params, const <a class="el" href="classtranslation.html">translation</a> &amp;player_msg, const <a class="el" href="classtranslation.html">translation</a> &amp;npc_speech, Args &amp;&amp;... args) const</td></tr>
<tr class="separator:aea6e417cd7bfc04692f2b754f17b7f29 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eea7f2ab169160c6d6fc2a7d93c96f1 inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a9eea7f2ab169160c6d6fc2a7d93c96f1">is_symbol_highlighted</a> () const</td></tr>
<tr class="separator:a9eea7f2ab169160c6d6fc2a7d93c96f1 inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd41fe70086446befdb8d6e5a950c1ff inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classeffects__map.html">effects_map</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#acd41fe70086446befdb8d6e5a950c1ff">get_all_effects</a> () const</td></tr>
<tr class="separator:acd41fe70086446befdb8d6e5a950c1ff inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7ff6d771fb2845965d103ad8cf2ff5d inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ad7ff6d771fb2845965d103ad8cf2ff5d">select_body_part</a> (<a class="el" href="classCreature.html">Creature</a> *source, int <a class="el" href="classCreature.html#ae92d2444aa89afae41c107cf6fcf6851">hit_roll</a>) const</td></tr>
<tr class="separator:ad7ff6d771fb2845965d103ad8cf2ff5d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabed1ac65b7fbd67cfb8a3252b16e67d inherit pub_methods_classCreature"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aabed1ac65b7fbd67cfb8a3252b16e67d">replace_with_npc_name</a> (std::string input) const</td></tr>
<tr class="memdesc:aabed1ac65b7fbd67cfb8a3252b16e67d inherit pub_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function replaces the "&lt;npcname&gt;" substring with the <a class="el" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a> of this creature.  <a href="classCreature.html#aabed1ac65b7fbd67cfb8a3252b16e67d">More...</a><br /></td></tr>
<tr class="separator:aabed1ac65b7fbd67cfb8a3252b16e67d inherit pub_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classvisitable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classvisitable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classvisitable.html">visitable&lt; Character &gt;</a></td></tr>
<tr class="memitem:a0a76a71d6a905414cc81236e86a7e649 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(<a class="el" href="classitem.html">item</a> *, <a class="el" href="classitem.html">item</a> *)&gt; &amp;func)</td></tr>
<tr class="memdesc:a0a76a71d6a905414cc81236e86a7e649 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Traverses this object and any child items contained using a visitor pattern.  <a href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">More...</a><br /></td></tr>
<tr class="separator:a0a76a71d6a905414cc81236e86a7e649 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7a72544bb0c5cc51eff8ea3dd07a513 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#aa7a72544bb0c5cc51eff8ea3dd07a513">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(const <a class="el" href="classitem.html">item</a> *, const <a class="el" href="classitem.html">item</a> *)&gt; &amp;func) const</td></tr>
<tr class="separator:aa7a72544bb0c5cc51eff8ea3dd07a513 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad174ac6f2ed3679241696e7fa096b7d1 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#ad174ac6f2ed3679241696e7fa096b7d1">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(<a class="el" href="classitem.html">item</a> *)&gt; &amp;func)</td></tr>
<tr class="memdesc:ad174ac6f2ed3679241696e7fa096b7d1 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lightweight version which provides only the current node.  <a href="classvisitable.html#ad174ac6f2ed3679241696e7fa096b7d1">More...</a><br /></td></tr>
<tr class="separator:ad174ac6f2ed3679241696e7fa096b7d1 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff00b5f4ce2ea371ef82f9b08bb76782 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#aff00b5f4ce2ea371ef82f9b08bb76782">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(const <a class="el" href="classitem.html">item</a> *)&gt; &amp;func) const</td></tr>
<tr class="separator:aff00b5f4ce2ea371ef82f9b08bb76782 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a073dab39ca059a87742a05300402ab01 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a073dab39ca059a87742a05300402ab01">find_parent</a> (const <a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="memdesc:a073dab39ca059a87742a05300402ab01 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the immediate parent container (if any) for an item.  <a href="classvisitable.html#a073dab39ca059a87742a05300402ab01">More...</a><br /></td></tr>
<tr class="separator:a073dab39ca059a87742a05300402ab01 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3755702ea4b3eb37b385bcfb375c89a8 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a3755702ea4b3eb37b385bcfb375c89a8">find_parent</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:a3755702ea4b3eb37b385bcfb375c89a8 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91f3c0f8e439b0ffda17e613fda94d04 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a91f3c0f8e439b0ffda17e613fda94d04">parents</a> (const <a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="memdesc:a91f3c0f8e439b0ffda17e613fda94d04 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns vector of parent containers (if any) starting with the innermost.  <a href="classvisitable.html#a91f3c0f8e439b0ffda17e613fda94d04">More...</a><br /></td></tr>
<tr class="separator:a91f3c0f8e439b0ffda17e613fda94d04 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb48f9ef22516867c7ff3bd449b02bf2 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#adb48f9ef22516867c7ff3bd449b02bf2">parents</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:adb48f9ef22516867c7ff3bd449b02bf2 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af49d5ef7b3f2f0a8664c23097a56373f inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:af49d5ef7b3f2f0a8664c23097a56373f inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this visitable instance contains the item.  <a href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">More...</a><br /></td></tr>
<tr class="separator:af49d5ef7b3f2f0a8664c23097a56373f inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf24bf044bbf16def702fd78351fc46f inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">has_item_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter) const</td></tr>
<tr class="memdesc:abf24bf044bbf16def702fd78351fc46f inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if any item (including those within a container) matches the filter.  <a href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">More...</a><br /></td></tr>
<tr class="separator:abf24bf044bbf16def702fd78351fc46f inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62ad0b8f7866ec171a709c56e4a25ff2 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a62ad0b8f7866ec171a709c56e4a25ff2">has_quality</a> (const <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a> &amp;qual, int level=1, int qty=1) const</td></tr>
<tr class="memdesc:a62ad0b8f7866ec171a709c56e4a25ff2 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if instance has amount (or more) items of at least quality level.  <a href="classvisitable.html#a62ad0b8f7866ec171a709c56e4a25ff2">More...</a><br /></td></tr>
<tr class="separator:a62ad0b8f7866ec171a709c56e4a25ff2 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d2cb1acccff210289e90eb29ca02db8 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a2d2cb1acccff210289e90eb29ca02db8">max_quality</a> (const <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a> &amp;qual) const</td></tr>
<tr class="memdesc:a2d2cb1acccff210289e90eb29ca02db8 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return maximum tool quality level provided by instance or INT_MIN if not found.  <a href="classvisitable.html#a2d2cb1acccff210289e90eb29ca02db8">More...</a><br /></td></tr>
<tr class="separator:a2d2cb1acccff210289e90eb29ca02db8 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a517e20b6f6c13b8316d5cce8e310b871 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">charges_of</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, int limit=INT_MAX, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;, std::function&lt; void(int)&gt; visitor=nullptr) const</td></tr>
<tr class="memdesc:a517e20b6f6c13b8316d5cce8e310b871 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count maximum available charges from this instance and any contained items.  <a href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">More...</a><br /></td></tr>
<tr class="separator:a517e20b6f6c13b8316d5cce8e310b871 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f314e4c2cf16dde306d92b73a60ff9f inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a0f314e4c2cf16dde306d92b73a60ff9f">amount_of</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, bool pseudo=true, int limit=INT_MAX, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;) const</td></tr>
<tr class="memdesc:a0f314e4c2cf16dde306d92b73a60ff9f inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count items matching id including both this instance and any contained items.  <a href="classvisitable.html#a0f314e4c2cf16dde306d92b73a60ff9f">More...</a><br /></td></tr>
<tr class="separator:a0f314e4c2cf16dde306d92b73a60ff9f inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac50bc4422d4636a70a97d41787f22d0d inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">has_amount</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, int qty, bool pseudo=true, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;) const</td></tr>
<tr class="memdesc:ac50bc4422d4636a70a97d41787f22d0d inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check instance provides at least qty of an item (.  <a href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">More...</a><br /></td></tr>
<tr class="separator:ac50bc4422d4636a70a97d41787f22d0d inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b3c37fbe8209cab68aa26d3cc7f4300 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a5b3c37fbe8209cab68aa26d3cc7f4300">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter)</td></tr>
<tr class="memdesc:a5b3c37fbe8209cab68aa26d3cc7f4300 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all items (including those within a container) matching the filter.  <a href="classvisitable.html#a5b3c37fbe8209cab68aa26d3cc7f4300">More...</a><br /></td></tr>
<tr class="separator:a5b3c37fbe8209cab68aa26d3cc7f4300 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e80572268abd951cf016d275febe4e6 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a3e80572268abd951cf016d275febe4e6">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter) const</td></tr>
<tr class="separator:a3e80572268abd951cf016d275febe4e6 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82d5eb61d79aa5a1ff06375288600796 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a82d5eb61d79aa5a1ff06375288600796">remove_items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter, int count=INT_MAX)</td></tr>
<tr class="memdesc:a82d5eb61d79aa5a1ff06375288600796 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes items contained by this instance which match the filter.  <a href="classvisitable.html#a82d5eb61d79aa5a1ff06375288600796">More...</a><br /></td></tr>
<tr class="separator:a82d5eb61d79aa5a1ff06375288600796 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeb03e3af46e1b106a5f88f112add296 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a> (<a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="memdesc:adeb03e3af46e1b106a5f88f112add296 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes and returns the item which must be contained by this instance.  <a href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">More...</a><br /></td></tr>
<tr class="separator:adeb03e3af46e1b106a5f88f112add296 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a73b63d394d7beabffc445d4c364f5c19"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a73b63d394d7beabffc445d4c364f5c19">thirst_speed_penalty</a> (int <a class="el" href="classCharacter.html#aecc359ee26a1e81fd03d778be68ae2de">thirst</a>)</td></tr>
<tr class="memdesc:a73b63d394d7beabffc445d4c364f5c19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the penalty to speed from thirst.  <a href="classplayer.html#a73b63d394d7beabffc445d4c364f5c19">More...</a><br /></td></tr>
<tr class="separator:a73b63d394d7beabffc445d4c364f5c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classCharacter"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classCharacter')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classCharacter.html">Character</a></td></tr>
<tr class="memitem:ac7fec168bf9799a6e175ac36a87bcd06 inherit pub_static_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="pldata_8h.html#a51c99b582921c7fe956e6cb62a7b8fe0">hp_part</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac7fec168bf9799a6e175ac36a87bcd06">bp_to_hp</a> (<a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp)</td></tr>
<tr class="memdesc:ac7fec168bf9799a6e175ac36a87bcd06 inherit pub_static_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a body_part to an hp_part.  <a href="classCharacter.html#ac7fec168bf9799a6e175ac36a87bcd06">More...</a><br /></td></tr>
<tr class="separator:ac7fec168bf9799a6e175ac36a87bcd06 inherit pub_static_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af781804624ab031f0016b970b4fa8007 inherit pub_static_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af781804624ab031f0016b970b4fa8007">hp_to_bp</a> (<a class="el" href="pldata_8h.html#a51c99b582921c7fe956e6cb62a7b8fe0">hp_part</a> hpart)</td></tr>
<tr class="memdesc:af781804624ab031f0016b970b4fa8007 inherit pub_static_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an hp_part to a body_part.  <a href="classCharacter.html#af781804624ab031f0016b970b4fa8007">More...</a><br /></td></tr>
<tr class="separator:af781804624ab031f0016b970b4fa8007 inherit pub_static_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a551a7515cd7bf17ebae122cc816cf66f inherit pub_static_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a551a7515cd7bf17ebae122cc816cf66f">worn_position_to_index</a> (int <a class="el" href="classCharacter.html#a637149a8ac278a0533a6bb36f31e947e">position</a>)</td></tr>
<tr class="separator:a551a7515cd7bf17ebae122cc816cf66f inherit pub_static_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb6446be04f6d2ba052ad637e27432c7 inherit pub_static_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#acb6446be04f6d2ba052ad637e27432c7">floor_bedding_warmth</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;<a class="el" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>)</td></tr>
<tr class="memdesc:acb6446be04f6d2ba052ad637e27432c7 inherit pub_static_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Warmth from terrain, furniture, vehicle furniture and traps.  <a href="classCharacter.html#acb6446be04f6d2ba052ad637e27432c7">More...</a><br /></td></tr>
<tr class="separator:acb6446be04f6d2ba052ad637e27432c7 inherit pub_static_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6030e0538ed752d947d9d65d076f3d9c inherit pub_static_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6030e0538ed752d947d9d65d076f3d9c">floor_item_warmth</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;<a class="el" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>)</td></tr>
<tr class="memdesc:a6030e0538ed752d947d9d65d076f3d9c inherit pub_static_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Warmth from clothing on the floor.  <a href="classCharacter.html#a6030e0538ed752d947d9d65d076f3d9c">More...</a><br /></td></tr>
<tr class="separator:a6030e0538ed752d947d9d65d076f3d9c inherit pub_static_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classCreature"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classCreature')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classCreature.html">Creature</a></td></tr>
<tr class="memitem:ad628fd3820652dc675e2165d3252e6dc inherit pub_static_methods_classCreature"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ad628fd3820652dc675e2165d3252e6dc">attitude_raw_string</a> (<a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217">Attitude</a> att)</td></tr>
<tr class="memdesc:ad628fd3820652dc675e2165d3252e6dc inherit pub_static_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simplified attitude string for unlocalized needs.  <a href="classCreature.html#ad628fd3820652dc675e2165d3252e6dc">More...</a><br /></td></tr>
<tr class="separator:ad628fd3820652dc675e2165d3252e6dc inherit pub_static_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a025b4f9c24e557111c1501d2d7aaccef inherit pub_static_methods_classCreature"><td class="memItemLeft" align="right" valign="top">static const std::pair&lt; <a class="el" href="classtranslation.html">translation</a>, <a class="el" href="classnc__color.html">nc_color</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a025b4f9c24e557111c1501d2d7aaccef">get_attitude_ui_data</a> (<a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217">Attitude</a> att)</td></tr>
<tr class="memdesc:a025b4f9c24e557111c1501d2d7aaccef inherit pub_static_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classCreature.html">Creature</a> Attitude as String and color.  <a href="classCreature.html#a025b4f9c24e557111c1501d2d7aaccef">More...</a><br /></td></tr>
<tr class="separator:a025b4f9c24e557111c1501d2d7aaccef inherit pub_static_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d0965e36bf4e849645d2d24c87cd5f0 inherit pub_static_methods_classCreature"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a1d0965e36bf4e849645d2d24c87cd5f0">load_hit_range</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;)</td></tr>
<tr class="separator:a1d0965e36bf4e849645d2d24c87cd5f0 inherit pub_static_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bf8de6374564ea2a011d1235acb44a1 inherit pub_static_methods_classCreature"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a3bf8de6374564ea2a011d1235acb44a1">reset_hit_range</a> ()</td></tr>
<tr class="separator:a3bf8de6374564ea2a011d1235acb44a1 inherit pub_static_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a625b6dd5247589902251e845d07a2154"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtripoint.html">tripoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a625b6dd5247589902251e845d07a2154">view_offset</a></td></tr>
<tr class="separator:a625b6dd5247589902251e845d07a2154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1888b03b4841e39fbd3633b95dfe81de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtripoint.html">tripoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a1888b03b4841e39fbd3633b95dfe81de">grab_point</a></td></tr>
<tr class="separator:a1888b03b4841e39fbd3633b95dfe81de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20589432777baec94c204b4f5efbfcfb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a20589432777baec94c204b4f5efbfcfb">volume</a> = 0</td></tr>
<tr class="separator:a20589432777baec94c204b4f5efbfcfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bf3ea246ca971ed56f87e3b75253e57"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classprofession.html">profession</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a5bf3ea246ca971ed56f87e3b75253e57">prof</a> = nullptr</td></tr>
<tr class="separator:a5bf3ea246ca971ed56f87e3b75253e57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a319483384bba2d004e1bb7b9a01985cb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a319483384bba2d004e1bb7b9a01985cb">random_start_location</a> = false</td></tr>
<tr class="separator:a319483384bba2d004e1bb7b9a01985cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef3733747407c83ffaa0b568c95a5644"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a99f94880c7460be6d61e94749dcaab2d">start_location_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#aef3733747407c83ffaa0b568c95a5644">start_location</a></td></tr>
<tr class="separator:aef3733747407c83ffaa0b568c95a5644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab679d40f5584e38a6af33bcd7e3c102d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory__fast_8h.html#ab8afe5baa726add2054cce385cad8855">weak_ptr_fast</a>&lt; <a class="el" href="classCreature.html">Creature</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ab679d40f5584e38a6af33bcd7e3c102d">last_target</a></td></tr>
<tr class="separator:ab679d40f5584e38a6af33bcd7e3c102d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aac4afb832dc4762430b0b3545cbfea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a9aac4afb832dc4762430b0b3545cbfea">last_target_pos</a></td></tr>
<tr class="separator:a9aac4afb832dc4762430b0b3545cbfea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f1ee4ce958fda62c4766dd8762529c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem__location.html">item_location</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a5f1ee4ce958fda62c4766dd8762529c2">ammo_location</a></td></tr>
<tr class="separator:a5f1ee4ce958fda62c4766dd8762529c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76eb82fb9b97610362c542a79393995b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a76eb82fb9b97610362c542a79393995b">scent</a> = 0</td></tr>
<tr class="separator:a76eb82fb9b97610362c542a79393995b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38b455927fe69f32a4a0f9a4fba7cc0f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a38b455927fe69f32a4a0f9a4fba7cc0f">cash</a> = 0</td></tr>
<tr class="separator:a38b455927fe69f32a4a0f9a4fba7cc0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac29e9e4642520f72b174a77e142d9bfb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ac29e9e4642520f72b174a77e142d9bfb">movecounter</a> = 0</td></tr>
<tr class="separator:ac29e9e4642520f72b174a77e142d9bfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a473d0cec0851e4e60ce5f93ed24895b8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a473d0cec0851e4e60ce5f93ed24895b8">manual_examine</a> = false</td></tr>
<tr class="separator:a473d0cec0851e4e60ce5f93ed24895b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5337a4253f6cea77f3d15bfe4f7f3f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a64efc8ab51816a59711440d464136eda">vproto_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#aa5337a4253f6cea77f3d15bfe4f7f3f8">starting_vehicle</a></td></tr>
<tr class="separator:aa5337a4253f6cea77f3d15bfe4f7f3f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcf1ae5bd35fac62f911dc5c4f752e50"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#adcf1ae5bd35fac62f911dc5c4f752e50">starting_pets</a></td></tr>
<tr class="separator:adcf1ae5bd35fac62f911dc5c4f752e50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a771107232106a2afa16d80907365ef1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpimpl.html">pimpl</a>&lt; <a class="el" href="classcraft__command.html">craft_command</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a771107232106a2afa16d80907365ef1f">last_craft</a></td></tr>
<tr class="separator:a771107232106a2afa16d80907365ef1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58c783354e25fb7e52ceaedef7114c8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a58c783354e25fb7e52ceaedef7114c8d">lastrecipe</a></td></tr>
<tr class="separator:a58c783354e25fb7e52ceaedef7114c8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01a997f2f36602a5adff48c8df16a357"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a01a997f2f36602a5adff48c8df16a357">last_batch</a> = 0</td></tr>
<tr class="separator:a01a997f2f36602a5adff48c8df16a357"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5812ab4dd02135ef80a99a81fc5b64d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#af5812ab4dd02135ef80a99a81fc5b64d">lastconsumed</a></td></tr>
<tr class="separator:af5812ab4dd02135ef80a99a81fc5b64d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad17195b9d0af08f6bdf9894b1ebeb8f6"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="classcharacter__id.html">character_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ad17195b9d0af08f6bdf9894b1ebeb8f6">follower_ids</a></td></tr>
<tr class="separator:ad17195b9d0af08f6bdf9894b1ebeb8f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classCharacter"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classCharacter')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classCharacter.html">Character</a></td></tr>
<tr class="memitem:a5d43fb07ffd55e767827f1a7a21ed856 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5d43fb07ffd55e767827f1a7a21ed856">death_drops</a> = true</td></tr>
<tr class="separator:a5d43fb07ffd55e767827f1a7a21ed856 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0701e6a3f1987d9fa3f76b450dd5624a inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0701e6a3f1987d9fa3f76b450dd5624a">controlling_vehicle</a> = false</td></tr>
<tr class="separator:a0701e6a3f1987d9fa3f76b450dd5624a inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bbd9aa7982f98e08f67db130e4eb9f8 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0bbd9aa7982f98e08f67db130e4eb9f8">str_max</a> = 0</td></tr>
<tr class="separator:a0bbd9aa7982f98e08f67db130e4eb9f8 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4ce8cb45c93fcafc3f4ba489e63a4c2 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae4ce8cb45c93fcafc3f4ba489e63a4c2">dex_max</a> = 0</td></tr>
<tr class="separator:ae4ce8cb45c93fcafc3f4ba489e63a4c2 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c3a6b61668d4d7d771441e50095c544 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9c3a6b61668d4d7d771441e50095c544">int_max</a> = 0</td></tr>
<tr class="separator:a9c3a6b61668d4d7d771441e50095c544 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b20f9ae261b906ead741771a8a48311 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4b20f9ae261b906ead741771a8a48311">per_max</a> = 0</td></tr>
<tr class="separator:a4b20f9ae261b906ead741771a8a48311 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26369a0a81eef76cfe75214d22ed32b4 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a26369a0a81eef76cfe75214d22ed32b4">str_cur</a> = 0</td></tr>
<tr class="separator:a26369a0a81eef76cfe75214d22ed32b4 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4065ac02745befad248425d307b71849 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4065ac02745befad248425d307b71849">dex_cur</a> = 0</td></tr>
<tr class="separator:a4065ac02745befad248425d307b71849 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a994c83d61054215e81a6e87478d81203 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a994c83d61054215e81a6e87478d81203">int_cur</a> = 0</td></tr>
<tr class="separator:a994c83d61054215e81a6e87478d81203 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8a2bb942a756787aced3b83319176ff inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad8a2bb942a756787aced3b83319176ff">per_cur</a> = 0</td></tr>
<tr class="separator:ad8a2bb942a756787aced3b83319176ff inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29692fe7943db102dcf564a8966782c6 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a29692fe7943db102dcf564a8966782c6">blocks_left</a> = 0</td></tr>
<tr class="separator:a29692fe7943db102dcf564a8966782c6 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d450cd31d2779dd654ba6589f09c98b inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5d450cd31d2779dd654ba6589f09c98b">dodges_left</a> = 0</td></tr>
<tr class="separator:a5d450cd31d2779dd654ba6589f09c98b inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a057d68671b298012a18f4e289b39935d inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> = <a class="el" href="game__constants_8h.html#a8226e8a134603e5bc06df05efd13d8d1">MAX_RECOIL</a></td></tr>
<tr class="separator:a057d68671b298012a18f4e289b39935d inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79882594452430db545255b936e220a7 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a79882594452430db545255b936e220a7">custom_profession</a></td></tr>
<tr class="separator:a79882594452430db545255b936e220a7 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d59fdf358ea2ff9098b2f667b1f024 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a91d59fdf358ea2ff9098b2f667b1f024">reach_attacking</a> = false</td></tr>
<tr class="separator:a91d59fdf358ea2ff9098b2f667b1f024 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf9fb0e53589386ea19d64a377ad6247 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#abf9fb0e53589386ea19d64a377ad6247">omt_path</a></td></tr>
<tr class="separator:abf9fb0e53589386ea19d64a377ad6247 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2ff32cce5f17bcf04be958121abe524 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpimpl.html">pimpl</a>&lt; <a class="el" href="classknown__magic.html">known_magic</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af2ff32cce5f17bcf04be958121abe524">magic</a></td></tr>
<tr class="separator:af2ff32cce5f17bcf04be958121abe524 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6592c35167738421f3e04ca8808d37db inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a></td></tr>
<tr class="separator:a6592c35167738421f3e04ca8808d37db inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e6a78e6c4497a9aa7b8cc127dcdd4e3 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8e6a78e6c4497a9aa7b8cc127dcdd4e3">male</a> = true</td></tr>
<tr class="separator:a8e6a78e6c4497a9aa7b8cc127dcdd4e3 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c3defc0d53472077cb7577b30b1605f inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a></td></tr>
<tr class="separator:a4c3defc0d53472077cb7577b30b1605f inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88578f080f1a6ae7c1ea4a058f1a911a inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::array&lt; int, <a class="el" href="pldata_8h.html#a51c99b582921c7fe956e6cb62a7b8fe0ad276871b7d0cc8a7678aae85a07a5cc6">num_hp_parts</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a88578f080f1a6ae7c1ea4a058f1a911a">damage_bandaged</a></td></tr>
<tr class="separator:a88578f080f1a6ae7c1ea4a058f1a911a inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd6f62953be83e3bd242aa1a134a03c7 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::array&lt; int, <a class="el" href="pldata_8h.html#a51c99b582921c7fe956e6cb62a7b8fe0ad276871b7d0cc8a7678aae85a07a5cc6">num_hp_parts</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#afd6f62953be83e3bd242aa1a134a03c7">damage_disinfected</a></td></tr>
<tr class="separator:afd6f62953be83e3bd242aa1a134a03c7 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7ec444ce33b8a774dad1a23857078c1 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af7ec444ce33b8a774dad1a23857078c1">nv_cached</a> = false</td></tr>
<tr class="separator:af7ec444ce33b8a774dad1a23857078c1 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61bc9422c35b63128532af268e52cb71 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a61bc9422c35b63128532af268e52cb71">in_vehicle</a> = false</td></tr>
<tr class="separator:a61bc9422c35b63128532af268e52cb71 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4635ee40a3d97353c7a76ef5e71ad283 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4635ee40a3d97353c7a76ef5e71ad283">hauling</a> = false</td></tr>
<tr class="separator:a4635ee40a3d97353c7a76ef5e71ad283 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a627efb4b335701d28fbb9c25a2618092 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classplayer__activity.html">player_activity</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a627efb4b335701d28fbb9c25a2618092">stashed_outbounds_activity</a></td></tr>
<tr class="separator:a627efb4b335701d28fbb9c25a2618092 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a176d5c713f07aa839b240cc8c46159a7 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classplayer__activity.html">player_activity</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a176d5c713f07aa839b240cc8c46159a7">stashed_outbounds_backlog</a></td></tr>
<tr class="separator:a176d5c713f07aa839b240cc8c46159a7 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20839520f569c4f05876a55e89f67361 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classplayer__activity.html">player_activity</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a></td></tr>
<tr class="separator:a20839520f569c4f05876a55e89f67361 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2f8dc354e09863a8d257b353a749caa inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classplayer__activity.html">player_activity</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad2f8dc354e09863a8d257b353a749caa">backlog</a></td></tr>
<tr class="separator:ad2f8dc354e09863a8d257b353a749caa inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c397a21d94e276f4eb523bcf4a9e808 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0c397a21d94e276f4eb523bcf4a9e808">destination_point</a></td></tr>
<tr class="separator:a0c397a21d94e276f4eb523bcf4a9e808 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d69eddc0a03b21378fc68cc08d32c7f inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a></td></tr>
<tr class="separator:a3d69eddc0a03b21378fc68cc08d32c7f inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1819679d2d4e9f8ba5d62ae26737f34c inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1819679d2d4e9f8ba5d62ae26737f34c">last_item</a></td></tr>
<tr class="separator:a1819679d2d4e9f8ba5d62ae26737f34c inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae68b7a6565646ba662e448bded8b6599 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a></td></tr>
<tr class="separator:ae68b7a6565646ba662e448bded8b6599 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07a1287f3b7098fec575b96ca32ffee9 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a07a1287f3b7098fec575b96ca32ffee9">scent</a> = 0</td></tr>
<tr class="separator:a07a1287f3b7098fec575b96ca32ffee9 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a388bca3ef975bd265c67df45bb280bee inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpimpl.html">pimpl</a>&lt; <a class="el" href="classbionic__collection.html">bionic_collection</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a388bca3ef975bd265c67df45bb280bee">my_bionics</a></td></tr>
<tr class="separator:a388bca3ef975bd265c67df45bb280bee inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a313797e99525bfd2a5ead68b7672f168 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpimpl.html">pimpl</a>&lt; <a class="el" href="classcharacter__martial__arts.html">character_martial_arts</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a313797e99525bfd2a5ead68b7672f168">martial_arts_data</a></td></tr>
<tr class="separator:a313797e99525bfd2a5ead68b7672f168 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4ecfee35839a07be48afccbe582023e inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstomach__contents.html">stomach_contents</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa4ecfee35839a07be48afccbe582023e">stomach</a></td></tr>
<tr class="separator:aa4ecfee35839a07be48afccbe582023e inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10008df58d7e74a17110f62d2c45d22b inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="structconsumption__event.html">consumption_event</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a10008df58d7e74a17110f62d2c45d22b">consumption_history</a></td></tr>
<tr class="separator:a10008df58d7e74a17110f62d2c45d22b inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a865e5eb770c71b3bd4ec4a05235cd3b6 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a865e5eb770c71b3bd4ec4a05235cd3b6">oxygen</a> = 0</td></tr>
<tr class="separator:a865e5eb770c71b3bd4ec4a05235cd3b6 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade57fb8b6f705040f097ff6419d8c9d7 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ade57fb8b6f705040f097ff6419d8c9d7">tank_plut</a> = 0</td></tr>
<tr class="separator:ade57fb8b6f705040f097ff6419d8c9d7 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c4f44ebcb052bfb5ee707a3c757c6e3 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9c4f44ebcb052bfb5ee707a3c757c6e3">reactor_plut</a> = 0</td></tr>
<tr class="separator:a9c4f44ebcb052bfb5ee707a3c757c6e3 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1c06ca8134b6e7e1b5818c11eb8284d inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad1c06ca8134b6e7e1b5818c11eb8284d">slow_rad</a> = 0</td></tr>
<tr class="separator:ad1c06ca8134b6e7e1b5818c11eb8284d inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a22be593582c9aef166a12777bb79a8 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1a22be593582c9aef166a12777bb79a8">focus_pool</a> = 0</td></tr>
<tr class="separator:a1a22be593582c9aef166a12777bb79a8 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17213386e132fbde5ce772f04e22f5ba inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a17213386e132fbde5ce772f04e22f5ba">cash</a> = 0</td></tr>
<tr class="separator:a17213386e132fbde5ce772f04e22f5ba inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1d2895e6043dc077753f201d09b18ce inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="classcharacter__id.html">character_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac1d2895e6043dc077753f201d09b18ce">follower_ids</a></td></tr>
<tr class="separator:ac1d2895e6043dc077753f201d09b18ce inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15520bb61b6da84f9bd753fa43dcbabc inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory__fast_8h.html#ab8afe5baa726add2054cce385cad8855">weak_ptr_fast</a>&lt; <a class="el" href="classCreature.html">Creature</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a15520bb61b6da84f9bd753fa43dcbabc">last_target</a></td></tr>
<tr class="separator:a15520bb61b6da84f9bd753fa43dcbabc inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28f4a2b1208f0c1f0c87ee5a98fd1c99 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a28f4a2b1208f0c1f0c87ee5a98fd1c99">last_target_pos</a></td></tr>
<tr class="separator:a28f4a2b1208f0c1f0c87ee5a98fd1c99 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6003884671030e9d65a8463342764327 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem__location.html">item_location</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6003884671030e9d65a8463342764327">ammo_location</a></td></tr>
<tr class="separator:a6003884671030e9d65a8463342764327 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aa50df39ac7262f946b9d2a4d152e31 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2aa50df39ac7262f946b9d2a4d152e31">camps</a></td></tr>
<tr class="separator:a2aa50df39ac7262f946b9d2a4d152e31 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a776d70ec2ffb6ceb21164d8ee8ce4a9b inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a776d70ec2ffb6ceb21164d8ee8ce4a9b">cached_time</a></td></tr>
<tr class="separator:a776d70ec2ffb6ceb21164d8ee8ce4a9b inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86ad83bf21de1c90b69ad5188d03e59c inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classaddiction.html">addiction</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a86ad83bf21de1c90b69ad5188d03e59c">addictions</a></td></tr>
<tr class="separator:a86ad83bf21de1c90b69ad5188d03e59c inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3d46549b7cdaac1f98991167ad5f1b3 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast</a>&lt; <a class="el" href="classmonster.html">monster</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac3d46549b7cdaac1f98991167ad5f1b3">mounted_creature</a></td></tr>
<tr class="separator:ac3d46549b7cdaac1f98991167ad5f1b3 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1254e4bc51e7bb6fd96aa7bc74880c6 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ad1254e4bc51e7bb6fd96aa7bc74880c6">mounted_creature_id</a> = 0</td></tr>
<tr class="separator:ad1254e4bc51e7bb6fd96aa7bc74880c6 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4052e65bf4b774aaa9ce459719fa0c82 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4052e65bf4b774aaa9ce459719fa0c82">activity_vehicle_part_index</a> = -1</td></tr>
<tr class="separator:a4052e65bf4b774aaa9ce459719fa0c82 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac21b11c89a40689012d3ee59c56b037c inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::array&lt; int, <a class="el" href="pldata_8h.html#a51c99b582921c7fe956e6cb62a7b8fe0ad276871b7d0cc8a7678aae85a07a5cc6">num_hp_parts</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac21b11c89a40689012d3ee59c56b037c">healed_total</a></td></tr>
<tr class="separator:ac21b11c89a40689012d3ee59c56b037c inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1a5539eaced527b8c2b1dc36527dbec inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af1a5539eaced527b8c2b1dc36527dbec">mutation_category_level</a></td></tr>
<tr class="separator:af1a5539eaced527b8c2b1dc36527dbec inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8947df053065c19ec265278dcb8ed6c inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::array&lt; int, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab8947df053065c19ec265278dcb8ed6c">temp_cur</a></td></tr>
<tr class="separator:ab8947df053065c19ec265278dcb8ed6c inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c1bdc8e704d2c265d33dd35c3ab3e3a inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::array&lt; int, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0c1bdc8e704d2c265d33dd35c3ab3e3a">frostbite_timer</a></td></tr>
<tr class="separator:a0c1bdc8e704d2c265d33dd35c3ab3e3a inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a450ed42503c02c36c04faa550a5b8f70 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::array&lt; int, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a450ed42503c02c36c04faa550a5b8f70">temp_conv</a></td></tr>
<tr class="separator:a450ed42503c02c36c04faa550a5b8f70 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66520fe7648d455282596ead87701655 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::array&lt; int, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a66520fe7648d455282596ead87701655">body_wetness</a></td></tr>
<tr class="separator:a66520fe7648d455282596ead87701655 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7700517fb07e9155e559b3c2e427a65 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::array&lt; int, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab7700517fb07e9155e559b3c2e427a65">drench_capacity</a></td></tr>
<tr class="separator:ab7700517fb07e9155e559b3c2e427a65 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e0369858888acaaf72f9775363d4c80 inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a6e0369858888acaaf72f9775363d4c80">next_climate_control_check</a></td></tr>
<tr class="separator:a6e0369858888acaaf72f9775363d4c80 inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01f7c1192555be1ab5da42eac485989c inherit pub_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a01f7c1192555be1ab5da42eac485989c">last_climate_control_ret</a> = false</td></tr>
<tr class="separator:a01f7c1192555be1ab5da42eac485989c inherit pub_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classCreature"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classCreature')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classCreature.html">Creature</a></td></tr>
<tr class="memitem:a21b8fbeb525a28615eec6a6c22beff44 inherit pub_attribs_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="creature_8h.html#ad75f2d1f6565bcf922f3f2ddab4c6b11">FacingDirection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a21b8fbeb525a28615eec6a6c22beff44">facing</a> = <a class="el" href="creature_8h.html#ad75f2d1f6565bcf922f3f2ddab4c6b11a86dc1254b0f072b9cb90b4cf14cb2917">FD_RIGHT</a></td></tr>
<tr class="memdesc:a21b8fbeb525a28615eec6a6c22beff44 inherit pub_attribs_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the direction the creature is facing, for sdl horizontal flip  <a href="classCreature.html#a21b8fbeb525a28615eec6a6c22beff44">More...</a><br /></td></tr>
<tr class="separator:a21b8fbeb525a28615eec6a6c22beff44 inherit pub_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c5a392caa213bee9581b47e9f0e2052 inherit pub_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 0</td></tr>
<tr class="separator:a8c5a392caa213bee9581b47e9f0e2052 inherit pub_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a561860988a2692df47476d9a15511e inherit pub_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a> = false</td></tr>
<tr class="separator:a0a561860988a2692df47476d9a15511e inherit pub_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a430f9d3b1dd617e32824ac1eea65b258"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a430f9d3b1dd617e32824ac1eea65b258">store</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;json) const</td></tr>
<tr class="memdesc:a430f9d3b1dd617e32824ac1eea65b258"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gather variables for saving.  <a href="classplayer.html#a430f9d3b1dd617e32824ac1eea65b258">More...</a><br /></td></tr>
<tr class="separator:a430f9d3b1dd617e32824ac1eea65b258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f8e0a158be5658ce435a796494c9ad7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a4f8e0a158be5658ce435a796494c9ad7">load</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;data)</td></tr>
<tr class="memdesc:a4f8e0a158be5658ce435a796494c9ad7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load variables from json into object.  <a href="classplayer.html#a4f8e0a158be5658ce435a796494c9ad7">More...</a><br /></td></tr>
<tr class="separator:a4f8e0a158be5658ce435a796494c9ad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68503248e87087f09489e2b36f4753ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a68503248e87087f09489e2b36f4753ec">process_one_effect</a> (<a class="el" href="classeffect.html">effect</a> &amp;it, bool is_new) override</td></tr>
<tr class="memdesc:a68503248e87087f09489e2b36f4753ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes human-specific effects of an effect.  <a href="classplayer.html#a68503248e87087f09489e2b36f4753ec">More...</a><br /></td></tr>
<tr class="separator:a68503248e87087f09489e2b36f4753ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classCharacter"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classCharacter')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classCharacter.html">Character</a></td></tr>
<tr class="memitem:a4e8716e54043dc4adb51bc8bd2832580 inherit pro_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4e8716e54043dc4adb51bc8bd2832580">do_skill_rust</a> ()</td></tr>
<tr class="separator:a4e8716e54043dc4adb51bc8bd2832580 inherit pro_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af707eb05a485784301afb7339f64999e inherit pro_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af707eb05a485784301afb7339f64999e">apply_mods</a> (const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;mut, bool add_remove)</td></tr>
<tr class="memdesc:af707eb05a485784301afb7339f64999e inherit pro_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies stat mods to character.  <a href="classCharacter.html#af707eb05a485784301afb7339f64999e">More...</a><br /></td></tr>
<tr class="separator:af707eb05a485784301afb7339f64999e inherit pro_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd4e5995e29fca2898fd9154ad3208a4 inherit pro_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::array&lt; <a class="el" href="structencumbrance__data.html">encumbrance_data</a>, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#acd4e5995e29fca2898fd9154ad3208a4">calc_encumbrance</a> () const</td></tr>
<tr class="memdesc:acd4e5995e29fca2898fd9154ad3208a4 inherit pro_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculate encumbrance for all body parts.  <a href="classCharacter.html#acd4e5995e29fca2898fd9154ad3208a4">More...</a><br /></td></tr>
<tr class="separator:acd4e5995e29fca2898fd9154ad3208a4 inherit pro_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8587b0bcc978dadb10feb560aa1fa052 inherit pro_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::array&lt; <a class="el" href="structencumbrance__data.html">encumbrance_data</a>, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8587b0bcc978dadb10feb560aa1fa052">calc_encumbrance</a> (const <a class="el" href="classitem.html">item</a> &amp;new_item) const</td></tr>
<tr class="memdesc:a8587b0bcc978dadb10feb560aa1fa052 inherit pro_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculate encumbrance for all body parts as if <code>new_item</code> was also worn.  <a href="classCharacter.html#a8587b0bcc978dadb10feb560aa1fa052">More...</a><br /></td></tr>
<tr class="separator:a8587b0bcc978dadb10feb560aa1fa052 inherit pro_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca6d0cd194e8e94ec2bb9f573c1dd0c7 inherit pro_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aca6d0cd194e8e94ec2bb9f573c1dd0c7">mut_cbm_encumb</a> (std::array&lt; <a class="el" href="structencumbrance__data.html">encumbrance_data</a>, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> &gt; &amp;vals) const</td></tr>
<tr class="memdesc:aca6d0cd194e8e94ec2bb9f573c1dd0c7 inherit pro_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies encumbrance from mutations and bionics only.  <a href="classCharacter.html#aca6d0cd194e8e94ec2bb9f573c1dd0c7">More...</a><br /></td></tr>
<tr class="separator:aca6d0cd194e8e94ec2bb9f573c1dd0c7 inherit pro_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0988bb26730067b66545f5919a418d78 inherit pro_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0988bb26730067b66545f5919a418d78">position_to_wear_new_item</a> (const <a class="el" href="classitem.html">item</a> &amp;new_item)</td></tr>
<tr class="memdesc:a0988bb26730067b66545f5919a418d78 inherit pro_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the position in the worn list where new_item would be put by default.  <a href="classCharacter.html#a0988bb26730067b66545f5919a418d78">More...</a><br /></td></tr>
<tr class="separator:a0988bb26730067b66545f5919a418d78 inherit pro_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0402b1eeb288ec96db61403c96a3d1b3 inherit pro_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a0402b1eeb288ec96db61403c96a3d1b3">item_encumb</a> (std::array&lt; <a class="el" href="structencumbrance__data.html">encumbrance_data</a>, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> &gt; &amp;vals, const <a class="el" href="classitem.html">item</a> &amp;new_item) const</td></tr>
<tr class="memdesc:a0402b1eeb288ec96db61403c96a3d1b3 inherit pro_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies encumbrance from items only If new_item is not null, then calculate under the asumption that it is added to existing work items.  <a href="classCharacter.html#a0402b1eeb288ec96db61403c96a3d1b3">More...</a><br /></td></tr>
<tr class="separator:a0402b1eeb288ec96db61403c96a3d1b3 inherit pro_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a815cfb392707c209457bb3b432ffd94f inherit pro_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a815cfb392707c209457bb3b432ffd94f">on_damage_of_type</a> (int adjusted_damage, <a class="el" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7a">damage_type</a> <a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, const <a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a> &amp;bp) override</td></tr>
<tr class="separator:a815cfb392707c209457bb3b432ffd94f inherit pro_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc27bdd255876169bad2ed0bae0cffb5 inherit pro_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#adc27bdd255876169bad2ed0bae0cffb5">Character</a> ()</td></tr>
<tr class="separator:adc27bdd255876169bad2ed0bae0cffb5 inherit pro_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4f79aa8b39826e0d6336d66954e8f7d inherit pro_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac4f79aa8b39826e0d6336d66954e8f7d">Character</a> (<a class="el" href="classCharacter.html">Character</a> &amp;&amp;)</td></tr>
<tr class="separator:ac4f79aa8b39826e0d6336d66954e8f7d inherit pro_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b54aa38121702cb0c90ed142ad096e inherit pro_methods_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a78b54aa38121702cb0c90ed142ad096e">operator=</a> (<a class="el" href="classCharacter.html">Character</a> &amp;&amp;)</td></tr>
<tr class="separator:a78b54aa38121702cb0c90ed142ad096e inherit pro_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac41a59a1ff1d8efa22a615a5432a6243 inherit pro_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ac41a59a1ff1d8efa22a615a5432a6243">store</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;json) const</td></tr>
<tr class="memdesc:ac41a59a1ff1d8efa22a615a5432a6243 inherit pro_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load variables from json into object.  <a href="classCharacter.html#ac41a59a1ff1d8efa22a615a5432a6243">More...</a><br /></td></tr>
<tr class="separator:ac41a59a1ff1d8efa22a615a5432a6243 inherit pro_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68afc75b1832887874147a352a02c5b2 inherit pro_methods_classCharacter"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a68afc75b1832887874147a352a02c5b2">load</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;data)</td></tr>
<tr class="memdesc:a68afc75b1832887874147a352a02c5b2 inherit pro_methods_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gather variables for saving.  <a href="classCharacter.html#a68afc75b1832887874147a352a02c5b2">More...</a><br /></td></tr>
<tr class="separator:a68afc75b1832887874147a352a02c5b2 inherit pro_methods_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classCreature"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classCreature')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classCreature.html">Creature</a></td></tr>
<tr class="memitem:ad88ff594784edeceaef456d2a08180bc inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ad88ff594784edeceaef456d2a08180bc">set_killer</a> (<a class="el" href="classCreature.html">Creature</a> *<a class="el" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a>)</td></tr>
<tr class="separator:ad88ff594784edeceaef456d2a08180bc inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a597cc3b08ee17de46c3e7ec3cf0d9b58 inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a597cc3b08ee17de46c3e7ec3cf0d9b58">Creature</a> ()</td></tr>
<tr class="separator:a597cc3b08ee17de46c3e7ec3cf0d9b58 inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e8ff738c9a91dda40e8a41954294ca6 inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a6e8ff738c9a91dda40e8a41954294ca6">Creature</a> (const <a class="el" href="classCreature.html">Creature</a> &amp;)=default</td></tr>
<tr class="separator:a6e8ff738c9a91dda40e8a41954294ca6 inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dd0711dc5447a9d951ed9e786b73ae4 inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a9dd0711dc5447a9d951ed9e786b73ae4">Creature</a> (<a class="el" href="classCreature.html">Creature</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a9dd0711dc5447a9d951ed9e786b73ae4 inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82696690eef54d4fb9f4934c8ac1c918 inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a82696690eef54d4fb9f4934c8ac1c918">operator=</a> (const <a class="el" href="classCreature.html">Creature</a> &amp;)=default</td></tr>
<tr class="separator:a82696690eef54d4fb9f4934c8ac1c918 inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2caa222943d79d31247181a8ce56894a inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a2caa222943d79d31247181a8ce56894a">operator=</a> (<a class="el" href="classCreature.html">Creature</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a2caa222943d79d31247181a8ce56894a inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad45b0367bbda008f053447862966d88 inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aad45b0367bbda008f053447862966d88">store</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;jsout) const</td></tr>
<tr class="memdesc:aad45b0367bbda008f053447862966d88 inherit pro_methods_classCreature"><td class="mdescLeft">&#160;</td><td class="mdescRight">These two functions are responsible for storing and loading the members of this class to/from json data.  <a href="classCreature.html#aad45b0367bbda008f053447862966d88">More...</a><br /></td></tr>
<tr class="separator:aad45b0367bbda008f053447862966d88 inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f3c56033514a451ed173180037ff5c7 inherit pro_methods_classCreature"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a7f3c56033514a451ed173180037ff5c7">load</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jsin)</td></tr>
<tr class="separator:a7f3c56033514a451ed173180037ff5c7 inherit pro_methods_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ae02e3074363fa28982a0f7e08f4cc8ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpimpl.html">pimpl</a>&lt; <a class="el" href="classrecipe__subset.html">recipe_subset</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ae02e3074363fa28982a0f7e08f4cc8ad">learned_recipes</a></td></tr>
<tr class="memdesc:ae02e3074363fa28982a0f7e08f4cc8ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subset of learned recipes.  <a href="classplayer.html#ae02e3074363fa28982a0f7e08f4cc8ad">More...</a><br /></td></tr>
<tr class="separator:ae02e3074363fa28982a0f7e08f4cc8ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3cfe44b653e65db3aac5bd4e309164c"><td class="memItemLeft" align="right" valign="top">decltype(<a class="el" href="classCharacter.html#a173170e7cdceddff68d980d8ced2c6f8">_skills</a>)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ad3cfe44b653e65db3aac5bd4e309164c">valid_autolearn_skills</a></td></tr>
<tr class="memdesc:ad3cfe44b653e65db3aac5bd4e309164c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stamp of skills.  <a href="classplayer.html#ad3cfe44b653e65db3aac5bd4e309164c">More...</a><br /></td></tr>
<tr class="separator:ad3cfe44b653e65db3aac5bd4e309164c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classCharacter"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classCharacter')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classCharacter.html">Character</a></td></tr>
<tr class="memitem:a67aec5293caf13e4468c805653935e46 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::array&lt; std::array&lt; int, <a class="el" href="classCharacter.html#ab2bf8c77dc319ad40bf1d90facd66f11af6a8ff3820ca627d6414fe3377a8518b">NUM_WATER_TOLERANCE</a> &gt;, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a67aec5293caf13e4468c805653935e46">mut_drench</a></td></tr>
<tr class="separator:a67aec5293caf13e4468c805653935e46 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a637149a8ac278a0533a6bb36f31e947e inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtripoint.html">tripoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a637149a8ac278a0533a6bb36f31e947e">position</a></td></tr>
<tr class="separator:a637149a8ac278a0533a6bb36f31e947e inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e3141c936b430e7943808f10c124be8 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2e3141c936b430e7943808f10c124be8">str_bonus</a> = 0</td></tr>
<tr class="memdesc:a2e3141c936b430e7943808f10c124be8 inherit pro_attribs_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bonuses to stats, calculated each turn.  <a href="classCharacter.html#a2e3141c936b430e7943808f10c124be8">More...</a><br /></td></tr>
<tr class="separator:a2e3141c936b430e7943808f10c124be8 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f1290f5b9ea3487df65c013baacf3a8 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a7f1290f5b9ea3487df65c013baacf3a8">dex_bonus</a> = 0</td></tr>
<tr class="separator:a7f1290f5b9ea3487df65c013baacf3a8 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76004e858bb6f489d06a624951c2cce3 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a76004e858bb6f489d06a624951c2cce3">per_bonus</a> = 0</td></tr>
<tr class="separator:a76004e858bb6f489d06a624951c2cce3 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af81940cd2d4c284f5da8d5af74671557 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af81940cd2d4c284f5da8d5af74671557">int_bonus</a> = 0</td></tr>
<tr class="separator:af81940cd2d4c284f5da8d5af74671557 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91361f65a490ffbdfe07231f5a343a28 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a91361f65a490ffbdfe07231f5a343a28">healthy</a> = 0</td></tr>
<tr class="memdesc:a91361f65a490ffbdfe07231f5a343a28 inherit pro_attribs_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">How healthy the character is.  <a href="classCharacter.html#a91361f65a490ffbdfe07231f5a343a28">More...</a><br /></td></tr>
<tr class="separator:a91361f65a490ffbdfe07231f5a343a28 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0c34fc685e245ec1194b7c0a4212605 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae0c34fc685e245ec1194b7c0a4212605">healthy_mod</a> = 0</td></tr>
<tr class="separator:ae0c34fc685e245ec1194b7c0a4212605 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a586fcdfe162f386380a5546f6adf259c inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a586fcdfe162f386380a5546f6adf259c">init_age</a> = 25</td></tr>
<tr class="memdesc:a586fcdfe162f386380a5546f6adf259c inherit pro_attribs_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">age in years at character creation  <a href="classCharacter.html#a586fcdfe162f386380a5546f6adf259c">More...</a><br /></td></tr>
<tr class="separator:a586fcdfe162f386380a5546f6adf259c inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8204fc2a60b2db94ef6416299c1d7a53 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a8204fc2a60b2db94ef6416299c1d7a53">init_height</a> = 175</td></tr>
<tr class="memdesc:a8204fc2a60b2db94ef6416299c1d7a53 inherit pro_attribs_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">height at character creation  <a href="classCharacter.html#a8204fc2a60b2db94ef6416299c1d7a53">More...</a><br /></td></tr>
<tr class="separator:a8204fc2a60b2db94ef6416299c1d7a53 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ca75bf8750c2b65ea45c6ac96ea3646 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592">m_size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a3ca75bf8750c2b65ea45c6ac96ea3646">size_class</a> = <a class="el" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592aaef7580aead8b8a18bc50cb6c1f98b31">MS_MEDIUM</a></td></tr>
<tr class="memdesc:a3ca75bf8750c2b65ea45c6ac96ea3646 inherit pro_attribs_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size class of character.  <a href="classCharacter.html#a3ca75bf8750c2b65ea45c6ac96ea3646">More...</a><br /></td></tr>
<tr class="separator:a3ca75bf8750c2b65ea45c6ac96ea3646 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64070428e31eb610ff5fa6b817cbafde inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCharacter.html#a1606fc7896240d5a56ea02cefb67762c">trap_map</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a64070428e31eb610ff5fa6b817cbafde">known_traps</a></td></tr>
<tr class="separator:a64070428e31eb610ff5fa6b817cbafde inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b37aa9740c61c78a7be6014b31f8267 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::array&lt; <a class="el" href="structencumbrance__data.html">encumbrance_data</a>, <a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a2b37aa9740c61c78a7be6014b31f8267">encumbrance_cache</a></td></tr>
<tr class="separator:a2b37aa9740c61c78a7be6014b31f8267 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28028d965c0eaed38c5e132f52bf41cf inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a28028d965c0eaed38c5e132f52bf41cf">cached_info</a></td></tr>
<tr class="separator:a28028d965c0eaed38c5e132f52bf41cf inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65a091d2c8d36f9102c09bc24836bf6e inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a65a091d2c8d36f9102c09bc24836bf6e">bio_soporific_powered_at_last_sleep_check</a> = false</td></tr>
<tr class="separator:a65a091d2c8d36f9102c09bc24836bf6e inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5315b433514914a1e7e08939dde1e58a inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5315b433514914a1e7e08939dde1e58a">last_sleep_check</a> = <a class="el" href="namespacecalendar.html#a2ad145a605c70358e73fdd4a802ba21a">calendar::turn_zero</a></td></tr>
<tr class="memdesc:a5315b433514914a1e7e08939dde1e58a inherit pro_attribs_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">last time we checked for sleep  <a href="classCharacter.html#a5315b433514914a1e7e08939dde1e58a">More...</a><br /></td></tr>
<tr class="separator:a5315b433514914a1e7e08939dde1e58a inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67beecaf2cfe1ca19cbb0c7d7a36b803 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>, std::pair&lt; int, <a class="el" href="classtime__point.html">time_point</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a67beecaf2cfe1ca19cbb0c7d7a36b803">warning_record</a></td></tr>
<tr class="memdesc:a67beecaf2cfe1ca19cbb0c7d7a36b803 inherit pro_attribs_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">warnings from a faction about bad behavior  <a href="classCharacter.html#a67beecaf2cfe1ca19cbb0c7d7a36b803">More...</a><br /></td></tr>
<tr class="separator:a67beecaf2cfe1ca19cbb0c7d7a36b803 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd32701e69ce9ed1571f541ff5b6dcd7 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a>, <a class="el" href="structCharacter_1_1trait__data.html">trait_data</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">my_mutations</a></td></tr>
<tr class="memdesc:acd32701e69ce9ed1571f541ff5b6dcd7 inherit pro_attribs_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Traits / mutations of the character.  <a href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">More...</a><br /></td></tr>
<tr class="separator:acd32701e69ce9ed1571f541ff5b6dcd7 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbc3e5ed1b64c7bc11c05d7ebfe8c814 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::unordered_set&lt; <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#adbc3e5ed1b64c7bc11c05d7ebfe8c814">my_traits</a></td></tr>
<tr class="memdesc:adbc3e5ed1b64c7bc11c05d7ebfe8c814 inherit pro_attribs_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains mutation ids of the base traits.  <a href="classCharacter.html#adbc3e5ed1b64c7bc11c05d7ebfe8c814">More...</a><br /></td></tr>
<tr class="separator:adbc3e5ed1b64c7bc11c05d7ebfe8c814 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4863cebe02ce178af7eb2351a59824af inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="structmutation__branch.html">mutation_branch</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a4863cebe02ce178af7eb2351a59824af">cached_mutations</a></td></tr>
<tr class="memdesc:a4863cebe02ce178af7eb2351a59824af inherit pro_attribs_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointers to mutation branches in <a class="el" href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">my_mutations</a>.  <a href="classCharacter.html#a4863cebe02ce178af7eb2351a59824af">More...</a><br /></td></tr>
<tr class="separator:a4863cebe02ce178af7eb2351a59824af inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a173170e7cdceddff68d980d8ced2c6f8 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpimpl.html">pimpl</a>&lt; <a class="el" href="classSkillLevelMap.html">SkillLevelMap</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a173170e7cdceddff68d980d8ced2c6f8">_skills</a></td></tr>
<tr class="separator:a173170e7cdceddff68d980d8ced2c6f8 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a325be099ee9d39deb2137435735e7eec inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::bitset&lt; <a class="el" href="character_8h.html#ad87be595004034c31843cf782d41c0b5a0a7effe1d6f45087e6f1f0f209109bc4">NUM_VISION_MODES</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a325be099ee9d39deb2137435735e7eec">vision_mode_cache</a></td></tr>
<tr class="separator:a325be099ee9d39deb2137435735e7eec inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6fc65f94aa23da053974f8dee411e1a inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ae6fc65f94aa23da053974f8dee411e1a">nv_range</a> = 0</td></tr>
<tr class="separator:ae6fc65f94aa23da053974f8dee411e1a inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c796c6071cdc512c245129b3a270980 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a9c796c6071cdc512c245129b3a270980">sight_max</a> = 0</td></tr>
<tr class="separator:a9c796c6071cdc512c245129b3a270980 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a806ec1d4a0f13718671b23638d3118fd inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a806ec1d4a0f13718671b23638d3118fd">time_died</a> = <a class="el" href="namespacecalendar.html#ae25f99fbff61e25df40b5b26bcedee8c">calendar::before_time_starts</a></td></tr>
<tr class="separator:a806ec1d4a0f13718671b23638d3118fd inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87b2b972822f230803ab63dd4f836b7a inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpimpl.html">pimpl</a>&lt; <a class="el" href="structpathfinding__settings.html">pathfinding_settings</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a87b2b972822f230803ab63dd4f836b7a">path_settings</a></td></tr>
<tr class="memdesc:a87b2b972822f230803ab63dd4f836b7a inherit pro_attribs_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cache for pathfinding settings.  <a href="classCharacter.html#a87b2b972822f230803ab63dd4f836b7a">More...</a><br /></td></tr>
<tr class="separator:a87b2b972822f230803ab63dd4f836b7a inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0bb3f928731476d26bc59e4642bedbc inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aa0bb3f928731476d26bc59e4642bedbc">faction_api_version</a> = 2</td></tr>
<tr class="separator:aa0bb3f928731476d26bc59e4642bedbc inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c0c32345164bcdcfe6236977164fd8 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a16c0c32345164bcdcfe6236977164fd8">fac_id</a></td></tr>
<tr class="separator:a16c0c32345164bcdcfe6236977164fd8 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8ad769685d160f275ead29362360de1 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfaction.html">faction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#af8ad769685d160f275ead29362360de1">my_fac</a> = nullptr</td></tr>
<tr class="separator:af8ad769685d160f275ead29362360de1 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06fbfa18194705b5ebe040d6da3d5116 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="character_8h.html#af749573d20b6327d21f9588ebdd5b19b">character_movemode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a06fbfa18194705b5ebe040d6da3d5116">move_mode</a> = <a class="el" href="character_8h.html#af749573d20b6327d21f9588ebdd5b19ba7bf92261bd9be1bced9caa8354c3203d">CMM_WALK</a></td></tr>
<tr class="separator:a06fbfa18194705b5ebe040d6da3d5116 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a314c7e8043648ef9e6189ed8d9de0654 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="type__id_8h.html#a62798cd4a1ea702e8d25b8c0f17a4834">vitamin_id</a>, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a314c7e8043648ef9e6189ed8d9de0654">vitamin_levels</a></td></tr>
<tr class="memdesc:a314c7e8043648ef9e6189ed8d9de0654 inherit pro_attribs_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current deficiency/excess quantity for each vitamin.  <a href="classCharacter.html#a314c7e8043648ef9e6189ed8d9de0654">More...</a><br /></td></tr>
<tr class="separator:a314c7e8043648ef9e6189ed8d9de0654 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca511c2b9cca76347a32edd2c2ac0fd2 inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpimpl.html">pimpl</a>&lt; <a class="el" href="classplayer__morale.html">player_morale</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#aca511c2b9cca76347a32edd2c2ac0fd2">morale</a></td></tr>
<tr class="separator:aca511c2b9cca76347a32edd2c2ac0fd2 inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64fb53474cad02d7de9486d390124c3e inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpimpl.html">pimpl</a>&lt; <a class="el" href="classenchantment.html">enchantment</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a64fb53474cad02d7de9486d390124c3e">enchantment_cache</a></td></tr>
<tr class="separator:a64fb53474cad02d7de9486d390124c3e inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be95d17f1714899fa0161eddc749f7d inherit pro_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; <a class="el" href="coordinates_8h.html#aefe14c1a57a07846c0292a6814feaa40">point_abs_omt</a>, <a class="el" href="classtime__duration.html">time_duration</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a5be95d17f1714899fa0161eddc749f7d">overmap_time</a></td></tr>
<tr class="memdesc:a5be95d17f1714899fa0161eddc749f7d inherit pro_attribs_classCharacter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Amount of time the player has spent in each overmap tile.  <a href="classCharacter.html#a5be95d17f1714899fa0161eddc749f7d">More...</a><br /></td></tr>
<tr class="separator:a5be95d17f1714899fa0161eddc749f7d inherit pro_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classCreature"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classCreature')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classCreature.html">Creature</a></td></tr>
<tr class="memitem:af4d6d569180f457e7d2294946eaf7563 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCreature.html">Creature</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a> = nullptr</td></tr>
<tr class="separator:af4d6d569180f457e7d2294946eaf7563 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae14e3b3ab4a876a17538cfe38818356c inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpimpl.html">pimpl</a>&lt; <a class="el" href="classeffects__map.html">effects_map</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a></td></tr>
<tr class="separator:ae14e3b3ab4a876a17538cfe38818356c inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69d20ce599ed8aa0780a4677c14228f9 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::string, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a69d20ce599ed8aa0780a4677c14228f9">values</a></td></tr>
<tr class="separator:a69d20ce599ed8aa0780a4677c14228f9 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69db025e34e82c34b56df73f56965350 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a69db025e34e82c34b56df73f56965350">num_blocks</a> = 0</td></tr>
<tr class="separator:a69db025e34e82c34b56df73f56965350 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a360b7ab7279423ee61b38d433ba338fd inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a360b7ab7279423ee61b38d433ba338fd">num_dodges</a> = 0</td></tr>
<tr class="separator:a360b7ab7279423ee61b38d433ba338fd inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad773414b7104cae9ac1df7404528a956 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ad773414b7104cae9ac1df7404528a956">num_blocks_bonus</a> = 0</td></tr>
<tr class="separator:ad773414b7104cae9ac1df7404528a956 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4945480df006184bdaf4b5b41ba976ea inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a4945480df006184bdaf4b5b41ba976ea">num_dodges_bonus</a> = 0</td></tr>
<tr class="separator:a4945480df006184bdaf4b5b41ba976ea inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac168f97cc5268464cb3682f43de4d930 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ac168f97cc5268464cb3682f43de4d930">armor_bash_bonus</a> = 0</td></tr>
<tr class="separator:ac168f97cc5268464cb3682f43de4d930 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a528da8d40c63bf838c55adcaad40651e inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a528da8d40c63bf838c55adcaad40651e">armor_cut_bonus</a> = 0</td></tr>
<tr class="separator:a528da8d40c63bf838c55adcaad40651e inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ebc73e7d9d10c69c542d88edeea06b3 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a4ebc73e7d9d10c69c542d88edeea06b3">armor_bullet_bonus</a> = 0</td></tr>
<tr class="separator:a4ebc73e7d9d10c69c542d88edeea06b3 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d6cd41ef532de75cb9bb2aadcc68f06 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a4d6cd41ef532de75cb9bb2aadcc68f06">speed_base</a> = 0</td></tr>
<tr class="separator:a4d6cd41ef532de75cb9bb2aadcc68f06 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae668a71c7a468fe4753374d3d51481bb inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ae668a71c7a468fe4753374d3d51481bb">speed_bonus</a> = 0</td></tr>
<tr class="separator:ae668a71c7a468fe4753374d3d51481bb inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb994679f77dfa6b446c0d36961c6a2 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#adbb994679f77dfa6b446c0d36961c6a2">dodge_bonus</a> = 0.0</td></tr>
<tr class="separator:adbb994679f77dfa6b446c0d36961c6a2 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0206ab4bdb7c990e917cb5240d2a470 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ab0206ab4bdb7c990e917cb5240d2a470">block_bonus</a> = 0</td></tr>
<tr class="separator:ab0206ab4bdb7c990e917cb5240d2a470 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bb35215732acc025692d329fb3e2e13 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a7bb35215732acc025692d329fb3e2e13">hit_bonus</a> = 0.0</td></tr>
<tr class="separator:a7bb35215732acc025692d329fb3e2e13 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f0f94b1cc3a6759e79c7ffc07c3b0b8 inherit pro_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a5f0f94b1cc3a6759e79c7ffc07c3b0b8">fake</a> = false</td></tr>
<tr class="separator:a5f0f94b1cc3a6759e79c7ffc07c3b0b8 inherit pro_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:ace29da9579ab4126cf7f83ba4ace8859"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859">power_mut_ui_cmd</a> { <a class="el" href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859afef46e5063ce3dc78b8ae64fa474241d">Exit</a>
, <a class="el" href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859aa13367a8e2a3f3bf4f3409079e3fdf87">Activate</a>
, <a class="el" href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859a109fec06829bd79d222cfc8af52aaaf1">Deactivate</a>
 }</td></tr>
<tr class="separator:ace29da9579ab4126cf7f83ba4ace8859"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a12ed7b039e2409d1da96ade8f24f84c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structplayer_1_1power__mut__ui__result.html">power_mut_ui_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a12ed7b039e2409d1da96ade8f24f84c8">power_mutations_ui</a> ()</td></tr>
<tr class="separator:a12ed7b039e2409d1da96ade8f24f84c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3f5aeb2f3da0cd231c77ec5ebcdecb6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ae3f5aeb2f3da0cd231c77ec5ebcdecb6">consume_med</a> (<a class="el" href="classitem.html">item</a> &amp;target)</td></tr>
<tr class="memdesc:ae3f5aeb2f3da0cd231c77ec5ebcdecb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Consumes an item as medication.  <a href="classplayer.html#ae3f5aeb2f3da0cd231c77ec5ebcdecb6">More...</a><br /></td></tr>
<tr class="separator:ae3f5aeb2f3da0cd231c77ec5ebcdecb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a7aecb79fe7868dceee1ee1e363eebe12"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a7aecb79fe7868dceee1ee1e363eebe12">last_sleep_check</a> = <a class="el" href="namespacecalendar.html#a2ad145a605c70358e73fdd4a802ba21a">calendar::turn_zero</a></td></tr>
<tr class="memdesc:a7aecb79fe7868dceee1ee1e363eebe12"><td class="mdescLeft">&#160;</td><td class="mdescRight">last time we checked for sleep  <a href="classplayer.html#a7aecb79fe7868dceee1ee1e363eebe12">More...</a><br /></td></tr>
<tr class="separator:a7aecb79fe7868dceee1ee1e363eebe12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c39a85115cfe10b149ed518a08d2e31"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a1c39a85115cfe10b149ed518a08d2e31">bio_soporific_powered_at_last_sleep_check</a> = false</td></tr>
<tr class="separator:a1c39a85115cfe10b149ed518a08d2e31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da8cabad8655c681d26fbb1be26f92a"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>, std::pair&lt; int, <a class="el" href="classtime__point.html">time_point</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a3da8cabad8655c681d26fbb1be26f92a">warning_record</a></td></tr>
<tr class="memdesc:a3da8cabad8655c681d26fbb1be26f92a"><td class="mdescLeft">&#160;</td><td class="mdescRight">warnings from a faction about bad behavior  <a href="classplayer.html#a3da8cabad8655c681d26fbb1be26f92a">More...</a><br /></td></tr>
<tr class="separator:a3da8cabad8655c681d26fbb1be26f92a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="related" name="related"></a>
Related Functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p >(Note that these are not member functions.) </p>
</td></tr>
<tr class="memitem:ae91f2bec148cebd7a065cfdef11ab201"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#ae91f2bec148cebd7a065cfdef11ab201">operator()</a> (const <a class="el" href="classstring__id.html">string_id</a>&lt; <a class="el" href="classprofession.html">profession</a> &gt; &amp;<a class="el" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>, const <a class="el" href="classstring__id.html">string_id</a>&lt; <a class="el" href="classprofession.html">profession</a> &gt; &amp;<a class="el" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>)</td></tr>
<tr class="separator:ae91f2bec148cebd7a065cfdef11ab201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42dcd18aa62c2796aeffd6b12c0049d7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer.html#a42dcd18aa62c2796aeffd6b12c0049d7">operator()</a> (const <a class="el" href="classscenario.html">scenario</a> *<a class="el" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>, const <a class="el" href="classscenario.html">scenario</a> *<a class="el" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>)</td></tr>
<tr class="separator:a42dcd18aa62c2796aeffd6b12c0049d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header related_classvisitable"><td colspan="2" onclick="javascript:toggleInherit('related_classvisitable')"><img src="closed.png" alt="-"/>&#160;Related Functions inherited from <a class="el" href="classvisitable.html">visitable&lt; Character &gt;</a></td></tr>
<tr class="memitem:a7c8b0524942b1d34dc190302ae3b0d71 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a7c8b0524942b1d34dc190302ae3b0d71">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(const <a class="el" href="classitem.html">item</a> *, const <a class="el" href="classitem.html">item</a> *)&gt; &amp;func) const</td></tr>
<tr class="separator:a7c8b0524942b1d34dc190302ae3b0d71 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a842be09c3c513fd6986cef86dad80e3b inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a842be09c3c513fd6986cef86dad80e3b">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(const <a class="el" href="classitem.html">item</a> *)&gt; &amp;func) const</td></tr>
<tr class="separator:a842be09c3c513fd6986cef86dad80e3b inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada3af0265cfce2d9aca1be92c292b1db inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#ada3af0265cfce2d9aca1be92c292b1db">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(<a class="el" href="classitem.html">item</a> *)&gt; &amp;func)</td></tr>
<tr class="separator:ada3af0265cfce2d9aca1be92c292b1db inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5914edcae7670009cc06616fd33fe3f inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#aa5914edcae7670009cc06616fd33fe3f">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(<a class="el" href="classitem.html">item</a> *, <a class="el" href="classitem.html">item</a> *)&gt; &amp;func)</td></tr>
<tr class="separator:aa5914edcae7670009cc06616fd33fe3f inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b96b0547d18f21e0d55f43905a810f6 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a6b96b0547d18f21e0d55f43905a810f6">find_parent</a> (const <a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="separator:a6b96b0547d18f21e0d55f43905a810f6 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c4c66230a872cb5777f3bce1b745ad inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a91c4c66230a872cb5777f3bce1b745ad">find_parent</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:a91c4c66230a872cb5777f3bce1b745ad inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a45c435a3ce302bf1c1206033727ba8 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a8a45c435a3ce302bf1c1206033727ba8">parents</a> (const <a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="separator:a8a45c435a3ce302bf1c1206033727ba8 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af70ae01ea4ef3165dc21f52108897636 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#af70ae01ea4ef3165dc21f52108897636">parents</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:af70ae01ea4ef3165dc21f52108897636 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e4e7da175b68a48e9186cdfe48900aa inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a2e4e7da175b68a48e9186cdfe48900aa">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter)</td></tr>
<tr class="separator:a2e4e7da175b68a48e9186cdfe48900aa inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6730ead8740d2b2c3c33d33ce69f6926 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a6730ead8740d2b2c3c33d33ce69f6926">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter) const</td></tr>
<tr class="separator:a6730ead8740d2b2c3c33d33ce69f6926 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43defd8edf8aecf5b04da50c75fdda56 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a43defd8edf8aecf5b04da50c75fdda56">remove_items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;e)&gt; &amp;filter, int count)</td></tr>
<tr class="separator:a43defd8edf8aecf5b04da50c75fdda56 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classCharacter"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classCharacter')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classCharacter.html">Character</a></td></tr>
<tr class="memitem:a764126d3e4c9f9450d6d9e40ec00d946 inherit pub_types_classCharacter"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a764126d3e4c9f9450d6d9e40ec00d946">comfort_level</a> { <br />
&#160;&#160;<a class="el" href="classCharacter.html#a764126d3e4c9f9450d6d9e40ec00d946a79a2520f22b9e1526ff93176029603b8">impossible</a> = -999
, <a class="el" href="classCharacter.html#a764126d3e4c9f9450d6d9e40ec00d946ac19a5c3628d86633a40e23c78d4ff67d">uncomfortable</a> = -7
, <a class="el" href="classCharacter.html#a764126d3e4c9f9450d6d9e40ec00d946a5da248ea6840aca1ae2b417b17982a89">neutral</a> = 0
, <a class="el" href="classCharacter.html#a764126d3e4c9f9450d6d9e40ec00d946a1493fbda00a5e67f5f6d8d619489a6af">slightly_comfortable</a> = 3
, <br />
&#160;&#160;<a class="el" href="classCharacter.html#a764126d3e4c9f9450d6d9e40ec00d946aff52b9c1eee2349b5099deb92b8307ed">comfortable</a> = 5
, <a class="el" href="classCharacter.html#a764126d3e4c9f9450d6d9e40ec00d946a2d02b60eaa3c25912ee2e3ba0b669068">very_comfortable</a> = 10
<br />
 }</td></tr>
<tr class="separator:a764126d3e4c9f9450d6d9e40ec00d946 inherit pub_types_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2bf8c77dc319ad40bf1d90facd66f11 inherit pub_types_classCharacter"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#ab2bf8c77dc319ad40bf1d90facd66f11">water_tolerance</a> { <a class="el" href="classCharacter.html#ab2bf8c77dc319ad40bf1d90facd66f11ab4b6204c4cf033fa5fc078f0d652f028">WT_IGNORED</a> = 0
, <a class="el" href="classCharacter.html#ab2bf8c77dc319ad40bf1d90facd66f11a790ed160101395ae3be41dd2a26c2939">WT_NEUTRAL</a>
, <a class="el" href="classCharacter.html#ab2bf8c77dc319ad40bf1d90facd66f11aefbfcf7d272c2240633219bc353abea3">WT_GOOD</a>
, <a class="el" href="classCharacter.html#ab2bf8c77dc319ad40bf1d90facd66f11af6a8ff3820ca627d6414fe3377a8518b">NUM_WATER_TOLERANCE</a>
 }</td></tr>
<tr class="separator:ab2bf8c77dc319ad40bf1d90facd66f11 inherit pub_types_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1606fc7896240d5a56ea02cefb67762c inherit pub_types_classCharacter"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a1606fc7896240d5a56ea02cefb67762c">trap_map</a> = std::map&lt; <a class="el" href="structtripoint.html">tripoint</a>, std::string &gt;</td></tr>
<tr class="separator:a1606fc7896240d5a56ea02cefb67762c inherit pub_types_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classCreature"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classCreature')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classCreature.html">Creature</a></td></tr>
<tr class="memitem:a8a475630b3289c468bd06cf114008217 inherit pub_types_classCreature"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217">Attitude</a> : int { <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217a8972817fc4b645a5fee948a7ab4d3cc2">A_HOSTILE</a>
, <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217a19028b9cbf5de71e700a5d8964fabab8">A_NEUTRAL</a>
, <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217ac45ee12dee5d3dc56de7fe86e4484bea">A_FRIENDLY</a>
, <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217ae9d39bf1753e13fcd820f875a825091a">A_ANY</a>
 }</td></tr>
<tr class="memdesc:a8a475630b3289c468bd06cf114008217"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simplified attitude towards any creature: hostile - hate, want to kill, etc.  <a href="classCreature.html#a8a475630b3289c468bd06cf114008217">More...</a><br /></td></tr>
<tr class="separator:a8a475630b3289c468bd06cf114008217 inherit pub_types_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classCharacter"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classCharacter')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classCharacter.html">Character</a></td></tr>
<tr class="memitem:a85091a47f32d38f26755239051f44aa1 inherit pub_static_attribs_classCharacter"><td class="memItemLeft" align="right" valign="top">static const std::vector&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCharacter.html#a85091a47f32d38f26755239051f44aa1">fleshy</a> = { <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( &quot;flesh&quot; ), material_id( &quot;hflesh&quot; ) }</td></tr>
<tr class="separator:a85091a47f32d38f26755239051f44aa1 inherit pub_static_attribs_classCharacter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classCreature"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classCreature')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classCreature.html">Creature</a></td></tr>
<tr class="memitem:aa1629d099a51cc34924ff468c53be9fe inherit pub_static_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">static const std::map&lt; std::string, <a class="el" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592">m_size</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aa1629d099a51cc34924ff468c53be9fe">size_map</a></td></tr>
<tr class="separator:aa1629d099a51cc34924ff468c53be9fe inherit pub_static_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81c28d7d1cb83a47794dbf879dede400 inherit pub_static_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">static const std::set&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a81c28d7d1cb83a47794dbf879dede400">cmat_flesh</a></td></tr>
<tr class="separator:a81c28d7d1cb83a47794dbf879dede400 inherit pub_static_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab3ed00f0b1635fcb5efaa93cf3f8336 inherit pub_static_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">static const std::set&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#aab3ed00f0b1635fcb5efaa93cf3f8336">cmat_fleshnveg</a></td></tr>
<tr class="separator:aab3ed00f0b1635fcb5efaa93cf3f8336 inherit pub_static_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48bb40fe4132a49d95f26611d7c622a6 inherit pub_static_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">static const std::set&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a48bb40fe4132a49d95f26611d7c622a6">cmat_flammable</a></td></tr>
<tr class="separator:a48bb40fe4132a49d95f26611d7c622a6 inherit pub_static_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5fa405fe6d75e0298051ab413cdfac1 inherit pub_static_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">static const std::set&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#ac5fa405fe6d75e0298051ab413cdfac1">cmat_flameres</a></td></tr>
<tr class="separator:ac5fa405fe6d75e0298051ab413cdfac1 inherit pub_static_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73b9cb6320e4447addaec375887e7861 inherit pub_static_attribs_classCreature"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCreature.html#a73b9cb6320e4447addaec375887e7861">dispersion_for_even_chance_of_good_hit</a> = <a class="el" href="creature_8cpp.html#aa0ec3804384550ecf8db5c2e08993096">default_dispersion_for_ecogh</a></td></tr>
<tr class="separator:a73b9cb6320e4447addaec375887e7861 inherit pub_static_attribs_classCreature"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00098">98</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="ace29da9579ab4126cf7f83ba4ace8859" name="ace29da9579ab4126cf7f83ba4ace8859"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace29da9579ab4126cf7f83ba4ace8859">&#9670;&nbsp;</a></span>power_mut_ui_cmd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859">player::power_mut_ui_cmd</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ace29da9579ab4126cf7f83ba4ace8859afef46e5063ce3dc78b8ae64fa474241d" name="ace29da9579ab4126cf7f83ba4ace8859afef46e5063ce3dc78b8ae64fa474241d"></a>Exit&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ace29da9579ab4126cf7f83ba4ace8859aa13367a8e2a3f3bf4f3409079e3fdf87" name="ace29da9579ab4126cf7f83ba4ace8859aa13367a8e2a3f3bf4f3409079e3fdf87"></a>Activate&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ace29da9579ab4126cf7f83ba4ace8859a109fec06829bd79d222cfc8af52aaaf1" name="ace29da9579ab4126cf7f83ba4ace8859a109fec06829bd79d222cfc8af52aaaf1"></a>Deactivate&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00469">469</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>                                    {</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>            Exit,</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>            Activate,</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>            Deactivate,</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>        };</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a97de83bce15f880241f561b55b016b02" name="a97de83bce15f880241f561b55b016b02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97de83bce15f880241f561b55b016b02">&#9670;&nbsp;</a></span>player() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">player::player </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00254">254</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>{</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    <a class="code hl_variable" href="classCharacter.html#a26369a0a81eef76cfe75214d22ed32b4">str_cur</a> = 8;</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    <a class="code hl_variable" href="classCharacter.html#a0bbd9aa7982f98e08f67db130e4eb9f8">str_max</a> = 8;</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    <a class="code hl_variable" href="classCharacter.html#a4065ac02745befad248425d307b71849">dex_cur</a> = 8;</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    <a class="code hl_variable" href="classCharacter.html#ae4ce8cb45c93fcafc3f4ba489e63a4c2">dex_max</a> = 8;</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    <a class="code hl_variable" href="classCharacter.html#a994c83d61054215e81a6e87478d81203">int_cur</a> = 8;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    <a class="code hl_variable" href="classCharacter.html#a9c3a6b61668d4d7d771441e50095c544">int_max</a> = 8;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <a class="code hl_variable" href="classCharacter.html#ad8a2bb942a756787aced3b83319176ff">per_cur</a> = 8;</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>    <a class="code hl_variable" href="classCharacter.html#a4b20f9ae261b906ead741771a8a48311">per_max</a> = 8;</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    <a class="code hl_variable" href="classCharacter.html#a5d450cd31d2779dd654ba6589f09c98b">dodges_left</a> = 1;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    <a class="code hl_variable" href="classCharacter.html#a29692fe7943db102dcf564a8966782c6">blocks_left</a> = 1;</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    <a class="code hl_function" href="classCharacter.html#a5a0a0c4f206d907e7f05ffe7e2927f0f">set_power_level</a>( 0_kJ );</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>    <a class="code hl_function" href="classCharacter.html#ad736f947139b910c85e6c3d2a885889f">set_max_power_level</a>( 0_kJ );</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    <a class="code hl_variable" href="classplayer.html#a38b455927fe69f32a4a0f9a4fba7cc0f">cash</a> = 0;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    <a class="code hl_variable" href="classplayer.html#a76eb82fb9b97610362c542a79393995b">scent</a> = 500;</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    <a class="code hl_variable" href="classCharacter.html#a8e6a78e6c4497a9aa7b8cc127dcdd4e3">male</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    <a class="code hl_variable" href="classplayer.html#a5bf3ea246ca971ed56f87e3b75253e57">prof</a> = <a class="code hl_function" href="classprofession.html#a27e51c3dafe0e4ec8776b0d0bd26bb88">profession::has_initialized</a>() ? <a class="code hl_function" href="classprofession.html#a30863aff05431320802058dee4113a6d">profession::generic</a>() :</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>           nullptr; <span class="comment">//workaround for a potential structural limitation, see player::create</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span> </div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    <a class="code hl_class" href="classstart__location.html">start_location</a> = <a class="code hl_typedef" href="type__id_8h.html#a99f94880c7460be6d61e94749dcaab2d">start_location_id</a>( <span class="stringliteral">&quot;sloc_shelter&quot;</span> );</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 100;</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    <a class="code hl_variable" href="classplayer.html#ac29e9e4642520f72b174a77e142d9bfb">movecounter</a> = 0;</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    <a class="code hl_variable" href="classCharacter.html#a865e5eb770c71b3bd4ec4a05235cd3b6">oxygen</a> = 0;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    <a class="code hl_variable" href="classCharacter.html#a61bc9422c35b63128532af268e52cb71">in_vehicle</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <a class="code hl_variable" href="classCharacter.html#a0701e6a3f1987d9fa3f76b450dd5624a">controlling_vehicle</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    <a class="code hl_variable" href="classplayer.html#a1888b03b4841e39fbd3633b95dfe81de">grab_point</a> = <a class="code hl_variable" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>;</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    <a class="code hl_variable" href="classCharacter.html#a4635ee40a3d97353c7a76ef5e71ad283">hauling</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    <a class="code hl_variable" href="classCharacter.html#a1a22be593582c9aef166a12777bb79a8">focus_pool</a> = 100;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    <a class="code hl_variable" href="classCharacter.html#a1819679d2d4e9f8ba5d62ae26737f34c">last_item</a> = <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( <span class="stringliteral">&quot;null&quot;</span> );</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    <a class="code hl_variable" href="classCharacter.html#a9c796c6071cdc512c245129b3a270980">sight_max</a> = 9999;</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    <a class="code hl_variable" href="classplayer.html#a01a997f2f36602a5adff48c8df16a357">last_batch</a> = 0;</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    <a class="code hl_variable" href="classplayer.html#af5812ab4dd02135ef80a99a81fc5b64d">lastconsumed</a> = <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( <span class="stringliteral">&quot;null&quot;</span> );</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    <a class="code hl_variable" href="classCharacter.html#a5d43fb07ffd55e767827f1a7a21ed856">death_drops</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span> </div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    <a class="code hl_variable" href="classCharacter.html#af7ec444ce33b8a774dad1a23857078c1">nv_cached</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    <a class="code hl_variable" href="classplayer.html#a20589432777baec94c204b4f5efbfcfb">volume</a> = 0;</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span> </div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    <a class="code hl_function" href="classCreature.html#a04c1983abeefbf67db1e3f2b2a9b58ab">set_value</a>( <span class="stringliteral">&quot;THIEF_MODE&quot;</span>, <span class="stringliteral">&quot;THIEF_ASK&quot;</span> );</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span> </div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;v : <a class="code hl_function" href="classvitamin.html#abed8d50d1b8805a7f7ce49ce09ab1b7a">vitamin::all</a>() ) {</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        <a class="code hl_variable" href="classCharacter.html#a314c7e8043648ef9e6189ed8d9de0654">vitamin_levels</a>[ v.first ] = 0;</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    }</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span> </div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a> != <span class="keyword">nullptr</span> &amp;&amp; <a class="code hl_function" href="classjson__flag.html#a9760e40f85414d5d232c352ff306d232">json_flag::is_ready</a>() ) {</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>        <a class="code hl_function" href="classCharacter.html#aa0d1b26c15ad4a52973774bf6a7610c1">recalc_sight_limits</a>();</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        <a class="code hl_function" href="classCharacter.html#ad67a790400ac88405241f279b566b89e">reset_encumbrance</a>();</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>    }</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">cata_variant_type::itype_id</a></div><div class="ttdeci">@ itype_id</div></div>
<div class="ttc" id="aclassCharacter_html_a0701e6a3f1987d9fa3f76b450dd5624a"><div class="ttname"><a href="classCharacter.html#a0701e6a3f1987d9fa3f76b450dd5624a">Character::controlling_vehicle</a></div><div class="ttdeci">bool controlling_vehicle</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00285">character.h:285</a></div></div>
<div class="ttc" id="aclassCharacter_html_a0bbd9aa7982f98e08f67db130e4eb9f8"><div class="ttname"><a href="classCharacter.html#a0bbd9aa7982f98e08f67db130e4eb9f8">Character::str_max</a></div><div class="ttdeci">int str_max</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00299">character.h:299</a></div></div>
<div class="ttc" id="aclassCharacter_html_a1819679d2d4e9f8ba5d62ae26737f34c"><div class="ttname"><a href="classCharacter.html#a1819679d2d4e9f8ba5d62ae26737f34c">Character::last_item</a></div><div class="ttdeci">itype_id last_item</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01584">character.h:1584</a></div></div>
<div class="ttc" id="aclassCharacter_html_a1a22be593582c9aef166a12777bb79a8"><div class="ttname"><a href="classCharacter.html#a1a22be593582c9aef166a12777bb79a8">Character::focus_pool</a></div><div class="ttdeci">int focus_pool</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01599">character.h:1599</a></div></div>
<div class="ttc" id="aclassCharacter_html_a26369a0a81eef76cfe75214d22ed32b4"><div class="ttname"><a href="classCharacter.html#a26369a0a81eef76cfe75214d22ed32b4">Character::str_cur</a></div><div class="ttdeci">int str_cur</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00304">character.h:304</a></div></div>
<div class="ttc" id="aclassCharacter_html_a29692fe7943db102dcf564a8966782c6"><div class="ttname"><a href="classCharacter.html#a29692fe7943db102dcf564a8966782c6">Character::blocks_left</a></div><div class="ttdeci">int blocks_left</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00615">character.h:615</a></div></div>
<div class="ttc" id="aclassCharacter_html_a314c7e8043648ef9e6189ed8d9de0654"><div class="ttname"><a href="classCharacter.html#a314c7e8043648ef9e6189ed8d9de0654">Character::vitamin_levels</a></div><div class="ttdeci">std::map&lt; vitamin_id, int &gt; vitamin_levels</div><div class="ttdoc">Current deficiency/excess quantity for each vitamin.</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02190">character.h:2190</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4065ac02745befad248425d307b71849"><div class="ttname"><a href="classCharacter.html#a4065ac02745befad248425d307b71849">Character::dex_cur</a></div><div class="ttdeci">int dex_cur</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00305">character.h:305</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4635ee40a3d97353c7a76ef5e71ad283"><div class="ttname"><a href="classCharacter.html#a4635ee40a3d97353c7a76ef5e71ad283">Character::hauling</a></div><div class="ttdeci">bool hauling</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01576">character.h:1576</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4b20f9ae261b906ead741771a8a48311"><div class="ttname"><a href="classCharacter.html#a4b20f9ae261b906ead741771a8a48311">Character::per_max</a></div><div class="ttdeci">int per_max</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00302">character.h:302</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5a0a0c4f206d907e7f05ffe7e2927f0f"><div class="ttname"><a href="classCharacter.html#a5a0a0c4f206d907e7f05ffe7e2927f0f">Character::set_power_level</a></div><div class="ttdeci">void set_power_level(const units::energy &amp;npower)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01966">character.cpp:1966</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5d43fb07ffd55e767827f1a7a21ed856"><div class="ttname"><a href="classCharacter.html#a5d43fb07ffd55e767827f1a7a21ed856">Character::death_drops</a></div><div class="ttdeci">bool death_drops</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00283">character.h:283</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5d450cd31d2779dd654ba6589f09c98b"><div class="ttname"><a href="classCharacter.html#a5d450cd31d2779dd654ba6589f09c98b">Character::dodges_left</a></div><div class="ttdeci">int dodges_left</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00616">character.h:616</a></div></div>
<div class="ttc" id="aclassCharacter_html_a61bc9422c35b63128532af268e52cb71"><div class="ttname"><a href="classCharacter.html#a61bc9422c35b63128532af268e52cb71">Character::in_vehicle</a></div><div class="ttdeci">bool in_vehicle</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01575">character.h:1575</a></div></div>
<div class="ttc" id="aclassCharacter_html_a865e5eb770c71b3bd4ec4a05235cd3b6"><div class="ttname"><a href="classCharacter.html#a865e5eb770c71b3bd4ec4a05235cd3b6">Character::oxygen</a></div><div class="ttdeci">int oxygen</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01594">character.h:1594</a></div></div>
<div class="ttc" id="aclassCharacter_html_a8e6a78e6c4497a9aa7b8cc127dcdd4e3"><div class="ttname"><a href="classCharacter.html#a8e6a78e6c4497a9aa7b8cc127dcdd4e3">Character::male</a></div><div class="ttdeci">bool male</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01569">character.h:1569</a></div></div>
<div class="ttc" id="aclassCharacter_html_a994c83d61054215e81a6e87478d81203"><div class="ttname"><a href="classCharacter.html#a994c83d61054215e81a6e87478d81203">Character::int_cur</a></div><div class="ttdeci">int int_cur</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00306">character.h:306</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9c3a6b61668d4d7d771441e50095c544"><div class="ttname"><a href="classCharacter.html#a9c3a6b61668d4d7d771441e50095c544">Character::int_max</a></div><div class="ttdeci">int int_max</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00301">character.h:301</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9c796c6071cdc512c245129b3a270980"><div class="ttname"><a href="classCharacter.html#a9c796c6071cdc512c245129b3a270980">Character::sight_max</a></div><div class="ttdeci">int sight_max</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02167">character.h:2167</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa0d1b26c15ad4a52973774bf6a7610c1"><div class="ttname"><a href="classCharacter.html#aa0d1b26c15ad4a52973774bf6a7610c1">Character::recalc_sight_limits</a></div><div class="ttdeci">void recalc_sight_limits()</div><div class="ttdoc">Modifies the player's sight values Must be called when any of the following change: This must be call...</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01692">character.cpp:1692</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad67a790400ac88405241f279b566b89e"><div class="ttname"><a href="classCharacter.html#ad67a790400ac88405241f279b566b89e">Character::reset_encumbrance</a></div><div class="ttdeci">void reset_encumbrance()</div><div class="ttdoc">Recalculates encumbrance cache.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03614">character.cpp:3614</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad736f947139b910c85e6c3d2a885889f"><div class="ttname"><a href="classCharacter.html#ad736f947139b910c85e6c3d2a885889f">Character::set_max_power_level</a></div><div class="ttdeci">void set_max_power_level(const units::energy &amp;npower_max)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01971">character.cpp:1971</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad8a2bb942a756787aced3b83319176ff"><div class="ttname"><a href="classCharacter.html#ad8a2bb942a756787aced3b83319176ff">Character::per_cur</a></div><div class="ttdeci">int per_cur</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00307">character.h:307</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae4ce8cb45c93fcafc3f4ba489e63a4c2"><div class="ttname"><a href="classCharacter.html#ae4ce8cb45c93fcafc3f4ba489e63a4c2">Character::dex_max</a></div><div class="ttdeci">int dex_max</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00300">character.h:300</a></div></div>
<div class="ttc" id="aclassCharacter_html_af7ec444ce33b8a774dad1a23857078c1"><div class="ttname"><a href="classCharacter.html#af7ec444ce33b8a774dad1a23857078c1">Character::nv_cached</a></div><div class="ttdeci">bool nv_cached</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01573">character.h:1573</a></div></div>
<div class="ttc" id="aclassCreature_html_a04c1983abeefbf67db1e3f2b2a9b58ab"><div class="ttname"><a href="classCreature.html#a04c1983abeefbf67db1e3f2b2a9b58ab">Creature::set_value</a></div><div class="ttdeci">void set_value(const std::string &amp;key, const std::string &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01325">creature.cpp:1325</a></div></div>
<div class="ttc" id="aclassCreature_html_a8c5a392caa213bee9581b47e9f0e2052"><div class="ttname"><a href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">Creature::moves</a></div><div class="ttdeci">int moves</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00569">creature.h:569</a></div></div>
<div class="ttc" id="aclassjson__flag_html_a9760e40f85414d5d232c352ff306d232"><div class="ttname"><a href="classjson__flag.html#a9760e40f85414d5d232c352ff306d232">json_flag::is_ready</a></div><div class="ttdeci">static bool is_ready()</div><div class="ttdoc">true, if flags were loaded</div><div class="ttdef"><b>Definition:</b> <a href="flag_8cpp_source.html#l00123">flag.cpp:123</a></div></div>
<div class="ttc" id="aclassplayer_html_a01a997f2f36602a5adff48c8df16a357"><div class="ttname"><a href="classplayer.html#a01a997f2f36602a5adff48c8df16a357">player::last_batch</a></div><div class="ttdeci">int last_batch</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00707">player.h:707</a></div></div>
<div class="ttc" id="aclassplayer_html_a1888b03b4841e39fbd3633b95dfe81de"><div class="ttname"><a href="classplayer.html#a1888b03b4841e39fbd3633b95dfe81de">player::grab_point</a></div><div class="ttdeci">tripoint grab_point</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00683">player.h:683</a></div></div>
<div class="ttc" id="aclassplayer_html_a20589432777baec94c204b4f5efbfcfb"><div class="ttname"><a href="classplayer.html#a20589432777baec94c204b4f5efbfcfb">player::volume</a></div><div class="ttdeci">int volume</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00684">player.h:684</a></div></div>
<div class="ttc" id="aclassplayer_html_a38b455927fe69f32a4a0f9a4fba7cc0f"><div class="ttname"><a href="classplayer.html#a38b455927fe69f32a4a0f9a4fba7cc0f">player::cash</a></div><div class="ttdeci">int cash</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00695">player.h:695</a></div></div>
<div class="ttc" id="aclassplayer_html_a5bf3ea246ca971ed56f87e3b75253e57"><div class="ttname"><a href="classplayer.html#a5bf3ea246ca971ed56f87e3b75253e57">player::prof</a></div><div class="ttdeci">const profession * prof</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00685">player.h:685</a></div></div>
<div class="ttc" id="aclassplayer_html_a76eb82fb9b97610362c542a79393995b"><div class="ttname"><a href="classplayer.html#a76eb82fb9b97610362c542a79393995b">player::scent</a></div><div class="ttdeci">int scent</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00694">player.h:694</a></div></div>
<div class="ttc" id="aclassplayer_html_ac29e9e4642520f72b174a77e142d9bfb"><div class="ttname"><a href="classplayer.html#ac29e9e4642520f72b174a77e142d9bfb">player::movecounter</a></div><div class="ttdeci">int movecounter</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00696">player.h:696</a></div></div>
<div class="ttc" id="aclassplayer_html_af5812ab4dd02135ef80a99a81fc5b64d"><div class="ttname"><a href="classplayer.html#af5812ab4dd02135ef80a99a81fc5b64d">player::lastconsumed</a></div><div class="ttdeci">itype_id lastconsumed</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00708">player.h:708</a></div></div>
<div class="ttc" id="aclassprofession_html_a27e51c3dafe0e4ec8776b0d0bd26bb88"><div class="ttname"><a href="classprofession.html#a27e51c3dafe0e4ec8776b0d0bd26bb88">profession::has_initialized</a></div><div class="ttdeci">static bool has_initialized()</div><div class="ttdef"><b>Definition:</b> <a href="profession_8cpp_source.html#l00340">profession.cpp:340</a></div></div>
<div class="ttc" id="aclassprofession_html_a30863aff05431320802058dee4113a6d"><div class="ttname"><a href="classprofession.html#a30863aff05431320802058dee4113a6d">profession::generic</a></div><div class="ttdeci">static const profession * generic()</div><div class="ttdef"><b>Definition:</b> <a href="profession_8cpp_source.html#l00251">profession.cpp:251</a></div></div>
<div class="ttc" id="aclassstart__location_html"><div class="ttname"><a href="classstart__location.html">start_location</a></div><div class="ttdef"><b>Definition:</b> <a href="start__location_8h_source.html#l00021">start_location.h:22</a></div></div>
<div class="ttc" id="aclassvitamin_html_abed8d50d1b8805a7f7ce49ce09ab1b7a"><div class="ttname"><a href="classvitamin.html#abed8d50d1b8805a7f7ce49ce09ab1b7a">vitamin::all</a></div><div class="ttdeci">static const std::map&lt; vitamin_id, vitamin &gt; &amp; all()</div><div class="ttdoc">Get all currently loaded vitamins.</div><div class="ttdef"><b>Definition:</b> <a href="vitamin_8cpp_source.html#l00098">vitamin.cpp:98</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00267">game.cpp:267</a></div></div>
<div class="ttc" id="apoint_8h_html_a4b1a6bcaa42d2c06ecc3afc63305bfdf"><div class="ttname"><a href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></div><div class="ttdeci">static constexpr tripoint tripoint_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00273">point.h:273</a></div></div>
<div class="ttc" id="atype__id_8h_html_a99f94880c7460be6d61e94749dcaab2d"><div class="ttname"><a href="type__id_8h.html#a99f94880c7460be6d61e94749dcaab2d">start_location_id</a></div><div class="ttdeci">string_id&lt; start_location &gt; start_location_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00135">type_id.h:135</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vitamin_8cpp_source.html#l00098">vitamin::all()</a>, <a class="el" href="character_8h_source.html#l00615">Character::blocks_left</a>, <a class="el" href="player_8h_source.html#l00695">cash</a>, <a class="el" href="character_8h_source.html#l00285">Character::controlling_vehicle</a>, <a class="el" href="character_8h_source.html#l00283">Character::death_drops</a>, <a class="el" href="character_8h_source.html#l00305">Character::dex_cur</a>, <a class="el" href="character_8h_source.html#l00300">Character::dex_max</a>, <a class="el" href="character_8h_source.html#l00616">Character::dodges_left</a>, <a class="el" href="character_8h_source.html#l01599">Character::focus_pool</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="profession_8cpp_source.html#l00251">profession::generic()</a>, <a class="el" href="player_8h_source.html#l00683">grab_point</a>, <a class="el" href="profession_8cpp_source.html#l00340">profession::has_initialized()</a>, <a class="el" href="character_8h_source.html#l01576">Character::hauling</a>, <a class="el" href="character_8h_source.html#l01575">Character::in_vehicle</a>, <a class="el" href="character_8h_source.html#l00306">Character::int_cur</a>, <a class="el" href="character_8h_source.html#l00301">Character::int_max</a>, <a class="el" href="flag_8cpp_source.html#l00123">json_flag::is_ready()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>, <a class="el" href="player_8h_source.html#l00707">last_batch</a>, <a class="el" href="character_8h_source.html#l01584">Character::last_item</a>, <a class="el" href="player_8h_source.html#l00708">lastconsumed</a>, <a class="el" href="character_8h_source.html#l01569">Character::male</a>, <a class="el" href="player_8h_source.html#l00696">movecounter</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="character_8h_source.html#l01573">Character::nv_cached</a>, <a class="el" href="character_8h_source.html#l01594">Character::oxygen</a>, <a class="el" href="character_8h_source.html#l00307">Character::per_cur</a>, <a class="el" href="character_8h_source.html#l00302">Character::per_max</a>, <a class="el" href="player_8h_source.html#l00685">prof</a>, <a class="el" href="character_8cpp_source.html#l01692">Character::recalc_sight_limits()</a>, <a class="el" href="character_8cpp_source.html#l03614">Character::reset_encumbrance()</a>, <a class="el" href="player_8h_source.html#l00694">scent</a>, <a class="el" href="character_8cpp_source.html#l01971">Character::set_max_power_level()</a>, <a class="el" href="character_8cpp_source.html#l01966">Character::set_power_level()</a>, <a class="el" href="creature_8cpp_source.html#l01325">Creature::set_value()</a>, <a class="el" href="character_8h_source.html#l02167">Character::sight_max</a>, <a class="el" href="character_8h_source.html#l00304">Character::str_cur</a>, <a class="el" href="character_8h_source.html#l00299">Character::str_max</a>, <a class="el" href="point_8h_source.html#l00273">tripoint_zero</a>, <a class="el" href="character_8h_source.html#l02190">Character::vitamin_levels</a>, and <a class="el" href="player_8h_source.html#l00684">volume</a>.</p>

</div>
</div>
<a id="a562deb1fda48edf8063f6270a15a6943" name="a562deb1fda48edf8063f6270a15a6943"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a562deb1fda48edf8063f6270a15a6943">&#9670;&nbsp;</a></span>player() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">player::player </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae622dffe97885461e38a6a7d04e222eb" name="ae622dffe97885461e38a6a7d04e222eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae622dffe97885461e38a6a7d04e222eb">&#9670;&nbsp;</a></span>player() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">player::player </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0a62c0208584465db2daa1ac6e15b1ad" name="a0a62c0208584465db2daa1ac6e15b1ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a62c0208584465db2daa1ac6e15b1ad">&#9670;&nbsp;</a></span>~player()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">player::~player </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae1827f3e149c8cbbfdf6ba1803cbf80d" name="ae1827f3e149c8cbbfdf6ba1803cbf80d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1827f3e149c8cbbfdf6ba1803cbf80d">&#9670;&nbsp;</a></span>add_faction_warning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::add_faction_warning </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02107">2107</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span>{</div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span>    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code hl_variable" href="classplayer.html#a3da8cabad8655c681d26fbb1be26f92a">warning_record</a>.find( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span>    <span class="keywordflow">if</span>( it != <a class="code hl_variable" href="classplayer.html#a3da8cabad8655c681d26fbb1be26f92a">warning_record</a>.end() ) {</div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span>        it-&gt;second.first += 1;</div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span>        <span class="keywordflow">if</span>( it-&gt;second.second - <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> &gt; 5_minutes ) {</div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span>            it-&gt;second.first -= 1;</div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span>        }</div>
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"> 2115</span>        it-&gt;second.second = <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>;</div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"> 2116</span>        <span class="keywordflow">if</span>( it-&gt;second.first &gt; 3 ) {</div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span>        }</div>
<div class="line"><a id="l02119" name="l02119"></a><span class="lineno"> 2119</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span>        <a class="code hl_variable" href="classplayer.html#a3da8cabad8655c681d26fbb1be26f92a">warning_record</a>[<a class="code hl_variable" href="classCharacter.html#a8d0ef1736a17d274868b515b184a820d">id</a>] = std::make_pair( 1, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span>    }</div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span>    <a class="code hl_class" href="classfaction.html">faction</a> *fac = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;faction_manager_ptr-&gt;get( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span>    <span class="keywordflow">if</span>( fac != <span class="keyword">nullptr</span> &amp;&amp; <a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() &amp;&amp; fac-&gt;<a class="code hl_variable" href="classfaction__template.html#a649fcecca332d594911fed59607d4ee7">id</a> != <a class="code hl_class" href="classstring__id.html">faction_id</a>( <span class="stringliteral">&quot;no_faction&quot;</span> ) ) {</div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>        fac-&gt;<a class="code hl_variable" href="classfaction__template.html#a8927427656119c2e4b1046b19c521313">likes_u</a> -= 1;</div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span>        fac-&gt;<a class="code hl_variable" href="classfaction__template.html#acf4662d3cabe4bb0e7b2a6693d7abc43">respects_u</a> -= 1;</div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span>    }</div>
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"> 2127</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span>}</div>
<div class="ttc" id="aclassCharacter_html_a8d0ef1736a17d274868b515b184a820d"><div class="ttname"><a href="classCharacter.html#a8d0ef1736a17d274868b515b184a820d">Character::id</a></div><div class="ttdeci">character_id id</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02230">character.h:2230</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a649fcecca332d594911fed59607d4ee7"><div class="ttname"><a href="classfaction__template.html#a649fcecca332d594911fed59607d4ee7">faction_template::id</a></div><div class="ttdeci">faction_id id</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00082">faction.h:82</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a8927427656119c2e4b1046b19c521313"><div class="ttname"><a href="classfaction__template.html#a8927427656119c2e4b1046b19c521313">faction_template::likes_u</a></div><div class="ttdeci">int likes_u</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00079">faction.h:79</a></div></div>
<div class="ttc" id="aclassfaction__template_html_acf4662d3cabe4bb0e7b2a6693d7abc43"><div class="ttname"><a href="classfaction__template.html#acf4662d3cabe4bb0e7b2a6693d7abc43">faction_template::respects_u</a></div><div class="ttdeci">int respects_u</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00080">faction.h:80</a></div></div>
<div class="ttc" id="aclassfaction_html"><div class="ttname"><a href="classfaction.html">faction</a></div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00095">faction.h:96</a></div></div>
<div class="ttc" id="aclassplayer_html_a3da8cabad8655c681d26fbb1be26f92a"><div class="ttname"><a href="classplayer.html#a3da8cabad8655c681d26fbb1be26f92a">player::warning_record</a></div><div class="ttdeci">std::map&lt; faction_id, std::pair&lt; int, time_point &gt; &gt; warning_record</div><div class="ttdoc">warnings from a faction about bad behavior</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00769">player.h:769</a></div></div>
<div class="ttc" id="aclassplayer_html_af4d6390315e3c781edf8649c5ae59a33"><div class="ttname"><a href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">player::is_player</a></div><div class="ttdeci">bool is_player() const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00114">player.h:114</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; faction &gt;</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00036">calendar.cpp:36</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8h_source.html#l02230">Character::id</a>, <a class="el" href="faction_8h_source.html#l00082">faction_template::id</a>, <a class="el" href="player_8h_source.html#l00114">is_player()</a>, <a class="el" href="faction_8h_source.html#l00079">faction_template::likes_u</a>, <a class="el" href="faction_8h_source.html#l00080">faction_template::respects_u</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, and <a class="el" href="player_8h_source.html#l00769">warning_record</a>.</p>

<p class="reference">Referenced by <a class="el" href="vehicle_8cpp_source.html#l04197">vehicle::handle_potential_theft()</a>, and <a class="el" href="player_8cpp_source.html#l01985">query_consume_ownership()</a>.</p>

</div>
</div>
<a id="afa8ba8aef24a8b4ece3678cd32309d89" name="afa8ba8aef24a8b4ece3678cd32309d89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa8ba8aef24a8b4ece3678cd32309d89">&#9670;&nbsp;</a></span>add_msg_if_player() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void player::add_msg_if_player </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a9ca3f79988b1c0dc2faa7e02ea455ca8">Creature</a>.</p>

<p>Reimplemented in <a class="el" href="classnpc.html#afa8ba8aef24a8b4ece3678cd32309d89">npc</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04379">4379</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04381" name="l04381"></a><span class="lineno"> 4381</span>{</div>
<div class="line"><a id="l04382" name="l04382"></a><span class="lineno"> 4382</span>    <a class="code hl_function" href="namespaceMessages.html#a156ac466eeb7b86befecfd69abc1ab5d">Messages::add_msg</a>( params, msg );</div>
<div class="line"><a id="l04383" name="l04383"></a><span class="lineno"> 4383</span>}</div>
<div class="ttc" id="anamespaceMessages_html_a156ac466eeb7b86befecfd69abc1ab5d"><div class="ttname"><a href="namespaceMessages.html#a156ac466eeb7b86befecfd69abc1ab5d">Messages::add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00341">messages.cpp:341</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8cpp_source.html#l00341">Messages::add_msg()</a>.</p>

</div>
</div>
<a id="ae7009d849f19a4f5ebe877cbe463c459" name="ae7009d849f19a4f5ebe877cbe463c459"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7009d849f19a4f5ebe877cbe463c459">&#9670;&nbsp;</a></span>add_msg_if_player() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void player::add_msg_if_player </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">Creature</a>.</p>

<p>Reimplemented in <a class="el" href="classnpc.html#ae7009d849f19a4f5ebe877cbe463c459">npc</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04368">4368</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04369" name="l04369"></a><span class="lineno"> 4369</span>{</div>
<div class="line"><a id="l04370" name="l04370"></a><span class="lineno"> 4370</span>    <a class="code hl_function" href="namespaceMessages.html#a156ac466eeb7b86befecfd69abc1ab5d">Messages::add_msg</a>( msg );</div>
<div class="line"><a id="l04371" name="l04371"></a><span class="lineno"> 4371</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8cpp_source.html#l00341">Messages::add_msg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l01395">add_pain_msg()</a>, <a class="el" href="iuse_8cpp_source.html#l05693">iuse::adrenaline_injector()</a>, <a class="el" href="iuse_8cpp_source.html#l00870">iuse::antiasthmatic()</a>, <a class="el" href="iuse_8cpp_source.html#l00621">iuse::antibiotic()</a>, <a class="el" href="iuse_8cpp_source.html#l00772">iuse::anticonvulsant()</a>, <a class="el" href="iuse_8cpp_source.html#l00707">iuse::antifungal()</a>, <a class="el" href="iuse_8cpp_source.html#l00727">iuse::antiparasitic()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00309">temperature_effect::apply()</a>, <a class="el" href="iuse_8cpp_source.html#l03771">iuse::arrow_flammable()</a>, <a class="el" href="iuse_8cpp_source.html#l05178">iuse::artifact()</a>, <a class="el" href="iuse_8cpp_source.html#l08388">iuse::autoclave()</a>, <a class="el" href="iexamine_8cpp_source.html#l04707">iexamine::autodoc()</a>, <a class="el" href="iuse_8cpp_source.html#l01026">iuse::blech()</a>, <a class="el" href="iuse_8cpp_source.html#l04606">iuse::blood_draw()</a>, <a class="el" href="iuse_8cpp_source.html#l05040">iuse::boltcutters()</a>, <a class="el" href="iexamine_8cpp_source.html#l01523">iexamine::bulletin_board()</a>, <a class="el" href="iuse_8cpp_source.html#l03336">iuse::burrow()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00440">activity_handlers::burrow_finish()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01126">activity_handlers::butcher_finish()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00866">butchery_drops_harvest()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01114">butchery_quarter()</a>, <a class="el" href="iuse_8cpp_source.html#l03714">iuse::c4()</a>, <a class="el" href="iuse_8cpp_source.html#l08909">iuse::cable_attach()</a>, <a class="el" href="iuse_8cpp_source.html#l07494">iuse::camera()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03252">repair_item_actor::can_repair_target()</a>, <a class="el" href="player_8cpp_source.html#l03939">can_sleep()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03026">repair_item_actor::can_use_tool()</a>, <a class="el" href="iuse_8cpp_source.html#l09356">iuse::capture_monster_act()</a>, <a class="el" href="iuse_8cpp_source.html#l09302">iuse::capture_monster_veh()</a>, <a class="el" href="iexamine_8cpp_source.html#l01059">iexamine::cardreader_foodplace()</a>, <a class="el" href="game_8cpp_source.html#l01763">game::catch_a_monster()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01908">cauterize_actor::cauterize_effect()</a>, <a class="el" href="vehicle__move_8cpp_source.html#l01031">vehicle::check_heli_ascend()</a>, <a class="el" href="vehicle__move_8cpp_source.html#l00996">vehicle::check_heli_descend()</a>, <a class="el" href="iuse_8cpp_source.html#l00431">check_litcig()</a>, <a class="el" href="iuse_8cpp_source.html#l01099">iuse::chew()</a>, <a class="el" href="iuse_8cpp_source.html#l04817">iuse::chop_logs()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04184">activity_handlers::chop_logs_finish()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02090">chop_plank_activity()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04229">activity_handlers::chop_planks_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l04773">iuse::chop_tree()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04134">activity_handlers::chop_tree_finish()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03717">activity_handlers::churn_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l02935">iuse::clear_rubble()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03100">activity_handlers::clear_rubble_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l09717">iuse::coin_flip()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02986">veh_interact::complete_vehicle()</a>, <a class="el" href="player_8cpp_source.html#l02052">consume()</a>, <a class="el" href="player_8cpp_source.html#l02015">consume_item()</a>, <a class="el" href="player_8cpp_source.html#l01935">consume_med()</a>, <a class="el" href="iuse_8cpp_source.html#l05789">iuse::contacts()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02499">activity_handlers::cracking_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l09630">iuse::craft()</a>, <a class="el" href="crafting_8cpp_source.html#l00277">crafting_speed_multiplier()</a>, <a class="el" href="crafting_8cpp_source.html#l00808">crafting_success_roll()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00319">trapfunc::crossbow()</a>, <a class="el" href="iuse_8cpp_source.html#l02411">iuse::crowbar()</a>, <a class="el" href="iexamine_8cpp_source.html#l04000">iexamine::curtains()</a>, <a class="el" href="iuse_8cpp_source.html#l04712">iuse::cut_log_into_planks()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03413">damage_item()</a>, <a class="el" href="iuse_8cpp_source.html#l00961">iuse::datura()</a>, <a class="el" href="iexamine_8cpp_source.html#l01222">iexamine::deployed_furniture()</a>, <a class="el" href="monster_8cpp_source.html#l02243">monster::die()</a>, <a class="el" href="iuse_8cpp_source.html#l02700">iuse::dig()</a>, <a class="el" href="iuse_8cpp_source.html#l02796">iuse::dig_channel()</a>, <a class="el" href="iuse_8cpp_source.html#l02131">iuse::directional_antenna()</a>, <a class="el" href="iuse_8cpp_source.html#l09272">iuse::directional_hologram()</a>, <a class="el" href="crafting_8cpp_source.html#l01933">disassemble()</a>, <a class="el" href="iuse_8cpp_source.html#l09691">iuse::disassemble()</a>, <a class="el" href="iuse_8cpp_source.html#l04239">iuse::dive_tank()</a>, <a class="el" href="explosion_8cpp_source.html#l00160">explosion_handler::do_blast()</a>, <a class="el" href="iuse_8cpp_source.html#l01107">do_purify()</a>, <a class="el" href="player__activity_8cpp_source.html#l00257">player_activity::do_turn()</a>, <a class="el" href="iuse_8cpp_source.html#l04569">iuse::dog_whistle()</a>, <a class="el" href="iexamine_8cpp_source.html#l01657">iexamine::door_peephole()</a>, <a class="el" href="consumption_8cpp_source.html#l00824">eat()</a>, <a class="el" href="iuse_8cpp_source.html#l00594">iuse::ecig()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00125">eff_fun_fungus()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00217">eff_fun_hallu()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00363">eff_fun_hot()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00179">eff_fun_rat()</a>, <a class="el" href="iuse_8cpp_source.html#l06206">einkpc_download_memory_card()</a>, <a class="el" href="iuse_8cpp_source.html#l06372">iuse::einktabletpc()</a>, <a class="el" href="iuse_8cpp_source.html#l01927">iuse::extinguisher()</a>, <a class="el" href="iuse_8cpp_source.html#l00634">iuse::eyedrops()</a>, <a class="el" href="iuse_8cpp_source.html#l01536">feedpet()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01488">activity_handlers::fill_liquid_do_turn()</a>, <a class="el" href="iuse_8cpp_source.html#l02862">iuse::fill_pit()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04302">activity_handlers::fill_pit_finish()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03741">heal_actor::finish_using()</a>, <a class="el" href="ranged_8cpp_source.html#l00809">fire_gun()</a>, <a class="el" href="iuse_8cpp_source.html#l03859">iuse::firecracker()</a>, <a class="el" href="iuse_8cpp_source.html#l03876">iuse::firecracker_act()</a>, <a class="el" href="iuse_8cpp_source.html#l03818">iuse::firecracker_pack()</a>, <a class="el" href="iexamine_8cpp_source.html#l02856">iexamine::fireplace()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03242">activity_handlers::fish_do_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03277">activity_handlers::fish_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l01793">iuse::fish_trap()</a>, <a class="el" href="iuse_8cpp_source.html#l01765">iuse::fishing_rod()</a>, <a class="el" href="iuse_8cpp_source.html#l00863">iuse::flu_vaccine()</a>, <a class="el" href="iuse_8cpp_source.html#l00975">iuse::flumed()</a>, <a class="el" href="iuse_8cpp_source.html#l00982">iuse::flusleep()</a>, <a class="el" href="iuse_8cpp_source.html#l07877">iuse::foodperson()</a>, <a class="el" href="fungal__effects_8cpp_source.html#l00065">fungal_effects::fungalize()</a>, <a class="el" href="iuse_8cpp_source.html#l00653">iuse::fungicide()</a>, <a class="el" href="iuse_8cpp_source.html#l04330">iuse::gasmask()</a>, <a class="el" href="iuse_8cpp_source.html#l03382">iuse::geiger()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02608">generic_multi_activity_check_requirement()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02920">generic_multi_activity_handler()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02491">generic_multi_activity_locations()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01284">trapfunc::glow()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00657">trapfunc::goo()</a>, <a class="el" href="monattack_8cpp_source.html#l02649">mattack::grab()</a>, <a class="el" href="iuse_8cpp_source.html#l03560">iuse::granade()</a>, <a class="el" href="iuse_8cpp_source.html#l03569">iuse::granade_act()</a>, <a class="el" href="iuse_8cpp_source.html#l03741">iuse::grenade_inc_act()</a>, <a class="el" href="iuse_8cpp_source.html#l05839">iuse::gun_repair()</a>, <a class="el" href="player_8cpp_source.html#l03519">gunmod_add()</a>, <a class="el" href="player_8cpp_source.html#l03435">gunmod_remove()</a>, <a class="el" href="iuse_8cpp_source.html#l04963">iuse::hacksaw()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04007">activity_handlers::hacksaw_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l08161">hackveh()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04338">activity_handlers::haircut_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l09180">iuse::hairkit()</a>, <a class="el" href="iuse_8cpp_source.html#l02352">iuse::hammer()</a>, <a class="el" href="iuse_8cpp_source.html#l04466">iuse::hand_crank()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03104">repair_item_actor::handle_components()</a>, <a class="el" href="iuse_8cpp_source.html#l05522">iuse::handle_ground_graffiti()</a>, <a class="el" href="iexamine_8cpp_source.html#l01802">handle_harvest()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00464">hardcoded_effects()</a>, <a class="el" href="iexamine_8cpp_source.html#l01941">harvest_common()</a>, <a class="el" href="iexamine_8cpp_source.html#l02036">iexamine::harvested_plant()</a>, <a class="el" href="player_8cpp_source.html#l01169">impact()</a>, <a class="el" href="iexamine_8cpp_source.html#l01106">iexamine::intercom()</a>, <a class="el" href="bionics_8cpp_source.html#l02836">Character::introduce_into_anesthesia()</a>, <a class="el" href="itype_8cpp_source.html#l00113">itype::invoke()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04100">place_trap_actor::is_allowed()</a>, <a class="el" href="iuse_8cpp_source.html#l07367">item_save_monsters()</a>, <a class="el" href="mondeath_8cpp_source.html#l00739">mdeath::jabberwock()</a>, <a class="el" href="iuse_8cpp_source.html#l03227">iuse::jackhammer()</a>, <a class="el" href="iuse_8cpp_source.html#l05716">iuse::jet_injector()</a>, <a class="el" href="iuse_8cpp_source.html#l09445">iuse::ladder()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01115">trapfunc::ledge()</a>, <a class="el" href="iexamine_8cpp_source.html#l04462">iexamine::ledge()</a>, <a class="el" href="iexamine_8cpp_source.html#l01452">iexamine::locked_object()</a>, <a class="el" href="iexamine_8cpp_source.html#l01483">iexamine::locked_object_pickable()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02506">activity_handlers::lockpicking_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l04725">iuse::lumber()</a>, <a class="el" href="iuse_8cpp_source.html#l09738">iuse::magic_8_ball()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02196">magic_train()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01849">activity_handlers::make_zlave_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l02542">iuse::makemound()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01372">trapfunc::map_regen()</a>, <a class="el" href="iuse_8cpp_source.html#l01261">marloss_common()</a>, <a class="el" href="iuse_8cpp_source.html#l01375">marloss_prevented()</a>, <a class="el" href="iuse_8cpp_source.html#l00899">iuse::meditate()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03110">activity_handlers::meditate_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l09706">iuse::melatonin_tablet()</a>, <a class="el" href="iuse_8cpp_source.html#l00815">iuse::meth()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01450">activity_handlers::milk_finish()</a>, <a class="el" href="iexamine_8cpp_source.html#l05493">mill_load_food()</a>, <a class="el" href="iuse_8cpp_source.html#l04673">iuse::mind_splicer()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04793">activity_handlers::mind_splicer_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l03893">iuse::mininuke()</a>, <a class="el" href="iuse_8cpp_source.html#l03793">iuse::molotov_lit()</a>, <a class="el" href="iuse_8cpp_source.html#l05094">iuse::mop()</a>, <a class="el" href="iuse_8cpp_source.html#l04104">iuse::mp3()</a>, <a class="el" href="iuse_8cpp_source.html#l04190">iuse::mp3_on()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, <a class="el" href="iuse_8cpp_source.html#l08336">multicooker_hallu()</a>, <a class="el" href="iuse_8cpp_source.html#l01436">iuse::mycus()</a>, <a class="el" href="iuse_8cpp_source.html#l02252">iuse::noise_emitter_off()</a>, <a class="el" href="iuse_8cpp_source.html#l02263">iuse::noise_emitter_on()</a>, <a class="el" href="iuse_8cpp_source.html#l02277">iuse::note_bionics()</a>, <a class="el" href="avatar_8cpp_source.html#l00220">avatar::on_mission_finished()</a>, <a class="el" href="item_8cpp_source.html#l04303">item::on_wield()</a>, <a class="el" href="gates_8cpp_source.html#l00235">gates::open_gate()</a>, <a class="el" href="iuse_8cpp_source.html#l04862">iuse::oxytorch()</a>, <a class="el" href="iuse_8cpp_source.html#l02035">iuse::pack_cbm()</a>, <a class="el" href="iuse_8cpp_source.html#l02066">iuse::pack_item()</a>, <a class="el" href="iuse_8cpp_source.html#l01550">petfood()</a>, <a class="el" href="game_8cpp_source.html#l09990">game::phasing_move()</a>, <a class="el" href="iuse_8cpp_source.html#l03910">iuse::pheromone()</a>, <a class="el" href="iuse_8cpp_source.html#l03282">iuse::pickaxe()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00756">trapfunc::pit()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00884">trapfunc::pit_glass()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00805">trapfunc::pit_spikes()</a>, <a class="el" href="iuse_8cpp_source.html#l01076">iuse::plantblech()</a>, <a class="el" href="iuse_8cpp_source.html#l09724">iuse::play_game()</a>, <a class="el" href="iuse_8cpp_source.html#l04159">iuse::play_music()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04323">activity_handlers::play_with_pet_finish()</a>, <a class="el" href="map__field_8cpp_source.html#l01220">map::player_in_field()</a>, <a class="el" href="handle__action_8cpp_source.html#l00439">pldrive()</a>, <a class="el" href="iuse_8cpp_source.html#l04370">iuse::portable_game()</a>, <a class="el" href="iuse_8cpp_source.html#l03955">iuse::portal()</a>, <a class="el" href="mutation__ui_8cpp_source.html#l00113">power_mutations_ui()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01378">firestarter_actor::prep_firestarter_use()</a>, <a class="el" href="item_8cpp_source.html#l09415">item::process_blackpowder_fouling()</a>, <a class="el" href="item_8cpp_source.html#l09198">item::process_cable()</a>, <a class="el" href="item_8cpp_source.html#l08961">item::process_corpse()</a>, <a class="el" href="player_8cpp_source.html#l01641">process_effects_internal()</a>, <a class="el" href="item_8cpp_source.html#l09105">item::process_extinguish()</a>, <a class="el" href="item_8cpp_source.html#l09455">item::process_internal()</a>, <a class="el" href="item_8cpp_source.html#l09031">item::process_litcig()</a>, <a class="el" href="player_8cpp_source.html#l01432">process_one_effect()</a>, <a class="el" href="sounds_8cpp_source.html#l00386">sounds::process_sound_markers()</a>, <a class="el" href="item_8cpp_source.html#l09302">item::process_tool()</a>, <a class="el" href="player_8cpp_source.html#l00319">process_turn()</a>, <a class="el" href="iuse_8cpp_source.html#l00940">iuse::prozac()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04068">activity_handlers::pry_nails_finish()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01972">activity_handlers::pulp_do_turn()</a>, <a class="el" href="iuse_8cpp_source.html#l01144">iuse::purify_iv()</a>, <a class="el" href="iuse_8cpp_source.html#l01186">iuse::purify_smart()</a>, <a class="el" href="iuse_8cpp_source.html#l05761">iuse::radglove()</a>, <a class="el" href="iuse_8cpp_source.html#l01650">iuse::radio_mod()</a>, <a class="el" href="iuse_8cpp_source.html#l02120">iuse::radio_off()</a>, <a class="el" href="iuse_8cpp_source.html#l02165">iuse::radio_on()</a>, <a class="el" href="iuse_8cpp_source.html#l07896">iuse::radiocar()</a>, <a class="el" href="iuse_8cpp_source.html#l07973">iuse::radiocaron()</a>, <a class="el" href="iuse_8cpp_source.html#l08067">iuse::radiocontrol()</a>, <a class="el" href="handle__action_8cpp_source.html#l00390">rcdrive()</a>, <a class="el" href="melee_8cpp_source.html#l00622">reach_attack()</a>, <a class="el" href="avatar_8cpp_source.html#l00367">avatar::read()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03318">activity_handlers::read_do_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03341">activity_handlers::read_finish()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02858">bandolier_actor::reload()</a>, <a class="el" href="iuse_8cpp_source.html#l08258">iuse::remoteveh()</a>, <a class="el" href="iuse_8cpp_source.html#l00414">remove_radio_mod()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03437">repair_item_actor::repair()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02790">activity_handlers::repair_item_finish()</a>, <a class="el" href="veh__utils_8cpp_source.html#l00109">veh_utils::repair_part()</a>, <a class="el" href="iuse_8cpp_source.html#l09791">iuse::report_grid_charge()</a>, <a class="el" href="iuse_8cpp_source.html#l09802">iuse::report_grid_connections()</a>, <a class="el" href="item_8cpp_source.html#l09254">item::reset_cable()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01411">firestarter_actor::resolve_firestarter_use()</a>, <a class="el" href="iuse_8cpp_source.html#l01980">iuse::rm13armor_off()</a>, <a class="el" href="iuse_8cpp_source.html#l02002">iuse::rm13armor_on()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04467">activity_handlers::robot_control_do_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04485">activity_handlers::robot_control_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l06021">iuse::robotcontrol()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03213">rod_fish()</a>, <a class="el" href="iuse_8cpp_source.html#l04216">iuse::rpgdie()</a>, <a class="el" href="ranged_8cpp_source.html#l02139">target_ui::run()</a>, <a class="el" href="iexamine_8cpp_source.html#l01398">iexamine::safe()</a>, <a class="el" href="player_8cpp_source.html#l00848">search_surroundings()</a>, <a class="el" href="player_8cpp_source.html#l02156">select_ammo()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00685">set_up_butchery_activity()</a>, <a class="el" href="iuse_8cpp_source.html#l09165">iuse::shavekit()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04331">activity_handlers::shaving_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l04053">iuse::shocktonfa_off()</a>, <a class="el" href="iuse_8cpp_source.html#l04077">iuse::shocktonfa_on()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00414">trapfunc::shotgun()</a>, <a class="el" href="iuse_8cpp_source.html#l07438">show_photo_selection()</a>, <a class="el" href="iexamine_8cpp_source.html#l04041">iexamine::sign()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01028">sinkhole_safety_roll()</a>, <a class="el" href="iuse_8cpp_source.html#l02973">iuse::siphon()</a>, <a class="el" href="handle__action_8cpp_source.html#l01000">sleep()</a>, <a class="el" href="iuse_8cpp_source.html#l00954">iuse::sleep()</a>, <a class="el" href="player_8cpp_source.html#l03889">sleep_spot()</a>, <a class="el" href="iexamine_8cpp_source.html#l05385">smoker_load_food()</a>, <a class="el" href="iuse_8cpp_source.html#l00527">iuse::smoking()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03455">activity_handlers::socialize_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l04287">iuse::solarpack()</a>, <a class="el" href="iuse_8cpp_source.html#l04316">iuse::solarpack_off()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04627">activity_handlers::spellcasting_finish()</a>, <a class="el" href="crafting_8cpp_source.html#l00718">start_craft()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02159">activity_handlers::start_fire_do_turn()</a>, <a class="el" href="iuse_8cpp_source.html#l05738">iuse::stimpack()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02665">holster_actor::store()</a>, <a class="el" href="iuse_8cpp_source.html#l09618">iuse::strong_antibiotic()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04774">activity_handlers::study_spell_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l05819">iuse::talking_doll()</a>, <a class="el" href="iuse_8cpp_source.html#l03969">iuse::tazer()</a>, <a class="el" href="iuse_8cpp_source.html#l04038">iuse::tazer2()</a>, <a class="el" href="teleport_8cpp_source.html#l00024">teleport::teleport()</a>, <a class="el" href="iuse_8cpp_source.html#l03467">iuse::teleport()</a>, <a class="el" href="iuse_8cpp_source.html#l00918">iuse::thorazine()</a>, <a class="el" href="iuse_8cpp_source.html#l09776">iuse::toggle_heats_food()</a>, <a class="el" href="player_8cpp_source.html#l03622">toolmod_add()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03084">activity_handlers::toolmod_add_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l05936">iuse::toolmod_attach()</a>, <a class="el" href="iuse_8cpp_source.html#l03023">toolweapon_off()</a>, <a class="el" href="iuse_8cpp_source.html#l03126">toolweapon_on()</a>, <a class="el" href="iuse_8cpp_source.html#l08782">iuse::tow_attach()</a>, <a class="el" href="iuse_8cpp_source.html#l05571">iuse::towel_common()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03154">activity_handlers::travel_do_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04547">activity_handlers::tree_communion_do_turn()</a>, <a class="el" href="iexamine_8cpp_source.html#l03415">iexamine::tree_hickory()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03461">activity_handlers::try_sleep_do_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03655">activity_handlers::try_sleep_finish()</a>, <a class="el" href="player_8cpp_source.html#l03766">try_to_sleep()</a>, <a class="el" href="iuse_8cpp_source.html#l05639">iuse::unfold_generic()</a>, <a class="el" href="iuse_8cpp_source.html#l02022">iuse::unpack_item()</a>, <a class="el" href="player_8cpp_source.html#l03349">use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00211">iuse_transform::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00440">countdown_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00546">explosion_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00633">unfold_vehicle_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00788">consume_drug_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00885">delayed_transform_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00914">set_transform_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01019">place_monster_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01110">place_npc_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01147">pick_lock_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01256">deploy_furn_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01339">reveal_map_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01476">firestarter_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01833">inscribe_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01933">cauterize_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02014">enzlave_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02171">fireweapon_off_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02232">fireweapon_on_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02277">manualnoise_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02714">holster_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02914">bandolier_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02984">ammobelt_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03649">heal_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04148">place_trap_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04443">mutagen_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04511">mutagen_iv_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04592">deploy_tent_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04722">sew_advanced_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02474">learn_spell_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04678">weigh_self_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04254">saw_barrel_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04369">detach_gunmods_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00388">unpack_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02584">cast_spell_actor::use()</a>, <a class="el" href="iuse_8cpp_source.html#l00852">iuse::vaccine()</a>, <a class="el" href="iuse_8cpp_source.html#l04500">iuse::vibe()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03977">activity_handlers::vibe_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l04541">iuse::vortex()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03362">activity_handlers::wait_finish()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03417">activity_handlers::wait_npc_finish()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03438">activity_handlers::wait_stamina_finish()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03368">activity_handlers::wait_weather_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l09524">iuse::wash_all_items()</a>, <a class="el" href="iuse_8cpp_source.html#l09503">iuse::wash_hard_items()</a>, <a class="el" href="iuse_8cpp_source.html#l09542">wash_items()</a>, <a class="el" href="iuse_8cpp_source.html#l09482">iuse::wash_soft_items()</a>, <a class="el" href="iuse_8cpp_source.html#l02093">iuse::water_purifier()</a>, <a class="el" href="iuse_8cpp_source.html#l09606">iuse::weak_antibiotic()</a>, <a class="el" href="iuse_8cpp_source.html#l09191">iuse::weather_tool()</a>, <a class="el" href="iuse_8cpp_source.html#l00791">iuse::weed_cake()</a>, <a class="el" href="effect_8cpp_source.html#l00078">weed_msg()</a>, <a class="el" href="player_8cpp_source.html#l04203">wield_contents()</a>, and <a class="el" href="iuse_8cpp_source.html#l00468">iuse::xanax()</a>.</p>

</div>
</div>
<a id="a85718e842797f36394e6b4ec5916a1ab" name="a85718e842797f36394e6b4ec5916a1ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85718e842797f36394e6b4ec5916a1ab">&#9670;&nbsp;</a></span>add_msg_player_or_npc() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void player::add_msg_player_or_npc </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>player_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>npc_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#addf2eb746446a370a7a7cb4bd00bc6c3">Creature</a>.</p>

<p>Reimplemented in <a class="el" href="classnpc.html#a85718e842797f36394e6b4ec5916a1ab">npc</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04385">4385</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04388" name="l04388"></a><span class="lineno"> 4388</span>{</div>
<div class="line"><a id="l04389" name="l04389"></a><span class="lineno"> 4389</span>    <a class="code hl_function" href="namespaceMessages.html#a156ac466eeb7b86befecfd69abc1ab5d">Messages::add_msg</a>( params, player_msg );</div>
<div class="line"><a id="l04390" name="l04390"></a><span class="lineno"> 4390</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8cpp_source.html#l00341">Messages::add_msg()</a>.</p>

</div>
</div>
<a id="a07108565639fa6fe5b6776b4e8674fb6" name="a07108565639fa6fe5b6776b4e8674fb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07108565639fa6fe5b6776b4e8674fb6">&#9670;&nbsp;</a></span>add_msg_player_or_npc() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void player::add_msg_player_or_npc </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>player_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>npc_str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">Creature</a>.</p>

<p>Reimplemented in <a class="el" href="classnpc.html#a07108565639fa6fe5b6776b4e8674fb6">npc</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04373">4373</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04375" name="l04375"></a><span class="lineno"> 4375</span>{</div>
<div class="line"><a id="l04376" name="l04376"></a><span class="lineno"> 4376</span>    <a class="code hl_function" href="namespaceMessages.html#a156ac466eeb7b86befecfd69abc1ab5d">Messages::add_msg</a>( player_msg );</div>
<div class="line"><a id="l04377" name="l04377"></a><span class="lineno"> 4377</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8cpp_source.html#l00341">Messages::add_msg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l05693">iuse::adrenaline_injector()</a>, <a class="el" href="iuse_8cpp_source.html#l00621">iuse::antibiotic()</a>, <a class="el" href="iexamine_8cpp_source.html#l04707">iexamine::autodoc()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03026">repair_item_actor::can_use_tool()</a>, <a class="el" href="iuse_8cpp_source.html#l09630">iuse::craft()</a>, <a class="el" href="crafting_8cpp_source.html#l01730">craft_consume_tools()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03867">activity_handlers::craft_do_turn()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00319">trapfunc::crossbow()</a>, <a class="el" href="map_8cpp_source.html#l03665">map::crush()</a>, <a class="el" href="crafting_8cpp_source.html#l00905">destroy_random_component()</a>, <a class="el" href="consumption_8cpp_source.html#l00824">eat()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00201">eff_fun_bleed()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00125">eff_fun_fungus()</a>, <a class="el" href="iuse_8cpp_source.html#l00653">iuse::fungicide()</a>, <a class="el" href="iuse_8cpp_source.html#l04330">iuse::gasmask()</a>, <a class="el" href="monattack_8cpp_source.html#l02649">mattack::grab()</a>, <a class="el" href="crafting_8cpp_source.html#l00918">item::handle_craft_failure()</a>, <a class="el" href="ranged_8cpp_source.html#l00589">handle_gun_damage()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00464">hardcoded_effects()</a>, <a class="el" href="player_8cpp_source.html#l01169">impact()</a>, <a class="el" href="iuse_8cpp_source.html#l00991">iuse::inhaler()</a>, <a class="el" href="bionics_8cpp_source.html#l02836">Character::introduce_into_anesthesia()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04264">activity_handlers::jackhammer_finish()</a>, <a class="el" href="player_8cpp_source.html#l01307">knock_back_to()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01115">trapfunc::ledge()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03503">activity_handlers::operation_do_turn()</a>, <a class="el" href="iuse_8cpp_source.html#l01005">iuse::oxygen_bottle()</a>, <a class="el" href="player_8cpp_source.html#l00756">pause()</a>, <a class="el" href="iuse_8cpp_source.html#l03910">iuse::pheromone()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01926">activity_handlers::pickaxe_finish()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03727">activity_handlers::plant_seed_finish()</a>, <a class="el" href="map__field_8cpp_source.html#l01220">map::player_in_field()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01972">activity_handlers::pulp_do_turn()</a>, <a class="el" href="monattack_8cpp_source.html#l04634">mattack::riotbot()</a>, <a class="el" href="crafting_8cpp_source.html#l00663">set_item_map_or_vehicle()</a>, <a class="el" href="vehicle__move_8cpp_source.html#l01565">map::shake_vehicle()</a>, <a class="el" href="trapfunc_8cpp_source.html#l00414">trapfunc::shotgun()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01067">trapfunc::sinkhole()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01028">sinkhole_safety_roll()</a>, <a class="el" href="crafting_8cpp_source.html#l00718">start_craft()</a>, <a class="el" href="iuse_8cpp_source.html#l09618">iuse::strong_antibiotic()</a>, <a class="el" href="player_8cpp_source.html#l02977">takeoff()</a>, <a class="el" href="iuse_8cpp_source.html#l03969">iuse::tazer()</a>, <a class="el" href="teleport_8cpp_source.html#l00024">teleport::teleport()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02325">musical_instrument_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04443">mutagen_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03910">heal_actor::use_healing_item()</a>, <a class="el" href="iuse_8cpp_source.html#l09606">iuse::weak_antibiotic()</a>, and <a class="el" href="player_8cpp_source.html#l02879">wear()</a>.</p>

</div>
</div>
<a id="af49b8304d815bcc9eb6737c940b3c5ed" name="af49b8304d815bcc9eb6737c940b3c5ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af49b8304d815bcc9eb6737c940b3c5ed">&#9670;&nbsp;</a></span>add_msg_player_or_say() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void player::add_msg_player_or_say </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structgame__message__params.html">game_message_params</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>player_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>npc_speech</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a7970a6ee218aedab3b1a575b04959261">Creature</a>.</p>

<p>Reimplemented in <a class="el" href="classnpc.html#af49b8304d815bcc9eb6737c940b3c5ed">npc</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04398">4398</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04401" name="l04401"></a><span class="lineno"> 4401</span>{</div>
<div class="line"><a id="l04402" name="l04402"></a><span class="lineno"> 4402</span>    <a class="code hl_function" href="namespaceMessages.html#a156ac466eeb7b86befecfd69abc1ab5d">Messages::add_msg</a>( params, player_msg );</div>
<div class="line"><a id="l04403" name="l04403"></a><span class="lineno"> 4403</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8cpp_source.html#l00341">Messages::add_msg()</a>.</p>

</div>
</div>
<a id="afcbd1476690aeb6a2b8de82e9e7a9cee" name="afcbd1476690aeb6a2b8de82e9e7a9cee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcbd1476690aeb6a2b8de82e9e7a9cee">&#9670;&nbsp;</a></span>add_msg_player_or_say() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void player::add_msg_player_or_say </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>player_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>npc_speech</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a915f59d2cd13a723af0b26fba3703926">Creature</a>.</p>

<p>Reimplemented in <a class="el" href="classnpc.html#afcbd1476690aeb6a2b8de82e9e7a9cee">npc</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04392">4392</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04394" name="l04394"></a><span class="lineno"> 4394</span>{</div>
<div class="line"><a id="l04395" name="l04395"></a><span class="lineno"> 4395</span>    <a class="code hl_function" href="namespaceMessages.html#a156ac466eeb7b86befecfd69abc1ab5d">Messages::add_msg</a>( player_msg );</div>
<div class="line"><a id="l04396" name="l04396"></a><span class="lineno"> 4396</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8cpp_source.html#l00341">Messages::add_msg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l05761">iuse::radglove()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00788">consume_drug_iuse::use()</a>.</p>

</div>
</div>
<a id="a9b9bfe7bf07eeec92c3879e63b84cecb" name="a9b9bfe7bf07eeec92c3879e63b84cecb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b9bfe7bf07eeec92c3879e63b84cecb">&#9670;&nbsp;</a></span>add_or_drop_with_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::add_or_drop_with_msg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>unloading</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>So far only called by <a class="el" href="classplayer.html#a354106a089a5ddf51b5ecd81c75369db">unload()</a> from <a class="el" href="game_8cpp.html">game.cpp</a>. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03026">3026</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03027" name="l03027"></a><span class="lineno"> 3027</span>{</div>
<div class="line"><a id="l03028" name="l03028"></a><span class="lineno"> 3028</span>    <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l03029" name="l03029"></a><span class="lineno"> 3029</span>        <a class="code hl_function" href="namespaceliquid__handler.html#a023eff9e47ac7d16bcf9e72c09cb630b">liquid_handler::consume_liquid</a>( it, 1 );</div>
<div class="line"><a id="l03030" name="l03030"></a><span class="lineno"> 3030</span>        <span class="keywordflow">return</span> it.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &lt;= 0;</div>
<div class="line"><a id="l03031" name="l03031"></a><span class="lineno"> 3031</span>    }</div>
<div class="line"><a id="l03032" name="l03032"></a><span class="lineno"> 3032</span>    it.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = this-&gt;<a class="code hl_function" href="classCharacter.html#ae3984315b08c3e42f11694f2572b10b1">i_add_to_container</a>( it, unloading );</div>
<div class="line"><a id="l03033" name="l03033"></a><span class="lineno"> 3033</span>    <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#ac3cc4d74d020cbd36ae490cbe88f9152">is_ammo</a>() &amp;&amp; it.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> == 0 ) {</div>
<div class="line"><a id="l03034" name="l03034"></a><span class="lineno"> 3034</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03035" name="l03035"></a><span class="lineno"> 3035</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !this-&gt;<a class="code hl_function" href="classCharacter.html#a9194d4ec193c9a26488fb7ccde73437c">can_pick_volume</a>( it ) ) {</div>
<div class="line"><a id="l03036" name="l03036"></a><span class="lineno"> 3036</span>        <a class="code hl_function" href="activity__handlers_8h.html#aaffe872a8e49c99b600d61b6e1b4062e">put_into_vehicle_or_drop</a>( *<span class="keyword">this</span>, <a class="code hl_enumvalue" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a7a45a1d1bfe36a2c1205fbd1b450d80a">item_drop_reason::too_large</a>, { it } );</div>
<div class="line"><a id="l03037" name="l03037"></a><span class="lineno"> 3037</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !this-&gt;<a class="code hl_function" href="classCharacter.html#aef94559a8419824449833a59a1573aaf">can_pick_weight</a>( it, !get_option&lt;bool&gt;( <span class="stringliteral">&quot;DANGEROUS_PICKUPS&quot;</span> ) ) ) {</div>
<div class="line"><a id="l03038" name="l03038"></a><span class="lineno"> 3038</span>        <a class="code hl_function" href="activity__handlers_8h.html#aaffe872a8e49c99b600d61b6e1b4062e">put_into_vehicle_or_drop</a>( *<span class="keyword">this</span>, <a class="code hl_enumvalue" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611aff8308727957bfea9d0a143e9fc77e5e">item_drop_reason::too_heavy</a>, { it } );</div>
<div class="line"><a id="l03039" name="l03039"></a><span class="lineno"> 3039</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03040" name="l03040"></a><span class="lineno"> 3040</span>        <span class="keyword">auto</span> &amp;ni = this-&gt;<a class="code hl_function" href="classCharacter.html#a611bd51d6d4fa9c119787f2fbc6bdd52">i_add</a>( it );</div>
<div class="line"><a id="l03041" name="l03041"></a><span class="lineno"> 3041</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You put the %s in your inventory.&quot;</span> ), ni.tname() );</div>
<div class="line"><a id="l03042" name="l03042"></a><span class="lineno"> 3042</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <span class="stringliteral">&quot;%c - %s&quot;</span>, ni.invlet == 0 ? <span class="charliteral">&#39; &#39;</span> : ni.invlet, ni.tname() );</div>
<div class="line"><a id="l03043" name="l03043"></a><span class="lineno"> 3043</span>    }</div>
<div class="line"><a id="l03044" name="l03044"></a><span class="lineno"> 3044</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03045" name="l03045"></a><span class="lineno"> 3045</span>}</div>
<div class="ttc" id="aactivity__handlers_8h_html_a3931cba30166834e066ef80c02d84611a7a45a1d1bfe36a2c1205fbd1b450d80a"><div class="ttname"><a href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a7a45a1d1bfe36a2c1205fbd1b450d80a">item_drop_reason::too_large</a></div><div class="ttdeci">@ too_large</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_a3931cba30166834e066ef80c02d84611aff8308727957bfea9d0a143e9fc77e5e"><div class="ttname"><a href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611aff8308727957bfea9d0a143e9fc77e5e">item_drop_reason::too_heavy</a></div><div class="ttdeci">@ too_heavy</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_aaffe872a8e49c99b600d61b6e1b4062e"><div class="ttname"><a href="activity__handlers_8h.html#aaffe872a8e49c99b600d61b6e1b4062e">put_into_vehicle_or_drop</a></div><div class="ttdeci">void put_into_vehicle_or_drop(Character &amp;c, item_drop_reason, const std::list&lt; item &gt; &amp;items)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l00389">activity_item_handling.cpp:389</a></div></div>
<div class="ttc" id="aclassCharacter_html_a611bd51d6d4fa9c119787f2fbc6bdd52"><div class="ttname"><a href="classCharacter.html#a611bd51d6d4fa9c119787f2fbc6bdd52">Character::i_add</a></div><div class="ttdeci">item &amp; i_add(item it, bool should_stack=true)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02310">character.cpp:2310</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9194d4ec193c9a26488fb7ccde73437c"><div class="ttname"><a href="classCharacter.html#a9194d4ec193c9a26488fb7ccde73437c">Character::can_pick_volume</a></div><div class="ttdeci">bool can_pick_volume(const item &amp;it) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02868">character.cpp:2868</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae3984315b08c3e42f11694f2572b10b1"><div class="ttname"><a href="classCharacter.html#ae3984315b08c3e42f11694f2572b10b1">Character::i_add_to_container</a></div><div class="ttdeci">int i_add_to_container(const item &amp;it, bool unloading)</div><div class="ttdoc">Try to find a container/s on character containing ammo of type it.typeId() and add charges until the ...</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02274">character.cpp:2274</a></div></div>
<div class="ttc" id="aclassCharacter_html_aef94559a8419824449833a59a1573aaf"><div class="ttname"><a href="classCharacter.html#aef94559a8419824449833a59a1573aaf">Character::can_pick_weight</a></div><div class="ttdeci">bool can_pick_weight(const item &amp;it, bool safe=true) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02882">character.cpp:2882</a></div></div>
<div class="ttc" id="aclassitem_html_a4326944ae95f4d265c8ca1c76ed89a03"><div class="ttname"><a href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">item::made_of</a></div><div class="ttdeci">const std::vector&lt; material_id &gt; &amp; made_of() const</div><div class="ttdoc">The ids of all the materials this is made of.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06263">item.cpp:6263</a></div></div>
<div class="ttc" id="aclassitem_html_a6bfb92ab5d41e0eb3a1da160fac71b0e"><div class="ttname"><a href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">item::charges</a></div><div class="ttdeci">int charges</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02195">item.h:2195</a></div></div>
<div class="ttc" id="aclassitem_html_ac3cc4d74d020cbd36ae490cbe88f9152"><div class="ttname"><a href="classitem.html#ac3cc4d74d020cbd36ae490cbe88f9152">item::is_ammo</a></div><div class="ttdeci">bool is_ammo() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06432">item.cpp:6432</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a></div><div class="ttdeci">@ m_info</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00258">enums.h:258</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a></div><div class="ttdeci">@ LIQUID</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00175">enums.h:175</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00884">messages.cpp:884</a></div></div>
<div class="ttc" id="anamespaceliquid__handler_html_a023eff9e47ac7d16bcf9e72c09cb630b"><div class="ttname"><a href="namespaceliquid__handler.html#a023eff9e47ac7d16bcf9e72c09cb630b">liquid_handler::consume_liquid</a></div><div class="ttdeci">bool consume_liquid(item &amp;liquid, const int radius)</div><div class="ttdoc">Consume / handle as much of the liquid as possible in varying ways.</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8cpp_source.html#l00105">handle_liquid.cpp:105</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="character_8cpp_source.html#l02868">Character::can_pick_volume()</a>, <a class="el" href="character_8cpp_source.html#l02882">Character::can_pick_weight()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00105">liquid_handler::consume_liquid()</a>, <a class="el" href="character_8cpp_source.html#l02310">Character::i_add()</a>, <a class="el" href="character_8cpp_source.html#l02274">Character::i_add_to_container()</a>, <a class="el" href="item_8cpp_source.html#l06432">item::is_ammo()</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="item_8cpp_source.html#l06263">item::made_of()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00389">put_into_vehicle_or_drop()</a>, <a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611aff8308727957bfea9d0a143e9fc77e5e">too_heavy</a>, and <a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a7a45a1d1bfe36a2c1205fbd1b450d80a">too_large</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l03047">unload()</a>.</p>

</div>
</div>
<a id="ae57cd543ddae82149c53bc43c12ffd54" name="ae57cd543ddae82149c53bc43c12ffd54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae57cd543ddae82149c53bc43c12ffd54">&#9670;&nbsp;</a></span>add_pain_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::add_pain_msg </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a>&#160;</td>
          <td class="paramname"><em>bp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01395">1395</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>{</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#af20cb84a6e8ccc0ed66c352edf29143b">trait_NOPAIN</a> ) ) {</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>    }</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>    <span class="keywordflow">if</span>( bp == <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> ) {</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>        <span class="keywordflow">if</span>( val &gt; 20 ) {</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your body is wracked with excruciating pain!&quot;</span> ) );</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( val &gt; 10 ) {</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your body is wracked with terrible pain!&quot;</span> ) );</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( val &gt; 5 ) {</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your body is wracked with pain!&quot;</span> ) );</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( val &gt; 1 ) {</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your body pains you!&quot;</span> ) );</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your body aches.&quot;</span> ) );</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>        }</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>        <span class="keywordflow">if</span>( val &gt; 20 ) {</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s is wracked with excruciating pain!&quot;</span> ),</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>                               <a class="code hl_function" href="bodypart_8cpp.html#ab29c0bad9828b787ace4d04a5e951c6b">body_part_name_accusative</a>( bp ) );</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( val &gt; 10 ) {</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s is wracked with terrible pain!&quot;</span> ),</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>                               <a class="code hl_function" href="bodypart_8cpp.html#ab29c0bad9828b787ace4d04a5e951c6b">body_part_name_accusative</a>( bp ) );</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( val &gt; 5 ) {</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s is wracked with pain!&quot;</span> ),</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>                               <a class="code hl_function" href="bodypart_8cpp.html#ab29c0bad9828b787ace4d04a5e951c6b">body_part_name_accusative</a>( bp ) );</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( val &gt; 1 ) {</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s pains you!&quot;</span> ),</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>                               <a class="code hl_function" href="bodypart_8cpp.html#ab29c0bad9828b787ace4d04a5e951c6b">body_part_name_accusative</a>( bp ) );</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s aches.&quot;</span> ),</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>                               <a class="code hl_function" href="bodypart_8cpp.html#ab29c0bad9828b787ace4d04a5e951c6b">body_part_name_accusative</a>( bp ) );</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>        }</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>    }</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>}</div>
<div class="ttc" id="abodypart_8cpp_html_ab29c0bad9828b787ace4d04a5e951c6b"><div class="ttname"><a href="bodypart_8cpp.html#ab29c0bad9828b787ace4d04a5e951c6b">body_part_name_accusative</a></div><div class="ttdeci">std::string body_part_name_accusative(body_part bp, int number)</div><div class="ttdoc">Returns the matching accusative name of the body_part token, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00329">bodypart.cpp:329</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a></div><div class="ttdeci">@ num_bp</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00053">bodypart.h:52</a></div></div>
<div class="ttc" id="aclassCharacter_html_af06dd97724f4f05df782e7a4b4f9cfe1"><div class="ttname"><a href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">Character::has_trait</a></div><div class="ttdeci">bool has_trait(const trait_id &amp;b) const override</div><div class="ttdoc">Returns true if the player has the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00103">mutation.cpp:103</a></div></div>
<div class="ttc" id="aclassplayer_html_ae7009d849f19a4f5ebe877cbe463c459"><div class="ttname"><a href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">player::add_msg_if_player</a></div><div class="ttdeci">void add_msg_if_player(const std::string &amp;msg) const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04368">player.cpp:4368</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_af20cb84a6e8ccc0ed66c352edf29143b"><div class="ttname"><a href="player_8cpp.html#af20cb84a6e8ccc0ed66c352edf29143b">trait_NOPAIN</a></div><div class="ttdeci">static const trait_id trait_NOPAIN(&quot;NOPAIN&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="bodypart_8cpp_source.html#l00329">body_part_name_accusative()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="bodypart_8h_source.html#l00052">num_bp</a>, and <a class="el" href="player_8cpp.html#af20cb84a6e8ccc0ed66c352edf29143b">trait_NOPAIN</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l01432">process_one_effect()</a>.</p>

</div>
</div>
<a id="a807fa880457247495f511add1ceceeca" name="a807fa880457247495f511add1ceceeca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a807fa880457247495f511add1ceceeca">&#9670;&nbsp;</a></span>as_player() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classplayer.html">player</a> * player::as_player </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#ae5c2667ead9d05298546df12dfeb88e3">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00120">120</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>                                                 {</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>            <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae324fd4928f77b6f7f9e1a28e238f51f" name="ae324fd4928f77b6f7f9e1a28e238f51f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae324fd4928f77b6f7f9e1a28e238f51f">&#9670;&nbsp;</a></span>as_player() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classplayer.html">player</a> * player::as_player </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#acb1d0a1210d3dd4c86350f3ad4c58649">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00117">117</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>                                     {</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>            <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>        }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l03329">npc::do_player_activity()</a>, and <a class="el" href="npcmove_8cpp_source.html#l02556">npc::find_job_to_perform()</a>.</p>

</div>
</div>
<a id="a39537c9669f9a81b8ac7e52ea9aae0dd" name="a39537c9669f9a81b8ac7e52ea9aae0dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39537c9669f9a81b8ac7e52ea9aae0dd">&#9670;&nbsp;</a></span>available_assistant_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::available_assistant_count </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>rec</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For use with in progress crafts. </p>

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00383">383</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>{</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <span class="comment">// NPCs around you should assist in batch production if they have the skills</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <span class="comment">// TODO: Cache them in activity, include them in modifier calculations</span></div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    <span class="keyword">const</span> <span class="keyword">auto</span> helpers = <a class="code hl_function" href="classplayer.html#a1ca63c0414c6b4ea34691ef1f4f40047">get_crafting_helpers</a>();</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>    <span class="keywordflow">return</span> std::count_if( helpers.begin(), helpers.end(),</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classnpc.html">npc</a> * np ) {</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>        return np-&gt;get_skill_level( rec.skill_used ) &gt;= rec.difficulty;</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    } );</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>}</div>
<div class="ttc" id="aclassnpc_html"><div class="ttname"><a href="classnpc.html">npc</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00780">npc.h:781</a></div></div>
<div class="ttc" id="aclassplayer_html_a1ca63c0414c6b4ea34691ef1f4f40047"><div class="ttname"><a href="classplayer.html#a1ca63c0414c6b4ea34691ef1f4f40047">player::get_crafting_helpers</a></div><div class="ttdeci">std::vector&lt; npc * &gt; get_crafting_helpers(size_t max=0) const</div><div class="ttdoc">Returns nearby NPCs ready and willing to help with crafting or some other manual task.</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l02322">crafting.cpp:2322</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting_8cpp_source.html#l02322">get_crafting_helpers()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l00394">base_time_to_craft()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03867">activity_handlers::craft_do_turn()</a>, <a class="el" href="player__activity_8cpp_source.html#l00118">craft_progress_message()</a>, and <a class="el" href="crafting_8cpp_source.html#l00400">expected_time_to_craft()</a>.</p>

</div>
</div>
<a id="ad96e0c895f6ffe7dd924ede585b23d4c" name="ad96e0c895f6ffe7dd924ede585b23d4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad96e0c895f6ffe7dd924ede585b23d4c">&#9670;&nbsp;</a></span>avoid_trap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool player::avoid_trap </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtrap.html">trap</a> &amp;&#160;</td>
          <td class="paramname"><em>tr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when a player triggers a trap, returns true if they don't set it off. </p>
Dexterity increases chance to avoid traps Dodge increases chance to avoid traps 
<p>Implements <a class="el" href="classCreature.html#ab05a268cf94f22bff124331bddbada33">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00740">740</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>{<span class="comment"></span></div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span><span class="comment">    /** @EFFECT_DEX increases chance to avoid traps */</span></div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span><span class="comment"></span> </div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span><span class="comment">    /** @EFFECT_DODGE increases chance to avoid traps */</span></div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>    <span class="keywordtype">int</span> myroll = <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 3, <a class="code hl_variable" href="classCharacter.html#a4065ac02745befad248425d307b71849">dex_cur</a> + <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="player_8cpp.html#a1d5482b7403ee4ac3e70e88ecfee2141">skill_dodge</a> ) * 1.5 );</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>    <span class="keywordtype">int</span> traproll;</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>    <span class="keywordflow">if</span>( tr.<a class="code hl_function" href="structtrap.html#abeb5ff27f9f78475035f22aabdcfe834">can_see</a>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>, *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>        traproll = <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 3, tr.<a class="code hl_function" href="structtrap.html#a2a6aca9abdabfc0381ca8e3438da9e84">get_avoidance</a>() );</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>        traproll = <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 6, tr.<a class="code hl_function" href="structtrap.html#a2a6aca9abdabfc0381ca8e3438da9e84">get_avoidance</a>() );</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>    }</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span> </div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>    <span class="keywordflow">return</span> myroll &gt;= traproll;</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>}</div>
<div class="ttc" id="aclassCharacter_html_ad24859164517ed6e392e21df69527199"><div class="ttname"><a href="classCharacter.html#ad24859164517ed6e392e21df69527199">Character::pos</a></div><div class="ttdeci">const tripoint &amp; pos() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00707">character.cpp:707</a></div></div>
<div class="ttc" id="aclassCharacter_html_afa95fe499ca6b55ab97f1b442a4c95c5"><div class="ttname"><a href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">Character::get_skill_level</a></div><div class="ttdeci">int get_skill_level(const skill_id &amp;ident) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03327">character.cpp:3327</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a1d5482b7403ee4ac3e70e88ecfee2141"><div class="ttname"><a href="player_8cpp.html#a1d5482b7403ee4ac3e70e88ecfee2141">skill_dodge</a></div><div class="ttdeci">static const skill_id skill_dodge(&quot;dodge&quot;)</div></div>
<div class="ttc" id="arng_8cpp_html_a7ba03e7147e43d808dc29c54bce9e57f"><div class="ttname"><a href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a></div><div class="ttdeci">int dice(int number, int sides)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00085">rng.cpp:85</a></div></div>
<div class="ttc" id="astructtrap_html_a2a6aca9abdabfc0381ca8e3438da9e84"><div class="ttname"><a href="structtrap.html#a2a6aca9abdabfc0381ca8e3438da9e84">trap::get_avoidance</a></div><div class="ttdeci">int get_avoidance() const</div><div class="ttdoc">Whether triggering the trap can be avoid (if greater than 0) and if so, this is compared to dodge ski...</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00144">trap.h:144</a></div></div>
<div class="ttc" id="astructtrap_html_abeb5ff27f9f78475035f22aabdcfe834"><div class="ttname"><a href="structtrap.html#abeb5ff27f9f78475035f22aabdcfe834">trap::can_see</a></div><div class="ttdeci">bool can_see(const tripoint &amp;pos, const Character &amp;p) const</div><div class="ttdoc">Can player/npc p see this kind of trap, either by their memory (they known there is the trap) or by t...</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00223">trap.cpp:223</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trap_8cpp_source.html#l00223">trap::can_see()</a>, <a class="el" href="character_8h_source.html#l00305">Character::dex_cur</a>, <a class="el" href="rng_8cpp_source.html#l00085">dice()</a>, <a class="el" href="trap_8h_source.html#l00144">trap::get_avoidance()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, and <a class="el" href="player_8cpp.html#a1d5482b7403ee4ac3e70e88ecfee2141">skill_dodge</a>.</p>

</div>
</div>
<a id="a1eb30a8d6bfec2c190e360f9c14d69b0" name="a1eb30a8d6bfec2c190e360f9c14d69b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eb30a8d6bfec2c190e360f9c14d69b0">&#9670;&nbsp;</a></span>base_time_to_craft()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::base_time_to_craft </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch_size</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Time to craft not including speed multiplier. </p>

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00394">394</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>{</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> assistants = <a class="code hl_function" href="classplayer.html#a39537c9669f9a81b8ac7e52ea9aae0dd">available_assistant_count</a>( rec );</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    <span class="keywordflow">return</span> rec.<a class="code hl_function" href="classrecipe.html#ae553a7e929ae8776eb5a8c19422ec83b">batch_time</a>( batch_size, 1.0f, assistants );</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>}</div>
<div class="ttc" id="aclassplayer_html_a39537c9669f9a81b8ac7e52ea9aae0dd"><div class="ttname"><a href="classplayer.html#a39537c9669f9a81b8ac7e52ea9aae0dd">player::available_assistant_count</a></div><div class="ttdeci">int available_assistant_count(const recipe &amp;rec) const</div><div class="ttdoc">For use with in progress crafts.</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00383">crafting.cpp:383</a></div></div>
<div class="ttc" id="aclassrecipe_html_ae553a7e929ae8776eb5a8c19422ec83b"><div class="ttname"><a href="classrecipe.html#ae553a7e929ae8776eb5a8c19422ec83b">recipe::batch_time</a></div><div class="ttdeci">int batch_time(int batch, float multiplier, size_t assistants) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00048">recipe.cpp:48</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting_8cpp_source.html#l00383">available_assistant_count()</a>, and <a class="el" href="recipe_8cpp_source.html#l00048">recipe::batch_time()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l00762">craft_skill_gain()</a>.</p>

</div>
</div>
<a id="a5c73f7ea4519b34a81aeaa2724d9e7d5" name="a5c73f7ea4519b34a81aeaa2724d9e7d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c73f7ea4519b34a81aeaa2724d9e7d5">&#9670;&nbsp;</a></span>basic_symbol_color()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnc__color.html">nc_color</a> player::basic_symbol_color </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns what color the player should be drawn as. </p>

<p>Implements <a class="el" href="classCreature.html#ae5454f0e4db71d31ab3c1331e5103a4b">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00596">596</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>{</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a> ) ) {</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>    }</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a> ) ) {</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>;</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>    }</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">effect_boomered</a> ) ) {</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#a6c870a877c442090edead1e229b3953d">c_pink</a>;</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>    }</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a225de862f8875f9ff96ec8a303213404">has_active_mutation</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad03d97c03c94cd08796f4787856af713">trait_id</a>( <span class="stringliteral">&quot;SHELL2&quot;</span> ) ) ) {</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a>;</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>    }</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a> ) {</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#a2740fd73e1b9184c904d95a580c5ea7b">c_blue</a>;</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>    }</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af9c7419575e23d52745c94009929fafb">has_active_bionic</a>( <a class="code hl_variable" href="player_8cpp.html#a8d1fcf8d24e911eb69b460cd5cd32f9a">bio_cloak</a> ) || <a class="code hl_function" href="classCharacter.html#a24f9a7fe69a7d8c34809d16e62ac2cf4">has_artifact_with</a>( <a class="code hl_enumvalue" href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621acf3bf5a0f1102b3f8a7765edeea8455a">AEP_INVISIBLE</a> ) ||</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>        <a class="code hl_function" href="classCharacter.html#a33ae50fa04d45782f640c2fc572d9eee">is_wearing_active_optcloak</a>() || <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a45fe17320739b38daf72f34792dbd657">trait_DEBUG_CLOAK</a> ) ) {</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>;</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>    }</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a06fbfa18194705b5ebe040d6da3d5116">move_mode</a> == <a class="code hl_enumvalue" href="character_8h.html#af749573d20b6327d21f9588ebdd5b19ba3d69a30a227d3f7bcd67e80d164cf786">CMM_RUN</a> ) {</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>;</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>    }</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a06fbfa18194705b5ebe040d6da3d5116">move_mode</a> == <a class="code hl_enumvalue" href="character_8h.html#af749573d20b6327d21f9588ebdd5b19baa1885f8602d8a35017c4a310ed64e62b">CMM_CROUCH</a> ) {</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>;</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>    }</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>;</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4ad03d97c03c94cd08796f4787856af713"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad03d97c03c94cd08796f4787856af713">cata_variant_type::trait_id</a></div><div class="ttdeci">@ trait_id</div></div>
<div class="ttc" id="acharacter_8h_html_af749573d20b6327d21f9588ebdd5b19ba3d69a30a227d3f7bcd67e80d164cf786"><div class="ttname"><a href="character_8h.html#af749573d20b6327d21f9588ebdd5b19ba3d69a30a227d3f7bcd67e80d164cf786">CMM_RUN</a></div><div class="ttdeci">@ CMM_RUN</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00098">character.h:98</a></div></div>
<div class="ttc" id="acharacter_8h_html_af749573d20b6327d21f9588ebdd5b19baa1885f8602d8a35017c4a310ed64e62b"><div class="ttname"><a href="character_8h.html#af749573d20b6327d21f9588ebdd5b19baa1885f8602d8a35017c4a310ed64e62b">CMM_CROUCH</a></div><div class="ttdeci">@ CMM_CROUCH</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00099">character.h:99</a></div></div>
<div class="ttc" id="aclassCharacter_html_a06fbfa18194705b5ebe040d6da3d5116"><div class="ttname"><a href="classCharacter.html#a06fbfa18194705b5ebe040d6da3d5116">Character::move_mode</a></div><div class="ttdeci">character_movemode move_mode</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02188">character.h:2188</a></div></div>
<div class="ttc" id="aclassCharacter_html_a225de862f8875f9ff96ec8a303213404"><div class="ttname"><a href="classCharacter.html#a225de862f8875f9ff96ec8a303213404">Character::has_active_mutation</a></div><div class="ttdeci">bool has_active_mutation(const trait_id &amp;b) const</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00367">mutation.cpp:367</a></div></div>
<div class="ttc" id="aclassCharacter_html_a24f9a7fe69a7d8c34809d16e62ac2cf4"><div class="ttname"><a href="classCharacter.html#a24f9a7fe69a7d8c34809d16e62ac2cf4">Character::has_artifact_with</a></div><div class="ttdeci">virtual bool has_artifact_with(art_effect_passive effect) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03201">character.cpp:3201</a></div></div>
<div class="ttc" id="aclassCharacter_html_a33ae50fa04d45782f640c2fc572d9eee"><div class="ttname"><a href="classCharacter.html#a33ae50fa04d45782f640c2fc572d9eee">Character::is_wearing_active_optcloak</a></div><div class="ttdeci">bool is_wearing_active_optcloak() const</div><div class="ttdoc">Returns true if the player is wearing an active optical cloak.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03802">character.cpp:3802</a></div></div>
<div class="ttc" id="aclassCharacter_html_af9c7419575e23d52745c94009929fafb"><div class="ttname"><a href="classCharacter.html#af9c7419575e23d52745c94009929fafb">Character::has_active_bionic</a></div><div class="ttdeci">bool has_active_bionic(const bionic_id &amp;b) const</div><div class="ttdoc">Returns true if the player has the entered bionic id and it is powered on.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01876">character.cpp:1876</a></div></div>
<div class="ttc" id="aclassCreature_html_a0a561860988a2692df47476d9a15511e"><div class="ttname"><a href="classCreature.html#a0a561860988a2692df47476d9a15511e">Creature::underwater</a></div><div class="ttdeci">bool underwater</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00570">creature.h:570</a></div></div>
<div class="ttc" id="aclassCreature_html_a6fb79df9315dc2bed6f34d9a2e37da90"><div class="ttname"><a href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">Creature::has_effect</a></div><div class="ttdeci">bool has_effect(const efftype_id &amp;eff_id, body_part bp=num_bp) const</div><div class="ttdoc">Check if creature has the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01173">creature.cpp:1173</a></div></div>
<div class="ttc" id="acolor_8h_html_a0d06dc49b9761bbc54607397213728bb"><div class="ttname"><a href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a></div><div class="ttdeci">#define c_white</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00018">color.h:18</a></div></div>
<div class="ttc" id="acolor_8h_html_a1b1e3c0bef566a83c3535e38a93ad733"><div class="ttname"><a href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a></div><div class="ttdeci">#define c_light_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00019">color.h:19</a></div></div>
<div class="ttc" id="acolor_8h_html_a2740fd73e1b9184c904d95a580c5ea7b"><div class="ttname"><a href="color_8h.html#a2740fd73e1b9184c904d95a580c5ea7b">c_blue</a></div><div class="ttdeci">#define c_blue</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00023">color.h:23</a></div></div>
<div class="ttc" id="acolor_8h_html_a39fc218ef401d918701636583a85a168"><div class="ttname"><a href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a></div><div class="ttdeci">#define c_magenta</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00025">color.h:25</a></div></div>
<div class="ttc" id="acolor_8h_html_a5738d18ff9e165cca088a623cb1883ae"><div class="ttname"><a href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a></div><div class="ttdeci">#define c_dark_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00020">color.h:20</a></div></div>
<div class="ttc" id="acolor_8h_html_a6c870a877c442090edead1e229b3953d"><div class="ttname"><a href="color_8h.html#a6c870a877c442090edead1e229b3953d">c_pink</a></div><div class="ttdeci">#define c_pink</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00031">color.h:31</a></div></div>
<div class="ttc" id="acolor_8h_html_a7b00fb82de0be83f6fc5f7965ea86623"><div class="ttname"><a href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a></div><div class="ttdeci">#define c_light_blue</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00029">color.h:29</a></div></div>
<div class="ttc" id="acolor_8h_html_a81e80ab9142609903b4788a6bb31ae45"><div class="ttname"><a href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a></div><div class="ttdeci">#define c_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00032">color.h:32</a></div></div>
<div class="ttc" id="acolor_8h_html_af0a87eaef36305269f4506dfa34d94c0"><div class="ttname"><a href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a></div><div class="ttdeci">#define c_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00021">color.h:21</a></div></div>
<div class="ttc" id="aenums_8h_html_abbe6432d5446acdbb3c80999ba5a4621acf3bf5a0f1102b3f8a7765edeea8455a"><div class="ttname"><a href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621acf3bf5a0f1102b3f8a7765edeea8455a">AEP_INVISIBLE</a></div><div class="ttdeci">@ AEP_INVISIBLE</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00110">enums.h:110</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a45fe17320739b38daf72f34792dbd657"><div class="ttname"><a href="player_8cpp.html#a45fe17320739b38daf72f34792dbd657">trait_DEBUG_CLOAK</a></div><div class="ttdeci">static const trait_id trait_DEBUG_CLOAK(&quot;DEBUG_CLOAK&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a468a4ea99d05230e46c7e014a68270a7"><div class="ttname"><a href="player_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">effect_boomered</a></div><div class="ttdeci">static const efftype_id effect_boomered(&quot;boomered&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a8d1fcf8d24e911eb69b460cd5cd32f9a"><div class="ttname"><a href="player_8cpp.html#a8d1fcf8d24e911eb69b460cd5cd32f9a">bio_cloak</a></div><div class="ttdeci">static const bionic_id bio_cloak(&quot;bio_cloak&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_ad1df0ca2944a94c3ad796e8baada33ae"><div class="ttname"><a href="player_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a></div><div class="ttdeci">static const efftype_id effect_stunned(&quot;stunned&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_afcfa82c36c0dc2d76cd19d622c2b6ab4"><div class="ttname"><a href="player_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a></div><div class="ttdeci">static const efftype_id effect_onfire(&quot;onfire&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="enums_8h_source.html#l00110">AEP_INVISIBLE</a>, <a class="el" href="player_8cpp.html#a8d1fcf8d24e911eb69b460cd5cd32f9a">bio_cloak</a>, <a class="el" href="color_8h_source.html#l00023">c_blue</a>, <a class="el" href="color_8h_source.html#l00020">c_dark_gray</a>, <a class="el" href="color_8h_source.html#l00029">c_light_blue</a>, <a class="el" href="color_8h_source.html#l00019">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00025">c_magenta</a>, <a class="el" href="color_8h_source.html#l00031">c_pink</a>, <a class="el" href="color_8h_source.html#l00021">c_red</a>, <a class="el" href="color_8h_source.html#l00018">c_white</a>, <a class="el" href="color_8h_source.html#l00032">c_yellow</a>, <a class="el" href="character_8h_source.html#l00099">CMM_CROUCH</a>, <a class="el" href="character_8h_source.html#l00098">CMM_RUN</a>, <a class="el" href="player_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">effect_boomered</a>, <a class="el" href="player_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>, <a class="el" href="player_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, <a class="el" href="character_8cpp_source.html#l01876">Character::has_active_bionic()</a>, <a class="el" href="mutation_8cpp_source.html#l00367">Character::has_active_mutation()</a>, <a class="el" href="character_8cpp_source.html#l03201">Character::has_artifact_with()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8cpp_source.html#l03802">Character::is_wearing_active_optcloak()</a>, <a class="el" href="character_8h_source.html#l02188">Character::move_mode</a>, <a class="el" href="player_8cpp.html#a45fe17320739b38daf72f34792dbd657">trait_DEBUG_CLOAK</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad03d97c03c94cd08796f4787856af713">trait_id</a>, and <a class="el" href="creature_8h_source.html#l00570">Creature::underwater</a>.</p>

</div>
</div>
<a id="af97ad12737b2d639c6c7249043b346ac" name="af97ad12737b2d639c6c7249043b346ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af97ad12737b2d639c6c7249043b346ac">&#9670;&nbsp;</a></span>beyond_final_warning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::beyond_final_warning </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02143">2143</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span>{</div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span>    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code hl_variable" href="classplayer.html#a3da8cabad8655c681d26fbb1be26f92a">warning_record</a>.find( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span>    <span class="keywordflow">if</span>( it != <a class="code hl_variable" href="classplayer.html#a3da8cabad8655c681d26fbb1be26f92a">warning_record</a>.end() ) {</div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span>        <span class="keywordflow">if</span>( it-&gt;second.second - <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> &gt; 5_minutes ) {</div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span>            it-&gt;second.first = std::max( 0,</div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span>                                         it-&gt;second.first - 1 );</div>
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"> 2150</span>        }</div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span>        <span class="keywordflow">return</span> it-&gt;second.first &gt; 3;</div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span>    }</div>
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"> 2153</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, and <a class="el" href="player_8h_source.html#l00769">warning_record</a>.</p>

</div>
</div>
<a id="a09902859b0f28b6aae33c2b76abc521e" name="a09902859b0f28b6aae33c2b76abc521e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09902859b0f28b6aae33c2b76abc521e">&#9670;&nbsp;</a></span>bionic_by_invlet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbionic.html">bionic</a> * player::bionic_by_invlet </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the bionic with the given invlet, or NULL if no bionic has that invlet. </p>

<p class="definition">Definition at line <a class="el" href="bionics__ui_8cpp_source.html#l00161">161</a> of file <a class="el" href="bionics__ui_8cpp_source.html">bionics_ui.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>{</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="comment">// space is a special case for unassigned</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <span class="keywordflow">if</span>( ch == <span class="charliteral">&#39; &#39;</span> ) {</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    }</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span> </div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : *<a class="code hl_variable" href="classCharacter.html#a388bca3ef975bd265c67df45bb280bee">my_bionics</a> ) {</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>        <span class="keywordflow">if</span>( elem.invlet == ch ) {</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>            <span class="keywordflow">return</span> &amp;elem;</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>        }</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    }</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>}</div>
<div class="ttc" id="aclassCharacter_html_a388bca3ef975bd265c67df45bb280bee"><div class="ttname"><a href="classCharacter.html#a388bca3ef975bd265c67df45bb280bee">Character::my_bionics</a></div><div class="ttdeci">pimpl&lt; bionic_collection &gt; my_bionics</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01588">character.h:1588</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8h_source.html#l01588">Character::my_bionics</a>.</p>

<p class="reference">Referenced by <a class="el" href="bionics__ui_8cpp_source.html#l00176">get_free_invlet()</a>, and <a class="el" href="bionics__ui_8cpp_source.html#l00528">power_bionics()</a>.</p>

</div>
</div>
<a id="a1869e8eaef94e686180c539c32dc52ca" name="a1869e8eaef94e686180c539c32dc52ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1869e8eaef94e686180c539c32dc52ca">&#9670;&nbsp;</a></span>book_fun_for()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::book_fun_for </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>book</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles the enjoyability value for a book. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03659">3659</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03660" name="l03660"></a><span class="lineno"> 3660</span>{</div>
<div class="line"><a id="l03661" name="l03661"></a><span class="lineno"> 3661</span>    <span class="keywordtype">int</span> fun_bonus = book.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">book</a>-&gt;fun;</div>
<div class="line"><a id="l03662" name="l03662"></a><span class="lineno"> 3662</span>    <span class="keywordflow">if</span>( !book.<a class="code hl_function" href="classitem.html#a980b9e48afd103973a201fc487d0af8b">is_book</a>() ) {</div>
<div class="line"><a id="l03663" name="l03663"></a><span class="lineno"> 3663</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;called avatar::book_fun_for with non-book&quot;</span> );</div>
<div class="line"><a id="l03664" name="l03664"></a><span class="lineno"> 3664</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03665" name="l03665"></a><span class="lineno"> 3665</span>    }</div>
<div class="line"><a id="l03666" name="l03666"></a><span class="lineno"> 3666</span> </div>
<div class="line"><a id="l03667" name="l03667"></a><span class="lineno"> 3667</span>    <span class="comment">// If you don&#39;t have a problem with eating humans, To Serve Man becomes rewarding</span></div>
<div class="line"><a id="l03668" name="l03668"></a><span class="lineno"> 3668</span>    <span class="keywordflow">if</span>( ( p.<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#af1a3e5c07ef96be118895afd086ba143">trait_CANNIBAL</a> ) || p.<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a> ) ||</div>
<div class="line"><a id="l03669" name="l03669"></a><span class="lineno"> 3669</span>          p.<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a93f31d20e997d966be8b81d64c31582b">trait_SAPIOVORE</a> ) ) &amp;&amp;</div>
<div class="line"><a id="l03670" name="l03670"></a><span class="lineno"> 3670</span>        book.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="player_8cpp.html#aba728ba1b648f6ef568b96fbe1cd74fb">itype_cookbook_human</a> ) {</div>
<div class="line"><a id="l03671" name="l03671"></a><span class="lineno"> 3671</span>        fun_bonus = std::abs( fun_bonus );</div>
<div class="line"><a id="l03672" name="l03672"></a><span class="lineno"> 3672</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a> ) &amp;&amp; book.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;INSPIRATIONAL&quot;</span> ) ) {</div>
<div class="line"><a id="l03673" name="l03673"></a><span class="lineno"> 3673</span>        fun_bonus = std::abs( fun_bonus * 3 );</div>
<div class="line"><a id="l03674" name="l03674"></a><span class="lineno"> 3674</span>    }</div>
<div class="line"><a id="l03675" name="l03675"></a><span class="lineno"> 3675</span> </div>
<div class="line"><a id="l03676" name="l03676"></a><span class="lineno"> 3676</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a8af31c1a565772726aba73e25a4b6df6">trait_LOVES_BOOKS</a> ) ) {</div>
<div class="line"><a id="l03677" name="l03677"></a><span class="lineno"> 3677</span>        fun_bonus++;</div>
<div class="line"><a id="l03678" name="l03678"></a><span class="lineno"> 3678</span>    }</div>
<div class="line"><a id="l03679" name="l03679"></a><span class="lineno"> 3679</span> </div>
<div class="line"><a id="l03680" name="l03680"></a><span class="lineno"> 3680</span>    <span class="keywordflow">if</span>( fun_bonus &gt; 1 &amp;&amp; book.<a class="code hl_function" href="classitem.html#af607ad36c67593022397b437a3a5b5b4">get_chapters</a>() &gt; 0 &amp;&amp; book.<a class="code hl_function" href="classitem.html#a496e2a01e5a06776c322d4f1c3396e66">get_remaining_chapters</a>( p ) == 0 ) {</div>
<div class="line"><a id="l03681" name="l03681"></a><span class="lineno"> 3681</span>        fun_bonus /= 2;</div>
<div class="line"><a id="l03682" name="l03682"></a><span class="lineno"> 3682</span>    }</div>
<div class="line"><a id="l03683" name="l03683"></a><span class="lineno"> 3683</span> </div>
<div class="line"><a id="l03684" name="l03684"></a><span class="lineno"> 3684</span>    <span class="keywordflow">return</span> fun_bonus;</div>
<div class="line"><a id="l03685" name="l03685"></a><span class="lineno"> 3685</span>}</div>
<div class="ttc" id="aclassitem_html_a496e2a01e5a06776c322d4f1c3396e66"><div class="ttname"><a href="classitem.html#a496e2a01e5a06776c322d4f1c3396e66">item::get_remaining_chapters</a></div><div class="ttdeci">int get_remaining_chapters(const player &amp;u) const</div><div class="ttdoc">Get the number of unread chapters.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06936">item.cpp:6936</a></div></div>
<div class="ttc" id="aclassitem_html_a980b9e48afd103973a201fc487d0af8b"><div class="ttname"><a href="classitem.html#a980b9e48afd103973a201fc487d0af8b">item::is_book</a></div><div class="ttdeci">bool is_book() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06559">item.cpp:6559</a></div></div>
<div class="ttc" id="aclassitem_html_aa79dad64e1ef6347219be2f8666e2752"><div class="ttname"><a href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">item::typeId</a></div><div class="ttdeci">const itype_id &amp; typeId() const</div><div class="ttdoc">return the unique identifier of the items underlying type</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08196">item.cpp:8196</a></div></div>
<div class="ttc" id="aclassitem_html_aaa5aeb6f838927babb10ede535cf2a73"><div class="ttname"><a href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">item::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05192">item.cpp:5192</a></div></div>
<div class="ttc" id="aclassitem_html_ac1d2c4c33b8a499812f3437cb2fad742"><div class="ttname"><a href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">item::type</a></div><div class="ttdeci">const itype * type</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02156">item.h:2156</a></div></div>
<div class="ttc" id="aclassitem_html_af607ad36c67593022397b437a3a5b5b4"><div class="ttname"><a href="classitem.html#af607ad36c67593022397b437a3a5b5b4">item::get_chapters</a></div><div class="ttdeci">int get_chapters() const</div><div class="ttdoc">How many chapters the book has (if any).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06928">item.cpp:6928</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a8af31c1a565772726aba73e25a4b6df6"><div class="ttname"><a href="player_8cpp.html#a8af31c1a565772726aba73e25a4b6df6">trait_LOVES_BOOKS</a></div><div class="ttdeci">static const trait_id trait_LOVES_BOOKS(&quot;LOVES_BOOKS&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a93f31d20e997d966be8b81d64c31582b"><div class="ttname"><a href="player_8cpp.html#a93f31d20e997d966be8b81d64c31582b">trait_SAPIOVORE</a></div><div class="ttdeci">static const trait_id trait_SAPIOVORE(&quot;SAPIOVORE&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a9bbf692360c0fe96f9fccf41db5756be"><div class="ttname"><a href="player_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a></div><div class="ttdeci">static const trait_id trait_PSYCHOPATH(&quot;PSYCHOPATH&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_aba728ba1b648f6ef568b96fbe1cd74fb"><div class="ttname"><a href="player_8cpp.html#aba728ba1b648f6ef568b96fbe1cd74fb">itype_cookbook_human</a></div><div class="ttdeci">static const itype_id itype_cookbook_human(&quot;cookbook_human&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_abf47c050c3a01d3496c3eb251fa9c517"><div class="ttname"><a href="player_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a></div><div class="ttdeci">static const trait_id trait_SPIRITUAL(&quot;SPIRITUAL&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_af1a3e5c07ef96be118895afd086ba143"><div class="ttname"><a href="player_8cpp.html#af1a3e5c07ef96be118895afd086ba143">trait_CANNIBAL</a></div><div class="ttdeci">static const trait_id trait_CANNIBAL(&quot;CANNIBAL&quot;)</div></div>
<div class="ttc" id="astructitype_html_aec04d23e907e3ea3cd9cfb08369dffcd"><div class="ttname"><a href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">itype::book</a></div><div class="ttdeci">cata::value_ptr&lt; islot_book &gt; book</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00852">itype.h:852</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00852">itype::book</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item_8cpp_source.html#l06928">item::get_chapters()</a>, <a class="el" href="item_8cpp_source.html#l06936">item::get_remaining_chapters()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="item_8cpp_source.html#l06559">item::is_book()</a>, <a class="el" href="player_8cpp.html#aba728ba1b648f6ef568b96fbe1cd74fb">itype_cookbook_human</a>, <a class="el" href="player_8cpp.html#af1a3e5c07ef96be118895afd086ba143">trait_CANNIBAL</a>, <a class="el" href="player_8cpp.html#a8af31c1a565772726aba73e25a4b6df6">trait_LOVES_BOOKS</a>, <a class="el" href="player_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a>, <a class="el" href="player_8cpp.html#a93f31d20e997d966be8b81d64c31582b">trait_SAPIOVORE</a>, <a class="el" href="player_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="avatar_8cpp_source.html#l00716">avatar::do_read()</a>, <a class="el" href="npc_8cpp_source.html#l00894">npc::finish_read()</a>, <a class="el" href="player_8cpp_source.html#l03645">fun_to_read()</a>, <a class="el" href="avatar_8cpp_source.html#l00367">avatar::read()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00969">read_inventory_preset::read_inventory_preset()</a>, and <a class="el" href="avatar_8cpp_source.html#l00652">skim_book_msg()</a>.</p>

</div>
</div>
<a id="a6d8d8980786115dc4783f61002cae7a5" name="a6d8d8980786115dc4783f61002cae7a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d8d8980786115dc4783f61002cae7a5">&#9670;&nbsp;</a></span>calc_focus_change()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::calc_focus_change </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates actual focus gain/loss value from focus equilibrium. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04475">4475</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04476" name="l04476"></a><span class="lineno"> 4476</span>{</div>
<div class="line"><a id="l04477" name="l04477"></a><span class="lineno"> 4477</span>    <span class="keywordtype">int</span> focus_gap = <a class="code hl_function" href="classplayer.html#a9202ef548f32485ac763fa66319557fa">calc_focus_equilibrium</a>() - <a class="code hl_variable" href="classCharacter.html#a1a22be593582c9aef166a12777bb79a8">focus_pool</a>;</div>
<div class="line"><a id="l04478" name="l04478"></a><span class="lineno"> 4478</span> </div>
<div class="line"><a id="l04479" name="l04479"></a><span class="lineno"> 4479</span>    <span class="comment">// handle negative gain rates in a symmetric manner</span></div>
<div class="line"><a id="l04480" name="l04480"></a><span class="lineno"> 4480</span>    <span class="keywordtype">int</span> base_change = 1;</div>
<div class="line"><a id="l04481" name="l04481"></a><span class="lineno"> 4481</span>    <span class="keywordflow">if</span>( focus_gap &lt; 0 ) {</div>
<div class="line"><a id="l04482" name="l04482"></a><span class="lineno"> 4482</span>        base_change = -1;</div>
<div class="line"><a id="l04483" name="l04483"></a><span class="lineno"> 4483</span>        focus_gap = -focus_gap;</div>
<div class="line"><a id="l04484" name="l04484"></a><span class="lineno"> 4484</span>    }</div>
<div class="line"><a id="l04485" name="l04485"></a><span class="lineno"> 4485</span> </div>
<div class="line"><a id="l04486" name="l04486"></a><span class="lineno"> 4486</span>    <span class="comment">// for every 100 points, we have a flat gain of 1 focus.</span></div>
<div class="line"><a id="l04487" name="l04487"></a><span class="lineno"> 4487</span>    <span class="comment">// for every n points left over, we have an n% chance of 1 focus</span></div>
<div class="line"><a id="l04488" name="l04488"></a><span class="lineno"> 4488</span>    <span class="keywordtype">int</span> gain = focus_gap / 100;</div>
<div class="line"><a id="l04489" name="l04489"></a><span class="lineno"> 4489</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 100 ) &lt;= focus_gap % 100 ) {</div>
<div class="line"><a id="l04490" name="l04490"></a><span class="lineno"> 4490</span>        gain++;</div>
<div class="line"><a id="l04491" name="l04491"></a><span class="lineno"> 4491</span>    }</div>
<div class="line"><a id="l04492" name="l04492"></a><span class="lineno"> 4492</span> </div>
<div class="line"><a id="l04493" name="l04493"></a><span class="lineno"> 4493</span>    gain *= base_change;</div>
<div class="line"><a id="l04494" name="l04494"></a><span class="lineno"> 4494</span> </div>
<div class="line"><a id="l04495" name="l04495"></a><span class="lineno"> 4495</span>    <span class="comment">// Fatigue will incrementally decrease any focus above related cap</span></div>
<div class="line"><a id="l04496" name="l04496"></a><span class="lineno"> 4496</span>    <span class="keywordflow">if</span>( ( <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() &gt;= <a class="code hl_enumvalue" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137a287f44f35ecb230e8b997abaad077f46">fatigue_levels::tired</a> &amp;&amp; <a class="code hl_variable" href="classCharacter.html#a1a22be593582c9aef166a12777bb79a8">focus_pool</a> &gt; 100 ) ||</div>
<div class="line"><a id="l04497" name="l04497"></a><span class="lineno"> 4497</span>        ( <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() &gt;= <a class="code hl_enumvalue" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137afc375b3ddd5525adbdf783e5ade0473d">fatigue_levels::dead_tired</a> &amp;&amp; <a class="code hl_variable" href="classCharacter.html#a1a22be593582c9aef166a12777bb79a8">focus_pool</a> &gt; 75 ) ||</div>
<div class="line"><a id="l04498" name="l04498"></a><span class="lineno"> 4498</span>        ( <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() &gt;= <a class="code hl_enumvalue" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137ae349d735a5fa5b10d9770031e669c477">fatigue_levels::exhausted</a> &amp;&amp; <a class="code hl_variable" href="classCharacter.html#a1a22be593582c9aef166a12777bb79a8">focus_pool</a> &gt; 50 ) ||</div>
<div class="line"><a id="l04499" name="l04499"></a><span class="lineno"> 4499</span>        ( <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() &gt;= <a class="code hl_enumvalue" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137a7ab3f388bbf5200ebf5e501260ecddcc">fatigue_levels::massive</a> &amp;&amp; <a class="code hl_variable" href="classCharacter.html#a1a22be593582c9aef166a12777bb79a8">focus_pool</a> &gt; 25 ) ) {</div>
<div class="line"><a id="l04500" name="l04500"></a><span class="lineno"> 4500</span> </div>
<div class="line"><a id="l04501" name="l04501"></a><span class="lineno"> 4501</span>        gain = std::min( gain, -1 );</div>
<div class="line"><a id="l04502" name="l04502"></a><span class="lineno"> 4502</span>    }</div>
<div class="line"><a id="l04503" name="l04503"></a><span class="lineno"> 4503</span>    <span class="keywordflow">return</span> gain;</div>
<div class="line"><a id="l04504" name="l04504"></a><span class="lineno"> 4504</span>}</div>
<div class="ttc" id="aartifact_8cpp_html_a70800e95389f34dd34186fafaea2a840"><div class="ttname"><a href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a></div><div class="ttdeci">units::quantity&lt; V, B &gt; rng(const units::quantity&lt; V, B &gt; &amp;min, const units::quantity&lt; V, B &gt; &amp;max)</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8cpp_source.html#l00032">artifact.cpp:32</a></div></div>
<div class="ttc" id="acharacter_8h_html_abf088072c9ca5b676f7f7545bac9a137a287f44f35ecb230e8b997abaad077f46"><div class="ttname"><a href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137a287f44f35ecb230e8b997abaad077f46">fatigue_levels::tired</a></div><div class="ttdeci">@ tired</div></div>
<div class="ttc" id="acharacter_8h_html_abf088072c9ca5b676f7f7545bac9a137a7ab3f388bbf5200ebf5e501260ecddcc"><div class="ttname"><a href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137a7ab3f388bbf5200ebf5e501260ecddcc">fatigue_levels::massive</a></div><div class="ttdeci">@ massive</div></div>
<div class="ttc" id="acharacter_8h_html_abf088072c9ca5b676f7f7545bac9a137ae349d735a5fa5b10d9770031e669c477"><div class="ttname"><a href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137ae349d735a5fa5b10d9770031e669c477">fatigue_levels::exhausted</a></div><div class="ttdeci">@ exhausted</div></div>
<div class="ttc" id="acharacter_8h_html_abf088072c9ca5b676f7f7545bac9a137afc375b3ddd5525adbdf783e5ade0473d"><div class="ttname"><a href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137afc375b3ddd5525adbdf783e5ade0473d">fatigue_levels::dead_tired</a></div><div class="ttdeci">@ dead_tired</div></div>
<div class="ttc" id="aclassCharacter_html_a31c20b0d370fef88fefe520ff046daf5"><div class="ttname"><a href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">Character::get_fatigue</a></div><div class="ttdeci">int get_fatigue() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04439">character.cpp:4439</a></div></div>
<div class="ttc" id="aclassplayer_html_a9202ef548f32485ac763fa66319557fa"><div class="ttname"><a href="classplayer.html#a9202ef548f32485ac763fa66319557fa">player::calc_focus_equilibrium</a></div><div class="ttdeci">int calc_focus_equilibrium(bool ignore_pain=false) const</div><div class="ttdoc">Uses morale and other factors to return the player's focus target goto value.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04410">player.cpp:4410</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player_8cpp_source.html#l04410">calc_focus_equilibrium()</a>, <a class="el" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137afc375b3ddd5525adbdf783e5ade0473d">dead_tired</a>, <a class="el" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137ae349d735a5fa5b10d9770031e669c477">exhausted</a>, <a class="el" href="character_8h_source.html#l01599">Character::focus_pool</a>, <a class="el" href="character_8cpp_source.html#l04439">Character::get_fatigue()</a>, <a class="el" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137a7ab3f388bbf5200ebf5e501260ecddcc">massive</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, and <a class="el" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137a287f44f35ecb230e8b997abaad077f46">tired</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l04506">update_mental_focus()</a>.</p>

</div>
</div>
<a id="a9202ef548f32485ac763fa66319557fa" name="a9202ef548f32485ac763fa66319557fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9202ef548f32485ac763fa66319557fa">&#9670;&nbsp;</a></span>calc_focus_equilibrium()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::calc_focus_equilibrium </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignore_pain</em> = <code>false</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uses morale and other factors to return the player's focus target goto value. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04410">4410</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04411" name="l04411"></a><span class="lineno"> 4411</span>{</div>
<div class="line"><a id="l04412" name="l04412"></a><span class="lineno"> 4412</span>    <span class="keywordtype">int</span> focus_equilibrium = 100;</div>
<div class="line"><a id="l04413" name="l04413"></a><span class="lineno"> 4413</span> </div>
<div class="line"><a id="l04414" name="l04414"></a><span class="lineno"> 4414</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_function" href="classplayer__activity.html#a316b1ded84b8c60b250ab06661f5bce5">id</a>() == <a class="code hl_variable" href="player_8cpp.html#ab220ac1d69cb6fcb7c741708f60a064d">ACT_READ</a> ) {</div>
<div class="line"><a id="l04415" name="l04415"></a><span class="lineno"> 4415</span>        <a class="code hl_class" href="classitem__location.html">item_location</a> loc = <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>[0];</div>
<div class="line"><a id="l04416" name="l04416"></a><span class="lineno"> 4416</span>        <span class="keywordflow">if</span>( loc &amp;&amp; loc-&gt;<a class="code hl_function" href="classitem.html#a980b9e48afd103973a201fc487d0af8b">is_book</a>() ) {</div>
<div class="line"><a id="l04417" name="l04417"></a><span class="lineno"> 4417</span>            <span class="keyword">auto</span> &amp;bt = *loc-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">book</a>;</div>
<div class="line"><a id="l04418" name="l04418"></a><span class="lineno"> 4418</span>            <span class="comment">// apply a penalty when we&#39;re actually learning something</span></div>
<div class="line"><a id="l04419" name="l04419"></a><span class="lineno"> 4419</span>            <span class="keyword">const</span> <a class="code hl_class" href="classSkillLevel.html">SkillLevel</a> &amp;skill_level = <a class="code hl_function" href="classCharacter.html#a2726ac089fa49e864b486e289f53fade">get_skill_level_object</a>( bt.skill );</div>
<div class="line"><a id="l04420" name="l04420"></a><span class="lineno"> 4420</span>            <span class="keywordflow">if</span>( skill_level.<a class="code hl_function" href="classSkillLevel.html#a4de8923aafd85db2946ed9860874d660">can_train</a>() &amp;&amp; skill_level &lt; bt.level ) {</div>
<div class="line"><a id="l04421" name="l04421"></a><span class="lineno"> 4421</span>                focus_equilibrium -= 50;</div>
<div class="line"><a id="l04422" name="l04422"></a><span class="lineno"> 4422</span>            }</div>
<div class="line"><a id="l04423" name="l04423"></a><span class="lineno"> 4423</span>        }</div>
<div class="line"><a id="l04424" name="l04424"></a><span class="lineno"> 4424</span>    }</div>
<div class="line"><a id="l04425" name="l04425"></a><span class="lineno"> 4425</span> </div>
<div class="line"><a id="l04426" name="l04426"></a><span class="lineno"> 4426</span>    <span class="keywordtype">int</span> eff_morale = <a class="code hl_function" href="classCharacter.html#a81a81cee431c657465e6ab54af345eaf">get_morale_level</a>();</div>
<div class="line"><a id="l04427" name="l04427"></a><span class="lineno"> 4427</span>    <span class="comment">// Factor in perceived pain, since it&#39;s harder to rest your mind while your body hurts.</span></div>
<div class="line"><a id="l04428" name="l04428"></a><span class="lineno"> 4428</span>    <span class="comment">// Cenobites don&#39;t mind, though</span></div>
<div class="line"><a id="l04429" name="l04429"></a><span class="lineno"> 4429</span>    <span class="keywordflow">if</span>( !ignore_pain &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a9c5c38ebc99fa84cc6fa6cea24213099">trait_CENOBITE</a> ) ) {</div>
<div class="line"><a id="l04430" name="l04430"></a><span class="lineno"> 4430</span>        eff_morale = eff_morale - <a class="code hl_function" href="classplayer.html#a866f12c5891fa0a43d837669fc52706b">get_perceived_pain</a>();</div>
<div class="line"><a id="l04431" name="l04431"></a><span class="lineno"> 4431</span>    }</div>
<div class="line"><a id="l04432" name="l04432"></a><span class="lineno"> 4432</span> </div>
<div class="line"><a id="l04433" name="l04433"></a><span class="lineno"> 4433</span>    <span class="keywordflow">if</span>( eff_morale &lt; -99 ) {</div>
<div class="line"><a id="l04434" name="l04434"></a><span class="lineno"> 4434</span>        <span class="comment">// At very low morale, focus is at it&#39;s minimum</span></div>
<div class="line"><a id="l04435" name="l04435"></a><span class="lineno"> 4435</span>        focus_equilibrium = 1;</div>
<div class="line"><a id="l04436" name="l04436"></a><span class="lineno"> 4436</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( eff_morale &lt;= 50 ) {</div>
<div class="line"><a id="l04437" name="l04437"></a><span class="lineno"> 4437</span>        <span class="comment">// At -99 to +50 morale, each point of morale gives or takes 1 point of focus</span></div>
<div class="line"><a id="l04438" name="l04438"></a><span class="lineno"> 4438</span>        focus_equilibrium += eff_morale;</div>
<div class="line"><a id="l04439" name="l04439"></a><span class="lineno"> 4439</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04440" name="l04440"></a><span class="lineno"> 4440</span>        <span class="comment">/* Above 50 morale, we apply strong diminishing returns.</span></div>
<div class="line"><a id="l04441" name="l04441"></a><span class="lineno"> 4441</span><span class="comment">        * Each block of 50 takes twice as many morale points as the previous one:</span></div>
<div class="line"><a id="l04442" name="l04442"></a><span class="lineno"> 4442</span><span class="comment">        * 150 focus at 50 morale (as before)</span></div>
<div class="line"><a id="l04443" name="l04443"></a><span class="lineno"> 4443</span><span class="comment">        * 200 focus at 150 morale (100 more morale)</span></div>
<div class="line"><a id="l04444" name="l04444"></a><span class="lineno"> 4444</span><span class="comment">        * 250 focus at 350 morale (200 more morale)</span></div>
<div class="line"><a id="l04445" name="l04445"></a><span class="lineno"> 4445</span><span class="comment">        * ...</span></div>
<div class="line"><a id="l04446" name="l04446"></a><span class="lineno"> 4446</span><span class="comment">        * Cap out at 400% focus gain with 3,150+ morale, mostly as a sanity check.</span></div>
<div class="line"><a id="l04447" name="l04447"></a><span class="lineno"> 4447</span><span class="comment">        */</span></div>
<div class="line"><a id="l04448" name="l04448"></a><span class="lineno"> 4448</span> </div>
<div class="line"><a id="l04449" name="l04449"></a><span class="lineno"> 4449</span>        <span class="keywordtype">int</span> block_multiplier = 1;</div>
<div class="line"><a id="l04450" name="l04450"></a><span class="lineno"> 4450</span>        <span class="keywordtype">int</span> morale_left = eff_morale;</div>
<div class="line"><a id="l04451" name="l04451"></a><span class="lineno"> 4451</span>        <span class="keywordflow">while</span>( focus_equilibrium &lt; 400 ) {</div>
<div class="line"><a id="l04452" name="l04452"></a><span class="lineno"> 4452</span>            <span class="keywordflow">if</span>( morale_left &gt; 50 * block_multiplier ) {</div>
<div class="line"><a id="l04453" name="l04453"></a><span class="lineno"> 4453</span>                <span class="comment">// We can afford the entire block.  Get it and continue.</span></div>
<div class="line"><a id="l04454" name="l04454"></a><span class="lineno"> 4454</span>                morale_left -= 50 * block_multiplier;</div>
<div class="line"><a id="l04455" name="l04455"></a><span class="lineno"> 4455</span>                focus_equilibrium += 50;</div>
<div class="line"><a id="l04456" name="l04456"></a><span class="lineno"> 4456</span>                block_multiplier *= 2;</div>
<div class="line"><a id="l04457" name="l04457"></a><span class="lineno"> 4457</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04458" name="l04458"></a><span class="lineno"> 4458</span>                <span class="comment">// We can&#39;t afford the entire block.  Each block_multiplier morale</span></div>
<div class="line"><a id="l04459" name="l04459"></a><span class="lineno"> 4459</span>                <span class="comment">// points give 1 focus, and then we&#39;re done.</span></div>
<div class="line"><a id="l04460" name="l04460"></a><span class="lineno"> 4460</span>                focus_equilibrium += morale_left / block_multiplier;</div>
<div class="line"><a id="l04461" name="l04461"></a><span class="lineno"> 4461</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l04462" name="l04462"></a><span class="lineno"> 4462</span>            }</div>
<div class="line"><a id="l04463" name="l04463"></a><span class="lineno"> 4463</span>        }</div>
<div class="line"><a id="l04464" name="l04464"></a><span class="lineno"> 4464</span>    }</div>
<div class="line"><a id="l04465" name="l04465"></a><span class="lineno"> 4465</span> </div>
<div class="line"><a id="l04466" name="l04466"></a><span class="lineno"> 4466</span>    <span class="comment">// This should be redundant, but just in case...</span></div>
<div class="line"><a id="l04467" name="l04467"></a><span class="lineno"> 4467</span>    <span class="keywordflow">if</span>( focus_equilibrium &lt; 1 ) {</div>
<div class="line"><a id="l04468" name="l04468"></a><span class="lineno"> 4468</span>        focus_equilibrium = 1;</div>
<div class="line"><a id="l04469" name="l04469"></a><span class="lineno"> 4469</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( focus_equilibrium &gt; 400 ) {</div>
<div class="line"><a id="l04470" name="l04470"></a><span class="lineno"> 4470</span>        focus_equilibrium = 400;</div>
<div class="line"><a id="l04471" name="l04471"></a><span class="lineno"> 4471</span>    }</div>
<div class="line"><a id="l04472" name="l04472"></a><span class="lineno"> 4472</span>    <span class="keywordflow">return</span> focus_equilibrium;</div>
<div class="line"><a id="l04473" name="l04473"></a><span class="lineno"> 4473</span>}</div>
<div class="ttc" id="aclassCharacter_html_a20839520f569c4f05876a55e89f67361"><div class="ttname"><a href="classCharacter.html#a20839520f569c4f05876a55e89f67361">Character::activity</a></div><div class="ttdeci">player_activity activity</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01580">character.h:1580</a></div></div>
<div class="ttc" id="aclassCharacter_html_a2726ac089fa49e864b486e289f53fade"><div class="ttname"><a href="classCharacter.html#a2726ac089fa49e864b486e289f53fade">Character::get_skill_level_object</a></div><div class="ttdeci">SkillLevel &amp; get_skill_level_object(const skill_id &amp;ident)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03322">character.cpp:3322</a></div></div>
<div class="ttc" id="aclassCharacter_html_a81a81cee431c657465e6ab54af345eaf"><div class="ttname"><a href="classCharacter.html#a81a81cee431c657465e6ab54af345eaf">Character::get_morale_level</a></div><div class="ttdeci">int get_morale_level() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09062">character.cpp:9062</a></div></div>
<div class="ttc" id="aclassSkillLevel_html"><div class="ttname"><a href="classSkillLevel.html">SkillLevel</a></div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00106">skill.h:107</a></div></div>
<div class="ttc" id="aclassSkillLevel_html_a4de8923aafd85db2946ed9860874d660"><div class="ttname"><a href="classSkillLevel.html#a4de8923aafd85db2946ed9860874d660">SkillLevel::can_train</a></div><div class="ttdeci">bool can_train() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8cpp_source.html#l00298">skill.cpp:298</a></div></div>
<div class="ttc" id="aclassitem__location_html"><div class="ttname"><a href="classitem__location.html">item_location</a></div><div class="ttdoc">A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)seriali...</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00022">item_location.h:23</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a316b1ded84b8c60b250ab06661f5bce5"><div class="ttname"><a href="classplayer__activity.html#a316b1ded84b8c60b250ab06661f5bce5">player_activity::id</a></div><div class="ttdeci">const activity_id &amp; id() const</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00097">player_activity.h:97</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a979cd5aca677ff30dcbb767d4a3980d2"><div class="ttname"><a href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">player_activity::targets</a></div><div class="ttdeci">std::vector&lt; item_location &gt; targets</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00056">player_activity.h:56</a></div></div>
<div class="ttc" id="aclassplayer_html_a866f12c5891fa0a43d837669fc52706b"><div class="ttname"><a href="classplayer.html#a866f12c5891fa0a43d837669fc52706b">player::get_perceived_pain</a></div><div class="ttdeci">int get_perceived_pain() const override</div><div class="ttdoc">Returns perceived pain (reduced with painkillers)</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l01131">player.cpp:1131</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a9c5c38ebc99fa84cc6fa6cea24213099"><div class="ttname"><a href="player_8cpp.html#a9c5c38ebc99fa84cc6fa6cea24213099">trait_CENOBITE</a></div><div class="ttdeci">static const trait_id trait_CENOBITE(&quot;CENOBITE&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_ab220ac1d69cb6fcb7c741708f60a064d"><div class="ttname"><a href="player_8cpp.html#ab220ac1d69cb6fcb7c741708f60a064d">ACT_READ</a></div><div class="ttdeci">static const activity_id ACT_READ(&quot;ACT_READ&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player_8cpp.html#ab220ac1d69cb6fcb7c741708f60a064d">ACT_READ</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="itype_8h_source.html#l00852">itype::book</a>, <a class="el" href="skill_8cpp_source.html#l00298">SkillLevel::can_train()</a>, <a class="el" href="character_8cpp_source.html#l09062">Character::get_morale_level()</a>, <a class="el" href="player_8cpp_source.html#l01131">get_perceived_pain()</a>, <a class="el" href="character_8cpp_source.html#l03322">Character::get_skill_level_object()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="player__activity_8h_source.html#l00097">player_activity::id()</a>, <a class="el" href="item_8cpp_source.html#l06559">item::is_book()</a>, <a class="el" href="skill_8h_source.html#l00125">SkillLevel::level()</a>, <a class="el" href="player__activity_8h_source.html#l00056">player_activity::targets</a>, <a class="el" href="player_8cpp.html#a9c5c38ebc99fa84cc6fa6cea24213099">trait_CENOBITE</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l04475">calc_focus_change()</a>, <a class="el" href="avatar_8cpp_source.html#l00985">avatar::disp_morale()</a>, and <a class="el" href="panels_8cpp_source.html#l01264">draw_char_narrow()</a>.</p>

</div>
</div>
<a id="a2e1328282191fb93805357b248623fb5" name="a2e1328282191fb93805357b248623fb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e1328282191fb93805357b248623fb5">&#9670;&nbsp;</a></span>can_autolearn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::can_autolearn </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ad6390cfa5598a169e10ca7ae1a3f6aaf">matype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>ma_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the player can learn the entered martial art. </p>

<p class="definition">Definition at line <a class="el" href="martialarts_8cpp_source.html#l01227">1227</a> of file <a class="el" href="martialarts_8cpp_source.html">martialarts.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>{</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>    <span class="keywordflow">if</span>( ma_id.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code hl_variable" href="classmartialart.html#af2f0e8cbb960e7f93cd8cc20fef9f96e">autolearn_skills</a>.empty() ) {</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>    }</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span> </div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;std::string, int&gt; &amp;elem : ma_id.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code hl_variable" href="classmartialart.html#af2f0e8cbb960e7f93cd8cc20fef9f96e">autolearn_skills</a> ) {</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>        <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">skill_id</a> skill_req( elem.first );</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> required_level = elem.second;</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span> </div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>        <span class="keywordflow">if</span>( required_level &gt; <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( skill_req ) ) {</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>        }</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>    }</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span> </div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>}</div>
<div class="ttc" id="aclassmartialart_html_af2f0e8cbb960e7f93cd8cc20fef9f96e"><div class="ttname"><a href="classmartialart.html#af2f0e8cbb960e7f93cd8cc20fef9f96e">martialart::autolearn_skills</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; std::string, int &gt; &gt; autolearn_skills</div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8h_source.html#l00248">martialarts.h:248</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00058">achievement.cpp:58</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="martialarts_8h_source.html#l00248">martialart::autolearn_skills</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, and <a class="el" href="achievement_8cpp_source.html#l00058">string_id&lt; T &gt;::obj()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l00319">process_turn()</a>.</p>

</div>
</div>
<a id="a9b76ffb136ac45068a15eca83a71b279" name="a9b76ffb136ac45068a15eca83a71b279"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b76ffb136ac45068a15eca83a71b279">&#9670;&nbsp;</a></span>can_continue_craft()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::can_continue_craft </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>craft</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the player meets the requirements to continue the in progress craft and if unable to continue print messages explaining the reason. </p>
<p >If the craft is missing components due to messing up, prompt to consume new ones to allow the craft to be continued. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">craft</td><td>the currently in progress craft </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if the craft can be continued </dd></dl>

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l01147">1147</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>{</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.is_craft() ) {</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;complete_craft() called on non-craft &#39;%s.&#39;  Aborting.&quot;</span>, <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.tname() );</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>    }</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="crafting_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a> ) ) {</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>    }</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span> </div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>    <span class="keyword">const</span> <a class="code hl_class" href="classrecipe.html">recipe</a> &amp;rec = <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.get_making();</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span> </div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structrequirement__data.html">requirement_data</a> continue_reqs = <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.get_continue_reqs();</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span> </div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>    <span class="comment">// Avoid building an inventory from the map if we don&#39;t have to, as it is expensive</span></div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>    <span class="keywordflow">if</span>( !continue_reqs.<a class="code hl_function" href="structrequirement__data.html#a7acde751aa71fb09c3272929afae503f">is_empty</a>() ) {</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span> </div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>        std::function&lt;bool( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; )&gt; filter = rec.<a class="code hl_function" href="classrecipe.html#a45b065c59b172ccab9e0630fd036fe09">get_component_filter</a>();</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>        <span class="keyword">const</span> std::function&lt;bool( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; )&gt; no_rotten_filter =</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>            rec.<a class="code hl_function" href="classrecipe.html#a45b065c59b172ccab9e0630fd036fe09">get_component_filter</a>( <a class="code hl_enumvalue" href="recipe_8h.html#a6409b244d953153c56933adfbdc71b81a4377a40dfcbd9cf2a59077c787e2fa5a">recipe_filter_flags::no_rotten</a> );</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>        <span class="comment">// continue_reqs are for all batches at once</span></div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> batch_size = 1;</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span> </div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>        <span class="keywordflow">if</span>( !continue_reqs.<a class="code hl_function" href="structrequirement__data.html#a6de33848f3102c4022bf4d7922c073c9">can_make_with_inventory</a>( <a class="code hl_function" href="classCharacter.html#abd358c7a7757575b70b1613dbcce40a7">crafting_inventory</a>(), filter, batch_size ) ) {</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>            std::string buffer = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You don&#39;t have the required components to continue crafting!&quot;</span> );</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>            buffer += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>            buffer += continue_reqs.<a class="code hl_function" href="structrequirement__data.html#a1590c4ebea201a6937c0fa9a8227986d">list_missing</a>();</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>            <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( buffer, <a class="code hl_enumvalue" href="output_8h.html#ab214b85345aeab978acdcea0250f27f5aad1f68b93664b1917fafc7cf9b7537d3">PF_NONE</a> );</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>        }</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span> </div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>        std::string buffer = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Consume the missing components and continue crafting?&quot;</span> );</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>        buffer += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>        buffer += continue_reqs.<a class="code hl_function" href="structrequirement__data.html#a3924efd3afbeca600efca8d4112baa41">list_all</a>();</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a>( buffer ) ) {</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>        }</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span> </div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>        <span class="keywordflow">if</span>( continue_reqs.<a class="code hl_function" href="structrequirement__data.html#a6de33848f3102c4022bf4d7922c073c9">can_make_with_inventory</a>( <a class="code hl_function" href="classCharacter.html#abd358c7a7757575b70b1613dbcce40a7">crafting_inventory</a>(), no_rotten_filter,</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>                batch_size ) ) {</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>            filter = no_rotten_filter;</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Some components required to continue are rotten.\n&quot;</span></div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>                              <span class="stringliteral">&quot;Continue crafting anyway?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>            }</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>        }</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span> </div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>        <a class="code hl_class" href="classinventory.html">inventory</a> map_inv;</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>        map_inv.<a class="code hl_function" href="classinventory.html#a31bf20ee0144627b5fba528b81559bc6">form_from_map</a>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a>, <span class="keyword">this</span> );</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span> </div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>        std::vector&lt;comp_selection&lt;item_comp&gt;&gt; item_selections;</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;it : continue_reqs.<a class="code hl_function" href="structrequirement__data.html#a56dbf23ade6bced0dc6148b8e1a12d4c">get_components</a>() ) {</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>            <a class="code hl_struct" href="structcomp__selection.html">comp_selection&lt;item_comp&gt;</a> is = <a class="code hl_function" href="classplayer.html#a1b2038d8060c04bb5bfa88204ff5d82a">select_item_component</a>( it, batch_size, map_inv, <span class="keyword">true</span>, filter );</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>            <span class="keywordflow">if</span>( is.<a class="code hl_variable" href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">use_from</a> == <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726afa28df73c87d81742155531f0f36dc71">cancel</a> ) {</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>                <a class="code hl_function" href="classCharacter.html#a597968eba450c923b56a1c9cac1676dc">cancel_activity</a>();</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You stop crafting.&quot;</span> ) );</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>            }</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>            item_selections.push_back( is );</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>        }</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;it : item_selections ) {</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>            <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.components.splice( <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.components.end(), <a class="code hl_function" href="classplayer.html#ad1f5e6d21b83313ab148302140083b99">consume_items</a>( it, batch_size, filter ) );</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>        }</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>    }</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span> </div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.has_tools_to_continue() ) {</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span> </div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>        <span class="keyword">const</span> std::vector&lt;std::vector&lt;tool_comp&gt;&gt; &amp;tool_reqs = rec.<a class="code hl_function" href="classrecipe.html#a5dcc02c873f2936b832100109d0c3448">simple_requirements</a>().<a class="code hl_function" href="structrequirement__data.html#a175d46943600149603b7a915cb48092b">get_tools</a>();</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> batch_size = <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.charges;</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span> </div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>        std::vector&lt;std::vector&lt;tool_comp&gt;&gt; adjusted_tool_reqs;</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::vector&lt;tool_comp&gt; &amp;alternatives : tool_reqs ) {</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>            std::vector&lt;tool_comp&gt; adjusted_alternatives;</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtool__comp.html">tool_comp</a> &amp;alternative : alternatives ) {</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>                <a class="code hl_struct" href="structtool__comp.html">tool_comp</a> adjusted_alternative = alternative;</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>                <span class="keywordflow">if</span>( adjusted_alternative.<a class="code hl_variable" href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">count</a> &gt; 0 ) {</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>                    adjusted_alternative.<a class="code hl_variable" href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">count</a> *= batch_size;</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>                    <span class="comment">// Only for the next 5% progress</span></div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>                    adjusted_alternative.<a class="code hl_variable" href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">count</a> = std::max(</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>                                                     <a class="code hl_function" href="namespacecrafting.html#a653e8b3027cf7e8256c46600bdea2697">crafting::charges_for_continuing</a>( adjusted_alternative.<a class="code hl_variable" href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">count</a> ), 1 );</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>                }</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>                adjusted_alternatives.push_back( adjusted_alternative );</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>            }</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>            adjusted_tool_reqs.push_back( adjusted_alternatives );</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>        }</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span> </div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structrequirement__data.html">requirement_data</a> tool_continue_reqs( adjusted_tool_reqs,</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>                std::vector&lt;std::vector&lt;quality_requirement&gt;&gt;(),</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>                std::vector&lt;std::vector&lt;item_comp&gt;&gt;() );</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span> </div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>        <span class="keywordflow">if</span>( !tool_continue_reqs.can_make_with_inventory( <a class="code hl_function" href="classCharacter.html#abd358c7a7757575b70b1613dbcce40a7">crafting_inventory</a>(), return_true&lt;item&gt; ) ) {</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>            std::string buffer = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You don&#39;t have the necessary tools to continue crafting!&quot;</span> );</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>            buffer += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>            buffer += tool_continue_reqs.list_missing();</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>            <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( buffer, <a class="code hl_enumvalue" href="output_8h.html#ab214b85345aeab978acdcea0250f27f5aad1f68b93664b1917fafc7cf9b7537d3">PF_NONE</a> );</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>        }</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span> </div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>        <a class="code hl_class" href="classinventory.html">inventory</a> map_inv;</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>        map_inv.<a class="code hl_function" href="classinventory.html#a31bf20ee0144627b5fba528b81559bc6">form_from_map</a>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a>, <span class="keyword">this</span> );</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span> </div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>        std::vector&lt;comp_selection&lt;tool_comp&gt;&gt; new_tool_selections;</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::vector&lt;tool_comp&gt; &amp;alternatives : tool_reqs ) {</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>            <a class="code hl_struct" href="structcomp__selection.html">comp_selection&lt;tool_comp&gt;</a> selection =</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>                <a class="code hl_function" href="namespacecrafting.html#a07496c9e8d995433ae9debe590894c3e">crafting::select_tool_component</a>( alternatives, batch_size, map_inv, <span class="keyword">this</span>, <span class="keyword">true</span>, <a class="code hl_function" href="player_8h.html#a105a2bc78dff70bdbdc683b88b2f5351">DEFAULT_HOTKEYS</a>,</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>                                                 <a class="code hl_enumvalue" href="requirements_8h.html#a29bc522104aee22ea5cf6e7d3c629131abe578bdd9326ee6b1aa8d5672dd4c64f">cost_adjustment::continue_only</a> );</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>            <span class="keywordflow">if</span>( selection.<a class="code hl_variable" href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">use_from</a> == <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726afa28df73c87d81742155531f0f36dc71">cancel</a> ) {</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>            }</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>            new_tool_selections.push_back( selection );</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>        }</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span> </div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>        <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.set_cached_tool_selections( new_tool_selections );</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>        <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.set_tools_to_continue( <span class="keyword">true</span> );</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>    }</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span> </div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>}</div>
<div class="ttc" id="acached__options_8cpp_html_a1467e25ae6a1c8f9d4489be4a8e014a3"><div class="ttname"><a href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a></div><div class="ttdeci">int PICKUP_RANGE</div><div class="ttdoc">Items on the map with at most this distance to the player are considered available for crafting,...</div><div class="ttdef"><b>Definition:</b> <a href="cached__options_8cpp_source.html#l00017">cached_options.cpp:17</a></div></div>
<div class="ttc" id="aclassCharacter_html_a597968eba450c923b56a1c9cac1676dc"><div class="ttname"><a href="classCharacter.html#a597968eba450c923b56a1c9cac1676dc">Character::cancel_activity</a></div><div class="ttdeci">void cancel_activity()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09208">character.cpp:9208</a></div></div>
<div class="ttc" id="aclassCharacter_html_abd358c7a7757575b70b1613dbcce40a7"><div class="ttname"><a href="classCharacter.html#abd358c7a7757575b70b1613dbcce40a7">Character::crafting_inventory</a></div><div class="ttdeci">const inventory &amp; crafting_inventory(bool clear_path)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00545">crafting.cpp:545</a></div></div>
<div class="ttc" id="aclassinventory_html"><div class="ttname"><a href="classinventory.html">inventory</a></div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00089">inventory.h:90</a></div></div>
<div class="ttc" id="aclassinventory_html_a31bf20ee0144627b5fba528b81559bc6"><div class="ttname"><a href="classinventory.html#a31bf20ee0144627b5fba528b81559bc6">inventory::form_from_map</a></div><div class="ttdeci">void form_from_map(const tripoint &amp;origin, int range, const Character *pl=nullptr, bool assign_invlet=true, bool clear_path=true)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00472">inventory.cpp:472</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00175">item.h:176</a></div></div>
<div class="ttc" id="aclassplayer_html_a1b2038d8060c04bb5bfa88204ff5d82a"><div class="ttname"><a href="classplayer.html#a1b2038d8060c04bb5bfa88204ff5d82a">player::select_item_component</a></div><div class="ttdeci">comp_selection&lt; item_comp &gt; select_item_component(const std::vector&lt; item_comp &gt; &amp;components, int batch, inventory &amp;map_inv, bool can_cancel=false, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;, bool player_inv=true)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l01299">crafting.cpp:1299</a></div></div>
<div class="ttc" id="aclassplayer_html_a341f7f0dc2d439c0aa12e55fb29d87a6"><div class="ttname"><a href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">player::query_yn</a></div><div class="ttdeci">bool query_yn(const std::string &amp;mes) const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04405">player.cpp:4405</a></div></div>
<div class="ttc" id="aclassplayer_html_a7aa852d005e0aea1715af75ba518c489"><div class="ttname"><a href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">player::craft</a></div><div class="ttdeci">void craft(const tripoint &amp;loc=tripoint_zero)</div><div class="ttdoc">Start various types of crafts.</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00334">crafting.cpp:334</a></div></div>
<div class="ttc" id="aclassplayer_html_ad1f5e6d21b83313ab148302140083b99"><div class="ttname"><a href="classplayer.html#ad1f5e6d21b83313ab148302140083b99">player::consume_items</a></div><div class="ttdeci">std::list&lt; item &gt; consume_items(const comp_selection&lt; item_comp &gt; &amp;is, int batch, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l01487">crafting.cpp:1487</a></div></div>
<div class="ttc" id="aclassrecipe_html"><div class="ttname"><a href="classrecipe.html">recipe</a></div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00034">recipe.h:35</a></div></div>
<div class="ttc" id="aclassrecipe_html_a45b065c59b172ccab9e0630fd036fe09"><div class="ttname"><a href="classrecipe.html#a45b065c59b172ccab9e0630fd036fe09">recipe::get_component_filter</a></div><div class="ttdeci">std::function&lt; bool(const item &amp;)&gt; get_component_filter(recipe_filter_flags=recipe_filter_flags::none) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00606">recipe.cpp:606</a></div></div>
<div class="ttc" id="aclassrecipe_html_a5dcc02c873f2936b832100109d0c3448"><div class="ttname"><a href="classrecipe.html#a5dcc02c873f2936b832100109d0c3448">recipe::simple_requirements</a></div><div class="ttdeci">const requirement_data &amp; simple_requirements() const</div><div class="ttdoc">Fetch combined requirement data (inline and via &quot;using&quot; syntax).</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00067">recipe.h:67</a></div></div>
<div class="ttc" id="acraft__command_8h_html_a5684f219761d78b4f98e7b2869dd1726afa28df73c87d81742155531f0f36dc71"><div class="ttname"><a href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726afa28df73c87d81742155531f0f36dc71">cancel</a></div><div class="ttdeci">@ cancel</div><div class="ttdef"><b>Definition:</b> <a href="craft__command_8h_source.html#l00028">craft_command.h:28</a></div></div>
<div class="ttc" id="acrafting_8cpp_html_a2ba9e40123e7b42ccc2327d637311c5a"><div class="ttname"><a href="crafting_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a></div><div class="ttdeci">static const trait_id trait_DEBUG_HS(&quot;DEBUG_HS&quot;)</div></div>
<div class="ttc" id="anamespacecrafting_html_a07496c9e8d995433ae9debe590894c3e"><div class="ttname"><a href="namespacecrafting.html#a07496c9e8d995433ae9debe590894c3e">crafting::select_tool_component</a></div><div class="ttdeci">comp_selection&lt; tool_comp &gt; select_tool_component(const std::vector&lt; tool_comp &gt; &amp;tools, int batch, const inventory &amp;map_inv, const Character *player_with_inv, bool can_cancel, const std::string &amp;hotkeys, cost_adjustment adjustment)</div><div class="ttdoc">Returns selected tool component that matches one of the expected ones.</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l01707">crafting.cpp:1707</a></div></div>
<div class="ttc" id="anamespacecrafting_html_a653e8b3027cf7e8256c46600bdea2697"><div class="ttname"><a href="namespacecrafting.html#a653e8b3027cf7e8256c46600bdea2697">crafting::charges_for_continuing</a></div><div class="ttdeci">int charges_for_continuing(int full_charges)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l02443">crafting.cpp:2443</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1e645471d321d71b235fb285da5c08ff"><div class="ttname"><a href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a></div><div class="ttdeci">int popup(const std::string &amp;text, PopupFlags flags)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00764">output.cpp:764</a></div></div>
<div class="ttc" id="aoutput_8h_html_ab214b85345aeab978acdcea0250f27f5aad1f68b93664b1917fafc7cf9b7537d3"><div class="ttname"><a href="output_8h.html#ab214b85345aeab978acdcea0250f27f5aad1f68b93664b1917fafc7cf9b7537d3">PF_NONE</a></div><div class="ttdeci">@ PF_NONE</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00493">output.h:493</a></div></div>
<div class="ttc" id="aplayer_8h_html_a105a2bc78dff70bdbdc683b88b2f5351"><div class="ttname"><a href="player_8h.html#a105a2bc78dff70bdbdc683b88b2f5351">DEFAULT_HOTKEYS</a></div><div class="ttdeci">static const std::string DEFAULT_HOTKEYS(&quot;1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;)</div></div>
<div class="ttc" id="arecipe_8h_html_a6409b244d953153c56933adfbdc71b81a4377a40dfcbd9cf2a59077c787e2fa5a"><div class="ttname"><a href="recipe_8h.html#a6409b244d953153c56933adfbdc71b81a4377a40dfcbd9cf2a59077c787e2fa5a">recipe_filter_flags::no_rotten</a></div><div class="ttdeci">@ no_rotten</div></div>
<div class="ttc" id="arequirements_8h_html_a29bc522104aee22ea5cf6e7d3c629131abe578bdd9326ee6b1aa8d5672dd4c64f"><div class="ttname"><a href="requirements_8h.html#a29bc522104aee22ea5cf6e7d3c629131abe578bdd9326ee6b1aa8d5672dd4c64f">cost_adjustment::continue_only</a></div><div class="ttdeci">@ continue_only</div></div>
<div class="ttc" id="astructcomp__selection_html"><div class="ttname"><a href="structcomp__selection.html">comp_selection</a></div><div class="ttdoc">Struct that represents a selection of a component for crafting.</div><div class="ttdef"><b>Definition:</b> <a href="craft__command_8h_source.html#l00041">craft_command.h:41</a></div></div>
<div class="ttc" id="astructcomp__selection_html_a4425758a07ddfa5c74d6fa8fca658a34"><div class="ttname"><a href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">comp_selection::use_from</a></div><div class="ttdeci">usage use_from</div><div class="ttdoc">Tells us where the selected component should be used from.</div><div class="ttdef"><b>Definition:</b> <a href="craft__command_8h_source.html#l00049">craft_command.h:49</a></div></div>
<div class="ttc" id="astructcomponent_html_aa6596b552ee2f19c2440c5a6aed9ecf4"><div class="ttname"><a href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">component::count</a></div><div class="ttdeci">int count</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00059">requirements.h:59</a></div></div>
<div class="ttc" id="astructrequirement__data_html"><div class="ttname"><a href="structrequirement__data.html">requirement_data</a></div><div class="ttdoc">The *_vector members represent list of alternatives requirements: alter_tool_comp_vector = { * { { a,...</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00215">requirements.h:215</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a1590c4ebea201a6937c0fa9a8227986d"><div class="ttname"><a href="structrequirement__data.html#a1590c4ebea201a6937c0fa9a8227986d">requirement_data::list_missing</a></div><div class="ttdeci">std::string list_missing() const</div><div class="ttdoc">Returns a list of components/tools/qualities that are not available, nicely formatted for popup windo...</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00426">requirements.cpp:426</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a175d46943600149603b7a915cb48092b"><div class="ttname"><a href="structrequirement__data.html#a175d46943600149603b7a915cb48092b">requirement_data::get_tools</a></div><div class="ttdeci">const alter_tool_comp_vector &amp; get_tools() const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00975">requirements.cpp:975</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a3924efd3afbeca600efca8d4112baa41"><div class="ttname"><a href="structrequirement__data.html#a3924efd3afbeca600efca8d4112baa41">requirement_data::list_all</a></div><div class="ttdeci">std::string list_all() const</div><div class="ttdoc">Returns a list of components/tools/qualities that are required, nicely formatted for popup window or ...</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00392">requirements.cpp:392</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a56dbf23ade6bced0dc6148b8e1a12d4c"><div class="ttname"><a href="structrequirement__data.html#a56dbf23ade6bced0dc6148b8e1a12d4c">requirement_data::get_components</a></div><div class="ttdeci">const alter_item_comp_vector &amp; get_components() const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00985">requirements.cpp:985</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a6de33848f3102c4022bf4d7922c073c9"><div class="ttname"><a href="structrequirement__data.html#a6de33848f3102c4022bf4d7922c073c9">requirement_data::can_make_with_inventory</a></div><div class="ttdeci">bool can_make_with_inventory(const inventory &amp;crafting_inv, const std::function&lt; bool(const item &amp;)&gt; &amp;filter, int batch=1, cost_adjustment=cost_adjustment::none) const</div><div class="ttdoc">Returns true if the requirements are fufilled by the filtered inventory.</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00691">requirements.cpp:691</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a7acde751aa71fb09c3272929afae503f"><div class="ttname"><a href="structrequirement__data.html#a7acde751aa71fb09c3272929afae503f">requirement_data::is_empty</a></div><div class="ttdeci">bool is_empty() const</div><div class="ttdoc">empty requirements are not necessary null</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00247">requirements.h:247</a></div></div>
<div class="ttc" id="astructtool__comp_html"><div class="ttname"><a href="structtool__comp.html">tool_comp</a></div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00090">requirements.h:90</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="requirements_8cpp_source.html#l00691">requirement_data::can_make_with_inventory()</a>, <a class="el" href="craft__command_8h_source.html#l00028">cancel</a>, <a class="el" href="character_8cpp_source.html#l09208">Character::cancel_activity()</a>, <a class="el" href="crafting_8cpp_source.html#l02443">crafting::charges_for_continuing()</a>, <a class="el" href="crafting_8cpp_source.html#l01487">consume_items()</a>, <a class="el" href="requirements_8h.html#a29bc522104aee22ea5cf6e7d3c629131abe578bdd9326ee6b1aa8d5672dd4c64f">continue_only</a>, <a class="el" href="requirements_8h_source.html#l00059">component::count</a>, <a class="el" href="crafting_8cpp_source.html#l00334">craft()</a>, <a class="el" href="crafting_8cpp_source.html#l00545">Character::crafting_inventory()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="player_8h.html#a105a2bc78dff70bdbdc683b88b2f5351">DEFAULT_HOTKEYS()</a>, <a class="el" href="inventory_8cpp_source.html#l00472">inventory::form_from_map()</a>, <a class="el" href="recipe_8cpp_source.html#l00606">recipe::get_component_filter()</a>, <a class="el" href="requirements_8cpp_source.html#l00985">requirement_data::get_components()</a>, <a class="el" href="requirements_8cpp_source.html#l00975">requirement_data::get_tools()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="requirements_8h_source.html#l00247">requirement_data::is_empty()</a>, <a class="el" href="requirements_8cpp_source.html#l00392">requirement_data::list_all()</a>, <a class="el" href="requirements_8cpp_source.html#l00426">requirement_data::list_missing()</a>, <a class="el" href="recipe_8h.html#a6409b244d953153c56933adfbdc71b81a4377a40dfcbd9cf2a59077c787e2fa5a">no_rotten</a>, <a class="el" href="output_8h_source.html#l00493">PF_NONE</a>, <a class="el" href="cached__options_8cpp_source.html#l00017">PICKUP_RANGE</a>, <a class="el" href="output_8cpp_source.html#l00764">popup()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="player_8cpp_source.html#l04405">query_yn()</a>, <a class="el" href="crafting_8cpp_source.html#l01299">select_item_component()</a>, <a class="el" href="crafting_8cpp_source.html#l01707">crafting::select_tool_component()</a>, <a class="el" href="recipe_8h_source.html#l00067">recipe::simple_requirements()</a>, <a class="el" href="crafting_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a>, and <a class="el" href="craft__command_8h_source.html#l00049">comp_selection&lt; CompType &gt;::use_from</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l09630">iuse::craft()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03867">activity_handlers::craft_do_turn()</a>, and <a class="el" href="crafting_8cpp_source.html#l00918">item::handle_craft_failure()</a>.</p>

</div>
</div>
<a id="a010e76e9611050acd16e0753ee8b492b" name="a010e76e9611050acd16e0753ee8b492b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a010e76e9611050acd16e0753ee8b492b">&#9670;&nbsp;</a></span>can_decomp_learn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::can_decomp_learn </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>rec</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04112">4112</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04113" name="l04113"></a><span class="lineno"> 4113</span>{</div>
<div class="line"><a id="l04114" name="l04114"></a><span class="lineno"> 4114</span>    <span class="keywordflow">return</span> !rec.<a class="code hl_variable" href="classrecipe.html#a1e30e83416b78d0cbbb071fc05a81267">learn_by_disassembly</a>.empty() &amp;&amp;</div>
<div class="line"><a id="l04115" name="l04115"></a><span class="lineno"> 4115</span>           <a class="code hl_function" href="classCharacter.html#afc4d3be0006e7ac9643b568bcf531ae9">meets_skill_requirements</a>( rec.<a class="code hl_variable" href="classrecipe.html#a1e30e83416b78d0cbbb071fc05a81267">learn_by_disassembly</a> );</div>
<div class="line"><a id="l04116" name="l04116"></a><span class="lineno"> 4116</span>}</div>
<div class="ttc" id="aclassCharacter_html_afc4d3be0006e7ac9643b568bcf531ae9"><div class="ttname"><a href="classCharacter.html#afc4d3be0006e7ac9643b568bcf531ae9">Character::meets_skill_requirements</a></div><div class="ttdeci">bool meets_skill_requirements(const std::map&lt; skill_id, int &gt; &amp;req, const item &amp;context=item()) const</div><div class="ttdoc">Checks whether the character's skills meet the required.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03413">character.cpp:3413</a></div></div>
<div class="ttc" id="aclassrecipe_html_a1e30e83416b78d0cbbb071fc05a81267"><div class="ttname"><a href="classrecipe.html#a1e30e83416b78d0cbbb071fc05a81267">recipe::learn_by_disassembly</a></div><div class="ttdeci">std::map&lt; skill_id, int &gt; learn_by_disassembly</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00111">recipe.h:111</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="recipe_8h_source.html#l00111">recipe::learn_by_disassembly</a>, and <a class="el" href="character_8cpp_source.html#l03413">Character::meets_skill_requirements()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l02104">complete_disassemble()</a>, and <a class="el" href="crafting_8cpp_source.html#l01933">disassemble()</a>.</p>

</div>
</div>
<a id="a326ca5eed7a942d13b5a21d0c4729785" name="a326ca5eed7a942d13b5a21d0c4729785"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a326ca5eed7a942d13b5a21d0c4729785">&#9670;&nbsp;</a></span>can_disassemble()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classret__val.html">ret_val</a>&lt; bool &gt; player::can_disassemble </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td>
          <td class="paramname"><em>inv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the player can disassemble an item using the current crafting inventory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Object to check for disassembly </td></tr>
    <tr><td class="paramname">inv</td><td>current crafting inventory </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l01855">1855</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>{</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;r = <a class="code hl_function" href="classrecipe__dictionary.html#a93af439fed4b5043d9709235e0cea03e">recipe_dictionary::get_uncraft</a>( obj.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() );</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span> </div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>    <span class="keywordflow">if</span>( !r || obj.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="crafting_8cpp.html#a09be785730be8d8b735277a2434fa57b">flag_ETHEREAL_ITEM</a> ) ) {</div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot disassemble this.&quot;</span> ) );</div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>    }</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span> </div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>    <span class="comment">// check sufficient light</span></div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#a8ee047b1912857bcc83e625f1ac377f7">lighting_craft_speed_multiplier</a>( r ) == 0.0f ) {</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t see to craft!&quot;</span> ) );</div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>    }</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span> </div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>    <span class="comment">// refuse to disassemble rotten items</span></div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *food = obj.<a class="code hl_function" href="classitem.html#acab4550c97cabd8d8067e5e53b001178">get_food</a>();</div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>    <span class="keywordflow">if</span>( ( obj.<a class="code hl_function" href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">goes_bad</a>() &amp;&amp; obj.<a class="code hl_function" href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">rotten</a>() ) || ( food &amp;&amp; food-&gt;<a class="code hl_function" href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">goes_bad</a>() &amp;&amp; food-&gt;<a class="code hl_function" href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">rotten</a>() ) ) {</div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It&#39;s rotten, I&#39;m not taking that apart.&quot;</span> ) );</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>    }</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span> </div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>    <span class="comment">// refuse to disassemble items containing monsters/pets</span></div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>    std::string <a class="code hl_class" href="classmonster.html">monster</a> = obj.<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;contained_name&quot;</span> );</div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>    <span class="keywordflow">if</span>( !<a class="code hl_class" href="classmonster.html">monster</a>.empty() ) {</div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You must remove the %s before you can disassemble this.&quot;</span> ),</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>                                            <a class="code hl_class" href="classmonster.html">monster</a> );</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>    }</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span> </div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>    <span class="keywordflow">if</span>( !obj.<a class="code hl_function" href="classitem.html#ac3cc4d74d020cbd36ae490cbe88f9152">is_ammo</a>() ) { <span class="comment">//we get ammo quantity to disassemble later on</span></div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>        <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() &amp;&amp; !r.has_flag( <a class="code hl_function" href="crafting_8cpp.html#a5187fdf5cd785e86e7602e4f97f9513c">flag_UNCRAFT_SINGLE_CHARGE</a> ) ) {</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>            <span class="comment">// Create a new item to get the default charges</span></div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>            <span class="keywordtype">int</span> qty = r.create_result().charges;</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>            <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &lt; qty ) {</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span>                <span class="keyword">auto</span> msg = <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;You need at least %d charge of %s.&quot;</span>,</div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>                                     <span class="stringliteral">&quot;You need at least %d charges of %s.&quot;</span>, qty );</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( msg, qty, obj.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>            }</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>        }</div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>    }</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;dis = r.disassembly_requirements();</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span> </div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;opts : dis.get_qualities() ) {</div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;qual : opts ) {</div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>            <span class="keywordflow">if</span>( !qual.has( <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>, return_true&lt;item&gt; ) ) {</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>                <span class="comment">// Here should be no dot at the end of the string as &#39;to_string()&#39; provides it.</span></div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need %s&quot;</span> ), qual.to_string() );</div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>            }</div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>        }</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>    }</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span> </div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;opts : dis.get_tools() ) {</div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> found = std::any_of( opts.begin(), opts.end(),</div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>        [&amp;]( <span class="keyword">const</span> <a class="code hl_struct" href="structtool__comp.html">tool_comp</a> &amp; <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a> ) {</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span>            return ( tool.count &lt;= 0 &amp;&amp; inv.has_tools( tool.type, 1 ) ) ||</div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span>                   ( tool.count  &gt; 0 &amp;&amp; inv.has_charges( tool.type, tool.count ) );</div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>        } );</div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span> </div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>        <span class="keywordflow">if</span>( !found ) {</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structtool__comp.html">tool_comp</a> &amp;tool_required = opts.front();</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>            <span class="keywordflow">if</span>( tool_required.<a class="code hl_variable" href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">count</a> &lt;= 0 ) {</div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need %s.&quot;</span> ),</div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span>                                                    <a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( tool_required.<a class="code hl_variable" href="structcomponent.html#a9c114293306257abbc1db25073fc0492">type</a> ) );</div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span>                <span class="comment">//~ %1$s: tool name, %2$d: needed charges</span></div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;You need a %1$s with %2$d charge.&quot;</span>,</div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>                                                    <span class="stringliteral">&quot;You need a %1$s with %2$d charges.&quot;</span>, tool_required.<a class="code hl_variable" href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">count</a> ),</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>                                                    <a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( tool_required.<a class="code hl_variable" href="structcomponent.html#a9c114293306257abbc1db25073fc0492">type</a> ),</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>                                                    tool_required.<a class="code hl_variable" href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">count</a> );</div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>            }</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span>        }</div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>    }</div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span> </div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a0bbde13713bc279563fa85782599f957">ret_val&lt;bool&gt;::make_success</a>();</div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span>}</div>
<div class="ttc" id="aclassCharacter_html_a3d69eddc0a03b21378fc68cc08d32c7f"><div class="ttname"><a href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">Character::inv</a></div><div class="ttdeci">inventory inv</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01583">character.h:1583</a></div></div>
<div class="ttc" id="aclassitem_html_a0b12108a604ac9d940716bb8f1368cf5"><div class="ttname"><a href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">item::get_var</a></div><div class="ttdeci">double get_var(const std::string &amp;name, double default_value) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01022">item.cpp:1022</a></div></div>
<div class="ttc" id="aclassitem_html_a34f7ae5deade2f4a8fed4f04e81797ce"><div class="ttname"><a href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">item::rotten</a></div><div class="ttdeci">bool rotten() const</div><div class="ttdoc">returns true if item is now rotten after all shelf life has elapsed</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00853">item.h:853</a></div></div>
<div class="ttc" id="aclassitem_html_a40963a016376016eb408bdb9dbb94388"><div class="ttname"><a href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a></div><div class="ttdeci">bool count_by_charges() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05855">item.cpp:5855</a></div></div>
<div class="ttc" id="aclassitem_html_a438855ffd52d33307e1dfba6d607535b"><div class="ttname"><a href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a></div><div class="ttdeci">static std::string nname(const itype_id &amp;id, unsigned int quantity=1)</div><div class="ttdoc">Returns the translated item name for the item with given id.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09749">item.cpp:9749</a></div></div>
<div class="ttc" id="aclassitem_html_a7e78e26dcf9b357cda769c3ca2938eda"><div class="ttname"><a href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">item::tname</a></div><div class="ttdeci">std::string tname(unsigned int quantity=1, bool with_prefix=true, unsigned int truncate=0) const</div><div class="ttdoc">Return the (translated) item name.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04440">item.cpp:4440</a></div></div>
<div class="ttc" id="aclassitem_html_a9e073e3ce3fcc2e91bdaea5d603e798b"><div class="ttname"><a href="classitem.html#a9e073e3ce3fcc2e91bdaea5d603e798b">item::goes_bad</a></div><div class="ttdeci">bool goes_bad() const</div><div class="ttdoc">whether an item is perishable (can rot)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05387">item.cpp:5387</a></div></div>
<div class="ttc" id="aclassitem_html_acab4550c97cabd8d8067e5e53b001178"><div class="ttname"><a href="classitem.html#acab4550c97cabd8d8067e5e53b001178">item::get_food</a></div><div class="ttdeci">item * get_food()</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06492">item.cpp:6492</a></div></div>
<div class="ttc" id="aclassmonster_html"><div class="ttname"><a href="classmonster.html">monster</a></div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00083">monster.h:84</a></div></div>
<div class="ttc" id="aclassplayer_html_a8ee047b1912857bcc83e625f1ac377f7"><div class="ttname"><a href="classplayer.html#a8ee047b1912857bcc83e625f1ac377f7">player::lighting_craft_speed_multiplier</a></div><div class="ttdeci">float lighting_craft_speed_multiplier(const recipe &amp;rec) const</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00131">crafting.cpp:131</a></div></div>
<div class="ttc" id="aclassrecipe__dictionary_html_a93af439fed4b5043d9709235e0cea03e"><div class="ttname"><a href="classrecipe__dictionary.html#a93af439fed4b5043d9709235e0cea03e">recipe_dictionary::get_uncraft</a></div><div class="ttdeci">static const recipe &amp; get_uncraft(const itype_id &amp;id)</div><div class="ttdoc">Returns disassembly recipe (or null recipe if no match)</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00073">recipe_dictionary.cpp:73</a></div></div>
<div class="ttc" id="aclassret__val_html_a0bbde13713bc279563fa85782599f957"><div class="ttname"><a href="classret__val.html#a0bbde13713bc279563fa85782599f957">ret_val::make_success</a></div><div class="ttdeci">static ret_val make_success(T val=default_success::value)</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00042">ret_val.h:42</a></div></div>
<div class="ttc" id="aclassret__val_html_a415798e6fd736bd724329890cae0df4a"><div class="ttname"><a href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val::make_failure</a></div><div class="ttdeci">static ret_val make_failure(T val=default_failure::value)</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00046">ret_val.h:46</a></div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023"><div class="ttname"><a href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">item_consumption_t::tool</a></div><div class="ttdeci">@ tool</div></div>
<div class="ttc" id="acrafting_8cpp_html_a09be785730be8d8b735277a2434fa57b"><div class="ttname"><a href="crafting_8cpp.html#a09be785730be8d8b735277a2434fa57b">flag_ETHEREAL_ITEM</a></div><div class="ttdeci">static const std::string flag_ETHEREAL_ITEM(&quot;ETHEREAL_ITEM&quot;)</div></div>
<div class="ttc" id="acrafting_8cpp_html_a5187fdf5cd785e86e7602e4f97f9513c"><div class="ttname"><a href="crafting_8cpp.html#a5187fdf5cd785e86e7602e4f97f9513c">flag_UNCRAFT_SINGLE_CHARGE</a></div><div class="ttdeci">static const std::string flag_UNCRAFT_SINGLE_CHARGE(&quot;UNCRAFT_SINGLE_CHARGE&quot;)</div></div>
<div class="ttc" id="astructcomponent_html_a9c114293306257abbc1db25073fc0492"><div class="ttname"><a href="structcomponent.html#a9c114293306257abbc1db25073fc0492">component::type</a></div><div class="ttdeci">itype_id type</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00058">requirements.h:58</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_a82b835742108b8d7f5f6a291b41e208e"><div class="ttname"><a href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a></div><div class="ttdeci">const char * vgettext(const char *msgid, const char *msgid_plural, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00036">translations.cpp:36</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="requirements_8h_source.html#l00059">component::count</a>, <a class="el" href="item_8cpp_source.html#l05855">item::count_by_charges()</a>, <a class="el" href="crafting_8cpp.html#a09be785730be8d8b735277a2434fa57b">flag_ETHEREAL_ITEM()</a>, <a class="el" href="crafting_8cpp.html#a5187fdf5cd785e86e7602e4f97f9513c">flag_UNCRAFT_SINGLE_CHARGE()</a>, <a class="el" href="item_8cpp_source.html#l06492">item::get_food()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00073">recipe_dictionary::get_uncraft()</a>, <a class="el" href="item_8cpp_source.html#l01022">item::get_var()</a>, <a class="el" href="item_8cpp_source.html#l05387">item::goes_bad()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="character_8h_source.html#l01583">Character::inv</a>, <a class="el" href="item_8cpp_source.html#l06432">item::is_ammo()</a>, <a class="el" href="crafting_8cpp_source.html#l00131">lighting_craft_speed_multiplier()</a>, <a class="el" href="ret__val_8h_source.html#l00046">ret_val&lt; T &gt;::make_failure()</a>, <a class="el" href="ret__val_8h_source.html#l00042">ret_val&lt; T &gt;::make_success()</a>, <a class="el" href="item_8cpp_source.html#l09749">item::nname()</a>, <a class="el" href="item_8h_source.html#l00853">item::rotten()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>, <a class="el" href="requirements_8h_source.html#l00058">component::type</a>, <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>, and <a class="el" href="translations_8cpp_source.html#l00036">vgettext()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l08556">game::butcher()</a>, <a class="el" href="crafting_8cpp_source.html#l01933">disassemble()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00474">disassemble_inventory_preset::get_denial()</a>, and <a class="el" href="player_8cpp_source.html#l03305">rate_action_disassemble()</a>.</p>

</div>
</div>
<a id="af7ae0d0b0d45994a073f37862cbf6d3b" name="af7ae0d0b0d45994a073f37862cbf6d3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7ae0d0b0d45994a073f37862cbf6d3b">&#9670;&nbsp;</a></span>can_grab_break()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::can_grab_break </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>weap</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the player is able to use a grab breaking technique. </p>

<p class="definition">Definition at line <a class="el" href="martialarts_8cpp_source.html#l00937">937</a> of file <a class="el" href="martialarts_8cpp_source.html">martialarts.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>{</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#a951d934cb1eaf57e53e7aca48012d17a">has_grab_break_tec</a>() ) {</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>    }</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span> </div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>    <a class="code hl_class" href="classma__technique.html">ma_technique</a> tec = <a class="code hl_variable" href="classCharacter.html#a313797e99525bfd2a5ead68b7672f168">martial_arts_data</a>-&gt;get_grab_break_tec( weap );</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span> </div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>    <span class="keywordflow">return</span> tec.<a class="code hl_function" href="classma__technique.html#ae4d1d8d394748d66d899c15ac22b5e22">is_valid_character</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>}</div>
<div class="ttc" id="aclassCharacter_html_a313797e99525bfd2a5ead68b7672f168"><div class="ttname"><a href="classCharacter.html#a313797e99525bfd2a5ead68b7672f168">Character::martial_arts_data</a></div><div class="ttdeci">pimpl&lt; character_martial_arts &gt; martial_arts_data</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01589">character.h:1589</a></div></div>
<div class="ttc" id="aclassCharacter_html_a951d934cb1eaf57e53e7aca48012d17a"><div class="ttname"><a href="classCharacter.html#a951d934cb1eaf57e53e7aca48012d17a">Character::has_grab_break_tec</a></div><div class="ttdeci">bool has_grab_break_tec() const override</div><div class="ttdoc">Returns true if the player has a grab breaking technique available.</div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8cpp_source.html#l01209">martialarts.cpp:1209</a></div></div>
<div class="ttc" id="aclassma__technique_html"><div class="ttname"><a href="classma__technique.html">ma_technique</a></div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8h_source.html#l00063">martialarts.h:64</a></div></div>
<div class="ttc" id="aclassma__technique_html_ae4d1d8d394748d66d899c15ac22b5e22"><div class="ttname"><a href="classma__technique.html#ae4d1d8d394748d66d899c15ac22b5e22">ma_technique::is_valid_character</a></div><div class="ttdeci">bool is_valid_character(const Character &amp;u) const</div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8cpp_source.html#l00602">martialarts.cpp:602</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="martialarts_8cpp_source.html#l01209">Character::has_grab_break_tec()</a>, <a class="el" href="martialarts_8cpp_source.html#l00602">ma_technique::is_valid_character()</a>, and <a class="el" href="character_8h_source.html#l01589">Character::martial_arts_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l02649">mattack::grab()</a>.</p>

</div>
</div>
<a id="ae96b5036f9c88020817edc70c6906d6c" name="ae96b5036f9c88020817edc70c6906d6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae96b5036f9c88020817edc70c6906d6c">&#9670;&nbsp;</a></span>can_interface_armor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::can_interface_armor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether player has a bionic power armor interface. </p>
<dl class="section return"><dt>Returns</dt><dd>true if player has an active bionic capable of powering armor, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01901">1901</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span>{</div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>    <span class="keywordtype">bool</span> okay = std::any_of( <a class="code hl_variable" href="classCharacter.html#a388bca3ef975bd265c67df45bb280bee">my_bionics</a>-&gt;begin(), <a class="code hl_variable" href="classCharacter.html#a388bca3ef975bd265c67df45bb280bee">my_bionics</a>-&gt;end(),</div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span>    []( <span class="keyword">const</span> <a class="code hl_struct" href="structbionic.html">bionic</a> &amp; <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> ) {</div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>        return b.powered &amp;&amp; b.info().has_flag( STATIC( flag_str_id( <span class="stringliteral">&quot;BIONIC_ARMOR_INTERFACE&quot;</span> ) ) );</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span>    } );</div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span>    <span class="keywordflow">return</span> okay;</div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>}</div>
<div class="ttc" id="amagic_8cpp_html_aa93a189fb7bbbf87be54bcc7bd11bb6f"><div class="ttname"><a href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a></div><div class="ttdeci">constexpr double b</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01030">magic.cpp:1030</a></div></div>
<div class="ttc" id="astructbionic_html"><div class="ttname"><a href="structbionic.html">bionic</a></div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00149">bionics.h:149</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01030">b</a>, and <a class="el" href="character_8h_source.html#l01588">Character::my_bionics</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l09302">item::process_tool()</a>, <a class="el" href="item_8cpp_source.html#l07830">item::units_remaining()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00211">iuse_transform::use()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00914">set_transform_iuse::use()</a>.</p>

</div>
</div>
<a id="aff0473c898bbc2050d392b1109753bef" name="aff0473c898bbc2050d392b1109753bef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff0473c898bbc2050d392b1109753bef">&#9670;&nbsp;</a></span>can_lift()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::can_lift </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lift_strength_required</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check player strong enough to lift an object unaided by equipment (jacks, levers etc) </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02936">2936</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02937" name="l02937"></a><span class="lineno"> 2937</span>{</div>
<div class="line"><a id="l02938" name="l02938"></a><span class="lineno"> 2938</span>    <span class="comment">// avoid comparing by weight as different objects use differing scales (grams vs kilograms etc)</span></div>
<div class="line"><a id="l02939" name="l02939"></a><span class="lineno"> 2939</span>    <span class="keywordtype">int</span> str = <a class="code hl_function" href="classCharacter.html#a5aba683ccf77cb560a0a932308289bd9">get_str</a>();</div>
<div class="line"><a id="l02940" name="l02940"></a><span class="lineno"> 2940</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#ac3d46549b7cdaac1f98991167ad5f1b3">mounted_creature</a> ) {</div>
<div class="line"><a id="l02941" name="l02941"></a><span class="lineno"> 2941</span>        <span class="keyword">auto</span> mons = <a class="code hl_variable" href="classCharacter.html#ac3d46549b7cdaac1f98991167ad5f1b3">mounted_creature</a>.get();</div>
<div class="line"><a id="l02942" name="l02942"></a><span class="lineno"> 2942</span>        str = mons-&gt;mech_str_addition() == 0 ? str : mons-&gt;mech_str_addition();</div>
<div class="line"><a id="l02943" name="l02943"></a><span class="lineno"> 2943</span>    }</div>
<div class="line"><a id="l02944" name="l02944"></a><span class="lineno"> 2944</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> npc_str = <a class="code hl_function" href="classplayer.html#a3526879395962aa306c93ad8faa837cb">get_lift_assist</a>();</div>
<div class="line"><a id="l02945" name="l02945"></a><span class="lineno"> 2945</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad03d97c03c94cd08796f4787856af713">trait_id</a>( <span class="stringliteral">&quot;STRONGBACK&quot;</span> ) ) ) {</div>
<div class="line"><a id="l02946" name="l02946"></a><span class="lineno"> 2946</span>        str *= 1.35;</div>
<div class="line"><a id="l02947" name="l02947"></a><span class="lineno"> 2947</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad03d97c03c94cd08796f4787856af713">trait_id</a>( <span class="stringliteral">&quot;BADBACK&quot;</span> ) ) ) {</div>
<div class="line"><a id="l02948" name="l02948"></a><span class="lineno"> 2948</span>        str /= 1.35;</div>
<div class="line"><a id="l02949" name="l02949"></a><span class="lineno"> 2949</span>    }</div>
<div class="line"><a id="l02950" name="l02950"></a><span class="lineno"> 2950</span>    <span class="keywordflow">return</span> str + npc_str &gt;= lift_strength_required;</div>
<div class="line"><a id="l02951" name="l02951"></a><span class="lineno"> 2951</span>}</div>
<div class="ttc" id="aclassCharacter_html_a5aba683ccf77cb560a0a932308289bd9"><div class="ttname"><a href="classCharacter.html#a5aba683ccf77cb560a0a932308289bd9">Character::get_str</a></div><div class="ttdeci">virtual int get_str() const</div><div class="ttdoc">Getters for stats exclusive to characters.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04048">character.cpp:4048</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac3d46549b7cdaac1f98991167ad5f1b3"><div class="ttname"><a href="classCharacter.html#ac3d46549b7cdaac1f98991167ad5f1b3">Character::mounted_creature</a></div><div class="ttdeci">shared_ptr_fast&lt; monster &gt; mounted_creature</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01620">character.h:1620</a></div></div>
<div class="ttc" id="aclassplayer_html_a3526879395962aa306c93ad8faa837cb"><div class="ttname"><a href="classplayer.html#a3526879395962aa306c93ad8faa837cb">player::get_lift_assist</a></div><div class="ttdeci">int get_lift_assist() const</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l01065">player.cpp:1065</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player_8cpp_source.html#l01065">get_lift_assist()</a>, <a class="el" href="character_8cpp_source.html#l04048">Character::get_str()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8h_source.html#l01620">Character::mounted_creature</a>, and <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad03d97c03c94cd08796f4787856af713">trait_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l01273">can_do_activity_there()</a>.</p>

</div>
</div>
<a id="a2503f9e57c828ffa03aa68b3b19e0323" name="a2503f9e57c828ffa03aa68b3b19e0323"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2503f9e57c828ffa03aa68b3b19e0323">&#9670;&nbsp;</a></span>can_make()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::can_make </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch_size</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00522">522</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>{</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>    <span class="keyword">const</span> <a class="code hl_class" href="classinventory.html">inventory</a> &amp;crafting_inv = <a class="code hl_function" href="classCharacter.html#abd358c7a7757575b70b1613dbcce40a7">crafting_inventory</a>();</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span> </div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#aa4184fe8a21d73194f782cc48c798f60">has_recipe</a>( r, crafting_inv, <a class="code hl_function" href="classplayer.html#a1ca63c0414c6b4ea34691ef1f4f40047">get_crafting_helpers</a>() ) &lt; 0 ) {</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>    }</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span> </div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>    <span class="keywordflow">return</span> r-&gt;<a class="code hl_function" href="classrecipe.html#a1c935a61b9e502fe69cc8c1e89c72d12">deduped_requirements</a>().<a class="code hl_function" href="classdeduped__requirement__data.html#a180481eecb141996902d6b2e0aaa6f43">can_make_with_inventory</a>(</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>               crafting_inv, r-&gt;<a class="code hl_function" href="classrecipe.html#a45b065c59b172ccab9e0630fd036fe09">get_component_filter</a>(), batch_size );</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>}</div>
<div class="ttc" id="aclassdeduped__requirement__data_html_a180481eecb141996902d6b2e0aaa6f43"><div class="ttname"><a href="classdeduped__requirement__data.html#a180481eecb141996902d6b2e0aaa6f43">deduped_requirement_data::can_make_with_inventory</a></div><div class="ttdeci">bool can_make_with_inventory(const inventory &amp;crafting_inv, const std::function&lt; bool(const item &amp;)&gt; &amp;filter, int batch=1, cost_adjustment=static_cast&lt; cost_adjustment &gt;(0)) const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l01484">requirements.cpp:1484</a></div></div>
<div class="ttc" id="aclassplayer_html_aa4184fe8a21d73194f782cc48c798f60"><div class="ttname"><a href="classplayer.html#aa4184fe8a21d73194f782cc48c798f60">player::has_recipe</a></div><div class="ttdeci">int has_recipe(const recipe *r, const inventory &amp;crafting_inv, const std::vector&lt; npc * &gt; &amp;helpers) const</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04123">player.cpp:4123</a></div></div>
<div class="ttc" id="aclassrecipe_html_a1c935a61b9e502fe69cc8c1e89c72d12"><div class="ttname"><a href="classrecipe.html#a1c935a61b9e502fe69cc8c1e89c72d12">recipe::deduped_requirements</a></div><div class="ttdeci">const deduped_requirement_data &amp; deduped_requirements() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00071">recipe.h:71</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="requirements_8cpp_source.html#l01484">deduped_requirement_data::can_make_with_inventory()</a>, <a class="el" href="crafting_8cpp_source.html#l00545">Character::crafting_inventory()</a>, <a class="el" href="recipe_8h_source.html#l00071">recipe::deduped_requirements()</a>, <a class="el" href="recipe_8cpp_source.html#l00606">recipe::get_component_filter()</a>, <a class="el" href="crafting_8cpp_source.html#l02322">get_crafting_helpers()</a>, and <a class="el" href="player_8cpp_source.html#l04123">has_recipe()</a>.</p>

<p class="reference">Referenced by <a class="el" href="craft__command_8cpp_source.html#l00097">craft_command::execute()</a>, and <a class="el" href="crafting_8cpp_source.html#l00365">making_would_work()</a>.</p>

</div>
</div>
<a id="a3d57c62aa3ec8d8fca387bc2ff930113" name="a3d57c62aa3ec8d8fca387bc2ff930113"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d57c62aa3ec8d8fca387bc2ff930113">&#9670;&nbsp;</a></span>can_melee()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::can_melee </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the current martial art works with the player's current weapon. </p>

<p class="definition">Definition at line <a class="el" href="martialarts_8cpp_source.html#l01195">1195</a> of file <a class="el" href="martialarts_8cpp_source.html">martialarts.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>{</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="martialarts_8cpp.html#a14898c3fa769fd2c6c46c91f57a65250">search_ma_buff_effect</a>( *<a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>, []( <span class="keyword">const</span> <a class="code hl_class" href="classma__buff.html">ma_buff</a> &amp; <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>, <span class="keyword">const</span> <a class="code hl_class" href="classeffect.html">effect</a> &amp; ) {</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>.can_melee();</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>    } );</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>}</div>
<div class="ttc" id="aclassCreature_html_ae14e3b3ab4a876a17538cfe38818356c"><div class="ttname"><a href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">Creature::effects</a></div><div class="ttdeci">pimpl&lt; effects_map &gt; effects</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00808">creature.h:808</a></div></div>
<div class="ttc" id="aclasseffect_html"><div class="ttname"><a href="classeffect.html">effect</a></div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00160">effect.h:161</a></div></div>
<div class="ttc" id="aclassma__buff_html"><div class="ttname"><a href="classma__buff.html">ma_buff</a></div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8h_source.html#l00131">martialarts.h:132</a></div></div>
<div class="ttc" id="amartialarts_8cpp_html_a14898c3fa769fd2c6c46c91f57a65250"><div class="ttname"><a href="martialarts_8cpp.html#a14898c3fa769fd2c6c46c91f57a65250">search_ma_buff_effect</a></div><div class="ttdeci">static bool search_ma_buff_effect(const C &amp;container, F f)</div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8cpp_source.html#l01071">martialarts.cpp:1071</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01030">b</a>, <a class="el" href="creature_8h_source.html#l00808">Creature::effects</a>, and <a class="el" href="martialarts_8cpp_source.html#l01071">search_ma_buff_effect()</a>.</p>

</div>
</div>
<a id="a373081bc6d2cfc6c8917398f87052747" name="a373081bc6d2cfc6c8917398f87052747"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a373081bc6d2cfc6c8917398f87052747">&#9670;&nbsp;</a></span>can_reload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::can_reload </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>ammo</em> = <code><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether a tool or gun is potentially reloadable (optionally considering a specific ammo) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">it</td><td>Thing to be reloaded </td></tr>
    <tr><td class="paramname">ammo</td><td>if set also check item currently compatible with this specific ammo or magazine </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>items currently loaded with a detachable magazine are considered reloadable </dd>
<dd>
items with integral magazines are reloadable if free capacity permits (+/- ammo matches) </dd></dl>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02649">2649</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02650" name="l02650"></a><span class="lineno"> 2650</span>{</div>
<div class="line"><a id="l02651" name="l02651"></a><span class="lineno"> 2651</span>    <span class="keywordflow">if</span>( !it.<a class="code hl_function" href="classitem.html#a16d564fa461f2ef8547f137847dbb124">is_reloadable_with</a>( ammo ) ) {</div>
<div class="line"><a id="l02652" name="l02652"></a><span class="lineno"> 2652</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02653" name="l02653"></a><span class="lineno"> 2653</span>    }</div>
<div class="line"><a id="l02654" name="l02654"></a><span class="lineno"> 2654</span> </div>
<div class="line"><a id="l02655" name="l02655"></a><span class="lineno"> 2655</span>    <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#a44a8bb6387c8f43fa1040ded39d5b776">is_ammo_belt</a>() ) {</div>
<div class="line"><a id="l02656" name="l02656"></a><span class="lineno"> 2656</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;linkage = it.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;linkage;</div>
<div class="line"><a id="l02657" name="l02657"></a><span class="lineno"> 2657</span>        <span class="keywordflow">if</span>( linkage &amp;&amp; !<a class="code hl_function" href="classCharacter.html#a9bff3208a5e121c4e3a71b81b378e4e7">has_charges</a>( *linkage, 1 ) ) {</div>
<div class="line"><a id="l02658" name="l02658"></a><span class="lineno"> 2658</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02659" name="l02659"></a><span class="lineno"> 2659</span>        }</div>
<div class="line"><a id="l02660" name="l02660"></a><span class="lineno"> 2660</span>    }</div>
<div class="line"><a id="l02661" name="l02661"></a><span class="lineno"> 2661</span> </div>
<div class="line"><a id="l02662" name="l02662"></a><span class="lineno"> 2662</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02663" name="l02663"></a><span class="lineno"> 2663</span>}</div>
<div class="ttc" id="aclassCharacter_html_a9bff3208a5e121c4e3a71b81b378e4e7"><div class="ttname"><a href="classCharacter.html#a9bff3208a5e121c4e3a71b81b378e4e7">Character::has_charges</a></div><div class="ttdeci">bool has_charges(const itype_id &amp;it, int quantity, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09571">character.cpp:9571</a></div></div>
<div class="ttc" id="aclassitem_html_a16d564fa461f2ef8547f137847dbb124"><div class="ttname"><a href="classitem.html#a16d564fa461f2ef8547f137847dbb124">item::is_reloadable_with</a></div><div class="ttdeci">bool is_reloadable_with(const itype_id &amp;ammo) const</div><div class="ttdoc">Returns true if this item can be reloaded with specified ammo type at this moment.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06716">item.cpp:6716</a></div></div>
<div class="ttc" id="aclassitem_html_a44a8bb6387c8f43fa1040ded39d5b776"><div class="ttname"><a href="classitem.html#a44a8bb6387c8f43fa1040ded39d5b776">item::is_ammo_belt</a></div><div class="ttdeci">bool is_ammo_belt() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06417">item.cpp:6417</a></div></div>
<div class="ttc" id="astructitype_html_aba9992b8bc80b65d4153370b3e0755ec"><div class="ttname"><a href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">itype::magazine</a></div><div class="ttdeci">cata::value_ptr&lt; islot_magazine &gt; magazine</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00859">itype.h:859</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l09571">Character::has_charges()</a>, <a class="el" href="item_8cpp_source.html#l06417">item::is_ammo_belt()</a>, <a class="el" href="item_8cpp_source.html#l06716">item::is_reloadable_with()</a>, <a class="el" href="itype_8h_source.html#l00859">itype::magazine</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l01521">npc::find_usable_ammo()</a>, <a class="el" href="player_8cpp_source.html#l02389">list_ammo()</a>, <a class="el" href="player_8cpp_source.html#l03234">rate_action_reload()</a>, and <a class="el" href="npcmove_8cpp_source.html#l01452">wants_to_reload()</a>.</p>

</div>
</div>
<a id="af79e5154c3c5c24b98701e93f30d24d8" name="af79e5154c3c5c24b98701e93f30d24d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af79e5154c3c5c24b98701e93f30d24d8">&#9670;&nbsp;</a></span>can_sleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::can_sleep </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checked each turn during "lying_down", returns true if the player falls asleep. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03939">3939</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03940" name="l03940"></a><span class="lineno"> 3940</span>{</div>
<div class="line"><a id="l03941" name="l03941"></a><span class="lineno"> 3941</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a5ba3e18250fa524fe8548fa0a1e98535">effect_meth</a> ) ) {</div>
<div class="line"><a id="l03942" name="l03942"></a><span class="lineno"> 3942</span>        <span class="comment">// Sleep ain&#39;t happening until that meth wears off completely.</span></div>
<div class="line"><a id="l03943" name="l03943"></a><span class="lineno"> 3943</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03944" name="l03944"></a><span class="lineno"> 3944</span>    }</div>
<div class="line"><a id="l03945" name="l03945"></a><span class="lineno"> 3945</span> </div>
<div class="line"><a id="l03946" name="l03946"></a><span class="lineno"> 3946</span>    <span class="comment">// Since there&#39;s a bit of randomness to falling asleep, we want to</span></div>
<div class="line"><a id="l03947" name="l03947"></a><span class="lineno"> 3947</span>    <span class="comment">// prevent exploiting this if can_sleep() gets called over and over.</span></div>
<div class="line"><a id="l03948" name="l03948"></a><span class="lineno"> 3948</span>    <span class="comment">// Only actually check if we can fall asleep no more frequently than</span></div>
<div class="line"><a id="l03949" name="l03949"></a><span class="lineno"> 3949</span>    <span class="comment">// every 30 minutes.  We&#39;re assuming that if we return true, we&#39;ll</span></div>
<div class="line"><a id="l03950" name="l03950"></a><span class="lineno"> 3950</span>    <span class="comment">// immediately be falling asleep after that.</span></div>
<div class="line"><a id="l03951" name="l03951"></a><span class="lineno"> 3951</span>    <span class="comment">//</span></div>
<div class="line"><a id="l03952" name="l03952"></a><span class="lineno"> 3952</span>    <span class="comment">// Also if player debug menu&#39;d time backwards this breaks, just do the</span></div>
<div class="line"><a id="l03953" name="l03953"></a><span class="lineno"> 3953</span>    <span class="comment">// check anyway, this will reset the timer if &#39;dur&#39; is negative.</span></div>
<div class="line"><a id="l03954" name="l03954"></a><span class="lineno"> 3954</span>    <span class="keyword">const</span> <a class="code hl_class" href="classtime__point.html">time_point</a> now = <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>;</div>
<div class="line"><a id="l03955" name="l03955"></a><span class="lineno"> 3955</span>    <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> dur = now - <a class="code hl_variable" href="classplayer.html#a7aecb79fe7868dceee1ee1e363eebe12">last_sleep_check</a>;</div>
<div class="line"><a id="l03956" name="l03956"></a><span class="lineno"> 3956</span>    <span class="keywordflow">if</span>( dur &gt;= 0_turns &amp;&amp; dur &lt; 30_minutes ) {</div>
<div class="line"><a id="l03957" name="l03957"></a><span class="lineno"> 3957</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03958" name="l03958"></a><span class="lineno"> 3958</span>    }</div>
<div class="line"><a id="l03959" name="l03959"></a><span class="lineno"> 3959</span>    <a class="code hl_variable" href="classplayer.html#a7aecb79fe7868dceee1ee1e363eebe12">last_sleep_check</a> = now;</div>
<div class="line"><a id="l03960" name="l03960"></a><span class="lineno"> 3960</span> </div>
<div class="line"><a id="l03961" name="l03961"></a><span class="lineno"> 3961</span>    <span class="keywordtype">int</span> sleepy = <a class="code hl_function" href="classplayer.html#ab3398f0b9e51eef761822407a686378c">sleep_spot</a>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l03962" name="l03962"></a><span class="lineno"> 3962</span>    sleepy += <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -8, 8 );</div>
<div class="line"><a id="l03963" name="l03963"></a><span class="lineno"> 3963</span>    <span class="keywordtype">bool</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = sleepy &gt; 0;</div>
<div class="line"><a id="l03964" name="l03964"></a><span class="lineno"> 3964</span> </div>
<div class="line"><a id="l03965" name="l03965"></a><span class="lineno"> 3965</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af9c7419575e23d52745c94009929fafb">has_active_bionic</a>( <a class="code hl_variable" href="player_8cpp.html#a978adf30232e0bcf1b9d38a73b8dd30e">bio_soporific</a> ) ) {</div>
<div class="line"><a id="l03966" name="l03966"></a><span class="lineno"> 3966</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer.html#a1c39a85115cfe10b149ed518a08d2e31">bio_soporific_powered_at_last_sleep_check</a> &amp;&amp; !<a class="code hl_function" href="classCharacter.html#ad33fda9a7f9d4c8529cff2bbaea675ae">has_power</a>() ) {</div>
<div class="line"><a id="l03967" name="l03967"></a><span class="lineno"> 3967</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your soporific inducer runs out of power!&quot;</span> ) );</div>
<div class="line"><a id="l03968" name="l03968"></a><span class="lineno"> 3968</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classplayer.html#a1c39a85115cfe10b149ed518a08d2e31">bio_soporific_powered_at_last_sleep_check</a> &amp;&amp; <a class="code hl_function" href="classCharacter.html#ad33fda9a7f9d4c8529cff2bbaea675ae">has_power</a>() ) {</div>
<div class="line"><a id="l03969" name="l03969"></a><span class="lineno"> 3969</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your soporific inducer starts back up.&quot;</span> ) );</div>
<div class="line"><a id="l03970" name="l03970"></a><span class="lineno"> 3970</span>        }</div>
<div class="line"><a id="l03971" name="l03971"></a><span class="lineno"> 3971</span>        <a class="code hl_variable" href="classplayer.html#a1c39a85115cfe10b149ed518a08d2e31">bio_soporific_powered_at_last_sleep_check</a> = <a class="code hl_function" href="classCharacter.html#ad33fda9a7f9d4c8529cff2bbaea675ae">has_power</a>();</div>
<div class="line"><a id="l03972" name="l03972"></a><span class="lineno"> 3972</span>    }</div>
<div class="line"><a id="l03973" name="l03973"></a><span class="lineno"> 3973</span> </div>
<div class="line"><a id="l03974" name="l03974"></a><span class="lineno"> 3974</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l03975" name="l03975"></a><span class="lineno"> 3975</span>}</div>
<div class="ttc" id="aclassCharacter_html_ad33fda9a7f9d4c8529cff2bbaea675ae"><div class="ttname"><a href="classCharacter.html#ad33fda9a7f9d4c8529cff2bbaea675ae">Character::has_power</a></div><div class="ttdeci">bool has_power() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01998">character.cpp:1998</a></div></div>
<div class="ttc" id="aclassplayer_html_a1c39a85115cfe10b149ed518a08d2e31"><div class="ttname"><a href="classplayer.html#a1c39a85115cfe10b149ed518a08d2e31">player::bio_soporific_powered_at_last_sleep_check</a></div><div class="ttdeci">bool bio_soporific_powered_at_last_sleep_check</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00482">player.h:482</a></div></div>
<div class="ttc" id="aclassplayer_html_a7aecb79fe7868dceee1ee1e363eebe12"><div class="ttname"><a href="classplayer.html#a7aecb79fe7868dceee1ee1e363eebe12">player::last_sleep_check</a></div><div class="ttdeci">time_point last_sleep_check</div><div class="ttdoc">last time we checked for sleep</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00481">player.h:481</a></div></div>
<div class="ttc" id="aclassplayer_html_ab3398f0b9e51eef761822407a686378c"><div class="ttname"><a href="classplayer.html#ab3398f0b9e51eef761822407a686378c">player::sleep_spot</a></div><div class="ttdeci">int sleep_spot(const tripoint &amp;p) const</div><div class="ttdoc">Rate point's ability to serve as a bed.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03889">player.cpp:3889</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00179">calendar.h:180</a></div></div>
<div class="ttc" id="aclasstime__point_html"><div class="ttname"><a href="classtime__point.html">time_point</a></div><div class="ttdoc">A point in the game time.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00430">calendar.h:431</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a></div><div class="ttdeci">@ m_good</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00253">enums.h:253</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a></div><div class="ttdeci">@ m_bad</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00254">enums.h:254</a></div></div>
<div class="ttc" id="anamespacedetail_1_1digits_html_aad69d2373aa047bdd9e81494bf3da5ae"><div class="ttname"><a href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">detail::digits::result</a></div><div class="ttdeci">result</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format-inl_8h_source.html#l01626">fmtlib_format-inl.h:1626</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a5ba3e18250fa524fe8548fa0a1e98535"><div class="ttname"><a href="player_8cpp.html#a5ba3e18250fa524fe8548fa0a1e98535">effect_meth</a></div><div class="ttdeci">static const efftype_id effect_meth(&quot;meth&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a978adf30232e0bcf1b9d38a73b8dd30e"><div class="ttname"><a href="player_8cpp.html#a978adf30232e0bcf1b9d38a73b8dd30e">bio_soporific</a></div><div class="ttdeci">static const bionic_id bio_soporific(&quot;bio_soporific&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="player_8cpp.html#a978adf30232e0bcf1b9d38a73b8dd30e">bio_soporific</a>, <a class="el" href="player_8h_source.html#l00482">bio_soporific_powered_at_last_sleep_check</a>, <a class="el" href="player_8cpp.html#a5ba3e18250fa524fe8548fa0a1e98535">effect_meth</a>, <a class="el" href="character_8cpp_source.html#l01876">Character::has_active_bionic()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="character_8cpp_source.html#l01998">Character::has_power()</a>, <a class="el" href="player_8h_source.html#l00481">last_sleep_check</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="player_8cpp_source.html#l03889">sleep_spot()</a>, and <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00464">hardcoded_effects()</a>, and <a class="el" href="activity__handlers_8cpp_source.html#l03461">activity_handlers::try_sleep_do_turn()</a>.</p>

</div>
</div>
<a id="afeccf7317f1d8fd8bee4571d9812b8f5" name="afeccf7317f1d8fd8bee4571d9812b8f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeccf7317f1d8fd8bee4571d9812b8f5">&#9670;&nbsp;</a></span>can_start_craft()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::can_start_craft </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="recipe_8h.html#a6409b244d953153c56933adfbdc71b81">recipe_filter_flags</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch_size</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the player can start crafting the recipe with the given batch size The player is not required to have enough tool charges to finish crafting, only to complete the first step (total / 20 + total % 20 charges) </p>

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00534">534</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>{</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    <span class="keywordflow">if</span>( !rec ) {</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    }</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span> </div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>    <span class="keyword">const</span> <a class="code hl_class" href="classinventory.html">inventory</a> &amp;<a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a> = <a class="code hl_function" href="classCharacter.html#abd358c7a7757575b70b1613dbcce40a7">crafting_inventory</a>();</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    <span class="keywordflow">return</span> rec-&gt;<a class="code hl_function" href="classrecipe.html#a1c935a61b9e502fe69cc8c1e89c72d12">deduped_requirements</a>().<a class="code hl_function" href="classdeduped__requirement__data.html#a180481eecb141996902d6b2e0aaa6f43">can_make_with_inventory</a>(</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>               <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>, rec-&gt;<a class="code hl_function" href="classrecipe.html#a45b065c59b172ccab9e0630fd036fe09">get_component_filter</a>( flags ), batch_size, <a class="code hl_enumvalue" href="requirements_8h.html#a29bc522104aee22ea5cf6e7d3c629131ac09b0863169aa4c63d88adf3644aef93">cost_adjustment::start_only</a> );</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>}</div>
<div class="ttc" id="arequirements_8h_html_a29bc522104aee22ea5cf6e7d3c629131ac09b0863169aa4c63d88adf3644aef93"><div class="ttname"><a href="requirements_8h.html#a29bc522104aee22ea5cf6e7d3c629131ac09b0863169aa4c63d88adf3644aef93">cost_adjustment::start_only</a></div><div class="ttdeci">@ start_only</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="requirements_8cpp_source.html#l01484">deduped_requirement_data::can_make_with_inventory()</a>, <a class="el" href="crafting_8cpp_source.html#l00545">Character::crafting_inventory()</a>, <a class="el" href="recipe_8h_source.html#l00071">recipe::deduped_requirements()</a>, <a class="el" href="recipe_8cpp_source.html#l00606">recipe::get_component_filter()</a>, <a class="el" href="character_8h_source.html#l01583">Character::inv</a>, and <a class="el" href="requirements_8h.html#a29bc522104aee22ea5cf6e7d3c629131ac09b0863169aa4c63d88adf3644aef93">start_only</a>.</p>

<p class="reference">Referenced by <a class="el" href="craft__command_8cpp_source.html#l00097">craft_command::execute()</a>.</p>

</div>
</div>
<a id="acc7afd68c20908fba93feaf5cc28e8cd" name="acc7afd68c20908fba93feaf5cc28e8cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc7afd68c20908fba93feaf5cc28e8cd">&#9670;&nbsp;</a></span>can_takeoff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classret__val.html">ret_val</a>&lt; bool &gt; player::can_takeoff </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; *&#160;</td>
          <td class="paramname"><em>res</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check player capable of taking off an item. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">it</td><td>Thing to be taken off </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02953">2953</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02954" name="l02954"></a><span class="lineno"> 2954</span>{</div>
<div class="line"><a id="l02955" name="l02955"></a><span class="lineno"> 2955</span>    <span class="keyword">auto</span> iter = std::find_if( <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>.begin(), <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>.end(), [ &amp;it ]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; wit ) {</div>
<div class="line"><a id="l02956" name="l02956"></a><span class="lineno"> 2956</span>        return &amp;it == &amp;wit;</div>
<div class="line"><a id="l02957" name="l02957"></a><span class="lineno"> 2957</span>    } );</div>
<div class="line"><a id="l02958" name="l02958"></a><span class="lineno"> 2958</span> </div>
<div class="line"><a id="l02959" name="l02959"></a><span class="lineno"> 2959</span>    <span class="keywordflow">if</span>( iter == <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>.end() ) {</div>
<div class="line"><a id="l02960" name="l02960"></a><span class="lineno"> 2960</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( !<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are not wearing that item.&quot;</span> ) :</div>
<div class="line"><a id="l02961" name="l02961"></a><span class="lineno"> 2961</span>                                            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; is not wearing that item.&quot;</span> ) );</div>
<div class="line"><a id="l02962" name="l02962"></a><span class="lineno"> 2962</span>    }</div>
<div class="line"><a id="l02963" name="l02963"></a><span class="lineno"> 2963</span> </div>
<div class="line"><a id="l02964" name="l02964"></a><span class="lineno"> 2964</span>    <span class="keywordflow">if</span>( res == <span class="keyword">nullptr</span> &amp;&amp; !<a class="code hl_function" href="classCharacter.html#a4c47ecf4bf281c370bcc18edc8da662e">get_dependent_worn_items</a>( it ).empty() ) {</div>
<div class="line"><a id="l02965" name="l02965"></a><span class="lineno"> 2965</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( !<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ?</div>
<div class="line"><a id="l02966" name="l02966"></a><span class="lineno"> 2966</span>                                            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t take off power armor while wearing other power armor components.&quot;</span> ) :</div>
<div class="line"><a id="l02967" name="l02967"></a><span class="lineno"> 2967</span>                                            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; can&#39;t take off power armor while wearing other power armor components.&quot;</span> ) );</div>
<div class="line"><a id="l02968" name="l02968"></a><span class="lineno"> 2968</span>    }</div>
<div class="line"><a id="l02969" name="l02969"></a><span class="lineno"> 2969</span>    <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;NO_TAKEOFF&quot;</span> ) ) {</div>
<div class="line"><a id="l02970" name="l02970"></a><span class="lineno"> 2970</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( !<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ?</div>
<div class="line"><a id="l02971" name="l02971"></a><span class="lineno"> 2971</span>                                            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t take that item off.&quot;</span> ) :</div>
<div class="line"><a id="l02972" name="l02972"></a><span class="lineno"> 2972</span>                                            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; can&#39;t take that item off.&quot;</span> ) );</div>
<div class="line"><a id="l02973" name="l02973"></a><span class="lineno"> 2973</span>    }</div>
<div class="line"><a id="l02974" name="l02974"></a><span class="lineno"> 2974</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a0bbde13713bc279563fa85782599f957">ret_val&lt;bool&gt;::make_success</a>();</div>
<div class="line"><a id="l02975" name="l02975"></a><span class="lineno"> 2975</span>}</div>
<div class="ttc" id="aclassCharacter_html_a4c3defc0d53472077cb7577b30b1605f"><div class="ttname"><a href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">Character::worn</a></div><div class="ttdeci">std::list&lt; item &gt; worn</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01571">character.h:1571</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4c47ecf4bf281c370bcc18edc8da662e"><div class="ttname"><a href="classCharacter.html#a4c47ecf4bf281c370bcc18edc8da662e">Character::get_dependent_worn_items</a></div><div class="ttdeci">std::list&lt; item * &gt; get_dependent_worn_items(const item &amp;it)</div><div class="ttdoc">Returns all items that must be taken off before taking off this item.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02466">character.cpp:2466</a></div></div>
<div class="ttc" id="aclassplayer_html_a4b34c26cb73111ff42bcab11576f51a0"><div class="ttname"><a href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">player::is_npc</a></div><div class="ttdeci">bool is_npc() const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00131">player.h:131</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="character_8cpp_source.html#l02466">Character::get_dependent_worn_items()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="player_8h_source.html#l00131">is_npc()</a>, <a class="el" href="ret__val_8h_source.html#l00046">ret_val&lt; T &gt;::make_failure()</a>, <a class="el" href="ret__val_8h_source.html#l00042">ret_val&lt; T &gt;::make_success()</a>, and <a class="el" href="character_8h_source.html#l01571">Character::worn</a>.</p>

<p class="reference">Referenced by <a class="el" href="game__inventory_8cpp_source.html#l00375">take_off_inventory_preset::get_denial()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00845">avatar_action::plthrow()</a>, <a class="el" href="player_8cpp_source.html#l02977">takeoff()</a>, and <a class="el" href="game_8cpp_source.html#l09008">game::wield()</a>.</p>

</div>
</div>
<a id="a0a7027632b8f86717dd34d64d3015dda" name="a0a7027632b8f86717dd34d64d3015dda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a7027632b8f86717dd34d64d3015dda">&#9670;&nbsp;</a></span>can_wield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classret__val.html">ret_val</a>&lt; bool &gt; player::can_wield </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check player capable of wielding an item. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">it</td><td>Thing to be wielded </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02491">2491</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02492" name="l02492"></a><span class="lineno"> 2492</span>{</div>
<div class="line"><a id="l02493" name="l02493"></a><span class="lineno"> 2493</span>    <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l02494" name="l02494"></a><span class="lineno"> 2494</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Can&#39;t wield spilt liquids.&quot;</span> ) );</div>
<div class="line"><a id="l02495" name="l02495"></a><span class="lineno"> 2495</span>    }</div>
<div class="line"><a id="l02496" name="l02496"></a><span class="lineno"> 2496</span> </div>
<div class="line"><a id="l02497" name="l02497"></a><span class="lineno"> 2497</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a0c2f4c860613a583174fea53b3572831">get_working_arm_count</a>() &lt;= 0 ) {</div>
<div class="line"><a id="l02498" name="l02498"></a><span class="lineno"> 2498</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>(</div>
<div class="line"><a id="l02499" name="l02499"></a><span class="lineno"> 2499</span>                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need at least one arm to even consider wielding something.&quot;</span> ) );</div>
<div class="line"><a id="l02500" name="l02500"></a><span class="lineno"> 2500</span>    }</div>
<div class="line"><a id="l02501" name="l02501"></a><span class="lineno"> 2501</span> </div>
<div class="line"><a id="l02502" name="l02502"></a><span class="lineno"> 2502</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#ad79464264cb8a2061f5888d092f5cd86">is_armed</a>() &amp;&amp; <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;NO_UNWIELD&quot;</span> ) ) {</div>
<div class="line"><a id="l02503" name="l02503"></a><span class="lineno"> 2503</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s is preventing you from wielding the %s.&quot;</span> ),</div>
<div class="line"><a id="l02504" name="l02504"></a><span class="lineno"> 2504</span>                                            <a class="code hl_function" href="classplayer.html#a4cbe3da3a5ba447b31ba5f00faf40c26">weapname</a>(), it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02505" name="l02505"></a><span class="lineno"> 2505</span>    }</div>
<div class="line"><a id="l02506" name="l02506"></a><span class="lineno"> 2506</span> </div>
<div class="line"><a id="l02507" name="l02507"></a><span class="lineno"> 2507</span>    <a class="code hl_class" href="classmonster.html">monster</a> *mount = <a class="code hl_variable" href="classCharacter.html#ac3d46549b7cdaac1f98991167ad5f1b3">mounted_creature</a>.get();</div>
<div class="line"><a id="l02508" name="l02508"></a><span class="lineno"> 2508</span>    <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#af373f646c1ee172941490dc7cc04bbcd">is_two_handed</a>( *<span class="keyword">this</span> ) &amp;&amp; ( !<a class="code hl_function" href="classCharacter.html#a8e2d2e1c01bfbb36401ae221300370f5">has_two_arms</a>() || <a class="code hl_function" href="classCharacter.html#a3aaa75382f6308a729369c7f2ccf0600">worn_with_flag</a>( <a class="code hl_function" href="player_8cpp.html#a2113157ced26b32206fbc8a85279e861">flag_RESTRICT_HAND</a> ) ) &amp;&amp;</div>
<div class="line"><a id="l02509" name="l02509"></a><span class="lineno"> 2509</span>        !( <a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() &amp;&amp; mount-&gt;<a class="code hl_function" href="classmonster.html#a0315651e596e69f0626b30e081726596">has_flag</a>( <a class="code hl_enumvalue" href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a674d4fc8b69d5ad8a6a2154d471ba941">MF_RIDEABLE_MECH</a> ) &amp;&amp;</div>
<div class="line"><a id="l02510" name="l02510"></a><span class="lineno"> 2510</span>           mount-&gt;<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#abe1e1f1cacb0be37406c667e226003c4">mech_weapon</a> &amp;&amp; it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == mount-&gt;<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#abe1e1f1cacb0be37406c667e226003c4">mech_weapon</a> ) ) {</div>
<div class="line"><a id="l02511" name="l02511"></a><span class="lineno"> 2511</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a3aaa75382f6308a729369c7f2ccf0600">worn_with_flag</a>( <a class="code hl_function" href="player_8cpp.html#a2113157ced26b32206fbc8a85279e861">flag_RESTRICT_HAND</a> ) ) {</div>
<div class="line"><a id="l02512" name="l02512"></a><span class="lineno"> 2512</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>(</div>
<div class="line"><a id="l02513" name="l02513"></a><span class="lineno"> 2513</span>                       <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Something you are wearing hinders the use of both hands.&quot;</span> ) );</div>
<div class="line"><a id="l02514" name="l02514"></a><span class="lineno"> 2514</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;ALWAYS_TWOHAND&quot;</span> ) ) {</div>
<div class="line"><a id="l02515" name="l02515"></a><span class="lineno"> 2515</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s can&#39;t be wielded with only one arm.&quot;</span> ),</div>
<div class="line"><a id="l02516" name="l02516"></a><span class="lineno"> 2516</span>                                                it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02517" name="l02517"></a><span class="lineno"> 2517</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02518" name="l02518"></a><span class="lineno"> 2518</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are too weak to wield %s with only one arm.&quot;</span> ),</div>
<div class="line"><a id="l02519" name="l02519"></a><span class="lineno"> 2519</span>                                                it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02520" name="l02520"></a><span class="lineno"> 2520</span>        }</div>
<div class="line"><a id="l02521" name="l02521"></a><span class="lineno"> 2521</span>    }</div>
<div class="line"><a id="l02522" name="l02522"></a><span class="lineno"> 2522</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() &amp;&amp; mount-&gt;<a class="code hl_function" href="classmonster.html#a0315651e596e69f0626b30e081726596">has_flag</a>( <a class="code hl_enumvalue" href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a674d4fc8b69d5ad8a6a2154d471ba941">MF_RIDEABLE_MECH</a> ) &amp;&amp;</div>
<div class="line"><a id="l02523" name="l02523"></a><span class="lineno"> 2523</span>        mount-&gt;<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#abe1e1f1cacb0be37406c667e226003c4">mech_weapon</a> &amp;&amp; it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() != mount-&gt;<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#abe1e1f1cacb0be37406c667e226003c4">mech_weapon</a> ) {</div>
<div class="line"><a id="l02524" name="l02524"></a><span class="lineno"> 2524</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;bool&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot wield anything while piloting a mech.&quot;</span> ) );</div>
<div class="line"><a id="l02525" name="l02525"></a><span class="lineno"> 2525</span>    }</div>
<div class="line"><a id="l02526" name="l02526"></a><span class="lineno"> 2526</span> </div>
<div class="line"><a id="l02527" name="l02527"></a><span class="lineno"> 2527</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a0bbde13713bc279563fa85782599f957">ret_val&lt;bool&gt;::make_success</a>();</div>
<div class="line"><a id="l02528" name="l02528"></a><span class="lineno"> 2528</span>}</div>
<div class="ttc" id="aclassCharacter_html_a0c2f4c860613a583174fea53b3572831"><div class="ttname"><a href="classCharacter.html#a0c2f4c860613a583174fea53b3572831">Character::get_working_arm_count</a></div><div class="ttdeci">int get_working_arm_count() const</div><div class="ttdoc">Returns the number of functioning arms.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01277">character.cpp:1277</a></div></div>
<div class="ttc" id="aclassCharacter_html_a3aaa75382f6308a729369c7f2ccf0600"><div class="ttname"><a href="classCharacter.html#a3aaa75382f6308a729369c7f2ccf0600">Character::worn_with_flag</a></div><div class="ttdeci">bool worn_with_flag(const std::string &amp;flag, const bodypart_id &amp;bp=bodypart_str_id::NULL_ID()) const</div><div class="ttdoc">Returns true if the player is wearing an item with the given flag.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03241">character.cpp:3241</a></div></div>
<div class="ttc" id="aclassCharacter_html_a67b51491c2529df09755e07bc633cc55"><div class="ttname"><a href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">Character::is_mounted</a></div><div class="ttdeci">bool is_mounted() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01133">character.cpp:1133</a></div></div>
<div class="ttc" id="aclassCharacter_html_a8e2d2e1c01bfbb36401ae221300370f5"><div class="ttname"><a href="classCharacter.html#a8e2d2e1c01bfbb36401ae221300370f5">Character::has_two_arms</a></div><div class="ttdeci">bool has_two_arms() const</div><div class="ttdoc">Returns true if the player has two functioning arms.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01270">character.cpp:1270</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad79464264cb8a2061f5888d092f5cd86"><div class="ttname"><a href="classCharacter.html#ad79464264cb8a2061f5888d092f5cd86">Character::is_armed</a></div><div class="ttdeci">bool is_armed() const</div><div class="ttdoc">Returns true if the character is wielding something.</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l00145">melee.cpp:145</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae68b7a6565646ba662e448bded8b6599"><div class="ttname"><a href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">Character::weapon</a></div><div class="ttdeci">item weapon</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01585">character.h:1585</a></div></div>
<div class="ttc" id="aclassitem_html_af373f646c1ee172941490dc7cc04bbcd"><div class="ttname"><a href="classitem.html#af373f646c1ee172941490dc7cc04bbcd">item::is_two_handed</a></div><div class="ttdeci">bool is_two_handed(const Character &amp;guy) const</div><div class="ttdoc">Whether the character needs both hands to wield this item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06254">item.cpp:6254</a></div></div>
<div class="ttc" id="aclassmonster_html_a0315651e596e69f0626b30e081726596"><div class="ttname"><a href="classmonster.html#a0315651e596e69f0626b30e081726596">monster::has_flag</a></div><div class="ttdeci">bool has_flag(m_flag f) const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00869">monster.cpp:869</a></div></div>
<div class="ttc" id="aclassmonster_html_aa30f973bf524ba275ada847f6118b048"><div class="ttname"><a href="classmonster.html#aa30f973bf524ba275ada847f6118b048">monster::type</a></div><div class="ttdeci">const mtype * type</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00478">monster.h:478</a></div></div>
<div class="ttc" id="aclassplayer_html_a4cbe3da3a5ba447b31ba5f00faf40c26"><div class="ttname"><a href="classplayer.html#a4cbe3da3a5ba447b31ba5f00faf40c26">player::weapname</a></div><div class="ttdeci">std::string weapname() const</div><div class="ttdoc">Get the formatted name of the currently wielded item (if any) with current gun mode (if gun)</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04165">player.cpp:4165</a></div></div>
<div class="ttc" id="amtype_8h_html_afa4c966d04d2ddb261a7cde725eca842a674d4fc8b69d5ad8a6a2154d471ba941"><div class="ttname"><a href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a674d4fc8b69d5ad8a6a2154d471ba941">MF_RIDEABLE_MECH</a></div><div class="ttdeci">@ MF_RIDEABLE_MECH</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00115">mtype.h:115</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a2113157ced26b32206fbc8a85279e861"><div class="ttname"><a href="player_8cpp.html#a2113157ced26b32206fbc8a85279e861">flag_RESTRICT_HAND</a></div><div class="ttdeci">static const std::string flag_RESTRICT_HAND(&quot;RESTRICT_HANDS&quot;)</div></div>
<div class="ttc" id="astructmtype_html_abe1e1f1cacb0be37406c667e226003c4"><div class="ttname"><a href="structmtype.html#abe1e1f1cacb0be37406c667e226003c4">mtype::mech_weapon</a></div><div class="ttdeci">itype_id mech_weapon</div><div class="ttdoc">If this monster is a rideable mech with built-in weapons, this is the weapons id.</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00365">mtype.h:365</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp.html#a2113157ced26b32206fbc8a85279e861">flag_RESTRICT_HAND()</a>, <a class="el" href="character_8cpp_source.html#l01277">Character::get_working_arm_count()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="monster_8cpp_source.html#l00869">monster::has_flag()</a>, <a class="el" href="character_8cpp_source.html#l01270">Character::has_two_arms()</a>, <a class="el" href="melee_8cpp_source.html#l00145">Character::is_armed()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="item_8cpp_source.html#l06254">item::is_two_handed()</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="item_8cpp_source.html#l06263">item::made_of()</a>, <a class="el" href="ret__val_8h_source.html#l00046">ret_val&lt; T &gt;::make_failure()</a>, <a class="el" href="ret__val_8h_source.html#l00042">ret_val&lt; T &gt;::make_success()</a>, <a class="el" href="mtype_8h_source.html#l00365">mtype::mech_weapon</a>, <a class="el" href="mtype_8h_source.html#l00115">MF_RIDEABLE_MECH</a>, <a class="el" href="character_8h_source.html#l01620">Character::mounted_creature</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="monster_8h_source.html#l00478">monster::type</a>, <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>, <a class="el" href="player_8cpp_source.html#l04165">weapname()</a>, <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>, and <a class="el" href="character_8cpp_source.html#l03241">Character::worn_with_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l08385">Character::apply_damage()</a>, <a class="el" href="crafting_8cpp_source.html#l02372">find_best_bench()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01303">weapon_inventory_preset::get_denial()</a>, <a class="el" href="pickup_8cpp_source.html#l00229">pick_one_up()</a>, <a class="el" href="avatar_8cpp_source.html#l01226">avatar::wield()</a>, <a class="el" href="game_8cpp_source.html#l09008">game::wield()</a>, and <a class="el" href="player_8cpp_source.html#l04203">wield_contents()</a>.</p>

</div>
</div>
<a id="a7de6a67bf992674f83642a4f67cffdba" name="a7de6a67bf992674f83642a4f67cffdba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7de6a67bf992674f83642a4f67cffdba">&#9670;&nbsp;</a></span>check_eligible_containers_for_crafting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::check_eligible_containers_for_crafting </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch_size</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00407">407</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>{</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>    std::vector&lt;const item *&gt; conts = <a class="code hl_function" href="classplayer.html#aacd5b90342a774ecd1d7c5d19205bb07">get_eligible_containers_for_crafting</a>();</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>    <span class="keyword">const</span> std::vector&lt;item&gt; res = rec.<a class="code hl_function" href="classrecipe.html#a24c28c37139310df37b499c963d0d13d">create_results</a>( batch_size );</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>    <span class="keyword">const</span> std::vector&lt;item&gt; bps = rec.<a class="code hl_function" href="classrecipe.html#a4ed6d7a51cc70ae0190e4f8b4d92b379">create_byproducts</a>( batch_size );</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>    std::vector&lt;item&gt; <a class="code hl_variable" href="namespaceom__direction.html#a27cad92b0d05637eb934f1a7f3424e41">all</a>;</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>    <a class="code hl_variable" href="namespaceom__direction.html#a27cad92b0d05637eb934f1a7f3424e41">all</a>.reserve( res.size() + bps.size() );</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    <a class="code hl_variable" href="namespaceom__direction.html#a27cad92b0d05637eb934f1a7f3424e41">all</a>.insert( <a class="code hl_variable" href="namespaceom__direction.html#a27cad92b0d05637eb934f1a7f3424e41">all</a>.end(), res.begin(), res.end() );</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>    <a class="code hl_variable" href="namespaceom__direction.html#a27cad92b0d05637eb934f1a7f3424e41">all</a>.insert( <a class="code hl_variable" href="namespaceom__direction.html#a27cad92b0d05637eb934f1a7f3424e41">all</a>.end(), bps.begin(), bps.end() );</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span> </div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;prod : <a class="code hl_variable" href="namespaceom__direction.html#a27cad92b0d05637eb934f1a7f3424e41">all</a> ) {</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>        <span class="keywordflow">if</span>( !prod.made_of( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>        }</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span> </div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>        <span class="comment">// we go through half-filled containers first, then go through empty containers if we need</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>        std::sort( conts.begin(), conts.end(), <a class="code hl_function" href="item_8cpp.html#abf665d19c2a38e87fa6fdae700c9e670">item_ptr_compare_by_charges</a> );</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span> </div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>        <span class="keywordtype">int</span> charges_to_store = prod.charges;</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *cont : conts ) {</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>            <span class="keywordflow">if</span>( charges_to_store &lt;= 0 ) {</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>            }</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span> </div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>            <span class="keywordflow">if</span>( !cont-&gt;is_container_empty() ) {</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>                <span class="keywordflow">if</span>( cont-&gt;contents.front().typeId() == prod.typeId() ) {</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>                    charges_to_store -= cont-&gt;get_remaining_capacity_for_liquid( cont-&gt;contents.front(), <span class="keyword">true</span> );</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>                }</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>                charges_to_store -= cont-&gt;get_remaining_capacity_for_liquid( prod, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>            }</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>        }</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span> </div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>        <span class="comment">// also check if we&#39;re currently in a vehicle that has the necessary storage</span></div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>        <span class="keywordflow">if</span>( charges_to_store &gt; 0 ) {</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>            <span class="keywordflow">if</span>( <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>                <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;ftype = prod.typeId();</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>                <span class="keywordtype">int</span> fuel_cap = vp-&gt;vehicle().fuel_capacity( ftype );</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>                <span class="keywordtype">int</span> fuel_amnt = vp-&gt;vehicle().fuel_left( ftype );</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span> </div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>                <span class="keywordflow">if</span>( fuel_cap &gt;= 0 ) {</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>                    <span class="keywordtype">int</span> fuel_space_left = fuel_cap - fuel_amnt;</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>                    charges_to_store -= fuel_space_left;</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>                }</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>            }</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>        }</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span> </div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>        <span class="keywordflow">if</span>( charges_to_store &gt; 0 ) {</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a>(</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>                    <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You don&#39;t have anything in which to store %s and may have to pour it out or consume it as soon as it is prepared!  Proceed?&quot;</span> ),</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>                    prod.tname() ) ) {</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>            }</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>        }</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>    }</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span> </div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>}</div>
<div class="ttc" id="aclassoptional__vpart__position_html"><div class="ttname"><a href="classoptional__vpart__position.html">optional_vpart_position</a></div><div class="ttdoc">Simple wrapper to forward functions that may return a cata::optional to vpart_position.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00101">vpart_position.h:102</a></div></div>
<div class="ttc" id="aclassplayer_html_aacd5b90342a774ecd1d7c5d19205bb07"><div class="ttname"><a href="classplayer.html#aacd5b90342a774ecd1d7c5d19205bb07">player::get_eligible_containers_for_crafting</a></div><div class="ttdeci">std::vector&lt; const item * &gt; get_eligible_containers_for_crafting() const</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00475">crafting.cpp:475</a></div></div>
<div class="ttc" id="aclassrecipe_html_a24c28c37139310df37b499c963d0d13d"><div class="ttname"><a href="classrecipe.html#a24c28c37139310df37b499c963d0d13d">recipe::create_results</a></div><div class="ttdeci">std::vector&lt; item &gt; create_results(int batch=1) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00450">recipe.cpp:450</a></div></div>
<div class="ttc" id="aclassrecipe_html_a4ed6d7a51cc70ae0190e4f8b4d92b379"><div class="ttname"><a href="classrecipe.html#a4ed6d7a51cc70ae0190e4f8b4d92b379">recipe::create_byproducts</a></div><div class="ttdeci">std::vector&lt; item &gt; create_byproducts(int batch=1) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00471">recipe.cpp:471</a></div></div>
<div class="ttc" id="aitem_8cpp_html_abf665d19c2a38e87fa6fdae700c9e670"><div class="ttname"><a href="item_8cpp.html#abf665d19c2a38e87fa6fdae700c9e670">item_ptr_compare_by_charges</a></div><div class="ttdeci">bool item_ptr_compare_by_charges(const item *left, const item *right)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08673">item.cpp:8673</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a27cad92b0d05637eb934f1a7f3424e41"><div class="ttname"><a href="namespaceom__direction.html#a27cad92b0d05637eb934f1a7f3424e41">om_direction::all</a></div><div class="ttdeci">const std::array&lt; type, 4 &gt; all</div><div class="ttdoc">For the purposes of iteration.</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00061">omdata.h:61</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="omdata_8h_source.html#l00061">om_direction::all</a>, <a class="el" href="recipe_8cpp_source.html#l00471">recipe::create_byproducts()</a>, <a class="el" href="recipe_8cpp_source.html#l00450">recipe::create_results()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="crafting_8cpp_source.html#l00475">get_eligible_containers_for_crafting()</a>, <a class="el" href="item_8cpp_source.html#l08673">item_ptr_compare_by_charges()</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, and <a class="el" href="player_8cpp_source.html#l04405">query_yn()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l00365">making_would_work()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, and <a class="el" href="crafting__gui_8cpp_source.html#l00161">select_crafting_recipe()</a>.</p>

</div>
</div>
<a id="ad90fa441b632cda6fe845de7a55f5df8" name="ad90fa441b632cda6fe845de7a55f5df8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad90fa441b632cda6fe845de7a55f5df8">&#9670;&nbsp;</a></span>climbing_cost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::climbing_cost </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks both the neighborhoods of from and to for climbable surfaces, returns move cost of climbing from <code>from</code> to <code>to</code>. </p>
<p >0 means climbing is not possible. Return value can depend on the orientation of the terrain. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04330">4330</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04331" name="l04331"></a><span class="lineno"> 4331</span>{</div>
<div class="line"><a id="l04332" name="l04332"></a><span class="lineno"> 4332</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.valid_move( from, to, <span class="keyword">false</span>, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l04333" name="l04333"></a><span class="lineno"> 4333</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04334" name="l04334"></a><span class="lineno"> 4334</span>    }</div>
<div class="line"><a id="l04335" name="l04335"></a><span class="lineno"> 4335</span> </div>
<div class="line"><a id="l04336" name="l04336"></a><span class="lineno"> 4336</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> diff = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.climb_difficulty( from );</div>
<div class="line"><a id="l04337" name="l04337"></a><span class="lineno"> 4337</span> </div>
<div class="line"><a id="l04338" name="l04338"></a><span class="lineno"> 4338</span>    <span class="keywordflow">if</span>( diff &gt; 5 ) {</div>
<div class="line"><a id="l04339" name="l04339"></a><span class="lineno"> 4339</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04340" name="l04340"></a><span class="lineno"> 4340</span>    }</div>
<div class="line"><a id="l04341" name="l04341"></a><span class="lineno"> 4341</span> </div>
<div class="line"><a id="l04342" name="l04342"></a><span class="lineno"> 4342</span>    <span class="keywordflow">return</span> 50 + diff * 100;</div>
<div class="line"><a id="l04343" name="l04343"></a><span class="lineno"> 4343</span>    <span class="comment">// TODO: All sorts of mutations, equipment weight etc.</span></div>
<div class="line"><a id="l04344" name="l04344"></a><span class="lineno"> 4344</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00267">g</a>.</p>

<p class="reference">Referenced by <a class="el" href="iexamine_8cpp_source.html#l04462">iexamine::ledge()</a>, and <a class="el" href="game_8cpp_source.html#l10492">game::vertical_move()</a>.</p>

</div>
</div>
<a id="af1c2d2666f11633988582a4dbe8a4063" name="af1c2d2666f11633988582a4dbe8a4063"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1c2d2666f11633988582a4dbe8a4063">&#9670;&nbsp;</a></span>complete_disassemble() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::complete_disassemble </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l02053">2053</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02054" name="l02054"></a><span class="lineno"> 2054</span>{</div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span>    <span class="comment">// Cancel the activity if we have bad (possibly legacy) values</span></div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.empty() || !<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.back() ||</div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"> 2057</span>        <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.size() != <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a>.size() ) {</div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;bad disassembly activity values&quot;</span> );</div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span>        <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_function" href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">set_to_null</a>();</div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"> 2061</span>    }</div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"> 2062</span> </div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span>    <span class="comment">// Disassembly has 2 parallel vectors:</span></div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span>    <span class="comment">// item location, and recipe id</span></div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span>    <span class="keyword">const</span> <a class="code hl_class" href="classrecipe.html">recipe</a> &amp;rec = <a class="code hl_function" href="classrecipe__dictionary.html#a93af439fed4b5043d9709235e0cea03e">recipe_dictionary::get_uncraft</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a>.back() ) );</div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"> 2066</span> </div>
<div class="line"><a id="l02067" name="l02067"></a><span class="lineno"> 2067</span>    <span class="keywordflow">if</span>( rec ) {</div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"> 2068</span>        <a class="code hl_function" href="classplayer.html#af1c2d2666f11633988582a4dbe8a4063">complete_disassemble</a>( <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.back(), rec );</div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;bad disassembly recipe: %d&quot;</span>, <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a>.back() );</div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span>        <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_function" href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">set_to_null</a>();</div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"> 2072</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span>    }</div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span> </div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.pop_back();</div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a>.pop_back();</div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span> </div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span>    <span class="comment">// If we have no more targets end the activity or start a second round</span></div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.empty() ) {</div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span>        <span class="comment">// index is used as a bool that indicates if we want recursive uncraft.</span></div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"> 2081</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a> ) {</div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span>            <a class="code hl_function" href="classplayer.html#a00dc9fb0c8c19b9ff2a43f083967079f">disassemble_all</a>( <span class="keyword">false</span> );</div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02085" name="l02085"></a><span class="lineno"> 2085</span>            <span class="comment">// No more targets</span></div>
<div class="line"><a id="l02086" name="l02086"></a><span class="lineno"> 2086</span>            <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_function" href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">set_to_null</a>();</div>
<div class="line"><a id="l02087" name="l02087"></a><span class="lineno"> 2087</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02088" name="l02088"></a><span class="lineno"> 2088</span>        }</div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"> 2089</span>    }</div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span> </div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span>    <span class="comment">// Set get and set duration of next uncraft</span></div>
<div class="line"><a id="l02092" name="l02092"></a><span class="lineno"> 2092</span>    <span class="keyword">const</span> <a class="code hl_class" href="classrecipe.html">recipe</a> &amp;next_recipe = <a class="code hl_function" href="classrecipe__dictionary.html#a93af439fed4b5043d9709235e0cea03e">recipe_dictionary::get_uncraft</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>(</div>
<div class="line"><a id="l02093" name="l02093"></a><span class="lineno"> 2093</span>                                    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a>.back() ) );</div>
<div class="line"><a id="l02094" name="l02094"></a><span class="lineno"> 2094</span> </div>
<div class="line"><a id="l02095" name="l02095"></a><span class="lineno"> 2095</span>    <span class="keywordflow">if</span>( !next_recipe ) {</div>
<div class="line"><a id="l02096" name="l02096"></a><span class="lineno"> 2096</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;bad disassembly recipe: %d&quot;</span>, <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a>.back() );</div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span>        <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_function" href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">set_to_null</a>();</div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span>    }</div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span> </div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> = next_recipe.<a class="code hl_variable" href="classrecipe.html#a6f112b43cfa1f07bb48529d110839e6d">time</a>;</div>
<div class="line"><a id="l02102" name="l02102"></a><span class="lineno"> 2102</span>}</div>
<div class="ttc" id="aclassplayer__activity_html_a1b2c5a44b184330e2384906fe0727210"><div class="ttname"><a href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">player_activity::str_values</a></div><div class="ttdeci">std::vector&lt; std::string &gt; str_values</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00058">player_activity.h:58</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a3a477cad2588badd9c96627a91f5eb61"><div class="ttname"><a href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">player_activity::moves_left</a></div><div class="ttdeci">int moves_left</div><div class="ttdoc">The number of moves remaining in this activity before it is complete.</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00043">player_activity.h:43</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a765ca7b3410253c05939a8c1f1999c4a"><div class="ttname"><a href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">player_activity::set_to_null</a></div><div class="ttdeci">void set_to_null()</div><div class="ttdoc">This replaces the former usage act.type = ACT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00077">player_activity.cpp:77</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_af40e3a7e2719460248e8c7d4661b9fa8"><div class="ttname"><a href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">player_activity::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00049">player_activity.h:49</a></div></div>
<div class="ttc" id="aclassplayer_html_a00dc9fb0c8c19b9ff2a43f083967079f"><div class="ttname"><a href="classplayer.html#a00dc9fb0c8c19b9ff2a43f083967079f">player::disassemble_all</a></div><div class="ttdeci">void disassemble_all(bool one_pass)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l02030">crafting.cpp:2030</a></div></div>
<div class="ttc" id="aclassplayer_html_af1c2d2666f11633988582a4dbe8a4063"><div class="ttname"><a href="classplayer.html#af1c2d2666f11633988582a4dbe8a4063">player::complete_disassemble</a></div><div class="ttdeci">void complete_disassemble()</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l02053">crafting.cpp:2053</a></div></div>
<div class="ttc" id="aclassrecipe_html_a6f112b43cfa1f07bb48529d110839e6d"><div class="ttname"><a href="classrecipe.html#a6f112b43cfa1f07bb48529d110839e6d">recipe::time</a></div><div class="ttdeci">int time</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00059">recipe.h:59</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="crafting_8cpp_source.html#l02053">complete_disassemble()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="crafting_8cpp_source.html#l02030">disassemble_all()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00073">recipe_dictionary::get_uncraft()</a>, <a class="el" href="player__activity_8h_source.html#l00049">player_activity::index</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>, <a class="el" href="player__activity_8h_source.html#l00043">player_activity::moves_left</a>, <a class="el" href="player__activity_8cpp_source.html#l00077">player_activity::set_to_null()</a>, <a class="el" href="player__activity_8h_source.html#l00058">player_activity::str_values</a>, <a class="el" href="player__activity_8h_source.html#l00056">player_activity::targets</a>, and <a class="el" href="recipe_8h_source.html#l00059">recipe::time</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l02053">complete_disassemble()</a>, and <a class="el" href="activity__handlers_8cpp_source.html#l03972">activity_handlers::disassemble_finish()</a>.</p>

</div>
</div>
<a id="acb97666728df699a74ece656d95578bf" name="acb97666728df699a74ece656d95578bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb97666728df699a74ece656d95578bf">&#9670;&nbsp;</a></span>complete_disassemble() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::complete_disassemble </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem__location.html">item_location</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>dis</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
Intelligence increases success rate for disassembling items 
<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l02104">2104</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02105" name="l02105"></a><span class="lineno"> 2105</span>{</div>
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"> 2106</span>    <span class="comment">// Get the proper recipe - the one for disassembly, not assembly</span></div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span>    <span class="keyword">const</span> <span class="keyword">auto</span> dis_requirements = dis.<a class="code hl_function" href="classrecipe.html#a555772480849b6e628c94dd0f56af81e">disassembly_requirements</a>();</div>
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span>    <a class="code hl_class" href="classitem.html">item</a> &amp;org_item = *target;</div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> filthy = org_item.<a class="code hl_function" href="classitem.html#a5093379156498b4d523b3ac1f733adc4">is_filthy</a>();</div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span> </div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span>    <span class="comment">// Make a copy to keep its data (damage/components) even after it</span></div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span>    <span class="comment">// has been removed.</span></div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span>    <a class="code hl_class" href="classitem.html">item</a> dis_item = org_item;</div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span> </div>
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"> 2115</span>    <span class="keywordtype">float</span> component_success_chance = std::min( std::pow( 0.8, dis_item.<a class="code hl_function" href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">damage_level</a>( 4 ) ), 1.0 );</div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"> 2116</span> </div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span>    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You disassemble the %s into its components.&quot;</span> ), dis_item.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span>    <span class="comment">// Remove any batteries, ammo and mods first</span></div>
<div class="line"><a id="l02119" name="l02119"></a><span class="lineno"> 2119</span>    <a class="code hl_function" href="crafting_8cpp.html#afc25598814b324568546e4ae1c327282">remove_ammo</a>( dis_item, *<span class="keyword">this</span> );</div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span>    <a class="code hl_function" href="iuse_8cpp.html#a5deb1b5f4e652e223349f90b8b190ff5">remove_radio_mod</a>( dis_item, *<span class="keyword">this</span> );</div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span> </div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span>    <span class="keywordflow">if</span>( dis_item.<a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ) {</div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span>        <span class="comment">// remove the charges that one would get from crafting it</span></div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>        <span class="keywordflow">if</span>( org_item.<a class="code hl_function" href="classitem.html#ac3cc4d74d020cbd36ae490cbe88f9152">is_ammo</a>() &amp;&amp; !dis.<a class="code hl_function" href="classrecipe.html#aca293605940df4e5c431fa8ba5009074">has_flag</a>( <span class="stringliteral">&quot;UNCRAFT_BY_QUANTITY&quot;</span> ) ) {</div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span>            <span class="comment">//subtract selected number of rounds to disassemble</span></div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span>            org_item.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a3c0f4901d647d15e63531cf1091daf19">position</a>;</div>
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"> 2127</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span>            org_item.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= dis.<a class="code hl_function" href="classrecipe.html#a0109db19f0b18d82ab469121ee60ca3f">create_result</a>().<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span>        }</div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span>    }</div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span>    <span class="comment">// remove the item, except when it&#39;s counted by charges and still has some</span></div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span>    <span class="keywordflow">if</span>( !org_item.<a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() || org_item.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &lt;= 0 ) {</div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span>        target.<a class="code hl_function" href="classitem__location.html#a41e90133672d99aa1cecde670e37c23c">remove_item</a>();</div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span>    }</div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span> </div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span>    <span class="comment">// Consume tool charges</span></div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;it : dis_requirements.get_tools() ) {</div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span>        <a class="code hl_function" href="classplayer.html#aafa6cc2db2568af687ab21f09f8e4c2e">consume_tools</a>( it );</div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span>    }</div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span> </div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span>    <span class="comment">// add the components to the map</span></div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span>    <span class="comment">// Player skills should determine how many components are returned</span></div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span> </div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span>    <span class="keywordtype">int</span> skill_dice = 2 + <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( dis.<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> ) * 3;</div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span>    skill_dice += <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( dis.<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> );</div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span> </div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span>    <span class="comment">// Sides on dice is 16 plus your current intelligence</span><span class="comment"></span></div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span><span class="comment">    ///\EFFECT_INT increases success rate for disassembling items</span></div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span><span class="comment"></span>    <span class="keywordtype">int</span> skill_sides = 16 + <a class="code hl_variable" href="classCharacter.html#a994c83d61054215e81a6e87478d81203">int_cur</a>;</div>
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"> 2150</span> </div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span>    <span class="keywordtype">int</span> diff_dice = dis.<a class="code hl_variable" href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">difficulty</a>;</div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span>    <span class="keywordtype">int</span> diff_sides = 24; <span class="comment">// 16 + 8 (default intelligence)</span></div>
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"> 2153</span> </div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span>    <span class="comment">// disassembly only nets a bit of practice</span></div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span>    <span class="keywordflow">if</span>( dis.<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> ) {</div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span>        <a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( dis.<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a>, ( dis.<a class="code hl_variable" href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">difficulty</a> ) * 2, dis.<a class="code hl_variable" href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">difficulty</a> );</div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span>    }</div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span> </div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span>    <span class="comment">// If the components aren&#39;t empty, we want items exactly identical to them</span></div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span>    <span class="comment">// Even if the best-fit recipe does not involve those items</span></div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span>    std::list&lt;item&gt; components = dis_item.<a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a>;</div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span> </div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span>    <span class="comment">// If the components are empty, item is the default kind and made of default components</span></div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span>    <span class="keywordflow">if</span>( components.empty() ) {</div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> uncraft_liquids_contained = dis.<a class="code hl_function" href="classrecipe.html#aca293605940df4e5c431fa8ba5009074">has_flag</a>( <a class="code hl_function" href="crafting_8cpp.html#aa00701e4370166ae577bf173fd05672f">flag_UNCRAFT_LIQUIDS_CONTAINED</a> );</div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;altercomps : dis_requirements.get_components() ) {</div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structitem__comp.html">item_comp</a> &amp;comp = altercomps.front();</div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span>            <span class="keywordtype">int</span> compcount = comp.<a class="code hl_variable" href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">count</a>;</div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span>            <a class="code hl_class" href="classitem.html">item</a> newit( comp.<a class="code hl_variable" href="structcomponent.html#a9c114293306257abbc1db25073fc0492">type</a>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span>            <span class="comment">//If ammo, overwrite component count with selected quantity of ammo</span></div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span>            <span class="keywordflow">if</span>( dis_item.<a class="code hl_function" href="classitem.html#ac3cc4d74d020cbd36ae490cbe88f9152">is_ammo</a>() ) {</div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span>                compcount *= <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a3c0f4901d647d15e63531cf1091daf19">position</a>;</div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( dis_item.<a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() &amp;&amp; dis.<a class="code hl_function" href="classrecipe.html#aca293605940df4e5c431fa8ba5009074">has_flag</a>( <a class="code hl_function" href="crafting_8cpp.html#a5187fdf5cd785e86e7602e4f97f9513c">flag_UNCRAFT_SINGLE_CHARGE</a> ) ) {</div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>                <span class="comment">// Counted-by-charge items that can be disassembled individually</span></div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span>                <span class="comment">// have their component count multiplied by the number of charges.</span></div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>                compcount *= std::min( dis_item.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>, dis.<a class="code hl_function" href="classrecipe.html#a0109db19f0b18d82ab469121ee60ca3f">create_result</a>().<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> );</div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span>            }</div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> is_liquid = newit.made_of( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> );</div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span>            <span class="keywordflow">if</span>( uncraft_liquids_contained &amp;&amp; is_liquid &amp;&amp; newit.charges != 0 ) {</div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span>                <span class="comment">// Spawn liquid item in its default container</span></div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>                compcount = compcount / newit.charges;</div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>                <span class="keywordflow">if</span>( compcount != 0 ) {</div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span>                    newit = newit.in_its_container();</div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span>                }</div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>                <span class="comment">// Compress liquids and counted-by-charges items into one item,</span></div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span>                <span class="comment">// they are added together on the map anyway and handle_liquid</span></div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span>                <span class="comment">// should only be called once to put it all into a container at once.</span></div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span>                <span class="keywordflow">if</span>( newit.count_by_charges() || is_liquid ) {</div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span>                    newit.charges = compcount;</div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span>                    compcount = 1;</div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !newit.craft_has_charges() &amp;&amp; newit.charges &gt; 0 ) {</div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span>                    <span class="comment">// tools that can be unloaded should be created unloaded,</span></div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span>                    <span class="comment">// tools that can&#39;t be unloaded will keep their default charges.</span></div>
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span>                    newit.charges = 0;</div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span>                }</div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span>            }</div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span> </div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span>            <span class="comment">// If the recipe has a `FULL_MAGAZINE` flag, spawn any magazines full of ammo</span></div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>            <span class="keywordflow">if</span>( newit.is_magazine() &amp;&amp; dis.<a class="code hl_function" href="classrecipe.html#aca293605940df4e5c431fa8ba5009074">has_flag</a>( <a class="code hl_function" href="crafting_8cpp.html#a5d187ba748889447c68918465e3b4300">flag_FULL_MAGAZINE</a> ) ) {</div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span>                newit.ammo_set( newit.ammo_default(), newit.ammo_capacity() );</div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span>            }</div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span> </div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span>            <span class="keywordflow">for</span>( ; compcount &gt; 0; compcount-- ) {</div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span>                components.emplace_back( newit );</div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>            }</div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>        }</div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>    }</div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span> </div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span>    std::list&lt;item&gt; drop_items;</div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span> </div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;newit : components ) {</div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> comp_success = ( <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( skill_dice, skill_sides ) &gt; <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( diff_dice,  diff_sides ) );</div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span>        <span class="keywordflow">if</span>( dis.<a class="code hl_variable" href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">difficulty</a> != 0 &amp;&amp; !comp_success ) {</div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You fail to recover %s.&quot;</span> ), newit.tname() );</div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span>        }</div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> dmg_success = component_success_chance &gt; <a class="code hl_function" href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a>( 0, 1 );</div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>        <span class="keywordflow">if</span>( !dmg_success ) {</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>            <span class="comment">// Show reason for failure (damaged item, tname contains the damage adjective)</span></div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span>            <span class="comment">//~ %1s - material, %2$s - disassembled item</span></div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You fail to recover %1$s from the %2$s.&quot;</span> ), newit.tname(),</div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span>                     dis_item.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>        }</div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span>        <span class="comment">// Use item from components list, or (if not contained)</span></div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span>        <span class="comment">// use newit, the default constructed.</span></div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span>        <a class="code hl_class" href="classitem.html">item</a> act_item = newit;</div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span> </div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>        <span class="comment">// Refitted clothing disassembles into refitted components (when applicable)</span></div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span>        <span class="keywordflow">if</span>( dis_item.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="crafting_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT</a> ) &amp;&amp; act_item.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="crafting_8cpp.html#ad66d76d379c8d5dcdbb69ceac398607b">flag_VARSIZE</a> ) ) {</div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>            act_item.<a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( <a class="code hl_function" href="crafting_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT</a> );</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span>        }</div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span> </div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span>        <span class="keywordflow">if</span>( filthy ) {</div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span>            act_item.<a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( <span class="stringliteral">&quot;FILTHY&quot;</span> );</div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span>        }</div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span> </div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span>        <span class="keywordflow">for</span>( std::list&lt;item&gt;::iterator <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> = dis_item.<a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a>.begin(); <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> != dis_item.<a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a>.end();</div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span>             ++<a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> ) {</div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;type == newit.type ) {</div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span>                act_item = *<a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>;</div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>                dis_item.<a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a>.erase( <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> );</div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span>            }</div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span>        }</div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span> </div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span>        <span class="keywordflow">if</span>( act_item.<a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span>            <a class="code hl_function" href="namespaceliquid__handler.html#abdd687d6de27a042558f41fd9f7a0aba">liquid_handler::handle_all_liquid</a>( act_item, <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a> );</div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span>            drop_items.push_back( act_item );</div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span>        }</div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>    }</div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span> </div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span>    <a class="code hl_function" href="activity__handlers_8h.html#aaffe872a8e49c99b600d61b6e1b4062e">put_into_vehicle_or_drop</a>( *<span class="keyword">this</span>, <a class="code hl_enumvalue" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a38dd6f2bec3ea3b3cde92db954842bdb">item_drop_reason::deliberate</a>, drop_items );</div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span> </div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span>    <span class="keywordflow">if</span>( !dis.<a class="code hl_variable" href="classrecipe.html#a1e30e83416b78d0cbbb071fc05a81267">learn_by_disassembly</a>.empty() &amp;&amp; !<a class="code hl_function" href="classplayer.html#abc8b110d8e655cfc6d27b7bdc67fab3b">knows_recipe</a>( &amp;dis ) ) {</div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#a010e76e9611050acd16e0753ee8b492b">can_decomp_learn</a>( dis ) ) {</div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>            <span class="comment">// TODO: make this depend on intelligence</span></div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4 ) ) {</div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>                <span class="comment">// TODO: change to forward an id or a reference</span></div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span>                <a class="code hl_function" href="classplayer.html#a2258c1cee5a8603dbe0bedaa3cd52383">learn_recipe</a>( &amp;dis.<a class="code hl_function" href="classrecipe.html#a5f1fa30e49785a8c16c4f5951d039afb">ident</a>().<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>() );</div>
<div class="line"><a id="l02263" name="l02263"></a><span class="lineno"> 2263</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You learned a recipe for %s from disassembling it!&quot;</span> ),</div>
<div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span>                         dis_item.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You might be able to learn a recipe for %s if you disassemble another.&quot;</span> ),</div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>                         dis_item.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span>            }</div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;If you had better skills, you might learn a recipe next time.&quot;</span> ) );</div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span>        }</div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span>    }</div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span>}</div>
<div class="ttc" id="aactivity__handlers_8h_html_a3931cba30166834e066ef80c02d84611a38dd6f2bec3ea3b3cde92db954842bdb"><div class="ttname"><a href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a38dd6f2bec3ea3b3cde92db954842bdb">item_drop_reason::deliberate</a></div><div class="ttdeci">@ deliberate</div></div>
<div class="ttc" id="aclassitem__location_html_a41e90133672d99aa1cecde670e37c23c"><div class="ttname"><a href="classitem__location.html#a41e90133672d99aa1cecde670e37c23c">item_location::remove_item</a></div><div class="ttdeci">void remove_item()</div><div class="ttdoc">Removes the selected item from the game.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00758">item_location.cpp:758</a></div></div>
<div class="ttc" id="aclassitem_html_a5093379156498b4d523b3ac1f733adc4"><div class="ttname"><a href="classitem.html#a5093379156498b4d523b3ac1f733adc4">item::is_filthy</a></div><div class="ttdeci">bool is_filthy() const</div><div class="ttdoc">Marks the item as filthy, so characters with squeamish trait can't wear it.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09808">item.cpp:9808</a></div></div>
<div class="ttc" id="aclassitem_html_a5be1c00110bff10a98ab02b8410c9af7"><div class="ttname"><a href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">item::damage_level</a></div><div class="ttdeci">int damage_level(int max) const</div><div class="ttdoc">Scale item damage to the given number of levels.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00698">item.cpp:698</a></div></div>
<div class="ttc" id="aclassitem_html_a891e49f36521b955b9ad58817ddf65d8"><div class="ttname"><a href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">item::components</a></div><div class="ttdeci">std::list&lt; item &gt; components</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02158">item.h:2158</a></div></div>
<div class="ttc" id="aclassitem_html_aaf0e79cb1bc190daa4804cfd62f279c4"><div class="ttname"><a href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">item::set_flag</a></div><div class="ttdeci">item &amp; set_flag(const std::string &amp;flag)</div><div class="ttdoc">Idempotent filter setting an item specific flag.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05221">item.cpp:5221</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a3c0f4901d647d15e63531cf1091daf19"><div class="ttname"><a href="classplayer__activity.html#a3c0f4901d647d15e63531cf1091daf19">player_activity::position</a></div><div class="ttdeci">int position</div><div class="ttdoc">An activity specific value.</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00054">player_activity.h:54</a></div></div>
<div class="ttc" id="aclassplayer_html_a010e76e9611050acd16e0753ee8b492b"><div class="ttname"><a href="classplayer.html#a010e76e9611050acd16e0753ee8b492b">player::can_decomp_learn</a></div><div class="ttdeci">bool can_decomp_learn(const recipe &amp;rec) const</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04112">player.cpp:4112</a></div></div>
<div class="ttc" id="aclassplayer_html_a2258c1cee5a8603dbe0bedaa3cd52383"><div class="ttname"><a href="classplayer.html#a2258c1cee5a8603dbe0bedaa3cd52383">player::learn_recipe</a></div><div class="ttdeci">void learn_recipe(const recipe *rec)</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04138">player.cpp:4138</a></div></div>
<div class="ttc" id="aclassplayer_html_aa57c61de29a5e410c100aee07798b9b1"><div class="ttname"><a href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">player::practice</a></div><div class="ttdeci">void practice(const skill_id &amp;id, int amount, int cap=99, bool suppress_warning=false)</div><div class="ttdoc">This handles giving xp for a skill.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04005">player.cpp:4005</a></div></div>
<div class="ttc" id="aclassplayer_html_aafa6cc2db2568af687ab21f09f8e4c2e"><div class="ttname"><a href="classplayer.html#aafa6cc2db2568af687ab21f09f8e4c2e">player::consume_tools</a></div><div class="ttdeci">void consume_tools(const comp_selection&lt; tool_comp &gt; &amp;tool, int batch)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l01819">crafting.cpp:1819</a></div></div>
<div class="ttc" id="aclassplayer_html_abc8b110d8e655cfc6d27b7bdc67fab3b"><div class="ttname"><a href="classplayer.html#abc8b110d8e655cfc6d27b7bdc67fab3b">player::knows_recipe</a></div><div class="ttdeci">bool knows_recipe(const recipe *rec) const</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04118">player.cpp:4118</a></div></div>
<div class="ttc" id="aclassrecipe_html_a0109db19f0b18d82ab469121ee60ca3f"><div class="ttname"><a href="classrecipe.html#a0109db19f0b18d82ab469121ee60ca3f">recipe::create_result</a></div><div class="ttdeci">item create_result() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00423">recipe.cpp:423</a></div></div>
<div class="ttc" id="aclassrecipe_html_a0af03931c6f034e6b5269a5206e31bd2"><div class="ttname"><a href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">recipe::skill_used</a></div><div class="ttdeci">skill_id skill_used</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00107">recipe.h:107</a></div></div>
<div class="ttc" id="aclassrecipe_html_a10e4e7582e7174825ead3d07c3e4fca1"><div class="ttname"><a href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">recipe::difficulty</a></div><div class="ttdeci">int difficulty</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00060">recipe.h:60</a></div></div>
<div class="ttc" id="aclassrecipe_html_a555772480849b6e628c94dd0f56af81e"><div class="ttname"><a href="classrecipe.html#a555772480849b6e628c94dd0f56af81e">recipe::disassembly_requirements</a></div><div class="ttdeci">requirement_data disassembly_requirements() const</div><div class="ttdoc">If recipe can be used for disassembly fetch the combined requirements.</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00094">recipe.h:94</a></div></div>
<div class="ttc" id="aclassrecipe_html_a5f1fa30e49785a8c16c4f5951d039afb"><div class="ttname"><a href="classrecipe.html#a5f1fa30e49785a8c16c4f5951d039afb">recipe::ident</a></div><div class="ttdeci">const recipe_id &amp; ident() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00075">recipe.h:75</a></div></div>
<div class="ttc" id="aclassrecipe_html_aca293605940df4e5c431fa8ba5009074"><div class="ttname"><a href="classrecipe.html#aca293605940df4e5c431fa8ba5009074">recipe::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag_name) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00092">recipe.cpp:92</a></div></div>
<div class="ttc" id="acrafting_8cpp_html_a5d187ba748889447c68918465e3b4300"><div class="ttname"><a href="crafting_8cpp.html#a5d187ba748889447c68918465e3b4300">flag_FULL_MAGAZINE</a></div><div class="ttdeci">static const std::string flag_FULL_MAGAZINE(&quot;FULL_MAGAZINE&quot;)</div></div>
<div class="ttc" id="acrafting_8cpp_html_a614c2056b7d8fcc6773e3441a3feacc3"><div class="ttname"><a href="crafting_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT</a></div><div class="ttdeci">static const std::string flag_FIT(&quot;FIT&quot;)</div></div>
<div class="ttc" id="acrafting_8cpp_html_aa00701e4370166ae577bf173fd05672f"><div class="ttname"><a href="crafting_8cpp.html#aa00701e4370166ae577bf173fd05672f">flag_UNCRAFT_LIQUIDS_CONTAINED</a></div><div class="ttdeci">static const std::string flag_UNCRAFT_LIQUIDS_CONTAINED(&quot;UNCRAFT_LIQUIDS_CONTAINED&quot;)</div></div>
<div class="ttc" id="acrafting_8cpp_html_ad66d76d379c8d5dcdbb69ceac398607b"><div class="ttname"><a href="crafting_8cpp.html#ad66d76d379c8d5dcdbb69ceac398607b">flag_VARSIZE</a></div><div class="ttdeci">static const std::string flag_VARSIZE(&quot;VARSIZE&quot;)</div></div>
<div class="ttc" id="acrafting_8cpp_html_afc25598814b324568546e4ae1c327282"><div class="ttname"><a href="crafting_8cpp.html#afc25598814b324568546e4ae1c327282">remove_ammo</a></div><div class="ttdeci">void remove_ammo(std::list&lt; item &gt; &amp;dis_items, player &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l02275">crafting.cpp:2275</a></div></div>
<div class="ttc" id="aiuse_8cpp_html_a5deb1b5f4e652e223349f90b8b190ff5"><div class="ttname"><a href="iuse_8cpp.html#a5deb1b5f4e652e223349f90b8b190ff5">remove_radio_mod</a></div><div class="ttdeci">void remove_radio_mod(item &amp;it, player &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00414">iuse.cpp:414</a></div></div>
<div class="ttc" id="amagic_8cpp_html_a188caae18b60b66f9f44214c7e28ac1f"><div class="ttname"><a href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a></div><div class="ttdeci">constexpr double a</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01029">magic.cpp:1029</a></div></div>
<div class="ttc" id="anamespaceliquid__handler_html_abdd687d6de27a042558f41fd9f7a0aba"><div class="ttname"><a href="namespaceliquid__handler.html#abdd687d6de27a042558f41fd9f7a0aba">liquid_handler::handle_all_liquid</a></div><div class="ttdeci">void handle_all_liquid(item liquid, const int radius)</div><div class="ttdoc">Consume / handle all of the liquid.</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8cpp_source.html#l00095">handle_liquid.cpp:95</a></div></div>
<div class="ttc" id="arng_8cpp_html_a0c88381d6334a2fbaa726c53f5cf9bb9"><div class="ttname"><a href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a></div><div class="ttdeci">double rng_float(double lo, double hi)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00028">rng.cpp:28</a></div></div>
<div class="ttc" id="arng_8cpp_html_aad28bdad07401a34ecf9912708f8b750"><div class="ttname"><a href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a></div><div class="ttdeci">bool one_in(int chance)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00065">rng.cpp:65</a></div></div>
<div class="ttc" id="astructitem__comp_html"><div class="ttname"><a href="structitem__comp.html">item_comp</a></div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00116">requirements.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="magic_8cpp_source.html#l01029">a</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="item_8cpp_source.html#l07253">item::ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07439">item::ammo_default()</a>, <a class="el" href="item_8cpp_source.html#l00587">item::ammo_set()</a>, <a class="el" href="player_8cpp_source.html#l04112">can_decomp_learn()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="item_8h_source.html#l02158">item::components</a>, <a class="el" href="crafting_8cpp_source.html#l01819">consume_tools()</a>, <a class="el" href="requirements_8h_source.html#l00059">component::count</a>, <a class="el" href="item_8cpp_source.html#l05855">item::count_by_charges()</a>, <a class="el" href="item_8cpp_source.html#l05865">item::craft_has_charges()</a>, <a class="el" href="recipe_8cpp_source.html#l00423">recipe::create_result()</a>, <a class="el" href="item_8cpp_source.html#l00698">item::damage_level()</a>, <a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a38dd6f2bec3ea3b3cde92db954842bdb">deliberate</a>, <a class="el" href="rng_8cpp_source.html#l00085">dice()</a>, <a class="el" href="recipe_8h_source.html#l00060">recipe::difficulty</a>, <a class="el" href="recipe_8h_source.html#l00094">recipe::disassembly_requirements()</a>, <a class="el" href="crafting_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT()</a>, <a class="el" href="crafting_8cpp.html#a5d187ba748889447c68918465e3b4300">flag_FULL_MAGAZINE()</a>, <a class="el" href="crafting_8cpp.html#aa00701e4370166ae577bf173fd05672f">flag_UNCRAFT_LIQUIDS_CONTAINED()</a>, <a class="el" href="crafting_8cpp.html#a5187fdf5cd785e86e7602e4f97f9513c">flag_UNCRAFT_SINGLE_CHARGE()</a>, <a class="el" href="crafting_8cpp.html#ad66d76d379c8d5dcdbb69ceac398607b">flag_VARSIZE()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00095">liquid_handler::handle_all_liquid()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="recipe_8cpp_source.html#l00092">recipe::has_flag()</a>, <a class="el" href="recipe_8h_source.html#l00075">recipe::ident()</a>, <a class="el" href="item_8cpp_source.html#l00838">item::in_its_container()</a>, <a class="el" href="character_8h_source.html#l00306">Character::int_cur</a>, <a class="el" href="item_8cpp_source.html#l06432">item::is_ammo()</a>, <a class="el" href="item_8cpp_source.html#l09808">item::is_filthy()</a>, <a class="el" href="item_8cpp_source.html#l06407">item::is_magazine()</a>, <a class="el" href="player_8cpp_source.html#l04118">knows_recipe()</a>, <a class="el" href="recipe_8h_source.html#l00111">recipe::learn_by_disassembly</a>, <a class="el" href="player_8cpp_source.html#l04138">learn_recipe()</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="item_8cpp_source.html#l06263">item::made_of()</a>, <a class="el" href="achievement_8cpp_source.html#l00058">string_id&lt; T &gt;::obj()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="cached__options_8cpp_source.html#l00017">PICKUP_RANGE</a>, <a class="el" href="player__activity_8h_source.html#l00054">player_activity::position</a>, <a class="el" href="player_8cpp_source.html#l04005">practice()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00389">put_into_vehicle_or_drop()</a>, <a class="el" href="crafting_8cpp_source.html#l02275">remove_ammo()</a>, <a class="el" href="item__location_8cpp_source.html#l00758">item_location::remove_item()</a>, <a class="el" href="iuse_8cpp_source.html#l00414">remove_radio_mod()</a>, <a class="el" href="rng_8cpp_source.html#l00028">rng_float()</a>, <a class="el" href="item_8cpp_source.html#l05221">item::set_flag()</a>, <a class="el" href="recipe_8h_source.html#l00107">recipe::skill_used</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, and <a class="el" href="requirements_8h_source.html#l00058">component::type</a>.</p>

</div>
</div>
<a id="a46e60f36a469120e2afde88426732a8f" name="a46e60f36a469120e2afde88426732a8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46e60f36a469120e2afde88426732a8f">&#9670;&nbsp;</a></span>consume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::consume </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem__location.html">item_location</a>&#160;</td>
          <td class="paramname"><em>loc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used for eating object at pos, returns true if object is removed from inventory (last charge was consumed) </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02052">2052</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span>{</div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"> 2054</span>    <a class="code hl_class" href="classitem.html">item</a> &amp;target = *loc;</div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> wielding = <a class="code hl_function" href="classCharacter.html#a81864eee5b75943bd4222b696117a52a">is_wielding</a>( target );</div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a> = <a class="code hl_function" href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">is_worn</a>( target );</div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"> 2057</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> inv_item = !( wielding || <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a> );</div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span> </div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#ac694873c13ad824239747e227f296556">consume_item</a>( target ) ) {</div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span> </div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"> 2061</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> was_in_container = !<a class="code hl_function" href="classCharacter.html#a881167b8345723b21ff8c7e54781dcd5">can_consume_as_is</a>( target );</div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"> 2062</span> </div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span>        <span class="keywordflow">if</span>( was_in_container ) {</div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span>            <a class="code hl_function" href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">i_rem</a>( &amp;target.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>() );</div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"> 2066</span>            <a class="code hl_function" href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">i_rem</a>( &amp;target );</div>
<div class="line"><a id="l02067" name="l02067"></a><span class="lineno"> 2067</span>        }</div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"> 2068</span> </div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span>        <span class="comment">//Restack and sort so that we don&#39;t lie about target&#39;s invlet</span></div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span>        <span class="keywordflow">if</span>( inv_item ) {</div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span>            <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a02827fc3d19c675083f0ddee201a1549">restack</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"> 2072</span>        }</div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span> </div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span>        <span class="keywordflow">if</span>( was_in_container &amp;&amp; wielding ) {</div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are now wielding an empty %s.&quot;</span> ), <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( was_in_container &amp;&amp; <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a> ) {</div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are now wearing an empty %s.&quot;</span> ), target.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( was_in_container &amp;&amp; !<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span>            <span class="keywordtype">bool</span> drop_it = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span>            <span class="keywordflow">if</span>( get_option&lt;std::string&gt;( <span class="stringliteral">&quot;DROP_EMPTY&quot;</span> ) == <span class="stringliteral">&quot;no&quot;</span> ) {</div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"> 2081</span>                drop_it = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( get_option&lt;std::string&gt;( <span class="stringliteral">&quot;DROP_EMPTY&quot;</span> ) == <span class="stringliteral">&quot;watertight&quot;</span> ) {</div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span>                drop_it = !target.<a class="code hl_function" href="classitem.html#a22ad63b72a459c8f95893a853348cb06">is_watertight_container</a>();</div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( get_option&lt;std::string&gt;( <span class="stringliteral">&quot;DROP_EMPTY&quot;</span> ) == <span class="stringliteral">&quot;all&quot;</span> ) {</div>
<div class="line"><a id="l02085" name="l02085"></a><span class="lineno"> 2085</span>                drop_it = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02086" name="l02086"></a><span class="lineno"> 2086</span>            }</div>
<div class="line"><a id="l02087" name="l02087"></a><span class="lineno"> 2087</span>            <span class="keywordflow">if</span>( drop_it ) {</div>
<div class="line"><a id="l02088" name="l02088"></a><span class="lineno"> 2088</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You drop the empty %s.&quot;</span> ), target.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"> 2089</span>                <a class="code hl_function" href="activity__handlers_8h.html#aaffe872a8e49c99b600d61b6e1b4062e">put_into_vehicle_or_drop</a>( *<span class="keyword">this</span>, <a class="code hl_enumvalue" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a38dd6f2bec3ea3b3cde92db954842bdb">item_drop_reason::deliberate</a>, { <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a36e4b99300e1fe64920ce52911c04127">remove_item</a>( &amp;target ) } );</div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span>                <span class="keywordtype">int</span> quantity = <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a8f615a8478d03953310f91bc45f79543">const_stack</a>( <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#ac0d780fd8e9fd35527160b3e153695a9">position_by_item</a>( &amp;target ) ).size();</div>
<div class="line"><a id="l02092" name="l02092"></a><span class="lineno"> 2092</span>                <span class="keywordtype">char</span> letter = target.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> ? target.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> : <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a id="l02093" name="l02093"></a><span class="lineno"> 2093</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%c - %d empty %s&quot;</span> ), letter, quantity, target.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>( quantity ) );</div>
<div class="line"><a id="l02094" name="l02094"></a><span class="lineno"> 2094</span>            }</div>
<div class="line"><a id="l02095" name="l02095"></a><span class="lineno"> 2095</span>        }</div>
<div class="line"><a id="l02096" name="l02096"></a><span class="lineno"> 2096</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( inv_item ) {</div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacepickup.html#a7b30fdc5fcd0042418b2a4971111f7b1">pickup::handle_spillable_contents</a>( *<span class="keyword">this</span>, target, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m ) ) {</div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span>            <a class="code hl_function" href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">i_rem</a>( &amp;target );</div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span>        }</div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span>        <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a02827fc3d19c675083f0ddee201a1549">restack</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span>        <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a14ac26748e30d2d0f6c137734d55b2b5">unsort</a>();</div>
<div class="line"><a id="l02102" name="l02102"></a><span class="lineno"> 2102</span>    }</div>
<div class="line"><a id="l02103" name="l02103"></a><span class="lineno"> 2103</span> </div>
<div class="line"><a id="l02104" name="l02104"></a><span class="lineno"> 2104</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02105" name="l02105"></a><span class="lineno"> 2105</span>}</div>
<div class="ttc" id="aclassCharacter_html_a35f89e2e6eb1144b623be5281f4f221b"><div class="ttname"><a href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">Character::i_rem</a></div><div class="ttdeci">item i_rem(int pos)</div><div class="ttdoc">Remove a specific item from player possession.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02413">character.cpp:2413</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4d8d747c469431f530acb05c5f7a7f45"><div class="ttname"><a href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">Character::is_worn</a></div><div class="ttdeci">bool is_worn(const item &amp;thing) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01142">character.h:1142</a></div></div>
<div class="ttc" id="aclassCharacter_html_a81864eee5b75943bd4222b696117a52a"><div class="ttname"><a href="classCharacter.html#a81864eee5b75943bd4222b696117a52a">Character::is_wielding</a></div><div class="ttdeci">bool is_wielding(const item &amp;target) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03216">character.cpp:3216</a></div></div>
<div class="ttc" id="aclassCharacter_html_a881167b8345723b21ff8c7e54781dcd5"><div class="ttname"><a href="classCharacter.html#a881167b8345723b21ff8c7e54781dcd5">Character::can_consume_as_is</a></div><div class="ttdeci">bool can_consume_as_is(const item &amp;it) const</div><div class="ttdoc">Check whether character can consume this very item.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01501">consumption.cpp:1501</a></div></div>
<div class="ttc" id="aclassinventory_html_a02827fc3d19c675083f0ddee201a1549"><div class="ttname"><a href="classinventory.html#a02827fc3d19c675083f0ddee201a1549">inventory::restack</a></div><div class="ttdeci">void restack(player &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00398">inventory.cpp:398</a></div></div>
<div class="ttc" id="aclassinventory_html_a14ac26748e30d2d0f6c137734d55b2b5"><div class="ttname"><a href="classinventory.html#a14ac26748e30d2d0f6c137734d55b2b5">inventory::unsort</a></div><div class="ttdeci">void unsort()</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00226">inventory.cpp:226</a></div></div>
<div class="ttc" id="aclassinventory_html_a36e4b99300e1fe64920ce52911c04127"><div class="ttname"><a href="classinventory.html#a36e4b99300e1fe64920ce52911c04127">inventory::remove_item</a></div><div class="ttdeci">item remove_item(const item *it)</div><div class="ttdoc">Remove a specific item from the inventory.</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00708">inventory.cpp:708</a></div></div>
<div class="ttc" id="aclassinventory_html_a8f615a8478d03953310f91bc45f79543"><div class="ttname"><a href="classinventory.html#a8f615a8478d03953310f91bc45f79543">inventory::const_stack</a></div><div class="ttdeci">const std::list&lt; item &gt; &amp; const_stack(int i) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00151">inventory.cpp:151</a></div></div>
<div class="ttc" id="aclassinventory_html_ac0d780fd8e9fd35527160b3e153695a9"><div class="ttname"><a href="classinventory.html#ac0d780fd8e9fd35527160b3e153695a9">inventory::position_by_item</a></div><div class="ttdeci">int position_by_item(const item *it) const</div><div class="ttdoc">Returns the item position of the stack that contains the given item (compared by pointers).</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00819">inventory.cpp:819</a></div></div>
<div class="ttc" id="aclassitem__contents_html_a14299e40ca1440af11623c86e0b84072"><div class="ttname"><a href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">item_contents::front</a></div><div class="ttdeci">item &amp; front()</div><div class="ttdoc">this is an artifact of the previous code using front() everywhere for contents.</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00190">item_contents.cpp:190</a></div></div>
<div class="ttc" id="aclassitem_html_a22ad63b72a459c8f95893a853348cb06"><div class="ttname"><a href="classitem.html#a22ad63b72a459c8f95893a853348cb06">item::is_watertight_container</a></div><div class="ttdeci">bool is_watertight_container() const</div><div class="ttdoc">Whether this is a container which can be used to store liquids.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06574">item.cpp:6574</a></div></div>
<div class="ttc" id="aclassitem_html_a4afe851abb42cbff0857065860f96e0e"><div class="ttname"><a href="classitem.html#a4afe851abb42cbff0857065860f96e0e">item::contents</a></div><div class="ttdeci">item_contents contents</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02157">item.h:2157</a></div></div>
<div class="ttc" id="aclassitem_html_af38d78ce6d128f6c7a1999b7f9e00965"><div class="ttname"><a href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">item::invlet</a></div><div class="ttdeci">char invlet</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02232">item.h:2232</a></div></div>
<div class="ttc" id="aclassplayer_html_ac694873c13ad824239747e227f296556"><div class="ttname"><a href="classplayer.html#ac694873c13ad824239747e227f296556">player::consume_item</a></div><div class="ttdeci">bool consume_item(item &amp;target)</div><div class="ttdoc">Used for eating a particular item that doesn't need to be in inventory.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l02015">player.cpp:2015</a></div></div>
<div class="ttc" id="anamespacepickup_html_a7b30fdc5fcd0042418b2a4971111f7b1"><div class="ttname"><a href="namespacepickup.html#a7b30fdc5fcd0042418b2a4971111f7b1">pickup::handle_spillable_contents</a></div><div class="ttdeci">bool handle_spillable_contents(Character &amp;c, item &amp;it, map &amp;m)</div><div class="ttdoc">If character is handling a potentially spillable bucket, gracefully handle what to do with the conten...</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8cpp_source.html#l01238">pickup.cpp:1238</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="consumption_8cpp_source.html#l01501">Character::can_consume_as_is()</a>, <a class="el" href="inventory_8cpp_source.html#l00151">inventory::const_stack()</a>, <a class="el" href="player_8cpp_source.html#l02015">consume_item()</a>, <a class="el" href="item_8h_source.html#l02157">item::contents</a>, <a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a38dd6f2bec3ea3b3cde92db954842bdb">deliberate</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="pickup_8cpp_source.html#l01238">pickup::handle_spillable_contents()</a>, <a class="el" href="character_8cpp_source.html#l02413">Character::i_rem()</a>, <a class="el" href="character_8h_source.html#l01583">Character::inv</a>, <a class="el" href="item_8h_source.html#l02232">item::invlet</a>, <a class="el" href="player_8h_source.html#l00131">is_npc()</a>, <a class="el" href="item_8cpp_source.html#l06574">item::is_watertight_container()</a>, <a class="el" href="character_8cpp_source.html#l03216">Character::is_wielding()</a>, <a class="el" href="character_8h_source.html#l01142">Character::is_worn()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="inventory_8cpp_source.html#l00819">inventory::position_by_item()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00389">put_into_vehicle_or_drop()</a>, <a class="el" href="inventory_8cpp_source.html#l00708">inventory::remove_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00398">inventory::restack()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="inventory_8cpp_source.html#l00226">inventory::unsort()</a>, <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>, and <a class="el" href="character_8h_source.html#l01571">Character::worn</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l01645">npc::consume_cbm_items()</a>, <a class="el" href="npcmove_8cpp_source.html#l03863">npc::consume_food()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00821">avatar_action::eat()</a>, <a class="el" href="player_8cpp_source.html#l03349">use()</a>, and <a class="el" href="npcmove_8cpp_source.html#l03721">npc::use_painkiller()</a>.</p>

</div>
</div>
<a id="ac694873c13ad824239747e227f296556" name="ac694873c13ad824239747e227f296556"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac694873c13ad824239747e227f296556">&#9670;&nbsp;</a></span>consume_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::consume_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used for eating a particular item that doesn't need to be in inventory. </p>
<p >Returns true if the item is to be removed (doesn't remove). </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02015">2015</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>{</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span>    <span class="keywordflow">if</span>( target.<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You do not have that item.&quot;</span> ) );</div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span>    }</div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#abf29a0f9f2b03dbf9baa8dd6af688d41">trait_WATERSLEEP</a> ) ) {</div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span>    }</div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span> </div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span>    <a class="code hl_class" href="classitem.html">item</a> &amp;comest = <a class="code hl_function" href="classCharacter.html#ad58bc3e4db2aa237a070695ca2746ee5">get_consumable_from</a>( target );</div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span> </div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>    <span class="keywordflow">if</span>( comest.<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() || target.<a class="code hl_function" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() ) {</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t eat your %s.&quot;</span> ), target.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;%s tried to eat a %s&quot;</span>, <a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a>, target.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span>        }</div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span>    }</div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() &amp;&amp; !<a class="code hl_function" href="player_8cpp.html#a71152d389acc9d0adfd4c1b32374515e">query_consume_ownership</a>( target, *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span>    }</div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#ae3f5aeb2f3da0cd231c77ec5ebcdecb6">consume_med</a>( comest ) ||</div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span>        <a class="code hl_function" href="classplayer.html#ade215471686460149590c160a167d9f4">eat</a>( comest ) || <a class="code hl_function" href="classCharacter.html#aeac0c91004fe8bc0c5019e99439e5f31">feed_reactor_with</a>( comest ) || <a class="code hl_function" href="classCharacter.html#ab55ee1eb2acb63789182bf7bda945118">feed_furnace_with</a>( comest ) ||</div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span>        <a class="code hl_function" href="classCharacter.html#acd0c316a434eb1177663869cea11e88e">fuel_bionic_with</a>( comest ) ) {</div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span> </div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span>        <span class="keywordflow">if</span>( target.<a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() ) {</div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span>            target.<a class="code hl_function" href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">on_contents_changed</a>();</div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span>        }</div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span> </div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span>        <span class="keywordflow">return</span> comest.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &lt;= 0;</div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span>    }</div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span> </div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"> 2049</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span>}</div>
<div class="ttc" id="aclassCharacter_html_a6592c35167738421f3e04ca8808d37db"><div class="ttname"><a href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">Character::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01568">character.h:1568</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab55ee1eb2acb63789182bf7bda945118"><div class="ttname"><a href="classCharacter.html#ab55ee1eb2acb63789182bf7bda945118">Character::feed_furnace_with</a></div><div class="ttdeci">bool feed_furnace_with(item &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01338">consumption.cpp:1338</a></div></div>
<div class="ttc" id="aclassCharacter_html_acd0c316a434eb1177663869cea11e88e"><div class="ttname"><a href="classCharacter.html#acd0c316a434eb1177663869cea11e88e">Character::fuel_bionic_with</a></div><div class="ttdeci">bool fuel_bionic_with(item &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01396">consumption.cpp:1396</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad58bc3e4db2aa237a070695ca2746ee5"><div class="ttname"><a href="classCharacter.html#ad58bc3e4db2aa237a070695ca2746ee5">Character::get_consumable_from</a></div><div class="ttdeci">item &amp; get_consumable_from(item &amp;it) const</div><div class="ttdoc">Returns a reference to the item itself (if it's consumable), the first of its contents (if it's consu...</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01521">consumption.cpp:1521</a></div></div>
<div class="ttc" id="aclassCharacter_html_aeac0c91004fe8bc0c5019e99439e5f31"><div class="ttname"><a href="classCharacter.html#aeac0c91004fe8bc0c5019e99439e5f31">Character::feed_reactor_with</a></div><div class="ttdeci">bool feed_reactor_with(item &amp;it)</div><div class="ttdoc">Recharge CBMs whenever possible.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01294">consumption.cpp:1294</a></div></div>
<div class="ttc" id="aclassCreature_html_a5a2346f549de9c87e8f2afeec1e71366"><div class="ttname"><a href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">Creature::is_underwater</a></div><div class="ttdeci">virtual bool is_underwater() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00174">creature.cpp:174</a></div></div>
<div class="ttc" id="aclassitem_html_a4d5555082454b3cb192f59a70838c891"><div class="ttname"><a href="classitem.html#a4d5555082454b3cb192f59a70838c891">item::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00729">item.cpp:729</a></div></div>
<div class="ttc" id="aclassitem_html_a6d1575c31b1dc0df51cbe3a1dfbfef16"><div class="ttname"><a href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">item::on_contents_changed</a></div><div class="ttdeci">void on_contents_changed()</div><div class="ttdoc">Callback when contents of the item are affected in any way other than just processing.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04424">item.cpp:4424</a></div></div>
<div class="ttc" id="aclassitem_html_a723753bab4cc789e3ec186846c9916a3"><div class="ttname"><a href="classitem.html#a723753bab4cc789e3ec186846c9916a3">item::is_container</a></div><div class="ttdeci">bool is_container() const</div><div class="ttdoc">Whether this is container.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06569">item.cpp:6569</a></div></div>
<div class="ttc" id="aclassitem_html_a7f25e0430419609c538b07f704d6ba7a"><div class="ttname"><a href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">item::is_craft</a></div><div class="ttdeci">bool is_craft() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06768">item.cpp:6768</a></div></div>
<div class="ttc" id="aclassplayer_html_ade215471686460149590c160a167d9f4"><div class="ttname"><a href="classplayer.html#ade215471686460149590c160a167d9f4">player::eat</a></div><div class="ttdeci">bool eat(item &amp;food, bool force=false)</div><div class="ttdoc">Used for eating entered comestible, returns true if comestible is successfully eaten.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00824">consumption.cpp:824</a></div></div>
<div class="ttc" id="aclassplayer_html_ae3f5aeb2f3da0cd231c77ec5ebcdecb6"><div class="ttname"><a href="classplayer.html#ae3f5aeb2f3da0cd231c77ec5ebcdecb6">player::consume_med</a></div><div class="ttdeci">bool consume_med(item &amp;target)</div><div class="ttdoc">Consumes an item as medication.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l01935">player.cpp:1935</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a71152d389acc9d0adfd4c1b32374515e"><div class="ttname"><a href="player_8cpp.html#a71152d389acc9d0adfd4c1b32374515e">query_consume_ownership</a></div><div class="ttdeci">static bool query_consume_ownership(item &amp;target, player &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l01985">player.cpp:1985</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_abf29a0f9f2b03dbf9baa8dd6af688d41"><div class="ttname"><a href="player_8cpp.html#abf29a0f9f2b03dbf9baa8dd6af688d41">trait_WATERSLEEP</a></div><div class="ttdeci">static const trait_id trait_WATERSLEEP(&quot;WATERSLEEP&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="player_8cpp_source.html#l01935">consume_med()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="consumption_8cpp_source.html#l00824">eat()</a>, <a class="el" href="consumption_8cpp_source.html#l01338">Character::feed_furnace_with()</a>, <a class="el" href="consumption_8cpp_source.html#l01294">Character::feed_reactor_with()</a>, <a class="el" href="consumption_8cpp_source.html#l01396">Character::fuel_bionic_with()</a>, <a class="el" href="consumption_8cpp_source.html#l01521">Character::get_consumable_from()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="item_8cpp_source.html#l06569">item::is_container()</a>, <a class="el" href="item_8cpp_source.html#l06768">item::is_craft()</a>, <a class="el" href="player_8h_source.html#l00131">is_npc()</a>, <a class="el" href="item_8cpp_source.html#l00729">item::is_null()</a>, <a class="el" href="player_8h_source.html#l00114">is_player()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="character_8h_source.html#l01568">Character::name</a>, <a class="el" href="item_8cpp_source.html#l04424">item::on_contents_changed()</a>, <a class="el" href="player_8cpp_source.html#l01985">query_consume_ownership()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, and <a class="el" href="player_8cpp.html#abf29a0f9f2b03dbf9baa8dd6af688d41">trait_WATERSLEEP</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l02052">consume()</a>, <a class="el" href="player_8cpp_source.html#l01916">drink_from_hands()</a>, and <a class="el" href="avatar__action_8cpp_source.html#l00821">avatar_action::eat()</a>.</p>

</div>
</div>
<a id="ad1f5e6d21b83313ab148302140083b99" name="ad1f5e6d21b83313ab148302140083b99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1f5e6d21b83313ab148302140083b99">&#9670;&nbsp;</a></span>consume_items() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="classitem.html">item</a> &gt; player::consume_items </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcomp__selection.html">comp_selection</a>&lt; <a class="el" href="structitem__comp.html">item_comp</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>is</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em> = <code><a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt;<a class="el" href="classitem.html">item</a>&gt;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l01487">1487</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>{</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classplayer.html#ad1f5e6d21b83313ab148302140083b99">consume_items</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m, is, batch, filter, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a> );</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting_8cpp_source.html#l01487">consume_items()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="cached__options_8cpp_source.html#l00017">PICKUP_RANGE</a>, and <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l08388">iuse::autoclave()</a>, <a class="el" href="iexamine_8cpp_source.html#l02740">iexamine::autoclave_empty()</a>, <a class="el" href="iexamine_8cpp_source.html#l04707">iexamine::autodoc()</a>, <a class="el" href="crafting_8cpp_source.html#l01147">can_continue_craft()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02986">veh_interact::complete_vehicle()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01889">construction_activity()</a>, <a class="el" href="consumption_8cpp_source.html#l00184">prepared_item_consumption::consume()</a>, <a class="el" href="crafting_8cpp_source.html#l01487">consume_items()</a>, <a class="el" href="craft__command_8cpp_source.html#l00223">craft_command::create_in_progress_craft()</a>, <a class="el" href="iexamine_8cpp_source.html#l00251">iexamine::cvdmachine()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00732">wash_activity_actor::finish()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03104">repair_item_actor::handle_components()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02974">activity_handlers::mend_item_finish()</a>, <a class="el" href="iexamine_8cpp_source.html#l05493">mill_load_food()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, <a class="el" href="iexamine_8cpp_source.html#l00291">iexamine::nanofab()</a>, <a class="el" href="iuse_8cpp_source.html#l02035">iuse::pack_cbm()</a>, <a class="el" href="iexamine_8cpp_source.html#l01302">iexamine::pit()</a>, <a class="el" href="veh__utils_8cpp_source.html#l00109">veh_utils::repair_part()</a>, <a class="el" href="iexamine_8cpp_source.html#l05385">smoker_load_food()</a>, <a class="el" href="iexamine_8cpp_source.html#l03445">iexamine::tree_maple()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l04722">sew_advanced_actor::use()</a>.</p>

</div>
</div>
<a id="a7f2e5a756ff676c4169332cd90cb5da4" name="a7f2e5a756ff676c4169332cd90cb5da4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f2e5a756ff676c4169332cd90cb5da4">&#9670;&nbsp;</a></span>consume_items() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="classitem.html">item</a> &gt; player::consume_items </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structitem__comp.html">item_comp</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>components</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em> = <code><a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt;<a class="el" href="classitem.html">item</a>&gt;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l01548">1548</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>{</div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>    <a class="code hl_class" href="classinventory.html">inventory</a> map_inv;</div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>    map_inv.<a class="code hl_function" href="classinventory.html#a31bf20ee0144627b5fba528b81559bc6">form_from_map</a>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a>, <span class="keyword">this</span> );</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classplayer.html#ad1f5e6d21b83313ab148302140083b99">consume_items</a>( <a class="code hl_function" href="classplayer.html#a1b2038d8060c04bb5bfa88204ff5d82a">select_item_component</a>( components, batch, map_inv, <span class="keyword">false</span>, filter ), batch,</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>                          filter );</div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting_8cpp_source.html#l01487">consume_items()</a>, <a class="el" href="inventory_8cpp_source.html#l00472">inventory::form_from_map()</a>, <a class="el" href="cached__options_8cpp_source.html#l00017">PICKUP_RANGE</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, and <a class="el" href="crafting_8cpp_source.html#l01299">select_item_component()</a>.</p>

</div>
</div>
<a id="a3c7587cfa25f9cb0abd0139243e058eb" name="a3c7587cfa25f9cb0abd0139243e058eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c7587cfa25f9cb0abd0139243e058eb">&#9670;&nbsp;</a></span>consume_items() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="classitem.html">item</a> &gt; player::consume_items </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcomp__selection.html">comp_selection</a>&lt; <a class="el" href="structitem__comp.html">item_comp</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>is</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em> = <code><a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt;<a class="el" href="classitem.html">item</a>&gt;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>origin</em> = <code><a class="el" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>radius</em> = <code><a class="el" href="cached__options_8h.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l01493">1493</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>{</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>    std::list&lt;item&gt; <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span> </div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="crafting_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a> ) ) {</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>    }</div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span> </div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>    <a class="code hl_struct" href="structitem__comp.html">item_comp</a> selected_comp = is.<a class="code hl_variable" href="structcomp__selection.html#abdc3989f1177b3c794be9c679cdefaec">comp</a>;</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span> </div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;loc = <a class="code hl_enumeration" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>;</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> by_charges = <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a>( selected_comp.<a class="code hl_variable" href="structcomponent.html#a9c114293306257abbc1db25073fc0492">type</a> ) &amp;&amp; selected_comp.<a class="code hl_variable" href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">count</a> &gt; 0;</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>    <span class="comment">// Count given to use_amount/use_charges, changed by those functions!</span></div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>    <span class="keywordtype">int</span> real_count = ( selected_comp.<a class="code hl_variable" href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">count</a> &gt; 0 ) ? selected_comp.<a class="code hl_variable" href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">count</a> * batch : std::abs(</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>                         selected_comp.<a class="code hl_variable" href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">count</a> );</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>    <span class="comment">// First try to get everything from the map, than (remaining amount) from player</span></div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>    <span class="keywordflow">if</span>( is.<a class="code hl_variable" href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">use_from</a> &amp; <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726ae0cfa7503d9e51c0f908fe4f210a56cb">use_from_map</a> ) {</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>        <span class="keywordflow">if</span>( by_charges ) {</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>            std::list&lt;item&gt; tmp = m.<a class="code hl_function" href="classmap.html#a303a4950ef1850ddcc5e8f902418ac82">use_charges</a>( loc, radius, selected_comp.<a class="code hl_variable" href="structcomponent.html#a9c114293306257abbc1db25073fc0492">type</a>, real_count, filter );</div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.splice( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.end(), tmp );</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>            std::list&lt;item&gt; tmp = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.use_amount( loc, radius, selected_comp.<a class="code hl_variable" href="structcomponent.html#a9c114293306257abbc1db25073fc0492">type</a>, real_count, filter );</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>            <a class="code hl_function" href="crafting_8cpp.html#afc25598814b324568546e4ae1c327282">remove_ammo</a>( tmp, *<span class="keyword">this</span> );</div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.splice( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.end(), tmp );</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>        }</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>    }</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>    <span class="keywordflow">if</span>( is.<a class="code hl_variable" href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">use_from</a> &amp; <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726a3d96eab6e691ab4aea5cdad7a15dd08f">use_from_player</a> ) {</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span>        <span class="keywordflow">if</span>( by_charges ) {</div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>            std::list&lt;item&gt; tmp = <a class="code hl_function" href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">use_charges</a>( selected_comp.<a class="code hl_variable" href="structcomponent.html#a9c114293306257abbc1db25073fc0492">type</a>, real_count, filter );</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.splice( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.end(), tmp );</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>            std::list&lt;item&gt; tmp = <a class="code hl_function" href="classCharacter.html#a7cb114203e03014f9834a10fa4bff24e">use_amount</a>( selected_comp.<a class="code hl_variable" href="structcomponent.html#a9c114293306257abbc1db25073fc0492">type</a>, real_count, filter );</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>            <a class="code hl_function" href="crafting_8cpp.html#afc25598814b324568546e4ae1c327282">remove_ammo</a>( tmp, *<span class="keyword">this</span> );</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.splice( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.end(), tmp );</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>        }</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>    }</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>    <span class="comment">// condense those items into one</span></div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>    <span class="keywordflow">if</span>( by_charges &amp;&amp; <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.size() &gt; 1 ) {</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>        std::list&lt;item&gt;::iterator <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> = <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.begin();</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>        <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>++;</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>        <span class="keywordflow">while</span>( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.size() &gt; 1 ) {</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.front().charges += <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>-&gt;charges;</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>            <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> = <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.erase( <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> );</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>        }</div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>    }</div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>    <a class="code hl_variable" href="classplayer.html#af5812ab4dd02135ef80a99a81fc5b64d">lastconsumed</a> = selected_comp.<a class="code hl_variable" href="structcomponent.html#a9c114293306257abbc1db25073fc0492">type</a>;</div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>    <a class="code hl_function" href="crafting_8cpp.html#acff2b71b2069c33982b32c9bb8b19352">empty_buckets</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span>}</div>
<div class="ttc" id="aclassCharacter_html_a3d0ec2b4e80527bd2daad576c2bbb187"><div class="ttname"><a href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">Character::use_charges</a></div><div class="ttdeci">std::list&lt; item &gt; use_charges(const itype_id &amp;what, int qty, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09631">character.cpp:9631</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7cb114203e03014f9834a10fa4bff24e"><div class="ttname"><a href="classCharacter.html#a7cb114203e03014f9834a10fa4bff24e">Character::use_amount</a></div><div class="ttdeci">std::list&lt; item &gt; use_amount(itype_id it, int quantity, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09599">character.cpp:9599</a></div></div>
<div class="ttc" id="aclassmap_html_a303a4950ef1850ddcc5e8f902418ac82"><div class="ttname"><a href="classmap.html#a303a4950ef1850ddcc5e8f902418ac82">map::use_charges</a></div><div class="ttdeci">std::list&lt; item &gt; use_charges(const tripoint &amp;origin, int range, const itype_id &amp;type, int &amp;quantity, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;, basecamp *bcp=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04934">map.cpp:4934</a></div></div>
<div class="ttc" id="acraft__command_8h_html_a5684f219761d78b4f98e7b2869dd1726a3d96eab6e691ab4aea5cdad7a15dd08f"><div class="ttname"><a href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726a3d96eab6e691ab4aea5cdad7a15dd08f">use_from_player</a></div><div class="ttdeci">@ use_from_player</div><div class="ttdef"><b>Definition:</b> <a href="craft__command_8h_source.html#l00026">craft_command.h:26</a></div></div>
<div class="ttc" id="acraft__command_8h_html_a5684f219761d78b4f98e7b2869dd1726ae0cfa7503d9e51c0f908fe4f210a56cb"><div class="ttname"><a href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726ae0cfa7503d9e51c0f908fe4f210a56cb">use_from_map</a></div><div class="ttdeci">@ use_from_map</div><div class="ttdef"><b>Definition:</b> <a href="craft__command_8h_source.html#l00025">craft_command.h:25</a></div></div>
<div class="ttc" id="acrafting_8cpp_html_acff2b71b2069c33982b32c9bb8b19352"><div class="ttname"><a href="crafting_8cpp.html#acff2b71b2069c33982b32c9bb8b19352">empty_buckets</a></div><div class="ttdeci">static void empty_buckets(player &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l01471">crafting.cpp:1471</a></div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00097">hash_utils.h:97</a></div></div>
<div class="ttc" id="anamespacecoords_html_ad99808a305ad40299e592d1266bed4a7"><div class="ttname"><a href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">coords::origin</a></div><div class="ttdeci">origin</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00057">coordinates.h:57</a></div></div>
<div class="ttc" id="astructcomp__selection_html_abdc3989f1177b3c794be9c679cdefaec"><div class="ttname"><a href="structcomp__selection.html#abdc3989f1177b3c794be9c679cdefaec">comp_selection::comp</a></div><div class="ttdeci">CompType comp</div><div class="ttdef"><b>Definition:</b> <a href="craft__command_8h_source.html#l00050">craft_command.h:50</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00147">point.h:147</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01030">b</a>, <a class="el" href="craft__command_8h_source.html#l00050">comp_selection&lt; CompType &gt;::comp</a>, <a class="el" href="requirements_8h_source.html#l00059">component::count</a>, <a class="el" href="item_8cpp_source.html#l05855">item::count_by_charges()</a>, <a class="el" href="crafting_8cpp_source.html#l01471">empty_buckets()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="player_8h_source.html#l00708">lastconsumed</a>, <a class="el" href="crafting_8cpp_source.html#l02275">remove_ammo()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="crafting_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a>, <a class="el" href="requirements_8h_source.html#l00058">component::type</a>, <a class="el" href="character_8cpp_source.html#l09599">Character::use_amount()</a>, <a class="el" href="character_8cpp_source.html#l09631">Character::use_charges()</a>, <a class="el" href="map_8cpp_source.html#l04934">map::use_charges()</a>, <a class="el" href="craft__command_8h_source.html#l00049">comp_selection&lt; CompType &gt;::use_from</a>, <a class="el" href="craft__command_8h_source.html#l00025">use_from_map</a>, and <a class="el" href="craft__command_8h_source.html#l00026">use_from_player</a>.</p>

</div>
</div>
<a id="ae3f5aeb2f3da0cd231c77ec5ebcdecb6" name="ae3f5aeb2f3da0cd231c77ec5ebcdecb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3f5aeb2f3da0cd231c77ec5ebcdecb6">&#9670;&nbsp;</a></span>consume_med()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool player::consume_med </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Consumes an item as medication. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>Item consumed. Must be a medication or a container of medication. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the target was fully consumed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01935">1935</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>{</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>    <span class="keywordflow">if</span>( !target.<a class="code hl_function" href="classitem.html#aa344ad5d3082d7a56b1c902fbafb6347">is_medication</a>() ) {</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>    }</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span> </div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>    <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> tool_type = target.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;tool;</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *req_tool = &amp;*tool_type;</div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>    <span class="keywordtype">bool</span> tool_override = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>    <span class="keywordflow">if</span>( tool_type == <a class="code hl_variable" href="player_8cpp.html#ac94da8d391815c77827574ea45ba553b">itype_syringe</a> &amp;&amp; <a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="player_8cpp.html#a0378c4d7c8bedb3b625c06e488f25dd9">bio_syringe</a> ) ) {</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>        tool_override = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span>    }</div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>    <span class="keywordflow">if</span>( req_tool-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a> ) {</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>        <span class="keywordflow">if</span>( !( <a class="code hl_function" href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">has_amount</a>( tool_type, 1 ) &amp;&amp; <a class="code hl_function" href="classCharacter.html#a9bff3208a5e121c4e3a71b81b378e4e7">has_charges</a>( tool_type, req_tool-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;charges_per_use ) ) &amp;&amp;</div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>            !tool_override ) {</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need a %s to consume that!&quot;</span> ), req_tool-&gt;<a class="code hl_function" href="structitype.html#ad35fbe0013544c1c396944b20b264421">nname</a>( 1 ) );</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span>        }</div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span>        <a class="code hl_function" href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">use_charges</a>( tool_type, req_tool-&gt;<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;charges_per_use );</div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>    }</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span> </div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>    <span class="keywordtype">int</span> amount_used = 1;</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>    <span class="keywordflow">if</span>( target.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a7ff45d94507fdbf7369ae269a0f1e52b">has_use</a>() ) {</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>        amount_used = target.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a9df22ea5b5b6e19d18f730d4a8625cfa">invoke</a>( *<span class="keyword">this</span>, target, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>        <span class="keywordflow">if</span>( amount_used &lt;= 0 ) {</div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span>        }</div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span>    }</div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span> </div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span>    <span class="comment">// TODO: Get the target it was used on</span></div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>    <span class="comment">// Otherwise injecting someone will give us addictions etc.</span></div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span>    <span class="keywordflow">if</span>( target.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;NO_INGEST&quot;</span> ) ) {</div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;comest = *target.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>();</div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span>        <span class="comment">// Assume that parenteral meds don&#39;t spoil, so don&#39;t apply rot</span></div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span>        <a class="code hl_function" href="classCharacter.html#abcc868bf2ce6d77beb80fe1e57fec732">modify_health</a>( comest );</div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span>        <a class="code hl_function" href="classCharacter.html#a187c642b9a6ea2a8c8b1a257ecd11f3e">modify_stimulation</a>( comest );</div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span>        <a class="code hl_function" href="classCharacter.html#afefd24b9a3671f6d49454b28e3c52200">modify_fatigue</a>( comest );</div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span>        <a class="code hl_function" href="classCharacter.html#a842395c262eb711ca235be5de59e9781">modify_radiation</a>( comest );</div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span>        <a class="code hl_function" href="classCharacter.html#a135907caa62db71b58cb8a46e8180ce6">modify_addiction</a>( comest );</div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span>        <a class="code hl_function" href="classCharacter.html#a2aa55d8bbc2485b0f02b7c4f7af79605">modify_morale</a>( target );</div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span>        <span class="comment">// Take by mouth</span></div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span>        <a class="code hl_function" href="classCharacter.html#a54f90ca736510c41a6539c8d8ad833b6">consume_effects</a>( target );</div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span>    }</div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span> </div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span>    <a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -250 );</div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span>    target.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= amount_used;</div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span>    <span class="keywordflow">return</span> target.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &lt;= 0;</div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span>}</div>
<div class="ttc" id="aclassCharacter_html_a135907caa62db71b58cb8a46e8180ce6"><div class="ttname"><a href="classCharacter.html#a135907caa62db71b58cb8a46e8180ce6">Character::modify_addiction</a></div><div class="ttdeci">void modify_addiction(const islot_comestible &amp;comest)</div><div class="ttdoc">Used to apply addiction modifications from food and medication.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01051">consumption.cpp:1051</a></div></div>
<div class="ttc" id="aclassCharacter_html_a187c642b9a6ea2a8c8b1a257ecd11f3e"><div class="ttname"><a href="classCharacter.html#a187c642b9a6ea2a8c8b1a257ecd11f3e">Character::modify_stimulation</a></div><div class="ttdeci">void modify_stimulation(const islot_comestible &amp;comest)</div><div class="ttdoc">Used to apply stimulation modifications from food and medication.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01006">consumption.cpp:1006</a></div></div>
<div class="ttc" id="aclassCharacter_html_a2aa55d8bbc2485b0f02b7c4f7af79605"><div class="ttname"><a href="classCharacter.html#a2aa55d8bbc2485b0f02b7c4f7af79605">Character::modify_morale</a></div><div class="ttdeci">void modify_morale(item &amp;food, int nutr=0)</div><div class="ttdoc">Used to apply morale modifications from food and medication.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01059">consumption.cpp:1059</a></div></div>
<div class="ttc" id="aclassCharacter_html_a54f90ca736510c41a6539c8d8ad833b6"><div class="ttname"><a href="classCharacter.html#a54f90ca736510c41a6539c8d8ad833b6">Character::consume_effects</a></div><div class="ttdeci">bool consume_effects(item &amp;food)</div><div class="ttdoc">Handles the effects of consuming an item.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01159">consumption.cpp:1159</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5751b689e5a4ecd43b6de5c3e2d31541"><div class="ttname"><a href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">Character::has_bionic</a></div><div class="ttdeci">bool has_bionic(const bionic_id &amp;b) const</div><div class="ttdoc">Returns true if the player has the entered bionic id.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01866">character.cpp:1866</a></div></div>
<div class="ttc" id="aclassCharacter_html_a842395c262eb711ca235be5de59e9781"><div class="ttname"><a href="classCharacter.html#a842395c262eb711ca235be5de59e9781">Character::modify_radiation</a></div><div class="ttdeci">void modify_radiation(const islot_comestible &amp;comest)</div><div class="ttdoc">Used to apply radiation from food and medication.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01046">consumption.cpp:1046</a></div></div>
<div class="ttc" id="aclassCharacter_html_abcc868bf2ce6d77beb80fe1e57fec732"><div class="ttname"><a href="classCharacter.html#abcc868bf2ce6d77beb80fe1e57fec732">Character::modify_health</a></div><div class="ttdeci">void modify_health(const islot_comestible &amp;comest)</div><div class="ttdoc">Used to apply health modifications from food and medication.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00998">consumption.cpp:998</a></div></div>
<div class="ttc" id="aclassCharacter_html_afefd24b9a3671f6d49454b28e3c52200"><div class="ttname"><a href="classCharacter.html#afefd24b9a3671f6d49454b28e3c52200">Character::modify_fatigue</a></div><div class="ttdeci">void modify_fatigue(const islot_comestible &amp;comest)</div><div class="ttdoc">Used to apply fatigue modifications from food and medication.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01041">consumption.cpp:1041</a></div></div>
<div class="ttc" id="aclassCreature_html_a891bc2d0c564449cb462178317819254"><div class="ttname"><a href="classCreature.html#a891bc2d0c564449cb462178317819254">Creature::mod_moves</a></div><div class="ttdeci">void mod_moves(int nmoves)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01402">creature.cpp:1402</a></div></div>
<div class="ttc" id="aclassitem_html_a411163e892e27c57b802d0d015c05162"><div class="ttname"><a href="classitem.html#a411163e892e27c57b802d0d015c05162">item::get_comestible</a></div><div class="ttdeci">const cata::value_ptr&lt; islot_comestible &gt; &amp; get_comestible() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09951">item.cpp:9951</a></div></div>
<div class="ttc" id="aclassitem_html_aa344ad5d3082d7a56b1c902fbafb6347"><div class="ttname"><a href="classitem.html#aa344ad5d3082d7a56b1c902fbafb6347">item::is_medication</a></div><div class="ttdeci">bool is_medication() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06448">item.cpp:6448</a></div></div>
<div class="ttc" id="aclassvisitable_html_ac50bc4422d4636a70a97d41787f22d0d"><div class="ttname"><a href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">visitable&lt; Character &gt;::has_amount</a></div><div class="ttdeci">bool has_amount(const itype_id &amp;what, int qty, bool pseudo=true, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const</div><div class="ttdoc">Check instance provides at least qty of an item (.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00096">visitable.cpp:1108</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a0378c4d7c8bedb3b625c06e488f25dd9"><div class="ttname"><a href="player_8cpp.html#a0378c4d7c8bedb3b625c06e488f25dd9">bio_syringe</a></div><div class="ttdeci">static const bionic_id bio_syringe(&quot;bio_syringe&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_ac94da8d391815c77827574ea45ba553b"><div class="ttname"><a href="player_8cpp.html#ac94da8d391815c77827574ea45ba553b">itype_syringe</a></div><div class="ttdeci">static const itype_id itype_syringe(&quot;syringe&quot;)</div></div>
<div class="ttc" id="astructitype_html"><div class="ttname"><a href="structitype.html">itype</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00836">itype.h:836</a></div></div>
<div class="ttc" id="astructitype_html_a62a6e70840cb0e484f8d61e273f440f4"><div class="ttname"><a href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">itype::tool</a></div><div class="ttdeci">cata::value_ptr&lt; islot_tool &gt; tool</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00847">itype.h:847</a></div></div>
<div class="ttc" id="astructitype_html_a7ff45d94507fdbf7369ae269a0f1e52b"><div class="ttname"><a href="structitype.html#a7ff45d94507fdbf7369ae269a0f1e52b">itype::has_use</a></div><div class="ttdeci">bool has_use() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00066">itype.cpp:66</a></div></div>
<div class="ttc" id="astructitype_html_a9df22ea5b5b6e19d18f730d4a8625cfa"><div class="ttname"><a href="structitype.html#a9df22ea5b5b6e19d18f730d4a8625cfa">itype::invoke</a></div><div class="ttdeci">int invoke(player &amp;p, item &amp;it, const tripoint &amp;pos) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00105">itype.cpp:105</a></div></div>
<div class="ttc" id="astructitype_html_ad35fbe0013544c1c396944b20b264421"><div class="ttname"><a href="structitype.html#ad35fbe0013544c1c396944b20b264421">itype::nname</a></div><div class="ttdeci">std::string nname(unsigned int quantity) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00046">itype.cpp:46</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="player_8cpp.html#a0378c4d7c8bedb3b625c06e488f25dd9">bio_syringe</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="consumption_8cpp_source.html#l01159">Character::consume_effects()</a>, <a class="el" href="item_8cpp_source.html#l09951">item::get_comestible()</a>, <a class="el" href="visitable_8cpp_source.html#l01108">visitable&lt; Character &gt;::has_amount()</a>, <a class="el" href="character_8cpp_source.html#l01866">Character::has_bionic()</a>, <a class="el" href="character_8cpp_source.html#l09571">Character::has_charges()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="itype_8cpp_source.html#l00066">itype::has_use()</a>, <a class="el" href="itype_8cpp_source.html#l00105">itype::invoke()</a>, <a class="el" href="item_8cpp_source.html#l06448">item::is_medication()</a>, <a class="el" href="player_8cpp.html#ac94da8d391815c77827574ea45ba553b">itype_syringe</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="creature_8cpp_source.html#l01402">Creature::mod_moves()</a>, <a class="el" href="consumption_8cpp_source.html#l01051">Character::modify_addiction()</a>, <a class="el" href="consumption_8cpp_source.html#l01041">Character::modify_fatigue()</a>, <a class="el" href="consumption_8cpp_source.html#l00998">Character::modify_health()</a>, <a class="el" href="consumption_8cpp_source.html#l01059">Character::modify_morale()</a>, <a class="el" href="consumption_8cpp_source.html#l01046">Character::modify_radiation()</a>, <a class="el" href="consumption_8cpp_source.html#l01006">Character::modify_stimulation()</a>, <a class="el" href="itype_8cpp_source.html#l00046">itype::nname()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="itype_8h_source.html#l00847">itype::tool</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="character_8cpp_source.html#l09631">Character::use_charges()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l02015">consume_item()</a>.</p>

</div>
</div>
<a id="aafa6cc2db2568af687ab21f09f8e4c2e" name="aafa6cc2db2568af687ab21f09f8e4c2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafa6cc2db2568af687ab21f09f8e4c2e">&#9670;&nbsp;</a></span>consume_tools() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::consume_tools </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcomp__selection.html">comp_selection</a>&lt; <a class="el" href="structtool__comp.html">tool_comp</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>tool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l01819">1819</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>{</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>    <a class="code hl_function" href="classplayer.html#aafa6cc2db2568af687ab21f09f8e4c2e">consume_tools</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m, <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>, batch, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a> );</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting_8cpp_source.html#l01819">consume_tools()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="cached__options_8cpp_source.html#l00017">PICKUP_RANGE</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, and <a class="el" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l08388">iuse::autoclave()</a>, <a class="el" href="iexamine_8cpp_source.html#l02740">iexamine::autoclave_empty()</a>, <a class="el" href="iexamine_8cpp_source.html#l04707">iexamine::autodoc()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">complete_disassemble()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02986">veh_interact::complete_vehicle()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01889">construction_activity()</a>, <a class="el" href="consumption_8cpp_source.html#l00184">prepared_item_consumption::consume()</a>, <a class="el" href="crafting_8cpp_source.html#l01819">consume_tools()</a>, <a class="el" href="crafting_8cpp_source.html#l01730">craft_consume_tools()</a>, <a class="el" href="iexamine_8cpp_source.html#l00251">iexamine::cvdmachine()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02974">activity_handlers::mend_item_finish()</a>, <a class="el" href="iexamine_8cpp_source.html#l00291">iexamine::nanofab()</a>, <a class="el" href="veh__utils_8cpp_source.html#l00109">veh_utils::repair_part()</a>, and <a class="el" href="iexamine_8cpp_source.html#l04041">iexamine::sign()</a>.</p>

</div>
</div>
<a id="a8de62c320c0832d24228930cf21f8557" name="a8de62c320c0832d24228930cf21f8557"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8de62c320c0832d24228930cf21f8557">&#9670;&nbsp;</a></span>consume_tools() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::consume_tools </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structtool__comp.html">tool_comp</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>tools</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>hotkeys</em> = <code><a class="el" href="player_8h.html#a105a2bc78dff70bdbdc683b88b2f5351">DEFAULT_HOTKEYS</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l01846">1846</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>{</div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>    <a class="code hl_class" href="classinventory.html">inventory</a> map_inv;</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>    map_inv.<a class="code hl_function" href="classinventory.html#a31bf20ee0144627b5fba528b81559bc6">form_from_map</a>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a>, <span class="keyword">this</span> );</div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>    <a class="code hl_function" href="classplayer.html#aafa6cc2db2568af687ab21f09f8e4c2e">consume_tools</a>( <a class="code hl_function" href="namespacecrafting.html#a07496c9e8d995433ae9debe590894c3e">crafting::select_tool_component</a>( tools, batch, map_inv, <span class="keyword">this</span>, <span class="keyword">false</span>, hotkeys,</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>                   <a class="code hl_enumvalue" href="requirements_8h.html#a29bc522104aee22ea5cf6e7d3c629131a334c4a4c42fdb79d7ebc3e73b517e6f8">cost_adjustment::none</a> ), batch );</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>}</div>
<div class="ttc" id="arequirements_8h_html_a29bc522104aee22ea5cf6e7d3c629131a334c4a4c42fdb79d7ebc3e73b517e6f8"><div class="ttname"><a href="requirements_8h.html#a29bc522104aee22ea5cf6e7d3c629131a334c4a4c42fdb79d7ebc3e73b517e6f8">cost_adjustment::none</a></div><div class="ttdeci">@ none</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting_8cpp_source.html#l01819">consume_tools()</a>, <a class="el" href="inventory_8cpp_source.html#l00472">inventory::form_from_map()</a>, <a class="el" href="requirements_8h.html#a29bc522104aee22ea5cf6e7d3c629131a334c4a4c42fdb79d7ebc3e73b517e6f8">none</a>, <a class="el" href="cached__options_8cpp_source.html#l00017">PICKUP_RANGE</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, and <a class="el" href="crafting_8cpp_source.html#l01707">crafting::select_tool_component()</a>.</p>

</div>
</div>
<a id="a9e3d8db54896187d0c95223d290e2585" name="a9e3d8db54896187d0c95223d290e2585"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e3d8db54896187d0c95223d290e2585">&#9670;&nbsp;</a></span>consume_tools() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::consume_tools </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcomp__selection.html">comp_selection</a>&lt; <a class="el" href="structtool__comp.html">tool_comp</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>tool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>origin</em> = <code><a class="el" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>radius</em> = <code><a class="el" href="cached__options_8h.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbasecamp.html">basecamp</a> *&#160;</td>
          <td class="paramname"><em>bcp</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l01825">1825</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>{</div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="crafting_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a> ) ) {</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span>    }</div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span> </div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>    <span class="keywordtype">int</span> quantity = <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>.comp.count * batch;</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>.use_from &amp; <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726a3d96eab6e691ab4aea5cdad7a15dd08f">use_from_player</a> ) {</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>        <a class="code hl_function" href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">use_charges</a>( <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>.comp.type, quantity );</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>    }</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>.use_from &amp; <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726ae0cfa7503d9e51c0f908fe4f210a56cb">use_from_map</a> ) {</div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>        m.<a class="code hl_function" href="classmap.html#a303a4950ef1850ddcc5e8f902418ac82">use_charges</a>( <a class="code hl_enumeration" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, radius, <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>.comp.type, quantity, return_true&lt;item&gt;, bcp );</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>    }</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span> </div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>    <span class="comment">// else, use_from_none (or cancel), so we don&#39;t use up any tools;</span></div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>, <a class="el" href="crafting_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a>, <a class="el" href="character_8cpp_source.html#l09631">Character::use_charges()</a>, <a class="el" href="map_8cpp_source.html#l04934">map::use_charges()</a>, <a class="el" href="craft__command_8h_source.html#l00025">use_from_map</a>, and <a class="el" href="craft__command_8h_source.html#l00026">use_from_player</a>.</p>

</div>
</div>
<a id="a7aa852d005e0aea1715af75ba518c489" name="a7aa852d005e0aea1715af75ba518c489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7aa852d005e0aea1715af75ba518c489">&#9670;&nbsp;</a></span>craft()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::craft </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>loc</em> = <code><a class="el" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start various types of crafts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loc</td><td>the location of the workbench. tripoint_zero indicates crafting from inventory. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00334">334</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>{</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    <span class="keywordtype">int</span> batch_size = 0;</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    <span class="keyword">const</span> <a class="code hl_class" href="classrecipe.html">recipe</a> *rec = <a class="code hl_function" href="crafting__gui_8cpp.html#aa303320cbbe300afa5ec05b8d253af78">select_crafting_recipe</a>( batch_size );</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    <span class="keywordflow">if</span>( rec ) {</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="crafting_8cpp.html#a4a3042080a9adfc97115bb84eed671bd">crafting_allowed</a>( *<span class="keyword">this</span>, *rec ) ) {</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>            <a class="code hl_function" href="classplayer.html#aa95d2a2e290fde49ab1580a1324c9c90">make_craft</a>( rec-&gt;<a class="code hl_function" href="classrecipe.html#a5f1fa30e49785a8c16c4f5951d039afb">ident</a>(), batch_size, loc );</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>        }</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    }</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>}</div>
<div class="ttc" id="aclassplayer_html_aa95d2a2e290fde49ab1580a1324c9c90"><div class="ttname"><a href="classplayer.html#aa95d2a2e290fde49ab1580a1324c9c90">player::make_craft</a></div><div class="ttdeci">void make_craft(const recipe_id &amp;id, int batch_size, const tripoint &amp;loc=tripoint_zero)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00593">crafting.cpp:593</a></div></div>
<div class="ttc" id="acrafting_8cpp_html_a4a3042080a9adfc97115bb84eed671bd"><div class="ttname"><a href="crafting_8cpp.html#a4a3042080a9adfc97115bb84eed671bd">crafting_allowed</a></div><div class="ttdeci">static bool crafting_allowed(const player &amp;p, const recipe &amp;rec)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00112">crafting.cpp:112</a></div></div>
<div class="ttc" id="acrafting__gui_8cpp_html_aa303320cbbe300afa5ec05b8d253af78"><div class="ttname"><a href="crafting__gui_8cpp.html#aa303320cbbe300afa5ec05b8d253af78">select_crafting_recipe</a></div><div class="ttdeci">const recipe * select_crafting_recipe(int &amp;batch_size)</div><div class="ttdef"><b>Definition:</b> <a href="crafting__gui_8cpp_source.html#l00161">crafting_gui.cpp:161</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting_8cpp_source.html#l00112">crafting_allowed()</a>, <a class="el" href="recipe_8h_source.html#l00075">recipe::ident()</a>, <a class="el" href="crafting_8cpp_source.html#l00593">make_craft()</a>, and <a class="el" href="crafting__gui_8cpp_source.html#l00161">select_crafting_recipe()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l01147">can_continue_craft()</a>, <a class="el" href="crafting_8cpp_source.html#l01730">craft_consume_tools()</a>, <a class="el" href="crafting_8cpp_source.html#l00762">craft_skill_gain()</a>, <a class="el" href="handle__action_8cpp_source.html#l01514">game::handle_action()</a>, and <a class="el" href="crafting_8cpp_source.html#l00718">start_craft()</a>.</p>

</div>
</div>
<a id="a1870b748c0c70bbc649eb822dd72954a" name="a1870b748c0c70bbc649eb822dd72954a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1870b748c0c70bbc649eb822dd72954a">&#9670;&nbsp;</a></span>craft_consume_tools()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::craft_consume_tools </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>craft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mulitplier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>start_craft</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Consume tools for the next multiplier * 5% progress of the craft. </p>

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l01730">1730</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>{</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.is_craft() ) {</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;craft_consume_tools() called on non-craft &#39;%s.&#39; Aborting.&quot;</span>, <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.tname() );</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>    }</div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="crafting_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a> ) ) {</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>    }</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#aff69a2ab90c5c4c209d40ddaa5f345f2">start_craft</a> &amp;&amp; mulitplier &gt; 1 ) {</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;start_craft is true, but multiplier is %d &gt; 1&quot;</span>, mulitplier );</div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>    }</div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span> </div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>    <span class="keyword">const</span> <span class="keyword">auto</span> calc_charges = [&amp;<a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>, &amp;<a class="code hl_function" href="classplayer.html#aff69a2ab90c5c4c209d40ddaa5f345f2">start_craft</a>, &amp;mulitplier]( <span class="keywordtype">int</span> charges ) {</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = charges;</div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span> </div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>        <span class="keywordflow">if</span>( charges &lt;= 0 ) {</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span>        }</div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span> </div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>        <span class="comment">// Account for batch size</span></div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>        <span class="keywordtype">int</span> full_cost = charges * <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.charges;</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span> </div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#aff69a2ab90c5c4c209d40ddaa5f345f2">start_craft</a> ) {</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="namespacecrafting.html#a6bd0760f7e4a7e545662d263469fb277">crafting::charges_for_starting</a>( full_cost );</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>            <span class="comment">// In case more than 5% progress was accomplished in one turn</span></div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="namespacecrafting.html#a653e8b3027cf7e8256c46600bdea2697">crafting::charges_for_continuing</a>( full_cost ) * mulitplier;</div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>        }</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>    };</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span> </div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>    <span class="comment">// First check if we still have our cached selections</span></div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>    <span class="keyword">const</span> std::vector&lt;comp_selection&lt;tool_comp&gt;&gt; &amp;cached_tool_selections =</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>                <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.get_cached_tool_selections();</div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span> </div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>    <a class="code hl_class" href="classinventory.html">inventory</a> map_inv;</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>    map_inv.<a class="code hl_function" href="classinventory.html#a31bf20ee0144627b5fba528b81559bc6">form_from_map</a>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a>, <span class="keyword">this</span> );</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span> </div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structcomp__selection.html">comp_selection&lt;tool_comp&gt;</a> &amp;tool_sel : cached_tool_selections ) {</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>        <a class="code hl_class" href="classstring__id.html">itype_id</a> <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = tool_sel.comp.type;</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>        <span class="keywordflow">if</span>( tool_sel.comp.count &gt; 0 ) {</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> = calc_charges( tool_sel.comp.count );</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>            <span class="keywordflow">switch</span>( tool_sel.use_from ) {</div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726a3d96eab6e691ab4aea5cdad7a15dd08f">use_from_player</a>:</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>                    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#a9bff3208a5e121c4e3a71b81b378e4e7">has_charges</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> ) ) {</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>                        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>(</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>                            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You have insufficient %s charges and can&#39;t continue crafting&quot;</span> ),</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>                            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; has insufficient %s charges and can&#39;t continue crafting&quot;</span> ),</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>                            <a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> ) );</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>                        <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.set_tools_to_continue( <span class="keyword">false</span> );</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>                    }</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726ae0cfa7503d9e51c0f908fe4f210a56cb">use_from_map</a>:</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>                    <span class="keywordflow">if</span>( !map_inv.<a class="code hl_function" href="classinventory.html#a166c107e18ca4eea3ca2f37be350796c">has_charges</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> ) ) {</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>                        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>(</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>                            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You have insufficient %s charges and can&#39;t continue crafting&quot;</span> ),</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>                            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; has insufficient %s charges and can&#39;t continue crafting&quot;</span> ),</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>                            <a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> ) );</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>                        <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.set_tools_to_continue( <span class="keyword">false</span> );</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>                    }</div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726a36367df8f9785058d22d022dbd8e5fae">use_from_both</a>:</div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726a87a06975828a650a938662676287691c">use_from_none</a>:</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726afa28df73c87d81742155531f0f36dc71">cancel</a>:</div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726a0b9baef713c8f0535814102a9fb8c06d">num_usages</a>:</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span>            }</div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_function" href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">has_amount</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, 1 ) &amp;&amp; !map_inv.<a class="code hl_function" href="classinventory.html#a20755b405c4369fe85313cfdee366bff">has_tools</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, 1 ) ) {</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span>            <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>(</div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You no longer have a %s and can&#39;t continue crafting&quot;</span> ),</div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; no longer has a %s and can&#39;t continue crafting&quot;</span> ),</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>                <a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> ) );</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>            <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.set_tools_to_continue( <span class="keyword">false</span> );</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>        }</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>    }</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span> </div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>    <span class="comment">// We have the selections, so consume them</span></div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structcomp__selection.html">comp_selection&lt;tool_comp&gt;</a> &amp;<a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a> : cached_tool_selections ) {</div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>        <a class="code hl_struct" href="structcomp__selection.html">comp_selection&lt;tool_comp&gt;</a> to_consume = <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>;</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>        to_consume.<a class="code hl_variable" href="structcomp__selection.html#abdc3989f1177b3c794be9c679cdefaec">comp</a>.count = calc_charges( to_consume.<a class="code hl_variable" href="structcomp__selection.html#abdc3989f1177b3c794be9c679cdefaec">comp</a>.count );</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>        <a class="code hl_function" href="classplayer.html#aafa6cc2db2568af687ab21f09f8e4c2e">consume_tools</a>( to_consume, 1 );</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>    }</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>}</div>
<div class="ttc" id="aclassinventory_html_a166c107e18ca4eea3ca2f37be350796c"><div class="ttname"><a href="classinventory.html#a166c107e18ca4eea3ca2f37be350796c">inventory::has_charges</a></div><div class="ttdeci">bool has_charges(const itype_id &amp;it, int quantity, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00883">inventory.cpp:883</a></div></div>
<div class="ttc" id="aclassinventory_html_a20755b405c4369fe85313cfdee366bff"><div class="ttname"><a href="classinventory.html#a20755b405c4369fe85313cfdee366bff">inventory::has_tools</a></div><div class="ttdeci">bool has_tools(const itype_id &amp;it, int quantity, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00871">inventory.cpp:871</a></div></div>
<div class="ttc" id="aclassplayer_html_a07108565639fa6fe5b6776b4e8674fb6"><div class="ttname"><a href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">player::add_msg_player_or_npc</a></div><div class="ttdeci">void add_msg_player_or_npc(const std::string &amp;player_msg, const std::string &amp;npc_str) const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04373">player.cpp:4373</a></div></div>
<div class="ttc" id="aclassplayer_html_aff69a2ab90c5c4c209d40ddaa5f345f2"><div class="ttname"><a href="classplayer.html#aff69a2ab90c5c4c209d40ddaa5f345f2">player::start_craft</a></div><div class="ttdeci">item_location start_craft(craft_command &amp;command, const tripoint &amp;loc)</div><div class="ttdoc">consume components and create an active, in progress craft containing them</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00718">crafting.cpp:718</a></div></div>
<div class="ttc" id="acraft__command_8h_html_a5684f219761d78b4f98e7b2869dd1726a0b9baef713c8f0535814102a9fb8c06d"><div class="ttname"><a href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726a0b9baef713c8f0535814102a9fb8c06d">num_usages</a></div><div class="ttdeci">@ num_usages</div><div class="ttdef"><b>Definition:</b> <a href="craft__command_8h_source.html#l00030">craft_command.h:29</a></div></div>
<div class="ttc" id="acraft__command_8h_html_a5684f219761d78b4f98e7b2869dd1726a36367df8f9785058d22d022dbd8e5fae"><div class="ttname"><a href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726a36367df8f9785058d22d022dbd8e5fae">use_from_both</a></div><div class="ttdeci">@ use_from_both</div><div class="ttdef"><b>Definition:</b> <a href="craft__command_8h_source.html#l00027">craft_command.h:27</a></div></div>
<div class="ttc" id="acraft__command_8h_html_a5684f219761d78b4f98e7b2869dd1726a87a06975828a650a938662676287691c"><div class="ttname"><a href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726a87a06975828a650a938662676287691c">use_from_none</a></div><div class="ttdeci">@ use_from_none</div><div class="ttdef"><b>Definition:</b> <a href="craft__command_8h_source.html#l00024">craft_command.h:24</a></div></div>
<div class="ttc" id="aenums_8h_html_ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab"><div class="ttname"><a href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a></div><div class="ttdeci">@ type</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00075">enums.h:75</a></div></div>
<div class="ttc" id="anamespacecrafting_html_a6bd0760f7e4a7e545662d263469fb277"><div class="ttname"><a href="namespacecrafting.html#a6bd0760f7e4a7e545662d263469fb277">crafting::charges_for_starting</a></div><div class="ttdeci">int charges_for_starting(int full_charges)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l02439">crafting.cpp:2439</a></div></div>
<div class="ttc" id="anamespacedetail_html_ab2f84fb3de26acdac3fc63a2dce5ea5e"><div class="ttname"><a href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">detail::count</a></div><div class="ttdeci">constexpr size_t count()</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__core_8h_source.html#l01073">fmtlib_core.h:1073</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04373">add_msg_player_or_npc()</a>, <a class="el" href="craft__command_8h_source.html#l00028">cancel</a>, <a class="el" href="crafting_8cpp_source.html#l02443">crafting::charges_for_continuing()</a>, <a class="el" href="crafting_8cpp_source.html#l02439">crafting::charges_for_starting()</a>, <a class="el" href="craft__command_8h_source.html#l00050">comp_selection&lt; CompType &gt;::comp</a>, <a class="el" href="crafting_8cpp_source.html#l01819">consume_tools()</a>, <a class="el" href="fmtlib__core_8h_source.html#l01073">detail::count()</a>, <a class="el" href="crafting_8cpp_source.html#l00334">craft()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="inventory_8cpp_source.html#l00472">inventory::form_from_map()</a>, <a class="el" href="visitable_8cpp_source.html#l01108">visitable&lt; Character &gt;::has_amount()</a>, <a class="el" href="character_8cpp_source.html#l09571">Character::has_charges()</a>, <a class="el" href="inventory_8cpp_source.html#l00883">inventory::has_charges()</a>, <a class="el" href="inventory_8cpp_source.html#l00871">inventory::has_tools()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="item_8cpp_source.html#l09749">item::nname()</a>, <a class="el" href="craft__command_8h_source.html#l00029">num_usages</a>, <a class="el" href="cached__options_8cpp_source.html#l00017">PICKUP_RANGE</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="crafting_8cpp_source.html#l00718">start_craft()</a>, <a class="el" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>, <a class="el" href="crafting_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a>, <a class="el" href="enums_8h_source.html#l00075">type</a>, <a class="el" href="craft__command_8h_source.html#l00027">use_from_both</a>, <a class="el" href="craft__command_8h_source.html#l00025">use_from_map</a>, <a class="el" href="craft__command_8h_source.html#l00024">use_from_none</a>, and <a class="el" href="craft__command_8h_source.html#l00026">use_from_player</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__handlers_8cpp_source.html#l03867">activity_handlers::craft_do_turn()</a>, and <a class="el" href="craft__command_8cpp_source.html#l00223">craft_command::create_in_progress_craft()</a>.</p>

</div>
</div>
<a id="a0a809cd0c318adcff86e150e44bff0ff" name="a0a809cd0c318adcff86e150e44bff0ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a809cd0c318adcff86e150e44bff0ff">&#9670;&nbsp;</a></span>craft_skill_gain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::craft_skill_gain </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>craft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>multiplier</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle skill gain for player and followers during crafting. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">craft</td><td>the currently in progress craft </td></tr>
    <tr><td class="paramname">multiplier</td><td>what factor to multiply the base skill gain by. This is used to apply multiple steps of incremental skill gain simultaneously if needed. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00762">762</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>{</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.is_craft() ) {</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;craft_skill_check() called on non-craft &#39;%s.&#39; Aborting.&quot;</span>, <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.tname() );</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>    }</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span> </div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>    <span class="keyword">const</span> <a class="code hl_class" href="classrecipe.html">recipe</a> &amp;making = <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.get_making();</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> batch_size = <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.charges;</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span> </div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>    std::vector&lt;npc *&gt; helpers = <a class="code hl_function" href="classplayer.html#a1ca63c0414c6b4ea34691ef1f4f40047">get_crafting_helpers</a>();</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span> </div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>    <span class="keywordflow">if</span>( making.<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> ) {</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>        <span class="comment">// Normalize experience gain to crafting time, giving a bonus for longer crafting</span></div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> batch_mult = batch_size + <a class="code hl_function" href="classplayer.html#a1eb30a8d6bfec2c190e360f9c14d69b0">base_time_to_craft</a>( making, batch_size ) / 30000.0;</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>        <span class="comment">// This is called after every 5% crafting progress, so divide by 20</span></div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>        <span class="comment">// TODO: Don&#39;t multiply, instead divide the crafting time into more &quot;learn bits&quot;</span></div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> base_practice = <a class="code hl_function" href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a>( ( making.<a class="code hl_variable" href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">difficulty</a> * 15 + 10 ) * batch_mult /</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>                                  20.0 ) * multiplier;</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> skill_cap = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( making.<a class="code hl_variable" href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">difficulty</a> * 1.25 );</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>        <a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( making.<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a>, base_practice, skill_cap, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span> </div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>        <span class="comment">// NPCs assisting or watching should gain experience...</span></div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;helper : helpers ) {</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>            <span class="comment">//If the NPC can understand what you are doing, they gain more exp</span></div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>            <span class="keywordflow">if</span>( helper-&gt;get_skill_level( making.<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> ) &gt;= making.<a class="code hl_variable" href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">difficulty</a> ) {</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>                helper-&gt;practice( making.<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a>, <a class="code hl_function" href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a>( base_practice / 2.0 ),</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>                                  skill_cap );</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>                <span class="keywordflow">if</span>( batch_size &gt; 1 &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>                    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s assists with crafting…&quot;</span> ), helper-&gt;name );</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>                }</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>                <span class="keywordflow">if</span>( batch_size == 1 &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>                    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s could assist you with a batch…&quot;</span> ), helper-&gt;name );</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>                }</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>                <span class="comment">// NPCs around you understand the skill used better</span></div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>                helper-&gt;practice( making.<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a>, <a class="code hl_function" href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a>( base_practice / 10.0 ),</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>                                  skill_cap );</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>                    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s watches you craft…&quot;</span> ), helper-&gt;name );</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>                }</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>            }</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>        }</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>    }</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>}</div>
<div class="ttc" id="aclassplayer_html_a1eb30a8d6bfec2c190e360f9c14d69b0"><div class="ttname"><a href="classplayer.html#a1eb30a8d6bfec2c190e360f9c14d69b0">player::base_time_to_craft</a></div><div class="ttdeci">int base_time_to_craft(const recipe &amp;rec, int batch_size=1) const</div><div class="ttdoc">Time to craft not including speed multiplier.</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00394">crafting.cpp:394</a></div></div>
<div class="ttc" id="arng_8cpp_html_acd19ae79e3590a99c9eaf0389318b686"><div class="ttname"><a href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a></div><div class="ttdeci">int roll_remainder(double value)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00096">rng.cpp:96</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="crafting_8cpp_source.html#l00394">base_time_to_craft()</a>, <a class="el" href="crafting_8cpp_source.html#l00334">craft()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="recipe_8h_source.html#l00060">recipe::difficulty</a>, <a class="el" href="crafting_8cpp_source.html#l02322">get_crafting_helpers()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="player_8cpp_source.html#l04005">practice()</a>, <a class="el" href="rng_8cpp_source.html#l00096">roll_remainder()</a>, and <a class="el" href="recipe_8h_source.html#l00107">recipe::skill_used</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__handlers_8cpp_source.html#l03867">activity_handlers::craft_do_turn()</a>.</p>

</div>
</div>
<a id="aeab8d12218640d360a89b3dfccebc9c8" name="aeab8d12218640d360a89b3dfccebc9c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeab8d12218640d360a89b3dfccebc9c8">&#9670;&nbsp;</a></span>crafting_success_roll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double player::crafting_success_roll </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>making</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate a value representing the success of the player at crafting the given recipe, taking player skill, recipe difficulty, npc helpers, and player mutations into account. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">making</td><td>the recipe for which to calculate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a value &gt;= 0.0 with &gt;= 1.0 representing unequivocal success </dd></dl>
Intelligence increases crafting success chance 
<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00808">808</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>{</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>    <span class="keywordtype">int</span> secondary_dice = 0;</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>    <span class="keywordtype">int</span> secondary_difficulty = 0;</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;pr : making.<a class="code hl_variable" href="classrecipe.html#a0f8a4801e8ff8e2c0310b04ef0c4a245">required_skills</a> ) {</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>        secondary_dice += <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( pr.first );</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>        secondary_difficulty += pr.second;</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    }</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span> </div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>    <span class="comment">// # of dice is 75% primary skill, 25% secondary (unless secondary is null)</span></div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>    <span class="keywordtype">int</span> skill_dice;</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>    <span class="keywordflow">if</span>( secondary_difficulty &gt; 0 ) {</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>        skill_dice = <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( making.<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> ) * 3 + secondary_dice;</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>        skill_dice = <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( making.<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> ) * 4;</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>    }</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span> </div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classnpc.html">npc</a> *np : <a class="code hl_function" href="classplayer.html#a1ca63c0414c6b4ea34691ef1f4f40047">get_crafting_helpers</a>() ) {</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>        <span class="keywordflow">if</span>( np-&gt;get_skill_level( making.<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> ) &gt;=</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>            <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( making.<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> ) ) {</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>            <span class="comment">// NPC assistance is worth half a skill level</span></div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>            skill_dice += 2;</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s helps with crafting…&quot;</span> ), np-&gt;name );</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>        }</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>    }</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span> </div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>    <span class="comment">// farsightedness can impose a penalty on electronics and tailoring success</span></div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>    <span class="comment">// it&#39;s equivalent to a 2-rank electronics penalty, 1-rank tailoring</span></div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="crafting_8cpp.html#a83835dcd301781ff63080d4b0fc72a18">trait_HYPEROPIC</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#a3aaa75382f6308a729369c7f2ccf0600">worn_with_flag</a>( <a class="code hl_function" href="crafting_8cpp.html#a393bbebb3031858ad74c405659e88664">flag_FIX_FARSIGHT</a> ) &amp;&amp;</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>        !<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="crafting_8cpp.html#a3151d4a613895c95436a5981e382ef80">effect_contacts</a> ) ) {</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>        <span class="keywordtype">int</span> main_rank_penalty = 0;</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>        <span class="keywordflow">if</span>( making.<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> == <a class="code hl_variable" href="crafting_8cpp.html#af557f83ca09615da5b2ff84b924e01c0">skill_electronics</a> ) {</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>            main_rank_penalty = 2;</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( making.<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> == <a class="code hl_variable" href="crafting_8cpp.html#a9b08334d39798cf90ee61d33041212ad">skill_tailor</a> ) {</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>            main_rank_penalty = 1;</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>        }</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>        skill_dice -= main_rank_penalty * 4;</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>    }</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span> </div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>    <span class="comment">// It&#39;s tough to craft with paws.  Fortunately it&#39;s just a matter of grip and fine-motor,</span></div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>    <span class="comment">// not inability to see what you&#39;re doing</span></div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> &amp;mut : <a class="code hl_function" href="classCharacter.html#a97c5948a2648dc5fd3e2defd5885cdb0">get_mutations</a>() ) {</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const skill_id, int&gt; &amp;skib : mut-&gt;craft_skill_bonus ) {</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>            <span class="keywordflow">if</span>( making.<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> == skib.first ) {</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>                skill_dice += skib.second;</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>            }</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>        }</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    }</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span> </div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>    <span class="comment">// Sides on dice is 16 plus your current intelligence</span><span class="comment"></span></div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span><span class="comment">    ///\EFFECT_INT increases crafting success chance</span></div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span><span class="comment"></span>    <span class="keyword">const</span> <span class="keywordtype">int</span> skill_sides = 16 + <a class="code hl_variable" href="classCharacter.html#a994c83d61054215e81a6e87478d81203">int_cur</a>;</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span> </div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>    <span class="keywordtype">int</span> diff_dice;</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>    <span class="keywordflow">if</span>( secondary_difficulty &gt; 0 ) {</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>        diff_dice = making.<a class="code hl_variable" href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">difficulty</a> * 3 + secondary_difficulty;</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>        <span class="comment">// Since skill level is * 4 also</span></div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>        diff_dice = making.<a class="code hl_variable" href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">difficulty</a> * 4;</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>    }</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span> </div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> diff_sides = 24; <span class="comment">// 16 + 8 (default intelligence)</span></div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span> </div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> skill_roll = <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( skill_dice, skill_sides );</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> diff_roll = <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( diff_dice, diff_sides );</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span> </div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    <span class="keywordflow">if</span>( diff_roll == 0 ) {</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>        <span class="comment">// Automatic success</span></div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>        <span class="keywordflow">return</span> 2;</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>    }</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span> </div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>    <span class="keywordflow">return</span> skill_roll / diff_roll;</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>}</div>
<div class="ttc" id="aclassCharacter_html_a97c5948a2648dc5fd3e2defd5885cdb0"><div class="ttname"><a href="classCharacter.html#a97c5948a2648dc5fd3e2defd5885cdb0">Character::get_mutations</a></div><div class="ttdeci">std::vector&lt; trait_id &gt; get_mutations(bool include_hidden=true) const</div><div class="ttdoc">Get the idents of all traits/mutations.</div><div class="ttdef"><b>Definition:</b> <a href="newcharacter_8cpp_source.html#l02792">newcharacter.cpp:2792</a></div></div>
<div class="ttc" id="aclassrecipe_html_a0f8a4801e8ff8e2c0310b04ef0c4a245"><div class="ttname"><a href="classrecipe.html#a0f8a4801e8ff8e2c0310b04ef0c4a245">recipe::required_skills</a></div><div class="ttdeci">std::map&lt; skill_id, int &gt; required_skills</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00108">recipe.h:108</a></div></div>
<div class="ttc" id="acrafting_8cpp_html_a3151d4a613895c95436a5981e382ef80"><div class="ttname"><a href="crafting_8cpp.html#a3151d4a613895c95436a5981e382ef80">effect_contacts</a></div><div class="ttdeci">static const efftype_id effect_contacts(&quot;contacts&quot;)</div></div>
<div class="ttc" id="acrafting_8cpp_html_a393bbebb3031858ad74c405659e88664"><div class="ttname"><a href="crafting_8cpp.html#a393bbebb3031858ad74c405659e88664">flag_FIX_FARSIGHT</a></div><div class="ttdeci">static const std::string flag_FIX_FARSIGHT(&quot;FIX_FARSIGHT&quot;)</div></div>
<div class="ttc" id="acrafting_8cpp_html_a83835dcd301781ff63080d4b0fc72a18"><div class="ttname"><a href="crafting_8cpp.html#a83835dcd301781ff63080d4b0fc72a18">trait_HYPEROPIC</a></div><div class="ttdeci">static const trait_id trait_HYPEROPIC(&quot;HYPEROPIC&quot;)</div></div>
<div class="ttc" id="acrafting_8cpp_html_a9b08334d39798cf90ee61d33041212ad"><div class="ttname"><a href="crafting_8cpp.html#a9b08334d39798cf90ee61d33041212ad">skill_tailor</a></div><div class="ttdeci">static const skill_id skill_tailor(&quot;tailor&quot;)</div></div>
<div class="ttc" id="acrafting_8cpp_html_af557f83ca09615da5b2ff84b924e01c0"><div class="ttname"><a href="crafting_8cpp.html#af557f83ca09615da5b2ff84b924e01c0">skill_electronics</a></div><div class="ttdeci">static const skill_id skill_electronics(&quot;electronics&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="rng_8cpp_source.html#l00085">dice()</a>, <a class="el" href="recipe_8h_source.html#l00060">recipe::difficulty</a>, <a class="el" href="crafting_8cpp.html#a3151d4a613895c95436a5981e382ef80">effect_contacts</a>, <a class="el" href="crafting_8cpp.html#a393bbebb3031858ad74c405659e88664">flag_FIX_FARSIGHT()</a>, <a class="el" href="crafting_8cpp_source.html#l02322">get_crafting_helpers()</a>, <a class="el" href="newcharacter_8cpp_source.html#l02792">Character::get_mutations()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8h_source.html#l00306">Character::int_cur</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="recipe_8h_source.html#l00108">recipe::required_skills</a>, <a class="el" href="crafting_8cpp.html#af557f83ca09615da5b2ff84b924e01c0">skill_electronics</a>, <a class="el" href="crafting_8cpp.html#a9b08334d39798cf90ee61d33041212ad">skill_tailor</a>, <a class="el" href="recipe_8h_source.html#l00107">recipe::skill_used</a>, <a class="el" href="crafting_8cpp.html#a83835dcd301781ff63080d4b0fc72a18">trait_HYPEROPIC</a>, and <a class="el" href="character_8cpp_source.html#l03241">Character::worn_with_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l00918">item::handle_craft_failure()</a>, and <a class="el" href="crafting_8cpp_source.html#l00892">item::set_next_failure_point()</a>.</p>

</div>
</div>
<a id="a88a82cf73a3978f516e1e0bdc11dc5ec" name="a88a82cf73a3978f516e1e0bdc11dc5ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88a82cf73a3978f516e1e0bdc11dc5ec">&#9670;&nbsp;</a></span>current_warnings_fac()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::current_warnings_fac </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02130">2130</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span>{</div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span>    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code hl_variable" href="classplayer.html#a3da8cabad8655c681d26fbb1be26f92a">warning_record</a>.find( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span>    <span class="keywordflow">if</span>( it != <a class="code hl_variable" href="classplayer.html#a3da8cabad8655c681d26fbb1be26f92a">warning_record</a>.end() ) {</div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span>        <span class="keywordflow">if</span>( it-&gt;second.second - <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> &gt; 5_minutes ) {</div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span>            it-&gt;second.first = std::max( 0,</div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span>                                         it-&gt;second.first - 1 );</div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span>        }</div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span>        <span class="keywordflow">return</span> it-&gt;second.first;</div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span>    }</div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, and <a class="el" href="player_8h_source.html#l00769">warning_record</a>.</p>

</div>
</div>
<a id="ad9af8a795d678568c01841a749ba818c" name="ad9af8a795d678568c01841a749ba818c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9af8a795d678568c01841a749ba818c">&#9670;&nbsp;</a></span>deserialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void player::deserialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonIn.html">JsonIn</a> &amp;&#160;</td>
          <td class="paramname"><em>jsin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classavatar.html#ad8cfa5310d668c8fb9c47b02e1f50970">avatar</a>, and <a class="el" href="classnpc.html#a187ab2233da551eadc4dd3bf8a508498">npc</a>.</p>

</div>
</div>
<a id="a1d834bb8130bbe9689b8cc19190d3ea7" name="a1d834bb8130bbe9689b8cc19190d3ea7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d834bb8130bbe9689b8cc19190d3ea7">&#9670;&nbsp;</a></span>disarm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::disarm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnpc.html">npc</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to disarm the NPC. </p>
<p >May result in fail attempt, you receiving the wepon and instantly wielding it, or the weapon falling down on the floor nearby. NPC is always getting angry with you. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>Target NPC to disarm </td></tr>
  </table>
  </dd>
</dl>
Strength increases chance to disarm, primary stat Dexterity increases chance to disarm, secondary stat Melee increases chance to disarm Unarmed increases chance to disarm, bonus when nothing wielded 
<p class="definition">Definition at line <a class="el" href="melee_8cpp_source.html#l02264">2264</a> of file <a class="el" href="melee_8cpp_source.html">melee.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>{</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span>    <span class="keywordflow">if</span>( !target.<a class="code hl_function" href="classCharacter.html#ad79464264cb8a2061f5888d092f5cd86">is_armed</a>() ) {</div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span>    }</div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span> </div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span>    <span class="keywordflow">if</span>( target.<a class="code hl_function" href="classnpc.html#a41b0a58a7ddf03b23766abcb760bcff0">is_hallucination</a>() ) {</div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span>        target.<a class="code hl_function" href="classnpc.html#a965eb2beb1c490bb1b8efef1c07e20d0">on_attacked</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span>    }</div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span><span class="comment"></span> </div>
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"> 2275</span><span class="comment">    /** @EFFECT_STR increases chance to disarm, primary stat */</span><span class="comment"></span></div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span><span class="comment">    /** @EFFECT_DEX increases chance to disarm, secondary stat */</span></div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span>    <span class="keywordtype">int</span> my_roll = <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 3, 2 * <a class="code hl_function" href="classCharacter.html#a5aba683ccf77cb560a0a932308289bd9">get_str</a>() + <a class="code hl_function" href="classCharacter.html#a34a927d0f161ac92ab0d462397828bd5">get_dex</a>() );</div>
<div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span><span class="comment"></span> </div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span><span class="comment">    /** @EFFECT_MELEE increases chance to disarm */</span></div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"> 2280</span>    my_roll += <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 3, <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="melee_8cpp.html#a917f093dcdc3861c86a6adf734a52641">skill_melee</a> ) );</div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span> </div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span>    <span class="keywordtype">int</span> their_roll = <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 3, 2 * target.<a class="code hl_function" href="classCharacter.html#a5aba683ccf77cb560a0a932308289bd9">get_str</a>() + target.<a class="code hl_function" href="classCharacter.html#a34a927d0f161ac92ab0d462397828bd5">get_dex</a>() );</div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span>    their_roll += <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 3, target.<a class="code hl_function" href="classCharacter.html#abb0a1847902e6db0bd3c923ee8187702">get_per</a>() );</div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span>    their_roll += <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 3, target.<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="melee_8cpp.html#a917f093dcdc3861c86a6adf734a52641">skill_melee</a> ) );</div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"> 2285</span> </div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span>    <a class="code hl_class" href="classitem.html">item</a> &amp;it = target.<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>;</div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span> </div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span>    <span class="comment">// roll your melee and target&#39;s dodge skills to check if grab/smash attack succeeds</span></div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span>    <span class="keywordtype">int</span> hitspread = target.<a class="code hl_function" href="classCreature.html#a2ed7b87167039b2cf0ecb2464d62f802">deal_melee_attack</a>( <span class="keyword">this</span>, <a class="code hl_function" href="classCharacter.html#a5b1b6d0e3efd0577ed298752a12d5cd1">hit_roll</a>() );</div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span>    <span class="keywordflow">if</span>( hitspread &lt; 0 ) {</div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You lunge for the %s, but miss!&quot;</span> ), it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"> 2292</span>        <a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -100 - <a class="code hl_function" href="melee_8cpp.html#a63724202428485550c8093a6c2a60ee1">stumble</a>( *<span class="keyword">this</span>, <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> ) - <a class="code hl_function" href="classCharacter.html#a0f40bb355d62047f8140901ee35995ec">attack_cost</a>( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> ) );</div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span>        target.<a class="code hl_function" href="classnpc.html#a965eb2beb1c490bb1b8efef1c07e20d0">on_attacked</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span>    }</div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"> 2296</span> </div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span>    <span class="comment">// hitspread &gt;= 0, which means we are going to disarm by grabbing target by their weapon</span></div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#ad79464264cb8a2061f5888d092f5cd86">is_armed</a>() ) {<span class="comment"></span></div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span><span class="comment">        /** @EFFECT_UNARMED increases chance to disarm, bonus when nothing wielded */</span></div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span>        my_roll += <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 3, <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="melee_8cpp.html#ad22b82ceedf236ed05df55e661444c76">skill_unarmed</a> ) );</div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span> </div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span>        <span class="keywordflow">if</span>( my_roll &gt;= their_roll ) {</div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span>            <span class="comment">//~ %s: weapon name</span></div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"> 2304</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You grab at %s and pull with all your force!&quot;</span> ), it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"> 2305</span>            <span class="comment">//~ %1$s: weapon name, %2$s: NPC name</span></div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You forcefully take %1$s from %2$s!&quot;</span> ), it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(), target.<a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a> );</div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span>            <span class="comment">// wield() will deduce our moves, consider to deduce more/less moves for balance</span></div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span>            <a class="code hl_class" href="classitem.html">item</a> rem_it = target.<a class="code hl_function" href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">i_rem</a>( &amp;it );</div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span>            <a class="code hl_function" href="classCharacter.html#abfefc2e9898fff84f1d6bf007a73a976">wield</a>( rem_it );</div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( my_roll &gt;= their_roll / 2 ) {</div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You grab at %s and pull with all your force, but it drops nearby!&quot;</span> ),</div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span>                     it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> tp = target.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() + <a class="code hl_struct" href="structtripoint.html">tripoint</a>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -1, 1 ), <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -1, 1 ), 0 );</div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_item_or_charges( tp, target.<a class="code hl_function" href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">i_rem</a>( &amp;it ) );</div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span>            <a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -100 );</div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You grab at %s and pull with all your force, but in vain!&quot;</span> ), it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span>            <a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -100 );</div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span>        }</div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span> </div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span>        target.<a class="code hl_function" href="classnpc.html#a965eb2beb1c490bb1b8efef1c07e20d0">on_attacked</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span>    }</div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span> </div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span>    <span class="comment">// Make their weapon fall on floor if we&#39;ve rolled enough.</span></div>
<div class="line"><a id="l02326" name="l02326"></a><span class="lineno"> 2326</span>    <a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -100 - <a class="code hl_function" href="classCharacter.html#a0f40bb355d62047f8140901ee35995ec">attack_cost</a>( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> ) );</div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span>    <span class="keywordflow">if</span>( my_roll &gt;= their_roll ) {</div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You smash %s with all your might forcing their %s to drop down nearby!&quot;</span> ),</div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"> 2329</span>                 target.<a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a>, it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"> 2330</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> tp = target.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() + <a class="code hl_struct" href="structtripoint.html">tripoint</a>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -1, 1 ), <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -1, 1 ), 0 );</div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_item_or_charges( tp, target.<a class="code hl_function" href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">i_rem</a>( &amp;it ) );</div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"> 2333</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You smash %s with all your might but %s remains in their hands!&quot;</span> ),</div>
<div class="line"><a id="l02334" name="l02334"></a><span class="lineno"> 2334</span>                 target.<a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a>, it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02335" name="l02335"></a><span class="lineno"> 2335</span>    }</div>
<div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span> </div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>    target.<a class="code hl_function" href="classnpc.html#a965eb2beb1c490bb1b8efef1c07e20d0">on_attacked</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span>}</div>
<div class="ttc" id="aclassCharacter_html_a0f40bb355d62047f8140901ee35995ec"><div class="ttname"><a href="classCharacter.html#a0f40bb355d62047f8140901ee35995ec">Character::attack_cost</a></div><div class="ttdeci">int attack_cost(const item &amp;weap) const</div><div class="ttdoc">Returns cost (in moves) of attacking with given item (no modifiers, like stuck)</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l02165">melee.cpp:2165</a></div></div>
<div class="ttc" id="aclassCharacter_html_a34a927d0f161ac92ab0d462397828bd5"><div class="ttname"><a href="classCharacter.html#a34a927d0f161ac92ab0d462397828bd5">Character::get_dex</a></div><div class="ttdeci">virtual int get_dex() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04052">character.cpp:4052</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5b1b6d0e3efd0577ed298752a12d5cd1"><div class="ttname"><a href="classCharacter.html#a5b1b6d0e3efd0577ed298752a12d5cd1">Character::hit_roll</a></div><div class="ttdeci">float hit_roll() const override</div><div class="ttdoc">Returns the player's basic hit roll that is compared to the target's dodge roll.</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l00297">melee.cpp:297</a></div></div>
<div class="ttc" id="aclassCharacter_html_abb0a1847902e6db0bd3c923ee8187702"><div class="ttname"><a href="classCharacter.html#abb0a1847902e6db0bd3c923ee8187702">Character::get_per</a></div><div class="ttdeci">virtual int get_per() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04056">character.cpp:4056</a></div></div>
<div class="ttc" id="aclassCharacter_html_abfefc2e9898fff84f1d6bf007a73a976"><div class="ttname"><a href="classCharacter.html#abfefc2e9898fff84f1d6bf007a73a976">Character::wield</a></div><div class="ttdeci">virtual bool wield(item &amp;target)=0</div><div class="ttdoc">Removes currently wielded item (if any) and replaces it with the target item.</div></div>
<div class="ttc" id="aclassCreature_html_a2ed7b87167039b2cf0ecb2464d62f802"><div class="ttname"><a href="classCreature.html#a2ed7b87167039b2cf0ecb2464d62f802">Creature::deal_melee_attack</a></div><div class="ttdeci">virtual int deal_melee_attack(Creature *source, int hitroll)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00496">creature.cpp:496</a></div></div>
<div class="ttc" id="aclassnpc_html_a41b0a58a7ddf03b23766abcb760bcff0"><div class="ttname"><a href="classnpc.html#a41b0a58a7ddf03b23766abcb760bcff0">npc::is_hallucination</a></div><div class="ttdeci">bool is_hallucination() const override</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03257">npc.cpp:3257</a></div></div>
<div class="ttc" id="aclassnpc_html_a965eb2beb1c490bb1b8efef1c07e20d0"><div class="ttname"><a href="classnpc.html#a965eb2beb1c490bb1b8efef1c07e20d0">npc::on_attacked</a></div><div class="ttdeci">void on_attacked(const Creature &amp;attacker)</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01446">npc.cpp:1446</a></div></div>
<div class="ttc" id="amelee_8cpp_html_a63724202428485550c8093a6c2a60ee1"><div class="ttname"><a href="melee_8cpp.html#a63724202428485550c8093a6c2a60ee1">stumble</a></div><div class="ttdeci">int stumble(Character &amp;u, const item &amp;weap)</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l00683">melee.cpp:683</a></div></div>
<div class="ttc" id="amelee_8cpp_html_a917f093dcdc3861c86a6adf734a52641"><div class="ttname"><a href="melee_8cpp.html#a917f093dcdc3861c86a6adf734a52641">skill_melee</a></div><div class="ttdeci">static const skill_id skill_melee(&quot;melee&quot;)</div></div>
<div class="ttc" id="amelee_8cpp_html_ad22b82ceedf236ed05df55e661444c76"><div class="ttname"><a href="melee_8cpp.html#ad22b82ceedf236ed05df55e661444c76">skill_unarmed</a></div><div class="ttdeci">static const skill_id skill_unarmed(&quot;unarmed&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="melee_8cpp_source.html#l02165">Character::attack_cost()</a>, <a class="el" href="creature_8cpp_source.html#l00496">Creature::deal_melee_attack()</a>, <a class="el" href="rng_8cpp_source.html#l00085">dice()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l04052">Character::get_dex()</a>, <a class="el" href="character_8cpp_source.html#l04056">Character::get_per()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="character_8cpp_source.html#l04048">Character::get_str()</a>, <a class="el" href="melee_8cpp_source.html#l00297">Character::hit_roll()</a>, <a class="el" href="character_8cpp_source.html#l02413">Character::i_rem()</a>, <a class="el" href="melee_8cpp_source.html#l00145">Character::is_armed()</a>, <a class="el" href="npc_8cpp_source.html#l03257">npc::is_hallucination()</a>, <a class="el" href="creature_8cpp_source.html#l01402">Creature::mod_moves()</a>, <a class="el" href="character_8h_source.html#l01568">Character::name</a>, <a class="el" href="npc_8cpp_source.html#l01446">npc::on_attacked()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="melee_8cpp.html#a917f093dcdc3861c86a6adf734a52641">skill_melee</a>, <a class="el" href="melee_8cpp.html#ad22b82ceedf236ed05df55e661444c76">skill_unarmed</a>, <a class="el" href="melee_8cpp_source.html#l00683">stumble()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>, and <a class="el" href="classCharacter.html#abfefc2e9898fff84f1d6bf007a73a976">Character::wield()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l05543">game::npc_menu()</a>.</p>

</div>
</div>
<a id="aa9da31740010570cb21b47ca70885d48" name="aa9da31740010570cb21b47ca70885d48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9da31740010570cb21b47ca70885d48">&#9670;&nbsp;</a></span>disassemble() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::disassemble </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l01928">1928</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>{</div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classplayer.html#aa9da31740010570cb21b47ca70885d48">disassemble</a>( <a class="code hl_function" href="namespacegame__menus_1_1inv.html#a0de2b203e47ecc2c48ca3efbe7c70ffb">game_menus::inv::disassemble</a>( *<span class="keyword">this</span> ), <span class="keyword">false</span> );</div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>}</div>
<div class="ttc" id="aclassplayer_html_aa9da31740010570cb21b47ca70885d48"><div class="ttname"><a href="classplayer.html#aa9da31740010570cb21b47ca70885d48">player::disassemble</a></div><div class="ttdeci">bool disassemble()</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l01928">crafting.cpp:1928</a></div></div>
<div class="ttc" id="anamespacegame__menus_1_1inv_html_a0de2b203e47ecc2c48ca3efbe7c70ffb"><div class="ttname"><a href="namespacegame__menus_1_1inv.html#a0de2b203e47ecc2c48ca3efbe7c70ffb">game_menus::inv::disassemble</a></div><div class="ttdeci">item_location disassemble(player &amp;p)</div><div class="ttdoc">Item disassembling menu.</div><div class="ttdef"><b>Definition:</b> <a href="game__inventory_8cpp_source.html#l00492">game_inventory.cpp:492</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting_8cpp_source.html#l01928">disassemble()</a>, and <a class="el" href="game__inventory_8cpp_source.html#l00492">game_menus::inv::disassemble()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l08556">game::butcher()</a>, <a class="el" href="crafting_8cpp_source.html#l01928">disassemble()</a>, <a class="el" href="iuse_8cpp_source.html#l09691">iuse::disassemble()</a>, <a class="el" href="crafting_8cpp_source.html#l02030">disassemble_all()</a>, <a class="el" href="handle__action_8cpp_source.html#l01514">game::handle_action()</a>, and <a class="el" href="game_8cpp_source.html#l02086">game::inventory_item_menu()</a>.</p>

</div>
</div>
<a id="a4a73392221e3db0e2b4264235ab6617c" name="a4a73392221e3db0e2b4264235ab6617c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a73392221e3db0e2b4264235ab6617c">&#9670;&nbsp;</a></span>disassemble() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::disassemble </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem__location.html">item_location</a>&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>interactive</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l01933">1933</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>{</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span>    <span class="keywordflow">if</span>( !target ) {</div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Never mind.&quot;</span> ) );</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span>    }</div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span> </div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;obj = *target;</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_function" href="classplayer.html#a326ca5eed7a942d13b5a21d0c4729785">can_disassemble</a>( obj, <a class="code hl_function" href="classCharacter.html#abd358c7a7757575b70b1613dbcce40a7">crafting_inventory</a>() );</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span> </div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.success() ) {</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>        <span class="keywordflow">if</span>( interactive ) {</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.c_str() );</div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span>        }</div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>    }</div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span> </div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;r = <a class="code hl_function" href="classrecipe__dictionary.html#a93af439fed4b5043d9709235e0cea03e">recipe_dictionary::get_uncraft</a>( obj.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() );</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>    <span class="keywordflow">if</span>( !obj.<a class="code hl_function" href="classitem.html#a0b35b9066ad71987b77727af45d96059">is_owned_by</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Disassembling the %s may anger the people who own it, continue?&quot;</span> ),</div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span>                       obj.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() ) ) {</div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>            <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="classitem.html#a326dae8709070c316f6859ef0704bf85">get_owner</a>() ) {</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>                std::vector&lt;npc *&gt; witnesses;</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>                <span class="keywordflow">for</span>( <a class="code hl_class" href="classnpc.html">npc</a> &amp;elem : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;all_npcs() ) {</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>                    <span class="keywordflow">if</span>( <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( elem.pos(), <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() ) &lt; <a class="code hl_variable" href="game__constants_8h.html#a745392436b19cce3012d4d8dc0fe422c">MAX_VIEW_DISTANCE</a> &amp;&amp; elem.get_faction() &amp;&amp;</div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span>                        obj.<a class="code hl_function" href="classitem.html#a0b35b9066ad71987b77727af45d96059">is_owned_by</a>( elem ) &amp;&amp; elem.sees( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() ) ) {</div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span>                        elem.say( <span class="stringliteral">&quot;&lt;witnessed_thievery&gt;&quot;</span>, 7 );</div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span>                        <a class="code hl_class" href="classnpc.html">npc</a> *npc_to_add = &amp;elem;</div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span>                        witnesses.push_back( npc_to_add );</div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span>                    }</div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>                }</div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span>                <span class="keywordflow">if</span>( !witnesses.empty() ) {</div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span>                    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.add_faction_warning( obj.<a class="code hl_function" href="classitem.html#a326dae8709070c316f6859ef0704bf85">get_owner</a>() ) ) {</div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span>                        <span class="keywordflow">for</span>( <a class="code hl_class" href="classnpc.html">npc</a> *elem : witnesses ) {</div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span>                            elem-&gt;<a class="code hl_function" href="classnpc.html#a07f70dcf0d3f4228a4d7eda138c5ff00">make_angry</a>();</div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span>                        }</div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span>                    }</div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span>                }</div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span>            }</div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span>        }</div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span>    }</div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span>    <span class="comment">// last chance to back out</span></div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span>    <span class="keywordflow">if</span>( interactive &amp;&amp; get_option&lt;bool&gt;( <span class="stringliteral">&quot;QUERY_DISASSEMBLE&quot;</span> ) ) {</div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span>        std::string list;</div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span>        <span class="keyword">const</span> <span class="keyword">auto</span> components = obj.<a class="code hl_function" href="classitem.html#a4974052f9a7c7c664bb62fd3a860c7fa">get_uncraft_components</a>();</div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_struct" href="structcomponent.html">component</a> : components ) {</div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span>            list += <span class="stringliteral">&quot;- &quot;</span> + <a class="code hl_struct" href="structcomponent.html">component</a>.to_string() + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span>        }</div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span>        <span class="keywordflow">if</span>( !r.learn_by_disassembly.empty() &amp;&amp; !<a class="code hl_function" href="classplayer.html#abc8b110d8e655cfc6d27b7bdc67fab3b">knows_recipe</a>( &amp;r ) &amp;&amp; <a class="code hl_function" href="classplayer.html#a010e76e9611050acd16e0753ee8b492b">can_decomp_learn</a>( r ) ) {</div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a>(</div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span>                    <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Disassembling the %s may yield:\n%s\nReally disassemble?\nYou feel you may be able to understand this object&#39;s construction.\n&quot;</span> ),</div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span>                    <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( obj.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(), obj.<a class="code hl_function" href="classitem.html#a6bc022aab35ecd1f591a065aa4006eff">color_in_inventory</a>() ),</div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span>                    list ) ) {</div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span>            }</div>
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"> 1990</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Disassembling the %s may yield:\n%s\nReally disassemble?&quot;</span> ),</div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span>                              <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( obj.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(), obj.<a class="code hl_function" href="classitem.html#a6bc022aab35ecd1f591a065aa4006eff">color_in_inventory</a>() ),</div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span>                              list ) ) {</div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span>        }</div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span>    }</div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span>    <span class="comment">// If we&#39;re disassembling ammo, prompt the player to specify amount</span></div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span>    <span class="comment">// This could be extended more generally in the future</span></div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span>    <span class="keywordtype">int</span> num_dis = 0;</div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="classitem.html#ac3cc4d74d020cbd36ae490cbe88f9152">is_ammo</a>() &amp;&amp; !r.has_flag( <span class="stringliteral">&quot;UNCRAFT_BY_QUANTITY&quot;</span> ) ) {</div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span>        <a class="code hl_class" href="classstring__input__popup.html">string_input_popup</a> popup_input;</div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"> 2001</span>        <span class="keyword">const</span> std::string <a class="code hl_function" href="namespacePATH__INFO.html#af9a3ed879d4c10c8494ba4934c8ec678">title</a> = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Disassemble how many %s [MAX: %d]: &quot;</span> ),</div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"> 2002</span>                                  obj.<a class="code hl_function" href="classitem.html#a70359b9e831ed97023891631058595b6">type_name</a>( 1 ), obj.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> );</div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>        popup_input.<a class="code hl_function" href="classstring__input__popup.html#aeced4fb3877cc8e24da36af12af2e519">title</a>( <a class="code hl_function" href="namespacePATH__INFO.html#af9a3ed879d4c10c8494ba4934c8ec678">title</a> ).<a class="code hl_function" href="classstring__input__popup.html#a4bb2ebaf993134aa843f3556eb61d69a">edit</a>( num_dis );</div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span>        <span class="keywordflow">if</span>( popup_input.<a class="code hl_function" href="classstring__input__popup.html#a4e92a00b7b63abec83fcd4755470b52e">canceled</a>() || num_dis &lt;= 0 ) {</div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Never mind.&quot;</span> ) );</div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>        }</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>    }</div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span> </div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_function" href="classplayer__activity.html#a316b1ded84b8c60b250ab06661f5bce5">id</a>() != <a class="code hl_variable" href="crafting_8cpp.html#ae7f77e71891baa6223925bdf3dafe601">ACT_DISASSEMBLE</a> ) {</div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>        <span class="keywordflow">if</span>( num_dis != 0 ) {</div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span>            <a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="crafting_8cpp.html#ae7f77e71891baa6223925bdf3dafe601">ACT_DISASSEMBLE</a>, r.time * num_dis );</div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span>            <a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="crafting_8cpp.html#ae7f77e71891baa6223925bdf3dafe601">ACT_DISASSEMBLE</a>, r.time );</div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span>        }</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> &lt;= 0 ) {</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span>        <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> = r.time;</div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span>    }</div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span> </div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span>    <span class="comment">// index is used as a bool that indicates if we want recursive uncraft.</span></div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.emplace_back( <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( target ) );</div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a>.push_back( r.result().str() );</div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span>    <span class="comment">// Unused position attribute used to store ammo to disassemble</span></div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a3c0f4901d647d15e63531cf1091daf19">position</a> = std::min( num_dis, obj.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> );</div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span> </div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>}</div>
<div class="ttc" id="aclassCharacter_html_af7d50915d362a56eeff40bc6b392326d"><div class="ttname"><a href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">Character::assign_activity</a></div><div class="ttdeci">void assign_activity(const activity_id &amp;type, int moves=calendar::INDEFINITELY_LONG, int index=-1, int pos=INT_MIN, const std::string &amp;name=&quot;&quot;)</div><div class="ttdoc">Legacy activity assignment, does not work for any activites using the new activity_actor class and ma...</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09165">character.cpp:9165</a></div></div>
<div class="ttc" id="aclassitem_html_a0b35b9066ad71987b77727af45d96059"><div class="ttname"><a href="classitem.html#a0b35b9066ad71987b77727af45d96059">item::is_owned_by</a></div><div class="ttdeci">bool is_owned_by(const Character &amp;c, bool available_to_take=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01239">item.cpp:1239</a></div></div>
<div class="ttc" id="aclassitem_html_a326dae8709070c316f6859ef0704bf85"><div class="ttname"><a href="classitem.html#a326dae8709070c316f6859ef0704bf85">item::get_owner</a></div><div class="ttdeci">faction_id get_owner() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01284">item.cpp:1284</a></div></div>
<div class="ttc" id="aclassitem_html_a4974052f9a7c7c664bb62fd3a860c7fa"><div class="ttname"><a href="classitem.html#a4974052f9a7c7c664bb62fd3a860c7fa">item::get_uncraft_components</a></div><div class="ttdeci">std::vector&lt; item_comp &gt; get_uncraft_components() const</div><div class="ttdoc">Returns a list of components used to craft this item or the default components if it wasn't player-cr...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09884">item.cpp:9884</a></div></div>
<div class="ttc" id="aclassitem_html_a6bc022aab35ecd1f591a065aa4006eff"><div class="ttname"><a href="classitem.html#a6bc022aab35ecd1f591a065aa4006eff">item::color_in_inventory</a></div><div class="ttdeci">nc_color color_in_inventory() const</div><div class="ttdoc">Returns the color of the item depending on usefulness for the player character, e....</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04017">item.cpp:4017</a></div></div>
<div class="ttc" id="aclassitem_html_a70359b9e831ed97023891631058595b6"><div class="ttname"><a href="classitem.html#a70359b9e831ed97023891631058595b6">item::type_name</a></div><div class="ttdeci">std::string type_name(unsigned int quantity=1) const</div><div class="ttdoc">Name of the item type (not the item), with proper plural.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09678">item.cpp:9678</a></div></div>
<div class="ttc" id="aclassnpc_html_a07f70dcf0d3f4228a4d7eda138c5ff00"><div class="ttname"><a href="classnpc.html#a07f70dcf0d3f4228a4d7eda138c5ff00">npc::make_angry</a></div><div class="ttdeci">void make_angry()</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01423">npc.cpp:1423</a></div></div>
<div class="ttc" id="aclassplayer_html_a326ca5eed7a942d13b5a21d0c4729785"><div class="ttname"><a href="classplayer.html#a326ca5eed7a942d13b5a21d0c4729785">player::can_disassemble</a></div><div class="ttdeci">ret_val&lt; bool &gt; can_disassemble(const item &amp;obj, const inventory &amp;inv) const</div><div class="ttdoc">Check if the player can disassemble an item using the current crafting inventory.</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l01855">crafting.cpp:1855</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html"><div class="ttname"><a href="classstring__input__popup.html">string_input_popup</a></div><div class="ttdoc">Shows a window querying the user for input.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00046">string_input_popup.h:47</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_a4bb2ebaf993134aa843f3556eb61d69a"><div class="ttname"><a href="classstring__input__popup.html#a4bb2ebaf993134aa843f3556eb61d69a">string_input_popup::edit</a></div><div class="ttdeci">void edit(std::string &amp;value)</div><div class="ttdoc">Edit values in place.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8cpp_source.html#l00507">string_input_popup.cpp:507</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_a4e92a00b7b63abec83fcd4755470b52e"><div class="ttname"><a href="classstring__input__popup.html#a4e92a00b7b63abec83fcd4755470b52e">string_input_popup::canceled</a></div><div class="ttdeci">bool canceled() const</div><div class="ttdoc">Whether the input box was canceled via the ESCAPE key (or similar) If the input was finished via the ...</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00256">string_input_popup.h:256</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_aeced4fb3877cc8e24da36af12af2e519"><div class="ttname"><a href="classstring__input__popup.html#aeced4fb3877cc8e24da36af12af2e519">string_input_popup::title</a></div><div class="ttdeci">string_input_popup &amp; title(const std::string &amp;value)</div><div class="ttdoc">The title: short string before the actual input field.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00104">string_input_popup.h:104</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a0f25678be1fc95cb81381a004493a4cc"><div class="ttname"><a href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a></div><div class="ttdeci">std::string colorize(const std::string &amp;text, const nc_color &amp;color)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00669">color.cpp:669</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a47953b33a873caa0861b12222842a5ec"><div class="ttname"><a href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a></div><div class="ttdeci">int rl_dist(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00519">coordinates.h:519</a></div></div>
<div class="ttc" id="acrafting_8cpp_html_ae7f77e71891baa6223925bdf3dafe601"><div class="ttname"><a href="crafting_8cpp.html#ae7f77e71891baa6223925bdf3dafe601">ACT_DISASSEMBLE</a></div><div class="ttdeci">static const activity_id ACT_DISASSEMBLE(&quot;ACT_DISASSEMBLE&quot;)</div></div>
<div class="ttc" id="agame__constants_8h_html_a745392436b19cce3012d4d8dc0fe422c"><div class="ttname"><a href="game__constants_8h.html#a745392436b19cce3012d4d8dc0fe422c">MAX_VIEW_DISTANCE</a></div><div class="ttdeci">static constexpr int MAX_VIEW_DISTANCE</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00045">game_constants.h:45</a></div></div>
<div class="ttc" id="anamespacePATH__INFO_html_af9a3ed879d4c10c8494ba4934c8ec678"><div class="ttname"><a href="namespacePATH__INFO.html#af9a3ed879d4c10c8494ba4934c8ec678">PATH_INFO::title</a></div><div class="ttdeci">std::string title(holiday current_holiday)</div><div class="ttdef"><b>Definition:</b> <a href="path__info_8cpp_source.html#l00330">path_info.cpp:330</a></div></div>
<div class="ttc" id="anamespaceavatar__action_html_a76ba74774376a08222b8cdcce08f7304"><div class="ttname"><a href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">avatar_action::move</a></div><div class="ttdeci">bool move(avatar &amp;you, map &amp;m, const tripoint &amp;d)</div><div class="ttdef"><b>Definition:</b> <a href="avatar__action_8cpp_source.html#l00090">avatar_action.cpp:90</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a9b089d0b697443b096063219dab08ef5"><div class="ttname"><a href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a></div><div class="ttdeci">std::string string_format(std::string format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00418">string_formatter.h:418</a></div></div>
<div class="ttc" id="astructcomponent_html"><div class="ttname"><a href="structcomponent.html">component</a></div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00057">requirements.h:57</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="crafting_8cpp.html#ae7f77e71891baa6223925bdf3dafe601">ACT_DISASSEMBLE</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="player_8cpp_source.html#l04112">can_decomp_learn()</a>, <a class="el" href="crafting_8cpp_source.html#l01855">can_disassemble()</a>, <a class="el" href="string__input__popup_8h_source.html#l00256">string_input_popup::canceled()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="item_8cpp_source.html#l04017">item::color_in_inventory()</a>, <a class="el" href="color_8cpp_source.html#l00669">colorize()</a>, <a class="el" href="crafting_8cpp_source.html#l00545">Character::crafting_inventory()</a>, <a class="el" href="string__input__popup_8cpp_source.html#l00507">string_input_popup::edit()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l01284">item::get_owner()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00073">recipe_dictionary::get_uncraft()</a>, <a class="el" href="item_8cpp_source.html#l09884">item::get_uncraft_components()</a>, <a class="el" href="player__activity_8h_source.html#l00097">player_activity::id()</a>, <a class="el" href="player__activity_8h_source.html#l00049">player_activity::index</a>, <a class="el" href="item_8cpp_source.html#l06432">item::is_ammo()</a>, <a class="el" href="item_8cpp_source.html#l01239">item::is_owned_by()</a>, <a class="el" href="player_8cpp_source.html#l04118">knows_recipe()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="npc_8cpp_source.html#l01423">npc::make_angry()</a>, <a class="el" href="game__constants_8h_source.html#l00045">MAX_VIEW_DISTANCE</a>, <a class="el" href="avatar__action_8cpp_source.html#l00090">avatar_action::move()</a>, <a class="el" href="player__activity_8h_source.html#l00043">player_activity::moves_left</a>, <a class="el" href="player__activity_8h_source.html#l00054">player_activity::position</a>, <a class="el" href="player_8cpp_source.html#l04405">query_yn()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="coordinates_8h_source.html#l00519">rl_dist()</a>, <a class="el" href="player__activity_8h_source.html#l00058">player_activity::str_values</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="player__activity_8h_source.html#l00056">player_activity::targets</a>, <a class="el" href="string__input__popup_8h_source.html#l00104">string_input_popup::title()</a>, <a class="el" href="path__info_8cpp_source.html#l00330">PATH_INFO::title()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="item_8cpp_source.html#l09678">item::type_name()</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

</div>
</div>
<a id="a00dc9fb0c8c19b9ff2a43f083967079f" name="a00dc9fb0c8c19b9ff2a43f083967079f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00dc9fb0c8c19b9ff2a43f083967079f">&#9670;&nbsp;</a></span>disassemble_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::disassemble_all </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>one_pass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l02030">2030</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span>{</div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span>    <span class="comment">// Reset all the activity values</span></div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span>    <a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="crafting_8cpp.html#ae7f77e71891baa6223925bdf3dafe601">ACT_DISASSEMBLE</a>, 0 );</div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span> </div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span>    <span class="keywordtype">bool</span> found_any = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> &amp;it : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.i_at( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#aa9da31740010570cb21b47ca70885d48">disassemble</a>( <a class="code hl_class" href="classitem__location.html">item_location</a>( <a class="code hl_class" href="classmap__cursor.html">map_cursor</a>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ), &amp;it ), <span class="keyword">false</span> ) ) {</div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>            found_any = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span>        }</div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span>    }</div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span> </div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span>    <span class="comment">// index is used as a bool that indicates if we want recursive uncraft.</span></div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span>    <span class="comment">// Upon calling complete_disassemble, if we have no targets left,</span></div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span>    <span class="comment">// we will call this function again.</span></div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a> = !one_pass;</div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span> </div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span>    <span class="keywordflow">if</span>( !found_any ) {</div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span>        <span class="comment">// Reset the activity - don&#39;t loop if there is nothing to do</span></div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"> 2049</span>        <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a> = <a class="code hl_class" href="classplayer__activity.html">player_activity</a>();</div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span>    }</div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span>}</div>
<div class="ttc" id="aclassmap__cursor_html"><div class="ttname"><a href="classmap__cursor.html">map_cursor</a></div><div class="ttdef"><b>Definition:</b> <a href="map__selector_8h_source.html#l00010">map_selector.h:11</a></div></div>
<div class="ttc" id="aclassplayer__activity_html"><div class="ttname"><a href="classplayer__activity.html">player_activity</a></div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00031">player_activity.h:32</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting_8cpp.html#ae7f77e71891baa6223925bdf3dafe601">ACT_DISASSEMBLE</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="crafting_8cpp_source.html#l01928">disassemble()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="player__activity_8h_source.html#l00049">player_activity::index</a>, and <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l08556">game::butcher()</a>, and <a class="el" href="crafting_8cpp_source.html#l02053">complete_disassemble()</a>.</p>

</div>
</div>
<a id="a940a7323f98692262044159d4cbf3d3a" name="a940a7323f98692262044159d4cbf3d3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a940a7323f98692262044159d4cbf3d3a">&#9670;&nbsp;</a></span>disp_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::disp_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles and displays detailed character info for the '@' screen. </p>

<p class="definition">Definition at line <a class="el" href="player__display_8cpp_source.html#l01062">1062</a> of file <a class="el" href="player__display_8cpp_source.html">player_display.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>{</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>    std::vector&lt;std::pair&lt;std::string, std::string&gt;&gt; effect_name_and_text;</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : *<a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> ) {</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;_effect_it : elem.second ) {</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>            <span class="keyword">const</span> std::string tmp = _effect_it.second.disp_name();</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>            <span class="keywordflow">if</span>( _effect_it.second.is_removed() || tmp.empty() ) {</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>            }</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>            effect_name_and_text.push_back( { tmp, _effect_it.second.disp_desc() } );</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>        }</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>    }</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#a866f12c5891fa0a43d837669fc52706b">get_perceived_pain</a>() &gt; 0 ) {</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>        <span class="keyword">const</span> <span class="keyword">auto</span> ppen = <a class="code hl_function" href="classplayer.html#ac7f549cbcbbca36c3a0fc9f75865b3a4">get_pain_penalty</a>();</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>        std::string pain_text;</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>        <span class="keyword">const</span> <span class="keyword">auto</span> add_if = [&amp;]( <span class="keyword">const</span> <span class="keywordtype">int</span> amount, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> <a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a> ) {</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>            <span class="keywordflow">if</span>( amount &gt; 0 ) {</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>                pain_text += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a>, amount ) + <span class="stringliteral">&quot;   &quot;</span>;</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>            }</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>        };</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>        add_if( ppen.strength, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Strength -%d&quot;</span> ) );</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>        add_if( ppen.dexterity, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Dexterity -%d&quot;</span> ) );</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>        add_if( ppen.intelligence, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Intelligence -%d&quot;</span> ) );</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>        add_if( ppen.perception, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Perception -%d&quot;</span> ) );</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>        add_if( ppen.speed, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Speed -%d %%&quot;</span> ) );</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>        effect_name_and_text.push_back( { <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Pain&quot;</span> ), pain_text } );</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>    }</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span> </div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code hl_function" href="classCharacter.html#ab6ccd4032695618731d330cf103c1a15">bmi</a> = this-&gt;<a class="code hl_function" href="classCharacter.html#ab6ccd4032695618731d330cf103c1a15">bmi</a>();</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span> </div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>    <span class="keywordflow">if</span>( bmi &lt; <a class="code hl_variable" href="namespacecharacter__weight__category.html#aa0f298c7e2726e5eddd1879b7288b748">character_weight_category::underweight</a> ) {</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>        std::string starvation_name;</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>        std::string starvation_text;</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span> </div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#ab6ccd4032695618731d330cf103c1a15">bmi</a> &lt; <a class="code hl_variable" href="namespacecharacter__weight__category.html#ae41f48d3a0de12bbab86abc5d741f978">character_weight_category::emaciated</a> ) {</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>            starvation_name = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Severely Malnourished&quot;</span> );</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>            starvation_text =</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your body is severely weakened by starvation.  You might die if you don&#39;t start eating regular meals!\n\n&quot;</span> );</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>            starvation_name = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Malnourished&quot;</span> );</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>            starvation_text =</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your body is weakened by starvation.  Only time and regular meals will help you recover.\n\n&quot;</span> );</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>        }</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span> </div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#ab6ccd4032695618731d330cf103c1a15">bmi</a> &lt; <a class="code hl_variable" href="namespacecharacter__weight__category.html#aa0f298c7e2726e5eddd1879b7288b748">character_weight_category::underweight</a> ) {</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> str_penalty = 1.0f - ( ( <a class="code hl_function" href="classCharacter.html#ab6ccd4032695618731d330cf103c1a15">bmi</a> - 13.0f ) / 3.0f );</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>            starvation_text += std::string( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Strength&quot;</span> ) ) + <span class="stringliteral">&quot; -&quot;</span> + <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%2.0f%%\n&quot;</span>,</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>                               str_penalty * 100.0f );</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>            starvation_text += std::string( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Dexterity&quot;</span> ) ) + <span class="stringliteral">&quot; -&quot;</span> + <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%2.0f%%\n&quot;</span>,</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>                               str_penalty * 50.0f );</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>            starvation_text += std::string( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Intelligence&quot;</span> ) ) + <span class="stringliteral">&quot; -&quot;</span> + <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%2.0f%%&quot;</span>,</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>                               str_penalty * 50.0f );</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>        }</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span> </div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>        effect_name_and_text.push_back( { starvation_name, starvation_text } );</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>    }</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span> </div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>    <span class="keywordflow">if</span>( ( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad03d97c03c94cd08796f4787856af713">trait_id</a>( <span class="stringliteral">&quot;TROGLO&quot;</span> ) ) &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_in_sunlight( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) &amp;&amp;</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>          <a class="code hl_function" href="group__Weather.html#gaa7b33196bf530c8b26654a0adf355165">get_weather</a>().weather_id-&gt;sun_intensity &gt;= <a class="code hl_enumvalue" href="weather__type_8h.html#a951701bd5446ac796b3a62dadcdb61f1a8d966b2253a917086c8604959e152243">sun_intensity_type::high</a> ) ||</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>        ( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad03d97c03c94cd08796f4787856af713">trait_id</a>( <span class="stringliteral">&quot;TROGLO2&quot;</span> ) ) &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_in_sunlight( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) &amp;&amp;</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>          <a class="code hl_function" href="group__Weather.html#gaa7b33196bf530c8b26654a0adf355165">get_weather</a>().weather_id-&gt;sun_intensity &lt; <a class="code hl_enumvalue" href="weather__type_8h.html#a951701bd5446ac796b3a62dadcdb61f1a8d966b2253a917086c8604959e152243">sun_intensity_type::high</a> )</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>      ) {</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>        effect_name_and_text.push_back( { <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;In Sunlight&quot;</span> ),</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>                                          <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The sunlight irritates you.\n&quot;</span></div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>                                             <span class="stringliteral">&quot;Strength - 1;    Dexterity - 1;    Intelligence - 1;    Perception - 1&quot;</span> )</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>                                        } );</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad03d97c03c94cd08796f4787856af713">trait_id</a>( <span class="stringliteral">&quot;TROGLO2&quot;</span> ) ) &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_in_sunlight( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>        effect_name_and_text.push_back( { <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;In Sunlight&quot;</span> ),</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>                                          <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The sunlight irritates you badly.\n&quot;</span></div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>                                             <span class="stringliteral">&quot;Strength - 2;    Dexterity - 2;    Intelligence - 2;    Perception - 2&quot;</span> )</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>                                        } );</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad03d97c03c94cd08796f4787856af713">trait_id</a>( <span class="stringliteral">&quot;TROGLO3&quot;</span> ) ) &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_in_sunlight( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>        effect_name_and_text.push_back( { <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;In Sunlight&quot;</span> ),</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>                                          <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The sunlight irritates you terribly.\n&quot;</span></div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>                                             <span class="stringliteral">&quot;Strength - 4;    Dexterity - 4;    Intelligence - 4;    Perception - 4&quot;</span> )</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>                                        } );</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>    }</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span> </div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classCharacter.html#a86ad83bf21de1c90b69ad5188d03e59c">addictions</a> ) {</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>        <span class="keywordflow">if</span>( elem.sated &lt; 0_turns &amp;&amp; elem.intensity &gt;= <a class="code hl_variable" href="addiction_8h.html#abd844ab165fa367b660aad16c47150ee">MIN_ADDICTION_LEVEL</a> ) {</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>            effect_name_and_text.push_back( { <a class="code hl_function" href="addiction_8cpp.html#ae08dff863051646af07037b165bc4a95">addiction_name</a>( elem ), <a class="code hl_function" href="addiction_8cpp.html#acdc26eccc3c0914944b71e0cefc496fd">addiction_text</a>( elem ) } );</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>        }</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>    }</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span> </div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> effect_win_size_y = 1 + <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>( effect_name_and_text.size() );</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span> </div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>    std::vector&lt;trait_id&gt; traitslist = <a class="code hl_function" href="classCharacter.html#a97c5948a2648dc5fd3e2defd5885cdb0">get_mutations</a>( <span class="keyword">false</span> );</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>    std::sort( traitslist.begin(), traitslist.end(), <a class="code hl_function" href="mutation_8h.html#a8f58cbcd689ed6000773f2d78333fe82">trait_display_sort</a> );</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> trait_win_size_y_max = 1 + <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>( traitslist.size() );</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span> </div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>    std::vector&lt;bionic&gt; bionicslist = *<a class="code hl_variable" href="classCharacter.html#a388bca3ef975bd265c67df45bb280bee">my_bionics</a>;</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bionics_win_size_y_max = 2 + bionicslist.size();</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span> </div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>    <span class="keyword">const</span> std::vector&lt;const Skill *&gt; player_skill = <a class="code hl_function" href="classSkill.html#a0fed06ab4d780c837a16691edfbbd6d7">Skill::get_skills_sorted_by</a>(</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>    [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classSkill.html">Skill</a> &amp; <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>, <span class="keyword">const</span> <a class="code hl_class" href="classSkill.html">Skill</a> &amp; <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> ) {</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>        <a class="code hl_class" href="classstring__id.html">skill_displayType_id</a> type_a = <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>.display_category();</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>        <a class="code hl_class" href="classstring__id.html">skill_displayType_id</a> type_b = <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>.display_category();</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span> </div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="translations_8h.html#aa323a1324b9ad3f0c7dc65690aed09c6">localized_compare</a>( std::make_pair( type_a, <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>.name() ),</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>                                  std::make_pair( type_b, <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>.name() ) );</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>    } );</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span> </div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>    std::vector&lt;HeaderSkill&gt; skillslist;</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>    <a class="code hl_class" href="classstring__id.html">skill_displayType_id</a> prev_type = <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">skill_displayType_id::NULL_ID</a>();</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;s : player_skill ) {</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>        <span class="keywordflow">if</span>( s-&gt;display_category() != prev_type ) {</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>            prev_type = s-&gt;display_category();</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>            skillslist.emplace_back( s, <span class="keyword">true</span> );</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>        }</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>        skillslist.emplace_back( s, <span class="keyword">false</span> );</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>    }</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> skill_win_size_y_max = 1 + skillslist.size();</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> info_win_size_y = 6;</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span> </div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> grid_width = 26;</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> grid_height = 9;</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span> </div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> infooffsetytop = grid_height + 2;</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> infooffsetybottom = infooffsetytop + 1 + info_win_size_y;</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span> </div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>    <span class="keyword">const</span> <span class="keyword">auto</span> calculate_trait_and_bionic_height = [&amp;]() {</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxy = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> );</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> trait_win_size_y = trait_win_size_y_max;</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bionics_win_size_y = bionics_win_size_y_max;</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>        <span class="keywordflow">if</span>( ( bionics_win_size_y_max + 1 + trait_win_size_y_max + infooffsetybottom ) &gt; maxy ) {</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>            <span class="comment">// maximum space for either window if they&#39;re both the same size</span></div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>            <span class="keywordtype">unsigned</span> max_shared_y = ( maxy - infooffsetybottom - 1 ) / 2;</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>            <span class="keywordflow">if</span>( std::min( bionics_win_size_y_max, trait_win_size_y_max ) &gt; max_shared_y ) {</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>                <span class="comment">// both are larger than the shared size</span></div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>                bionics_win_size_y = max_shared_y;</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>                trait_win_size_y = maxy - infooffsetybottom - 1 - bionics_win_size_y;</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( trait_win_size_y_max &lt;= max_shared_y ) {</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>                <span class="comment">// trait window is less than the shared size, so give space to bionics</span></div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>                bionics_win_size_y = maxy - infooffsetybottom - 1 - trait_win_size_y_max;</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>                <span class="comment">// bionics window is less than the shared size</span></div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>                trait_win_size_y = maxy - infooffsetybottom - 1 - bionics_win_size_y;</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>            }</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>        }</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>        <span class="keywordflow">return</span> std::make_pair( trait_win_size_y, bionics_win_size_y );</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>    };</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span> </div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>    <span class="comment">// Print name and header</span></div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>    <span class="comment">// Post-humanity trumps your pre-Cataclysm life</span></div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>    <span class="comment">// Unless you have a custom profession.</span></div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>    std::string race;</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a79882594452430db545255b936e220a7">custom_profession</a>.empty() ) {</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a3ecd6260cdd64e5e520d834f03e449bd">crossed_threshold</a>() ) {</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> &amp;mut : <a class="code hl_function" href="classCharacter.html#a97c5948a2648dc5fd3e2defd5885cdb0">get_mutations</a>() ) {</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structmutation__branch.html">mutation_branch</a> &amp;mdata = mut.obj();</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>                <span class="keywordflow">if</span>( mdata.<a class="code hl_variable" href="structmutation__branch.html#a1a26deee861c3d1f0f55fbf688ec58d6">threshold</a> ) {</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>                    race = mdata.<a class="code hl_function" href="structmutation__branch.html#a13305ba1184f2074399b71e279f223c1">name</a>();</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>                }</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>            }</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>        }</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>    }</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span> </div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>    <a class="code hl_class" href="classinput__context.html">input_context</a> ctxt( <span class="stringliteral">&quot;PLAYER_INFO&quot;</span> );</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>    ctxt.register_updown();</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>    ctxt.register_action( <span class="stringliteral">&quot;NEXT_TAB&quot;</span>, <a class="code hl_function" href="translations_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;Cycle to next category&quot;</span> ) );</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>    ctxt.register_action( <span class="stringliteral">&quot;PREV_TAB&quot;</span>, <a class="code hl_function" href="translations_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;Cycle to previous category&quot;</span> ) );</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>    ctxt.register_action( <span class="stringliteral">&quot;QUIT&quot;</span> );</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>    ctxt.register_action( <span class="stringliteral">&quot;CONFIRM&quot;</span>, <a class="code hl_function" href="translations_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;Toggle skill training / Upgrade stat&quot;</span> ) );</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>    ctxt.register_action( <span class="stringliteral">&quot;CHANGE_PROFESSION_NAME&quot;</span>, <a class="code hl_function" href="translations_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;Change profession name&quot;</span> ) );</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>    ctxt.register_action( <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> );</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span> </div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>    std::map&lt;std::string, int&gt; speed_effects;</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : *<a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> ) {</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>        <span class="keywordflow">for</span>( std::pair&lt;const bodypart_str_id, effect&gt; &amp;_effect_it : elem.second ) {</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>            <a class="code hl_class" href="classeffect.html">effect</a> &amp;it = _effect_it.second;</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>            <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classeffect.html#ac81ceea6d6ac76d8f11449e5da401021">is_removed</a>() ) {</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>            }</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>            <span class="keywordtype">bool</span> reduced = <a class="code hl_function" href="classCreature.html#af6a1afd1c3ed70f80b5b902125569408">resists_effect</a>( it );</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>            <span class="keywordtype">int</span> move_adjust = it.<a class="code hl_function" href="classeffect.html#a7dfb7bc5b13d6720a94d3f76fbc63fda">get_mod</a>( <span class="stringliteral">&quot;SPEED&quot;</span>, reduced );</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>            <span class="keywordflow">if</span>( move_adjust != 0 ) {</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>                <span class="keyword">const</span> std::string dis_text = it.<a class="code hl_function" href="classeffect.html#ab69552a746af21afeefb24a29b9b3166">get_speed_name</a>();</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>                speed_effects[dis_text] += move_adjust;</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>            }</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>        }</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>    }</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span> </div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>    <a class="code hl_class" href="classborder__helper.html">border_helper</a> borders;</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span> </div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>    <a class="code hl_enumeration" href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a2f6040cde5f366f2f92e1fd995b289c1">player_display_tab</a> curtab = player_display_tab::stats;</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> = 0;</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span> </div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_tip;</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>    <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> ui_tip;</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>    ui_tip.<a class="code hl_function" href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">on_screen_resize</a>( [&amp;]( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ui_tip ) {</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>        w_tip = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( 1, <a class="code hl_variable" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> + 1, <a class="code hl_variable" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a> );</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>        ui_tip.<a class="code hl_function" href="classui__adaptor.html#aae52e80c928fa76affccc3b60d415982">position_from_window</a>( w_tip );</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>    } );</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>    ui_tip.<a class="code hl_function" href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">mark_resize</a>();</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>    ui_tip.<a class="code hl_function" href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">on_redraw</a>( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>        <a class="code hl_function" href="player__display_8cpp.html#a9bf3eec7f27ab2540af6e8aa9bd7bdfe">draw_tip</a>( w_tip, *<span class="keyword">this</span>, race, ctxt );</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>    } );</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span> </div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_stats;</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_stats_border;</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>    <a class="code hl_class" href="classborder__helper_1_1border__info.html">border_helper::border_info</a> &amp;border_stats = borders.<a class="code hl_function" href="classborder__helper.html#a050e2fbb51257ea197c9af20f91a31be">add_border</a>();</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>    <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> ui_stats;</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>    ui_stats.<a class="code hl_function" href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">on_screen_resize</a>( [&amp;]( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ui_stats ) {</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>        <span class="comment">// NOLINTNEXTLINE(cata-use-named-point-constants)</span></div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>        w_stats = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( grid_height, grid_width, <a class="code hl_struct" href="structpoint.html">point</a>( 0, 1 ) );</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>        <span class="comment">// Every grid draws the bottom and right borders. The top and left borders</span></div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>        <span class="comment">// are either not displayed or drawn by another grid.</span></div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>        <span class="comment">// NOLINTNEXTLINE(cata-use-named-point-constants)</span></div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>        w_stats_border = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( grid_height + 1, grid_width + 1, <a class="code hl_struct" href="structpoint.html">point</a>( 0, 1 ) );</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>        <span class="comment">// But we need to specify the full border for border_helper to calculate the</span></div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>        <span class="comment">// border connection.</span></div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>        <span class="comment">// NOLINTNEXTLINE(cata-use-named-point-constants)</span></div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>        border_stats.<a class="code hl_function" href="classborder__helper_1_1border__info.html#aa90a68fff979de1b55c79407a355eb45">set</a>( <a class="code hl_struct" href="structpoint.html">point</a>( -1, 0 ), <a class="code hl_struct" href="structpoint.html">point</a>( grid_width + 2, grid_height + 2 ) );</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>        ui_stats.<a class="code hl_function" href="classui__adaptor.html#aae52e80c928fa76affccc3b60d415982">position_from_window</a>( w_stats_border );</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>    } );</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>    ui_stats.<a class="code hl_function" href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">mark_resize</a>();</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>    ui_stats.<a class="code hl_function" href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">on_redraw</a>( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>        borders.<a class="code hl_function" href="classborder__helper.html#a581708eac3cfbca9739c941f744e301d">draw_border</a>( w_stats_border );</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_stats_border );</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>        <a class="code hl_function" href="player__display_8cpp.html#af632b4c79ae3ffe8a4757f962ab63313">draw_stats_tab</a>( w_stats, *<span class="keyword">this</span>, <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a>, curtab );</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>    } );</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span> </div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> trait_win_size_y = 0;</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_traits;</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_traits_border;</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>    <a class="code hl_class" href="classborder__helper_1_1border__info.html">border_helper::border_info</a> &amp;border_traits = borders.<a class="code hl_function" href="classborder__helper.html#a050e2fbb51257ea197c9af20f91a31be">add_border</a>();</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>    <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> ui_traits;</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>    ui_traits.<a class="code hl_function" href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">on_screen_resize</a>( [&amp;]( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ui_traits ) {</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>        trait_win_size_y = calculate_trait_and_bionic_height().first;</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>        w_traits = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( trait_win_size_y, grid_width,</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>                                       <a class="code hl_struct" href="structpoint.html">point</a>( grid_width + 1, infooffsetybottom ) );</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>        w_traits_border = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( trait_win_size_y + 1, grid_width + 1,</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>                                              <a class="code hl_struct" href="structpoint.html">point</a>( grid_width + 1, infooffsetybottom ) );</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>        border_traits.<a class="code hl_function" href="classborder__helper_1_1border__info.html#aa90a68fff979de1b55c79407a355eb45">set</a>( <a class="code hl_struct" href="structpoint.html">point</a>( grid_width, infooffsetybottom - 1 ),</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>                           <a class="code hl_struct" href="structpoint.html">point</a>( grid_width + 2, trait_win_size_y + 2 ) );</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>        ui_traits.<a class="code hl_function" href="classui__adaptor.html#aae52e80c928fa76affccc3b60d415982">position_from_window</a>( w_traits_border );</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>    } );</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>    ui_traits.<a class="code hl_function" href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">mark_resize</a>();</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>    ui_traits.<a class="code hl_function" href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">on_redraw</a>( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>        borders.<a class="code hl_function" href="classborder__helper.html#a581708eac3cfbca9739c941f744e301d">draw_border</a>( w_traits_border );</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_traits_border );</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>        <a class="code hl_function" href="player__display_8cpp.html#a904a27c471ac696c570036015e75d909">draw_traits_tab</a>( w_traits, <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a>, curtab, traitslist, trait_win_size_y );</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>    } );</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span> </div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bionics_win_size_y = 0;</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_bionics;</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_bionics_border;</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>    <a class="code hl_class" href="classborder__helper_1_1border__info.html">border_helper::border_info</a> &amp;border_bionics = borders.<a class="code hl_function" href="classborder__helper.html#a050e2fbb51257ea197c9af20f91a31be">add_border</a>();</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>    <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> ui_bionics;</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>    ui_bionics.<a class="code hl_function" href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">on_screen_resize</a>( [&amp;]( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ui_bionics ) {</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>        bionics_win_size_y = calculate_trait_and_bionic_height().second;</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>        w_bionics = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( bionics_win_size_y, grid_width,</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>                                        <a class="code hl_struct" href="structpoint.html">point</a>( grid_width + 1,</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>                                               infooffsetybottom + trait_win_size_y + 1 ) );</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>        w_bionics_border = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( bionics_win_size_y + 1, grid_width + 1,</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>                                               <a class="code hl_struct" href="structpoint.html">point</a>( grid_width + 1,</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>                                                       infooffsetybottom + trait_win_size_y + 1 ) );</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>        border_bionics.<a class="code hl_function" href="classborder__helper_1_1border__info.html#aa90a68fff979de1b55c79407a355eb45">set</a>( <a class="code hl_struct" href="structpoint.html">point</a>( grid_width, infooffsetybottom + trait_win_size_y ),</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>                            <a class="code hl_struct" href="structpoint.html">point</a>( grid_width + 2, bionics_win_size_y + 2 ) );</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>        ui_bionics.<a class="code hl_function" href="classui__adaptor.html#aae52e80c928fa76affccc3b60d415982">position_from_window</a>( w_bionics_border );</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>    } );</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>    ui_bionics.<a class="code hl_function" href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">mark_resize</a>();</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>    ui_bionics.<a class="code hl_function" href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">on_redraw</a>( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>        borders.<a class="code hl_function" href="classborder__helper.html#a581708eac3cfbca9739c941f744e301d">draw_border</a>( w_bionics_border );</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_bionics_border );</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>        <a class="code hl_function" href="player__display_8cpp.html#a66933cca7d93be0f2a125094aef81863">draw_bionics_tab</a>( w_bionics, *<span class="keyword">this</span>, <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a>, curtab, bionicslist, bionics_win_size_y );</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>    } );</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span> </div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_encumb;</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_encumb_border;</div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>    <a class="code hl_class" href="classborder__helper_1_1border__info.html">border_helper::border_info</a> &amp;border_encumb = borders.<a class="code hl_function" href="classborder__helper.html#a050e2fbb51257ea197c9af20f91a31be">add_border</a>();</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>    <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> ui_encumb;</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>    ui_encumb.<a class="code hl_function" href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">on_screen_resize</a>( [&amp;]( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ui_encumb ) {</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>        w_encumb = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( grid_height, grid_width, <a class="code hl_struct" href="structpoint.html">point</a>( grid_width + 1, 1 ) );</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>        w_encumb_border = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( grid_height + 1, grid_width + 1, <a class="code hl_struct" href="structpoint.html">point</a>( grid_width + 1, 1 ) );</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>        border_encumb.<a class="code hl_function" href="classborder__helper_1_1border__info.html#aa90a68fff979de1b55c79407a355eb45">set</a>( <a class="code hl_struct" href="structpoint.html">point</a>( grid_width, 0 ), <a class="code hl_struct" href="structpoint.html">point</a>( grid_width + 2, grid_height + 2 ) );</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>        ui_encumb.<a class="code hl_function" href="classui__adaptor.html#aae52e80c928fa76affccc3b60d415982">position_from_window</a>( w_encumb_border );</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>    } );</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>    ui_encumb.<a class="code hl_function" href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">mark_resize</a>();</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>    ui_encumb.<a class="code hl_function" href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">on_redraw</a>( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>        borders.<a class="code hl_function" href="classborder__helper.html#a581708eac3cfbca9739c941f744e301d">draw_border</a>( w_encumb_border );</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_encumb_border );</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>        <a class="code hl_function" href="player__display_8cpp.html#ac99e9c2fbb2199b769c484643628e43b">draw_encumbrance_tab</a>( w_encumb, *<span class="keyword">this</span>, <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a>, curtab );</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>    } );</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span> </div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_effects;</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_effects_border;</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>    <a class="code hl_class" href="classborder__helper_1_1border__info.html">border_helper::border_info</a> &amp;border_effects = borders.<a class="code hl_function" href="classborder__helper.html#a050e2fbb51257ea197c9af20f91a31be">add_border</a>();</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>    <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> ui_effects;</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>    ui_effects.<a class="code hl_function" href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">on_screen_resize</a>( [&amp;]( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ui_effects ) {</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>        w_effects = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( effect_win_size_y, grid_width,</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>                                        <a class="code hl_struct" href="structpoint.html">point</a>( grid_width * 2 + 2, infooffsetybottom ) );</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>        w_effects_border = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( effect_win_size_y + 1, grid_width + 1,</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>                                               <a class="code hl_struct" href="structpoint.html">point</a>( grid_width * 2 + 2, infooffsetybottom ) );</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>        border_effects.<a class="code hl_function" href="classborder__helper_1_1border__info.html#aa90a68fff979de1b55c79407a355eb45">set</a>( <a class="code hl_struct" href="structpoint.html">point</a>( grid_width * 2 + 1, infooffsetybottom - 1 ),</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>                            <a class="code hl_struct" href="structpoint.html">point</a>( grid_width + 2, effect_win_size_y + 2 ) );</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>        ui_effects.<a class="code hl_function" href="classui__adaptor.html#aae52e80c928fa76affccc3b60d415982">position_from_window</a>( w_effects_border );</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>    } );</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>    ui_effects.<a class="code hl_function" href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">mark_resize</a>();</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>    ui_effects.<a class="code hl_function" href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">on_redraw</a>( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>        borders.<a class="code hl_function" href="classborder__helper.html#a581708eac3cfbca9739c941f744e301d">draw_border</a>( w_effects_border );</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_effects_border );</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>        <a class="code hl_function" href="player__display_8cpp.html#ae0f308ab02a9d492ed60f14943f773f3">draw_effects_tab</a>( w_effects, <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a>, curtab, effect_name_and_text, effect_win_size_y );</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>    } );</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span> </div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_speed;</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_speed_border;</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>    <a class="code hl_class" href="classborder__helper_1_1border__info.html">border_helper::border_info</a> &amp;border_speed = borders.<a class="code hl_function" href="classborder__helper.html#a050e2fbb51257ea197c9af20f91a31be">add_border</a>();</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>    <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> ui_speed;</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>    ui_speed.<a class="code hl_function" href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">on_screen_resize</a>( [&amp;]( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ui_speed ) {</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>        w_speed = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( grid_height, grid_width, <a class="code hl_struct" href="structpoint.html">point</a>( grid_width * 2 + 2, 1 ) );</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>        w_speed_border = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( grid_height + 1, grid_width + 1,</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>                                             <a class="code hl_struct" href="structpoint.html">point</a>( grid_width * 2 + 2, 1 ) );</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>        border_speed.<a class="code hl_function" href="classborder__helper_1_1border__info.html#aa90a68fff979de1b55c79407a355eb45">set</a>( <a class="code hl_struct" href="structpoint.html">point</a>( grid_width * 2 + 1, 0 ),</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>                          <a class="code hl_struct" href="structpoint.html">point</a>( grid_width + 2, grid_height + 2 ) );</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>        ui_speed.<a class="code hl_function" href="classui__adaptor.html#aae52e80c928fa76affccc3b60d415982">position_from_window</a>( w_speed_border );</div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>    } );</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>    ui_speed.<a class="code hl_function" href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">mark_resize</a>();</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>    ui_speed.<a class="code hl_function" href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">on_redraw</a>( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>        borders.<a class="code hl_function" href="classborder__helper.html#a581708eac3cfbca9739c941f744e301d">draw_border</a>( w_speed_border );</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_speed_border );</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>        <a class="code hl_function" href="player__display_8cpp.html#a958b8c721ac1ef33d51a4abb6ee054ea">draw_speed_tab</a>( w_speed, *<span class="keyword">this</span>, speed_effects );</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>    } );</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span> </div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> skill_win_size_y = 0;</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_skills;</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_skills_border;</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>    <a class="code hl_class" href="classborder__helper_1_1border__info.html">border_helper::border_info</a> &amp;border_skills = borders.<a class="code hl_function" href="classborder__helper.html#a050e2fbb51257ea197c9af20f91a31be">add_border</a>();</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>    <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> ui_skills;</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>    ui_skills.<a class="code hl_function" href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">on_screen_resize</a>( [&amp;]( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ui_skills ) {</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxy = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> );</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>        skill_win_size_y = skill_win_size_y_max;</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>        <span class="keywordflow">if</span>( skill_win_size_y + infooffsetybottom &gt; maxy ) {</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>            skill_win_size_y = maxy - infooffsetybottom;</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>        }</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>        w_skills = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( skill_win_size_y, grid_width,</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>                                       <a class="code hl_struct" href="structpoint.html">point</a>( 0, infooffsetybottom ) );</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>        w_skills_border = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( skill_win_size_y + 1, grid_width + 1,</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>                                              <a class="code hl_struct" href="structpoint.html">point</a>( 0, infooffsetybottom ) );</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>        border_skills.<a class="code hl_function" href="classborder__helper_1_1border__info.html#aa90a68fff979de1b55c79407a355eb45">set</a>( <a class="code hl_struct" href="structpoint.html">point</a>( -1, infooffsetybottom - 1 ),</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>                           <a class="code hl_struct" href="structpoint.html">point</a>( grid_width + 2, skill_win_size_y + 2 ) );</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>        ui_skills.<a class="code hl_function" href="classui__adaptor.html#aae52e80c928fa76affccc3b60d415982">position_from_window</a>( w_skills_border );</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>    } );</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>    ui_skills.<a class="code hl_function" href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">mark_resize</a>();</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>    ui_skills.<a class="code hl_function" href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">on_redraw</a>( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>        borders.<a class="code hl_function" href="classborder__helper.html#a581708eac3cfbca9739c941f744e301d">draw_border</a>( w_skills_border );</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_skills_border );</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>        <a class="code hl_function" href="player__display_8cpp.html#ab2d081e72473dcccee10feaf0abe6e9a">draw_skills_tab</a>( w_skills, *<span class="keyword">this</span>, <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a>, curtab, skillslist, skill_win_size_y );</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>    } );</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span> </div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_info;</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_info_border;</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>    <a class="code hl_class" href="classborder__helper_1_1border__info.html">border_helper::border_info</a> &amp;border_info = borders.<a class="code hl_function" href="classborder__helper.html#a050e2fbb51257ea197c9af20f91a31be">add_border</a>();</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>    <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> ui_info;</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>    ui_info.<a class="code hl_function" href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">on_screen_resize</a>( [&amp;]( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ui_info ) {</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>        w_info = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( info_win_size_y, <a class="code hl_variable" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a>,</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>                                     <a class="code hl_struct" href="structpoint.html">point</a>( 0, infooffsetytop ) );</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>        w_info_border = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( info_win_size_y + 1, <a class="code hl_variable" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> + 1,</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>                                            <a class="code hl_struct" href="structpoint.html">point</a>( 0, infooffsetytop ) );</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>        border_info.<a class="code hl_function" href="classborder__helper_1_1border__info.html#aa90a68fff979de1b55c79407a355eb45">set</a>( <a class="code hl_struct" href="structpoint.html">point</a>( -1, infooffsetytop - 1 ),</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>                         <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_variable" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> + 2, info_win_size_y + 2 ) );</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>        ui_info.<a class="code hl_function" href="classui__adaptor.html#aae52e80c928fa76affccc3b60d415982">position_from_window</a>( w_info_border );</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>    } );</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>    ui_info.<a class="code hl_function" href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">mark_resize</a>();</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>    ui_info.<a class="code hl_function" href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">on_redraw</a>( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>        borders.<a class="code hl_function" href="classborder__helper.html#a581708eac3cfbca9739c941f744e301d">draw_border</a>( w_info_border );</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_info_border );</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>        <a class="code hl_function" href="player__display_8cpp.html#a1247f6a7d49a78a3efac43e13d4f1070">draw_info_window</a>( w_info, *<span class="keyword">this</span>, <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a>, curtab,</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>                          traitslist, bionicslist, effect_name_and_text, skillslist );</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>    } );</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span> </div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>    <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5aeac7878d891005c72a71703f35dbb2be15">done</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span> </div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>        <a class="code hl_function" href="namespaceui__manager.html#a5496220e43b7d5f1b3cbbebe6cf1f83d">ui_manager::redraw_invalidated</a>();</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span> </div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>        <a class="code hl_enumvalue" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5aeac7878d891005c72a71703f35dbb2be15">done</a> = <a class="code hl_function" href="player__display_8cpp.html#ab5fc3d544fdb18b4a01a74e87d644f83">handle_player_display_action</a>( *<span class="keyword">this</span>, <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a>, curtab, ctxt, ui_tip, ui_info,</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>                                             ui_stats, ui_encumb, ui_traits, ui_bionics, ui_effects, ui_skills,</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>                                             traitslist, bionicslist, effect_name_and_text, skillslist );</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>    } <span class="keywordflow">while</span>( !<a class="code hl_enumvalue" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5aeac7878d891005c72a71703f35dbb2be15">done</a> );</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>}</div>
<div class="ttc" id="aaddiction_8cpp_html_acdc26eccc3c0914944b71e0cefc496fd"><div class="ttname"><a href="addiction_8cpp.html#acdc26eccc3c0914944b71e0cefc496fd">addiction_text</a></div><div class="ttdeci">std::string addiction_text(const addiction &amp;cur)</div><div class="ttdef"><b>Definition:</b> <a href="addiction_8cpp_source.html#l00361">addiction.cpp:361</a></div></div>
<div class="ttc" id="aaddiction_8cpp_html_ae08dff863051646af07037b165bc4a95"><div class="ttname"><a href="addiction_8cpp.html#ae08dff863051646af07037b165bc4a95">addiction_name</a></div><div class="ttdeci">std::string addiction_name(const addiction &amp;cur)</div><div class="ttdef"><b>Definition:</b> <a href="addiction_8cpp_source.html#l00280">addiction.cpp:280</a></div></div>
<div class="ttc" id="aaddiction_8h_html_abd844ab165fa367b660aad16c47150ee"><div class="ttname"><a href="addiction_8h.html#abd844ab165fa367b660aad16c47150ee">MIN_ADDICTION_LEVEL</a></div><div class="ttdeci">constexpr int MIN_ADDICTION_LEVEL</div><div class="ttdef"><b>Definition:</b> <a href="addiction_8h_source.html#l00013">addiction.h:13</a></div></div>
<div class="ttc" id="aclassCharacter_html_a3ecd6260cdd64e5e520d834f03e449bd"><div class="ttname"><a href="classCharacter.html#a3ecd6260cdd64e5e520d834f03e449bd">Character::crossed_threshold</a></div><div class="ttdeci">bool crossed_threshold() const</div><div class="ttdoc">Returns true if the player has crossed a mutation threshold Player can only cross one mutation thresh...</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08694">character.cpp:8694</a></div></div>
<div class="ttc" id="aclassCharacter_html_a79882594452430db545255b936e220a7"><div class="ttname"><a href="classCharacter.html#a79882594452430db545255b936e220a7">Character::custom_profession</a></div><div class="ttdeci">std::string custom_profession</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00620">character.h:620</a></div></div>
<div class="ttc" id="aclassCharacter_html_a86ad83bf21de1c90b69ad5188d03e59c"><div class="ttname"><a href="classCharacter.html#a86ad83bf21de1c90b69ad5188d03e59c">Character::addictions</a></div><div class="ttdeci">std::vector&lt; addiction &gt; addictions</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01610">character.h:1610</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab6ccd4032695618731d330cf103c1a15"><div class="ttname"><a href="classCharacter.html#ab6ccd4032695618731d330cf103c1a15">Character::bmi</a></div><div class="ttdeci">float bmi() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06840">character.cpp:6840</a></div></div>
<div class="ttc" id="aclassCreature_html_af6a1afd1c3ed70f80b5b902125569408"><div class="ttname"><a href="classCreature.html#af6a1afd1c3ed70f80b5b902125569408">Creature::resists_effect</a></div><div class="ttdeci">bool resists_effect(const effect &amp;e)</div><div class="ttdoc">Returns true if the creature resists an effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01304">creature.cpp:1304</a></div></div>
<div class="ttc" id="aclassSkill_html"><div class="ttname"><a href="classSkill.html">Skill</a></div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00032">skill.h:33</a></div></div>
<div class="ttc" id="aclassSkill_html_a0fed06ab4d780c837a16691edfbbd6d7"><div class="ttname"><a href="classSkill.html#a0fed06ab4d780c837a16691edfbbd6d7">Skill::get_skills_sorted_by</a></div><div class="ttdeci">static std::vector&lt; const Skill * &gt; get_skills_sorted_by(std::function&lt; bool(const Skill &amp;, const Skill &amp;)&gt; pred)</div><div class="ttdef"><b>Definition:</b> <a href="skill_8cpp_source.html#l00067">skill.cpp:67</a></div></div>
<div class="ttc" id="aclassborder__helper_1_1border__info_html"><div class="ttname"><a href="classborder__helper_1_1border__info.html">border_helper::border_info</a></div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00404">output.h:405</a></div></div>
<div class="ttc" id="aclassborder__helper_1_1border__info_html_aa90a68fff979de1b55c79407a355eb45"><div class="ttname"><a href="classborder__helper_1_1border__info.html#aa90a68fff979de1b55c79407a355eb45">border_helper::border_info::set</a></div><div class="ttdeci">void set(const point &amp;pos, const point &amp;size)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00607">output.cpp:607</a></div></div>
<div class="ttc" id="aclassborder__helper_html"><div class="ttname"><a href="classborder__helper.html">border_helper</a></div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00401">output.h:402</a></div></div>
<div class="ttc" id="aclassborder__helper_html_a050e2fbb51257ea197c9af20f91a31be"><div class="ttname"><a href="classborder__helper.html#a050e2fbb51257ea197c9af20f91a31be">border_helper::add_border</a></div><div class="ttdeci">border_info &amp; add_border()</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00614">output.cpp:614</a></div></div>
<div class="ttc" id="aclassborder__helper_html_a581708eac3cfbca9739c941f744e301d"><div class="ttname"><a href="classborder__helper.html#a581708eac3cfbca9739c941f744e301d">border_helper::draw_border</a></div><div class="ttdeci">void draw_border(const catacurses::window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00620">output.cpp:620</a></div></div>
<div class="ttc" id="aclasscatacurses_1_1window_html"><div class="ttname"><a href="classcatacurses_1_1window.html">catacurses::window</a></div><div class="ttdoc">A wrapper over a pointer to a curses window.</div><div class="ttdef"><b>Definition:</b> <a href="cursesdef_8h_source.html#l00054">cursesdef.h:55</a></div></div>
<div class="ttc" id="aclasseffect_html_a7dfb7bc5b13d6720a94d3f76fbc63fda"><div class="ttname"><a href="classeffect.html#a7dfb7bc5b13d6720a94d3f76fbc63fda">effect::get_mod</a></div><div class="ttdeci">int get_mod(std::string arg, bool reduced=false) const</div><div class="ttdoc">Returns the matching modifier type from an effect, used for getting actual effect effects.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00910">effect.cpp:910</a></div></div>
<div class="ttc" id="aclasseffect_html_ab69552a746af21afeefb24a29b9b3166"><div class="ttname"><a href="classeffect.html#ab69552a746af21afeefb24a29b9b3166">effect::get_speed_name</a></div><div class="ttdeci">std::string get_speed_name() const</div><div class="ttdoc">Returns the value used for display on the speed modifier window in the player status menu.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01220">effect.cpp:1220</a></div></div>
<div class="ttc" id="aclasseffect_html_ac81ceea6d6ac76d8f11449e5da401021"><div class="ttname"><a href="classeffect.html#ac81ceea6d6ac76d8f11449e5da401021">effect::is_removed</a></div><div class="ttdeci">bool is_removed() const</div><div class="ttdoc">Returns if the effect is disabled and set up for removal.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00246">effect.h:246</a></div></div>
<div class="ttc" id="aclassinput__context_html"><div class="ttname"><a href="classinput__context.html">input_context</a></div><div class="ttdoc">Represents a context in which a set of actions can be performed.</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00381">input.h:382</a></div></div>
<div class="ttc" id="aclassplayer_html_ac7f549cbcbbca36c3a0fc9f75865b3a4"><div class="ttname"><a href="classplayer.html#ac7f549cbcbbca36c3a0fc9f75865b3a4">player::get_pain_penalty</a></div><div class="ttdeci">stat_mod get_pain_penalty() const</div><div class="ttdoc">Returns the effect of pain on stats.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00221">player.cpp:221</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae29dd8ed38d2b5eb443a65ad46f10b2d"><div class="ttname"><a href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; SkillDisplayType &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; SkillDisplayType &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
<div class="ttc" id="aclassui__adaptor_html"><div class="ttname"><a href="classui__adaptor.html">ui_adaptor</a></div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00015">ui_manager.h:16</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_a37e0f0811d9460640b86442a1facc87d"><div class="ttname"><a href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">ui_adaptor::on_redraw</a></div><div class="ttdeci">void on_redraw(const redraw_callback_t &amp;fun)</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00076">ui_manager.cpp:76</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_aae52e80c928fa76affccc3b60d415982"><div class="ttname"><a href="classui__adaptor.html#aae52e80c928fa76affccc3b60d415982">ui_adaptor::position_from_window</a></div><div class="ttdeci">void position_from_window(const catacurses::window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00041">ui_manager.cpp:41</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_abf55c7afc0d78d45a35788575f4c3cd5"><div class="ttname"><a href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">ui_adaptor::on_screen_resize</a></div><div class="ttdeci">void on_screen_resize(const screen_resize_callback_t &amp;fun)</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00081">ui_manager.cpp:81</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_aca44063b3d85e97d97e2701ef3656433"><div class="ttname"><a href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">ui_adaptor::mark_resize</a></div><div class="ttdeci">void mark_resize() const</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00086">ui_manager.cpp:86</a></div></div>
<div class="ttc" id="agroup__Weather_html_gaa7b33196bf530c8b26654a0adf355165"><div class="ttname"><a href="group__Weather.html#gaa7b33196bf530c8b26654a0adf355165">get_weather</a></div><div class="ttdeci">weather_manager &amp; get_weather()</div><div class="ttdef"><b>Definition:</b> <a href="weather_8cpp_source.html#l00064">weather.cpp:64</a></div></div>
<div class="ttc" id="amapgen_8cpp_html_a90f1f53dc044e93e7f7f9314cef1bd45"><div class="ttname"><a href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a></div><div class="ttdeci">void line(map *m, const ter_id &amp;type, const point &amp;p1, const point &amp;p2)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l06454">mapgen.cpp:6454</a></div></div>
<div class="ttc" id="amutation_8h_html_a8f58cbcd689ed6000773f2d78333fe82"><div class="ttname"><a href="mutation_8h.html#a8f58cbcd689ed6000773f2d78333fe82">trait_display_sort</a></div><div class="ttdeci">bool trait_display_sort(const trait_id &amp;a, const trait_id &amp;b) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="mutation__data_8cpp_source.html#l00678">mutation_data.cpp:678</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02player__display_8cpp_03_html_a2f6040cde5f366f2f92e1fd995b289c1"><div class="ttname"><a href="namespaceanonymous__namespace_02player__display_8cpp_03.html#a2f6040cde5f366f2f92e1fd995b289c1">anonymous_namespace{player_display.cpp}::player_display_tab</a></div><div class="ttdeci">player_display_tab</div><div class="ttdef"><b>Definition:</b> <a href="player__display_8cpp_source.html#l00288">player_display.cpp:288</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a576fd20080b8f49e27acf97af45b374b"><div class="ttname"><a href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a></div><div class="ttdeci">window newwin(int nlines, int ncols, const point &amp;begin)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00034">ncurses_def.cpp:34</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_aa9823d249c21fa50daf277957fabb175"><div class="ttname"><a href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">catacurses::wnoutrefresh</a></div><div class="ttdeci">void wnoutrefresh(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00043">ncurses_def.cpp:43</a></div></div>
<div class="ttc" id="anamespacecharacter__weight__category_html_aa0f298c7e2726e5eddd1879b7288b748"><div class="ttname"><a href="namespacecharacter__weight__category.html#aa0f298c7e2726e5eddd1879b7288b748">character_weight_category::underweight</a></div><div class="ttdeci">constexpr float underweight</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00177">game_constants.h:177</a></div></div>
<div class="ttc" id="anamespacecharacter__weight__category_html_ae41f48d3a0de12bbab86abc5d741f978"><div class="ttname"><a href="namespacecharacter__weight__category.html#ae41f48d3a0de12bbab86abc5d741f978">character_weight_category::emaciated</a></div><div class="ttdeci">constexpr float emaciated</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00176">game_constants.h:176</a></div></div>
<div class="ttc" id="anamespacedetail_1_1digits_html_aad69d2373aa047bdd9e81494bf3da5aeac7878d891005c72a71703f35dbb2be15"><div class="ttname"><a href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5aeac7878d891005c72a71703f35dbb2be15">detail::digits::done</a></div><div class="ttdeci">@ done</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format-inl_8h_source.html#l01628">fmtlib_format-inl.h:1628</a></div></div>
<div class="ttc" id="anamespaceui__manager_html_a5496220e43b7d5f1b3cbbebe6cf1f83d"><div class="ttname"><a href="namespaceui__manager.html#a5496220e43b7d5f1b3cbbebe6cf1f83d">ui_manager::redraw_invalidated</a></div><div class="ttdeci">void redraw_invalidated()</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00290">ui_manager.cpp:290</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a567a63be8cb70cc3eb47bf8affced8e5"><div class="ttname"><a href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a></div><div class="ttdeci">int TERMY</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00048">output.cpp:48</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_af24921c70e875c1d0888315b9452b562"><div class="ttname"><a href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a></div><div class="ttdeci">int FULL_SCREEN_WIDTH</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00055">output.cpp:55</a></div></div>
<div class="ttc" id="aplayer__display_8cpp_html_a1247f6a7d49a78a3efac43e13d4f1070"><div class="ttname"><a href="player__display_8cpp.html#a1247f6a7d49a78a3efac43e13d4f1070">draw_info_window</a></div><div class="ttdeci">static void draw_info_window(const catacurses::window &amp;w_info, const player &amp;you, const unsigned int line, const player_display_tab curtab, const std::vector&lt; trait_id &gt; &amp;traitslist, const std::vector&lt; bionic &gt; &amp;bionicslist, const std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt; &amp;effect_name_and_text, const std::vector&lt; HeaderSkill &gt; &amp;skillslist)</div><div class="ttdef"><b>Definition:</b> <a href="player__display_8cpp_source.html#l00861">player_display.cpp:861</a></div></div>
<div class="ttc" id="aplayer__display_8cpp_html_a66933cca7d93be0f2a125094aef81863"><div class="ttname"><a href="player__display_8cpp.html#a66933cca7d93be0f2a125094aef81863">draw_bionics_tab</a></div><div class="ttdeci">static void draw_bionics_tab(const catacurses::window &amp;w_bionics, const player &amp;you, const unsigned int line, const player_display_tab curtab, const std::vector&lt; bionic &gt; &amp;bionicslist, const size_t bionics_win_size_y)</div><div class="ttdef"><b>Definition:</b> <a href="player__display_8cpp_source.html#l00529">player_display.cpp:529</a></div></div>
<div class="ttc" id="aplayer__display_8cpp_html_a904a27c471ac696c570036015e75d909"><div class="ttname"><a href="player__display_8cpp.html#a904a27c471ac696c570036015e75d909">draw_traits_tab</a></div><div class="ttdeci">static void draw_traits_tab(const catacurses::window &amp;w_traits, const unsigned int line, const player_display_tab curtab, const std::vector&lt; trait_id &gt; &amp;traitslist, const size_t trait_win_size_y)</div><div class="ttdef"><b>Definition:</b> <a href="player__display_8cpp_source.html#l00477">player_display.cpp:477</a></div></div>
<div class="ttc" id="aplayer__display_8cpp_html_a958b8c721ac1ef33d51a4abb6ee054ea"><div class="ttname"><a href="player__display_8cpp.html#a958b8c721ac1ef33d51a4abb6ee054ea">draw_speed_tab</a></div><div class="ttdeci">static void draw_speed_tab(const catacurses::window &amp;w_speed, const player &amp;you, const std::map&lt; std::string, int &gt; &amp;speed_effects)</div><div class="ttdef"><b>Definition:</b> <a href="player__display_8cpp_source.html#l00759">player_display.cpp:759</a></div></div>
<div class="ttc" id="aplayer__display_8cpp_html_a9bf3eec7f27ab2540af6e8aa9bd7bdfe"><div class="ttname"><a href="player__display_8cpp.html#a9bf3eec7f27ab2540af6e8aa9bd7bdfe">draw_tip</a></div><div class="ttdeci">static void draw_tip(const catacurses::window &amp;w_tip, const player &amp;you, const std::string &amp;race, const input_context &amp;ctxt)</div><div class="ttdef"><b>Definition:</b> <a href="player__display_8cpp_source.html#l00892">player_display.cpp:892</a></div></div>
<div class="ttc" id="aplayer__display_8cpp_html_ab2d081e72473dcccee10feaf0abe6e9a"><div class="ttname"><a href="player__display_8cpp.html#ab2d081e72473dcccee10feaf0abe6e9a">draw_skills_tab</a></div><div class="ttdeci">static void draw_skills_tab(const catacurses::window &amp;w_skills, player &amp;you, unsigned int line, const player_display_tab curtab, std::vector&lt; HeaderSkill &gt; &amp;skillslist, const size_t skill_win_size_y)</div><div class="ttdef"><b>Definition:</b> <a href="player__display_8cpp_source.html#l00640">player_display.cpp:640</a></div></div>
<div class="ttc" id="aplayer__display_8cpp_html_ab5fc3d544fdb18b4a01a74e87d644f83"><div class="ttname"><a href="player__display_8cpp.html#ab5fc3d544fdb18b4a01a74e87d644f83">handle_player_display_action</a></div><div class="ttdeci">static bool handle_player_display_action(player &amp;you, unsigned int &amp;line, player_display_tab &amp;curtab, input_context &amp;ctxt, const ui_adaptor &amp;ui_tip, const ui_adaptor &amp;ui_info, const ui_adaptor &amp;ui_stats, const ui_adaptor &amp;ui_encumb, const ui_adaptor &amp;ui_traits, const ui_adaptor &amp;ui_bionics, const ui_adaptor &amp;ui_effects, const ui_adaptor &amp;ui_skills, const std::vector&lt; trait_id &gt; &amp;traitslist, const std::vector&lt; bionic &gt; &amp;bionicslist, const std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt; &amp;effect_name_and_text, const std::vector&lt; HeaderSkill &gt; &amp;skillslist)</div><div class="ttdef"><b>Definition:</b> <a href="player__display_8cpp_source.html#l00924">player_display.cpp:924</a></div></div>
<div class="ttc" id="aplayer__display_8cpp_html_ac99e9c2fbb2199b769c484643628e43b"><div class="ttname"><a href="player__display_8cpp.html#ac99e9c2fbb2199b769c484643628e43b">draw_encumbrance_tab</a></div><div class="ttdeci">static void draw_encumbrance_tab(const catacurses::window &amp;w_encumb, const player &amp;you, const unsigned int line, const player_display_tab curtab)</div><div class="ttdef"><b>Definition:</b> <a href="player__display_8cpp_source.html#l00444">player_display.cpp:444</a></div></div>
<div class="ttc" id="aplayer__display_8cpp_html_ae0f308ab02a9d492ed60f14943f773f3"><div class="ttname"><a href="player__display_8cpp.html#ae0f308ab02a9d492ed60f14943f773f3">draw_effects_tab</a></div><div class="ttdeci">static void draw_effects_tab(const catacurses::window &amp;w_effects, const unsigned int line, const player_display_tab curtab, const std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt; &amp;effect_name_and_text, const size_t effect_win_size_y)</div><div class="ttdef"><b>Definition:</b> <a href="player__display_8cpp_source.html#l00579">player_display.cpp:579</a></div></div>
<div class="ttc" id="aplayer__display_8cpp_html_af632b4c79ae3ffe8a4757f962ab63313"><div class="ttname"><a href="player__display_8cpp.html#af632b4c79ae3ffe8a4757f962ab63313">draw_stats_tab</a></div><div class="ttdeci">static void draw_stats_tab(const catacurses::window &amp;w_stats, const player &amp;you, const unsigned int line, const player_display_tab curtab)</div><div class="ttdef"><b>Definition:</b> <a href="player__display_8cpp_source.html#l00317">player_display.cpp:317</a></div></div>
<div class="ttc" id="apoint_8h_html_a0ee2195dcb488ae55fbf4316f5011172"><div class="ttname"><a href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a></div><div class="ttdeci">static constexpr point point_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00274">point.h:274</a></div></div>
<div class="ttc" id="astructmutation__branch_html"><div class="ttname"><a href="structmutation__branch.html">mutation_branch</a></div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00094">mutation.h:94</a></div></div>
<div class="ttc" id="astructmutation__branch_html_a13305ba1184f2074399b71e279f223c1"><div class="ttname"><a href="structmutation__branch.html#a13305ba1184f2074399b71e279f223c1">mutation_branch::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="mutation__data_8cpp_source.html#l00556">mutation_data.cpp:556</a></div></div>
<div class="ttc" id="astructmutation__branch_html_a1a26deee861c3d1f0f55fbf688ec58d6"><div class="ttname"><a href="structmutation__branch.html#a1a26deee861c3d1f0f55fbf688ec58d6">mutation_branch::threshold</a></div><div class="ttdeci">bool threshold</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00102">mutation.h:102</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00035">point.h:35</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_a176e288c640c6506a86330cb10fbe13a"><div class="ttname"><a href="translations_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a></div><div class="ttdeci">translation to_translation(const std::string &amp;raw)</div><div class="ttdoc">Shorthands for translation::to_translation.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00384">translations.cpp:384</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa323a1324b9ad3f0c7dc65690aed09c6"><div class="ttname"><a href="translations_8h.html#aa323a1324b9ad3f0c7dc65690aed09c6">localized_compare</a></div><div class="ttdeci">constexpr localized_comparator localized_compare</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00342">translations.h:342</a></div></div>
<div class="ttc" id="aweather__type_8h_html_a951701bd5446ac796b3a62dadcdb61f1a8d966b2253a917086c8604959e152243"><div class="ttname"><a href="weather__type_8h.html#a951701bd5446ac796b3a62dadcdb61f1a8d966b2253a917086c8604959e152243">sun_intensity_type::high</a></div><div class="ttdeci">@ high</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="magic_8cpp_source.html#l01029">a</a>, <a class="el" href="output_8cpp_source.html#l00614">border_helper::add_border()</a>, <a class="el" href="addiction_8cpp_source.html#l00280">addiction_name()</a>, <a class="el" href="addiction_8cpp_source.html#l00361">addiction_text()</a>, <a class="el" href="character_8h_source.html#l01610">Character::addictions</a>, <a class="el" href="magic_8cpp_source.html#l01030">b</a>, <a class="el" href="character_8cpp_source.html#l06840">Character::bmi()</a>, <a class="el" href="character_8cpp_source.html#l08694">Character::crossed_threshold()</a>, <a class="el" href="character_8h_source.html#l00620">Character::custom_profession</a>, <a class="el" href="fmtlib__format-inl_8h_source.html#l01628">detail::digits::done</a>, <a class="el" href="player__display_8cpp_source.html#l00529">draw_bionics_tab()</a>, <a class="el" href="output_8cpp_source.html#l00620">border_helper::draw_border()</a>, <a class="el" href="player__display_8cpp_source.html#l00579">draw_effects_tab()</a>, <a class="el" href="player__display_8cpp_source.html#l00444">draw_encumbrance_tab()</a>, <a class="el" href="player__display_8cpp_source.html#l00861">draw_info_window()</a>, <a class="el" href="player__display_8cpp_source.html#l00640">draw_skills_tab()</a>, <a class="el" href="player__display_8cpp_source.html#l00759">draw_speed_tab()</a>, <a class="el" href="player__display_8cpp_source.html#l00317">draw_stats_tab()</a>, <a class="el" href="player__display_8cpp_source.html#l00892">draw_tip()</a>, <a class="el" href="player__display_8cpp_source.html#l00477">draw_traits_tab()</a>, <a class="el" href="creature_8h_source.html#l00808">Creature::effects</a>, <a class="el" href="game__constants_8h_source.html#l00176">character_weight_category::emaciated</a>, <a class="el" href="output_8cpp_source.html#l00055">FULL_SCREEN_WIDTH</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="effect_8cpp_source.html#l00910">effect::get_mod()</a>, <a class="el" href="newcharacter_8cpp_source.html#l02792">Character::get_mutations()</a>, <a class="el" href="player_8cpp_source.html#l00221">get_pain_penalty()</a>, <a class="el" href="player_8cpp_source.html#l01131">get_perceived_pain()</a>, <a class="el" href="skill_8cpp_source.html#l00067">Skill::get_skills_sorted_by()</a>, <a class="el" href="effect_8cpp_source.html#l01220">effect::get_speed_name()</a>, <a class="el" href="weather_8cpp_source.html#l00064">get_weather()</a>, <a class="el" href="player__display_8cpp_source.html#l00924">handle_player_display_action()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="weather__type_8h.html#a951701bd5446ac796b3a62dadcdb61f1a8d966b2253a917086c8604959e152243">high</a>, <a class="el" href="effect_8h_source.html#l00246">effect::is_removed()</a>, <a class="el" href="mapgen_8cpp_source.html#l06454">line()</a>, <a class="el" href="translations_8h_source.html#l00342">localized_compare</a>, <a class="el" href="ui__manager_8cpp_source.html#l00086">ui_adaptor::mark_resize()</a>, <a class="el" href="addiction_8h_source.html#l00013">MIN_ADDICTION_LEVEL</a>, <a class="el" href="character_8h_source.html#l01588">Character::my_bionics</a>, <a class="el" href="character_8h_source.html#l01568">Character::name</a>, <a class="el" href="mutation__data_8cpp_source.html#l00556">mutation_branch::name()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00034">catacurses::newwin()</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; SkillDisplayType &gt;::NULL_ID()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00076">ui_adaptor::on_redraw()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00081">ui_adaptor::on_screen_resize()</a>, <a class="el" href="point_8h_source.html#l00274">point_zero</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00041">ui_adaptor::position_from_window()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00290">ui_manager::redraw_invalidated()</a>, <a class="el" href="input_8cpp_source.html#l00676">input_context::register_action()</a>, <a class="el" href="input_8cpp_source.html#l00924">input_context::register_updown()</a>, <a class="el" href="creature_8cpp_source.html#l01304">Creature::resists_effect()</a>, <a class="el" href="output_8cpp_source.html#l00607">border_helper::border_info::set()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="output_8cpp_source.html#l00048">TERMY</a>, <a class="el" href="mutation_8h_source.html#l00102">mutation_branch::threshold</a>, <a class="el" href="translations_8cpp_source.html#l00384">to_translation()</a>, <a class="el" href="mutation__data_8cpp_source.html#l00678">trait_display_sort()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad03d97c03c94cd08796f4787856af713">trait_id</a>, <a class="el" href="game__constants_8h_source.html#l00177">character_weight_category::underweight</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00043">catacurses::wnoutrefresh()</a>.</p>

<p class="reference">Referenced by <a class="el" href="debug__menu_8cpp_source.html#l00491">debug_menu::character_edit_menu()</a>, <a class="el" href="handle__action_8cpp_source.html#l01514">game::handle_action()</a>, <a class="el" href="game_8cpp_source.html#l02054">game::handle_key_blocking_activity()</a>, and <a class="el" href="npctalk__funcs_8cpp_source.html#l00433">talk_function::reveal_stats()</a>.</p>

</div>
</div>
<a id="ad7e4dde968944b2538203f740e166359" name="ad7e4dde968944b2538203f740e166359"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7e4dde968944b2538203f740e166359">&#9670;&nbsp;</a></span>dodge_roll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float player::dodge_roll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the player's dodge_roll to be compared against an aggressor's <a class="el" href="classCharacter.html#a5b1b6d0e3efd0577ed298752a12d5cd1" title="Returns the player&#39;s basic hit roll that is compared to the target&#39;s dodge roll.">hit_roll()</a> </p>

<p>Implements <a class="el" href="classCreature.html#a42219e0586db47a50f06e3ce2865dbf6">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="melee_8cpp_source.html#l00825">825</a> of file <a class="el" href="melee_8cpp_source.html">melee.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>{</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCharacter.html#aff7c6ea07bde0a44d9d08b1bacde9064">get_dodge</a>() * 5;</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>}</div>
<div class="ttc" id="aclassCharacter_html_aff7c6ea07bde0a44d9d08b1bacde9064"><div class="ttname"><a href="classCharacter.html#aff7c6ea07bde0a44d9d08b1bacde9064">Character::get_dodge</a></div><div class="ttdeci">float get_dodge() const override</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l00782">melee.cpp:782</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="melee_8cpp_source.html#l00782">Character::get_dodge()</a>.</p>

</div>
</div>
<a id="ad4a7b5f549e1de904a5800c35a3557aa" name="ad4a7b5f549e1de904a5800c35a3557aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4a7b5f549e1de904a5800c35a3557aa">&#9670;&nbsp;</a></span>drink_from_hands()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::drink_from_hands </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>water</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>used for drinking from hands, returns how many charges were consumed </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01916">1916</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span>{</div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>    <span class="keywordtype">int</span> charges_consumed = 0;</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Drink %s from your hands?&quot;</span> ),</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>                  <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( water.<a class="code hl_function" href="classitem.html#a70359b9e831ed97023891631058595b6">type_name</a>(), water.<a class="code hl_function" href="classitem.html#a6bc022aab35ecd1f591a065aa4006eff">color_in_inventory</a>() ) ) ) {</div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>        <span class="comment">// Create a dose of water no greater than the amount of water remaining.</span></div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span>        <a class="code hl_class" href="classitem.html">item</a> water_temp( water );</div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>        <span class="comment">// If player is slaked water might not get consumed.</span></div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span>        <a class="code hl_function" href="classplayer.html#ac694873c13ad824239747e227f296556">consume_item</a>( water_temp );</div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span>        charges_consumed = water.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> - water_temp.charges;</div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span>        <span class="keywordflow">if</span>( charges_consumed &gt; 0 ) {</div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span>            <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= 350;</div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span>        }</div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>    }</div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span> </div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>    <span class="keywordflow">return</span> charges_consumed;</div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="item_8cpp_source.html#l04017">item::color_in_inventory()</a>, <a class="el" href="color_8cpp_source.html#l00669">colorize()</a>, <a class="el" href="player_8cpp_source.html#l02015">consume_item()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="player_8cpp_source.html#l04405">query_yn()</a>, and <a class="el" href="item_8cpp_source.html#l09678">item::type_name()</a>.</p>

</div>
</div>
<a id="ade215471686460149590c160a167d9f4" name="ade215471686460149590c160a167d9f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade215471686460149590c160a167d9f4">&#9670;&nbsp;</a></span>eat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::eat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>food</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used for eating entered comestible, returns true if comestible is successfully eaten. </p>

<p class="definition">Definition at line <a class="el" href="consumption_8cpp_source.html#l00824">824</a> of file <a class="el" href="consumption_8cpp_source.html">consumption.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>{</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>    <span class="keywordflow">if</span>( !food.<a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() ) {</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>    }</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span> </div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = force ? <a class="code hl_function" href="classCharacter.html#a04df4efd633604ed5b88827b8072a1d2">can_eat</a>( food ) : <a class="code hl_function" href="classCharacter.html#a4eb1793aafe89d34ba7ab96bf9facc19">will_eat</a>( food, <a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() );</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.success() ) {</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>    }</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span> </div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#ab20d39f7408673b6c72e08685e5dea15">effect_bloated</a> ) &amp;&amp;</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>        ( <a class="code hl_function" href="classCharacter.html#a30ae2557de3be7c7e7f353fffc557c91">compute_effective_nutrients</a>( food ).kcal &gt; 0 || food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;quench &gt; 0 ) &amp;&amp;</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>        !food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#afd06012232776bb8568e171984c28663">flag_NO_BLOAT</a> ) ) {</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You force yourself to vomit to make space for %s.&quot;</span> ), food.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>        <a class="code hl_function" href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">vomit</a>();</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>    }</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span> </div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>    <span class="keywordtype">int</span> charges_used = 0;</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>    <span class="keywordflow">if</span>( food.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a7ff45d94507fdbf7369ae269a0f1e52b">has_use</a>() ) {</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>        <span class="keywordflow">if</span>( !food.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;DOGFOOD&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>            !food.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;CATFOOD&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>            !food.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;BIRDFOOD&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>            !food.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;CATTLEFODDER&quot;</span> ) ) {</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>            charges_used = food.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a9df22ea5b5b6e19d18f730d4a8625cfa">invoke</a>( *<span class="keyword">this</span>, food, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>            <span class="keywordflow">if</span>( charges_used &lt;= 0 ) {</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>            }</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>        }</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>    }</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span> </div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>    <span class="comment">// Note: the block below assumes we decided to eat it</span></div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    <span class="comment">// No coming back from here</span></div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span> </div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> nutr = <a class="code hl_function" href="classCharacter.html#adfe305dc4dab1ce52dc6b46c73f4883f">nutrition_for</a>( food );</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> spoiled = food.<a class="code hl_function" href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">rotten</a>();</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span> </div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>    <span class="comment">// The item is solid food</span></div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="namespaceiuse.html#aecdc200d835fb6eaf207e84d2e5992a8">chew</a> = food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;comesttype == <a class="code hl_function" href="consumption_8cpp.html#ab3904a4e01276706855605f3b616734a">comesttype_FOOD</a> ||</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>                      food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a8048758dc914b63455fd2c2a422579bf">flag_USE_EAT_VERB</a> );</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>    <span class="comment">// This item is a drink and not a solid food (and not a thick soup)</span></div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> drinkable = !<a class="code hl_function" href="namespaceiuse.html#aecdc200d835fb6eaf207e84d2e5992a8">chew</a> &amp;&amp; food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;comesttype == <a class="code hl_function" href="consumption_8cpp.html#a5101b830b78cb3ac9eb7f0c8f87b1d3b">comesttype_DRINK</a>;</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>    <span class="comment">// If neither of the above is true then it&#39;s a drug and shouldn&#39;t get mealtime penalty/bonus</span></div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span> </div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> saprophage = <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#af4487f6f0e0eb0e3a671f5053fe2c219">trait_SAPROPHAGE</a> );</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>    <span class="keywordflow">if</span>( spoiled &amp;&amp; !saprophage ) {</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Ick, this %s doesn&#39;t taste so good…&quot;</span> ), food.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a1eb34af6b7fba64663cb266638373e1b">trait_EATDEAD</a> ) &amp;&amp;</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>            !<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="consumption_8cpp.html#a36f9b5f5d763f2c224b59b75af340c6c">bio_digestion</a> ) ) {</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#add6199d38f99fd7341acd9e5b7f2df63">effect_foodpoison</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 6_minutes, ( nutr + 1 ) * 6_minutes ) );</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>        }</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( spoiled &amp;&amp; saprophage ) {</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Mmm, this %s tastes delicious…&quot;</span> ), food.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>    }</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#a54f90ca736510c41a6539c8d8ad833b6">consume_effects</a>( food ) ) {</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>        <span class="comment">// Already consumed by using `food.type-&gt;invoke`?</span></div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>        <span class="keywordflow">if</span>( charges_used &gt; 0 ) {</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>            food.<a class="code hl_function" href="classitem.html#a473448af85ae4182f130bd488bf7c0fb">mod_charges</a>( -charges_used );</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>        }</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>    }</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>    food.<a class="code hl_function" href="classitem.html#a473448af85ae4182f130bd488bf7c0fb">mod_charges</a>( -1 );</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span> </div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> amorphous = <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#ab3388325c8d9a46ddb7af329e1b247fd">trait_AMORPHOUS</a> );</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>    <span class="keywordtype">int</span> mealtime = 250;</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>    <span class="keywordflow">if</span>( drinkable || <a class="code hl_function" href="namespaceiuse.html#aecdc200d835fb6eaf207e84d2e5992a8">chew</a> ) {</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>        <span class="comment">// Those bonuses/penalties only apply to food</span></div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>        <span class="comment">// Not to smoking weed or applying bandages!</span></div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#ac8785297401c28693575f38b8e5df375">trait_MOUTH_TENTACLES</a> )  || <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a7187ffc2d22573029ad4c4985f7ad95f">trait_MANDIBLES</a> ) ||</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>            <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#ae20f23e46accdd4c88c6b435ae94f63c">trait_FANGS_SPIDER</a> ) ) {</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>            mealtime /= 2;</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a16dc22cee5427c4ffbbe0db4dde27a5e">trait_SHARKTEETH</a> ) ) {</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>            <span class="comment">// SHARKBAIT! HOO HA HA!</span></div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>            mealtime /= 3;</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#abd2ce5a2e5c7ede5e25af994457bd123">trait_GOURMAND</a> ) ) {</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>            <span class="comment">// Don&#39;t stack those two - that would be 25 moves per item</span></div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>            mealtime -= 100;</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>        }</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span> </div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a6984ef23000798340375b8fdbcaba096">trait_BEAK_HUM</a> ) &amp;&amp; !drinkable ) {</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>            <span class="comment">// Much better than PROBOSCIS but still optimized for fluids</span></div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>            mealtime += 200;</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a28e8b9d50a08cc7e9fcf534eca71b094">trait_SABER_TEETH</a> ) ) {</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>            <span class="comment">// They get In The Way</span></div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>            mealtime += 250;</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>        }</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span> </div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>        <span class="keywordflow">if</span>( amorphous ) {</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>            mealtime *= 1.1;</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>            <span class="comment">// Minor speed penalty for having to flow around it</span></div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>            <span class="comment">// rather than just grab &amp; munch</span></div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>        }</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>    }</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span> </div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>    <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= mealtime;</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span> </div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>    <span class="comment">// If it&#39;s poisonous... poison us.</span></div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>    <span class="comment">// TODO: Move this to a flag</span></div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>    <span class="keywordflow">if</span>( food.<a class="code hl_variable" href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">poison</a> &gt; 0 &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#ae6a6e853460bbd7e5b9ba2adfe22a864">trait_POISRESIST</a> ) &amp;&amp;</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>        !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a1eb34af6b7fba64663cb266638373e1b">trait_EATDEAD</a> ) ) {</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>        <span class="keywordflow">if</span>( food.<a class="code hl_variable" href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">poison</a> &gt;= <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 2, 4 ) ) {</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#ace42425e1e703ebbe953ade0f6110b7c">effect_poison</a>, food.<a class="code hl_variable" href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">poison</a> * 10_minutes );</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>        }</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span> </div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>        <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#add6199d38f99fd7341acd9e5b7f2df63">effect_foodpoison</a>, food.<a class="code hl_variable" href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">poison</a> * 30_minutes );</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>    }</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span> </div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>    <span class="keywordflow">if</span>( food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a74fdff0ac6c7a40b84739f512ff69880">flag_HIDDEN_HALLU</a> ) ) {</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a> ) ) {</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a>, 6_hours );</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>        }</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>    }</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span> </div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>    <span class="keywordflow">if</span>( amorphous ) {</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You assimilate your %s.&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; assimilates a %s.&quot;</span> ),</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>                               food.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( drinkable ) {</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You drink your %s.&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; drinks a %s.&quot;</span> ),</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>                               food.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="namespaceiuse.html#aecdc200d835fb6eaf207e84d2e5992a8">chew</a> ) {</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You eat your %s.&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; eats a %s.&quot;</span> ),</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>                               food.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>    }</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span> </div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>    <span class="keywordflow">if</span>( food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;tool-&gt;tool ) {</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>        <span class="comment">// Tools like lighters get used</span></div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>        <a class="code hl_function" href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">use_charges</a>( food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;tool, 1 );</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>    }</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span> </div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af9c7419575e23d52745c94009929fafb">has_active_bionic</a>( <a class="code hl_variable" href="consumption_8cpp.html#a1cdd6de85176097b616ddd8e3e0a9239">bio_taste_blocker</a> ) ) {</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>        <a class="code hl_function" href="classCharacter.html#a17446e14fd6046648a505c4aaec3d976">mod_power_level</a>( <a class="code hl_function" href="namespaceunits.html#ada24d52c1ffd0df8d52a363d013d3231">units::from_kilojoule</a>( std::min( 0, food.<a class="code hl_function" href="classitem.html#a66b0bbc211f6fb668781640c971d3acc">get_comestible_fun</a>() ) ) );</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>    }</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span> </div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>    <span class="keywordflow">if</span>( food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a146a2a49b9de37f54c126426c47634de">flag_FUNGAL_VECTOR</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a308d750c2cc01d70d7622fdee14be3a5">trait_M_IMMUNE</a> ) ) {</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>        <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a>, 1_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>    }</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span> </div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>    <span class="comment">// Chance to become parasitised</span></div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>    <span class="keywordflow">if</span>( !( <a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="consumption_8cpp.html#a36f9b5f5d763f2c224b59b75af340c6c">bio_digestion</a> ) || <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a6c2652eceffb663021aeae9d4b7d0429">trait_PARAIMMUNE</a> ) ) ) {</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>        <span class="keywordflow">if</span>( food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;parasites &gt; 0 &amp;&amp; !food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#aa026dbb6ce20973d00e8847f056865dc">flag_NO_PARASITES</a> ) &amp;&amp;</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>            <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;parasites ) ) {</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>            <span class="keywordflow">switch</span>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 3 ) ) {</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>                <span class="keywordflow">case</span> 0:</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>                    <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a>, 1_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>                <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>                    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#af18c51d2a8f81b4d06912d40760e9691">trait_ACIDBLOOD</a> ) ) {</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>                        <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">effect_bloodworms</a>, 1_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>                    }</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>                <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>                    <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">effect_brainworms</a>, 1_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>                <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>                    <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#a914db3df05fd548e81adc85699eaaf05">effect_paincysts</a>, 1_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>            }</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>        }</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>    }</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span> </div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const diseasetype_id, int&gt; &amp;elem : food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;contamination ) {</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 100 ) &lt;= elem.second ) {</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>            <a class="code hl_function" href="classCharacter.html#a075e636b02332a92beb8aaadd7653118">expose_to_disease</a>( elem.first );</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>        }</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>    }</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span> </div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>    <a class="code hl_variable" href="classCharacter.html#a10008df58d7e74a17110f62d2c45d22b">consumption_history</a>.emplace_back( food );</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>    <span class="comment">// Clean out consumption_history so it doesn&#39;t get bigger than needed.</span></div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>    <span class="keywordflow">while</span>( <a class="code hl_variable" href="classCharacter.html#a10008df58d7e74a17110f62d2c45d22b">consumption_history</a>.front().time &lt; <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> - 2_days ) {</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>        <a class="code hl_variable" href="classCharacter.html#a10008df58d7e74a17110f62d2c45d22b">consumption_history</a>.pop_front();</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>    }</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span> </div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>}</div>
<div class="ttc" id="aclassCharacter_html_a04df4efd633604ed5b88827b8072a1d2"><div class="ttname"><a href="classCharacter.html#a04df4efd633604ed5b88827b8072a1d2">Character::can_eat</a></div><div class="ttdeci">ret_val&lt; edible_rating &gt; can_eat(const item &amp;food) const</div><div class="ttdoc">Can the food be [theoretically] eaten no matter the consequen ces?</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00637">consumption.cpp:637</a></div></div>
<div class="ttc" id="aclassCharacter_html_a075e636b02332a92beb8aaadd7653118"><div class="ttname"><a href="classCharacter.html#a075e636b02332a92beb8aaadd7653118">Character::expose_to_disease</a></div><div class="ttdeci">void expose_to_disease(diseasetype_id dis_type)</div><div class="ttdoc">Determine if character is susceptible to dis_type and if so apply the symptoms.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01613">character.cpp:1613</a></div></div>
<div class="ttc" id="aclassCharacter_html_a10008df58d7e74a17110f62d2c45d22b"><div class="ttname"><a href="classCharacter.html#a10008df58d7e74a17110f62d2c45d22b">Character::consumption_history</a></div><div class="ttdeci">std::list&lt; consumption_event &gt; consumption_history</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01592">character.h:1592</a></div></div>
<div class="ttc" id="aclassCharacter_html_a17446e14fd6046648a505c4aaec3d976"><div class="ttname"><a href="classCharacter.html#a17446e14fd6046648a505c4aaec3d976">Character::mod_power_level</a></div><div class="ttdeci">void mod_power_level(const units::energy &amp;npower)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01976">character.cpp:1976</a></div></div>
<div class="ttc" id="aclassCharacter_html_a30ae2557de3be7c7e7f353fffc557c91"><div class="ttname"><a href="classCharacter.html#a30ae2557de3be7c7e7f353fffc557c91">Character::compute_effective_nutrients</a></div><div class="ttdeci">nutrients compute_effective_nutrients(const item &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00327">consumption.cpp:327</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4eb1793aafe89d34ba7ab96bf9facc19"><div class="ttname"><a href="classCharacter.html#a4eb1793aafe89d34ba7ab96bf9facc19">Character::will_eat</a></div><div class="ttdeci">ret_val&lt; edible_rating &gt; will_eat(const item &amp;food, bool interactive=false) const</div><div class="ttdoc">Same as can_eat, but takes consequences into account.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00728">consumption.cpp:728</a></div></div>
<div class="ttc" id="aclassCharacter_html_a72b82d2498ae823e0cd6cad311215327"><div class="ttname"><a href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">Character::vomit</a></div><div class="ttdeci">void vomit()</div><div class="ttdoc">Handles Character vomiting effects.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07775">character.cpp:7775</a></div></div>
<div class="ttc" id="aclassCharacter_html_adfe305dc4dab1ce52dc6b46c73f4883f"><div class="ttname"><a href="classCharacter.html#adfe305dc4dab1ce52dc6b46c73f4883f">Character::nutrition_for</a></div><div class="ttdeci">int nutrition_for(const item &amp;comest) const</div><div class="ttdoc">Handles the nutrition value for a comestible.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00459">consumption.cpp:459</a></div></div>
<div class="ttc" id="aclassCreature_html_a666022fd3ed772fa109d273c20e8de55"><div class="ttname"><a href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">Creature::add_effect</a></div><div class="ttdeci">void add_effect(const effect &amp;eff, bool force=false, bool deferred=false)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00974">creature.cpp:974</a></div></div>
<div class="ttc" id="aclassitem_html_a473448af85ae4182f130bd488bf7c0fb"><div class="ttname"><a href="classitem.html#a473448af85ae4182f130bd488bf7c0fb">item::mod_charges</a></div><div class="ttdeci">void mod_charges(int mod)</div><div class="ttdoc">Modify the charges of this item, only use for items counted by charges! The item must have enough cha...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09548">item.cpp:9548</a></div></div>
<div class="ttc" id="aclassitem_html_a66b0bbc211f6fb668781640c971d3acc"><div class="ttname"><a href="classitem.html#a66b0bbc211f6fb668781640c971d3acc">item::get_comestible_fun</a></div><div class="ttdeci">int get_comestible_fun() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05371">item.cpp:5371</a></div></div>
<div class="ttc" id="aclassitem_html_a9f276bdd47b29bc1649dce5c64cbe433"><div class="ttname"><a href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">item::poison</a></div><div class="ttdeci">int poison</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02200">item.h:2200</a></div></div>
<div class="ttc" id="aclassitem_html_aad45569fa1fdd99d602eabbbbca04f75"><div class="ttname"><a href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">item::is_food</a></div><div class="ttdeci">bool is_food() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06442">item.cpp:6442</a></div></div>
<div class="ttc" id="aconsumption_8cpp_html_a074b87b8d18347675f51ed9e6d7e8787"><div class="ttname"><a href="consumption_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">effect_bloodworms</a></div><div class="ttdeci">static const efftype_id effect_bloodworms(&quot;bloodworms&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a08ed8f8240259a6a457502b0db459e08"><div class="ttname"><a href="consumption_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a></div><div class="ttdeci">static const efftype_id effect_fungus(&quot;fungus&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a146a2a49b9de37f54c126426c47634de"><div class="ttname"><a href="consumption_8cpp.html#a146a2a49b9de37f54c126426c47634de">flag_FUNGAL_VECTOR</a></div><div class="ttdeci">static const std::string flag_FUNGAL_VECTOR(&quot;FUNGAL_VECTOR&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a16dc22cee5427c4ffbbe0db4dde27a5e"><div class="ttname"><a href="consumption_8cpp.html#a16dc22cee5427c4ffbbe0db4dde27a5e">trait_SHARKTEETH</a></div><div class="ttdeci">static const trait_id trait_SHARKTEETH(&quot;SHARKTEETH&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a1cdd6de85176097b616ddd8e3e0a9239"><div class="ttname"><a href="consumption_8cpp.html#a1cdd6de85176097b616ddd8e3e0a9239">bio_taste_blocker</a></div><div class="ttdeci">static const bionic_id bio_taste_blocker(&quot;bio_taste_blocker&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a1eb34af6b7fba64663cb266638373e1b"><div class="ttname"><a href="consumption_8cpp.html#a1eb34af6b7fba64663cb266638373e1b">trait_EATDEAD</a></div><div class="ttdeci">static const trait_id trait_EATDEAD(&quot;EATDEAD&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a28e8b9d50a08cc7e9fcf534eca71b094"><div class="ttname"><a href="consumption_8cpp.html#a28e8b9d50a08cc7e9fcf534eca71b094">trait_SABER_TEETH</a></div><div class="ttdeci">static const trait_id trait_SABER_TEETH(&quot;SABER_TEETH&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a308d750c2cc01d70d7622fdee14be3a5"><div class="ttname"><a href="consumption_8cpp.html#a308d750c2cc01d70d7622fdee14be3a5">trait_M_IMMUNE</a></div><div class="ttdeci">static const trait_id trait_M_IMMUNE(&quot;M_IMMUNE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a33d14d146dbc0f416314bdb87d8fca77"><div class="ttname"><a href="consumption_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a></div><div class="ttdeci">static const efftype_id effect_hallu(&quot;hallu&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a36f9b5f5d763f2c224b59b75af340c6c"><div class="ttname"><a href="consumption_8cpp.html#a36f9b5f5d763f2c224b59b75af340c6c">bio_digestion</a></div><div class="ttdeci">static const bionic_id bio_digestion(&quot;bio_digestion&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a41e08c32ee980d1dd390b1d031c16696"><div class="ttname"><a href="consumption_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a></div><div class="ttdeci">static const efftype_id effect_tapeworm(&quot;tapeworm&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a5101b830b78cb3ac9eb7f0c8f87b1d3b"><div class="ttname"><a href="consumption_8cpp.html#a5101b830b78cb3ac9eb7f0c8f87b1d3b">comesttype_DRINK</a></div><div class="ttdeci">static const std::string comesttype_DRINK(&quot;DRINK&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a6984ef23000798340375b8fdbcaba096"><div class="ttname"><a href="consumption_8cpp.html#a6984ef23000798340375b8fdbcaba096">trait_BEAK_HUM</a></div><div class="ttdeci">static const trait_id trait_BEAK_HUM(&quot;BEAK_HUM&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a6c2652eceffb663021aeae9d4b7d0429"><div class="ttname"><a href="consumption_8cpp.html#a6c2652eceffb663021aeae9d4b7d0429">trait_PARAIMMUNE</a></div><div class="ttdeci">static const trait_id trait_PARAIMMUNE(&quot;PARAIMMUNE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a7187ffc2d22573029ad4c4985f7ad95f"><div class="ttname"><a href="consumption_8cpp.html#a7187ffc2d22573029ad4c4985f7ad95f">trait_MANDIBLES</a></div><div class="ttdeci">static const trait_id trait_MANDIBLES(&quot;MANDIBLES&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a74fdff0ac6c7a40b84739f512ff69880"><div class="ttname"><a href="consumption_8cpp.html#a74fdff0ac6c7a40b84739f512ff69880">flag_HIDDEN_HALLU</a></div><div class="ttdeci">static const std::string flag_HIDDEN_HALLU(&quot;HIDDEN_HALLU&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a8048758dc914b63455fd2c2a422579bf"><div class="ttname"><a href="consumption_8cpp.html#a8048758dc914b63455fd2c2a422579bf">flag_USE_EAT_VERB</a></div><div class="ttdeci">static const std::string flag_USE_EAT_VERB(&quot;USE_EAT_VERB&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a914db3df05fd548e81adc85699eaaf05"><div class="ttname"><a href="consumption_8cpp.html#a914db3df05fd548e81adc85699eaaf05">effect_paincysts</a></div><div class="ttdeci">static const efftype_id effect_paincysts(&quot;paincysts&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a92fc92f8871feb56f05a24b582966275"><div class="ttname"><a href="consumption_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a></div><div class="ttdeci">static const trait_id trait_SAPROVORE(&quot;SAPROVORE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_aa026dbb6ce20973d00e8847f056865dc"><div class="ttname"><a href="consumption_8cpp.html#aa026dbb6ce20973d00e8847f056865dc">flag_NO_PARASITES</a></div><div class="ttdeci">static const std::string flag_NO_PARASITES(&quot;NO_PARASITES&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab20d39f7408673b6c72e08685e5dea15"><div class="ttname"><a href="consumption_8cpp.html#ab20d39f7408673b6c72e08685e5dea15">effect_bloated</a></div><div class="ttdeci">static const efftype_id effect_bloated(&quot;bloated&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab3388325c8d9a46ddb7af329e1b247fd"><div class="ttname"><a href="consumption_8cpp.html#ab3388325c8d9a46ddb7af329e1b247fd">trait_AMORPHOUS</a></div><div class="ttdeci">static const trait_id trait_AMORPHOUS(&quot;AMORPHOUS&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab3904a4e01276706855605f3b616734a"><div class="ttname"><a href="consumption_8cpp.html#ab3904a4e01276706855605f3b616734a">comesttype_FOOD</a></div><div class="ttdeci">static const std::string comesttype_FOOD(&quot;FOOD&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_abd2ce5a2e5c7ede5e25af994457bd123"><div class="ttname"><a href="consumption_8cpp.html#abd2ce5a2e5c7ede5e25af994457bd123">trait_GOURMAND</a></div><div class="ttdeci">static const trait_id trait_GOURMAND(&quot;GOURMAND&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ac8785297401c28693575f38b8e5df375"><div class="ttname"><a href="consumption_8cpp.html#ac8785297401c28693575f38b8e5df375">trait_MOUTH_TENTACLES</a></div><div class="ttdeci">static const trait_id trait_MOUTH_TENTACLES(&quot;MOUTH_TENTACLES&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ace42425e1e703ebbe953ade0f6110b7c"><div class="ttname"><a href="consumption_8cpp.html#ace42425e1e703ebbe953ade0f6110b7c">effect_poison</a></div><div class="ttdeci">static const efftype_id effect_poison(&quot;poison&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_add6199d38f99fd7341acd9e5b7f2df63"><div class="ttname"><a href="consumption_8cpp.html#add6199d38f99fd7341acd9e5b7f2df63">effect_foodpoison</a></div><div class="ttdeci">static const efftype_id effect_foodpoison(&quot;foodpoison&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ae20f23e46accdd4c88c6b435ae94f63c"><div class="ttname"><a href="consumption_8cpp.html#ae20f23e46accdd4c88c6b435ae94f63c">trait_FANGS_SPIDER</a></div><div class="ttdeci">static const trait_id trait_FANGS_SPIDER(&quot;FANGS_SPIDER&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ae6a6e853460bbd7e5b9ba2adfe22a864"><div class="ttname"><a href="consumption_8cpp.html#ae6a6e853460bbd7e5b9ba2adfe22a864">trait_POISRESIST</a></div><div class="ttdeci">static const trait_id trait_POISRESIST(&quot;POISRESIST&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_af18c51d2a8f81b4d06912d40760e9691"><div class="ttname"><a href="consumption_8cpp.html#af18c51d2a8f81b4d06912d40760e9691">trait_ACIDBLOOD</a></div><div class="ttdeci">static const trait_id trait_ACIDBLOOD(&quot;ACIDBLOOD&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_af39c36bbd4b4d5ea9cc11bbaba43570f"><div class="ttname"><a href="consumption_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">effect_brainworms</a></div><div class="ttdeci">static const efftype_id effect_brainworms(&quot;brainworms&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_af4487f6f0e0eb0e3a671f5053fe2c219"><div class="ttname"><a href="consumption_8cpp.html#af4487f6f0e0eb0e3a671f5053fe2c219">trait_SAPROPHAGE</a></div><div class="ttdeci">static const trait_id trait_SAPROPHAGE(&quot;SAPROPHAGE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_afd06012232776bb8568e171984c28663"><div class="ttname"><a href="consumption_8cpp.html#afd06012232776bb8568e171984c28663">flag_NO_BLOAT</a></div><div class="ttdeci">static const std::string flag_NO_BLOAT(&quot;NO_BLOAT&quot;)</div></div>
<div class="ttc" id="anamespaceiuse_html_aecdc200d835fb6eaf207e84d2e5992a8"><div class="ttname"><a href="namespaceiuse.html#aecdc200d835fb6eaf207e84d2e5992a8">iuse::chew</a></div><div class="ttdeci">int chew(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01099">iuse.cpp:1099</a></div></div>
<div class="ttc" id="anamespaceunits_html_ada24d52c1ffd0df8d52a363d013d3231"><div class="ttname"><a href="namespaceunits.html#ada24d52c1ffd0df8d52a363d013d3231">units::from_kilojoule</a></div><div class="ttdeci">constexpr quantity&lt; value_type, energy_in_joule_tag &gt; from_kilojoule(const value_type v)</div><div class="ttdef"><b>Definition:</b> <a href="units__energy_8h_source.html#l00032">units_energy.h:32</a></div></div>
<div class="ttc" id="astructitype_html_afc46b586361661f16219f0a465b71c1d"><div class="ttname"><a href="structitype.html#afc46b586361661f16219f0a465b71c1d">itype::can_use</a></div><div class="ttdeci">bool can_use(const std::string &amp;iuse_name) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00086">itype.cpp:86</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l04373">add_msg_player_or_npc()</a>, <a class="el" href="consumption_8cpp.html#a36f9b5f5d763f2c224b59b75af340c6c">bio_digestion</a>, <a class="el" href="consumption_8cpp.html#a1cdd6de85176097b616ddd8e3e0a9239">bio_taste_blocker</a>, <a class="el" href="consumption_8cpp_source.html#l00637">Character::can_eat()</a>, <a class="el" href="itype_8cpp_source.html#l00086">itype::can_use()</a>, <a class="el" href="iuse_8cpp_source.html#l01099">iuse::chew()</a>, <a class="el" href="consumption_8cpp.html#a5101b830b78cb3ac9eb7f0c8f87b1d3b">comesttype_DRINK()</a>, <a class="el" href="consumption_8cpp.html#ab3904a4e01276706855605f3b616734a">comesttype_FOOD()</a>, <a class="el" href="consumption_8cpp_source.html#l00327">Character::compute_effective_nutrients()</a>, <a class="el" href="consumption_8cpp_source.html#l01159">Character::consume_effects()</a>, <a class="el" href="character_8h_source.html#l01592">Character::consumption_history</a>, <a class="el" href="consumption_8cpp.html#ab20d39f7408673b6c72e08685e5dea15">effect_bloated</a>, <a class="el" href="consumption_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">effect_bloodworms</a>, <a class="el" href="consumption_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">effect_brainworms</a>, <a class="el" href="consumption_8cpp.html#add6199d38f99fd7341acd9e5b7f2df63">effect_foodpoison</a>, <a class="el" href="consumption_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a>, <a class="el" href="consumption_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a>, <a class="el" href="consumption_8cpp.html#a914db3df05fd548e81adc85699eaaf05">effect_paincysts</a>, <a class="el" href="consumption_8cpp.html#ace42425e1e703ebbe953ade0f6110b7c">effect_poison</a>, <a class="el" href="consumption_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a>, <a class="el" href="character_8cpp_source.html#l01613">Character::expose_to_disease()</a>, <a class="el" href="consumption_8cpp.html#a146a2a49b9de37f54c126426c47634de">flag_FUNGAL_VECTOR()</a>, <a class="el" href="consumption_8cpp.html#a74fdff0ac6c7a40b84739f512ff69880">flag_HIDDEN_HALLU()</a>, <a class="el" href="consumption_8cpp.html#afd06012232776bb8568e171984c28663">flag_NO_BLOAT()</a>, <a class="el" href="consumption_8cpp.html#aa026dbb6ce20973d00e8847f056865dc">flag_NO_PARASITES()</a>, <a class="el" href="consumption_8cpp.html#a8048758dc914b63455fd2c2a422579bf">flag_USE_EAT_VERB()</a>, <a class="el" href="units__energy_8h_source.html#l00032">units::from_kilojoule()</a>, <a class="el" href="item_8cpp_source.html#l09951">item::get_comestible()</a>, <a class="el" href="item_8cpp_source.html#l05371">item::get_comestible_fun()</a>, <a class="el" href="character_8cpp_source.html#l01876">Character::has_active_bionic()</a>, <a class="el" href="character_8cpp_source.html#l01866">Character::has_bionic()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="itype_8cpp_source.html#l00066">itype::has_use()</a>, <a class="el" href="itype_8cpp_source.html#l00105">itype::invoke()</a>, <a class="el" href="item_8cpp_source.html#l06442">item::is_food()</a>, <a class="el" href="player_8h_source.html#l00114">is_player()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="item_8cpp_source.html#l09548">item::mod_charges()</a>, <a class="el" href="character_8cpp_source.html#l01976">Character::mod_power_level()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="bodypart_8h_source.html#l00052">num_bp</a>, <a class="el" href="consumption_8cpp_source.html#l00459">Character::nutrition_for()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="item_8h_source.html#l02200">item::poison</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="item_8h_source.html#l00853">item::rotten()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="consumption_8cpp.html#af18c51d2a8f81b4d06912d40760e9691">trait_ACIDBLOOD</a>, <a class="el" href="consumption_8cpp.html#ab3388325c8d9a46ddb7af329e1b247fd">trait_AMORPHOUS</a>, <a class="el" href="consumption_8cpp.html#a6984ef23000798340375b8fdbcaba096">trait_BEAK_HUM</a>, <a class="el" href="consumption_8cpp.html#a1eb34af6b7fba64663cb266638373e1b">trait_EATDEAD</a>, <a class="el" href="consumption_8cpp.html#ae20f23e46accdd4c88c6b435ae94f63c">trait_FANGS_SPIDER</a>, <a class="el" href="consumption_8cpp.html#abd2ce5a2e5c7ede5e25af994457bd123">trait_GOURMAND</a>, <a class="el" href="consumption_8cpp.html#a308d750c2cc01d70d7622fdee14be3a5">trait_M_IMMUNE</a>, <a class="el" href="consumption_8cpp.html#a7187ffc2d22573029ad4c4985f7ad95f">trait_MANDIBLES</a>, <a class="el" href="consumption_8cpp.html#ac8785297401c28693575f38b8e5df375">trait_MOUTH_TENTACLES</a>, <a class="el" href="consumption_8cpp.html#a6c2652eceffb663021aeae9d4b7d0429">trait_PARAIMMUNE</a>, <a class="el" href="consumption_8cpp.html#ae6a6e853460bbd7e5b9ba2adfe22a864">trait_POISRESIST</a>, <a class="el" href="consumption_8cpp.html#a28e8b9d50a08cc7e9fcf534eca71b094">trait_SABER_TEETH</a>, <a class="el" href="consumption_8cpp.html#af4487f6f0e0eb0e3a671f5053fe2c219">trait_SAPROPHAGE</a>, <a class="el" href="consumption_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a>, <a class="el" href="consumption_8cpp.html#a16dc22cee5427c4ffbbe0db4dde27a5e">trait_SHARKTEETH</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="character_8cpp_source.html#l09631">Character::use_charges()</a>, <a class="el" href="character_8cpp_source.html#l07775">Character::vomit()</a>, and <a class="el" href="consumption_8cpp_source.html#l00728">Character::will_eat()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l02015">consume_item()</a>, <a class="el" href="iexamine_8cpp_source.html#l01786">drink_nectar()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00762">avatar_action::eat_here()</a>, <a class="el" href="iexamine_8cpp_source.html#l01821">iexamine::flower_poppy()</a>, <a class="el" href="iexamine_8cpp_source.html#l03189">iexamine::keg()</a>, and <a class="el" href="npctalk_8cpp_source.html#l03260">try_consume()</a>.</p>

</div>
</div>
<a id="a658ed278951f4cd052b928ff76f151af" name="a658ed278951f4cd052b928ff76f151af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a658ed278951f4cd052b928ff76f151af">&#9670;&nbsp;</a></span>environmental_revert_effect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::environmental_revert_effect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04346">4346</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04347" name="l04347"></a><span class="lineno"> 4347</span>{</div>
<div class="line"><a id="l04348" name="l04348"></a><span class="lineno"> 4348</span>    <a class="code hl_variable" href="classCharacter.html#a86ad83bf21de1c90b69ad5188d03e59c">addictions</a>.clear();</div>
<div class="line"><a id="l04349" name="l04349"></a><span class="lineno"> 4349</span>    <a class="code hl_variable" href="classCharacter.html#aca511c2b9cca76347a32edd2c2ac0fd2">morale</a>-&gt;clear();</div>
<div class="line"><a id="l04350" name="l04350"></a><span class="lineno"> 4350</span> </div>
<div class="line"><a id="l04351" name="l04351"></a><span class="lineno"> 4351</span>    <a class="code hl_function" href="classCreature.html#a6af61264a3d5ac62a64df4899e87d2c1">set_all_parts_hp_to_max</a>();</div>
<div class="line"><a id="l04352" name="l04352"></a><span class="lineno"> 4352</span>    <a class="code hl_function" href="classCharacter.html#a74e6a7c7b747298dd3d1e853fab2c1ff">set_stored_kcal</a>( <a class="code hl_function" href="classCharacter.html#a4905fef46d52e8b8334cc22666addcf0">max_stored_kcal</a>() );</div>
<div class="line"><a id="l04353" name="l04353"></a><span class="lineno"> 4353</span>    <a class="code hl_function" href="classCharacter.html#ae6bcae1e1d30b35e0152b5e1bd615f5e">set_thirst</a>( 0 );</div>
<div class="line"><a id="l04354" name="l04354"></a><span class="lineno"> 4354</span>    <a class="code hl_function" href="classCharacter.html#a487913b9c97a3172f66517e87803d4a6">set_fatigue</a>( 0 );</div>
<div class="line"><a id="l04355" name="l04355"></a><span class="lineno"> 4355</span>    <a class="code hl_function" href="classCharacter.html#a9acf20ad52ac234831c4ec5472da8426">set_healthy</a>( 0 );</div>
<div class="line"><a id="l04356" name="l04356"></a><span class="lineno"> 4356</span>    <a class="code hl_function" href="classCharacter.html#a32e0c83c8160696f441f82d4230c0e7a">set_healthy_mod</a>( 0 );</div>
<div class="line"><a id="l04357" name="l04357"></a><span class="lineno"> 4357</span>    <a class="code hl_function" href="classCharacter.html#a5106996739b703dd5915cf166236653a">set_stim</a>( 0 );</div>
<div class="line"><a id="l04358" name="l04358"></a><span class="lineno"> 4358</span>    <a class="code hl_function" href="classplayer.html#af7af2288294fdf27ae72f02e214df878">set_pain</a>( 0 );</div>
<div class="line"><a id="l04359" name="l04359"></a><span class="lineno"> 4359</span>    <a class="code hl_function" href="classCharacter.html#a5f1a21ad76d22926f2688c1e49105311">set_painkiller</a>( 0 );</div>
<div class="line"><a id="l04360" name="l04360"></a><span class="lineno"> 4360</span>    <a class="code hl_function" href="classCharacter.html#ad06f0f9440098eb66fa9a6c46d033324">set_rad</a>( 0 );</div>
<div class="line"><a id="l04361" name="l04361"></a><span class="lineno"> 4361</span>    <a class="code hl_function" href="classCharacter.html#a2e658d88946cc7abba5333ad4cd3f153">set_sleep_deprivation</a>( 0 );</div>
<div class="line"><a id="l04362" name="l04362"></a><span class="lineno"> 4362</span> </div>
<div class="line"><a id="l04363" name="l04363"></a><span class="lineno"> 4363</span>    <a class="code hl_function" href="classCharacter.html#aa0d1b26c15ad4a52973774bf6a7610c1">recalc_sight_limits</a>();</div>
<div class="line"><a id="l04364" name="l04364"></a><span class="lineno"> 4364</span>    <a class="code hl_function" href="classCharacter.html#ad67a790400ac88405241f279b566b89e">reset_encumbrance</a>();</div>
<div class="line"><a id="l04365" name="l04365"></a><span class="lineno"> 4365</span>}</div>
<div class="ttc" id="aclassCharacter_html_a2e658d88946cc7abba5333ad4cd3f153"><div class="ttname"><a href="classCharacter.html#a2e658d88946cc7abba5333ad4cd3f153">Character::set_sleep_deprivation</a></div><div class="ttdeci">virtual void set_sleep_deprivation(int nsleep_deprivation)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04433">character.cpp:4433</a></div></div>
<div class="ttc" id="aclassCharacter_html_a32e0c83c8160696f441f82d4230c0e7a"><div class="ttname"><a href="classCharacter.html#a32e0c83c8160696f441f82d4230c0e7a">Character::set_healthy_mod</a></div><div class="ttdeci">virtual void set_healthy_mod(int nhealthy_mod)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04238">character.cpp:4238</a></div></div>
<div class="ttc" id="aclassCharacter_html_a487913b9c97a3172f66517e87803d4a6"><div class="ttname"><a href="classCharacter.html#a487913b9c97a3172f66517e87803d4a6">Character::set_fatigue</a></div><div class="ttdeci">virtual void set_fatigue(int nfatigue)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04424">character.cpp:4424</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4905fef46d52e8b8334cc22666addcf0"><div class="ttname"><a href="classCharacter.html#a4905fef46d52e8b8334cc22666addcf0">Character::max_stored_kcal</a></div><div class="ttdeci">int max_stored_kcal() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04301">character.cpp:4301</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5106996739b703dd5915cf166236653a"><div class="ttname"><a href="classCharacter.html#a5106996739b703dd5915cf166236653a">Character::set_stim</a></div><div class="ttdeci">void set_stim(int new_stim)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07147">character.cpp:7147</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5f1a21ad76d22926f2688c1e49105311"><div class="ttname"><a href="classCharacter.html#a5f1a21ad76d22926f2688c1e49105311">Character::set_painkiller</a></div><div class="ttdeci">void set_painkiller(int npkill)</div><div class="ttdoc">Sets intensity of painkillers</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09761">character.cpp:9761</a></div></div>
<div class="ttc" id="aclassCharacter_html_a74e6a7c7b747298dd3d1e853fab2c1ff"><div class="ttname"><a href="classCharacter.html#a74e6a7c7b747298dd3d1e853fab2c1ff">Character::set_stored_kcal</a></div><div class="ttdeci">virtual void set_stored_kcal(int kcal)</div><div class="ttdoc">Setters for need values exclusive to characters.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04294">character.cpp:4294</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9acf20ad52ac234831c4ec5472da8426"><div class="ttname"><a href="classCharacter.html#a9acf20ad52ac234831c4ec5472da8426">Character::set_healthy</a></div><div class="ttdeci">virtual void set_healthy(int nhealthy)</div><div class="ttdoc">Setters for health values exclusive to characters.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04226">character.cpp:4226</a></div></div>
<div class="ttc" id="aclassCharacter_html_aca511c2b9cca76347a32edd2c2ac0fd2"><div class="ttname"><a href="classCharacter.html#aca511c2b9cca76347a32edd2c2ac0fd2">Character::morale</a></div><div class="ttdeci">pimpl&lt; player_morale &gt; morale</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02192">character.h:2192</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad06f0f9440098eb66fa9a6c46d033324"><div class="ttname"><a href="classCharacter.html#ad06f0f9440098eb66fa9a6c46d033324">Character::set_rad</a></div><div class="ttdeci">void set_rad(int new_rad)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07162">character.cpp:7162</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae6bcae1e1d30b35e0152b5e1bd615f5e"><div class="ttname"><a href="classCharacter.html#ae6bcae1e1d30b35e0152b5e1bd615f5e">Character::set_thirst</a></div><div class="ttdeci">virtual void set_thirst(int nthirst)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04406">character.cpp:4406</a></div></div>
<div class="ttc" id="aclassCreature_html_a6af61264a3d5ac62a64df4899e87d2c1"><div class="ttname"><a href="classCreature.html#a6af61264a3d5ac62a64df4899e87d2c1">Creature::set_all_parts_hp_to_max</a></div><div class="ttdeci">void set_all_parts_hp_to_max()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01606">creature.cpp:1606</a></div></div>
<div class="ttc" id="aclassplayer_html_af7af2288294fdf27ae72f02e214df878"><div class="ttname"><a href="classplayer.html#af7af2288294fdf27ae72f02e214df878">player::set_pain</a></div><div class="ttdeci">void set_pain(int npain) override</div><div class="ttdoc">Sets new intensity of pain an reacts to it.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l01119">player.cpp:1119</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8h_source.html#l01610">Character::addictions</a>, <a class="el" href="character_8cpp_source.html#l04301">Character::max_stored_kcal()</a>, <a class="el" href="character_8h_source.html#l02192">Character::morale</a>, <a class="el" href="character_8cpp_source.html#l01692">Character::recalc_sight_limits()</a>, <a class="el" href="character_8cpp_source.html#l03614">Character::reset_encumbrance()</a>, <a class="el" href="creature_8cpp_source.html#l01606">Creature::set_all_parts_hp_to_max()</a>, <a class="el" href="character_8cpp_source.html#l04424">Character::set_fatigue()</a>, <a class="el" href="character_8cpp_source.html#l04226">Character::set_healthy()</a>, <a class="el" href="character_8cpp_source.html#l04238">Character::set_healthy_mod()</a>, <a class="el" href="player_8cpp_source.html#l01119">set_pain()</a>, <a class="el" href="character_8cpp_source.html#l09761">Character::set_painkiller()</a>, <a class="el" href="character_8cpp_source.html#l07162">Character::set_rad()</a>, <a class="el" href="character_8cpp_source.html#l04433">Character::set_sleep_deprivation()</a>, <a class="el" href="character_8cpp_source.html#l07147">Character::set_stim()</a>, <a class="el" href="character_8cpp_source.html#l04294">Character::set_stored_kcal()</a>, and <a class="el" href="character_8cpp_source.html#l04406">Character::set_thirst()</a>.</p>

</div>
</div>
<a id="a82f42ac5b69a7d62333843471d19988b" name="a82f42ac5b69a7d62333843471d19988b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82f42ac5b69a7d62333843471d19988b">&#9670;&nbsp;</a></span>estimate_effect_dur()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__duration.html">time_duration</a> player::estimate_effect_dur </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;&#160;</td>
          <td class="paramname"><em>relevant_skill</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>effect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtime__duration.html">time_duration</a> &amp;&#160;</td>
          <td class="paramname"><em>error_magnitude</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Estimate effect duration based on player relevant skill. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00642">642</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>{</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>    <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> zero_duration = 0_turns;</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span> </div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>    <span class="keywordtype">int</span> skill_lvl = <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( relevant_skill );</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span> </div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>    <a class="code hl_class" href="classtime__duration.html">time_duration</a> estimate = std::max( zero_duration, target.<a class="code hl_function" href="classCreature.html#a2bb3543ca955d69805e57e4e09d878ef">get_effect_dur</a>( target_effect ) +</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>                                       <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -1, 1 ) * error_magnitude *</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>                                       <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, std::max( 0, threshold - skill_lvl ) ) );</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>    <span class="keywordflow">return</span> estimate;</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>}</div>
<div class="ttc" id="aclassCreature_html_a2bb3543ca955d69805e57e4e09d878ef"><div class="ttname"><a href="classCreature.html#a2bb3543ca955d69805e57e4e09d878ef">Creature::get_effect_dur</a></div><div class="ttdeci">time_duration get_effect_dur(const efftype_id &amp;eff_id, body_part bp=num_bp) const</div><div class="ttdoc">Returns the duration of the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01235">creature.cpp:1235</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8cpp_source.html#l01235">Creature::get_effect_dur()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, and <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>.</p>

</div>
</div>
<a id="ac2032d28e8d6dd731cc838e30e709c2a" name="ac2032d28e8d6dd731cc838e30e709c2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2032d28e8d6dd731cc838e30e709c2a">&#9670;&nbsp;</a></span>exceeds_recipe_requirements()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::exceeds_recipe_requirements </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>rec</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04102">4102</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04103" name="l04103"></a><span class="lineno"> 4103</span>{</div>
<div class="line"><a id="l04104" name="l04104"></a><span class="lineno"> 4104</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCharacter.html#a3eff1956d8cca838d791f2c4d148ddea">get_all_skills</a>().<a class="code hl_function" href="classSkillLevelMap.html#a350ac1ddb21fedf0db75916b9e33e63c">exceeds_recipe_requirements</a>( rec );</div>
<div class="line"><a id="l04105" name="l04105"></a><span class="lineno"> 4105</span>}</div>
<div class="ttc" id="aclassCharacter_html_a3eff1956d8cca838d791f2c4d148ddea"><div class="ttname"><a href="classCharacter.html#a3eff1956d8cca838d791f2c4d148ddea">Character::get_all_skills</a></div><div class="ttdeci">const SkillLevelMap &amp; get_all_skills() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03312">character.cpp:3312</a></div></div>
<div class="ttc" id="aclassSkillLevelMap_html_a350ac1ddb21fedf0db75916b9e33e63c"><div class="ttname"><a href="classSkillLevelMap.html#a350ac1ddb21fedf0db75916b9e33e63c">SkillLevelMap::exceeds_recipe_requirements</a></div><div class="ttdeci">int exceeds_recipe_requirements(const recipe &amp;rec) const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8cpp_source.html#l00385">skill.cpp:385</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="skill_8cpp_source.html#l00385">SkillLevelMap::exceeds_recipe_requirements()</a>, and <a class="el" href="character_8cpp_source.html#l03312">Character::get_all_skills()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l00131">lighting_craft_speed_multiplier()</a>.</p>

</div>
</div>
<a id="a47643481404290e193c63aee98cc77e4" name="a47643481404290e193c63aee98cc77e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47643481404290e193c63aee98cc77e4">&#9670;&nbsp;</a></span>expected_time_to_craft()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::expected_time_to_craft </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch_size</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>in_progress</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expected time to craft a recipe, with assumption that multipliers stay constant. </p>

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00400">400</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>{</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> assistants = <a class="code hl_function" href="classplayer.html#a39537c9669f9a81b8ac7e52ea9aae0dd">available_assistant_count</a>( rec );</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    <span class="keywordtype">float</span> modifier = <a class="code hl_function" href="crafting_8cpp.html#a9f4001637650c6aec28ac03d92fb84bb">crafting_speed_multiplier</a>( *<span class="keyword">this</span>, rec, in_progress );</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    <span class="keywordflow">return</span> rec.<a class="code hl_function" href="classrecipe.html#ae553a7e929ae8776eb5a8c19422ec83b">batch_time</a>( batch_size, modifier, assistants );</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>}</div>
<div class="ttc" id="acrafting_8cpp_html_a9f4001637650c6aec28ac03d92fb84bb"><div class="ttname"><a href="crafting_8cpp.html#a9f4001637650c6aec28ac03d92fb84bb">crafting_speed_multiplier</a></div><div class="ttdeci">float crafting_speed_multiplier(const player &amp;p, const recipe &amp;rec, bool in_progress)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00261">crafting.cpp:261</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting_8cpp_source.html#l00383">available_assistant_count()</a>, <a class="el" href="recipe_8cpp_source.html#l00048">recipe::batch_time()</a>, and <a class="el" href="crafting_8cpp_source.html#l00261">crafting_speed_multiplier()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l00161">select_crafting_recipe()</a>.</p>

</div>
</div>
<a id="a8f4f5995d32e0a3a0fe585abbafbf76d" name="a8f4f5995d32e0a3a0fe585abbafbf76d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f4f5995d32e0a3a0fe585abbafbf76d">&#9670;&nbsp;</a></span>fall_damage_mod()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float player::fall_damage_mod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns multiplier on fall damage at low velocity (knockback/pit/1 z-level, not 5 z-levels) </p>
Dexterity decreases damage from falling Dodge decreases damage from falling 
<p>Implements <a class="el" href="classCreature.html#ab94a3c4423c330bfc0d6591da2efcc9b">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01140">1140</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>{</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a2b8d5ac840f6d08881374f0483f6d798">has_effect_with_flag</a>( <span class="stringliteral">&quot;EFFECT_FEATHER_FALL&quot;</span> ) ) {</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>        <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>    }</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = 1.0f;</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span> </div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>    <span class="comment">// Ability to land properly is 2x as important as dexterity itself</span><span class="comment"></span></div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span><span class="comment">    /** @EFFECT_DEX decreases damage from falling */</span></div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span><span class="comment"></span> </div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span><span class="comment">    /** @EFFECT_DODGE decreases damage from falling */</span></div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>    <span class="keywordtype">float</span> dex_dodge = <a class="code hl_variable" href="classCharacter.html#a4065ac02745befad248425d307b71849">dex_cur</a> / 2.0 + <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="player_8cpp.html#a1d5482b7403ee4ac3e70e88ecfee2141">skill_dodge</a> );</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>    <span class="comment">// Penalize for wearing heavy stuff</span></div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> average_leg_encumb = ( <a class="code hl_function" href="classCharacter.html#adc1fd84a88722a905e57fea8bfd5b6b0">encumb</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a44506e97ae9648354f97d530a3be61b8">bp_leg_l</a> ) + <a class="code hl_function" href="classCharacter.html#adc1fd84a88722a905e57fea8bfd5b6b0">encumb</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a202ad82497ebf8867cdcd6ee15085d16">bp_leg_r</a> ) ) / 2.0;</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>    dex_dodge -= ( average_leg_encumb + <a class="code hl_function" href="classCharacter.html#adc1fd84a88722a905e57fea8bfd5b6b0">encumb</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab4b216482dcc0e468819f023c3aeddd1">bp_torso</a> ) ) / 10;</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>    <span class="comment">// But prevent it from increasing damage</span></div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>    dex_dodge = std::max( 0.0f, dex_dodge );</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>    <span class="comment">// 100% damage at 0, 75% at 10, 50% at 20 and so on</span></div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>    <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> *= ( 100.0f - ( dex_dodge * 4.0f ) ) / 100.0f;</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span> </div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#add3801e5054573e6c7c0ef0276339fdf">trait_PARKOUR</a> ) ) {</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> *= 2.0f / 3.0f;</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>    }</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span> </div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>    <span class="comment">// TODO: Bonus for Judo, mutations. Penalty for heavy weight (including mutations)</span></div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>    <span class="keywordflow">return</span> std::max( 0.0f, <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> );</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>}</div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a202ad82497ebf8867cdcd6ee15085d16"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a202ad82497ebf8867cdcd6ee15085d16">bp_leg_r</a></div><div class="ttdeci">@ bp_leg_r</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00049">bodypart.h:49</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a44506e97ae9648354f97d530a3be61b8"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a44506e97ae9648354f97d530a3be61b8">bp_leg_l</a></div><div class="ttdeci">@ bp_leg_l</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00048">bodypart.h:48</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980ab4b216482dcc0e468819f023c3aeddd1"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab4b216482dcc0e468819f023c3aeddd1">bp_torso</a></div><div class="ttdeci">@ bp_torso</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00040">bodypart.h:40</a></div></div>
<div class="ttc" id="aclassCharacter_html_adc1fd84a88722a905e57fea8bfd5b6b0"><div class="ttname"><a href="classCharacter.html#adc1fd84a88722a905e57fea8bfd5b6b0">Character::encumb</a></div><div class="ttdeci">int encumb(body_part bp) const</div><div class="ttdoc">Returns ENC provided by armor, etc.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03985">character.cpp:3985</a></div></div>
<div class="ttc" id="aclassCreature_html_a2b8d5ac840f6d08881374f0483f6d798"><div class="ttname"><a href="classCreature.html#a2b8d5ac840f6d08881374f0483f6d798">Creature::has_effect_with_flag</a></div><div class="ttdeci">bool has_effect_with_flag(const std::string &amp;flag, body_part bp=num_bp) const</div><div class="ttdoc">Check if creature has any effect with the given flag.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01195">creature.cpp:1195</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_add3801e5054573e6c7c0ef0276339fdf"><div class="ttname"><a href="player_8cpp.html#add3801e5054573e6c7c0ef0276339fdf">trait_PARKOUR</a></div><div class="ttdeci">static const trait_id trait_PARKOUR(&quot;PARKOUR&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bodypart_8h_source.html#l00048">bp_leg_l</a>, <a class="el" href="bodypart_8h_source.html#l00049">bp_leg_r</a>, <a class="el" href="bodypart_8h_source.html#l00040">bp_torso</a>, <a class="el" href="character_8h_source.html#l00305">Character::dex_cur</a>, <a class="el" href="character_8cpp_source.html#l03985">Character::encumb()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="creature_8cpp_source.html#l01195">Creature::has_effect_with_flag()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="player_8cpp.html#a1d5482b7403ee4ac3e70e88ecfee2141">skill_dodge</a>, and <a class="el" href="player_8cpp.html#add3801e5054573e6c7c0ef0276339fdf">trait_PARKOUR</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l01169">impact()</a>, and <a class="el" href="iexamine_8cpp_source.html#l04462">iexamine::ledge()</a>.</p>

</div>
</div>
<a id="a679df6703c948c0fffa835885a857f42" name="a679df6703c948c0fffa835885a857f42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a679df6703c948c0fffa835885a857f42">&#9670;&nbsp;</a></span>fine_detail_vision_mod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float player::fine_detail_vision_mod </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em> = <code><a class="el" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a value from 1.0 to 5.0 that acts as a multiplier for the time taken to perform tasks that require detail vision, above 4.0 means these activities cannot be performed. </p>
<p >takes pos as a parameter so that remote spots can be judged if they will potentially have enough light when player gets there </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03983">3983</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03984" name="l03984"></a><span class="lineno"> 3984</span>{</div>
<div class="line"><a id="l03985" name="l03985"></a><span class="lineno"> 3985</span>    <span class="comment">// PER_SLIME_OK implies you can get enough eyes around the bile</span></div>
<div class="line"><a id="l03986" name="l03986"></a><span class="lineno"> 3986</span>    <span class="comment">// that you can generally see.  There still will be the haze, but</span></div>
<div class="line"><a id="l03987" name="l03987"></a><span class="lineno"> 3987</span>    <span class="comment">// it&#39;s annoying rather than limiting.</span></div>
<div class="line"><a id="l03988" name="l03988"></a><span class="lineno"> 3988</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a4a9671b1264d53cb74469e78000e2544">is_blind</a>() ||</div>
<div class="line"><a id="l03989" name="l03989"></a><span class="lineno"> 3989</span>        ( ( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">effect_boomered</a> ) || <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a84bed2f340b7b3bf9a0ae0c95eabc6dc">effect_darkness</a> ) ) &amp;&amp;</div>
<div class="line"><a id="l03990" name="l03990"></a><span class="lineno"> 3990</span>          !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#ac54117dbd505336cc0e980684cf77774">trait_PER_SLIME_OK</a> ) ) ) {</div>
<div class="line"><a id="l03991" name="l03991"></a><span class="lineno"> 3991</span>        <span class="keywordflow">return</span> 11.0;</div>
<div class="line"><a id="l03992" name="l03992"></a><span class="lineno"> 3992</span>    }</div>
<div class="line"><a id="l03993" name="l03993"></a><span class="lineno"> 3993</span>    <span class="comment">// Scale linearly as light level approaches LIGHT_AMBIENT_LIT.</span></div>
<div class="line"><a id="l03994" name="l03994"></a><span class="lineno"> 3994</span>    <span class="comment">// If we&#39;re actually a source of light, assume we can direct it where we need it.</span></div>
<div class="line"><a id="l03995" name="l03995"></a><span class="lineno"> 3995</span>    <span class="comment">// Therefore give a hefty bonus relative to ambient light.</span></div>
<div class="line"><a id="l03996" name="l03996"></a><span class="lineno"> 3996</span>    <span class="keywordtype">float</span> own_light = std::max( 1.0f, <a class="code hl_variable" href="lightmap_8h.html#aee8c4bc593d2863e405cd21438a01f44">LIGHT_AMBIENT_LIT</a> - <a class="code hl_function" href="classCharacter.html#a4db8f0b7490ded5bd598b640fdbed978">active_light</a>() - 2.0f );</div>
<div class="line"><a id="l03997" name="l03997"></a><span class="lineno"> 3997</span> </div>
<div class="line"><a id="l03998" name="l03998"></a><span class="lineno"> 3998</span>    <span class="comment">// Same calculation as above, but with a result 3 lower.</span></div>
<div class="line"><a id="l03999" name="l03999"></a><span class="lineno"> 3999</span>    <span class="keywordtype">float</span> ambient_light = std::max( 1.0f,</div>
<div class="line"><a id="l04000" name="l04000"></a><span class="lineno"> 4000</span>                                    <a class="code hl_variable" href="lightmap_8h.html#aee8c4bc593d2863e405cd21438a01f44">LIGHT_AMBIENT_LIT</a> - <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ambient_light_at( p == <a class="code hl_variable" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a> ? <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() : p ) + 1.0f );</div>
<div class="line"><a id="l04001" name="l04001"></a><span class="lineno"> 4001</span> </div>
<div class="line"><a id="l04002" name="l04002"></a><span class="lineno"> 4002</span>    <span class="keywordflow">return</span> std::min( own_light, ambient_light );</div>
<div class="line"><a id="l04003" name="l04003"></a><span class="lineno"> 4003</span>}</div>
<div class="ttc" id="aclassCharacter_html_a4a9671b1264d53cb74469e78000e2544"><div class="ttname"><a href="classCharacter.html#a4a9671b1264d53cb74469e78000e2544">Character::is_blind</a></div><div class="ttdeci">bool is_blind() const</div><div class="ttdoc">Returns true if the player isn't able to see.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06324">character.cpp:6324</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4db8f0b7490ded5bd598b640fdbed978"><div class="ttname"><a href="classCharacter.html#a4db8f0b7490ded5bd598b640fdbed978">Character::active_light</a></div><div class="ttdeci">float active_light() const</div><div class="ttdoc">Returns character luminosity based on the brightest active item they are carrying.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06359">character.cpp:6359</a></div></div>
<div class="ttc" id="alightmap_8h_html_aee8c4bc593d2863e405cd21438a01f44"><div class="ttname"><a href="lightmap_8h.html#aee8c4bc593d2863e405cd21438a01f44">LIGHT_AMBIENT_LIT</a></div><div class="ttdeci">static constexpr float LIGHT_AMBIENT_LIT</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8h_source.html#l00018">lightmap.h:18</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a84bed2f340b7b3bf9a0ae0c95eabc6dc"><div class="ttname"><a href="player_8cpp.html#a84bed2f340b7b3bf9a0ae0c95eabc6dc">effect_darkness</a></div><div class="ttdeci">static const efftype_id effect_darkness(&quot;darkness&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_ac54117dbd505336cc0e980684cf77774"><div class="ttname"><a href="player_8cpp.html#ac54117dbd505336cc0e980684cf77774">trait_PER_SLIME_OK</a></div><div class="ttdeci">static const trait_id trait_PER_SLIME_OK(&quot;PER_SLIME_OK&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l06359">Character::active_light()</a>, <a class="el" href="player_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">effect_boomered</a>, <a class="el" href="player_8cpp.html#a84bed2f340b7b3bf9a0ae0c95eabc6dc">effect_darkness</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8cpp_source.html#l06324">Character::is_blind()</a>, <a class="el" href="lightmap_8h_source.html#l00018">LIGHT_AMBIENT_LIT</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="player_8cpp.html#ac54117dbd505336cc0e980684cf77774">trait_PER_SLIME_OK</a>, and <a class="el" href="point_8h_source.html#l00273">tripoint_zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="npc_8cpp_source.html#l00838">npc::can_read()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03026">repair_item_actor::can_use_tool()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02920">generic_multi_activity_handler()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02491">generic_multi_activity_locations()</a>, <a class="el" href="avatar_8cpp_source.html#l00245">avatar::get_book_reader()</a>, <a class="el" href="iuse_8cpp_source.html#l05839">iuse::gun_repair()</a>, <a class="el" href="crafting_8cpp_source.html#l00131">lighting_craft_speed_multiplier()</a>, <a class="el" href="construction_8cpp_source.html#l00831">player_can_see_to_build()</a>, <a class="el" href="avatar_8cpp_source.html#l00367">avatar::read()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03300">activity_handlers::repair_item_do_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04752">activity_handlers::study_spell_do_turn()</a>, <a class="el" href="npc_8cpp_source.html#l00875">npc::time_to_read()</a>, <a class="el" href="avatar_8cpp_source.html#l00334">avatar::time_to_read()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01339">reveal_map_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04722">sew_advanced_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02474">learn_spell_actor::use()</a>, <a class="el" href="iuse_8cpp_source.html#l09524">iuse::wash_all_items()</a>, <a class="el" href="iuse_8cpp_source.html#l09503">iuse::wash_hard_items()</a>, and <a class="el" href="iuse_8cpp_source.html#l09482">iuse::wash_soft_items()</a>.</p>

</div>
</div>
<a id="a09de46fc4e05450f99872c0e4fcc30e2" name="a09de46fc4e05450f99872c0e4fcc30e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09de46fc4e05450f99872c0e4fcc30e2">&#9670;&nbsp;</a></span>fire_gun() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::fire_gun </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>gun</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fires a gun or auxiliary gunmod (ignoring any current mode) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>where the first shot is aimed at (may vary for later shots) </td></tr>
    <tr><td class="paramname">shots</td><td>maximum number of shots to fire (less may be fired in some circumstances) </td></tr>
    <tr><td class="paramname">gun</td><td>item to fire (which does not necessary have to be in the players possession) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of shots actually fired </dd></dl>

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l00809">809</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>{</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>    <span class="keywordflow">if</span>( !gun.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;%s tried to fire non-gun (%s).&quot;</span>, <a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a>, gun.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>    }</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    <span class="keywordtype">bool</span> is_mech_weapon = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() &amp;&amp;</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>        <a class="code hl_variable" href="classCharacter.html#ac3d46549b7cdaac1f98991167ad5f1b3">mounted_creature</a>-&gt;has_flag( <a class="code hl_enumvalue" href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a674d4fc8b69d5ad8a6a2154d471ba941">MF_RIDEABLE_MECH</a> ) ) {</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>        is_mech_weapon = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>    }</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span> </div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>    <span class="keywordtype">int</span> shots = max_shots;</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>    <span class="comment">// Number of shots to fire is limited by the amount of remaining ammo</span></div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>    <span class="keywordflow">if</span>( gun.<a class="code hl_function" href="classitem.html#a7dc5d9ccf5638ae80cebe1864050fa26">ammo_required</a>() ) {</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>        shots = std::min( shots, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( gun.<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() / gun.<a class="code hl_function" href="classitem.html#a7dc5d9ccf5638ae80cebe1864050fa26">ammo_required</a>() ) );</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>    }</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span> </div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>    <span class="comment">// cap our maximum burst size by the amount of UPS power left</span></div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>    <span class="keywordflow">if</span>( !gun.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="ranged_8cpp.html#a08cb2ed99917b1260118f74991ece915">flag_VEHICLE</a> ) &amp;&amp; gun.<a class="code hl_function" href="classitem.html#af6bd135500675d45eb9b79b196d9558e">get_gun_ups_drain</a>() &gt; 0 ) {</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>        shots = std::min( shots, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_function" href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">charges_of</a>( <a class="code hl_variable" href="ranged_8cpp.html#a55a80a9bbab1925d5462d46d355c2b6e">itype_UPS</a> ) / gun.<a class="code hl_function" href="classitem.html#af6bd135500675d45eb9b79b196d9558e">get_gun_ups_drain</a>() ) );</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>    }</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span> </div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>    <span class="keywordflow">if</span>( shots &lt;= 0 ) {</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Attempted to fire zero or negative shots using %s&quot;</span>, gun.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>    }</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span> </div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>    <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;shape_factory&gt;</a> <a class="code hl_class" href="classshape.html">shape</a>;</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>    <span class="keywordflow">if</span>( gun.<a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>() &amp;&amp; gun.<a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>()-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a> ) {</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>        <a class="code hl_class" href="classshape.html">shape</a> = gun.<a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>()-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;shape;</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>    }</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span> </div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>    <span class="comment">// Shaped attacks don&#39;t allow aiming, so they don&#39;t suffer from lack of aim either</span></div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>    <span class="keywordtype">int</span> character_recoil = <a class="code hl_class" href="classshape.html">shape</a> ? <a class="code hl_function" href="classCharacter.html#accd6b165a9454cad9972bc153061215a">recoil_vehicle</a>() : <a class="code hl_function" href="classCharacter.html#aec46a4b513360ef60f6143830bbb711d">recoil_total</a>();</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>    <span class="comment">// Penalty is (intentionally) based off mode shots, not ammo-limited.</span></div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>    <a class="code hl_class" href="classdispersion__sources.html">dispersion_sources</a> dispersion = <a class="code hl_function" href="ranged_8cpp.html#a75bb71c29339b16696e3a2eb384bbc3c">calculate_dispersion</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m, *<span class="keyword">this</span>, gun, character_recoil,</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>                                    max_shots &gt; 1 );</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span> </div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>    <span class="keywordtype">bool</span> aoe_attack = gun.<a class="code hl_function" href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3">gun_skill</a>() == <a class="code hl_variable" href="ranged_8cpp.html#a0c6f7a1d7eeb2c38d69b568d85eb9f0d">skill_launcher</a> || <a class="code hl_class" href="classshape.html">shape</a>;</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>    <a class="code hl_struct" href="structtripoint.html">tripoint</a> aim = target;</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>    <span class="keywordtype">int</span> curshot = 0;</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>    <span class="keywordtype">int</span> hits = 0; <span class="comment">// total shots on target</span></div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>    <span class="keywordflow">while</span>( curshot != shots ) {</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>        <span class="keywordflow">if</span>( gun.<a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a>.count( <a class="code hl_variable" href="ranged_8cpp.html#ace607007c38b8d55a601963b24f89e7e">fault_gun_chamber_spent</a> ) &amp;&amp; curshot == 0 ) {</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>            <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= 50;</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>            gun.<a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a>.erase( <a class="code hl_variable" href="ranged_8cpp.html#ace607007c38b8d55a601963b24f89e7e">fault_gun_chamber_spent</a> );</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cycle your %s manually.&quot;</span> ), gun.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>        }</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span> </div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a589ee8688344c50b483d319cea1eb15b">handle_gun_damage</a>( gun ) ) {</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>        }</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span> </div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>        <span class="comment">// If this is a vehicle mounted turret, which vehicle is it mounted on?</span></div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>        <span class="keyword">const</span> <a class="code hl_class" href="classvehicle.html">vehicle</a> *in_veh = <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="ranged_8cpp.html#a3be9304af3e12dfef2f28becb7b93011">effect_on_roof</a> ) ? <a class="code hl_function" href="vpart__position_8h.html#a67bd76da258293f1443f1356308381dc">veh_pointer_or_null</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at(</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>                                    <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) : nullptr;</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>        <a class="code hl_struct" href="structprojectile.html">projectile</a> <a class="code hl_struct" href="structprojectile.html">projectile</a> = <a class="code hl_function" href="ranged_8cpp.html#ab0db3d2d826960249b5a1d47fa7881ff">make_gun_projectile</a>( gun );</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span> </div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>        <span class="comment">// Damage reduction from insufficient strength, if using a STR_DRAW weapon.</span></div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>        <a class="code hl_struct" href="structprojectile.html">projectile</a>.<a class="code hl_variable" href="structprojectile.html#a82d8f657f8cfc4e180c15bfab8ca8a6e">impact</a>.<a class="code hl_function" href="structdamage__instance.html#a6cc673dba3d2de116c2579c3eda7ed23">mult_damage</a>( <a class="code hl_function" href="namespaceranged.html#a32d7ead84f4eb01b4050fdbbca0767ea">ranged::str_draw_damage_modifier</a>( gun, *<span class="keyword">this</span> ) );</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span> </div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="ranged_8cpp.html#a7a08490346831114f00f3e44cbe454e3">trait_NORANGEDCRIT</a> ) ) {</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>            <a class="code hl_struct" href="structprojectile.html">projectile</a>.<a class="code hl_function" href="structprojectile.html#a05d90cbb1c83669dd7c23477c8f35963">add_effect</a>( <a class="code hl_variable" href="ranged_8cpp.html#a99d97c99b6e5d138e7daa56d509e13ed">ammo_effect_NO_CRIT</a> );</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>        }</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>        <span class="keywordflow">if</span>( !<a class="code hl_class" href="classshape.html">shape</a> ) {</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>            <span class="keyword">auto</span> shot = <a class="code hl_function" href="ballistics_8cpp.html#aeded5f16540ef8f873a7d9eb5edca240">projectile_attack</a>( <a class="code hl_struct" href="structprojectile.html">projectile</a>, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), aim, dispersion, <span class="keyword">this</span>, in_veh );</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>            <span class="keywordflow">if</span>( shot.missed_by &lt;= .1 ) {</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>                <span class="comment">// TODO: check head existence for headshot</span></div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea365dbc32084e314b4788756b6fa66ecb">event_type::character_gets_headshot</a>&gt;( <a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() );</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>            }</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span> </div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>            <span class="keywordflow">if</span>( shot.hit_critter ) {</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>                hits++;</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>            }</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>            <span class="comment">// 30 degree cap, like for projectiles</span></div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>            <span class="keywordtype">double</span> angle_offset_arcmin = std::min( dispersion.<a class="code hl_function" href="classdispersion__sources.html#acaee96ee2b8a0c87b6fb5a9e2d4285d9">roll</a>(), 1800.0 ) * ( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ? 1 : -1 );</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>            <span class="keywordtype">double</span> angle_offset = <a class="code hl_function" href="namespaceunits.html#a1bd284bde31c6b9124add6c8362c8a90">units::to_radians</a>( <a class="code hl_function" href="namespaceunits.html#a8841cc418c4abd052eab82f152a5af07">units::from_arcmin</a>( angle_offset_arcmin ) );</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>            <span class="keywordtype">double</span> dx = aim.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> - <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>().<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a>;</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>            <span class="keywordtype">double</span> dy = aim.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> - <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>().<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a>;</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>            <span class="keywordtype">double</span> new_angle = <a class="code hl_function" href="line_8cpp.html#aaa43dcdfe5b511b116fafb32c5cff349">atan2</a>( dy, dx ) + angle_offset;</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>            <span class="comment">// Always using trig here, rotations in maximum metric are weird</span></div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>            <span class="keywordtype">double</span> length = <a class="code hl_function" href="coordinates_8h.html#adf2fa43699f878fca49a987112d4aa03">trig_dist</a>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), aim );</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>            <a class="code hl_struct" href="structrl__vec3d.html">rl_vec3d</a> vec_pos( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>            <a class="code hl_struct" href="structrl__vec3d.html">rl_vec3d</a> new_aim = vec_pos + <a class="code hl_struct" href="structrl__vec3d.html">rl_vec3d</a>( length, 0, 0 ).<a class="code hl_function" href="structrl__vec3d.html#ace319a14c1ba51cb637cdd28d8cddc8c">rotated</a>( new_angle );</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>            <a class="code hl_function" href="namespaceranged.html#ade9b38890f46ab6cbe94e1004f0ea5f1">ranged::execute_shaped_attack</a>( *<a class="code hl_class" href="classshape.html">shape</a>-&gt;create( vec_pos, new_aim ), <a class="code hl_struct" href="structprojectile.html">projectile</a>, *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>        }</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>        curshot++;</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span> </div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>        <a class="code hl_function" href="ranged_8cpp.html#a9d14a0cc5b70610323cf40b51929fae5">make_gun_sound_effect</a>( *<span class="keyword">this</span>, shots &gt; 1, &amp;gun );</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>        <a class="code hl_function" href="namespacesfx.html#ae07ec6b40b7da8acd1d5386ea3a8e41f">sfx::generate_gun_sound</a>( *<span class="keyword">this</span>, gun );</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span> </div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>        <a class="code hl_function" href="ranged_8cpp.html#a8b90a63ce217d881ddad6a7456c4a98e">cycle_action</a>( gun, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span> </div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="ranged_8cpp.html#a512959ad2b35ea057f2fed5445fc23c4">trait_PYROMANIA</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#a51a6b8e64f0e18cd2d0bbfcff2edae57">has_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#a7a7fa39cff1d7efe58e013c63b7f0ee6">MORALE_PYROMANIA_STARTFIRE</a> ) ) {</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>            <span class="keywordflow">if</span>( gun.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="ranged_8cpp.html#add0bf5e67088357d1ff569fc62addb60">flag_PYROMANIAC_WEAPON</a> ) ) {</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel a surge of euphoria as flames roar out of the %s!&quot;</span> ),</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>                                   gun.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>                <a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#a7a7fa39cff1d7efe58e013c63b7f0ee6">MORALE_PYROMANIA_STARTFIRE</a>, 15, 15, 8_hours, 6_hours );</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>                <a class="code hl_function" href="classCharacter.html#ac55733961846b5c57183bd3b0fde9eae">rem_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#ae932ffaaef9c3a4092fc8727141405bf">MORALE_PYROMANIA_NOFIRE</a> );</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>            }</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>        }</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span> </div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>        <span class="keywordflow">if</span>( gun.<a class="code hl_function" href="classitem.html#ae00bce86206993cc672387f9a2c77f92">ammo_consume</a>( gun.<a class="code hl_function" href="classitem.html#a7dc5d9ccf5638ae80cebe1864050fa26">ammo_required</a>(), <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) != gun.<a class="code hl_function" href="classitem.html#a7dc5d9ccf5638ae80cebe1864050fa26">ammo_required</a>() ) {</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Unexpected shortage of ammo whilst firing %s&quot;</span>, gun.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>        }</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span> </div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>        <span class="keywordflow">if</span>( !gun.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="ranged_8cpp.html#a08cb2ed99917b1260118f74991ece915">flag_VEHICLE</a> ) ) {</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>            <a class="code hl_function" href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">use_charges</a>( <a class="code hl_variable" href="ranged_8cpp.html#a55a80a9bbab1925d5462d46d355c2b6e">itype_UPS</a>, gun.<a class="code hl_function" href="classitem.html#af6bd135500675d45eb9b79b196d9558e">get_gun_ups_drain</a>() );</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>        }</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span> </div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>        <span class="keywordflow">if</span>( aoe_attack ) {</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>            <span class="keywordflow">continue</span>; <span class="comment">// skip retargeting for launchers</span></div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>        }</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>    }</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span> </div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>    <span class="keywordflow">if</span>( gun.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="ranged_8cpp.html#a30c9d25adcf2167a8bff0fe6ca21fdaf">flag_RELOAD_AND_SHOOT</a> ) ) {</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>        <span class="comment">// Reset aim for bows and other reload-and-shoot weapons.</span></div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>        <a class="code hl_variable" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> = <a class="code hl_variable" href="game__constants_8h.html#a8226e8a134603e5bc06df05efd13d8d1">MAX_RECOIL</a>;</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>        <span class="comment">// Now actually apply recoil for the future shots</span></div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>        <span class="comment">// But only for one shot, because bursts kinda suck</span></div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>        <span class="keywordtype">int</span> gun_recoil = gun.<a class="code hl_function" href="classitem.html#a4dbbda81cd9bc9ed386b9c5bf71d5acd">gun_recoil</a>( <a class="code hl_function" href="ranged_8cpp.html#a6bfc75cd10b0d4de99dc6dcb44abc85b">can_use_bipod</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) );</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span> </div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>        <span class="comment">// If user is currently able to fire a mounted gun freely, penalize recoil based on size class.</span></div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>        <span class="keywordflow">if</span>( gun.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="ranged_8cpp.html#a9a327f2be95a30526c2d1ab6a31f72b2">flag_MOUNTED_GUN</a> ) &amp;&amp; !<a class="code hl_function" href="ranged_8cpp.html#a6bfc75cd10b0d4de99dc6dcb44abc85b">can_use_bipod</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#aa5ca0f6c4fb1c08bb93ece1c9746c368">get_size</a>() == <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9">MS_HUGE</a> ) {</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>                gun_recoil = gun_recoil * 2;</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>                gun_recoil = gun_recoil * 3;</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>            }</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>        }</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span> </div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>        <a class="code hl_variable" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> += gun_recoil;</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>        <span class="keywordflow">if</span>( is_mech_weapon ) {</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>            <span class="comment">// mechs can handle recoil far better. they are built around their main gun.</span></div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>            <a class="code hl_variable" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> = <a class="code hl_variable" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> / 2;</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>        }</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>        <a class="code hl_variable" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> = std::min( <a class="code hl_variable" href="game__constants_8h.html#a8226e8a134603e5bc06df05efd13d8d1">MAX_RECOIL</a>, <a class="code hl_variable" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> );</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>    }</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span> </div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>    <span class="comment">// Use different amounts of time depending on the type of gun and our skill</span></div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>    <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= <a class="code hl_function" href="ranged_8cpp.html#a613a8b59e4b2f2aaf05091d354bb4aa3">time_to_attack</a>( *<span class="keyword">this</span>, *gun.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> );</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span> </div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>    <span class="comment">// Practice the base gun skill proportionally to number of hits, but always by one.</span></div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>    <a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( <a class="code hl_variable" href="ranged_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a>, ( hits + 1 ) * 5 );</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>    <span class="comment">// launchers train weapon skill for both hits and misses.</span></div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>    <span class="keywordtype">int</span> practice_units = aoe_attack ? curshot : hits;</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>    <a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( gun.<a class="code hl_function" href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3">gun_skill</a>(), ( practice_units + 1 ) * 5 );</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span> </div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>    <span class="keywordflow">return</span> curshot;</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>}</div>
<div class="ttc" id="aballistics_8cpp_html_aeded5f16540ef8f873a7d9eb5edca240"><div class="ttname"><a href="ballistics_8cpp.html#aeded5f16540ef8f873a7d9eb5edca240">projectile_attack</a></div><div class="ttdeci">dealt_projectile_attack projectile_attack(const projectile &amp;proj_arg, const tripoint &amp;source, const tripoint &amp;target_arg, const dispersion_sources &amp;dispersion, Creature *origin, const vehicle *in_veh)</div><div class="ttdoc">Fires a projectile at the target point from the source point with total_dispersion dispersion.</div><div class="ttdef"><b>Definition:</b> <a href="ballistics_8cpp_source.html#l00201">ballistics.cpp:201</a></div></div>
<div class="ttc" id="aclassCharacter_html_a057d68671b298012a18f4e289b39935d"><div class="ttname"><a href="classCharacter.html#a057d68671b298012a18f4e289b39935d">Character::recoil</a></div><div class="ttdeci">double recoil</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00618">character.h:618</a></div></div>
<div class="ttc" id="aclassCharacter_html_a51a6b8e64f0e18cd2d0bbfcff2edae57"><div class="ttname"><a href="classCharacter.html#a51a6b8e64f0e18cd2d0bbfcff2edae57">Character::has_morale</a></div><div class="ttdeci">bool has_morale(const morale_type &amp;type) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09078">character.cpp:9078</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa5ca0f6c4fb1c08bb93ece1c9746c368"><div class="ttname"><a href="classCharacter.html#aa5ca0f6c4fb1c08bb93ece1c9746c368">Character::get_size</a></div><div class="ttdeci">m_size get_size() const override</div><div class="ttdoc">Get size class of character.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00534">character.cpp:534</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab6b6b317ae10bfb8f358fe289d645c96"><div class="ttname"><a href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">Character::add_morale</a></div><div class="ttdeci">void add_morale(const morale_type &amp;type, int bonus, int max_bonus=0, const time_duration &amp;duration=1_hours, const time_duration &amp;decay_start=30_minutes, bool capped=false, const itype *item_type=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09067">character.cpp:9067</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac55733961846b5c57183bd3b0fde9eae"><div class="ttname"><a href="classCharacter.html#ac55733961846b5c57183bd3b0fde9eae">Character::rem_morale</a></div><div class="ttdeci">void rem_morale(const morale_type &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09088">character.cpp:9088</a></div></div>
<div class="ttc" id="aclassCharacter_html_accd6b165a9454cad9972bc153061215a"><div class="ttname"><a href="classCharacter.html#accd6b165a9454cad9972bc153061215a">Character::recoil_vehicle</a></div><div class="ttdeci">double recoil_vehicle() const</div><div class="ttdoc">Get maximum recoil penalty due to vehicle motion.</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l02048">ranged.cpp:2048</a></div></div>
<div class="ttc" id="aclassCharacter_html_adb54bdcb284abb66b6be99c8ae225065"><div class="ttname"><a href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">Character::getID</a></div><div class="ttdeci">character_id getID() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00470">character.cpp:470</a></div></div>
<div class="ttc" id="aclassCharacter_html_aec46a4b513360ef60f6143830bbb711d"><div class="ttname"><a href="classCharacter.html#aec46a4b513360ef60f6143830bbb711d">Character::recoil_total</a></div><div class="ttdeci">double recoil_total() const</div><div class="ttdoc">Current total maximum recoil penalty from all sources.</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l02060">ranged.cpp:2060</a></div></div>
<div class="ttc" id="aclasscata_1_1optional_html"><div class="ttname"><a href="classcata_1_1optional.html">cata::optional</a></div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00030">optional.h:31</a></div></div>
<div class="ttc" id="aclassdispersion__sources_html"><div class="ttname"><a href="classdispersion__sources.html">dispersion_sources</a></div><div class="ttdef"><b>Definition:</b> <a href="dispersion_8h_source.html#l00008">dispersion.h:9</a></div></div>
<div class="ttc" id="aclassdispersion__sources_html_acaee96ee2b8a0c87b6fb5a9e2d4285d9"><div class="ttname"><a href="classdispersion__sources.html#acaee96ee2b8a0c87b6fb5a9e2d4285d9">dispersion_sources::roll</a></div><div class="ttdeci">double roll() const</div><div class="ttdef"><b>Definition:</b> <a href="dispersion_8cpp_source.html#l00005">dispersion.cpp:5</a></div></div>
<div class="ttc" id="aclassitem_html_a12a6fa8aac1350f3ca4362a1bdccd9b0"><div class="ttname"><a href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">item::faults</a></div><div class="ttdeci">std::set&lt; fault_id &gt; faults</div><div class="ttdoc">What faults (if any) currently apply to this item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02160">item.h:2160</a></div></div>
<div class="ttc" id="aclassitem_html_a26c025fd4909bd31c8e91ed87905507b"><div class="ttname"><a href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">item::ammo_remaining</a></div><div class="ttdeci">int ammo_remaining() const</div><div class="ttdoc">Quantity of ammunition currently loaded in tool, gun or auxiliary gunmod.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07226">item.cpp:7226</a></div></div>
<div class="ttc" id="aclassitem_html_a2912b2e15a4eec07a5070fffbbd152e8"><div class="ttname"><a href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">item::is_gun</a></div><div class="ttdeci">bool is_gun() const</div><div class="ttdoc">Can this item be used to perform a ranged attack?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06367">item.cpp:6367</a></div></div>
<div class="ttc" id="aclassitem_html_a3d8542661f2e2a82e8cb3792584912f3"><div class="ttname"><a href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3">item::gun_skill</a></div><div class="ttdeci">skill_id gun_skill() const</div><div class="ttdoc">The skill used to operate the gun.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07026">item.cpp:7026</a></div></div>
<div class="ttc" id="aclassitem_html_a4dbbda81cd9bc9ed386b9c5bf71d5acd"><div class="ttname"><a href="classitem.html#a4dbbda81cd9bc9ed386b9c5bf71d5acd">item::gun_recoil</a></div><div class="ttdeci">int gun_recoil(bool bipod=false) const</div><div class="ttdoc">Get effective recoil considering handling, loaded ammo and effects of attached gunmods.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07168">item.cpp:7168</a></div></div>
<div class="ttc" id="aclassitem_html_a624c3b7ec10ae766a9e75718af71e647"><div class="ttname"><a href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">item::ammo_current</a></div><div class="ttdeci">itype_id ammo_current() const</div><div class="ttdoc">Specific ammo type, returns &quot;null&quot; if item is neither ammo nor loaded with any.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07402">item.cpp:7402</a></div></div>
<div class="ttc" id="aclassitem_html_a7dc5d9ccf5638ae80cebe1864050fa26"><div class="ttname"><a href="classitem.html#a7dc5d9ccf5638ae80cebe1864050fa26">item::ammo_required</a></div><div class="ttdeci">int ammo_required() const</div><div class="ttdoc">Quantity of ammunition consumed per usage of tool or with each shot of gun.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07296">item.cpp:7296</a></div></div>
<div class="ttc" id="aclassitem_html_ae00bce86206993cc672387f9a2c77f92"><div class="ttname"><a href="classitem.html#ae00bce86206993cc672387f9a2c77f92">item::ammo_consume</a></div><div class="ttdeci">int ammo_consume(int qty, const tripoint &amp;pos)</div><div class="ttdoc">Consume ammo (if available) and return the amount of ammo that was consumed.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07324">item.cpp:7324</a></div></div>
<div class="ttc" id="aclassitem_html_af6bd135500675d45eb9b79b196d9558e"><div class="ttname"><a href="classitem.html#af6bd135500675d45eb9b79b196d9558e">item::get_gun_ups_drain</a></div><div class="ttdeci">int get_gun_ups_drain() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09759">item.cpp:9759</a></div></div>
<div class="ttc" id="aclassplayer_html_a589ee8688344c50b483d319cea1eb15b"><div class="ttname"><a href="classplayer.html#a589ee8688344c50b483d319cea1eb15b">player::handle_gun_damage</a></div><div class="ttdeci">bool handle_gun_damage(item &amp;it)</div><div class="ttdoc">Returns true if a gun misfires, jams, or has other problems, else returns false.</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l00589">ranged.cpp:589</a></div></div>
<div class="ttc" id="aclassshape_html"><div class="ttname"><a href="classshape.html">shape</a></div><div class="ttdoc">Class describing shapes in 3D space.</div><div class="ttdef"><b>Definition:</b> <a href="shape_8h_source.html#l00021">shape.h:22</a></div></div>
<div class="ttc" id="aclassvehicle_html"><div class="ttname"><a href="classvehicle.html">vehicle</a></div><div class="ttdoc">A vehicle as a whole with all its components.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00674">vehicle.h:675</a></div></div>
<div class="ttc" id="aclassvisitable_html_a517e20b6f6c13b8316d5cce8e310b871"><div class="ttname"><a href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">visitable&lt; Character &gt;::charges_of</a></div><div class="ttdeci">int charges_of(const itype_id &amp;what, int limit=INT_MAX, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;, std::function&lt; void(int)&gt; visitor=nullptr) const</div><div class="ttdoc">Count maximum available charges from this instance and any contained items.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00079">visitable.cpp:943</a></div></div>
<div class="ttc" id="acoordinates_8h_html_adf2fa43699f878fca49a987112d4aa03"><div class="ttname"><a href="coordinates_8h.html#adf2fa43699f878fca49a987112d4aa03">trig_dist</a></div><div class="ttdeci">int trig_dist(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00512">coordinates.h:512</a></div></div>
<div class="ttc" id="acreature_8h_html_a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9"><div class="ttname"><a href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9">MS_HUGE</a></div><div class="ttdeci">@ MS_HUGE</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00062">creature.h:62</a></div></div>
<div class="ttc" id="aevent_8h_html_a430b444c74dd3fd1472a31714ec5f1cea365dbc32084e314b4788756b6fa66ecb"><div class="ttname"><a href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea365dbc32084e314b4788756b6fa66ecb">event_type::character_gets_headshot</a></div><div class="ttdeci">@ character_gets_headshot</div></div>
<div class="ttc" id="agame__constants_8h_html_a8226e8a134603e5bc06df05efd13d8d1"><div class="ttname"><a href="game__constants_8h.html#a8226e8a134603e5bc06df05efd13d8d1">MAX_RECOIL</a></div><div class="ttdeci">constexpr double MAX_RECOIL</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00128">game_constants.h:128</a></div></div>
<div class="ttc" id="aline_8cpp_html_aaa43dcdfe5b511b116fafb32c5cff349"><div class="ttname"><a href="line_8cpp.html#aaa43dcdfe5b511b116fafb32c5cff349">atan2</a></div><div class="ttdeci">units::angle atan2(const point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="line_8cpp_source.html#l00321">line.cpp:321</a></div></div>
<div class="ttc" id="amorale__types_8cpp_html_a7a7fa39cff1d7efe58e013c63b7f0ee6"><div class="ttname"><a href="morale__types_8cpp.html#a7a7fa39cff1d7efe58e013c63b7f0ee6">MORALE_PYROMANIA_STARTFIRE</a></div><div class="ttdeci">const morale_type MORALE_PYROMANIA_STARTFIRE(&quot;morale_pyromania_startfire&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_ae932ffaaef9c3a4092fc8727141405bf"><div class="ttname"><a href="morale__types_8cpp.html#ae932ffaaef9c3a4092fc8727141405bf">MORALE_PYROMANIA_NOFIRE</a></div><div class="ttdeci">const morale_type MORALE_PYROMANIA_NOFIRE(&quot;morale_pyromania_nofire&quot;)</div></div>
<div class="ttc" id="anamespaceranged_html_a32d7ead84f4eb01b4050fdbbca0767ea"><div class="ttname"><a href="namespaceranged.html#a32d7ead84f4eb01b4050fdbbca0767ea">ranged::str_draw_damage_modifier</a></div><div class="ttdeci">float str_draw_damage_modifier(const item &amp;it, const Character &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01007">ranged.cpp:1007</a></div></div>
<div class="ttc" id="anamespaceranged_html_ade9b38890f46ab6cbe94e1004f0ea5f1"><div class="ttname"><a href="namespaceranged.html#ade9b38890f46ab6cbe94e1004f0ea5f1">ranged::execute_shaped_attack</a></div><div class="ttdeci">void execute_shaped_attack(const shape &amp;sh, const projectile &amp;proj, Creature &amp;attacker)</div><div class="ttdoc">AoE attack, with area given by shape.</div><div class="ttdef"><b>Definition:</b> <a href="ranged__aoe_8cpp_source.html#l00044">ranged_aoe.cpp:44</a></div></div>
<div class="ttc" id="anamespacesfx_html_ae07ec6b40b7da8acd1d5386ea3a8e41f"><div class="ttname"><a href="namespacesfx.html#ae07ec6b40b7da8acd1d5386ea3a8e41f">sfx::generate_gun_sound</a></div><div class="ttdeci">void generate_gun_sound(const player &amp;source_arg, const item &amp;firing)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l01597">sounds.cpp:1597</a></div></div>
<div class="ttc" id="anamespaceunits_html_a1bd284bde31c6b9124add6c8362c8a90"><div class="ttname"><a href="namespaceunits.html#a1bd284bde31c6b9124add6c8362c8a90">units::to_radians</a></div><div class="ttdeci">constexpr double to_radians(const units::angle v)</div><div class="ttdef"><b>Definition:</b> <a href="units__angle_8h_source.html#l00025">units_angle.h:25</a></div></div>
<div class="ttc" id="anamespaceunits_html_a8841cc418c4abd052eab82f152a5af07"><div class="ttname"><a href="namespaceunits.html#a8841cc418c4abd052eab82f152a5af07">units::from_arcmin</a></div><div class="ttdeci">constexpr quantity&lt; double, angle_in_radians_tag &gt; from_arcmin(const value_type v)</div><div class="ttdef"><b>Definition:</b> <a href="units__angle_8h_source.html#l00042">units_angle.h:42</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a08cb2ed99917b1260118f74991ece915"><div class="ttname"><a href="ranged_8cpp.html#a08cb2ed99917b1260118f74991ece915">flag_VEHICLE</a></div><div class="ttdeci">static const std::string flag_VEHICLE(&quot;VEHICLE&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a0c6f7a1d7eeb2c38d69b568d85eb9f0d"><div class="ttname"><a href="ranged_8cpp.html#a0c6f7a1d7eeb2c38d69b568d85eb9f0d">skill_launcher</a></div><div class="ttdeci">static const skill_id skill_launcher(&quot;launcher&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a30c9d25adcf2167a8bff0fe6ca21fdaf"><div class="ttname"><a href="ranged_8cpp.html#a30c9d25adcf2167a8bff0fe6ca21fdaf">flag_RELOAD_AND_SHOOT</a></div><div class="ttdeci">static const std::string flag_RELOAD_AND_SHOOT(&quot;RELOAD_AND_SHOOT&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a3be9304af3e12dfef2f28becb7b93011"><div class="ttname"><a href="ranged_8cpp.html#a3be9304af3e12dfef2f28becb7b93011">effect_on_roof</a></div><div class="ttdeci">static const efftype_id effect_on_roof(&quot;on_roof&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a3eadead4a9aa7fee079c0b1acce7965e"><div class="ttname"><a href="ranged_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a></div><div class="ttdeci">static const skill_id skill_gun(&quot;gun&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a512959ad2b35ea057f2fed5445fc23c4"><div class="ttname"><a href="ranged_8cpp.html#a512959ad2b35ea057f2fed5445fc23c4">trait_PYROMANIA</a></div><div class="ttdeci">static const trait_id trait_PYROMANIA(&quot;PYROMANIA&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a55a80a9bbab1925d5462d46d355c2b6e"><div class="ttname"><a href="ranged_8cpp.html#a55a80a9bbab1925d5462d46d355c2b6e">itype_UPS</a></div><div class="ttdeci">static const itype_id itype_UPS(&quot;UPS&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a613a8b59e4b2f2aaf05091d354bb4aa3"><div class="ttname"><a href="ranged_8cpp.html#a613a8b59e4b2f2aaf05091d354bb4aa3">time_to_attack</a></div><div class="ttdeci">int time_to_attack(const Character &amp;p, const itype &amp;firing)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01711">ranged.cpp:1711</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a6bfc75cd10b0d4de99dc6dcb44abc85b"><div class="ttname"><a href="ranged_8cpp.html#a6bfc75cd10b0d4de99dc6dcb44abc85b">can_use_bipod</a></div><div class="ttdeci">bool can_use_bipod(const map &amp;m, const tripoint &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l00778">ranged.cpp:778</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a75bb71c29339b16696e3a2eb384bbc3c"><div class="ttname"><a href="ranged_8cpp.html#a75bb71c29339b16696e3a2eb384bbc3c">calculate_dispersion</a></div><div class="ttdeci">dispersion_sources calculate_dispersion(const map &amp;m, const player &amp;p, const item &amp;gun, int at_recoil, bool burst)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l00792">ranged.cpp:792</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a7a08490346831114f00f3e44cbe454e3"><div class="ttname"><a href="ranged_8cpp.html#a7a08490346831114f00f3e44cbe454e3">trait_NORANGEDCRIT</a></div><div class="ttdeci">static const trait_id trait_NORANGEDCRIT(&quot;NO_RANGED_CRIT&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a8b90a63ce217d881ddad6a7456c4a98e"><div class="ttname"><a href="ranged_8cpp.html#a8b90a63ce217d881ddad6a7456c4a98e">cycle_action</a></div><div class="ttdeci">static void cycle_action(item &amp;weap, const tripoint &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01719">ranged.cpp:1719</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a99d97c99b6e5d138e7daa56d509e13ed"><div class="ttname"><a href="ranged_8cpp.html#a99d97c99b6e5d138e7daa56d509e13ed">ammo_effect_NO_CRIT</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_NO_CRIT(&quot;NO_CRIT&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a9a327f2be95a30526c2d1ab6a31f72b2"><div class="ttname"><a href="ranged_8cpp.html#a9a327f2be95a30526c2d1ab6a31f72b2">flag_MOUNTED_GUN</a></div><div class="ttdeci">static const std::string flag_MOUNTED_GUN(&quot;MOUNTED_GUN&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a9d14a0cc5b70610323cf40b51929fae5"><div class="ttname"><a href="ranged_8cpp.html#a9d14a0cc5b70610323cf40b51929fae5">make_gun_sound_effect</a></div><div class="ttdeci">void make_gun_sound_effect(const player &amp;p, bool burst, item *weapon)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01767">ranged.cpp:1767</a></div></div>
<div class="ttc" id="aranged_8cpp_html_ab0db3d2d826960249b5a1d47fa7881ff"><div class="ttname"><a href="ranged_8cpp.html#ab0db3d2d826960249b5a1d47fa7881ff">make_gun_projectile</a></div><div class="ttdeci">static projectile make_gun_projectile(const item &amp;gun)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01666">ranged.cpp:1666</a></div></div>
<div class="ttc" id="aranged_8cpp_html_ace607007c38b8d55a601963b24f89e7e"><div class="ttname"><a href="ranged_8cpp.html#ace607007c38b8d55a601963b24f89e7e">fault_gun_chamber_spent</a></div><div class="ttdeci">static const fault_id fault_gun_chamber_spent(&quot;fault_gun_chamber_spent&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_add0bf5e67088357d1ff569fc62addb60"><div class="ttname"><a href="ranged_8cpp.html#add0bf5e67088357d1ff569fc62addb60">flag_PYROMANIAC_WEAPON</a></div><div class="ttdeci">static const std::string flag_PYROMANIAC_WEAPON(&quot;PYROMANIAC_WEAPON&quot;)</div></div>
<div class="ttc" id="astructdamage__instance_html_a6cc673dba3d2de116c2579c3eda7ed23"><div class="ttname"><a href="structdamage__instance.html#a6cc673dba3d2de116c2579c3eda7ed23">damage_instance::mult_damage</a></div><div class="ttdeci">void mult_damage(double multiplier, bool pre_armor=false)</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00048">damage.cpp:48</a></div></div>
<div class="ttc" id="astructitype_html_a7cb80d77696cefb42ac6e75756b47e60"><div class="ttname"><a href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">itype::ammo</a></div><div class="ttdeci">cata::value_ptr&lt; islot_ammo &gt; ammo</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00862">itype.h:862</a></div></div>
<div class="ttc" id="astructprojectile_html"><div class="ttname"><a href="structprojectile.html">projectile</a></div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00020">projectile.h:20</a></div></div>
<div class="ttc" id="astructprojectile_html_a05d90cbb1c83669dd7c23477c8f35963"><div class="ttname"><a href="structprojectile.html#a05d90cbb1c83669dd7c23477c8f35963">projectile::add_effect</a></div><div class="ttdeci">void add_effect(const ammo_effect_str_id &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00058">projectile.h:58</a></div></div>
<div class="ttc" id="astructprojectile_html_a82d8f657f8cfc4e180c15bfab8ca8a6e"><div class="ttname"><a href="structprojectile.html#a82d8f657f8cfc4e180c15bfab8ca8a6e">projectile::impact</a></div><div class="ttdeci">damage_instance impact</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00021">projectile.h:21</a></div></div>
<div class="ttc" id="astructrl__vec3d_html"><div class="ttname"><a href="structrl__vec3d.html">rl_vec3d</a></div><div class="ttdef"><b>Definition:</b> <a href="point__float_8h_source.html#l00037">point_float.h:37</a></div></div>
<div class="ttc" id="astructrl__vec3d_html_ace319a14c1ba51cb637cdd28d8cddc8c"><div class="ttname"><a href="structrl__vec3d.html#ace319a14c1ba51cb637cdd28d8cddc8c">rl_vec3d::rotated</a></div><div class="ttdeci">rl_vec3d rotated(float angle) const</div><div class="ttdef"><b>Definition:</b> <a href="line_8cpp_source.html#l00655">line.cpp:655</a></div></div>
<div class="ttc" id="astructtripoint_html_a89f6c0a16e2bfd7ce4f1f1d20404c4d7"><div class="ttname"><a href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">tripoint::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00151">point.h:151</a></div></div>
<div class="ttc" id="astructtripoint_html_affdc0d5b75024cbfacd208a495def3dc"><div class="ttname"><a href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">tripoint::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00150">point.h:150</a></div></div>
<div class="ttc" id="avpart__position_8h_html_a67bd76da258293f1443f1356308381dc"><div class="ttname"><a href="vpart__position_8h.html#a67bd76da258293f1443f1356308381dc">veh_pointer_or_null</a></div><div class="ttdeci">vehicle * veh_pointer_or_null(const optional_vpart_position &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00154">vpart_position.h:154</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="projectile_8h_source.html#l00058">projectile::add_effect()</a>, <a class="el" href="character_8cpp_source.html#l09067">Character::add_morale()</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="itype_8h_source.html#l00862">itype::ammo</a>, <a class="el" href="item_8cpp_source.html#l07324">item::ammo_consume()</a>, <a class="el" href="item_8cpp_source.html#l07402">item::ammo_current()</a>, <a class="el" href="ranged_8cpp.html#a99d97c99b6e5d138e7daa56d509e13ed">ammo_effect_NO_CRIT</a>, <a class="el" href="item_8cpp_source.html#l07226">item::ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l07296">item::ammo_required()</a>, <a class="el" href="line_8cpp_source.html#l00321">atan2()</a>, <a class="el" href="ranged_8cpp_source.html#l00792">calculate_dispersion()</a>, <a class="el" href="ranged_8cpp_source.html#l00778">can_use_bipod()</a>, <a class="el" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea365dbc32084e314b4788756b6fa66ecb">character_gets_headshot</a>, <a class="el" href="visitable_8cpp_source.html#l00943">visitable&lt; Character &gt;::charges_of()</a>, <a class="el" href="ranged_8cpp_source.html#l01719">cycle_action()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="ranged_8cpp.html#a3be9304af3e12dfef2f28becb7b93011">effect_on_roof</a>, <a class="el" href="ranged__aoe_8cpp_source.html#l00044">ranged::execute_shaped_attack()</a>, <a class="el" href="ranged_8cpp.html#ace607007c38b8d55a601963b24f89e7e">fault_gun_chamber_spent</a>, <a class="el" href="item_8h_source.html#l02160">item::faults</a>, <a class="el" href="ranged_8cpp.html#a9a327f2be95a30526c2d1ab6a31f72b2">flag_MOUNTED_GUN()</a>, <a class="el" href="ranged_8cpp.html#add0bf5e67088357d1ff569fc62addb60">flag_PYROMANIAC_WEAPON()</a>, <a class="el" href="ranged_8cpp.html#a30c9d25adcf2167a8bff0fe6ca21fdaf">flag_RELOAD_AND_SHOOT()</a>, <a class="el" href="ranged_8cpp.html#a08cb2ed99917b1260118f74991ece915">flag_VEHICLE()</a>, <a class="el" href="units__angle_8h_source.html#l00042">units::from_arcmin()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="sounds_8cpp_source.html#l01597">sfx::generate_gun_sound()</a>, <a class="el" href="item_8cpp_source.html#l09759">item::get_gun_ups_drain()</a>, <a class="el" href="character_8cpp_source.html#l00534">Character::get_size()</a>, <a class="el" href="character_8cpp_source.html#l00470">Character::getID()</a>, <a class="el" href="item_8cpp_source.html#l07168">item::gun_recoil()</a>, <a class="el" href="item_8cpp_source.html#l07026">item::gun_skill()</a>, <a class="el" href="ranged_8cpp_source.html#l00589">handle_gun_damage()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="character_8cpp_source.html#l09078">Character::has_morale()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="projectile_8h_source.html#l00021">projectile::impact</a>, <a class="el" href="item_8cpp_source.html#l06367">item::is_gun()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="ranged_8cpp.html#a55a80a9bbab1925d5462d46d355c2b6e">itype_UPS</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="ranged_8cpp_source.html#l01666">make_gun_projectile()</a>, <a class="el" href="ranged_8cpp_source.html#l01767">make_gun_sound_effect()</a>, <a class="el" href="game__constants_8h_source.html#l00128">MAX_RECOIL</a>, <a class="el" href="mtype_8h_source.html#l00115">MF_RIDEABLE_MECH</a>, <a class="el" href="morale__types_8cpp.html#ae932ffaaef9c3a4092fc8727141405bf">MORALE_PYROMANIA_NOFIRE</a>, <a class="el" href="morale__types_8cpp.html#a7a7fa39cff1d7efe58e013c63b7f0ee6">MORALE_PYROMANIA_STARTFIRE</a>, <a class="el" href="character_8h_source.html#l01620">Character::mounted_creature</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="creature_8h_source.html#l00062">MS_HUGE</a>, <a class="el" href="damage_8cpp_source.html#l00048">damage_instance::mult_damage()</a>, <a class="el" href="character_8h_source.html#l01568">Character::name</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="player_8cpp_source.html#l04005">practice()</a>, <a class="el" href="ballistics_8cpp_source.html#l00201">projectile_attack()</a>, <a class="el" href="character_8h_source.html#l00618">Character::recoil</a>, <a class="el" href="ranged_8cpp_source.html#l02060">Character::recoil_total()</a>, <a class="el" href="ranged_8cpp_source.html#l02048">Character::recoil_vehicle()</a>, <a class="el" href="character_8cpp_source.html#l09088">Character::rem_morale()</a>, <a class="el" href="dispersion_8cpp_source.html#l00005">dispersion_sources::roll()</a>, <a class="el" href="line_8cpp_source.html#l00655">rl_vec3d::rotated()</a>, <a class="el" href="ranged_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a>, <a class="el" href="ranged_8cpp.html#a0c6f7a1d7eeb2c38d69b568d85eb9f0d">skill_launcher</a>, <a class="el" href="ranged_8cpp_source.html#l01007">ranged::str_draw_damage_modifier()</a>, <a class="el" href="ranged_8cpp_source.html#l01711">time_to_attack()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="units__angle_8h_source.html#l00025">units::to_radians()</a>, <a class="el" href="ranged_8cpp.html#a7a08490346831114f00f3e44cbe454e3">trait_NORANGEDCRIT</a>, <a class="el" href="ranged_8cpp.html#a512959ad2b35ea057f2fed5445fc23c4">trait_PYROMANIA</a>, <a class="el" href="coordinates_8h_source.html#l00512">trig_dist()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="character_8cpp_source.html#l09631">Character::use_charges()</a>, <a class="el" href="vpart__position_8h_source.html#l00154">veh_pointer_or_null()</a>, <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>, and <a class="el" href="point_8h_source.html#l00151">tripoint::y</a>.</p>

</div>
</div>
<a id="a44202fda7322e9ba557a37a7081e249c" name="a44202fda7322e9ba557a37a7081e249c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44202fda7322e9ba557a37a7081e249c">&#9670;&nbsp;</a></span>fire_gun() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::fire_gun </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shots</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fires a gun or auxiliary gunmod (ignoring any current mode) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>where the first shot is aimed at (may vary for later shots) </td></tr>
    <tr><td class="paramname">shots</td><td>maximum number of shots to fire (less may be fired in some circumstances) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of shots actually fired </dd></dl>

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l00804">804</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>{</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classplayer.html#a44202fda7322e9ba557a37a7081e249c">fire_gun</a>( target, shots, <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> );</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>}</div>
<div class="ttc" id="aclassplayer_html_a44202fda7322e9ba557a37a7081e249c"><div class="ttname"><a href="classplayer.html#a44202fda7322e9ba557a37a7081e249c">player::fire_gun</a></div><div class="ttdeci">int fire_gun(const tripoint &amp;target, int shots=1)</div><div class="ttdoc">Fires a gun or auxiliary gunmod (ignoring any current mode)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l00804">ranged.cpp:804</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ranged_8cpp_source.html#l00804">fire_gun()</a>, and <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l00952">npc::execute_action()</a>, <a class="el" href="turret_8cpp_source.html#l00292">turret_data::fire()</a>, <a class="el" href="ranged_8cpp_source.html#l00804">fire_gun()</a>, <a class="el" href="monattack_8cpp_source.html#l03321">mattack::frag()</a>, <a class="el" href="monattack_8cpp_source.html#l03272">mattack::rifle()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l00557">gun_actor::shoot()</a>, and <a class="el" href="monattack_8cpp_source.html#l03381">mattack::tankgun()</a>.</p>

</div>
</div>
<a id="a51e8ad7ee6cea745cffabc78c7cd95e7" name="a51e8ad7ee6cea745cffabc78c7cd95e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51e8ad7ee6cea745cffabc78c7cd95e7">&#9670;&nbsp;</a></span>fun_to_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::fun_to_read </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>book</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03645">3645</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03646" name="l03646"></a><span class="lineno"> 3646</span>{</div>
<div class="line"><a id="l03647" name="l03647"></a><span class="lineno"> 3647</span>    <span class="comment">// If you don&#39;t have a problem with eating humans, To Serve Man becomes rewarding</span></div>
<div class="line"><a id="l03648" name="l03648"></a><span class="lineno"> 3648</span>    <span class="keywordflow">if</span>( ( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#af1a3e5c07ef96be118895afd086ba143">trait_CANNIBAL</a> ) || <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a> ) ||</div>
<div class="line"><a id="l03649" name="l03649"></a><span class="lineno"> 3649</span>          <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a93f31d20e997d966be8b81d64c31582b">trait_SAPIOVORE</a> ) ) &amp;&amp;</div>
<div class="line"><a id="l03650" name="l03650"></a><span class="lineno"> 3650</span>        book.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="player_8cpp.html#aba728ba1b648f6ef568b96fbe1cd74fb">itype_cookbook_human</a> ) {</div>
<div class="line"><a id="l03651" name="l03651"></a><span class="lineno"> 3651</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03652" name="l03652"></a><span class="lineno"> 3652</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a> ) &amp;&amp; book.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;INSPIRATIONAL&quot;</span> ) ) {</div>
<div class="line"><a id="l03653" name="l03653"></a><span class="lineno"> 3653</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03654" name="l03654"></a><span class="lineno"> 3654</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03655" name="l03655"></a><span class="lineno"> 3655</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classplayer.html#a1869e8eaef94e686180c539c32dc52ca">book_fun_for</a>( book, *<span class="keyword">this</span> ) &gt; 0;</div>
<div class="line"><a id="l03656" name="l03656"></a><span class="lineno"> 3656</span>    }</div>
<div class="line"><a id="l03657" name="l03657"></a><span class="lineno"> 3657</span>}</div>
<div class="ttc" id="aclassplayer_html_a1869e8eaef94e686180c539c32dc52ca"><div class="ttname"><a href="classplayer.html#a1869e8eaef94e686180c539c32dc52ca">player::book_fun_for</a></div><div class="ttdeci">int book_fun_for(const item &amp;book, const player &amp;p) const</div><div class="ttdoc">Handles the enjoyability value for a book.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03659">player.cpp:3659</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player_8cpp_source.html#l03659">book_fun_for()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="player_8cpp.html#aba728ba1b648f6ef568b96fbe1cd74fb">itype_cookbook_human</a>, <a class="el" href="player_8cpp.html#af1a3e5c07ef96be118895afd086ba143">trait_CANNIBAL</a>, <a class="el" href="player_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a>, <a class="el" href="player_8cpp.html#a93f31d20e997d966be8b81d64c31582b">trait_SAPIOVORE</a>, <a class="el" href="player_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="avatar_8cpp_source.html#l00245">avatar::get_book_reader()</a>, <a class="el" href="npc_8cpp_source.html#l00875">npc::time_to_read()</a>, and <a class="el" href="avatar_8cpp_source.html#l00334">avatar::time_to_read()</a>.</p>

</div>
</div>
<a id="ab72a48abf40ace9fafec0738996ad866" name="ab72a48abf40ace9fafec0738996ad866"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab72a48abf40ace9fafec0738996ad866">&#9670;&nbsp;</a></span>get_artifact_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="classitem.html">item</a> * &gt; player::get_artifact_items </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns list of artifacts in player inventory. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00717">717</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>{</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>    std::list&lt;item *&gt; art_items;</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="inventory_8h.html#a1d1a58da8e9c617f38902ba44c72b6b2">invslice</a> &amp;stacks = <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a51bfb1f66b7b07d630b403bf964e84f9">slice</a>();</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;stack : stacks ) {</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>        <a class="code hl_class" href="classitem.html">item</a> &amp;stack_iter = stack-&gt;front();</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>        <span class="keywordflow">if</span>( stack_iter.<a class="code hl_function" href="classitem.html#a363ebdca3f9264390dbc6618de34c778">is_artifact</a>() ) {</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>            art_items.push_back( &amp;stack_iter );</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>        }</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>    }</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a> ) {</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>        <span class="keywordflow">if</span>( elem.is_artifact() ) {</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>            art_items.push_back( &amp;elem );</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>        }</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>    }</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#ad79464264cb8a2061f5888d092f5cd86">is_armed</a>() ) {</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a363ebdca3f9264390dbc6618de34c778">is_artifact</a>() ) {</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>            art_items.push_back( &amp;<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> );</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>        }</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>    }</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>    <span class="keywordflow">return</span> art_items;</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>}</div>
<div class="ttc" id="aclassinventory_html_a51bfb1f66b7b07d630b403bf964e84f9"><div class="ttname"><a href="classinventory.html#a51bfb1f66b7b07d630b403bf964e84f9">inventory::slice</a></div><div class="ttdeci">invslice slice()</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00133">inventory.cpp:133</a></div></div>
<div class="ttc" id="aclassitem_html_a363ebdca3f9264390dbc6618de34c778"><div class="ttname"><a href="classitem.html#a363ebdca3f9264390dbc6618de34c778">item::is_artifact</a></div><div class="ttdeci">bool is_artifact() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06813">item.cpp:6813</a></div></div>
<div class="ttc" id="ainventory_8h_html_a1d1a58da8e9c617f38902ba44c72b6b2"><div class="ttname"><a href="inventory_8h.html#a1d1a58da8e9c617f38902ba44c72b6b2">invslice</a></div><div class="ttdeci">std::vector&lt; std::list&lt; item &gt; * &gt; invslice</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00032">inventory.h:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abd7dbcb2cb20ee59903ffbd4d10d3f63" name="abd7dbcb2cb20ee59903ffbd4d10d3f63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd7dbcb2cb20ee59903ffbd4d10d3f63">&#9670;&nbsp;</a></span>get_available_recipes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrecipe__subset.html">recipe_subset</a> player::get_available_recipes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td>
          <td class="paramname"><em>crafting_inv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classnpc.html">npc</a> * &gt; *&#160;</td>
          <td class="paramname"><em>helpers</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="player_8h.html#ae2615a93a91e7d03895ae911437aec6f">recipe_filter</a>&#160;</td>
          <td class="paramname"><em>filter</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all available recipes (from books and npc companions) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">crafting_inv</td><td>Current available items to craft </td></tr>
    <tr><td class="paramname">helpers</td><td>List of NPCs that could help with crafting. </td></tr>
    <tr><td class="paramname">filter</td><td>If set, will return only recipes that match the filter (should be much faster). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03735">3735</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03737" name="l03737"></a><span class="lineno"> 3737</span>{</div>
<div class="line"><a id="l03738" name="l03738"></a><span class="lineno"> 3738</span>    <a class="code hl_class" href="classrecipe__subset.html">recipe_subset</a> res;</div>
<div class="line"><a id="l03739" name="l03739"></a><span class="lineno"> 3739</span> </div>
<div class="line"><a id="l03740" name="l03740"></a><span class="lineno"> 3740</span>    <span class="keywordflow">if</span>( filter ) {</div>
<div class="line"><a id="l03741" name="l03741"></a><span class="lineno"> 3741</span>        res.<a class="code hl_function" href="classrecipe__subset.html#a254901913945d6691b113cadab423bfd">include_if</a>( <a class="code hl_function" href="classplayer.html#a774d62f7d266fb6816af6f937c94d66f">get_learned_recipes</a>(), filter );</div>
<div class="line"><a id="l03742" name="l03742"></a><span class="lineno"> 3742</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03743" name="l03743"></a><span class="lineno"> 3743</span>        res.<a class="code hl_function" href="classrecipe__subset.html#ab91d636738b42059a724ac86ff6944a4">include</a>( <a class="code hl_function" href="classplayer.html#a774d62f7d266fb6816af6f937c94d66f">get_learned_recipes</a>() );</div>
<div class="line"><a id="l03744" name="l03744"></a><span class="lineno"> 3744</span>    }</div>
<div class="line"><a id="l03745" name="l03745"></a><span class="lineno"> 3745</span> </div>
<div class="line"><a id="l03746" name="l03746"></a><span class="lineno"> 3746</span>    res.<a class="code hl_function" href="classrecipe__subset.html#ab91d636738b42059a724ac86ff6944a4">include</a>( <a class="code hl_function" href="classplayer.html#abd383103570b8a0ff02409d6bd85dca2">get_recipes_from_books</a>( crafting_inv, filter ) );</div>
<div class="line"><a id="l03747" name="l03747"></a><span class="lineno"> 3747</span> </div>
<div class="line"><a id="l03748" name="l03748"></a><span class="lineno"> 3748</span>    <span class="keywordflow">if</span>( helpers != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l03749" name="l03749"></a><span class="lineno"> 3749</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classnpc.html">npc</a> *np : *helpers ) {</div>
<div class="line"><a id="l03750" name="l03750"></a><span class="lineno"> 3750</span>            <span class="comment">// Directly form the helper&#39;s inventory</span></div>
<div class="line"><a id="l03751" name="l03751"></a><span class="lineno"> 3751</span>            res.<a class="code hl_function" href="classrecipe__subset.html#ab91d636738b42059a724ac86ff6944a4">include</a>( <a class="code hl_function" href="classplayer.html#abd383103570b8a0ff02409d6bd85dca2">get_recipes_from_books</a>( np-&gt;inv, filter ) );</div>
<div class="line"><a id="l03752" name="l03752"></a><span class="lineno"> 3752</span>            <span class="comment">// Being told what to do</span></div>
<div class="line"><a id="l03753" name="l03753"></a><span class="lineno"> 3753</span>            res.<a class="code hl_function" href="classrecipe__subset.html#a254901913945d6691b113cadab423bfd">include_if</a>( np-&gt;get_learned_recipes(), [ <span class="keyword">this</span>, &amp;filter ]( <span class="keyword">const</span> <a class="code hl_class" href="classrecipe.html">recipe</a> &amp; r ) {</div>
<div class="line"><a id="l03754" name="l03754"></a><span class="lineno"> 3754</span>                if( filter &amp;&amp; !filter( r ) ) {</div>
<div class="line"><a id="l03755" name="l03755"></a><span class="lineno"> 3755</span>                    return false;</div>
<div class="line"><a id="l03756" name="l03756"></a><span class="lineno"> 3756</span>                }</div>
<div class="line"><a id="l03757" name="l03757"></a><span class="lineno"> 3757</span>                <span class="comment">// Skilled enough to understand</span></div>
<div class="line"><a id="l03758" name="l03758"></a><span class="lineno"> 3758</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( r.<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> ) &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( r.<a class="code hl_variable" href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">difficulty</a> * 0.8f );</div>
<div class="line"><a id="l03759" name="l03759"></a><span class="lineno"> 3759</span>            } );</div>
<div class="line"><a id="l03760" name="l03760"></a><span class="lineno"> 3760</span>        }</div>
<div class="line"><a id="l03761" name="l03761"></a><span class="lineno"> 3761</span>    }</div>
<div class="line"><a id="l03762" name="l03762"></a><span class="lineno"> 3762</span> </div>
<div class="line"><a id="l03763" name="l03763"></a><span class="lineno"> 3763</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l03764" name="l03764"></a><span class="lineno"> 3764</span>}</div>
<div class="ttc" id="aclassplayer_html_a774d62f7d266fb6816af6f937c94d66f"><div class="ttname"><a href="classplayer.html#a774d62f7d266fb6816af6f937c94d66f">player::get_learned_recipes</a></div><div class="ttdeci">const recipe_subset &amp; get_learned_recipes() const</div><div class="ttdoc">Returns all known recipes.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03700">player.cpp:3700</a></div></div>
<div class="ttc" id="aclassplayer_html_abd383103570b8a0ff02409d6bd85dca2"><div class="ttname"><a href="classplayer.html#abd383103570b8a0ff02409d6bd85dca2">player::get_recipes_from_books</a></div><div class="ttdeci">recipe_subset get_recipes_from_books(const inventory &amp;crafting_inv, recipe_filter filter=nullptr) const</div><div class="ttdoc">Returns all recipes that are known from the books (either in inventory or nearby).</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03715">player.cpp:3715</a></div></div>
<div class="ttc" id="aclassrecipe__subset_html"><div class="ttname"><a href="classrecipe__subset.html">recipe_subset</a></div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8h_source.html#l00079">recipe_dictionary.h:80</a></div></div>
<div class="ttc" id="aclassrecipe__subset_html_a254901913945d6691b113cadab423bfd"><div class="ttname"><a href="classrecipe__subset.html#a254901913945d6691b113cadab423bfd">recipe_subset::include_if</a></div><div class="ttdeci">void include_if(const recipe_subset &amp;subset, Predicate pred)</div><div class="ttdoc">Include a recipe to the subset.</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8h_source.html#l00097">recipe_dictionary.h:97</a></div></div>
<div class="ttc" id="aclassrecipe__subset_html_ab91d636738b42059a724ac86ff6944a4"><div class="ttname"><a href="classrecipe__subset.html#ab91d636738b42059a724ac86ff6944a4">recipe_subset::include</a></div><div class="ttdeci">void include(const recipe *r, int custom_difficulty=-1)</div><div class="ttdoc">Include a recipe to the subset.</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00500">recipe_dictionary.cpp:500</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="recipe_8h_source.html#l00060">recipe::difficulty</a>, <a class="el" href="player_8cpp_source.html#l03700">get_learned_recipes()</a>, <a class="el" href="player_8cpp_source.html#l03715">get_recipes_from_books()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00500">recipe_subset::include()</a>, <a class="el" href="recipe__dictionary_8h_source.html#l00097">recipe_subset::include_if()</a>, and <a class="el" href="recipe_8h_source.html#l00107">recipe::skill_used</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l04123">has_recipe()</a>, and <a class="el" href="crafting__gui_8cpp_source.html#l00161">select_crafting_recipe()</a>.</p>

</div>
</div>
<a id="a306d945c53613ef1f22050608572247d" name="a306d945c53613ef1f22050608572247d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a306d945c53613ef1f22050608572247d">&#9670;&nbsp;</a></span>get_category_dream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string player::get_category_dream </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>cat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>strength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a dream's description selected randomly from the player's highest mutation category. </p>
<p >Returns a randomly selected dream. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00698">698</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>{</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>    std::vector&lt;dream&gt; valid_dreams;</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>    <span class="comment">//Pull the list of dreams</span></div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;i : <a class="code hl_variable" href="mutation_8h.html#a7eddae5b8cd6593d94cf284ac4b6efb4">dreams</a> ) {</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>        <span class="comment">//Pick only the ones matching our desired category and strength</span></div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>        <span class="keywordflow">if</span>( ( i.category == cat ) &amp;&amp; ( i.strength == strength ) ) {</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>            <span class="comment">// Put the valid ones into our list</span></div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>            valid_dreams.push_back( i );</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>        }</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    }</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>    <span class="keywordflow">if</span>( valid_dreams.empty() ) {</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>    }</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structdream.html">dream</a> &amp;selected_dream = <a class="code hl_function" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( valid_dreams );</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( selected_dream.<a class="code hl_function" href="structdream.html#ae990dbd4200e1a467f075c959318aee5">messages</a>() );</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>}</div>
<div class="ttc" id="amutation_8h_html_a7eddae5b8cd6593d94cf284ac4b6efb4"><div class="ttname"><a href="mutation_8h.html#a7eddae5b8cd6593d94cf284ac4b6efb4">dreams</a></div><div class="ttdeci">std::vector&lt; dream &gt; dreams</div><div class="ttdef"><b>Definition:</b> <a href="mutation__data_8cpp_source.html#l00061">mutation_data.cpp:61</a></div></div>
<div class="ttc" id="arng_8h_html_a12244355ee77108f1b08618e9962e4d1"><div class="ttname"><a href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a></div><div class="ttdeci">V random_entry(const C &amp;container, D default_value)</div><div class="ttdoc">Returns a random entry in the container.</div><div class="ttdef"><b>Definition:</b> <a href="rng_8h_source.html#l00088">rng.h:88</a></div></div>
<div class="ttc" id="astructdream_html"><div class="ttname"><a href="structdream.html">dream</a></div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00039">mutation.h:39</a></div></div>
<div class="ttc" id="astructdream_html_ae990dbd4200e1a467f075c959318aee5"><div class="ttname"><a href="structdream.html#ae990dbd4200e1a467f075c959318aee5">dream::messages</a></div><div class="ttdeci">std::vector&lt; std::string &gt; messages() const</div><div class="ttdef"><b>Definition:</b> <a href="mutation__data_8cpp_source.html#l00655">mutation_data.cpp:655</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mutation__data_8cpp_source.html#l00061">dreams</a>, <a class="el" href="mutation__data_8cpp_source.html#l00655">dream::messages()</a>, and <a class="el" href="rng_8h_source.html#l00088">random_entry()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00464">hardcoded_effects()</a>.</p>

</div>
</div>
<a id="a1ca63c0414c6b4ea34691ef1f4f40047" name="a1ca63c0414c6b4ea34691ef1f4f40047"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ca63c0414c6b4ea34691ef1f4f40047">&#9670;&nbsp;</a></span>get_crafting_helpers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classnpc.html">npc</a> * &gt; player::get_crafting_helpers </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns nearby NPCs ready and willing to help with crafting or some other manual task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max</td><td>If set, limits number of helpers to that value </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l02322">2322</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span>{</div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span>    <span class="keywordtype">size_t</span> n = 0;</div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_npcs_if( [ &amp;n, max, <span class="keyword">this</span>]( <span class="keyword">const</span> <a class="code hl_class" href="classnpc.html">npc</a> &amp; guy ) {</div>
<div class="line"><a id="l02326" name="l02326"></a><span class="lineno"> 2326</span>        <span class="comment">// NPCs can help craft if awake, taking orders, within pickup range and have clear path</span></div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span>        <span class="keywordflow">if</span>( max != 0 &amp;&amp; n &gt;= max ) {</div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"> 2329</span>        }</div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"> 2330</span>        <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> = !guy.<a class="code hl_function" href="classCharacter.html#a4f0bdbd929787a486a0dd5748ef10c65">in_sleep_state</a>() &amp;&amp; guy.<a class="code hl_function" href="classnpc.html#a1a34cf48d162fbed83aab3370d55d114">is_obeying</a>( *<span class="keyword">this</span> ) &amp;&amp;</div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span>                  <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( guy.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) &lt; <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a> &amp;&amp;</div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span>                  <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.clear_path( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), guy.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a>, 1, 100 );</div>
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"> 2333</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a> ) {</div>
<div class="line"><a id="l02334" name="l02334"></a><span class="lineno"> 2334</span>            n += 1;</div>
<div class="line"><a id="l02335" name="l02335"></a><span class="lineno"> 2335</span>        }</div>
<div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a>;</div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>    } );</div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span>}</div>
<div class="ttc" id="aclassCharacter_html_a4f0bdbd929787a486a0dd5748ef10c65"><div class="ttname"><a href="classCharacter.html#a4f0bdbd929787a486a0dd5748ef10c65">Character::in_sleep_state</a></div><div class="ttdeci">bool in_sleep_state() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09296">character.cpp:9296</a></div></div>
<div class="ttc" id="aclassnpc_html_a1a34cf48d162fbed83aab3370d55d114"><div class="ttname"><a href="classnpc.html#a1a34cf48d162fbed83aab3370d55d114">npc::is_obeying</a></div><div class="ttdeci">bool is_obeying(const Character &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l02009">npc.cpp:2009</a></div></div>
<div class="ttc" id="avehicle_8h_html_a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6"><div class="ttname"><a href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">autodrive_result::ok</a></div><div class="ttdeci">@ ok</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l09296">Character::in_sleep_state()</a>, <a class="el" href="npc_8cpp_source.html#l02009">npc::is_obeying()</a>, <a class="el" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa444bcb3a3fcf8389296c49467f27e1d6">ok</a>, <a class="el" href="cached__options_8cpp_source.html#l00017">PICKUP_RANGE</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, and <a class="el" href="coordinates_8h_source.html#l00519">rl_dist()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l00383">available_assistant_count()</a>, <a class="el" href="game_8cpp_source.html#l08556">game::butcher()</a>, <a class="el" href="crafting_8cpp_source.html#l00522">can_make()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04184">activity_handlers::chop_logs_finish()</a>, <a class="el" href="crafting_8cpp_source.html#l01007">complete_craft()</a>, <a class="el" href="iuse_8cpp_source.html#l09630">iuse::craft()</a>, <a class="el" href="crafting_8cpp_source.html#l00762">craft_skill_gain()</a>, <a class="el" href="crafting_8cpp_source.html#l00808">crafting_success_roll()</a>, <a class="el" href="avatar_8cpp_source.html#l00245">avatar::get_book_reader()</a>, <a class="el" href="player_8cpp_source.html#l01065">get_lift_assist()</a>, <a class="el" href="avatar_8cpp_source.html#l00367">avatar::read()</a>, <a class="el" href="veh__type_8cpp_source.html#l00806">scale_time()</a>, and <a class="el" href="crafting__gui_8cpp_source.html#l00161">select_crafting_recipe()</a>.</p>

</div>
</div>
<a id="aacd5b90342a774ecd1d7c5d19205bb07" name="aacd5b90342a774ecd1d7c5d19205bb07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacd5b90342a774ecd1d7c5d19205bb07">&#9670;&nbsp;</a></span>get_eligible_containers_for_crafting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt; player::get_eligible_containers_for_crafting </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00475">475</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>{</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>    std::vector&lt;const item *&gt; conts;</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span> </div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="crafting_8cpp.html#a634161b23e3b5f7f51a8702f44ce0cae">is_container_eligible_for_crafting</a>( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>        conts.push_back( &amp;<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> );</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>    }</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;it : <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a> ) {</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="crafting_8cpp.html#a634161b23e3b5f7f51a8702f44ce0cae">is_container_eligible_for_crafting</a>( it, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>            conts.push_back( &amp;it );</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>        }</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>    }</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a51a62ddae83430e06da3c08d5b3fd5e4">size</a>(); i++ ) {</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;it : <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a8f615a8478d03953310f91bc45f79543">const_stack</a>( i ) ) {</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="crafting_8cpp.html#a634161b23e3b5f7f51a8702f44ce0cae">is_container_eligible_for_crafting</a>( it, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>                conts.push_back( &amp;it );</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>            }</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>        }</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>    }</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span> </div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>    <span class="comment">// get all potential containers within PICKUP_RANGE tiles including vehicles</span></div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;loc : <a class="code hl_function" href="coordinates_8h.html#a13a12943d34d5f17e6c3b4e730659fc6">closest_points_first</a>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a> ) ) {</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>        <span class="comment">// can not reach this -&gt; can not access its contents</span></div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() != loc &amp;&amp; !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.clear_path( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), loc, <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a>, 1, 100 ) ) {</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>        }</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.accessible_items( loc ) ) {</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;it : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.i_at( loc ) ) {</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="crafting_8cpp.html#a634161b23e3b5f7f51a8702f44ce0cae">is_container_eligible_for_crafting</a>( it, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>                    conts.emplace_back( &amp;it );</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>                }</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>            }</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>        }</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span> </div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>        <span class="keywordflow">if</span>( <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;vpart_reference&gt;</a> vp = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( loc ).part_with_feature( <span class="stringliteral">&quot;CARGO&quot;</span>,</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>                <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;it : vp-&gt;vehicle().get_items( vp-&gt;part_index() ) ) {</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="crafting_8cpp.html#a634161b23e3b5f7f51a8702f44ce0cae">is_container_eligible_for_crafting</a>( it, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>                    conts.emplace_back( &amp;it );</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>                }</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>            }</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>        }</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>    }</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span> </div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>    <span class="keywordflow">return</span> conts;</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>}</div>
<div class="ttc" id="aclassinventory_html_a51a62ddae83430e06da3c08d5b3fd5e4"><div class="ttname"><a href="classinventory.html#a51a62ddae83430e06da3c08d5b3fd5e4">inventory::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00166">inventory.cpp:166</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a13a12943d34d5f17e6c3b4e730659fc6"><div class="ttname"><a href="coordinates_8h.html#a13a12943d34d5f17e6c3b4e730659fc6">closest_points_first</a></div><div class="ttdeci">std::vector&lt; coords::coord_point&lt; Point, Origin, Scale &gt; &gt; closest_points_first(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc, int min_dist, int max_dist)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00596">coordinates.h:596</a></div></div>
<div class="ttc" id="acrafting_8cpp_html_a634161b23e3b5f7f51a8702f44ce0cae"><div class="ttname"><a href="crafting_8cpp.html#a634161b23e3b5f7f51a8702f44ce0cae">is_container_eligible_for_crafting</a></div><div class="ttdeci">static bool is_container_eligible_for_crafting(const item &amp;cont, bool allow_bucket)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00466">crafting.cpp:466</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="coordinates_8h_source.html#l00596">closest_points_first()</a>, <a class="el" href="inventory_8cpp_source.html#l00151">inventory::const_stack()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8h_source.html#l01583">Character::inv</a>, <a class="el" href="crafting_8cpp_source.html#l00466">is_container_eligible_for_crafting()</a>, <a class="el" href="cached__options_8cpp_source.html#l00017">PICKUP_RANGE</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="inventory_8cpp_source.html#l00166">inventory::size()</a>, <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>, and <a class="el" href="character_8h_source.html#l01571">Character::worn</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l00407">check_eligible_containers_for_crafting()</a>.</p>

</div>
</div>
<a id="a774d62f7d266fb6816af6f937c94d66f" name="a774d62f7d266fb6816af6f937c94d66f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a774d62f7d266fb6816af6f937c94d66f">&#9670;&nbsp;</a></span>get_learned_recipes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classrecipe__subset.html">recipe_subset</a> &amp; player::get_learned_recipes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all known recipes. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03700">3700</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03701" name="l03701"></a><span class="lineno"> 3701</span>{</div>
<div class="line"><a id="l03702" name="l03702"></a><span class="lineno"> 3702</span>    <span class="comment">// Cache validity check</span></div>
<div class="line"><a id="l03703" name="l03703"></a><span class="lineno"> 3703</span>    <span class="keywordflow">if</span>( *<a class="code hl_variable" href="classCharacter.html#a173170e7cdceddff68d980d8ced2c6f8">_skills</a> != *<a class="code hl_variable" href="classplayer.html#ad3cfe44b653e65db3aac5bd4e309164c">valid_autolearn_skills</a> ) {</div>
<div class="line"><a id="l03704" name="l03704"></a><span class="lineno"> 3704</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;r : <a class="code hl_variable" href="recipe__dictionary_8cpp.html#a9fdb53bd54fb6dcc5f9b2e1e1b44570f">recipe_dict</a>.<a class="code hl_function" href="classrecipe__dictionary.html#a3ba3163fa7098ae76be6b22f19b9d1ba">all_autolearn</a>() ) {</div>
<div class="line"><a id="l03705" name="l03705"></a><span class="lineno"> 3705</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#afc4d3be0006e7ac9643b568bcf531ae9">meets_skill_requirements</a>( r-&gt;autolearn_requirements ) ) {</div>
<div class="line"><a id="l03706" name="l03706"></a><span class="lineno"> 3706</span>                <a class="code hl_variable" href="classplayer.html#ae02e3074363fa28982a0f7e08f4cc8ad">learned_recipes</a>-&gt;include( r );</div>
<div class="line"><a id="l03707" name="l03707"></a><span class="lineno"> 3707</span>            }</div>
<div class="line"><a id="l03708" name="l03708"></a><span class="lineno"> 3708</span>        }</div>
<div class="line"><a id="l03709" name="l03709"></a><span class="lineno"> 3709</span>        *<a class="code hl_variable" href="classplayer.html#ad3cfe44b653e65db3aac5bd4e309164c">valid_autolearn_skills</a> = *<a class="code hl_variable" href="classCharacter.html#a173170e7cdceddff68d980d8ced2c6f8">_skills</a>; <span class="comment">// Reassign the validity stamp</span></div>
<div class="line"><a id="l03710" name="l03710"></a><span class="lineno"> 3710</span>    }</div>
<div class="line"><a id="l03711" name="l03711"></a><span class="lineno"> 3711</span> </div>
<div class="line"><a id="l03712" name="l03712"></a><span class="lineno"> 3712</span>    <span class="keywordflow">return</span> *<a class="code hl_variable" href="classplayer.html#ae02e3074363fa28982a0f7e08f4cc8ad">learned_recipes</a>;</div>
<div class="line"><a id="l03713" name="l03713"></a><span class="lineno"> 3713</span>}</div>
<div class="ttc" id="aclassCharacter_html_a173170e7cdceddff68d980d8ced2c6f8"><div class="ttname"><a href="classCharacter.html#a173170e7cdceddff68d980d8ced2c6f8">Character::_skills</a></div><div class="ttdeci">pimpl&lt; SkillLevelMap &gt; _skills</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02161">character.h:2161</a></div></div>
<div class="ttc" id="aclassplayer_html_ad3cfe44b653e65db3aac5bd4e309164c"><div class="ttname"><a href="classplayer.html#ad3cfe44b653e65db3aac5bd4e309164c">player::valid_autolearn_skills</a></div><div class="ttdeci">decltype(_skills) valid_autolearn_skills</div><div class="ttdoc">Stamp of skills.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00777">player.h:777</a></div></div>
<div class="ttc" id="aclassplayer_html_ae02e3074363fa28982a0f7e08f4cc8ad"><div class="ttname"><a href="classplayer.html#ae02e3074363fa28982a0f7e08f4cc8ad">player::learned_recipes</a></div><div class="ttdeci">pimpl&lt; recipe_subset &gt; learned_recipes</div><div class="ttdoc">Subset of learned recipes.</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00774">player.h:774</a></div></div>
<div class="ttc" id="aclassrecipe__dictionary_html_a3ba3163fa7098ae76be6b22f19b9d1ba"><div class="ttname"><a href="classrecipe__dictionary.html#a3ba3163fa7098ae76be6b22f19b9d1ba">recipe_dictionary::all_autolearn</a></div><div class="ttdeci">const std::set&lt; const recipe * &gt; &amp; all_autolearn() const</div><div class="ttdoc">Returns all recipes that can be automatically learned.</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8h_source.html#l00028">recipe_dictionary.h:28</a></div></div>
<div class="ttc" id="arecipe__dictionary_8cpp_html_a9fdb53bd54fb6dcc5f9b2e1e1b44570f"><div class="ttname"><a href="recipe__dictionary_8cpp.html#a9fdb53bd54fb6dcc5f9b2e1e1b44570f">recipe_dict</a></div><div class="ttdeci">recipe_dictionary recipe_dict</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00027">recipe_dictionary.cpp:27</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8h_source.html#l02161">Character::_skills</a>, <a class="el" href="recipe__dictionary_8h_source.html#l00028">recipe_dictionary::all_autolearn()</a>, <a class="el" href="player_8h_source.html#l00774">learned_recipes</a>, <a class="el" href="character_8cpp_source.html#l03413">Character::meets_skill_requirements()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00027">recipe_dict</a>, and <a class="el" href="player_8h_source.html#l00777">valid_autolearn_skills</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l03735">get_available_recipes()</a>, <a class="el" href="player_8cpp_source.html#l04118">knows_recipe()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00949">peek_related_recipe()</a>, and <a class="el" href="crafting__gui_8cpp_source.html#l00161">select_crafting_recipe()</a>.</p>

</div>
</div>
<a id="a3526879395962aa306c93ad8faa837cb" name="a3526879395962aa306c93ad8faa837cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3526879395962aa306c93ad8faa837cb">&#9670;&nbsp;</a></span>get_lift_assist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::get_lift_assist </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01065">1065</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>{</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>    <span class="keywordtype">int</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = 0;</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>    <span class="keyword">const</span> std::vector&lt;npc *&gt; helpers = <a class="code hl_function" href="classplayer.html#a1ca63c0414c6b4ea34691ef1f4f40047">get_crafting_helpers</a>();</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classnpc.html">npc</a> *np : helpers ) {</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>        <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> += np-&gt;get_str();</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>    }</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting_8cpp_source.html#l02322">get_crafting_helpers()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l02936">can_lift()</a>.</p>

</div>
</div>
<a id="a9d3f175e2fc15015c26e0e28a8678c52" name="a9d3f175e2fc15015c26e0e28a8678c52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d3f175e2fc15015c26e0e28a8678c52">&#9670;&nbsp;</a></span>get_melee()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float player::get_melee </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns melee skill level, to be used to throttle dodge practice. </p>

<p>Implements <a class="el" href="classCreature.html#ad8810c3abed9b6a4f0705fd9be466e33">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04297">4297</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04298" name="l04298"></a><span class="lineno"> 4298</span>{</div>
<div class="line"><a id="l04299" name="l04299"></a><span class="lineno"> 4299</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d">skill_id</a>( <span class="stringliteral">&quot;melee&quot;</span> ) );</div>
<div class="line"><a id="l04300" name="l04300"></a><span class="lineno"> 4300</span>}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d">cata_variant_type::skill_id</a></div><div class="ttdeci">@ skill_id</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, and <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d">skill_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l00571">stability_roll()</a>.</p>

</div>
</div>
<a id="ac7f549cbcbbca36c3a0fc9f75865b3a4" name="ac7f549cbcbbca36c3a0fc9f75865b3a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7f549cbcbbca36c3a0fc9f75865b3a4">&#9670;&nbsp;</a></span>get_pain_penalty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structstat__mod.html">stat_mod</a> player::get_pain_penalty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the effect of pain on stats. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00221">221</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>{</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <a class="code hl_struct" href="structstat__mod.html">stat_mod</a> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a> = <a class="code hl_function" href="classplayer.html#a866f12c5891fa0a43d837669fc52706b">get_perceived_pain</a>();</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a> &lt;= 0 ) {</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    }</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span> </div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <span class="keywordtype">int</span> stat_penalty = std::floor( std::pow( <a class="code hl_variable" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a>, 0.8f ) / 10.0f );</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span> </div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <span class="keywordtype">bool</span> ceno = <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a9c5c38ebc99fa84cc6fa6cea24213099">trait_CENOBITE</a> );</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>    <span class="keywordflow">if</span>( !ceno ) {</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.strength = stat_penalty;</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.dexterity = stat_penalty;</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    }</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span> </div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#ab77fb716179d60333566b360ac517b95">trait_INT_SLIME</a> ) ) {</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.intelligence = stat_penalty;</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.intelligence = <a class="code hl_variable" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a> / 5;</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    }</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span> </div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.perception = stat_penalty * 2 / 3;</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span> </div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.speed = std::pow( <a class="code hl_variable" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a>, 0.7f );</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    <span class="keywordflow">if</span>( ceno ) {</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.speed /= 2;</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    }</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span> </div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.speed = std::min( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.speed, 30 );</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>}</div>
<div class="ttc" id="aclassCreature_html_a1707dc490c8a090f13e4728a9de4aed2"><div class="ttname"><a href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">Creature::pain</a></div><div class="ttdeci">int pain</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00888">creature.h:888</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_ab77fb716179d60333566b360ac517b95"><div class="ttname"><a href="player_8cpp.html#ab77fb716179d60333566b360ac517b95">trait_INT_SLIME</a></div><div class="ttdeci">static const trait_id trait_INT_SLIME(&quot;INT_SLIME&quot;)</div></div>
<div class="ttc" id="astructstat__mod_html"><div class="ttname"><a href="structstat__mod.html">stat_mod</a></div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00082">player.h:82</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player_8cpp_source.html#l01131">get_perceived_pain()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="creature_8h_source.html#l00888">Creature::pain</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="player_8cpp.html#a9c5c38ebc99fa84cc6fa6cea24213099">trait_CENOBITE</a>, and <a class="el" href="player_8cpp.html#ab77fb716179d60333566b360ac517b95">trait_INT_SLIME</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__display_8cpp_source.html#l01062">disp_info()</a>, <a class="el" href="player__display_8cpp_source.html#l00759">draw_speed_tab()</a>, <a class="el" href="player_8cpp_source.html#l00501">recalc_speed_bonus()</a>, and <a class="el" href="player_8cpp_source.html#l04511">reset_stats()</a>.</p>

</div>
</div>
<a id="a866f12c5891fa0a43d837669fc52706b" name="a866f12c5891fa0a43d837669fc52706b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a866f12c5891fa0a43d837669fc52706b">&#9670;&nbsp;</a></span>get_perceived_pain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int player::get_perceived_pain </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns perceived pain (reduced with painkillers) </p>

<p>Reimplemented from <a class="el" href="classCreature.html#a402025ac07eb74792b0885446b912cac">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01131">1131</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>{</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a70ba05a0184ff83095f639eac18f24fe">get_effect_int</a>( <a class="code hl_variable" href="player_8cpp.html#a1b24df80fb6fce16dd4527cc4a6fa6ca">effect_adrenaline</a> ) &gt; 1 ) {</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>    }</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span> </div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>    <span class="keywordflow">return</span> std::max( <a class="code hl_function" href="classCreature.html#a71e8440dfb96a7a870c29e0472b7b85d">get_pain</a>() - <a class="code hl_function" href="classCharacter.html#a1961ab0f9c702252e550bf42cb8dd974">get_painkiller</a>(), 0 );</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>}</div>
<div class="ttc" id="aclassCharacter_html_a1961ab0f9c702252e550bf42cb8dd974"><div class="ttname"><a href="classCharacter.html#a1961ab0f9c702252e550bf42cb8dd974">Character::get_painkiller</a></div><div class="ttdeci">int get_painkiller() const</div><div class="ttdoc">Returns intensity of painkillers</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09777">character.cpp:9777</a></div></div>
<div class="ttc" id="aclassCreature_html_a70ba05a0184ff83095f639eac18f24fe"><div class="ttname"><a href="classCreature.html#a70ba05a0184ff83095f639eac18f24fe">Creature::get_effect_int</a></div><div class="ttdeci">int get_effect_int(const efftype_id &amp;eff_id, body_part bp=num_bp) const</div><div class="ttdoc">Returns the intensity of the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01244">creature.cpp:1244</a></div></div>
<div class="ttc" id="aclassCreature_html_a71e8440dfb96a7a870c29e0472b7b85d"><div class="ttname"><a href="classCreature.html#a71e8440dfb96a7a870c29e0472b7b85d">Creature::get_pain</a></div><div class="ttdeci">virtual int get_pain() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01360">creature.cpp:1360</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a1b24df80fb6fce16dd4527cc4a6fa6ca"><div class="ttname"><a href="player_8cpp.html#a1b24df80fb6fce16dd4527cc4a6fa6ca">effect_adrenaline</a></div><div class="ttdeci">static const efftype_id effect_adrenaline(&quot;adrenaline&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player_8cpp.html#a1b24df80fb6fce16dd4527cc4a6fa6ca">effect_adrenaline</a>, <a class="el" href="creature_8cpp_source.html#l01244">Creature::get_effect_int()</a>, <a class="el" href="creature_8cpp_source.html#l01360">Creature::get_pain()</a>, and <a class="el" href="character_8cpp_source.html#l09777">Character::get_painkiller()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l01779">npc::address_needs()</a>, <a class="el" href="player_8cpp_source.html#l04410">calc_focus_equilibrium()</a>, <a class="el" href="player__display_8cpp_source.html#l01062">disp_info()</a>, <a class="el" href="avatar_8cpp_source.html#l00985">avatar::disp_morale()</a>, <a class="el" href="player_8cpp_source.html#l00221">get_pain_penalty()</a>, <a class="el" href="player_8cpp_source.html#l04511">reset_stats()</a>, <a class="el" href="player_8cpp_source.html#l01119">set_pain()</a>, and <a class="el" href="memorial__logger_8cpp_source.html#l00150">memorial_logger::write()</a>.</p>

</div>
</div>
<a id="abd383103570b8a0ff02409d6bd85dca2" name="abd383103570b8a0ff02409d6bd85dca2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd383103570b8a0ff02409d6bd85dca2">&#9670;&nbsp;</a></span>get_recipes_from_books()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrecipe__subset.html">recipe_subset</a> player::get_recipes_from_books </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td>
          <td class="paramname"><em>crafting_inv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="player_8h.html#ae2615a93a91e7d03895ae911437aec6f">recipe_filter</a>&#160;</td>
          <td class="paramname"><em>filter</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all recipes that are known from the books (either in inventory or nearby). </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03715">3715</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03717" name="l03717"></a><span class="lineno"> 3717</span>{</div>
<div class="line"><a id="l03718" name="l03718"></a><span class="lineno"> 3718</span>    <a class="code hl_class" href="classrecipe__subset.html">recipe_subset</a> res;</div>
<div class="line"><a id="l03719" name="l03719"></a><span class="lineno"> 3719</span> </div>
<div class="line"><a id="l03720" name="l03720"></a><span class="lineno"> 3720</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;stack : crafting_inv.<a class="code hl_function" href="classinventory.html#aa3e15113cfaa6ef3a732d35f55768a13">const_slice</a>() ) {</div>
<div class="line"><a id="l03721" name="l03721"></a><span class="lineno"> 3721</span>        <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;candidate = stack-&gt;front();</div>
<div class="line"><a id="l03722" name="l03722"></a><span class="lineno"> 3722</span> </div>
<div class="line"><a id="l03723" name="l03723"></a><span class="lineno"> 3723</span>        <span class="keywordflow">for</span>( std::pair&lt;const recipe *, int&gt; recipe_entry :</div>
<div class="line"><a id="l03724" name="l03724"></a><span class="lineno"> 3724</span>             candidate.<a class="code hl_function" href="classitem.html#a245db12c86dcfb1abf029cf0527dcf7e">get_available_recipes</a>( *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l03725" name="l03725"></a><span class="lineno"> 3725</span>            <span class="keywordflow">if</span>( filter &amp;&amp; !filter( *recipe_entry.first ) ) {</div>
<div class="line"><a id="l03726" name="l03726"></a><span class="lineno"> 3726</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03727" name="l03727"></a><span class="lineno"> 3727</span>            }</div>
<div class="line"><a id="l03728" name="l03728"></a><span class="lineno"> 3728</span>            res.<a class="code hl_function" href="classrecipe__subset.html#ab91d636738b42059a724ac86ff6944a4">include</a>( recipe_entry.first, recipe_entry.second );</div>
<div class="line"><a id="l03729" name="l03729"></a><span class="lineno"> 3729</span>        }</div>
<div class="line"><a id="l03730" name="l03730"></a><span class="lineno"> 3730</span>    }</div>
<div class="line"><a id="l03731" name="l03731"></a><span class="lineno"> 3731</span> </div>
<div class="line"><a id="l03732" name="l03732"></a><span class="lineno"> 3732</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l03733" name="l03733"></a><span class="lineno"> 3733</span>}</div>
<div class="ttc" id="aclassinventory_html_aa3e15113cfaa6ef3a732d35f55768a13"><div class="ttname"><a href="classinventory.html#aa3e15113cfaa6ef3a732d35f55768a13">inventory::const_slice</a></div><div class="ttdeci">const_invslice const_slice() const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00142">inventory.cpp:142</a></div></div>
<div class="ttc" id="aclassitem_html_a245db12c86dcfb1abf029cf0527dcf7e"><div class="ttname"><a href="classitem.html#a245db12c86dcfb1abf029cf0527dcf7e">item::get_available_recipes</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; const recipe *, int &gt; &gt; get_available_recipes(const player &amp;u) const</div><div class="ttdoc">Enumerates recipes available from this book and the skill level required to use them.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06954">item.cpp:6954</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00142">inventory::const_slice()</a>, <a class="el" href="item_8cpp_source.html#l06954">item::get_available_recipes()</a>, and <a class="el" href="recipe__dictionary_8cpp_source.html#l00500">recipe_subset::include()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l03735">get_available_recipes()</a>.</p>

</div>
</div>
<a id="a3deecf5e0ddfe40130d97c61c57e2fe2" name="a3deecf5e0ddfe40130d97c61c57e2fe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3deecf5e0ddfe40130d97c61c57e2fe2">&#9670;&nbsp;</a></span>get_weapon_dispersion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdispersion__sources.html">dispersion_sources</a> player::get_weapon_dispersion </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a weapon's modified dispersion value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Weapon to check dispersion on </td></tr>
  </table>
  </dd>
</dl>
Driving reduces the inaccuracy penalty when using guns whilst driving Gun improves usage of accurate weapons and sights 
<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01881">1881</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>{</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>    <span class="keywordtype">int</span> weapon_dispersion = obj.<a class="code hl_function" href="classitem.html#adfd6f9946d4895a6ef2190e07c2486a3">gun_dispersion</a>();</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>    <a class="code hl_class" href="classdispersion__sources.html">dispersion_sources</a> dispersion( weapon_dispersion );</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>    dispersion.add_range( <a class="code hl_function" href="classCharacter.html#aaef1f2b773b9e659b6b69f813ea4dafb">ranged_dex_mod</a>() );</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span> </div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>    dispersion.add_range( ( <a class="code hl_function" href="classCharacter.html#adc1fd84a88722a905e57fea8bfd5b6b0">encumb</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a441080ba1d3930d38f635658d9b28e01">bp_arm_l</a> ) + <a class="code hl_function" href="classCharacter.html#adc1fd84a88722a905e57fea8bfd5b6b0">encumb</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ae5f21c7494ad730a0c6abf6957976cb3">bp_arm_r</a> ) ) / 5.0 );</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span> </div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="ranged_8cpp.html#a170041722ca59caad52f34270eb5f183">is_driving</a>( *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>        <span class="comment">// get volume of gun (or for auxiliary gunmods the parent gun)</span></div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>        <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *parent = <a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( obj ) ? <a class="code hl_function" href="classvisitable.html#a073dab39ca059a87742a05300402ab01">find_parent</a>( obj ) : nullptr;</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> vol = ( parent ? parent-&gt;<a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>() : obj.<a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>() ) / 250_ml;</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span><span class="comment"></span> </div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span><span class="comment">        /** @EFFECT_DRIVING reduces the inaccuracy penalty when using guns whilst driving */</span></div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span>        dispersion.add_range( std::max( vol - <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="ranged_8cpp.html#afee8dcfd12a225c469ee6171063d7594">skill_driving</a> ), 1 ) * 20 );</div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>    }</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span><span class="comment"></span> </div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span><span class="comment">    /** @EFFECT_GUN improves usage of accurate weapons and sights */</span></div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>    <span class="keywordtype">double</span> avgSkill = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="ranged_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a> ) +</div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>                                           <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( obj.<a class="code hl_function" href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3">gun_skill</a>() ) ) / 2.0;</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>    avgSkill = std::min( avgSkill, <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="game__constants_8h.html#ae9c0ec5b4724c15132efddb8862ca652">MAX_SKILL</a> ) );</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span> </div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>    dispersion.add_range( <a class="code hl_function" href="ranged_8cpp.html#a217238d7885e55ae74878bbb1f99cddd">dispersion_from_skill</a>( avgSkill, weapon_dispersion ) );</div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span> </div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="ranged_8cpp.html#a0919705e5cea2aa623cbda27d0cae0b6">bio_targeting</a> ) ) {</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span>        dispersion.add_multiplier( 0.75 );</div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span>    }</div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span> </div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>    <span class="comment">// If using a bow you lack the strength for, increase based on how much weaker shooter is.</span></div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>    dispersion.add_multiplier( 1 / <a class="code hl_function" href="namespaceranged.html#a613a2847b3c06998d6117f2630fc9ed5">ranged::str_draw_dispersion_modifier</a>( obj, *<span class="keyword">this</span> ) );</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span> </div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>    <span class="comment">// Range is effectively four times longer when shooting unflagged/flagged guns underwater/out of water.</span></div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() != obj.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="ranged_8cpp.html#ab6ca472fa792b69b4a6afa8ca9e63a58">flag_UNDERWATER_GUN</a> ) ) {</div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span>        <span class="comment">// Adding dispersion for additional debuff</span></div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>        dispersion.add_range( 150 );</div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span>        dispersion.add_multiplier( 4 );</div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span>    }</div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span> </div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>    <span class="comment">// If user is currently able to fire a mounted gun freely, penalize dispersion based on size class.</span></div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="ranged_8cpp.html#a9a327f2be95a30526c2d1ab6a31f72b2">flag_MOUNTED_GUN</a> ) &amp;&amp; !<a class="code hl_function" href="ranged_8cpp.html#a6bfc75cd10b0d4de99dc6dcb44abc85b">can_use_bipod</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#aa5ca0f6c4fb1c08bb93ece1c9746c368">get_size</a>() == <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9">MS_HUGE</a> ) {</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span>            dispersion.add_multiplier( 2 );</div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span>            dispersion.add_multiplier( 3 );</div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span>        }</div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span>    }</div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span> </div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span>    <span class="keywordflow">return</span> dispersion;</div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>}</div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a441080ba1d3930d38f635658d9b28e01"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a441080ba1d3930d38f635658d9b28e01">bp_arm_l</a></div><div class="ttdeci">@ bp_arm_l</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00044">bodypart.h:44</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980ae5f21c7494ad730a0c6abf6957976cb3"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ae5f21c7494ad730a0c6abf6957976cb3">bp_arm_r</a></div><div class="ttdeci">@ bp_arm_r</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00045">bodypart.h:45</a></div></div>
<div class="ttc" id="aclassCharacter_html_aaef1f2b773b9e659b6b69f813ea4dafb"><div class="ttname"><a href="classCharacter.html#aaef1f2b773b9e659b6b69f813ea4dafb">Character::ranged_dex_mod</a></div><div class="ttdeci">virtual int ranged_dex_mod() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04113">character.cpp:4113</a></div></div>
<div class="ttc" id="aclassitem_html_a51eafbdf8b331d88b741c0c527f98eb9"><div class="ttname"><a href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">item::volume</a></div><div class="ttdeci">units::volume volume(bool integral=false) const</div><div class="ttdoc">Total volume of an item accounting for all contained/integrated items NOTE: Result is rounded up to n...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04991">item.cpp:4991</a></div></div>
<div class="ttc" id="aclassitem_html_adfd6f9946d4895a6ef2190e07c2486a3"><div class="ttname"><a href="classitem.html#adfd6f9946d4895a6ef2190e07c2486a3">item::gun_dispersion</a></div><div class="ttdeci">int gun_dispersion(bool with_ammo=true, bool with_scaling=true) const</div><div class="ttdoc">Summed dispersion of a gun, including values from mods.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07072">item.cpp:7072</a></div></div>
<div class="ttc" id="aclassvisitable_html_a073dab39ca059a87742a05300402ab01"><div class="ttname"><a href="classvisitable.html#a073dab39ca059a87742a05300402ab01">visitable&lt; Character &gt;::find_parent</a></div><div class="ttdeci">item * find_parent(const item &amp;it)</div><div class="ttdoc">Determine the immediate parent container (if any) for an item.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00050">visitable.cpp:50</a></div></div>
<div class="ttc" id="aclassvisitable_html_af49d5ef7b3f2f0a8664c23097a56373f"><div class="ttname"><a href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">visitable&lt; Character &gt;::has_item</a></div><div class="ttdeci">bool has_item(const item &amp;it) const</div><div class="ttdoc">Returns true if this visitable instance contains the item.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00061">visitable.cpp:96</a></div></div>
<div class="ttc" id="agame__constants_8h_html_ae9c0ec5b4724c15132efddb8862ca652"><div class="ttname"><a href="game__constants_8h.html#ae9c0ec5b4724c15132efddb8862ca652">MAX_SKILL</a></div><div class="ttdeci">static constexpr int MAX_SKILL</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00111">game_constants.h:111</a></div></div>
<div class="ttc" id="anamespaceranged_html_a613a2847b3c06998d6117f2630fc9ed5"><div class="ttname"><a href="namespaceranged.html#a613a2847b3c06998d6117f2630fc9ed5">ranged::str_draw_dispersion_modifier</a></div><div class="ttdeci">float str_draw_dispersion_modifier(const item &amp;it, const Character &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01021">ranged.cpp:1021</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a0919705e5cea2aa623cbda27d0cae0b6"><div class="ttname"><a href="ranged_8cpp.html#a0919705e5cea2aa623cbda27d0cae0b6">bio_targeting</a></div><div class="ttdeci">static const bionic_id bio_targeting(&quot;bio_targeting&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a170041722ca59caad52f34270eb5f183"><div class="ttname"><a href="ranged_8cpp.html#a170041722ca59caad52f34270eb5f183">is_driving</a></div><div class="ttdeci">static bool is_driving(const player &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01852">ranged.cpp:1852</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a217238d7885e55ae74878bbb1f99cddd"><div class="ttname"><a href="ranged_8cpp.html#a217238d7885e55ae74878bbb1f99cddd">dispersion_from_skill</a></div><div class="ttdeci">static double dispersion_from_skill(double skill, double weapon_dispersion)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01858">ranged.cpp:1858</a></div></div>
<div class="ttc" id="aranged_8cpp_html_ab6ca472fa792b69b4a6afa8ca9e63a58"><div class="ttname"><a href="ranged_8cpp.html#ab6ca472fa792b69b4a6afa8ca9e63a58">flag_UNDERWATER_GUN</a></div><div class="ttdeci">static const std::string flag_UNDERWATER_GUN(&quot;UNDERWATER_GUN&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_afee8dcfd12a225c469ee6171063d7594"><div class="ttname"><a href="ranged_8cpp.html#afee8dcfd12a225c469ee6171063d7594">skill_driving</a></div><div class="ttdeci">static const skill_id skill_driving(&quot;driving&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dispersion_8h_source.html#l00023">dispersion_sources::add_multiplier()</a>, <a class="el" href="dispersion_8h_source.html#l00020">dispersion_sources::add_range()</a>, <a class="el" href="ranged_8cpp.html#a0919705e5cea2aa623cbda27d0cae0b6">bio_targeting</a>, <a class="el" href="bodypart_8h_source.html#l00044">bp_arm_l</a>, <a class="el" href="bodypart_8h_source.html#l00045">bp_arm_r</a>, <a class="el" href="ranged_8cpp_source.html#l00778">can_use_bipod()</a>, <a class="el" href="ranged_8cpp_source.html#l01858">dispersion_from_skill()</a>, <a class="el" href="character_8cpp_source.html#l03985">Character::encumb()</a>, <a class="el" href="visitable_8cpp_source.html#l00050">visitable&lt; Character &gt;::find_parent()</a>, <a class="el" href="ranged_8cpp.html#a9a327f2be95a30526c2d1ab6a31f72b2">flag_MOUNTED_GUN()</a>, <a class="el" href="ranged_8cpp.html#ab6ca472fa792b69b4a6afa8ca9e63a58">flag_UNDERWATER_GUN()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l00534">Character::get_size()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="item_8cpp_source.html#l07072">item::gun_dispersion()</a>, <a class="el" href="item_8cpp_source.html#l07026">item::gun_skill()</a>, <a class="el" href="character_8cpp_source.html#l01866">Character::has_bionic()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="visitable_8cpp_source.html#l00096">visitable&lt; Character &gt;::has_item()</a>, <a class="el" href="ranged_8cpp_source.html#l01852">is_driving()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="game__constants_8h_source.html#l00111">MAX_SKILL</a>, <a class="el" href="creature_8h_source.html#l00062">MS_HUGE</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="character_8cpp_source.html#l04113">Character::ranged_dex_mod()</a>, <a class="el" href="ranged_8cpp.html#afee8dcfd12a225c469ee6171063d7594">skill_driving</a>, <a class="el" href="ranged_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a>, <a class="el" href="ranged_8cpp_source.html#l01021">ranged::str_draw_dispersion_modifier()</a>, and <a class="el" href="item_8cpp_source.html#l04991">item::volume()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00792">calculate_dispersion()</a>, <a class="el" href="npcmove_8cpp_source.html#l02042">npc::confident_gun_mode_range()</a>, <a class="el" href="ranged_8cpp_source.html#l01931">gun_value()</a>, and <a class="el" href="ranged_8cpp_source.html#l01539">print_aim()</a>.</p>

</div>
</div>
<a id="a9c356da8331dbc6964aa054fa8030d45" name="a9c356da8331dbc6964aa054fa8030d45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c356da8331dbc6964aa054fa8030d45">&#9670;&nbsp;</a></span>gun_engagement_moves()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::gun_engagement_moves </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>gun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>target</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em> = <code><a class="el" href="game__constants_8h.html#a8226e8a134603e5bc06df05efd13d8d1">MAX_RECOIL</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How many moves does it take to aim gun to the target accuracy. </p>

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l00572">572</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>{</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>    <span class="keywordtype">int</span> mv = 0;</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>    <span class="keywordtype">double</span> penalty = start;</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span> </div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    <span class="keywordflow">while</span>( penalty &gt; target ) {</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>        <span class="keywordtype">double</span> adj = <a class="code hl_function" href="classCharacter.html#a851daac85a019452f34ba82a377773b0">aim_per_move</a>( gun, penalty );</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>        <span class="keywordflow">if</span>( adj &lt;= 0 ) {</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>        }</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>        penalty -= adj;</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>        mv++;</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>    }</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span> </div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>    <span class="keywordflow">return</span> mv;</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>}</div>
<div class="ttc" id="aclassCharacter_html_a851daac85a019452f34ba82a377773b0"><div class="ttname"><a href="classCharacter.html#a851daac85a019452f34ba82a377773b0">Character::aim_per_move</a></div><div class="ttdeci">double aim_per_move(const item &amp;gun, double recoil) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00658">character.cpp:658</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l00658">Character::aim_per_move()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01539">print_aim()</a>.</p>

</div>
</div>
<a id="ad7cc78075e6defac1a555615a4a0451a" name="ad7cc78075e6defac1a555615a4a0451a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7cc78075e6defac1a555615a4a0451a">&#9670;&nbsp;</a></span>gun_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double player::gun_value </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>weap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ammo</em> = <code>10</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01931">1931</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>{</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span>    <span class="comment">// TODO: Mods</span></div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>    <span class="comment">// TODO: Allow using a specified type of ammo rather than default or current</span></div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span>    <span class="keywordflow">if</span>( !weap.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a> ) {</div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>    }</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span> </div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>    <span class="keywordflow">if</span>( ammo &lt;= 0 ) {</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>    }</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span> </div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structislot__gun.html">islot_gun</a> &amp;gun = *weap.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>;</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>    <a class="code hl_class" href="classstring__id.html">itype_id</a> ammo_type;</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>    <span class="keywordflow">if</span>( !weap.<a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>().<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span>        ammo_type = weap.<a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>();</div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( weap.<a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>() ) {</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>        ammo_type = weap.<a class="code hl_function" href="classitem.html#a5cc833f71e0454446fd0f877d24f6585">common_ammo_default</a>();</div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>        ammo_type = weap.<a class="code hl_function" href="classitem.html#ab07d96e30c441a84435972df842f4c77">ammo_default</a>();</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>    }</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *def_ammo_i = ammo_type.<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ? nullptr : &amp;*ammo_type;</div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span> </div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>    <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> gun_damage = weap.<a class="code hl_function" href="classitem.html#ada111938a57ec6c7b47fcca30ec9d36c">gun_damage</a>();</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>    <a class="code hl_class" href="classitem.html">item</a> tmp = weap;</div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>    tmp.<a class="code hl_function" href="classitem.html#a6a3f16444c412bce4b75a7d600d6a3fe">ammo_set</a>( ammo_type );</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>    <span class="keywordtype">int</span> total_dispersion = <a class="code hl_function" href="classplayer.html#a3deecf5e0ddfe40130d97c61c57e2fe2">get_weapon_dispersion</a>( tmp ).<a class="code hl_function" href="classdispersion__sources.html#ac3dc7f13e78a217aeaba57740f3af17c">max</a>() +</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>                           <a class="code hl_function" href="classCharacter.html#a37855668c0e9260587d5561b044f5510">effective_dispersion</a>( tmp.<a class="code hl_function" href="classitem.html#af0b7e5875297be57d675270f57ff775a">sight_dispersion</a>() );</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span> </div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span>    <span class="keywordflow">if</span>( def_ammo_i != <span class="keyword">nullptr</span> &amp;&amp; def_ammo_i-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a> ) {</div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structislot__ammo.html">islot_ammo</a> &amp;def_ammo = *def_ammo_i-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>;</div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span>        gun_damage.<a class="code hl_function" href="structdamage__instance.html#ae17bfa13ed37fd55281fa769a152e941">add</a>( def_ammo.<a class="code hl_variable" href="structcommon__ranged__data.html#a94254f1acb94261bb47c4b7aaa3b0c89">damage</a> );</div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span>        total_dispersion += def_ammo.<a class="code hl_variable" href="structcommon__ranged__data.html#a497cd4533098e79f14f8a97fcec6ca1a">dispersion</a>;</div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span>    }</div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span> </div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span>    <span class="keywordtype">float</span> damage_factor = gun_damage.<a class="code hl_function" href="structdamage__instance.html#a96f6f6d008ed8744ce549cefcfec3951">total_damage</a>();</div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span>    <span class="keywordflow">if</span>( damage_factor &gt; 0 ) {</div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span>        <span class="comment">// TODO: Multiple damage types</span></div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span>        damage_factor += 0.5f * gun_damage.<a class="code hl_variable" href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_units</a>.front().res_pen;</div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span>    }</div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span> </div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="activity__item__handling_8cpp.html#a0572000ec0976f2d095ae0cd9d20e78b">move_cost</a> = <a class="code hl_function" href="ranged_8cpp.html#a613a8b59e4b2f2aaf05091d354bb4aa3">time_to_attack</a>( *<span class="keyword">this</span>, *weap.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> );</div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span>    <span class="keywordflow">if</span>( gun.<a class="code hl_variable" href="structislot__gun.html#a5a7e4998071d2cd8f7ecd9504003968b">clip</a> != 0 &amp;&amp; gun.<a class="code hl_variable" href="structislot__gun.html#a5a7e4998071d2cd8f7ecd9504003968b">clip</a> &lt; 10 ) {</div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span>        <span class="comment">// TODO: RELOAD_ONE should get a penalty here</span></div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span>        <span class="keywordtype">int</span> reload_cost = gun.<a class="code hl_variable" href="structislot__gun.html#acedd47c3f7557f9b7b839af476c5989e">reload_time</a> + <a class="code hl_function" href="classCharacter.html#adc1fd84a88722a905e57fea8bfd5b6b0">encumb</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2806629e65a2c2eb5d8049e29e77910e">bp_hand_l</a> ) + <a class="code hl_function" href="classCharacter.html#adc1fd84a88722a905e57fea8bfd5b6b0">encumb</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a54721306a0e05318b6d0440349c1a0fb">bp_hand_r</a> );</div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span>        reload_cost /= gun.<a class="code hl_variable" href="structislot__gun.html#a5a7e4998071d2cd8f7ecd9504003968b">clip</a>;</div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span>        <a class="code hl_function" href="activity__item__handling_8cpp.html#a0572000ec0976f2d095ae0cd9d20e78b">move_cost</a> += reload_cost;</div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span>    }</div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span> </div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span>    <span class="comment">// &quot;Medium range&quot; below means 9 tiles, &quot;short range&quot; means 4</span></div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span>    <span class="comment">// Those are guarantees (assuming maximum time spent aiming)</span></div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::vector&lt;std::pair&lt;float, float&gt;&gt; dispersion_thresholds = {{</div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span>            <span class="comment">// Headshots all the time</span></div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span>            { 0.0f, 5.0f },</div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span>            <span class="comment">// Critical at medium range</span></div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span>            { 100.0f, 4.5f },</div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span>            <span class="comment">// Critical at short range or good hit at medium</span></div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span>            { 200.0f, 3.5f },</div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span>            <span class="comment">// OK hits at medium</span></div>
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"> 1990</span>            { 300.0f, 3.0f },</div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span>            <span class="comment">// Point blank headshots</span></div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span>            { 450.0f, 2.5f },</div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span>            <span class="comment">// OK hits at short</span></div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span>            { 700.0f, 1.5f },</div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span>            <span class="comment">// Glances at medium, criticals at point blank</span></div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span>            { 1000.0f, 1.0f },</div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span>            <span class="comment">// Nothing guaranteed, pure gamble</span></div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span>            { 2000.0f, 0.1f },</div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span>        }</div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span>    };</div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"> 2001</span> </div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"> 2002</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::vector&lt;std::pair&lt;float, float&gt;&gt; move_cost_thresholds = {{</div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>            { 10.0f, 4.0f },</div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span>            { 25.0f, 3.0f },</div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span>            { 100.0f, 1.0f },</div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span>            { 500.0f, 5.0f },</div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>        }</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>    };</div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span> </div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span>    <span class="keywordtype">float</span> move_cost_factor = <a class="code hl_function" href="cata__utility_8cpp.html#ac49c7bae3c3ac926a5501ffb127c1e97">multi_lerp</a>( move_cost_thresholds, <a class="code hl_function" href="activity__item__handling_8cpp.html#a0572000ec0976f2d095ae0cd9d20e78b">move_cost</a> );</div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span> </div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span>    <span class="comment">// Penalty for dodging in melee makes the gun unusable in melee</span></div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span>    <span class="comment">// Until NPCs get proper kiting, at least</span></div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span>    <span class="keywordtype">int</span> melee_penalty = <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>() / 250_ml - <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="ranged_8cpp.html#a1d5482b7403ee4ac3e70e88ecfee2141">skill_dodge</a> );</div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span>    <span class="keywordflow">if</span>( melee_penalty &lt;= 0 ) {</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>        <span class="comment">// Dispersion matters less if you can just use the gun in melee</span></div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span>        total_dispersion = std::min&lt;int&gt;( total_dispersion / move_cost_factor, total_dispersion );</div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span>    }</div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span> </div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span>    <span class="keywordtype">float</span> dispersion_factor = <a class="code hl_function" href="cata__utility_8cpp.html#ac49c7bae3c3ac926a5501ffb127c1e97">multi_lerp</a>( dispersion_thresholds, total_dispersion );</div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span> </div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span>    <span class="keywordtype">float</span> damage_and_accuracy = damage_factor * dispersion_factor;</div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span> </div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span>    <span class="comment">// TODO: Some better approximation of the ability to keep on shooting</span></div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::vector&lt;std::pair&lt;float, float&gt;&gt; capacity_thresholds = {{</div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span>            { 1.0f, 0.5f },</div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span>            { 5.0f, 1.0f },</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>            { 10.0f, 1.5f },</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span>            { 20.0f, 2.0f },</div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span>            { 50.0f, 3.0f },</div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span>        }</div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span>    };</div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span> </div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span>    <span class="comment">// How much until reload</span></div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span>    <span class="keywordtype">float</span> capacity = gun.<a class="code hl_variable" href="structislot__gun.html#a5a7e4998071d2cd8f7ecd9504003968b">clip</a> &gt; 0 ? std::min&lt;float&gt;( gun.<a class="code hl_variable" href="structislot__gun.html#a5a7e4998071d2cd8f7ecd9504003968b">clip</a>, ammo ) : ammo;</div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span>    <span class="comment">// How much until dry and a new weapon is needed</span></div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span>    capacity += std::min&lt;float&gt;( 1.0, ammo / 20.0 );</div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>    <span class="keywordtype">double</span> capacity_factor = <a class="code hl_function" href="cata__utility_8cpp.html#ac49c7bae3c3ac926a5501ffb127c1e97">multi_lerp</a>( capacity_thresholds, capacity );</div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span> </div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span>    <span class="keywordtype">double</span> <a class="code hl_function" href="classplayer.html#ad7cc78075e6defac1a555615a4a0451a">gun_value</a> = damage_and_accuracy * capacity_factor;</div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span> </div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span>    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a>, <span class="stringliteral">&quot;%s as gun: %.1f total, %.1f dispersion, %.1f damage, %.1f capacity&quot;</span>,</div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span>             weap.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">get_id</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>(), <a class="code hl_function" href="classplayer.html#ad7cc78075e6defac1a555615a4a0451a">gun_value</a>, dispersion_factor, damage_factor,</div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span>             capacity_factor );</div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span>    <span class="keywordflow">return</span> std::max( 0.0, <a class="code hl_function" href="classplayer.html#ad7cc78075e6defac1a555615a4a0451a">gun_value</a> );</div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span>}</div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_a0572000ec0976f2d095ae0cd9d20e78b"><div class="ttname"><a href="activity__item__handling_8cpp.html#a0572000ec0976f2d095ae0cd9d20e78b">move_cost</a></div><div class="ttdeci">static int move_cost(const item &amp;it, const tripoint &amp;src, const tripoint &amp;dest)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l00888">activity_item_handling.cpp:888</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a2806629e65a2c2eb5d8049e29e77910e"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2806629e65a2c2eb5d8049e29e77910e">bp_hand_l</a></div><div class="ttdeci">@ bp_hand_l</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00046">bodypart.h:46</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a54721306a0e05318b6d0440349c1a0fb"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a54721306a0e05318b6d0440349c1a0fb">bp_hand_r</a></div><div class="ttdeci">@ bp_hand_r</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00047">bodypart.h:47</a></div></div>
<div class="ttc" id="acata__utility_8cpp_html_ac49c7bae3c3ac926a5501ffb127c1e97"><div class="ttname"><a href="cata__utility_8cpp.html#ac49c7bae3c3ac926a5501ffb127c1e97">multi_lerp</a></div><div class="ttdeci">float multi_lerp(const std::vector&lt; std::pair&lt; float, float &gt; &gt; &amp;points, float x)</div><div class="ttdoc">From points, finds p1 and p2 such that p1.first &lt; x &lt; p2.first Then linearly interpolates between p1....</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8cpp_source.html#l00156">cata_utility.cpp:156</a></div></div>
<div class="ttc" id="aclassCharacter_html_a37855668c0e9260587d5561b044f5510"><div class="ttname"><a href="classCharacter.html#a37855668c0e9260587d5561b044f5510">Character::effective_dispersion</a></div><div class="ttdeci">int effective_dispersion(int dispersion) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00560">character.cpp:560</a></div></div>
<div class="ttc" id="aclassdispersion__sources_html_ac3dc7f13e78a217aeaba57740f3af17c"><div class="ttname"><a href="classdispersion__sources.html#ac3dc7f13e78a217aeaba57740f3af17c">dispersion_sources::max</a></div><div class="ttdeci">double max() const</div><div class="ttdef"><b>Definition:</b> <a href="dispersion_8cpp_source.html#l00020">dispersion.cpp:20</a></div></div>
<div class="ttc" id="aclassitem_html_a5cc833f71e0454446fd0f877d24f6585"><div class="ttname"><a href="classitem.html#a5cc833f71e0454446fd0f877d24f6585">item::common_ammo_default</a></div><div class="ttdeci">itype_id common_ammo_default(bool conversion=true) const</div><div class="ttdoc">Get default ammo for the first ammotype common to an item and its current magazine or &quot;NULL&quot; if none ...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07455">item.cpp:7455</a></div></div>
<div class="ttc" id="aclassitem_html_a6a3f16444c412bce4b75a7d600d6a3fe"><div class="ttname"><a href="classitem.html#a6a3f16444c412bce4b75a7d600d6a3fe">item::ammo_set</a></div><div class="ttdeci">item &amp; ammo_set(const itype_id &amp;ammo, int qty=-1)</div><div class="ttdoc">Filter setting the ammo for this instance Any existing ammo is removed.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00587">item.cpp:587</a></div></div>
<div class="ttc" id="aclassitem_html_ab07d96e30c441a84435972df842f4c77"><div class="ttname"><a href="classitem.html#ab07d96e30c441a84435972df842f4c77">item::ammo_default</a></div><div class="ttdeci">itype_id ammo_default(bool conversion=true) const</div><div class="ttdoc">Get default ammo used by item or a null id if item does not have a default ammo type.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07439">item.cpp:7439</a></div></div>
<div class="ttc" id="aclassitem_html_ab22fc9a4e0f9c6f5569b93e00deccfac"><div class="ttname"><a href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">item::magazine_current</a></div><div class="ttdeci">item * magazine_current()</div><div class="ttdoc">Currently loaded magazine (if any)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07565">item.cpp:7565</a></div></div>
<div class="ttc" id="aclassitem_html_ada111938a57ec6c7b47fcca30ec9d36c"><div class="ttname"><a href="classitem.html#ada111938a57ec6c7b47fcca30ec9d36c">item::gun_damage</a></div><div class="ttdeci">damage_instance gun_damage(bool with_ammo=true) const</div><div class="ttdoc">Summed ranged damage, armor piercing, and multipliers for both, of a gun, including values from mods.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07119">item.cpp:7119</a></div></div>
<div class="ttc" id="aclassitem_html_af0b7e5875297be57d675270f57ff775a"><div class="ttname"><a href="classitem.html#af0b7e5875297be57d675270f57ff775a">item::sight_dispersion</a></div><div class="ttdeci">int sight_dispersion() const</div><div class="ttdoc">Get lowest dispersion of either integral or any attached sights.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07100">item.cpp:7100</a></div></div>
<div class="ttc" id="aclassplayer_html_a3deecf5e0ddfe40130d97c61c57e2fe2"><div class="ttname"><a href="classplayer.html#a3deecf5e0ddfe40130d97c61c57e2fe2">player::get_weapon_dispersion</a></div><div class="ttdeci">dispersion_sources get_weapon_dispersion(const item &amp;obj) const</div><div class="ttdoc">Returns a weapon's modified dispersion value.</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01881">ranged.cpp:1881</a></div></div>
<div class="ttc" id="aclassplayer_html_ad7cc78075e6defac1a555615a4a0451a"><div class="ttname"><a href="classplayer.html#ad7cc78075e6defac1a555615a4a0451a">player::gun_value</a></div><div class="ttdeci">double gun_value(const item &amp;weap, int ammo=10) const</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01931">ranged.cpp:1931</a></div></div>
<div class="ttc" id="aclassstring__id_html_a3ca78345025397b3d3ac22729ba1684b"><div class="ttname"><a href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">string_id::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdoc">Returns whether this represents the id of the null-object (in which case it's the null-id).</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00317">string_id.h:317</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa7dabc565f0c067e1a237ea224b18f93"><div class="ttname"><a href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00255">string_id.h:255</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a></div><div class="ttdeci">@ m_debug</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00264">enums.h:264</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a1d5482b7403ee4ac3e70e88ecfee2141"><div class="ttname"><a href="ranged_8cpp.html#a1d5482b7403ee4ac3e70e88ecfee2141">skill_dodge</a></div><div class="ttdeci">static const skill_id skill_dodge(&quot;dodge&quot;)</div></div>
<div class="ttc" id="astructcommon__ranged__data_html_a497cd4533098e79f14f8a97fcec6ca1a"><div class="ttname"><a href="structcommon__ranged__data.html#a497cd4533098e79f14f8a97fcec6ca1a">common_ranged_data::dispersion</a></div><div class="ttdeci">int dispersion</div><div class="ttdoc">Dispersion &quot;bonus&quot; from gun.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00420">itype.h:420</a></div></div>
<div class="ttc" id="astructcommon__ranged__data_html_a94254f1acb94261bb47c4b7aaa3b0c89"><div class="ttname"><a href="structcommon__ranged__data.html#a94254f1acb94261bb47c4b7aaa3b0c89">common_ranged_data::damage</a></div><div class="ttdeci">damage_instance damage</div><div class="ttdoc">Damage, armor piercing and multipliers for each.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00412">itype.h:412</a></div></div>
<div class="ttc" id="astructdamage__instance_html"><div class="ttname"><a href="structdamage__instance.html">damage_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00051">damage.h:51</a></div></div>
<div class="ttc" id="astructdamage__instance_html_a2cc3ee4ff8f77ab6cd74168b1999246a"><div class="ttname"><a href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_instance::damage_units</a></div><div class="ttdeci">std::vector&lt; damage_unit &gt; damage_units</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00052">damage.h:52</a></div></div>
<div class="ttc" id="astructdamage__instance_html_a96f6f6d008ed8744ce549cefcfec3951"><div class="ttname"><a href="structdamage__instance.html#a96f6f6d008ed8744ce549cefcfec3951">damage_instance::total_damage</a></div><div class="ttdeci">float total_damage() const</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00075">damage.cpp:75</a></div></div>
<div class="ttc" id="astructdamage__instance_html_ae17bfa13ed37fd55281fa769a152e941"><div class="ttname"><a href="structdamage__instance.html#ae17bfa13ed37fd55281fa769a152e941">damage_instance::add</a></div><div class="ttdeci">void add(const damage_instance &amp;added_di)</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00093">damage.cpp:93</a></div></div>
<div class="ttc" id="astructislot__ammo_html"><div class="ttname"><a href="structislot__ammo.html">islot_ammo</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00672">itype.h:672</a></div></div>
<div class="ttc" id="astructislot__gun_html"><div class="ttname"><a href="structislot__gun.html">islot_gun</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00459">itype.h:459</a></div></div>
<div class="ttc" id="astructislot__gun_html_a5a7e4998071d2cd8f7ecd9504003968b"><div class="ttname"><a href="structislot__gun.html#a5a7e4998071d2cd8f7ecd9504003968b">islot_gun::clip</a></div><div class="ttdeci">int clip</div><div class="ttdoc">For guns with an integral magazine what is the capacity?</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00475">itype.h:475</a></div></div>
<div class="ttc" id="astructislot__gun_html_acedd47c3f7557f9b7b839af476c5989e"><div class="ttname"><a href="structislot__gun.html#acedd47c3f7557f9b7b839af476c5989e">islot_gun::reload_time</a></div><div class="ttdeci">int reload_time</div><div class="ttdoc">Reload time, in moves.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00479">itype.h:479</a></div></div>
<div class="ttc" id="astructitype_html_a623ec8243b1e599086fa3a23c3179370"><div class="ttname"><a href="structitype.html#a623ec8243b1e599086fa3a23c3179370">itype::gun</a></div><div class="ttdeci">cata::value_ptr&lt; islot_gun &gt; gun</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00857">itype.h:857</a></div></div>
<div class="ttc" id="astructitype_html_abc2596bacfc718fba56ab8076bab5d6b"><div class="ttname"><a href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">itype::get_id</a></div><div class="ttdeci">const itype_id &amp; get_id() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01070">itype.h:1070</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="damage_8cpp_source.html#l00093">damage_instance::add()</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="itype_8h_source.html#l00862">itype::ammo</a>, <a class="el" href="item_8cpp_source.html#l07402">item::ammo_current()</a>, <a class="el" href="item_8cpp_source.html#l07439">item::ammo_default()</a>, <a class="el" href="item_8cpp_source.html#l00587">item::ammo_set()</a>, <a class="el" href="bodypart_8h_source.html#l00046">bp_hand_l</a>, <a class="el" href="bodypart_8h_source.html#l00047">bp_hand_r</a>, <a class="el" href="itype_8h_source.html#l00475">islot_gun::clip</a>, <a class="el" href="item_8cpp_source.html#l07455">item::common_ammo_default()</a>, <a class="el" href="itype_8h_source.html#l00412">common_ranged_data::damage</a>, <a class="el" href="damage_8h_source.html#l00052">damage_instance::damage_units</a>, <a class="el" href="itype_8h_source.html#l00420">common_ranged_data::dispersion</a>, <a class="el" href="character_8cpp_source.html#l00560">Character::effective_dispersion()</a>, <a class="el" href="character_8cpp_source.html#l03985">Character::encumb()</a>, <a class="el" href="itype_8h_source.html#l01070">itype::get_id()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="ranged_8cpp_source.html#l01881">get_weapon_dispersion()</a>, <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07119">item::gun_damage()</a>, <a class="el" href="ranged_8cpp_source.html#l01931">gun_value()</a>, <a class="el" href="string__id_8h_source.html#l00317">string_id&lt; T &gt;::is_null()</a>, <a class="el" href="enums_8h_source.html#l00264">m_debug</a>, <a class="el" href="item_8cpp_source.html#l07565">item::magazine_current()</a>, <a class="el" href="dispersion_8cpp_source.html#l00020">dispersion_sources::max()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00888">move_cost()</a>, <a class="el" href="cata__utility_8cpp_source.html#l00156">multi_lerp()</a>, <a class="el" href="itype_8h_source.html#l00479">islot_gun::reload_time</a>, <a class="el" href="item_8cpp_source.html#l07100">item::sight_dispersion()</a>, <a class="el" href="ranged_8cpp.html#a1d5482b7403ee4ac3e70e88ecfee2141">skill_dodge</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, <a class="el" href="ranged_8cpp_source.html#l01711">time_to_attack()</a>, <a class="el" href="damage_8cpp_source.html#l00075">damage_instance::total_damage()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="item_8cpp_source.html#l04991">item::volume()</a>, and <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01931">gun_value()</a>, and <a class="el" href="melee_8cpp_source.html#l02205">weapon_value()</a>.</p>

</div>
</div>
<a id="ab3d41d8089689600e089ba046e017f0e" name="ab3d41d8089689600e089ba046e017f0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3d41d8089689600e089ba046e017f0e">&#9670;&nbsp;</a></span>gunmod_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::gunmod_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>gun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>mod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts activity to install gunmod having warned user about any risk of failure or irremovable mods s. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03519">3519</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03520" name="l03520"></a><span class="lineno"> 3520</span>{</div>
<div class="line"><a id="l03521" name="l03521"></a><span class="lineno"> 3521</span>    <span class="keywordflow">if</span>( !gun.<a class="code hl_function" href="classitem.html#a1a361aa96bec049dc124699ee54bcea0">is_gunmod_compatible</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ).success() ) {</div>
<div class="line"><a id="l03522" name="l03522"></a><span class="lineno"> 3522</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to add incompatible gunmod&quot;</span> );</div>
<div class="line"><a id="l03523" name="l03523"></a><span class="lineno"> 3523</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03524" name="l03524"></a><span class="lineno"> 3524</span>    }</div>
<div class="line"><a id="l03525" name="l03525"></a><span class="lineno"> 3525</span> </div>
<div class="line"><a id="l03526" name="l03526"></a><span class="lineno"> 3526</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( gun ) &amp;&amp; !<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) ) {</div>
<div class="line"><a id="l03527" name="l03527"></a><span class="lineno"> 3527</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried gunmod installation but mod/gun not in player possession&quot;</span> );</div>
<div class="line"><a id="l03528" name="l03528"></a><span class="lineno"> 3528</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03529" name="l03529"></a><span class="lineno"> 3529</span>    }</div>
<div class="line"><a id="l03530" name="l03530"></a><span class="lineno"> 3530</span> </div>
<div class="line"><a id="l03531" name="l03531"></a><span class="lineno"> 3531</span>    <span class="comment">// first check at least the minimum requirements are met</span></div>
<div class="line"><a id="l03532" name="l03532"></a><span class="lineno"> 3532</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#a4eddeb86babf626e7869882079b40651">can_use</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>, gun ) ) {</div>
<div class="line"><a id="l03533" name="l03533"></a><span class="lineno"> 3533</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03534" name="l03534"></a><span class="lineno"> 3534</span>    }</div>
<div class="line"><a id="l03535" name="l03535"></a><span class="lineno"> 3535</span> </div>
<div class="line"><a id="l03536" name="l03536"></a><span class="lineno"> 3536</span>    <span class="comment">// any (optional) tool charges that are used during installation</span></div>
<div class="line"><a id="l03537" name="l03537"></a><span class="lineno"> 3537</span>    <span class="keyword">auto</span> odds = <a class="code hl_function" href="classplayer.html#a4244893e087c70921dd2cd531f8bf5df">gunmod_installation_odds</a>( gun, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a id="l03538" name="l03538"></a><span class="lineno"> 3538</span>    <span class="keywordtype">int</span> roll = odds.first;</div>
<div class="line"><a id="l03539" name="l03539"></a><span class="lineno"> 3539</span>    <span class="keywordtype">int</span> risk = odds.second;</div>
<div class="line"><a id="l03540" name="l03540"></a><span class="lineno"> 3540</span> </div>
<div class="line"><a id="l03541" name="l03541"></a><span class="lineno"> 3541</span>    std::string <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>;</div>
<div class="line"><a id="l03542" name="l03542"></a><span class="lineno"> 3542</span>    <span class="keywordtype">int</span> qty = 0;</div>
<div class="line"><a id="l03543" name="l03543"></a><span class="lineno"> 3543</span>    <span class="keywordtype">bool</span> requery = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03544" name="l03544"></a><span class="lineno"> 3544</span> </div>
<div class="line"><a id="l03545" name="l03545"></a><span class="lineno"> 3545</span>    <a class="code hl_class" href="classitem.html">item</a> modded = gun;</div>
<div class="line"><a id="l03546" name="l03546"></a><span class="lineno"> 3546</span>    modded.<a class="code hl_function" href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">put_in</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a id="l03547" name="l03547"></a><span class="lineno"> 3547</span>    <span class="keywordtype">bool</span> no_magazines = modded.<a class="code hl_function" href="classitem.html#a5cc833f71e0454446fd0f877d24f6585">common_ammo_default</a>().<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>();</div>
<div class="line"><a id="l03548" name="l03548"></a><span class="lineno"> 3548</span> </div>
<div class="line"><a id="l03549" name="l03549"></a><span class="lineno"> 3549</span>    std::string query_msg = <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.is_irremovable()</div>
<div class="line"><a id="l03550" name="l03550"></a><span class="lineno"> 3550</span>                            ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;color_yellow&gt;Permanently&lt;/color&gt; install your %1$s in your %2$s?&quot;</span> )</div>
<div class="line"><a id="l03551" name="l03551"></a><span class="lineno"> 3551</span>                            : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Attach your %1$s to your %2$s?&quot;</span> );</div>
<div class="line"><a id="l03552" name="l03552"></a><span class="lineno"> 3552</span>    <span class="keywordflow">if</span>( no_magazines ) {</div>
<div class="line"><a id="l03553" name="l03553"></a><span class="lineno"> 3553</span>        query_msg += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l03554" name="l03554"></a><span class="lineno"> 3554</span>        query_msg += <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>(</div>
<div class="line"><a id="l03555" name="l03555"></a><span class="lineno"> 3555</span>                         <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Warning: after installing this mod, a magazine adapter mod will be required to load it!&quot;</span> ),</div>
<div class="line"><a id="l03556" name="l03556"></a><span class="lineno"> 3556</span>                         <a class="code hl_define" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> );</div>
<div class="line"><a id="l03557" name="l03557"></a><span class="lineno"> 3557</span>    }</div>
<div class="line"><a id="l03558" name="l03558"></a><span class="lineno"> 3558</span> </div>
<div class="line"><a id="l03559" name="l03559"></a><span class="lineno"> 3559</span>    <a class="code hl_class" href="classuilist.html">uilist</a> <a class="code hl_enumvalue" href="namespacepickup.html#a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c">prompt</a>;</div>
<div class="line"><a id="l03560" name="l03560"></a><span class="lineno"> 3560</span>    <a class="code hl_enumvalue" href="namespacepickup.html#a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c">prompt</a>.text = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( query_msg,</div>
<div class="line"><a id="l03561" name="l03561"></a><span class="lineno"> 3561</span>                                 <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.tname(), <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.color_in_inventory() ),</div>
<div class="line"><a id="l03562" name="l03562"></a><span class="lineno"> 3562</span>                                 <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( gun.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(), gun.<a class="code hl_function" href="classitem.html#a6bc022aab35ecd1f591a065aa4006eff">color_in_inventory</a>() ) );</div>
<div class="line"><a id="l03563" name="l03563"></a><span class="lineno"> 3563</span> </div>
<div class="line"><a id="l03564" name="l03564"></a><span class="lineno"> 3564</span>    std::vector&lt;std::function&lt;void()&gt;&gt; actions;</div>
<div class="line"><a id="l03565" name="l03565"></a><span class="lineno"> 3565</span> </div>
<div class="line"><a id="l03566" name="l03566"></a><span class="lineno"> 3566</span>    <span class="keywordflow">if</span>( roll &lt; 100 ) {</div>
<div class="line"><a id="l03567" name="l03567"></a><span class="lineno"> 3567</span>        <a class="code hl_enumvalue" href="namespacepickup.html#a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c">prompt</a>.addentry( -1, <span class="keyword">true</span>, <span class="charliteral">&#39;w&#39;</span>,</div>
<div class="line"><a id="l03568" name="l03568"></a><span class="lineno"> 3568</span>                         <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Try without tools (%i%%) risking damage (%i%%)&quot;</span> ), roll, risk ) );</div>
<div class="line"><a id="l03569" name="l03569"></a><span class="lineno"> 3569</span>        actions.emplace_back( [&amp;] {} );</div>
<div class="line"><a id="l03570" name="l03570"></a><span class="lineno"> 3570</span> </div>
<div class="line"><a id="l03571" name="l03571"></a><span class="lineno"> 3571</span>        <a class="code hl_enumvalue" href="namespacepickup.html#a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c">prompt</a>.addentry( -1, <a class="code hl_function" href="classCharacter.html#a9bff3208a5e121c4e3a71b81b378e4e7">has_charges</a>( <a class="code hl_variable" href="player_8cpp.html#a135bb2f0f8f655d6940d21d5266b681d">itype_small_repairkit</a>, 100 ), <span class="charliteral">&#39;f&#39;</span>,</div>
<div class="line"><a id="l03572" name="l03572"></a><span class="lineno"> 3572</span>                         <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Use 100 charges of firearm repair kit (%i%%)&quot;</span> ), std::min( roll * 2, 100 ) ) );</div>
<div class="line"><a id="l03573" name="l03573"></a><span class="lineno"> 3573</span> </div>
<div class="line"><a id="l03574" name="l03574"></a><span class="lineno"> 3574</span>        actions.emplace_back( [&amp;] {</div>
<div class="line"><a id="l03575" name="l03575"></a><span class="lineno"> 3575</span>            <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a> = <span class="stringliteral">&quot;small_repairkit&quot;</span>;</div>
<div class="line"><a id="l03576" name="l03576"></a><span class="lineno"> 3576</span>            qty = 100;</div>
<div class="line"><a id="l03577" name="l03577"></a><span class="lineno"> 3577</span>            roll *= 2; <span class="comment">// firearm repair kit improves success...</span></div>
<div class="line"><a id="l03578" name="l03578"></a><span class="lineno"> 3578</span>            risk /= 2; <span class="comment">// ...and reduces the risk of damage upon failure</span></div>
<div class="line"><a id="l03579" name="l03579"></a><span class="lineno"> 3579</span>        } );</div>
<div class="line"><a id="l03580" name="l03580"></a><span class="lineno"> 3580</span> </div>
<div class="line"><a id="l03581" name="l03581"></a><span class="lineno"> 3581</span>        <a class="code hl_enumvalue" href="namespacepickup.html#a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c">prompt</a>.addentry( -1, <a class="code hl_function" href="classCharacter.html#a9bff3208a5e121c4e3a71b81b378e4e7">has_charges</a>( <a class="code hl_variable" href="player_8cpp.html#a2b1ee59bed1fc9f28ad1906bdd6156f1">itype_large_repairkit</a>, 25 ), <span class="charliteral">&#39;g&#39;</span>,</div>
<div class="line"><a id="l03582" name="l03582"></a><span class="lineno"> 3582</span>                         <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Use 25 charges of gunsmith repair kit (%i%%)&quot;</span> ), std::min( roll * 3, 100 ) ) );</div>
<div class="line"><a id="l03583" name="l03583"></a><span class="lineno"> 3583</span> </div>
<div class="line"><a id="l03584" name="l03584"></a><span class="lineno"> 3584</span>        actions.emplace_back( [&amp;] {</div>
<div class="line"><a id="l03585" name="l03585"></a><span class="lineno"> 3585</span>            <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a> = <span class="stringliteral">&quot;large_repairkit&quot;</span>;</div>
<div class="line"><a id="l03586" name="l03586"></a><span class="lineno"> 3586</span>            qty = 25;</div>
<div class="line"><a id="l03587" name="l03587"></a><span class="lineno"> 3587</span>            roll *= 3; <span class="comment">// gunsmith repair kit improves success markedly...</span></div>
<div class="line"><a id="l03588" name="l03588"></a><span class="lineno"> 3588</span>            risk = 0;  <span class="comment">// ...and entirely prevents damage upon failure</span></div>
<div class="line"><a id="l03589" name="l03589"></a><span class="lineno"> 3589</span>        } );</div>
<div class="line"><a id="l03590" name="l03590"></a><span class="lineno"> 3590</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03591" name="l03591"></a><span class="lineno"> 3591</span>        <a class="code hl_enumvalue" href="namespacepickup.html#a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c">prompt</a>.addentry( -1, <span class="keyword">true</span>, <span class="charliteral">&#39;w&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Install without tools&quot;</span> ) );</div>
<div class="line"><a id="l03592" name="l03592"></a><span class="lineno"> 3592</span>        actions.emplace_back( [&amp;] {} );</div>
<div class="line"><a id="l03593" name="l03593"></a><span class="lineno"> 3593</span>    }</div>
<div class="line"><a id="l03594" name="l03594"></a><span class="lineno"> 3594</span> </div>
<div class="line"><a id="l03595" name="l03595"></a><span class="lineno"> 3595</span>    <a class="code hl_enumvalue" href="namespacepickup.html#a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c">prompt</a>.addentry( -1, <span class="keyword">true</span>, <span class="charliteral">&#39;c&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Compare before/after installation&quot;</span> ) );</div>
<div class="line"><a id="l03596" name="l03596"></a><span class="lineno"> 3596</span>    actions.emplace_back( [&amp;] {</div>
<div class="line"><a id="l03597" name="l03597"></a><span class="lineno"> 3597</span>        requery = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03598" name="l03598"></a><span class="lineno"> 3598</span>        <a class="code hl_function" href="namespacegame__menus_1_1inv.html#a19584da88b2dd326b414ecbbaf291bd8">game_menus::inv::compare</a>( gun, modded );</div>
<div class="line"><a id="l03599" name="l03599"></a><span class="lineno"> 3599</span>    } );</div>
<div class="line"><a id="l03600" name="l03600"></a><span class="lineno"> 3600</span> </div>
<div class="line"><a id="l03601" name="l03601"></a><span class="lineno"> 3601</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l03602" name="l03602"></a><span class="lineno"> 3602</span>        requery = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03603" name="l03603"></a><span class="lineno"> 3603</span>        <a class="code hl_enumvalue" href="namespacepickup.html#a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c">prompt</a>.query();</div>
<div class="line"><a id="l03604" name="l03604"></a><span class="lineno"> 3604</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="namespacepickup.html#a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c">prompt</a>.ret &lt; 0 ) {</div>
<div class="line"><a id="l03605" name="l03605"></a><span class="lineno"> 3605</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Never mind.&quot;</span> ) );</div>
<div class="line"><a id="l03606" name="l03606"></a><span class="lineno"> 3606</span>            <span class="keywordflow">return</span>; <span class="comment">// player canceled installation</span></div>
<div class="line"><a id="l03607" name="l03607"></a><span class="lineno"> 3607</span>        }</div>
<div class="line"><a id="l03608" name="l03608"></a><span class="lineno"> 3608</span>        actions[ <a class="code hl_enumvalue" href="namespacepickup.html#a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c">prompt</a>.ret ]();</div>
<div class="line"><a id="l03609" name="l03609"></a><span class="lineno"> 3609</span>    } <span class="keywordflow">while</span>( requery );</div>
<div class="line"><a id="l03610" name="l03610"></a><span class="lineno"> 3610</span> </div>
<div class="line"><a id="l03611" name="l03611"></a><span class="lineno"> 3611</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a> ) ? <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.type-&gt;gunmod-&gt;install_time : 0;</div>
<div class="line"><a id="l03612" name="l03612"></a><span class="lineno"> 3612</span> </div>
<div class="line"><a id="l03613" name="l03613"></a><span class="lineno"> 3613</span>    <a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_GUNMOD_ADD&quot;</span> ), <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a>, -1, 0, <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a> );</div>
<div class="line"><a id="l03614" name="l03614"></a><span class="lineno"> 3614</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.push_back( <a class="code hl_class" href="classitem__location.html">item_location</a>( *<span class="keyword">this</span>, &amp;gun ) );</div>
<div class="line"><a id="l03615" name="l03615"></a><span class="lineno"> 3615</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.push_back( <a class="code hl_class" href="classitem__location.html">item_location</a>( *<span class="keyword">this</span>, &amp;<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) );</div>
<div class="line"><a id="l03616" name="l03616"></a><span class="lineno"> 3616</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.push_back( 0 ); <span class="comment">// dummy value</span></div>
<div class="line"><a id="l03617" name="l03617"></a><span class="lineno"> 3617</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.push_back( roll ); <span class="comment">// chance of success (%)</span></div>
<div class="line"><a id="l03618" name="l03618"></a><span class="lineno"> 3618</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.push_back( risk ); <span class="comment">// chance of damage (%)</span></div>
<div class="line"><a id="l03619" name="l03619"></a><span class="lineno"> 3619</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.push_back( qty ); <span class="comment">// tool charges</span></div>
<div class="line"><a id="l03620" name="l03620"></a><span class="lineno"> 3620</span>}</div>
<div class="ttc" id="aactivity__type_8h_html_a61b219d1f1a69a8d5e8af6b500f09354"><div class="ttname"><a href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a></div><div class="ttdeci">string_id&lt; activity_type &gt; activity_id</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00015">activity_type.h:15</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4eddeb86babf626e7869882079b40651"><div class="ttname"><a href="classCharacter.html#a4eddeb86babf626e7869882079b40651">Character::can_use</a></div><div class="ttdeci">bool can_use(const item &amp;it, const item &amp;context=item()) const</div><div class="ttdoc">Checks if character stats and skills meet minimum requirements for the item.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02898">character.cpp:2898</a></div></div>
<div class="ttc" id="aclassitem_html_a1a361aa96bec049dc124699ee54bcea0"><div class="ttname"><a href="classitem.html#a1a361aa96bec049dc124699ee54bcea0">item::is_gunmod_compatible</a></div><div class="ttdeci">ret_val&lt; bool &gt; is_gunmod_compatible(const item &amp;mod) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07602">item.cpp:7602</a></div></div>
<div class="ttc" id="aclassitem_html_a3841e9e250af73e45b14d5bb3cc7a043"><div class="ttname"><a href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">item::put_in</a></div><div class="ttdeci">void put_in(const item &amp;payload)</div><div class="ttdoc">Puts the given item into this one, no checks are performed.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00987">item.cpp:987</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_aca09f19b9a36866a33a46cf0c8ee484d"><div class="ttname"><a href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">player_activity::values</a></div><div class="ttdeci">std::vector&lt; int &gt; values</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00057">player_activity.h:57</a></div></div>
<div class="ttc" id="aclassplayer_html_a4244893e087c70921dd2cd531f8bf5df"><div class="ttname"><a href="classplayer.html#a4244893e087c70921dd2cd531f8bf5df">player::gunmod_installation_odds</a></div><div class="ttdeci">std::pair&lt; int, int &gt; gunmod_installation_odds(const item &amp;gun, const item &amp;mod) const</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03486">player.cpp:3486</a></div></div>
<div class="ttc" id="aclassuilist_html"><div class="ttname"><a href="classuilist.html">uilist</a></div><div class="ttdoc">uilist: scrolling vertical list menu</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00186">ui.h:187</a></div></div>
<div class="ttc" id="anamespaceenchant__vals_html_acd6a6ebb27f9ecb82b3bce1d3aef2998"><div class="ttname"><a href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">enchant_vals::mod</a></div><div class="ttdeci">mod</div><div class="ttdef"><b>Definition:</b> <a href="magic__enchantment_8h_source.html#l00026">magic_enchantment.h:26</a></div></div>
<div class="ttc" id="anamespacegame__menus_1_1inv_html_a19584da88b2dd326b414ecbbaf291bd8"><div class="ttname"><a href="namespacegame__menus_1_1inv.html#a19584da88b2dd326b414ecbbaf291bd8">game_menus::inv::compare</a></div><div class="ttdeci">void compare(player &amp;p, const cata::optional&lt; tripoint &gt; &amp;offset)</div><div class="ttdef"><b>Definition:</b> <a href="game__inventory_8cpp_source.html#l01533">game_inventory.cpp:1533</a></div></div>
<div class="ttc" id="anamespacepickup_html_a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c"><div class="ttname"><a href="namespacepickup.html#a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c">pickup::prompt</a></div><div class="ttdeci">@ prompt</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8h_source.html#l00031">pickup.h:30</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a135bb2f0f8f655d6940d21d5266b681d"><div class="ttname"><a href="player_8cpp.html#a135bb2f0f8f655d6940d21d5266b681d">itype_small_repairkit</a></div><div class="ttdeci">static const itype_id itype_small_repairkit(&quot;small_repairkit&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a2b1ee59bed1fc9f28ad1906bdd6156f1"><div class="ttname"><a href="player_8cpp.html#a2b1ee59bed1fc9f28ad1906bdd6156f1">itype_large_repairkit</a></div><div class="ttdeci">static const itype_id itype_large_repairkit(&quot;large_repairkit&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a2ba9e40123e7b42ccc2327d637311c5a"><div class="ttname"><a href="player_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a></div><div class="ttdeci">static const trait_id trait_DEBUG_HS(&quot;DEBUG_HS&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="color_8h_source.html#l00021">c_red</a>, <a class="el" href="character_8cpp_source.html#l02898">Character::can_use()</a>, <a class="el" href="item_8cpp_source.html#l04017">item::color_in_inventory()</a>, <a class="el" href="color_8cpp_source.html#l00669">colorize()</a>, <a class="el" href="item_8cpp_source.html#l07455">item::common_ammo_default()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01533">game_menus::inv::compare()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="player_8cpp_source.html#l03486">gunmod_installation_odds()</a>, <a class="el" href="character_8cpp_source.html#l09571">Character::has_charges()</a>, <a class="el" href="visitable_8cpp_source.html#l00096">visitable&lt; Character &gt;::has_item()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="item_8cpp_source.html#l07602">item::is_gunmod_compatible()</a>, <a class="el" href="string__id_8h_source.html#l00317">string_id&lt; T &gt;::is_null()</a>, <a class="el" href="player_8cpp.html#a2b1ee59bed1fc9f28ad1906bdd6156f1">itype_large_repairkit</a>, <a class="el" href="player_8cpp.html#a135bb2f0f8f655d6940d21d5266b681d">itype_small_repairkit</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="pickup_8h_source.html#l00030">pickup::prompt</a>, <a class="el" href="item_8cpp_source.html#l00987">item::put_in()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="player__activity_8h_source.html#l00056">player_activity::targets</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>, <a class="el" href="player_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a>, and <a class="el" href="player__activity_8h_source.html#l00057">player_activity::values</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l05913">iuse::gunmod_attach()</a>.</p>

</div>
</div>
<a id="a4244893e087c70921dd2cd531f8bf5df" name="a4244893e087c70921dd2cd531f8bf5df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4244893e087c70921dd2cd531f8bf5df">&#9670;&nbsp;</a></span>gunmod_installation_odds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; int, int &gt; player::gunmod_installation_odds </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>gun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>mod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Odds for success (pair.first) and gunmod damage (pair.second) </dd></dl>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03486">3486</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03487" name="l03487"></a><span class="lineno"> 3487</span>{</div>
<div class="line"><a id="l03488" name="l03488"></a><span class="lineno"> 3488</span>    <span class="comment">// Mods with INSTALL_DIFFICULT have a chance to fail, potentially damaging the gun</span></div>
<div class="line"><a id="l03489" name="l03489"></a><span class="lineno"> 3489</span>    <span class="keywordflow">if</span>( !<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.has_flag( <span class="stringliteral">&quot;INSTALL_DIFFICULT&quot;</span> ) || <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a> ) ) {</div>
<div class="line"><a id="l03490" name="l03490"></a><span class="lineno"> 3490</span>        <span class="keywordflow">return</span> std::make_pair( 100, 0 );</div>
<div class="line"><a id="l03491" name="l03491"></a><span class="lineno"> 3491</span>    }</div>
<div class="line"><a id="l03492" name="l03492"></a><span class="lineno"> 3492</span> </div>
<div class="line"><a id="l03493" name="l03493"></a><span class="lineno"> 3493</span>    <span class="keywordtype">int</span> roll = 100; <span class="comment">// chance of success (%)</span></div>
<div class="line"><a id="l03494" name="l03494"></a><span class="lineno"> 3494</span>    <span class="keywordtype">int</span> risk = 0;   <span class="comment">// chance of failure (%)</span></div>
<div class="line"><a id="l03495" name="l03495"></a><span class="lineno"> 3495</span>    <span class="keywordtype">int</span> chances = 1; <span class="comment">// start with 1 in 6 (~17% chance)</span></div>
<div class="line"><a id="l03496" name="l03496"></a><span class="lineno"> 3496</span> </div>
<div class="line"><a id="l03497" name="l03497"></a><span class="lineno"> 3497</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.type-&gt;min_skills ) {</div>
<div class="line"><a id="l03498" name="l03498"></a><span class="lineno"> 3498</span>        <span class="comment">// gain an additional chance for every level above the minimum requirement</span></div>
<div class="line"><a id="l03499" name="l03499"></a><span class="lineno"> 3499</span>        <a class="code hl_class" href="classstring__id.html">skill_id</a> sk = e.first == <a class="code hl_variable" href="player_8cpp.html#a35f2f8386cafac888b1488869514370c">skill_weapon</a> ? gun.<a class="code hl_function" href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3">gun_skill</a>() : e.first;</div>
<div class="line"><a id="l03500" name="l03500"></a><span class="lineno"> 3500</span>        chances += std::max( <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( sk ) - e.second, 0 );</div>
<div class="line"><a id="l03501" name="l03501"></a><span class="lineno"> 3501</span>    }</div>
<div class="line"><a id="l03502" name="l03502"></a><span class="lineno"> 3502</span>    <span class="comment">// cap success from skill alone to 1 in 5 (~83% chance)</span></div>
<div class="line"><a id="l03503" name="l03503"></a><span class="lineno"> 3503</span>    roll = std::min( <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( chances ), 5.0 ) / 6.0 * 100;</div>
<div class="line"><a id="l03504" name="l03504"></a><span class="lineno"> 3504</span>    <span class="comment">// focus is either a penalty or bonus of at most +/-10%</span></div>
<div class="line"><a id="l03505" name="l03505"></a><span class="lineno"> 3505</span>    roll += ( std::min( std::max( <a class="code hl_variable" href="classCharacter.html#a1a22be593582c9aef166a12777bb79a8">focus_pool</a>, 140 ), 60 ) - 100 ) / 4;</div>
<div class="line"><a id="l03506" name="l03506"></a><span class="lineno"> 3506</span>    <span class="comment">// dexterity and intelligence give +/-2% for each point above or below 12</span></div>
<div class="line"><a id="l03507" name="l03507"></a><span class="lineno"> 3507</span>    roll += ( <a class="code hl_function" href="classCharacter.html#a34a927d0f161ac92ab0d462397828bd5">get_dex</a>() - 12 ) * 2;</div>
<div class="line"><a id="l03508" name="l03508"></a><span class="lineno"> 3508</span>    roll += ( <a class="code hl_function" href="classCharacter.html#a588d5cc1d729490552fe03b006685ae5">get_int</a>() - 12 ) * 2;</div>
<div class="line"><a id="l03509" name="l03509"></a><span class="lineno"> 3509</span>    <span class="comment">// each level of damage to the base gun reduces success by 10%</span></div>
<div class="line"><a id="l03510" name="l03510"></a><span class="lineno"> 3510</span>    roll -= std::max( gun.<a class="code hl_function" href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">damage_level</a>( 4 ), 0 ) * 10;</div>
<div class="line"><a id="l03511" name="l03511"></a><span class="lineno"> 3511</span>    roll = std::min( std::max( roll, 0 ), 100 );</div>
<div class="line"><a id="l03512" name="l03512"></a><span class="lineno"> 3512</span> </div>
<div class="line"><a id="l03513" name="l03513"></a><span class="lineno"> 3513</span>    <span class="comment">// risk of causing damage on failure increases with less durable guns</span></div>
<div class="line"><a id="l03514" name="l03514"></a><span class="lineno"> 3514</span>    risk = ( 100 - roll ) * ( ( 10.0 - std::min( gun.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;durability, 9 ) ) / 10.0 );</div>
<div class="line"><a id="l03515" name="l03515"></a><span class="lineno"> 3515</span> </div>
<div class="line"><a id="l03516" name="l03516"></a><span class="lineno"> 3516</span>    <span class="keywordflow">return</span> std::make_pair( roll, risk );</div>
<div class="line"><a id="l03517" name="l03517"></a><span class="lineno"> 3517</span>}</div>
<div class="ttc" id="aclassCharacter_html_a588d5cc1d729490552fe03b006685ae5"><div class="ttname"><a href="classCharacter.html#a588d5cc1d729490552fe03b006685ae5">Character::get_int</a></div><div class="ttdeci">virtual int get_int() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04060">character.cpp:4060</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a35f2f8386cafac888b1488869514370c"><div class="ttname"><a href="player_8cpp.html#a35f2f8386cafac888b1488869514370c">skill_weapon</a></div><div class="ttdeci">static const skill_id skill_weapon(&quot;weapon&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l00698">item::damage_level()</a>, <a class="el" href="character_8h_source.html#l01599">Character::focus_pool</a>, <a class="el" href="character_8cpp_source.html#l04052">Character::get_dex()</a>, <a class="el" href="character_8cpp_source.html#l04060">Character::get_int()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07026">item::gun_skill()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="player_8cpp.html#a35f2f8386cafac888b1488869514370c">skill_weapon</a>, <a class="el" href="player_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="game__inventory_8cpp_source.html#l00950">gunmod_inventory_preset::get_odds()</a>, and <a class="el" href="player_8cpp_source.html#l03519">gunmod_add()</a>.</p>

</div>
</div>
<a id="aef141ae17e1b4f7975ce0792d88600d6" name="aef141ae17e1b4f7975ce0792d88600d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef141ae17e1b4f7975ce0792d88600d6">&#9670;&nbsp;</a></span>gunmod_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::gunmod_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>gun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>mod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes gunmod after first unloading any contained ammo and returns true on success. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03435">3435</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03436" name="l03436"></a><span class="lineno"> 3436</span>{</div>
<div class="line"><a id="l03437" name="l03437"></a><span class="lineno"> 3437</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="player_8cpp.html#a2374e8b755cc07d0e74df88271258bf3">has_mod</a>( gun, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) ) {</div>
<div class="line"><a id="l03438" name="l03438"></a><span class="lineno"> 3438</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Cannot remove non-existent gunmod&quot;</span> );</div>
<div class="line"><a id="l03439" name="l03439"></a><span class="lineno"> 3439</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03440" name="l03440"></a><span class="lineno"> 3440</span>    }</div>
<div class="line"><a id="l03441" name="l03441"></a><span class="lineno"> 3441</span> </div>
<div class="line"><a id="l03442" name="l03442"></a><span class="lineno"> 3442</span>    <a class="code hl_class" href="classitem__location.html">item_location</a> loc = <a class="code hl_class" href="classitem__location.html">item_location</a>( *<span class="keyword">this</span>, &amp;<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a id="l03443" name="l03443"></a><span class="lineno"> 3443</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.ammo_remaining() &amp;&amp; !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;unload( loc ) ) {</div>
<div class="line"><a id="l03444" name="l03444"></a><span class="lineno"> 3444</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03445" name="l03445"></a><span class="lineno"> 3445</span>    }</div>
<div class="line"><a id="l03446" name="l03446"></a><span class="lineno"> 3446</span> </div>
<div class="line"><a id="l03447" name="l03447"></a><span class="lineno"> 3447</span>    gun.<a class="code hl_function" href="classitem.html#afcc181d2e2fe380ac28dd70f814798c2">gun_set_mode</a>( <a class="code hl_typedef" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a>( <span class="stringliteral">&quot;DEFAULT&quot;</span> ) );</div>
<div class="line"><a id="l03448" name="l03448"></a><span class="lineno"> 3448</span>    <span class="comment">//TODO: add activity for removing gunmods</span></div>
<div class="line"><a id="l03449" name="l03449"></a><span class="lineno"> 3449</span> </div>
<div class="line"><a id="l03450" name="l03450"></a><span class="lineno"> 3450</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.typeId() == <a class="code hl_variable" href="player_8cpp.html#a0ccb4d60ab6785e534c7eaa8ad7d07c6">itype_brass_catcher</a> ) {</div>
<div class="line"><a id="l03451" name="l03451"></a><span class="lineno"> 3451</span>        gun.<a class="code hl_function" href="classitem.html#a9f29e8940a146016690f2776939a2980">casings_handle</a>( [&amp;]( <a class="code hl_class" href="classitem.html">item</a> &amp; e ) {</div>
<div class="line"><a id="l03452" name="l03452"></a><span class="lineno"> 3452</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classCharacter.html#ab80b4bcd5228af487bb1a26c14864e5d">i_add_or_drop</a>( e );</div>
<div class="line"><a id="l03453" name="l03453"></a><span class="lineno"> 3453</span>        } );</div>
<div class="line"><a id="l03454" name="l03454"></a><span class="lineno"> 3454</span>    }</div>
<div class="line"><a id="l03455" name="l03455"></a><span class="lineno"> 3455</span> </div>
<div class="line"><a id="l03456" name="l03456"></a><span class="lineno"> 3456</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *modtype = <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>.type;</div>
<div class="line"><a id="l03457" name="l03457"></a><span class="lineno"> 3457</span> </div>
<div class="line"><a id="l03458" name="l03458"></a><span class="lineno"> 3458</span>    <a class="code hl_function" href="classCharacter.html#ab80b4bcd5228af487bb1a26c14864e5d">i_add_or_drop</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a id="l03459" name="l03459"></a><span class="lineno"> 3459</span>    gun.<a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a id="l03460" name="l03460"></a><span class="lineno"> 3460</span> </div>
<div class="line"><a id="l03461" name="l03461"></a><span class="lineno"> 3461</span>    <span class="comment">//If the removed gunmod added mod locations, check to see if any mods are in invalid locations</span></div>
<div class="line"><a id="l03462" name="l03462"></a><span class="lineno"> 3462</span>    <span class="keywordflow">if</span>( !modtype-&gt;<a class="code hl_variable" href="structitype.html#a37edee7dafc5711621f26844cab78cf6">gunmod</a>-&gt;add_mod.empty() ) {</div>
<div class="line"><a id="l03463" name="l03463"></a><span class="lineno"> 3463</span>        std::map&lt;gunmod_location, int&gt; mod_locations = gun.<a class="code hl_function" href="classitem.html#a727917284cddff4dbf0113d1329fec51">get_mod_locations</a>();</div>
<div class="line"><a id="l03464" name="l03464"></a><span class="lineno"> 3464</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;slot : mod_locations ) {</div>
<div class="line"><a id="l03465" name="l03465"></a><span class="lineno"> 3465</span>            <span class="keywordtype">int</span> free_slots = gun.<a class="code hl_function" href="classitem.html#ad345f0faefeda773220f01b75acb9f28">get_free_mod_locations</a>( slot.first );</div>
<div class="line"><a id="l03466" name="l03466"></a><span class="lineno"> 3466</span> </div>
<div class="line"><a id="l03467" name="l03467"></a><span class="lineno"> 3467</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> the_mod : gun.<a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l03468" name="l03468"></a><span class="lineno"> 3468</span>                <span class="keywordflow">if</span>( the_mod-&gt;type-&gt;gunmod-&gt;location == slot.first &amp;&amp; free_slots &lt; 0 ) {</div>
<div class="line"><a id="l03469" name="l03469"></a><span class="lineno"> 3469</span>                    <a class="code hl_function" href="classplayer.html#aef141ae17e1b4f7975ce0792d88600d6">gunmod_remove</a>( gun, *the_mod );</div>
<div class="line"><a id="l03470" name="l03470"></a><span class="lineno"> 3470</span>                    free_slots++;</div>
<div class="line"><a id="l03471" name="l03471"></a><span class="lineno"> 3471</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( mod_locations.find( the_mod-&gt;type-&gt;gunmod-&gt;location ) ==</div>
<div class="line"><a id="l03472" name="l03472"></a><span class="lineno"> 3472</span>                           mod_locations.end() ) {</div>
<div class="line"><a id="l03473" name="l03473"></a><span class="lineno"> 3473</span>                    <a class="code hl_function" href="classplayer.html#aef141ae17e1b4f7975ce0792d88600d6">gunmod_remove</a>( gun, *the_mod );</div>
<div class="line"><a id="l03474" name="l03474"></a><span class="lineno"> 3474</span>                }</div>
<div class="line"><a id="l03475" name="l03475"></a><span class="lineno"> 3475</span>            }</div>
<div class="line"><a id="l03476" name="l03476"></a><span class="lineno"> 3476</span>        }</div>
<div class="line"><a id="l03477" name="l03477"></a><span class="lineno"> 3477</span>    }</div>
<div class="line"><a id="l03478" name="l03478"></a><span class="lineno"> 3478</span> </div>
<div class="line"><a id="l03479" name="l03479"></a><span class="lineno"> 3479</span>    <span class="comment">//~ %1$s - gunmod, %2$s - gun.</span></div>
<div class="line"><a id="l03480" name="l03480"></a><span class="lineno"> 3480</span>    <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You remove your %1$s from your %2$s.&quot;</span> ), modtype-&gt;<a class="code hl_function" href="structitype.html#ad35fbe0013544c1c396944b20b264421">nname</a>( 1 ),</div>
<div class="line"><a id="l03481" name="l03481"></a><span class="lineno"> 3481</span>                       gun.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03482" name="l03482"></a><span class="lineno"> 3482</span> </div>
<div class="line"><a id="l03483" name="l03483"></a><span class="lineno"> 3483</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03484" name="l03484"></a><span class="lineno"> 3484</span>}</div>
<div class="ttc" id="aclassCharacter_html_ab80b4bcd5228af487bb1a26c14864e5d"><div class="ttname"><a href="classCharacter.html#ab80b4bcd5228af487bb1a26c14864e5d">Character::i_add_or_drop</a></div><div class="ttdeci">bool i_add_or_drop(item &amp;it, int qty=1)</div><div class="ttdoc">Sets invlet and adds to inventory if possible, drops otherwise, returns true if either succeeded.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02448">character.cpp:2448</a></div></div>
<div class="ttc" id="aclassitem_html_a727917284cddff4dbf0113d1329fec51"><div class="ttname"><a href="classitem.html#a727917284cddff4dbf0113d1329fec51">item::get_mod_locations</a></div><div class="ttdeci">std::map&lt; gunmod_location, int &gt; get_mod_locations() const</div><div class="ttdoc">Get mod locations, including those added by other mods.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l03968">item.cpp:3968</a></div></div>
<div class="ttc" id="aclassitem_html_a9f29e8940a146016690f2776939a2980"><div class="ttname"><a href="classitem.html#a9f29e8940a146016690f2776939a2980">item::casings_handle</a></div><div class="ttdeci">void casings_handle(const std::function&lt; bool(item &amp;)&gt; &amp;func)</div><div class="ttdoc">Apply predicate to each contained spent casing removing it if predicate returns true.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07940">item.cpp:7940</a></div></div>
<div class="ttc" id="aclassitem_html_acd78321ba4d5c09d39f1d58d20b68484"><div class="ttname"><a href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">item::gunmods</a></div><div class="ttdeci">std::vector&lt; item * &gt; gunmods()</div><div class="ttdoc">Returns all gunmods currently attached to this item (always empty if item not a gun)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07578">item.cpp:7578</a></div></div>
<div class="ttc" id="aclassitem_html_ad345f0faefeda773220f01b75acb9f28"><div class="ttname"><a href="classitem.html#ad345f0faefeda773220f01b75acb9f28">item::get_free_mod_locations</a></div><div class="ttdeci">int get_free_mod_locations(const gunmod_location &amp;location) const</div><div class="ttdoc">Number of mods that can still be installed into the given mod location, for non-guns it always return...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l03985">item.cpp:3985</a></div></div>
<div class="ttc" id="aclassitem_html_afcc181d2e2fe380ac28dd70f814798c2"><div class="ttname"><a href="classitem.html#afcc181d2e2fe380ac28dd70f814798c2">item::gun_set_mode</a></div><div class="ttdeci">bool gun_set_mode(const gun_mode_id &amp;mode)</div><div class="ttdoc">Try to set the mode for a gun, returning false if no such mode is possible.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07749">item.cpp:7749</a></div></div>
<div class="ttc" id="aclassplayer_html_aef141ae17e1b4f7975ce0792d88600d6"><div class="ttname"><a href="classplayer.html#aef141ae17e1b4f7975ce0792d88600d6">player::gunmod_remove</a></div><div class="ttdeci">bool gunmod_remove(item &amp;gun, item &amp;mod)</div><div class="ttdoc">Removes gunmod after first unloading any contained ammo and returns true on success.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03435">player.cpp:3435</a></div></div>
<div class="ttc" id="aclassvisitable_html_adeb03e3af46e1b106a5f88f112add296"><div class="ttname"><a href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">visitable::remove_item</a></div><div class="ttdeci">item remove_item(item &amp;it)</div><div class="ttdoc">Removes and returns the item which must be contained by this instance.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00564">visitable.cpp:564</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a0ccb4d60ab6785e534c7eaa8ad7d07c6"><div class="ttname"><a href="player_8cpp.html#a0ccb4d60ab6785e534c7eaa8ad7d07c6">itype_brass_catcher</a></div><div class="ttdeci">static const itype_id itype_brass_catcher(&quot;brass_catcher&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a2374e8b755cc07d0e74df88271258bf3"><div class="ttname"><a href="player_8cpp.html#a2374e8b755cc07d0e74df88271258bf3">has_mod</a></div><div class="ttdeci">static bool has_mod(const item &amp;gun, const item &amp;mod)</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03425">player.cpp:3425</a></div></div>
<div class="ttc" id="astructitype_html_a37edee7dafc5711621f26844cab78cf6"><div class="ttname"><a href="structitype.html#a37edee7dafc5711621f26844cab78cf6">itype::gunmod</a></div><div class="ttdeci">cata::value_ptr&lt; islot_gunmod &gt; gunmod</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00858">itype.h:858</a></div></div>
<div class="ttc" id="atype__id_8h_html_a8174d98bb32e389bd2e1ab691167f7b9"><div class="ttname"><a href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a></div><div class="ttdeci">string_id&lt; gun_mode &gt; gun_mode_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00061">type_id.h:61</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l07940">item::casings_handle()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l03985">item::get_free_mod_locations()</a>, <a class="el" href="item_8cpp_source.html#l03968">item::get_mod_locations()</a>, <a class="el" href="item_8cpp_source.html#l07749">item::gun_set_mode()</a>, <a class="el" href="itype_8h_source.html#l00858">itype::gunmod</a>, <a class="el" href="player_8cpp_source.html#l03435">gunmod_remove()</a>, <a class="el" href="item_8cpp_source.html#l07578">item::gunmods()</a>, <a class="el" href="player_8cpp_source.html#l03425">has_mod()</a>, <a class="el" href="character_8cpp_source.html#l02448">Character::i_add_or_drop()</a>, <a class="el" href="player_8cpp.html#a0ccb4d60ab6785e534c7eaa8ad7d07c6">itype_brass_catcher</a>, <a class="el" href="itype_8cpp_source.html#l00046">itype::nname()</a>, <a class="el" href="visitable_8cpp_source.html#l00564">visitable&lt; T &gt;::remove_item()</a>, and <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l03435">gunmod_remove()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l04369">detach_gunmods_actor::use()</a>.</p>

</div>
</div>
<a id="a589ee8688344c50b483d319cea1eb15b" name="a589ee8688344c50b483d319cea1eb15b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a589ee8688344c50b483d319cea1eb15b">&#9670;&nbsp;</a></span>handle_gun_damage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::handle_gun_damage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if a gun misfires, jams, or has other problems, else returns false. </p>

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l00589">589</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>{</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>    <span class="comment">// Below item (maximum dirt possible) should be greater than or equal to dirt range in item_group.cpp. Also keep in mind that monster drops can have specific ranges and these should be below the max!</span></div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> dirt_max_dbl = 10000;</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>    <span class="keywordflow">if</span>( !it.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to handle_gun_damage of a non-gun %s&quot;</span>, it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>    }</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span> </div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>    <span class="keywordtype">int</span> dirt = it.<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;dirt&quot;</span>, 0 );</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    <span class="keywordtype">int</span> dirtadder = 0;</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>    <span class="keywordtype">double</span> dirt_dbl = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( dirt );</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>    <span class="keywordflow">if</span>( it.<a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a>.count( <a class="code hl_variable" href="ranged_8cpp.html#ace607007c38b8d55a601963b24f89e7e">fault_gun_chamber_spent</a> ) ) {</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>    }</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span> </div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;curammo_effects = it.<a class="code hl_function" href="classitem.html#a75fa277bb39c1d2922137986c67d48fb">ammo_effects</a>();</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structislot__gun.html">islot_gun</a> &amp;firing = *it.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>;</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>    <span class="comment">// misfire chance based on dirt accumulation. Formula is designed to make chance of jam highly unlikely at low dirt levels, but levels increase geometrically as the dirt level reaches max (10,000). The number used is just a figure I found reasonable after plugging the number into excel and changing it until the probability made sense at high, medium, and low levels of dirt.</span></div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>    <span class="keywordflow">if</span>( !it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="ranged_8cpp.html#ab2dd3d8bd3db68ab02a94d2d26d2fc5a">flag_NEVER_JAMS</a> ) &amp;&amp;</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>        <a class="code hl_function" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( dirt_dbl * dirt_dbl * dirt_dbl,</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>                1000000000000.0 ) ) {</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>(</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s misfires with a muffled click!&quot;</span> ),</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt;&#39;s %s misfires with a muffled click!&quot;</span> ),</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>            it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>        <span class="comment">// at high dirt levels the chance to misfire gets to significant levels. 10,000 is max and 7800 is quite high so above that the player gets some relief in the form of exchanging time for some dirt reduction. Basically jiggling the parts loose to remove some dirt and get a few more shots out.</span></div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>        <span class="keywordflow">if</span>( dirt_dbl &gt;</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>            7800 ) {</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>            <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>(</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Perhaps taking the ammo out of your %s and reloading will help.&quot;</span> ),</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Perhaps taking the ammo out of &lt;npcname&gt;&#39;s %s and reloading will help.&quot;</span> ),</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>                it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>        }</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>    }</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span> </div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>    <span class="comment">// Here we check if we&#39;re underwater and whether we should misfire.</span></div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>    <span class="comment">// As a result this causes no damage to the firearm, note that some guns are waterproof</span></div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>    <span class="comment">// and so are immune to this effect, note also that WATERPROOF_GUN status does not</span></div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>    <span class="comment">// mean the gun will actually be accurate underwater.</span></div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>    <span class="keywordtype">int</span> effective_durability = firing.<a class="code hl_variable" href="structislot__gun.html#a40255e8d661dc99204ed70dbe6013a02">durability</a>;</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() &amp;&amp; !it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;WATERPROOF_GUN&quot;</span> ) &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( effective_durability ) ) {</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s misfires with a wet click!&quot;</span> ),</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt;&#39;s %s misfires with a wet click!&quot;</span> ),</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>                               it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>        <span class="comment">// Here we check for a chance for the weapon to suffer a mechanical malfunction.</span></div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>        <span class="comment">// Note that some weapons never jam up &#39;NEVER_JAMS&#39; and thus are immune to this</span></div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>        <span class="comment">// effect as current guns have a durability between 5 and 9 this results in</span></div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>        <span class="comment">// a chance of mechanical failure between 1/(64*3) and 1/(1024*3) on any given shot.</span></div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>        <span class="comment">// the malfunction can&#39;t cause damage</span></div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( ( 2 &lt;&lt; effective_durability ) * 3 ) &amp;&amp; !it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="ranged_8cpp.html#ab2dd3d8bd3db68ab02a94d2d26d2fc5a">flag_NEVER_JAMS</a> ) ) {</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s malfunctions!&quot;</span> ),</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt;&#39;s %s malfunctions!&quot;</span> ),</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>                               it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>        <span class="comment">// Here we check for a chance for the weapon to suffer a misfire due to</span></div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>        <span class="comment">// using player-made &#39;RECYCLED&#39; bullets. Note that not all forms of</span></div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>        <span class="comment">// player-made ammunition have this effect.</span></div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( curammo_effects.count( <a class="code hl_variable" href="ranged_8cpp.html#afa18fa10e4bc2e18f3911cebb559b7bd">ammo_effect_RECYCLED</a> ) &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 256 ) ) {</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s misfires with a muffled click!&quot;</span> ),</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt;&#39;s %s misfires with a muffled click!&quot;</span> ),</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>                               it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>        <span class="comment">// Here we check for a chance for attached mods to get damaged if they are flagged as &#39;CONSUMABLE&#39;.</span></div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>        <span class="comment">// This is mostly for crappy handmade expedient stuff  or things that rarely receive damage during normal usage.</span></div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>        <span class="comment">// Default chance is 1/10000 unless set via json, damage is proportional to caliber(see below).</span></div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>        <span class="comment">// Can be toned down with &#39;consume_divisor.&#39;</span></div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span> </div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="ranged_8cpp.html#a916c022e69240915ee6678d0170882d3">flag_CONSUMABLE</a> ) &amp;&amp; !curammo_effects.count( <a class="code hl_variable" href="ranged_8cpp.html#a4823a8b924c5e1c83c8e1e1a316e1ae7">ammo_effect_LASER</a> ) &amp;&amp;</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>               !curammo_effects.count( <a class="code hl_variable" href="ranged_8cpp.html#aaf09bb55e60a45b1eb81e989d0758e93">ammo_effect_PLASMA</a> ) &amp;&amp; !curammo_effects.count( <a class="code hl_variable" href="ranged_8cpp.html#a02a98acfc0759dc42a3683ec82f936a9">ammo_effect_EMP</a> ) ) {</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>        <span class="keywordtype">int</span> uncork = ( ( 10 * it.<a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>()-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;loudness )</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>                       + ( it.<a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>()-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;recoil / 2 ) ) / 100;</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>        uncork = std::pow( uncork, 3 ) * 6.5;</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> : it.<a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>            <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;has_flag( <a class="code hl_function" href="ranged_8cpp.html#a916c022e69240915ee6678d0170882d3">flag_CONSUMABLE</a> ) ) {</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>                <span class="keywordtype">int</span> dmgamt = uncork / <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;gunmod-&gt;consume_divisor;</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>                <span class="keywordtype">int</span> modconsume = <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;type-&gt;gunmod-&gt;consume_chance;</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>                <span class="keywordtype">int</span> initstate = it.<a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>();</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>                <span class="comment">// fuzz damage if it&#39;s small</span></div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>                <span class="keywordflow">if</span>( dmgamt &lt; 1000 ) {</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>                    dmgamt = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( dmgamt, dmgamt + 200 );</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>                    <span class="comment">// ignore damage if inconsequential.</span></div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>                }</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>                <span class="keywordflow">if</span>( dmgamt &lt; 800 ) {</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>                    dmgamt = 0;</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>                }</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( modconsume ) ) {</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>                    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;mod_damage( dmgamt ) ) {</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>                        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your attached %s is destroyed by your shot!&quot;</span> ),</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>                                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt;&#39;s attached %s is destroyed by their shot!&quot;</span> ),</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>                                               <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;tname() );</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>                        <a class="code hl_function" href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">i_rem</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &gt; initstate ) {</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>                        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your attached %s is damaged by your shot!&quot;</span> ),</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>                                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt;&#39;s %s is damaged by their shot!&quot;</span> ),</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>                                               <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;tname() );</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>                    }</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>                }</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>            }</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>        }</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>    }</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>    <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#a45bcd33992b7d26eb4ae9f76a16b58fa">has_fault</a>( <a class="code hl_variable" href="ranged_8cpp.html#ad73ddd0cc91027278ca5627eaa4ef206">fault_gun_unlubricated</a> ) &amp;&amp;</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>        <a class="code hl_function" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( dirt_dbl, dirt_max_dbl ) ) {</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s emits a grimace-inducing screech!&quot;</span> ),</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt;&#39;s %s emits a grimace-inducing screech!&quot;</span> ),</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>                               it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>        it.<a class="code hl_function" href="classitem.html#aca60af3c295738c2c1fddf0fd669f9a1">inc_damage</a>();</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>    }</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>    <span class="keywordflow">if</span>( ( ( !curammo_effects.count( <a class="code hl_variable" href="ranged_8cpp.html#ab97e95eba84f451228755a351c0476f7">ammo_effect_NON_FOULING</a> ) &amp;&amp; !it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="ranged_8cpp.html#aa125c6da24f14c1bec090943b0174e58">flag_NON_FOULING</a> ) ) ||</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>          ( it.<a class="code hl_function" href="classitem.html#a45bcd33992b7d26eb4ae9f76a16b58fa">has_fault</a>( <a class="code hl_variable" href="ranged_8cpp.html#ad73ddd0cc91027278ca5627eaa4ef206">fault_gun_unlubricated</a> ) ) ) &amp;&amp;</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>        !it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="ranged_8cpp.html#ad23a05e76b668009068f0e453c33692b">flag_PRIMITIVE_RANGED_WEAPON</a> ) ) {</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>        <span class="keywordflow">if</span>( curammo_effects.count( <a class="code hl_variable" href="ranged_8cpp.html#a680b9ce8c9824607142f83b2260dd3ef">ammo_effect_BLACKPOWDER</a> ) ||</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>            it.<a class="code hl_function" href="classitem.html#a45bcd33992b7d26eb4ae9f76a16b58fa">has_fault</a>( <a class="code hl_variable" href="ranged_8cpp.html#ad73ddd0cc91027278ca5627eaa4ef206">fault_gun_unlubricated</a> ) ) {</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>            <span class="keywordflow">if</span>( ( ( it.<a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>()-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;recoil &lt; firing.<a class="code hl_variable" href="structislot__gun.html#a68eca15622f086d544820aabcb2a865a">min_cycle_recoil</a> ) ||</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>                  ( it.<a class="code hl_function" href="classitem.html#a45bcd33992b7d26eb4ae9f76a16b58fa">has_fault</a>( <a class="code hl_variable" href="ranged_8cpp.html#ad73ddd0cc91027278ca5627eaa4ef206">fault_gun_unlubricated</a> ) &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 16 ) ) ) &amp;&amp;</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>                it.<a class="code hl_function" href="classitem.html#adaaa3ece39eb40637371659dad8550e3">faults_potential</a>().count( <a class="code hl_variable" href="ranged_8cpp.html#ace607007c38b8d55a601963b24f89e7e">fault_gun_chamber_spent</a> ) ) {</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>                <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s fails to cycle!&quot;</span> ),</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>                                       <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt;&#39;s %s fails to cycle!&quot;</span> ),</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>                                       it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>                it.<a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a>.insert( <a class="code hl_variable" href="ranged_8cpp.html#ace607007c38b8d55a601963b24f89e7e">fault_gun_chamber_spent</a> );</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>                <span class="comment">// Don&#39;t return false in this case; this shot happens, follow-up ones won&#39;t.</span></div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>            }</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>        }</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>        <span class="comment">// These are the dirtying/fouling mechanics</span></div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>        <span class="keywordflow">if</span>( !curammo_effects.count( <a class="code hl_variable" href="ranged_8cpp.html#ab97e95eba84f451228755a351c0476f7">ammo_effect_NON_FOULING</a> ) &amp;&amp; !it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="ranged_8cpp.html#aa125c6da24f14c1bec090943b0174e58">flag_NON_FOULING</a> ) ) {</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>            <span class="keywordflow">if</span>( dirt &lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( dirt_max_dbl ) ) {</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>                dirtadder = curammo_effects.count( <a class="code hl_variable" href="ranged_8cpp.html#a680b9ce8c9824607142f83b2260dd3ef">ammo_effect_BLACKPOWDER</a> ) * ( 200 -</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>                            ( firing.<a class="code hl_variable" href="structislot__gun.html#a014b797e92e543ea47be93a1d6771a90">blackpowder_tolerance</a> *</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>                              2 ) );</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>                <span class="comment">// dirtadder is the dirt-increasing number for shots fired with gunpowder-based ammo. Usually dirt level increases by 1, unless it&#39;s blackpowder, in which case it increases by a higher number, but there is a reduction for blackpowder resistance of a weapon.</span></div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>                <span class="keywordflow">if</span>( dirtadder &lt; 0 ) {</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>                    dirtadder = 0;</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>                }</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>                <span class="comment">// in addition to increasing dirt level faster, regular gunpowder fouling is also capped at 7,150, not 10,000. So firing with regular gunpowder can never make the gun quite as bad as firing it with black gunpowder. At 7,150 the chance to jam is significantly lower (though still significant) than it is at 10,000, the absolute cap.</span></div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>                <span class="keywordflow">if</span>( curammo_effects.count( <a class="code hl_variable" href="ranged_8cpp.html#a680b9ce8c9824607142f83b2260dd3ef">ammo_effect_BLACKPOWDER</a> ) ||</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>                    dirt &lt; 7150 ) {</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>                    it.<a class="code hl_function" href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">set_var</a>( <span class="stringliteral">&quot;dirt&quot;</span>, std::min( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( dirt_max_dbl ), dirt + dirtadder + 1 ) );</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>                }</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>            }</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>            dirt = it.<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;dirt&quot;</span>, 0 );</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>            dirt_dbl = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( dirt );</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>            <span class="keywordflow">if</span>( dirt &gt; 0 &amp;&amp; !it.<a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a>.count( <a class="code hl_variable" href="ranged_8cpp.html#a6a67c1570499e9c4ab345a0c6f1ba026">fault_gun_blackpowder</a> ) ) {</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>                it.<a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a>.insert( <a class="code hl_variable" href="ranged_8cpp.html#a0ea533037e4a6a02394d39e2d62174bc">fault_gun_dirt</a> );</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>            }</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>            <span class="keywordflow">if</span>( dirt &gt; 0 &amp;&amp; curammo_effects.count( <a class="code hl_variable" href="ranged_8cpp.html#a680b9ce8c9824607142f83b2260dd3ef">ammo_effect_BLACKPOWDER</a> ) ) {</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>                it.<a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a>.erase( <a class="code hl_variable" href="ranged_8cpp.html#a0ea533037e4a6a02394d39e2d62174bc">fault_gun_dirt</a> );</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>                it.<a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a>.insert( <a class="code hl_variable" href="ranged_8cpp.html#a6a67c1570499e9c4ab345a0c6f1ba026">fault_gun_blackpowder</a> );</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>            }</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>            <span class="comment">// end fouling mechanics</span></div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>        }</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>    }</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>    <span class="comment">// chance to damage gun due to high levels of dirt. Very unlikely, especially at lower levels and impossible below 5,000. Lower than the chance of a jam at the same levels. 555555... is an arbitrary number that I came up with after playing with the formula in excel. It makes sense at low, medium, and high levels of dirt.</span></div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>    <span class="keywordflow">if</span>( dirt_dbl &gt; 5000 &amp;&amp;</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>        <a class="code hl_function" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( dirt_dbl * dirt_dbl * dirt_dbl,</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>                5555555555555 ) ) {</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s is damaged by the high pressure!&quot;</span> ),</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt;&#39;s %s is damaged by the high pressure!&quot;</span> ),</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>                               it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>        <span class="comment">// Don&#39;t increment until after the message</span></div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>        it.<a class="code hl_function" href="classitem.html#aca60af3c295738c2c1fddf0fd669f9a1">inc_damage</a>();</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>    }</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>}</div>
<div class="ttc" id="acalendar_8cpp_html_a359120c15f92d54a49fec9de7bcb571f"><div class="ttname"><a href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a></div><div class="ttdeci">bool x_in_y(const time_duration &amp;a, const time_duration &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00521">calendar.cpp:521</a></div></div>
<div class="ttc" id="aclassitem_html_a45bcd33992b7d26eb4ae9f76a16b58fa"><div class="ttname"><a href="classitem.html#a45bcd33992b7d26eb4ae9f76a16b58fa">item::has_fault</a></div><div class="ttdeci">bool has_fault(const fault_id &amp;fault) const</div><div class="ttdoc">Does this item have the specified fault.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05182">item.cpp:5182</a></div></div>
<div class="ttc" id="aclassitem_html_a4938361b8fe897c4e85d66020ef91aff"><div class="ttname"><a href="classitem.html#a4938361b8fe897c4e85d66020ef91aff">item::set_var</a></div><div class="ttdeci">void set_var(const std::string &amp;name, int value)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00992">item.cpp:992</a></div></div>
<div class="ttc" id="aclassitem_html_a4adcc4a3a5f5fb20a4d245d79109640a"><div class="ttname"><a href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">item::ammo_data</a></div><div class="ttdeci">const itype * ammo_data() const</div><div class="ttdoc">Specific ammo data, returns nullptr if item is neither ammo nor loaded with any.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07376">item.cpp:7376</a></div></div>
<div class="ttc" id="aclassitem_html_a75fa277bb39c1d2922137986c67d48fb"><div class="ttname"><a href="classitem.html#a75fa277bb39c1d2922137986c67d48fb">item::ammo_effects</a></div><div class="ttdeci">std::set&lt; ammo_effect_str_id &gt; ammo_effects(bool with_ammo=true) const</div><div class="ttdoc">Get ammo effects for item optionally inclusive of any resulting from the loaded ammo.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07471">item.cpp:7471</a></div></div>
<div class="ttc" id="aclassitem_html_aca60af3c295738c2c1fddf0fd669f9a1"><div class="ttname"><a href="classitem.html#aca60af3c295738c2c1fddf0fd669f9a1">item::inc_damage</a></div><div class="ttdeci">bool inc_damage(damage_type dt)</div><div class="ttdoc">Increment item damage by itype::damage_scale constrained by max_damage.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06103">item.cpp:6103</a></div></div>
<div class="ttc" id="aclassitem_html_adaaa3ece39eb40637371659dad8550e3"><div class="ttname"><a href="classitem.html#adaaa3ece39eb40637371659dad8550e3">item::faults_potential</a></div><div class="ttdeci">std::set&lt; fault_id &gt; faults_potential() const</div><div class="ttdoc">What faults can potentially occur with this item?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06654">item.cpp:6654</a></div></div>
<div class="ttc" id="aclassitem_html_ae8a58c6fe3c80cded11d6f3ccfa548a3"><div class="ttname"><a href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">item::damage</a></div><div class="ttdeci">int damage() const</div><div class="ttdoc">How much damage has the item sustained?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00693">item.cpp:693</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a02a98acfc0759dc42a3683ec82f936a9"><div class="ttname"><a href="ranged_8cpp.html#a02a98acfc0759dc42a3683ec82f936a9">ammo_effect_EMP</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_EMP(&quot;EMP&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a0ea533037e4a6a02394d39e2d62174bc"><div class="ttname"><a href="ranged_8cpp.html#a0ea533037e4a6a02394d39e2d62174bc">fault_gun_dirt</a></div><div class="ttdeci">static const fault_id fault_gun_dirt(&quot;fault_gun_dirt&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a4823a8b924c5e1c83c8e1e1a316e1ae7"><div class="ttname"><a href="ranged_8cpp.html#a4823a8b924c5e1c83c8e1e1a316e1ae7">ammo_effect_LASER</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_LASER(&quot;LASER&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a680b9ce8c9824607142f83b2260dd3ef"><div class="ttname"><a href="ranged_8cpp.html#a680b9ce8c9824607142f83b2260dd3ef">ammo_effect_BLACKPOWDER</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_BLACKPOWDER(&quot;BLACKPOWDER&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a6a67c1570499e9c4ab345a0c6f1ba026"><div class="ttname"><a href="ranged_8cpp.html#a6a67c1570499e9c4ab345a0c6f1ba026">fault_gun_blackpowder</a></div><div class="ttdeci">static const fault_id fault_gun_blackpowder(&quot;fault_gun_blackpowder&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a916c022e69240915ee6678d0170882d3"><div class="ttname"><a href="ranged_8cpp.html#a916c022e69240915ee6678d0170882d3">flag_CONSUMABLE</a></div><div class="ttdeci">static const std::string flag_CONSUMABLE(&quot;CONSUMABLE&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_aa125c6da24f14c1bec090943b0174e58"><div class="ttname"><a href="ranged_8cpp.html#aa125c6da24f14c1bec090943b0174e58">flag_NON_FOULING</a></div><div class="ttdeci">static const std::string flag_NON_FOULING(&quot;NON-FOULING&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_aaf09bb55e60a45b1eb81e989d0758e93"><div class="ttname"><a href="ranged_8cpp.html#aaf09bb55e60a45b1eb81e989d0758e93">ammo_effect_PLASMA</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_PLASMA(&quot;PLASMA&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_ab2dd3d8bd3db68ab02a94d2d26d2fc5a"><div class="ttname"><a href="ranged_8cpp.html#ab2dd3d8bd3db68ab02a94d2d26d2fc5a">flag_NEVER_JAMS</a></div><div class="ttdeci">static const std::string flag_NEVER_JAMS(&quot;NEVER_JAMS&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_ab97e95eba84f451228755a351c0476f7"><div class="ttname"><a href="ranged_8cpp.html#ab97e95eba84f451228755a351c0476f7">ammo_effect_NON_FOULING</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_NON_FOULING(&quot;NON-FOULING&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_ad23a05e76b668009068f0e453c33692b"><div class="ttname"><a href="ranged_8cpp.html#ad23a05e76b668009068f0e453c33692b">flag_PRIMITIVE_RANGED_WEAPON</a></div><div class="ttdeci">static const std::string flag_PRIMITIVE_RANGED_WEAPON(&quot;PRIMITIVE_RANGED_WEAPON&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_ad73ddd0cc91027278ca5627eaa4ef206"><div class="ttname"><a href="ranged_8cpp.html#ad73ddd0cc91027278ca5627eaa4ef206">fault_gun_unlubricated</a></div><div class="ttdeci">static const fault_id fault_gun_unlubricated(&quot;fault_gun_unlubricated&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_afa18fa10e4bc2e18f3911cebb559b7bd"><div class="ttname"><a href="ranged_8cpp.html#afa18fa10e4bc2e18f3911cebb559b7bd">ammo_effect_RECYCLED</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_RECYCLED(&quot;RECYCLED&quot;)</div></div>
<div class="ttc" id="astructislot__gun_html_a014b797e92e543ea47be93a1d6771a90"><div class="ttname"><a href="structislot__gun.html#a014b797e92e543ea47be93a1d6771a90">islot_gun::blackpowder_tolerance</a></div><div class="ttdeci">int blackpowder_tolerance</div><div class="ttdoc">One in X chance for gun to require major cleanup after firing blackpowder shot.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00502">itype.h:502</a></div></div>
<div class="ttc" id="astructislot__gun_html_a40255e8d661dc99204ed70dbe6013a02"><div class="ttname"><a href="structislot__gun.html#a40255e8d661dc99204ed70dbe6013a02">islot_gun::durability</a></div><div class="ttdeci">int durability</div><div class="ttdoc">Gun durability, affects gun being damaged during shooting.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00471">itype.h:471</a></div></div>
<div class="ttc" id="astructislot__gun_html_a68eca15622f086d544820aabcb2a865a"><div class="ttname"><a href="structislot__gun.html#a68eca15622f086d544820aabcb2a865a">islot_gun::min_cycle_recoil</a></div><div class="ttdeci">int min_cycle_recoil</div><div class="ttdoc">Minimum ammo recoil for gun to be able to fire more than once per attack.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00506">itype.h:506</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04373">add_msg_player_or_npc()</a>, <a class="el" href="itype_8h_source.html#l00862">itype::ammo</a>, <a class="el" href="item_8cpp_source.html#l07376">item::ammo_data()</a>, <a class="el" href="ranged_8cpp.html#a680b9ce8c9824607142f83b2260dd3ef">ammo_effect_BLACKPOWDER</a>, <a class="el" href="ranged_8cpp.html#a02a98acfc0759dc42a3683ec82f936a9">ammo_effect_EMP</a>, <a class="el" href="ranged_8cpp.html#a4823a8b924c5e1c83c8e1e1a316e1ae7">ammo_effect_LASER</a>, <a class="el" href="ranged_8cpp.html#ab97e95eba84f451228755a351c0476f7">ammo_effect_NON_FOULING</a>, <a class="el" href="ranged_8cpp.html#aaf09bb55e60a45b1eb81e989d0758e93">ammo_effect_PLASMA</a>, <a class="el" href="ranged_8cpp.html#afa18fa10e4bc2e18f3911cebb559b7bd">ammo_effect_RECYCLED</a>, <a class="el" href="item_8cpp_source.html#l07471">item::ammo_effects()</a>, <a class="el" href="itype_8h_source.html#l00502">islot_gun::blackpowder_tolerance</a>, <a class="el" href="item_8cpp_source.html#l00693">item::damage()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="itype_8h_source.html#l00471">islot_gun::durability</a>, <a class="el" href="ranged_8cpp.html#a6a67c1570499e9c4ab345a0c6f1ba026">fault_gun_blackpowder</a>, <a class="el" href="ranged_8cpp.html#ace607007c38b8d55a601963b24f89e7e">fault_gun_chamber_spent</a>, <a class="el" href="ranged_8cpp.html#a0ea533037e4a6a02394d39e2d62174bc">fault_gun_dirt</a>, <a class="el" href="ranged_8cpp.html#ad73ddd0cc91027278ca5627eaa4ef206">fault_gun_unlubricated</a>, <a class="el" href="item_8h_source.html#l02160">item::faults</a>, <a class="el" href="item_8cpp_source.html#l06654">item::faults_potential()</a>, <a class="el" href="ranged_8cpp.html#a916c022e69240915ee6678d0170882d3">flag_CONSUMABLE()</a>, <a class="el" href="ranged_8cpp.html#ab2dd3d8bd3db68ab02a94d2d26d2fc5a">flag_NEVER_JAMS()</a>, <a class="el" href="ranged_8cpp.html#aa125c6da24f14c1bec090943b0174e58">flag_NON_FOULING()</a>, <a class="el" href="ranged_8cpp.html#ad23a05e76b668009068f0e453c33692b">flag_PRIMITIVE_RANGED_WEAPON()</a>, <a class="el" href="item_8cpp_source.html#l01022">item::get_var()</a>, <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l07578">item::gunmods()</a>, <a class="el" href="item_8cpp_source.html#l05182">item::has_fault()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="character_8cpp_source.html#l02413">Character::i_rem()</a>, <a class="el" href="item_8cpp_source.html#l06103">item::inc_damage()</a>, <a class="el" href="item_8cpp_source.html#l06367">item::is_gun()</a>, <a class="el" href="creature_8cpp_source.html#l00174">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="itype_8h_source.html#l00506">islot_gun::min_cycle_recoil</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="item_8cpp_source.html#l00992">item::set_var()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="calendar_8cpp_source.html#l00521">x_in_y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00809">fire_gun()</a>.</p>

</div>
</div>
<a id="a38b184076f4431dd9f0a2b5a2ef42544" name="a38b184076f4431dd9f0a2b5a2ef42544"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38b184076f4431dd9f0a2b5a2ef42544">&#9670;&nbsp;</a></span>handle_skill_warning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::handle_skill_warning </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force_warning</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This handles warning the player that there current activity will not give them xp. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04087">4087</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04088" name="l04088"></a><span class="lineno"> 4088</span>{</div>
<div class="line"><a id="l04089" name="l04089"></a><span class="lineno"> 4089</span>    <span class="comment">//remind the player intermittently that no skill gain takes place</span></div>
<div class="line"><a id="l04090" name="l04090"></a><span class="lineno"> 4090</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() &amp;&amp; ( force_warning || <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 5 ) ) ) {</div>
<div class="line"><a id="l04091" name="l04091"></a><span class="lineno"> 4091</span>        <a class="code hl_class" href="classSkillLevel.html">SkillLevel</a> &amp;level = <a class="code hl_function" href="classCharacter.html#a2726ac089fa49e864b486e289f53fade">get_skill_level_object</a>( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l04092" name="l04092"></a><span class="lineno"> 4092</span> </div>
<div class="line"><a id="l04093" name="l04093"></a><span class="lineno"> 4093</span>        <span class="keyword">const</span> <a class="code hl_class" href="classSkill.html">Skill</a> &amp;skill = <span class="keywordtype">id</span>.obj();</div>
<div class="line"><a id="l04094" name="l04094"></a><span class="lineno"> 4094</span>        std::string skill_name = skill.<a class="code hl_function" href="classSkill.html#a11c69074ce9b251983f170510808bd85">name</a>();</div>
<div class="line"><a id="l04095" name="l04095"></a><span class="lineno"> 4095</span>        <span class="keywordtype">int</span> curLevel = level.<a class="code hl_function" href="classSkillLevel.html#a28763c074460e59ab2851ab31f9e2a3c">level</a>();</div>
<div class="line"><a id="l04096" name="l04096"></a><span class="lineno"> 4096</span> </div>
<div class="line"><a id="l04097" name="l04097"></a><span class="lineno"> 4097</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This task is too simple to train your %s beyond %d.&quot;</span> ),</div>
<div class="line"><a id="l04098" name="l04098"></a><span class="lineno"> 4098</span>                 skill_name, curLevel );</div>
<div class="line"><a id="l04099" name="l04099"></a><span class="lineno"> 4099</span>    }</div>
<div class="line"><a id="l04100" name="l04100"></a><span class="lineno"> 4100</span>}</div>
<div class="ttc" id="aclassSkillLevel_html_a28763c074460e59ab2851ab31f9e2a3c"><div class="ttname"><a href="classSkillLevel.html#a28763c074460e59ab2851ab31f9e2a3c">SkillLevel::level</a></div><div class="ttdeci">int level() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00125">skill.h:125</a></div></div>
<div class="ttc" id="aclassSkill_html_a11c69074ce9b251983f170510808bd85"><div class="ttname"><a href="classSkill.html#a11c69074ce9b251983f170510808bd85">Skill::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00068">skill.h:68</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="character_8cpp_source.html#l03322">Character::get_skill_level_object()</a>, <a class="el" href="player_8h_source.html#l00114">is_player()</a>, <a class="el" href="skill_8h_source.html#l00125">SkillLevel::level()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="skill_8h_source.html#l00068">Skill::name()</a>, and <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l04005">practice()</a>, and <a class="el" href="crafting_8cpp_source.html#l00718">start_craft()</a>.</p>

</div>
</div>
<a id="a35dbd29627c811fa80d6b6226fcc5d24" name="a35dbd29627c811fa80d6b6226fcc5d24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35dbd29627c811fa80d6b6226fcc5d24">&#9670;&nbsp;</a></span>hardcoded_effects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::hardcoded_effects </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classeffect.html">effect</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles the still hard-coded effects. </p>
Maximum Strength increases number of insects hatched from dermatik infection Intelligence decreases occurrence of itching from formication effect 
<p class="definition">Definition at line <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00464">464</a> of file <a class="el" href="player__hardcoded__effects_8cpp_source.html">player_hardcoded_effects.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>{</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>    <span class="keywordflow">if</span>( <span class="keyword">auto</span> buff = <a class="code hl_function" href="classma__buff.html#ad7bbaede3e8d56ef0f3f39a89d2b55c3">ma_buff::from_effect</a>( it ) ) {</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>        <span class="keywordflow">if</span>( buff-&gt;is_valid_character( *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>            buff-&gt;apply_character( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>            it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns ); <span class="comment">// removes the effect</span></div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>        }</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    }</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>    <span class="keyword">using</span> hc_effect_fun = std::function&lt;void( <a class="code hl_class" href="classplayer.html">player</a> &amp;, <a class="code hl_class" href="classeffect.html">effect</a> &amp; )&gt;;</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::map&lt;efftype_id, hc_effect_fun&gt; hc_effect_map = {{</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>            { <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>, <a class="code hl_function" href="player__hardcoded__effects_8cpp.html#ac7e376844f624428c5e5fc4da2e44101">eff_fun_onfire</a> },</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>            { <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a5700afe28dcf80d2e04f44172a1eebd7">effect_spores</a>, <a class="code hl_function" href="player__hardcoded__effects_8cpp.html#a8e07d6cb486cef03d3d0fc1f9ad26b2c">eff_fun_spores</a> },</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>            { <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a>, <a class="code hl_function" href="player__hardcoded__effects_8cpp.html#a69fc27a91271f2306c14373cefb578cd">eff_fun_fungus</a> },</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>            { <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ac2aa877afbc90f2a8dccb91704af5973">effect_rat</a>, <a class="code hl_function" href="player__hardcoded__effects_8cpp.html#acb0e98db046f89b19492172216e6cb5a">eff_fun_rat</a> },</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>            { <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a151e6b162a8a2cdbdb11c407013076eb">effect_bleed</a>, <a class="code hl_function" href="player__hardcoded__effects_8cpp.html#a51ed83146b1876017eac2443e7a7d502">eff_fun_bleed</a> },</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>            { <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a>, <a class="code hl_function" href="player__hardcoded__effects_8cpp.html#ad53da4ff53d73ac4976c4e5cc5ffa2d6">eff_fun_hallu</a> },</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>            { <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a1e2a085a78738d789a7447af81ed3deb">effect_cold</a>, <a class="code hl_function" href="player__hardcoded__effects_8cpp.html#a354b49d09eec0c4e47b9b2528e816f0d">eff_fun_cold</a> },</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>            { <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a4c80f98459b07d9175c344914b1525dd">effect_hot</a>, <a class="code hl_function" href="player__hardcoded__effects_8cpp.html#a51109d0568cb0325aea66afb119f0b3c">eff_fun_hot</a> },</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>            { <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#afd4a5a40423282c43d1715bf1cc99357">effect_frostbite</a>, <a class="code hl_function" href="player__hardcoded__effects_8cpp.html#ac47fcf26c541cc0aa68931d4ebab38a5">eff_fun_frostbite</a> },</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>            { <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ab20d39f7408673b6c72e08685e5dea15">effect_bloated</a>, <a class="code hl_function" href="player__hardcoded__effects_8cpp.html#a3216260151f9b13e63846ac6bdccd6fe">eff_fun_bloated</a> },</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>            { <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a9e9db9f4100dc938c952bcf14c96be0e">effect_toxin_buildup</a>, <a class="code hl_function" href="player__hardcoded__effects_8cpp.html#a7e6207cbe6219ea08678b95ff227fa69">eff_fun_toxin_buildup</a> },</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>            { <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#acb4dcd18ad3748e50f9585c9b575be5e">effect_mutating</a>, <a class="code hl_function" href="player__hardcoded__effects_8cpp.html#ab46439c675f9cfd3468fd104444ed441">eff_fun_mutating</a> },</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>        }</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>    };</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>    <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> &amp;<span class="keywordtype">id</span> = it.<a class="code hl_function" href="classeffect.html#a64af3902e1495976589ba64ac4c82022">get_id</a>();</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;iter = hc_effect_map.find( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>    <span class="keywordflow">if</span>( iter != hc_effect_map.end() ) {</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>        iter-&gt;second( *<span class="keyword">this</span>, it );</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>    }</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span> </div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>    <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> dur = it.<a class="code hl_function" href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">get_duration</a>();</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>    <span class="keywordtype">int</span> intense = it.<a class="code hl_function" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>();</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>    <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp = it.<a class="code hl_function" href="classeffect.html#ab4bef16d15bbb8c8cd36d8a0432fbbb8">get_bp</a>()-&gt;<a class="code hl_variable" href="structbody__part__type.html#a90beb41f3dca18cdbe06f8483336c899">token</a>;</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>    <span class="keywordtype">bool</span> sleeping = <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a> );</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>    <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a13af1ce0f1c5467c2718b3d683c13c28">effect_dermatik</a> ) {</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>        <span class="keywordtype">bool</span> triggered = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>        <span class="keywordtype">int</span> formication_chance = 3600;</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>        <span class="keywordflow">if</span>( dur &lt; 4_hours ) {</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>            formication_chance += 14400 - to_turns&lt;int&gt;( dur );</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        }</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( formication_chance ) ) {</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ada6166c57df3b5758b910c90079ffd56">effect_formication</a>, 60_minutes, bp );</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>        }</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>        <span class="keywordflow">if</span>( dur &lt; 1_days &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 14400 ) ) {</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>            <a class="code hl_function" href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">vomit</a>();</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>        }</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>        <span class="keywordflow">if</span>( dur &gt; 1_days ) {</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>            <span class="comment">// Spawn some larvae!</span></div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>            <span class="comment">// Choose how many insects; more for large characters</span><span class="comment"></span></div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span><span class="comment">            ///\EFFECT_STR_MAX increases number of insects hatched from dermatik infection</span></div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span><span class="comment"></span>            <span class="keywordtype">int</span> num_insects = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, std::min( 3, <a class="code hl_variable" href="classCharacter.html#a0bbd9aa7982f98e08f67db130e4eb9f8">str_max</a> / 3 ) );</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>            <a class="code hl_function" href="classCharacter.html#a7c11a4f12bee9f80279bff21faa54153">apply_damage</a>( <span class="keyword">nullptr</span>, <a class="code hl_function" href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a>( bp ).<span class="keywordtype">id</span>(), <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 2, 4 ) * num_insects );</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>            <span class="comment">// Figure out where they may be placed</span></div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>            <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your flesh crawls; insects tear through the flesh and begin to emerge!&quot;</span> ),</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Insects begin to emerge from &lt;npcname&gt;&#39;s skin!&quot;</span> ) );</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>            <span class="keywordflow">for</span>( ; num_insects &gt; 0; num_insects-- ) {</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>                <span class="keywordflow">if</span>( <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> grub = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_around( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a3e46d556bbb636159b56d90f02a2173a">mon_dermatik_larva</a>, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 1 ) ) {</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>                    <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>                        grub-&gt;friendly = -1;</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>                    }</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>                }</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>            }</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea161913e9a4a25ead0b940284e5acbcc3">event_type::dermatik_eggs_hatch</a>&gt;( <a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() );</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>            <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ada6166c57df3b5758b910c90079ffd56">effect_formication</a>, bp );</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>            <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= 600;</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>            triggered = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>        }</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>        <span class="keywordflow">if</span>( triggered ) {</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>            <span class="comment">// Set ourselves up for removal</span></div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>            it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>            <span class="comment">// Count duration up</span></div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>            it.<a class="code hl_function" href="classeffect.html#a118dd88810785bfbb8243af97a37d2ab">mod_duration</a>( 1_turns );</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>        }</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ada6166c57df3b5758b910c90079ffd56">effect_formication</a> ) {<span class="comment"></span></div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span><span class="comment">        ///\EFFECT_INT decreases occurrence of itching from formication effect</span></div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span><span class="comment"></span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( intense, 600 + 300 * <a class="code hl_function" href="classCharacter.html#a588d5cc1d729490552fe03b006685ae5">get_int</a>() ) &amp;&amp; !<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">effect_narcosis</a> ) ) {</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>                <span class="comment">//~ %s is bodypart in accusative.</span></div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You start scratching your %s!&quot;</span> ), <a class="code hl_function" href="bodypart_8cpp.html#ab29c0bad9828b787ace4d04a5e951c6b">body_part_name_accusative</a>( bp ) );</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.cancel_activity();</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>                <span class="comment">//~ 1$s is NPC name, 2$s is bodypart in accusative.</span></div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%1$s starts scratching their %2$s!&quot;</span> ), <a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a>, <a class="code hl_function" href="bodypart_8cpp.html#ab29c0bad9828b787ace4d04a5e951c6b">body_part_name_accusative</a>( bp ) );</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>            }</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>            <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= 150;</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>            <a class="code hl_function" href="classCharacter.html#a7c11a4f12bee9f80279bff21faa54153">apply_damage</a>( <span class="keyword">nullptr</span>, <a class="code hl_function" href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a>( bp ).<span class="keywordtype">id</span>(), 1 );</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>        }</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a5b71bd47668c89065c1db3c86a86544c">effect_evil</a> ) {</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>        <span class="comment">// Worn or wielded; diminished effects</span></div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>        <span class="keywordtype">bool</span> lesserEvil = <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a5a6bd0cdb74c37a3405b1295146bc5c8">has_effect_when_wielded</a>( <a class="code hl_enumvalue" href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621a512b1de1acc7ed66628bc2a5f1a13e59">AEP_EVIL</a> ) ||</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>                          <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a5363173deb1ded8fd5bfd82cf6246018">has_effect_when_carried</a>( <a class="code hl_enumvalue" href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621a512b1de1acc7ed66628bc2a5f1a13e59">AEP_EVIL</a> );</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;w : <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a> ) {</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>            <span class="keywordflow">if</span>( w.has_effect_when_worn( <a class="code hl_enumvalue" href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621a512b1de1acc7ed66628bc2a5f1a13e59">AEP_EVIL</a> ) ) {</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>                lesserEvil = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>            }</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>        }</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>        <span class="keywordflow">if</span>( lesserEvil ) {</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>            <span class="comment">// Only minor effects, some even good!</span></div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>            <a class="code hl_function" href="classCharacter.html#a6cb8078ce8af28f6a779c039e3c1e1ca">mod_str_bonus</a>( dur &gt; 450_minutes ? 10.0 : dur / 45_minutes );</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>            <span class="keywordflow">if</span>( dur &lt; 1_hours ) {</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>                <a class="code hl_function" href="classCharacter.html#a1f1ce1b5bdc4116046f13af5ef5236fc">mod_dex_bonus</a>( 1 );</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>                <span class="keywordtype">int</span> dex_mod = -( dur &gt; 360_minutes ? 10.0 : ( dur - 1_hours ) / 30_minutes );</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>                <a class="code hl_function" href="classCharacter.html#a1f1ce1b5bdc4116046f13af5ef5236fc">mod_dex_bonus</a>( dex_mod );</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>                <a class="code hl_function" href="classCharacter.html#a6924ca4d6836c2a8c64bd6fda0436c70">add_miss_reason</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Why waste your time on that insignificant speck?&quot;</span> ), -dex_mod );</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>            }</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>            <a class="code hl_function" href="classCharacter.html#af6603125d7342944862004a14de55a8a">mod_int_bonus</a>( -( dur &gt; 300_minutes ? 10.0 : ( dur - 50_minutes ) / 25_minutes ) );</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>            <a class="code hl_function" href="classCharacter.html#a0fb6896d21fc20b5f30f2a0b8afd9b1d">mod_per_bonus</a>( -( dur &gt; 480_minutes ? 10.0 : ( dur - 80_minutes ) / 40_minutes ) );</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>            <span class="comment">// Major effects, all bad.</span></div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>            <a class="code hl_function" href="classCharacter.html#a6cb8078ce8af28f6a779c039e3c1e1ca">mod_str_bonus</a>( -( dur &gt; 500_minutes ? 10.0 : dur / 50_minutes ) );</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>            <span class="keywordtype">int</span> dex_mod = -( dur &gt; 600_minutes ? 10.0 : dur / 60_minutes );</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>            <a class="code hl_function" href="classCharacter.html#a1f1ce1b5bdc4116046f13af5ef5236fc">mod_dex_bonus</a>( dex_mod );</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>            <a class="code hl_function" href="classCharacter.html#a6924ca4d6836c2a8c64bd6fda0436c70">add_miss_reason</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Why waste your time on that insignificant speck?&quot;</span> ), -dex_mod );</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>            <a class="code hl_function" href="classCharacter.html#af6603125d7342944862004a14de55a8a">mod_int_bonus</a>( -( dur &gt; 450_minutes ? 10.0 : dur / 45_minutes ) );</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>            <a class="code hl_function" href="classCharacter.html#a0fb6896d21fc20b5f30f2a0b8afd9b1d">mod_per_bonus</a>( -( dur &gt; 400_minutes ? 10.0 : dur / 40_minutes ) );</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>        }</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a224033af2e0bc90d812b116312d34365">effect_attention</a> ) {</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>        <span class="keywordflow">if</span>( to_turns&lt;int&gt;( dur ) != 0 &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 100000 / to_turns&lt;int&gt;( dur ) ) &amp;&amp;</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>            <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 100000 / to_turns&lt;int&gt;( dur ) ) &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 250 ) ) {</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>            <a class="code hl_struct" href="structtripoint.html">tripoint</a> dest( 0, 0, <a class="code hl_function" href="classCharacter.html#a0d0cb32a95161137e0c61303f84b3753">posz</a>() );</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>            <span class="keywordtype">int</span> tries = 0;</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>            <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>                dest.x = <a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>() + <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -4, 4 );</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>                dest.y = <a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() + <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -4, 4 );</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>                tries++;</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>            } <span class="keywordflow">while</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at( dest ) &amp;&amp; tries &lt; 10 );</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>            <span class="keywordflow">if</span>( tries &lt; 10 ) {</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>                <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.impassable( dest ) ) {</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.make_rubble( dest, <a class="code hl_variable" href="mapdata_8cpp.html#ac077db92eed9ae1922ed71715ba8118a">f_rubble_rock</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>                }</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>                <a class="code hl_struct" href="structMonsterGroupResult.html">MonsterGroupResult</a> spawn_details = <a class="code hl_function" href="classMonsterGroupManager.html#ad16591c9153584950a7446d1678c08df">MonsterGroupManager::GetResultFromGroup</a>(</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>                                                       <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a4e23e64852e8ca64da0132c32c40ea70">GROUP_NETHER</a> );</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_at( spawn_details.<a class="code hl_variable" href="structMonsterGroupResult.html#a33c168a013a586d2418dd9e67f7c42a0">name</a>, dest );</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>                <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( dest ) ) {</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;cancel_activity_or_ignore_query( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96a2d21a8b46860540a026791074093e47d">distraction_type::hostile_spotted_far</a>,</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>                                                        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;A monster appears nearby!&quot;</span> ) );</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>                    <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;A portal opens nearby, and a monster crawls through!&quot;</span> ) );</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>                }</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>                it.<a class="code hl_function" href="classeffect.html#a61bbbb369769b0896b641169a066ac8f">mult_duration</a>( .25 );</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>            }</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>        }</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a0c073c8608c88bb092d72f27944a7df1">effect_teleglow</a> ) {</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>        <span class="comment">// Default we get around 300 duration points per teleport (possibly more</span></div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>        <span class="comment">// depending on the source).</span></div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>        <span class="comment">// TODO: Include a chance to teleport to the nether realm.</span></div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>        <span class="comment">// TODO: This with regards to NPCS</span></div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() ) {</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>            <span class="comment">// NO, no teleporting around the player because an NPC has teleglow!</span></div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>        }</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>        <span class="keywordflow">if</span>( dur &gt; 10_hours ) {</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>            <span class="comment">// 20 teleports (no decay; in practice at least 21)</span></div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 6000 - ( ( dur - 600_minutes ) / 1_minutes ) ) ) {</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>                <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>                    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Glowing lights surround you, and you teleport.&quot;</span> ) );</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>                }</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>                <a class="code hl_function" href="namespaceteleport.html#a24cbf298b41e9fc23770c73d32e33a47">teleport::teleport</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1ceae04270cf67921945df7d026bfe61efeb">event_type::teleglow_teleports</a>&gt;( <a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() );</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 10 ) ) {</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>                    <span class="comment">// Set ourselves up for removal</span></div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>                    it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>                }</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>            }</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 7200 - ( dur - 360_minutes ) / 4_turns ) ) {</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are beset with a vision of a prowling beast.&quot;</span> ) );</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 6 ) ) {</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>                    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.is_cornerfloor( dest ) ) {</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_field( dest, <a class="code hl_variable" href="field__type_8cpp.html#add34ceb641349b4b54b06aa46e16f7eb">fd_tindalos_rift</a>, 3 );</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>                        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your surroundings are permeated with a foul scent.&quot;</span> ) );</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>                    }</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>                }</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) {</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>                    <span class="comment">// Set ourselves up for removal</span></div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>                    it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>                }</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>            }</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 7200 - ( ( dur - 600_minutes ) / 30_seconds ) ) &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 20 ) ) {</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>                <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>                    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You pass out.&quot;</span> ) );</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>                }</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>                <a class="code hl_function" href="classCharacter.html#a4886c07d74c7e8ad7ce2ced7d8238015">fall_asleep</a>( 2_hours );</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 6 ) ) {</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>                    <span class="comment">// Set ourselves up for removal</span></div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>                    it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>                }</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>            }</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>        }</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>        <span class="keywordflow">if</span>( dur &gt; 6_hours ) {</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>            <span class="comment">// 12 teleports</span></div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 24000 - ( dur - 360_minutes ) / 4_turns ) ) {</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>                <a class="code hl_struct" href="structtripoint.html">tripoint</a> dest( 0, 0, <a class="code hl_function" href="classCharacter.html#a0d0cb32a95161137e0c61303f84b3753">posz</a>() );</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>                <span class="keywordtype">int</span> &amp;x = dest.x;</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>                <span class="keywordtype">int</span> &amp;y = dest.y;</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>                <span class="keywordtype">int</span> tries = 0;</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>                <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>                    x = <a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>() + <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -4, 4 );</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>                    y = <a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() + <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -4, 4 );</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>                    tries++;</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>                    <span class="keywordflow">if</span>( tries &gt;= 10 ) {</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>                    }</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>                } <span class="keywordflow">while</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at( dest ) );</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>                <span class="keywordflow">if</span>( tries &lt; 10 ) {</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>                    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.impassable( dest ) ) {</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.make_rubble( dest, <a class="code hl_variable" href="mapdata_8cpp.html#ac077db92eed9ae1922ed71715ba8118a">f_rubble_rock</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>                    }</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>                    <a class="code hl_struct" href="structMonsterGroupResult.html">MonsterGroupResult</a> spawn_details = <a class="code hl_function" href="classMonsterGroupManager.html#ad16591c9153584950a7446d1678c08df">MonsterGroupManager::GetResultFromGroup</a>(</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>                                                           <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a4e23e64852e8ca64da0132c32c40ea70">GROUP_NETHER</a> );</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_at( spawn_details.<a class="code hl_variable" href="structMonsterGroupResult.html#a33c168a013a586d2418dd9e67f7c42a0">name</a>, dest );</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>                    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( dest ) ) {</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;cancel_activity_or_ignore_query( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96a2d21a8b46860540a026791074093e47d">distraction_type::hostile_spotted_far</a>,</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>                                                            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;A monster appears nearby!&quot;</span> ) );</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>                        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;A portal opens nearby, and a monster crawls through!&quot;</span> ) );</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>                    }</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>                    <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) {</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>                        <span class="comment">// Set ourselves up for removal</span></div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>                        it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>                    }</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>                }</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>            }</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 21000 - ( dur - 360_minutes ) / 4_turns ) ) {</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You shudder suddenly.&quot;</span> ) );</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>                <a class="code hl_function" href="classCharacter.html#a219dfd606ef95e169114487e61ba0ad7">mutate</a>();</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4 ) ) {</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>                    <span class="comment">// Set ourselves up for removal</span></div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>                    it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>                }</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>            }</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>        }</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>        <span class="keywordflow">if</span>( dur &gt; 4_hours ) {</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>            <span class="comment">// 8 teleports</span></div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#a5a41a849701919ba64ad56f5a734c1ee">one_turn_in</a>( 1000_minutes - dur ) &amp;&amp; !<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#acfad4e8017ecde8182c83fee1ad037cd">effect_valium</a> ) ) {</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>                <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#acf409ab736a978a27fd03d8e155eeee5">effect_shakes</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 4_minutes, 8_minutes ) );</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>            }</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#a5a41a849701919ba64ad56f5a734c1ee">one_turn_in</a>( 1200_minutes - dur ) ) {</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your vision is filled with bright lights…&quot;</span> ) );</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>                <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1_minutes, 2_minutes ) );</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 8 ) ) {</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>                    <span class="comment">// Set ourselves up for removal</span></div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>                    it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>                }</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>            }</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 5000 ) &amp;&amp; !<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a> ) ) {</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>                <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a>, 6_hours );</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 5 ) ) {</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>                    <span class="comment">// Set ourselves up for removal</span></div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>                    it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>                }</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>            }</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>        }</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4000 ) ) {</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;re suddenly covered in ectoplasm.&quot;</span> ) );</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">effect_boomered</a>, 10_minutes );</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4 ) ) {</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>                <span class="comment">// Set ourselves up for removal</span></div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>                it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>            }</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>        }</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 10000 ) ) {</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a308d750c2cc01d70d7622fdee14be3a5">trait_M_IMMUNE</a> ) ) {</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>                <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a>, 1_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;We have many colonists awaiting passage.&quot;</span> ) );</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>            }</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>            <span class="comment">// Set ourselves up for removal</span></div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>            it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>        }</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a2dde49329eef942ec57d25db274942c0">effect_asthma</a> ) {</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a1b24df80fb6fce16dd4527cc4a6fa6ca">effect_adrenaline</a> ) || <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a0a3de1e6679128988d176115710ddd03">effect_datura</a> ) ) {</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your asthma attack stops.&quot;</span> ) );</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>            it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( dur &gt; 2_hours ) {</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your asthma overcomes you.\nYou asphyxiate.&quot;</span> ) );</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea0656734d6a53b3af8996f7ef89f7af00">event_type::dies_from_asthma_attack</a>&gt;( <a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() );</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>            <a class="code hl_function" href="classCharacter.html#ad30aa5db93626016bfc8ac32f848f82d">hurtall</a>( 500, <span class="keyword">nullptr</span> );</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( dur &gt; 70_minutes ) {</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 120 ) ) {</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You wheeze and gasp for air.&quot;</span> ) );</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>            }</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>        }</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">effect_brainworms</a> ) {</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 1536 ) ) {</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your head aches faintly.&quot;</span> ) );</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>        }</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 6144 ) ) {</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>            <a class="code hl_function" href="classCharacter.html#a8c4e364e25b0ea4d5a27c3120a9f973f">mod_healthy_mod</a>( -10, -100 );</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>            <a class="code hl_function" href="classCharacter.html#a7c11a4f12bee9f80279bff21faa54153">apply_damage</a>( <span class="keyword">nullptr</span>, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;head&quot;</span> ), <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 1 ) );</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a6e356b8c88f37fd089a667b39f6b4419">effect_visuals</a> ) ) {</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your vision is getting fuzzy.&quot;</span> ) );</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>                <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a6e356b8c88f37fd089a667b39f6b4419">effect_visuals</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1_minutes, 60_minutes ) );</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>            }</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>        }</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 24576 ) ) {</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>            <a class="code hl_function" href="classCharacter.html#a8c4e364e25b0ea4d5a27c3120a9f973f">mod_healthy_mod</a>( -10, -100 );</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>            <a class="code hl_function" href="classCharacter.html#a7c11a4f12bee9f80279bff21faa54153">apply_damage</a>( <span class="keyword">nullptr</span>, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;head&quot;</span> ), <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 2 ) );</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#a4a9671b1264d53cb74469e78000e2544">is_blind</a>() &amp;&amp; !sleeping ) {</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your vision goes black!&quot;</span> ) );</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>                <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 5_turns, 20_turns ) );</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>            }</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>        }</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a> ) {</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3072 ) ) {</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your bowels ache.&quot;</span> ) );</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>        }</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">effect_bloodworms</a> ) {</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3072 ) ) {</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your veins itch.&quot;</span> ) );</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>        }</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a914db3df05fd548e81adc85699eaaf05">effect_paincysts</a> ) {</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3072 ) ) {</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your muscles feel like they&#39;re knotted and tired.&quot;</span> ) );</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>        }</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a0a3de1e6679128988d176115710ddd03">effect_datura</a> ) {</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>        <span class="keywordflow">if</span>( dur &gt; 100_minutes &amp;&amp; <a class="code hl_variable" href="classCharacter.html#a1a22be593582c9aef166a12777bb79a8">focus_pool</a> &gt;= 1 &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 24 ) ) {</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>            <a class="code hl_variable" href="classCharacter.html#a1a22be593582c9aef166a12777bb79a8">focus_pool</a>--;</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>        }</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>        <span class="keywordflow">if</span>( dur &gt; 200_minutes &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 48 ) &amp;&amp; <a class="code hl_function" href="classCharacter.html#a7335f053c5874081211552623fa625c5">get_stim</a>() &lt; 20 ) {</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>            <a class="code hl_function" href="classCharacter.html#ac840406f65172cadd93d4274ddd78e15">mod_stim</a>( 1 );</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>        }</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>        <span class="keywordflow">if</span>( dur &gt; 300_minutes &amp;&amp; <a class="code hl_variable" href="classCharacter.html#a1a22be593582c9aef166a12777bb79a8">focus_pool</a> &gt;= 1 &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 12 ) ) {</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>            <a class="code hl_variable" href="classCharacter.html#a1a22be593582c9aef166a12777bb79a8">focus_pool</a>--;</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>        }</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>        <span class="keywordflow">if</span>( dur &gt; 400_minutes &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 384 ) ) {</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>            <a class="code hl_function" href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">mod_pain</a>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -1, -8 ) );</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>        }</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>        <span class="keywordflow">if</span>( ( !<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a> ) ) &amp;&amp; ( dur &gt; 500_minutes &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 24 ) ) ) {</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a>, 6_hours );</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>        }</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>        <span class="keywordflow">if</span>( dur &gt; 600_minutes &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 768 ) ) {</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>            <a class="code hl_function" href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">mod_pain</a>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -3, -24 ) );</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>            <span class="keywordflow">if</span>( dur &gt; 800_minutes &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 16 ) ) {</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;re experiencing loss of basic motor skills and blurred vision.  Your mind recoils in horror, unable to communicate with your spinal column.&quot;</span> ) );</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You stagger and fall!&quot;</span> ) );</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>                <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1_turns, 4_turns ), <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a>, 0, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 8 ) || <a class="code hl_function" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( <a class="code hl_function" href="classplayer.html#aafc274c41799c1d77e81e52ee9a723bb">vomit_mod</a>(), 10 ) ) {</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>                    <a class="code hl_function" href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">vomit</a>();</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>                }</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>            }</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>        }</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>        <span class="keywordflow">if</span>( dur &gt; 700_minutes &amp;&amp; <a class="code hl_variable" href="classCharacter.html#a1a22be593582c9aef166a12777bb79a8">focus_pool</a> &gt;= 1 ) {</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>            <a class="code hl_variable" href="classCharacter.html#a1a22be593582c9aef166a12777bb79a8">focus_pool</a>--;</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>        }</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>        <span class="keywordflow">if</span>( dur &gt; 800_minutes &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 1536 ) ) {</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a6e356b8c88f37fd089a667b39f6b4419">effect_visuals</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 4_minutes, 20_minutes ) );</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>            <a class="code hl_function" href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">mod_pain</a>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -8, -40 ) );</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>        }</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>        <span class="keywordflow">if</span>( dur &gt; 1200_minutes &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 1536 ) ) {</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There&#39;s some kind of big machine in the sky.&quot;</span> ) );</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a6e356b8c88f37fd089a667b39f6b4419">effect_visuals</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 8_minutes, 40_minutes ) );</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 32 ) ) {</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It&#39;s some kind of electric snake, coming right at you!&quot;</span> ) );</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>                <a class="code hl_function" href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">mod_pain</a>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 4, 40 ) );</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>                <a class="code hl_function" href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">vomit</a>();</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>            }</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>        }</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>        <span class="keywordflow">if</span>( dur &gt; 1400_minutes &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 768 ) ) {</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Order us some golf shoes, otherwise we&#39;ll never get out of this place alive.&quot;</span> ) );</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a6e356b8c88f37fd089a667b39f6b4419">effect_visuals</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 40_minutes, 200_minutes ) );</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 8 ) ) {</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The possibility of physical and mental collapse is now very real.&quot;</span> ) );</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) || <a class="code hl_function" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( <a class="code hl_function" href="classplayer.html#aafc274c41799c1d77e81e52ee9a723bb">vomit_mod</a>(), 10 ) ) {</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>                    <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;No one should be asked to handle this trip.&quot;</span> ) );</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>                    <a class="code hl_function" href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">vomit</a>();</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>                    <a class="code hl_function" href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">mod_pain</a>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 8, 40 ) );</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>                }</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>            }</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>        }</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span> </div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>        <span class="keywordflow">if</span>( dur &gt; 1800_minutes &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 300 * 512 ) ) {</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#af20cb84a6e8ccc0ed66c352edf29143b">trait_NOPAIN</a> ) ) {</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your heart spasms painfully and stops, dragging you back to reality as you die.&quot;</span> ) );</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>(</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>                    <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You dissolve into beautiful paroxysms of energy.  Life fades from your nebulae and you are no more.&quot;</span> ) );</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>            }</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea1a30eda4e4958583de1a74ed1a215d4f">event_type::dies_from_drug_overdose</a>&gt;( <a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>(), <a class="code hl_variable" href="classCharacter.html#a8d0ef1736a17d274868b515b184a820d">id</a> );</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>            <a class="code hl_function" href="classCreature.html#a226d6b1000b12edac3e5adecae7b8928">set_part_hp_cur</a>( <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), 0 );</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>        }</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ae326c5e4da7f23bc429d04d215dd7c9d">effect_grabbed</a> ) {</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>        <a class="code hl_function" href="classCreature.html#aaed992e8acaf0e9dc182ea8ce1d15423">set_num_blocks_bonus</a>( <a class="code hl_function" href="classCreature.html#a5e5459c1b7ff6fee815a1f15643a972c">get_num_blocks_bonus</a>() - 1 );</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>        <span class="keywordtype">int</span> zed_number = 0;</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;dest : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 1, 0 ) ) {</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>            <span class="keyword">const</span> <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( dest );</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>            <span class="keywordflow">if</span>( mon &amp;&amp; mon-&gt;<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a66f79823ab25161f7aabf43445a580a4">effect_grabbing</a> ) ) {</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>                zed_number += mon-&gt;<a class="code hl_function" href="classmonster.html#a1d58ee8d254387dacfd4a497957e4afa">get_grab_strength</a>();</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>            }</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>        }</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>        <span class="keywordflow">if</span>( zed_number &gt; 0 ) {</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>            <span class="comment">//If intensity isn&#39;t pass the cap, average it with # of zeds</span></div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ae326c5e4da7f23bc429d04d215dd7c9d">effect_grabbed</a>, 2_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab4b216482dcc0e468819f023c3aeddd1">bp_torso</a>, ( intense + zed_number ) / 2 );</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>        }</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a39b21fc30fecd7d4fb15047600d03522">effect_bite</a> ) {</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>        <span class="keywordtype">bool</span> recovered = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>        <span class="comment">/* Recovery chances, use binomial distributions if balancing here. Healing in the bite</span></div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span><span class="comment">         * stage provides additional benefits, so both the bite stage chance of healing and</span></div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span><span class="comment">         * the cumulative chances for spontaneous healing are both given.</span></div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span><span class="comment">         * Cumulative heal chances for the bite + infection stages:</span></div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span><span class="comment">         * -200 health - 38.6%</span></div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span><span class="comment">         *    0 health - 46.8%</span></div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span><span class="comment">         *  200 health - 53.7%</span></div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span><span class="comment">         *</span></div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span><span class="comment">         * Heal chances in the bite stage:</span></div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span><span class="comment">         * -200 health - 23.4%</span></div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span><span class="comment">         *    0 health - 28.3%</span></div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span><span class="comment">         *  200 health - 32.9%</span></div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span><span class="comment">         *</span></div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span><span class="comment">         * Cumulative heal chances the bite + infection stages with the resistant mutation:</span></div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span><span class="comment">         * -200 health - 82.6%</span></div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span><span class="comment">         *    0 health - 84.5%</span></div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span><span class="comment">         *  200 health - 86.1%</span></div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span><span class="comment">         *</span></div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span><span class="comment">         * Heal chances in the bite stage with the resistant mutation:</span></div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span><span class="comment">         * -200 health - 60.7%</span></div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span><span class="comment">         *    0 health - 63.2%</span></div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span><span class="comment">         *  200 health - 65.6%</span></div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span><span class="comment">         */</span></div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>        <span class="keywordflow">if</span>( dur % 10_turns == 0_turns )  {</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>            <span class="keywordtype">int</span> recover_factor = 100;</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a24886ecb2b3812c98899a8ceaf5d29fa">effect_recover</a> ) ) {</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>                recover_factor -= <a class="code hl_function" href="classCreature.html#a2bb3543ca955d69805e57e4e09d878ef">get_effect_dur</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a24886ecb2b3812c98899a8ceaf5d29fa">effect_recover</a> ) / 1_hours;</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>            }</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a638e7eb4b8c8bdd2727763a767bd5617">trait_INFRESIST</a> ) ) {</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>                recover_factor += 200;</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>            }</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a6d1536344fcfe182fe400b1766fd66df">effect_panacea</a> ) ) {</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>                recover_factor = 648000; <span class="comment">//panacea is a guaranteed cure</span></div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ab5d38652b4b5ac4a2a4810d0d8c3ded1">effect_strong_antibiotic</a> ) ) {</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>                recover_factor += 400;</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a2ebc0d3c09d8f2896a466db2794c2845">effect_antibiotic</a> ) ) {</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>                recover_factor += 200;</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a66fbdfe284eb410fdbece4a3be98bf55">effect_weak_antibiotic</a> ) ) {</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>                recover_factor += 100;</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>            }</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>            recover_factor += <a class="code hl_function" href="classCharacter.html#a4c9fb43c7fb93a18f5d1a785790faca4">get_healthy</a>() / 10;</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span> </div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( recover_factor, 648000 ) ) {</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>                <span class="comment">//~ %s is bodypart name.</span></div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s wound begins to feel better!&quot;</span> ),</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>                                   <a class="code hl_function" href="bodypart_8cpp.html#a6c9ef5f15f73c82d39d205d56a560672">body_part_name</a>( bp ) );</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>                <span class="comment">// Set ourselves up for removal</span></div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>                it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>                recovered = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>            }</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>        }</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>        <span class="keywordflow">if</span>( !recovered ) {</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>            <span class="comment">// Move up to infection</span></div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>            <span class="comment">// Infection resistance can keep us in bite phase arbitrarily long</span></div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>            <span class="keywordflow">if</span>( dur &gt; 6_hours &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a638e7eb4b8c8bdd2727763a767bd5617">trait_INFRESIST</a> ) ) {</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>                <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a1de43fa1f6d16ce87ab7a3a49e47c463">effect_infected</a>, 1_turns, bp );</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>                <span class="comment">// Set ourselves up for removal</span></div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>                it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ab5d38652b4b5ac4a2a4810d0d8c3ded1">effect_strong_antibiotic</a> ) ) {</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>                <span class="comment">// Strong antibiotic reverses progress</span></div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>                it.<a class="code hl_function" href="classeffect.html#a118dd88810785bfbb8243af97a37d2ab">mod_duration</a>( -1_turns );</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a2ebc0d3c09d8f2896a466db2794c2845">effect_antibiotic</a> ) ) {</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>                <span class="comment">// Normal antibiotic prevents progression</span></div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a66fbdfe284eb410fdbece4a3be98bf55">effect_weak_antibiotic</a> ) ) {</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( 4_turns ) ) {</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>                    <span class="comment">// Weak antibiotic slows down to a quarter</span></div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>                    it.<a class="code hl_function" href="classeffect.html#a118dd88810785bfbb8243af97a37d2ab">mod_duration</a>( 1_turns );</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>                }</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>                it.<a class="code hl_function" href="classeffect.html#a118dd88810785bfbb8243af97a37d2ab">mod_duration</a>( 1_turns );</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>            }</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>        }</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a1de43fa1f6d16ce87ab7a3a49e47c463">effect_infected</a> ) {</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>        <span class="keywordtype">bool</span> recovered = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>        <span class="comment">// Recovery chance, use binomial distributions if balancing here.</span></div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>        <span class="comment">// See &quot;bite&quot; for balancing notes on this.</span></div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>        <span class="keywordflow">if</span>( dur % 10_turns == 0_turns )  {</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>            <span class="keywordtype">int</span> recover_factor = 100;</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a24886ecb2b3812c98899a8ceaf5d29fa">effect_recover</a> ) ) {</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>                recover_factor -= <a class="code hl_function" href="classCreature.html#a2bb3543ca955d69805e57e4e09d878ef">get_effect_dur</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a24886ecb2b3812c98899a8ceaf5d29fa">effect_recover</a> ) / 1_hours;</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>            }</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a638e7eb4b8c8bdd2727763a767bd5617">trait_INFRESIST</a> ) ) {</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>                recover_factor += 200;</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>            }</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a6d1536344fcfe182fe400b1766fd66df">effect_panacea</a> ) ) {</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>                recover_factor = 5184000;</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ab5d38652b4b5ac4a2a4810d0d8c3ded1">effect_strong_antibiotic</a> ) ) {</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>                recover_factor += 400;</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a2ebc0d3c09d8f2896a466db2794c2845">effect_antibiotic</a> ) ) {</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>                recover_factor += 200;</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a66fbdfe284eb410fdbece4a3be98bf55">effect_weak_antibiotic</a> ) ) {</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>                recover_factor += 100;</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>            }</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>            recover_factor += <a class="code hl_function" href="classCharacter.html#a4c9fb43c7fb93a18f5d1a785790faca4">get_healthy</a>() / 10;</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span> </div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( recover_factor, 5184000 ) ) {</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>                <span class="comment">//~ %s is bodypart name.</span></div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s wound begins to feel better!&quot;</span> ),</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>                                   <a class="code hl_function" href="bodypart_8cpp.html#a6c9ef5f15f73c82d39d205d56a560672">body_part_name</a>( bp ) );</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>                <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a24886ecb2b3812c98899a8ceaf5d29fa">effect_recover</a>, 4 * dur );</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>                <span class="comment">// Set ourselves up for removal</span></div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>                it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>                recovered = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>            }</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>        }</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>        <span class="keywordflow">if</span>( !recovered ) {</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>            <span class="comment">// Don&#39;t kill if the player is on antibiotics</span></div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ab5d38652b4b5ac4a2a4810d0d8c3ded1">effect_strong_antibiotic</a> ) ) {</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>                it.<a class="code hl_function" href="classeffect.html#a118dd88810785bfbb8243af97a37d2ab">mod_duration</a>( -1_turns );</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a2ebc0d3c09d8f2896a466db2794c2845">effect_antibiotic</a> ) ) {</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>                <span class="comment">// No progression</span></div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a66fbdfe284eb410fdbece4a3be98bf55">effect_weak_antibiotic</a> ) ) {</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( 4_turns ) ) {</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>                    it.<a class="code hl_function" href="classeffect.html#a118dd88810785bfbb8243af97a37d2ab">mod_duration</a>( 1_turns );</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>                }</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( dur &gt; 1_days ) {</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You succumb to the infection.&quot;</span> ) );</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea0296a4080f122ec833ba056b965ebd32">event_type::dies_of_infection</a>&gt;( <a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() );</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>                <a class="code hl_function" href="classCharacter.html#ad30aa5db93626016bfc8ac32f848f82d">hurtall</a>( 500, <span class="keyword">nullptr</span> );</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>                it.<a class="code hl_function" href="classeffect.html#a118dd88810785bfbb8243af97a37d2ab">mod_duration</a>( 1_turns );</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>            }</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>        }</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ac95fd54d69ea350ea463a719fa7f3550">effect_lying_down</a> ) {</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>        <a class="code hl_function" href="classCreature.html#af826bfbdc9d7f81a8b9e53775f43d080">set_moves</a>( 0 );</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#af79e5154c3c5c24b98701e93f30d24d8">can_sleep</a>() ) {</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>            <a class="code hl_function" href="classCharacter.html#a4886c07d74c7e8ad7ce2ced7d8238015">fall_asleep</a>();</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>            <span class="comment">// Set ourselves up for removal</span></div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>            it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>        }</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>        <span class="keywordflow">if</span>( dur == 1_turns &amp;&amp; !sleeping ) {</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You try to sleep, but can&#39;t…&quot;</span> ) );</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>        }</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a> ) {</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>        <a class="code hl_function" href="classCreature.html#af826bfbdc9d7f81a8b9e53775f43d080">set_moves</a>( 0 );</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span><span class="preprocessor">#if defined(TILES)</span></div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() ) {</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>            SDL_PumpEvents();</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>        }</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span><span class="preprocessor">#endif </span><span class="comment">// TILES</span></div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span> </div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">effect_narcosis</a> ) &amp;&amp; <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() &lt;= 25 ) {</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>            <a class="code hl_function" href="classCharacter.html#a487913b9c97a3172f66517e87803d4a6">set_fatigue</a>( 25 ); <span class="comment">//Prevent us from waking up naturally while under anesthesia</span></div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>        }</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span> </div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() &lt;= 10 &amp;&amp; !<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">effect_narcosis</a> ) ) {</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>            <a class="code hl_function" href="classCharacter.html#a487913b9c97a3172f66517e87803d4a6">set_fatigue</a>( 0 );</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#ab2db9a91b7251e1ca4c1735c9cc2bf52">get_sleep_deprivation</a>() &lt; <a class="code hl_enumvalue" href="character_8h.html#aa7bb0ad73714bdf6b22d11b5b4e2633fad8eced3b06972df4d1dd7d835fc3edd3">sleep_deprivation_levels::harmless</a> ) {</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel well rested.&quot;</span> ) );</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>,</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel physically rested, but you haven&#39;t been able to catch up on your missed sleep yet.&quot;</span> ) );</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>            }</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>            it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_seconds );</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>        }</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span> </div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>        <span class="comment">// TODO: Move this to update_needs when NPCs can mutate</span></div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( 10_minutes ) &amp;&amp; ( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#aba25188f1c6479109ff8fb4004f03ebb">trait_CHLOROMORPH</a> ) ||</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>                <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a039c3379527621f928cbc2e62686108c">trait_M_SKIN3</a> ) || <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#abf29a0f9f2b03dbf9baa8dd6af688d41">trait_WATERSLEEP</a> ) ) &amp;&amp;</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.is_outside( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#aba25188f1c6479109ff8fb4004f03ebb">trait_CHLOROMORPH</a> ) ) {</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>                <span class="comment">// Hunger and thirst fall before your Chloromorphic physiology!</span></div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>                <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;natural_light_level( <a class="code hl_function" href="classCharacter.html#a0d0cb32a95161137e0c61303f84b3753">posz</a>() ) &gt;= 12 &amp;&amp;</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>                    <a class="code hl_function" href="group__Weather.html#gaa7b33196bf530c8b26654a0adf355165">get_weather</a>().weather_id-&gt;sun_intensity &gt;= <a class="code hl_enumvalue" href="weather__type_8h.html#a951701bd5446ac796b3a62dadcdb61f1a2ac43aa43bf473f9a9c09b4b608619d3">sun_intensity_type::light</a> ) {</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>                    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a824a60fef8920f38a6f1e1b35bea4879">get_stored_kcal</a>() &lt; <a class="code hl_function" href="classCharacter.html#a4905fef46d52e8b8334cc22666addcf0">max_stored_kcal</a>() - 50 ) {</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>                        <a class="code hl_function" href="classCharacter.html#a431180ff2af878a9956bf474783017c0">mod_stored_kcal</a>( 50 );</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>                    }</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>                    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a7ca6c670844c9fd8c419c474788a7bf7">get_thirst</a>() &gt;= <a class="code hl_enumvalue" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa2e01a05d962bd116bccfe3c311d0396e">thirst_levels::turgid</a> ) {</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>                        <a class="code hl_function" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( -5 );</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>                    }</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>                }</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>            }</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a039c3379527621f928cbc2e62686108c">trait_M_SKIN3</a> ) ) {</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>                <span class="comment">// Spores happen!</span></div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>                <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag_ter_or_furn( <span class="stringliteral">&quot;FUNGUS&quot;</span>, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>                    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() &gt;= 0 ) {</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>                        <a class="code hl_function" href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">mod_fatigue</a>( -5 ); <span class="comment">// Local guides need less sleep on fungal soil</span></div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>                    }</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>                    <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( 1_hours ) ) {</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>                        <a class="code hl_function" href="classCharacter.html#ab61b11b2213f90f55aa5b5bc0f682276">spores</a>(); <span class="comment">// spawn some P O O F Y   B O I S</span></div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>                    }</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>                }</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>            }</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#abf29a0f9f2b03dbf9baa8dd6af688d41">trait_WATERSLEEP</a> ) ) {</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>                <a class="code hl_function" href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">mod_fatigue</a>( -3 ); <span class="comment">// Fish sleep less in water</span></div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>            }</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>        }</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span> </div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>        <span class="comment">// Check mutation category strengths to see if we&#39;re mutated enough to get a dream</span></div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>        std::string highcat = <a class="code hl_function" href="classCharacter.html#ab16d86fdaf75c28043679273a8c74843">get_highest_category</a>();</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>        <span class="keywordtype">int</span> highest = <a class="code hl_variable" href="classCharacter.html#af1a5539eaced527b8c2b1dc36527dbec">mutation_category_level</a>[highcat];</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span> </div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>        <span class="comment">// Determine the strength of effects or dreams based upon category strength</span></div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>        <span class="keywordtype">int</span> strength = 0; <span class="comment">// Category too weak for any effect or dream</span></div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a3ecd6260cdd64e5e520d834f03e449bd">crossed_threshold</a>() ) {</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>            strength = 4; <span class="comment">// Post-human.</span></div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( highest &gt;= 20 &amp;&amp; highest &lt; 35 ) {</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>            strength = 1; <span class="comment">// Low strength</span></div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( highest &gt;= 35 &amp;&amp; highest &lt; 50 ) {</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>            strength = 2; <span class="comment">// Medium strength</span></div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( highest &gt;= 50 ) {</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>            strength = 3; <span class="comment">// High strength</span></div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>        }</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span> </div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>        <span class="comment">// Get a dream if category strength is high enough.</span></div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>        <span class="keywordflow">if</span>( strength != 0 ) {</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>            <span class="comment">//Once every 6 / 3 / 2 hours, with a bit of randomness</span></div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( 6_hours / strength ) &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>                <span class="comment">// Select a dream</span></div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>                std::string <a class="code hl_struct" href="structdream.html">dream</a> = <a class="code hl_function" href="classplayer.html#a306d945c53613ef1f22050608572247d">get_category_dream</a>( highcat, strength );</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>                <span class="keywordflow">if</span>( !<a class="code hl_struct" href="structdream.html">dream</a>.empty() ) {</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>                    <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_struct" href="structdream.html">dream</a> );</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>                }</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>                <span class="comment">// Mycus folks upgrade in their sleep.</span></div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a40331e22a139e13b3b70f387c9fdd390">trait_THRESH_MYCUS</a> ) ) {</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>                    <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 8 ) ) {</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>                        <a class="code hl_function" href="classCharacter.html#a00716e2ac25311496743b19eb9c598f1">mutate_category</a>( <span class="stringliteral">&quot;MYCUS&quot;</span> );</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>                        <a class="code hl_function" href="classCharacter.html#ac362a4ed1eb0794de41ee0b5df98724d">mod_stored_nutr</a>( 10 );</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>                        <a class="code hl_function" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( 10 );</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>                        <a class="code hl_function" href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">mod_fatigue</a>( 5 );</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>                    }</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>                }</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>            }</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>        }</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span> </div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>        <span class="keywordtype">bool</span> woke_up = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>        <span class="keywordtype">int</span> tirednessVal = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 5, 200 ) + <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, std::abs( <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() * 2 * 5 ) );</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#a4a9671b1264d53cb74469e78000e2544">is_blind</a>() &amp;&amp; !<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">effect_narcosis</a> ) ) {</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>(</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>                    <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a4a2880229756defe74bae39acf62f608">trait_SEESLEEP</a> ) ) { <span class="comment">// People who can see while sleeping are acclimated to the light.</span></div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ae0da5d32e6a302ede12162f7bc71401a">trait_HEAVYSLEEPER2</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a490ad03dab9bfa0cac3c742ec6b92fa0">trait_HIBERNATE</a> ) ) {</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>                    <span class="comment">// So you can too sleep through noon</span></div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>                    <span class="keywordflow">if</span>( ( tirednessVal * 1.25 ) &lt; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ambient_light_at( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) &amp;&amp; ( <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() &lt; 10 ||</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>                            <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() / 2 ) ) ) {</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>                        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It&#39;s too bright to sleep.&quot;</span> ) );</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>                        <span class="comment">// Set ourselves up for removal</span></div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>                        it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>                        woke_up = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>                    }</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>                    <span class="comment">// Ursine hibernators would likely do so indoors.  Plants, though, might be in the sun.</span></div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a490ad03dab9bfa0cac3c742ec6b92fa0">trait_HIBERNATE</a> ) ) {</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>                    <span class="keywordflow">if</span>( ( tirednessVal * 5 ) &lt; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ambient_light_at( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) &amp;&amp; ( <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() &lt; 10 ||</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>                            <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() / 2 ) ) ) {</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>                        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It&#39;s too bright to sleep.&quot;</span> ) );</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>                        <span class="comment">// Set ourselves up for removal</span></div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>                        it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>                        woke_up = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>                    }</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tirednessVal &lt; g-&gt;m.ambient_light_at( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) &amp;&amp; ( <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() &lt; 10 ||</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>                           <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() / 2 ) ) ) {</div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>                    <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It&#39;s too bright to sleep.&quot;</span> ) );</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>                    <span class="comment">// Set ourselves up for removal</span></div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>                    it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>                    woke_up = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>                }</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a225de862f8875f9ff96ec8a303213404">has_active_mutation</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a4a2880229756defe74bae39acf62f608">trait_SEESLEEP</a> ) ) {</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>                <a class="code hl_class" href="classCreature.html">Creature</a> *hostile_critter = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_hostile_very_close();</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>                <span class="keywordflow">if</span>( hostile_critter != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>                    <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You see %s approaching!&quot;</span> ),</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>                                       hostile_critter-&gt;<a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>                    it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>                    woke_up = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>                }</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>            }</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>        }</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span> </div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>        <span class="comment">// Have we already woken up?</span></div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>        <span class="keywordflow">if</span>( !woke_up &amp;&amp; !<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">effect_narcosis</a> ) ) {</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>            <span class="comment">// Cold or heat may wake you up.</span></div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>            <span class="comment">// Player will sleep through cold or heat if fatigued enough</span></div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp : <a class="code hl_variable" href="bodypart_8h.html#a089a199d69623f528a3883672f0a084e">all_body_parts</a> ) {</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>                <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#ab8947df053065c19ec265278dcb8ed6c">temp_cur</a>[bp] &lt; <a class="code hl_variable" href="weather_8h.html#abc0f7c1c415de7c72454c26da7bde58b">BODYTEMP_VERY_COLD</a> - <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() / 2 ) {</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>                    <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 30000 ) ) {</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>                        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You toss and turn trying to keep warm.&quot;</span> ) );</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>                    }</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>                    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#ab8947df053065c19ec265278dcb8ed6c">temp_cur</a>[bp] &lt; <a class="code hl_variable" href="weather_8h.html#ade282ea97a562653d35c9e7221dce4e6">BODYTEMP_FREEZING</a> - <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() / 2 ||</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>                        <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( <a class="code hl_variable" href="classCharacter.html#ab8947df053065c19ec265278dcb8ed6c">temp_cur</a>[bp] * 6 + 30000 ) ) {</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>                        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It&#39;s too cold to sleep.&quot;</span> ) );</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>                        <span class="comment">// Set ourselves up for removal</span></div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>                        it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>                        woke_up = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>                    }</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#ab8947df053065c19ec265278dcb8ed6c">temp_cur</a>[bp] &gt; <a class="code hl_variable" href="weather_8h.html#a8220ffde7e07de66ab06bdeba262a2c3">BODYTEMP_VERY_HOT</a> + <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() / 2 ) {</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>                    <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 30000 ) ) {</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>                        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You toss and turn in the heat.&quot;</span> ) );</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>                    }</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>                    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#ab8947df053065c19ec265278dcb8ed6c">temp_cur</a>[bp] &gt; <a class="code hl_variable" href="weather_8h.html#a353f46362b1fd4a5eb685d5f7b271079">BODYTEMP_SCORCHING</a> + <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() / 2 ||</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>                        <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 90000 - <a class="code hl_variable" href="classCharacter.html#ab8947df053065c19ec265278dcb8ed6c">temp_cur</a>[bp] ) ) {</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>                        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It&#39;s too hot to sleep.&quot;</span> ) );</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>                        <span class="comment">// Set ourselves up for removal</span></div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>                        it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>                        woke_up = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>                    }</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>                }</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>            }</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>            <span class="keywordflow">if</span>( ( ( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#af2d313b1132870a819487a4e4fd5e6c1">trait_SCHIZOPHRENIC</a> ) || <a class="code hl_function" href="classCharacter.html#a24f9a7fe69a7d8c34809d16e62ac2cf4">has_artifact_with</a>( <a class="code hl_enumvalue" href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621a7d6cb5340b1b356758ad74b2b941f7ba">AEP_SCHIZO</a> ) ) &amp;&amp;</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>                  <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 43200 ) &amp;&amp; <a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() ) ) {</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) {</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>                    <a class="code hl_function" href="classCharacter.html#a0923956a07957b673415d4a0a7b79014">sound_hallu</a>();</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>                    <span class="keywordtype">int</span> max_count = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 3 );</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>                    <span class="keywordtype">int</span> <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> = 0;</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>                    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;mp : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 1 ) ) {</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>                        <span class="keywordflow">if</span>( mp == <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) {</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>                        }</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>                        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <span class="stringliteral">&quot;FLAT&quot;</span>, mp ) &amp;&amp;</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>                            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.pl_sees( mp, 2 ) ) {</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>                            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;spawn_hallucination( mp );</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>                            <span class="keywordflow">if</span>( ++<a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> &gt; max_count ) {</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>                            }</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>                        }</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>                    }</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>                }</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>                it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>                woke_up = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>            }</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>        }</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span> </div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>        <span class="comment">// A bit of a hack: check if we are about to wake up for any reason, including regular</span></div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>        <span class="comment">// timing out of sleep</span></div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>        <span class="keywordflow">if</span>( dur == 1_turns || woke_up ) {</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>            <a class="code hl_function" href="classCharacter.html#a0b32571db45faeab8561f33af6da1e28">wake_up</a>();</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>        }</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#aed41c52190bc19cff7fa3c714d0be50f">effect_alarm_clock</a> ) {</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a4f0bdbd929787a486a0dd5748ef10c65">in_sleep_state</a>() ) {</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> asleep = <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a> );</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a8fdfd8aeeaba5dd102621ecefb5d95d8">bio_watch</a> ) ) {</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>                <span class="keywordflow">if</span>( dur == 1_turns ) {</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>                    <span class="keywordflow">if</span>( !asleep ) {</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>                        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your internal chronometer went off and you haven&#39;t slept a wink.&quot;</span> ) );</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>                        <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_function" href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">set_to_null</a>();</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>                        <span class="comment">// Secure the flag before wake_up() clears the effect</span></div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>                        <span class="keywordtype">bool</span> slept_through = <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ac9e11d8127ad8d0ad1582cc53939301f">effect_slept_through_alarm</a> );</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>                        <a class="code hl_function" href="classCharacter.html#a0b32571db45faeab8561f33af6da1e28">wake_up</a>();</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>                        <span class="keywordflow">if</span>( slept_through ) {</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>                            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your internal chronometer finally wakes you up.&quot;</span> ) );</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>                            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your internal chronometer wakes you up.&quot;</span> ) );</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>                        }</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>                    }</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>                }</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>                <span class="keywordflow">if</span>( asleep &amp;&amp; dur == 1_turns ) {</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>                    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ac9e11d8127ad8d0ad1582cc53939301f">effect_slept_through_alarm</a> ) ) {</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>                        <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ac9e11d8127ad8d0ad1582cc53939301f">effect_slept_through_alarm</a>, 1_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>                    }</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>                    <span class="comment">// 10 minute automatic snooze</span></div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>                    it.<a class="code hl_function" href="classeffect.html#a118dd88810785bfbb8243af97a37d2ab">mod_duration</a>( 10_minutes );</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( dur == 2_turns ) {</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>                    <span class="comment">// let the sound code handle the wake-up part</span></div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>                    <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 16, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::sound_t::alarm</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;beep-beep-beep!&quot;</span> ), <span class="keyword">false</span>, <span class="stringliteral">&quot;tool&quot;</span>,</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>                                   <span class="stringliteral">&quot;alarm_clock&quot;</span> );</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>                }</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>            }</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>            <span class="keywordflow">if</span>( dur == 1_turns ) {</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() &amp;&amp; <a class="code hl_function" href="classCharacter.html#a5d29ef022fdd5817059cc3b005ed8576">has_alarm_clock</a>() ) {</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>                    <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 16, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::sound_t::alarm</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;beep-beep-beep!&quot;</span> ), <span class="keyword">false</span>, <span class="stringliteral">&quot;tool&quot;</span>,</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>                                   <span class="stringliteral">&quot;alarm_clock&quot;</span> );</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>                    <span class="keyword">const</span> std::string <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">alarm</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your alarm is going off.&quot;</span> );</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;cancel_activity_or_ignore_query( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">distraction_type::noise</a>, alarm );</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>                    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your alarm went off.&quot;</span> ) );</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>                }</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>            }</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>        }</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ae239a31e1ebbbbacd06a8fcdd8be2861">effect_mending</a> ) {</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#ac2245aed6c7279986f42ef9208e816c0">is_limb_broken</a>( <a class="code hl_function" href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a>( bp ) ) ) {</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>            it.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( 0_turns );</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>        }</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ae7bd492c95d3e74cac9385a8d4f9f093">effect_disabled</a> ) {</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#ac2245aed6c7279986f42ef9208e816c0">is_limb_broken</a>( <a class="code hl_function" href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a>( bp ) ) ) {</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>            <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#ae7bd492c95d3e74cac9385a8d4f9f093">effect_disabled</a> );</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>        }</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == <a class="code hl_variable" href="player__hardcoded__effects_8cpp.html#a6d1536344fcfe182fe400b1766fd66df">effect_panacea</a> ) {</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>        <span class="comment">// restore health all body parts, dramatically reduce pain</span></div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>        <a class="code hl_function" href="classCharacter.html#ae7a558a2455f552673b825e3ad2e0fd4">healall</a>( 1 );</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>        <a class="code hl_function" href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">mod_pain</a>( -10 );</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>    }</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>}</div>
<div class="ttc" id="abodypart_8cpp_html_a6c9ef5f15f73c82d39d205d56a560672"><div class="ttname"><a href="bodypart_8cpp.html#a6c9ef5f15f73c82d39d205d56a560672">body_part_name</a></div><div class="ttdeci">std::string body_part_name(body_part bp, int number)</div><div class="ttdoc">Returns the matching name of the body_part token.</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00317">bodypart.cpp:317</a></div></div>
<div class="ttc" id="abodypart_8cpp_html_ae34a481a7c686b233f2d8c48e43b723a"><div class="ttname"><a href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a></div><div class="ttdeci">const bodypart_str_id &amp; convert_bp(body_part bp)</div><div class="ttdoc">Returns the new id for old token.</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00185">bodypart.cpp:185</a></div></div>
<div class="ttc" id="abodypart_8h_html_a089a199d69623f528a3883672f0a084e"><div class="ttname"><a href="bodypart_8h.html#a089a199d69623f528a3883672f0a084e">all_body_parts</a></div><div class="ttdeci">constexpr std::array&lt; body_part, 12 &gt; all_body_parts</div><div class="ttdoc">Contains all valid body_part values in the order they are defined in.</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00082">bodypart.h:82</a></div></div>
<div class="ttc" id="abodypart_8h_html_a426444e2d486ce1ee315d8b8acc86b40"><div class="ttname"><a href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a></div><div class="ttdeci">int_id&lt; body_part_type &gt; bodypart_id</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00023">bodypart.h:23</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a></div><div class="ttdeci">body_part</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00039">bodypart.h:39</a></div></div>
<div class="ttc" id="acharacter_8h_html_a2e6af65e94e820564fb484840378cf4aa2e01a05d962bd116bccfe3c311d0396e"><div class="ttname"><a href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa2e01a05d962bd116bccfe3c311d0396e">thirst_levels::turgid</a></div><div class="ttdeci">@ turgid</div></div>
<div class="ttc" id="acharacter_8h_html_aa7bb0ad73714bdf6b22d11b5b4e2633fad8eced3b06972df4d1dd7d835fc3edd3"><div class="ttname"><a href="character_8h.html#aa7bb0ad73714bdf6b22d11b5b4e2633fad8eced3b06972df4d1dd7d835fc3edd3">sleep_deprivation_levels::harmless</a></div><div class="ttdeci">@ harmless</div></div>
<div class="ttc" id="aclassCharacter_html_a00716e2ac25311496743b19eb9c598f1"><div class="ttname"><a href="classCharacter.html#a00716e2ac25311496743b19eb9c598f1">Character::mutate_category</a></div><div class="ttdeci">void mutate_category(const std::string &amp;mut_cat)</div><div class="ttdoc">Picks a random valid mutation in a category and mutate_towards() it.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l01044">mutation.cpp:1044</a></div></div>
<div class="ttc" id="aclassCharacter_html_a0923956a07957b673415d4a0a7b79014"><div class="ttname"><a href="classCharacter.html#a0923956a07957b673415d4a0a7b79014">Character::sound_hallu</a></div><div class="ttdeci">void sound_hallu()</div><div class="ttdoc">Creates an auditory hallucination.</div><div class="ttdef"><b>Definition:</b> <a href="suffer_8cpp_source.html#l01706">suffer.cpp:1706</a></div></div>
<div class="ttc" id="aclassCharacter_html_a0b32571db45faeab8561f33af6da1e28"><div class="ttname"><a href="classCharacter.html#a0b32571db45faeab8561f33af6da1e28">Character::wake_up</a></div><div class="ttdeci">void wake_up()</div><div class="ttdoc">Removes &quot;sleep&quot; and &quot;lying_down&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07654">character.cpp:7654</a></div></div>
<div class="ttc" id="aclassCharacter_html_a0d0cb32a95161137e0c61303f84b3753"><div class="ttname"><a href="classCharacter.html#a0d0cb32a95161137e0c61303f84b3753">Character::posz</a></div><div class="ttdeci">int posz() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00844">character.h:844</a></div></div>
<div class="ttc" id="aclassCharacter_html_a0fb6896d21fc20b5f30f2a0b8afd9b1d"><div class="ttname"><a href="classCharacter.html#a0fb6896d21fc20b5f30f2a0b8afd9b1d">Character::mod_per_bonus</a></div><div class="ttdeci">virtual void mod_per_bonus(int nper)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04168">character.cpp:4168</a></div></div>
<div class="ttc" id="aclassCharacter_html_a1f1ce1b5bdc4116046f13af5ef5236fc"><div class="ttname"><a href="classCharacter.html#a1f1ce1b5bdc4116046f13af5ef5236fc">Character::mod_dex_bonus</a></div><div class="ttdeci">virtual void mod_dex_bonus(int ndex)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04163">character.cpp:4163</a></div></div>
<div class="ttc" id="aclassCharacter_html_a219dfd606ef95e169114487e61ba0ad7"><div class="ttname"><a href="classCharacter.html#a219dfd606ef95e169114487e61ba0ad7">Character::mutate</a></div><div class="ttdeci">void mutate()</div><div class="ttdoc">Picks a random valid mutation and gives it to the Character, possibly removing/changing others along ...</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00845">mutation.cpp:845</a></div></div>
<div class="ttc" id="aclassCharacter_html_a431180ff2af878a9956bf474783017c0"><div class="ttname"><a href="classCharacter.html#a431180ff2af878a9956bf474783017c0">Character::mod_stored_kcal</a></div><div class="ttdeci">virtual void mod_stored_kcal(int nkcal)</div><div class="ttdoc">Modifiers for need values exclusive to characters.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04283">character.cpp:4283</a></div></div>
<div class="ttc" id="aclassCharacter_html_a464e960411f87bd3be76d5142dc255cb"><div class="ttname"><a href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">Character::posx</a></div><div class="ttdeci">int posx() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00838">character.h:838</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4886c07d74c7e8ad7ce2ced7d8238015"><div class="ttname"><a href="classCharacter.html#a4886c07d74c7e8ad7ce2ced7d8238015">Character::fall_asleep</a></div><div class="ttdeci">void fall_asleep()</div><div class="ttdoc">Adds &quot;sleep&quot; to the player.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09248">character.cpp:9248</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4b4d2e6bf4190c6470b282ce60183c0f"><div class="ttname"><a href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">Character::posy</a></div><div class="ttdeci">int posy() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00841">character.h:841</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4c9fb43c7fb93a18f5d1a785790faca4"><div class="ttname"><a href="classCharacter.html#a4c9fb43c7fb93a18f5d1a785790faca4">Character::get_healthy</a></div><div class="ttdeci">virtual int get_healthy() const</div><div class="ttdoc">Getters for health values exclusive to characters.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04125">character.cpp:4125</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5d29ef022fdd5817059cc3b005ed8576"><div class="ttname"><a href="classCharacter.html#a5d29ef022fdd5817059cc3b005ed8576">Character::has_alarm_clock</a></div><div class="ttdeci">bool has_alarm_clock() const</div><div class="ttdoc">Returns true if the player or their vehicle has an alarm clock.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00828">character.cpp:828</a></div></div>
<div class="ttc" id="aclassCharacter_html_a67a7e1b4bc1b191c747a27a1575ee1a6"><div class="ttname"><a href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">Character::mod_fatigue</a></div><div class="ttdeci">virtual void mod_fatigue(int nfatigue)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04414">character.cpp:4414</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6924ca4d6836c2a8c64bd6fda0436c70"><div class="ttname"><a href="classCharacter.html#a6924ca4d6836c2a8c64bd6fda0436c70">Character::add_miss_reason</a></div><div class="ttdeci">void add_miss_reason(const std::string &amp;reason, unsigned int weight)</div><div class="ttdoc">Adds a reason for why the player would miss a melee attack.</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l00318">melee.cpp:318</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6cb8078ce8af28f6a779c039e3c1e1ca"><div class="ttname"><a href="classCharacter.html#a6cb8078ce8af28f6a779c039e3c1e1ca">Character::mod_str_bonus</a></div><div class="ttdeci">virtual void mod_str_bonus(int nstr)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04158">character.cpp:4158</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7335f053c5874081211552623fa625c5"><div class="ttname"><a href="classCharacter.html#a7335f053c5874081211552623fa625c5">Character::get_stim</a></div><div class="ttdeci">int get_stim() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07142">character.cpp:7142</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7c11a4f12bee9f80279bff21faa54153"><div class="ttname"><a href="classCharacter.html#a7c11a4f12bee9f80279bff21faa54153">Character::apply_damage</a></div><div class="ttdeci">void apply_damage(Creature *source, bodypart_id hurt, int dam, bool bypass_med=false) override</div><div class="ttdoc">Actually hurt the player, hurts a body_part directly, no armor reduction.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08385">character.cpp:8385</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7ca6c670844c9fd8c419c474788a7bf7"><div class="ttname"><a href="classCharacter.html#a7ca6c670844c9fd8c419c474788a7bf7">Character::get_thirst</a></div><div class="ttdeci">int get_thirst() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04311">character.cpp:4311</a></div></div>
<div class="ttc" id="aclassCharacter_html_a824a60fef8920f38a6f1e1b35bea4879"><div class="ttname"><a href="classCharacter.html#a824a60fef8920f38a6f1e1b35bea4879">Character::get_stored_kcal</a></div><div class="ttdeci">int get_stored_kcal() const</div><div class="ttdoc">Getter for need values exclusive to characters.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04278">character.cpp:4278</a></div></div>
<div class="ttc" id="aclassCharacter_html_a8c4e364e25b0ea4d5a27c3120a9f973f"><div class="ttname"><a href="classCharacter.html#a8c4e364e25b0ea4d5a27c3120a9f973f">Character::mod_healthy_mod</a></div><div class="ttdeci">virtual void mod_healthy_mod(int nhealthy_mod, int cap)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04242">character.cpp:4242</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9ce2644a98b526b5e453b043f5fa49bc"><div class="ttname"><a href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">Character::mod_thirst</a></div><div class="ttdeci">virtual void mod_thirst(int nthirst)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04398">character.cpp:4398</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab16d86fdaf75c28043679273a8c74843"><div class="ttname"><a href="classCharacter.html#ab16d86fdaf75c28043679273a8c74843">Character::get_highest_category</a></div><div class="ttdeci">std::string get_highest_category() const</div><div class="ttdoc">Returns the highest mutation category.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07949">character.cpp:7949</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab2db9a91b7251e1ca4c1735c9cc2bf52"><div class="ttname"><a href="classCharacter.html#ab2db9a91b7251e1ca4c1735c9cc2bf52">Character::get_sleep_deprivation</a></div><div class="ttdeci">int get_sleep_deprivation() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04444">character.cpp:4444</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab61b11b2213f90f55aa5b5bc0f682276"><div class="ttname"><a href="classCharacter.html#ab61b11b2213f90f55aa5b5bc0f682276">Character::spores</a></div><div class="ttdeci">void spores()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08754">character.cpp:8754</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab8947df053065c19ec265278dcb8ed6c"><div class="ttname"><a href="classCharacter.html#ab8947df053065c19ec265278dcb8ed6c">Character::temp_cur</a></div><div class="ttdeci">std::array&lt; int, num_bp &gt; temp_cur</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02271">character.h:2271</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac2245aed6c7279986f42ef9208e816c0"><div class="ttname"><a href="classCharacter.html#ac2245aed6c7279986f42ef9208e816c0">Character::is_limb_broken</a></div><div class="ttdeci">bool is_limb_broken(const bodypart_id &amp;limb) const</div><div class="ttdoc">Returns true if the limb is broken.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01317">character.cpp:1317</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac362a4ed1eb0794de41ee0b5df98724d"><div class="ttname"><a href="classCharacter.html#ac362a4ed1eb0794de41ee0b5df98724d">Character::mod_stored_nutr</a></div><div class="ttdeci">virtual void mod_stored_nutr(int nnutr)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04288">character.cpp:4288</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac840406f65172cadd93d4274ddd78e15"><div class="ttname"><a href="classCharacter.html#ac840406f65172cadd93d4274ddd78e15">Character::mod_stim</a></div><div class="ttdeci">void mod_stim(int mod)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07152">character.cpp:7152</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad30aa5db93626016bfc8ac32f848f82d"><div class="ttname"><a href="classCharacter.html#ad30aa5db93626016bfc8ac32f848f82d">Character::hurtall</a></div><div class="ttdeci">void hurtall(int dam, Creature *source, bool disturb=true)</div><div class="ttdoc">Hurts all body parts for dam, no armor reduction.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08635">character.cpp:8635</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae7a558a2455f552673b825e3ad2e0fd4"><div class="ttname"><a href="classCharacter.html#ae7a558a2455f552673b825e3ad2e0fd4">Character::healall</a></div><div class="ttdeci">void healall(int dam)</div><div class="ttdoc">Heals all body parts for dam.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08627">character.cpp:8627</a></div></div>
<div class="ttc" id="aclassCharacter_html_af1a5539eaced527b8c2b1dc36527dbec"><div class="ttname"><a href="classCharacter.html#af1a5539eaced527b8c2b1dc36527dbec">Character::mutation_category_level</a></div><div class="ttdeci">std::map&lt; std::string, int &gt; mutation_category_level</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01785">character.h:1785</a></div></div>
<div class="ttc" id="aclassCharacter_html_af6603125d7342944862004a14de55a8a"><div class="ttname"><a href="classCharacter.html#af6603125d7342944862004a14de55a8a">Character::mod_int_bonus</a></div><div class="ttdeci">virtual void mod_int_bonus(int nint)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04173">character.cpp:4173</a></div></div>
<div class="ttc" id="aclassCreature_html"><div class="ttname"><a href="classCreature.html">Creature</a></div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00077">creature.h:78</a></div></div>
<div class="ttc" id="aclassCreature_html_a226d6b1000b12edac3e5adecae7b8928"><div class="ttname"><a href="classCreature.html#a226d6b1000b12edac3e5adecae7b8928">Creature::set_part_hp_cur</a></div><div class="ttdeci">void set_part_hp_cur(const bodypart_id &amp;id, int set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01569">creature.cpp:1569</a></div></div>
<div class="ttc" id="aclassCreature_html_a26b7c431f85f0b99b888db69318ebdc5"><div class="ttname"><a href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">Creature::disp_name</a></div><div class="ttdeci">virtual std::string disp_name(bool possessive=false, bool capitalize_first=false) const =0</div></div>
<div class="ttc" id="aclassCreature_html_a5e5459c1b7ff6fee815a1f15643a972c"><div class="ttname"><a href="classCreature.html#a5e5459c1b7ff6fee815a1f15643a972c">Creature::get_num_blocks_bonus</a></div><div class="ttdeci">virtual int get_num_blocks_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01442">creature.cpp:1442</a></div></div>
<div class="ttc" id="aclassCreature_html_a730fb8be5a540edd31ed9d8126ea20de"><div class="ttname"><a href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">Creature::remove_effect</a></div><div class="ttdeci">bool remove_effect(const efftype_id &amp;eff_id, body_part bp=num_bp)</div><div class="ttdoc">Removes a listed effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01130">creature.cpp:1130</a></div></div>
<div class="ttc" id="aclassCreature_html_aaed992e8acaf0e9dc182ea8ce1d15423"><div class="ttname"><a href="classCreature.html#aaed992e8acaf0e9dc182ea8ce1d15423">Creature::set_num_blocks_bonus</a></div><div class="ttdeci">virtual void set_num_blocks_bonus(int nblocks)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01708">creature.cpp:1708</a></div></div>
<div class="ttc" id="aclassCreature_html_ac209d32cbfd3774af3d5c0500e2fae52"><div class="ttname"><a href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">Creature::is_avatar</a></div><div class="ttdeci">virtual bool is_avatar() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00095">creature.h:95</a></div></div>
<div class="ttc" id="aclassCreature_html_af826bfbdc9d7f81a8b9e53775f43d080"><div class="ttname"><a href="classCreature.html#af826bfbdc9d7f81a8b9e53775f43d080">Creature::set_moves</a></div><div class="ttdeci">void set_moves(int nmoves)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01406">creature.cpp:1406</a></div></div>
<div class="ttc" id="aclassMonsterGroupManager_html_ad16591c9153584950a7446d1678c08df"><div class="ttname"><a href="classMonsterGroupManager.html#ad16591c9153584950a7446d1678c08df">MonsterGroupManager::GetResultFromGroup</a></div><div class="ttdeci">static MonsterGroupResult GetResultFromGroup(const mongroup_id &amp;group, int *quantity=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="mongroup_8cpp_source.html#l00098">mongroup.cpp:98</a></div></div>
<div class="ttc" id="aclasseffect_html_a118dd88810785bfbb8243af97a37d2ab"><div class="ttname"><a href="classeffect.html#a118dd88810785bfbb8243af97a37d2ab">effect::mod_duration</a></div><div class="ttdeci">void mod_duration(const time_duration &amp;dur, bool alert=false)</div><div class="ttdoc">Mods the duration, capping at max_duration if it exists.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00821">effect.cpp:821</a></div></div>
<div class="ttc" id="aclasseffect_html_a34c766f51dc0f89ebdab09c344bb506b"><div class="ttname"><a href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">effect::get_duration</a></div><div class="ttdeci">time_duration get_duration() const</div><div class="ttdoc">Returns the remaining duration of an effect.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00797">effect.cpp:797</a></div></div>
<div class="ttc" id="aclasseffect_html_a40265c904a684396b45a347239e38782"><div class="ttname"><a href="classeffect.html#a40265c904a684396b45a347239e38782">effect::set_duration</a></div><div class="ttdeci">void set_duration(const time_duration &amp;dur, bool alert=false)</div><div class="ttdoc">Sets the duration, capping at max_duration if it exists.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00805">effect.cpp:805</a></div></div>
<div class="ttc" id="aclasseffect_html_a61bbbb369769b0896b641169a066ac8f"><div class="ttname"><a href="classeffect.html#a61bbbb369769b0896b641169a066ac8f">effect::mult_duration</a></div><div class="ttdeci">void mult_duration(double dur, bool alert=false)</div><div class="ttdoc">Multiplies the duration, capping at max_duration if it exists.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00825">effect.cpp:825</a></div></div>
<div class="ttc" id="aclasseffect_html_a64af3902e1495976589ba64ac4c82022"><div class="ttname"><a href="classeffect.html#a64af3902e1495976589ba64ac4c82022">effect::get_id</a></div><div class="ttdeci">const efftype_id &amp; get_id() const</div><div class="ttdoc">Returns the effect's matching effect_type id.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00305">effect.h:305</a></div></div>
<div class="ttc" id="aclasseffect_html_a68192c5a91cf7ad4618263ba3de8b802"><div class="ttname"><a href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">effect::get_intensity</a></div><div class="ttdeci">int get_intensity() const</div><div class="ttdoc">Returns the intensity of an effect.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00849">effect.cpp:849</a></div></div>
<div class="ttc" id="aclasseffect_html_ab4bef16d15bbb8c8cd36d8a0432fbbb8"><div class="ttname"><a href="classeffect.html#ab4bef16d15bbb8c8cd36d8a0432fbbb8">effect::get_bp</a></div><div class="ttdeci">const bodypart_str_id &amp; get_bp() const</div><div class="ttdoc">Returns the targeted body_part of the effect.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00835">effect.cpp:835</a></div></div>
<div class="ttc" id="aclassitem_html_a5363173deb1ded8fd5bfd82cf6246018"><div class="ttname"><a href="classitem.html#a5363173deb1ded8fd5bfd82cf6246018">item::has_effect_when_carried</a></div><div class="ttdeci">bool has_effect_when_carried(art_effect_passive effect) const</div><div class="ttdoc">Does the item provide the artifact effect when it is carried?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09584">item.cpp:9584</a></div></div>
<div class="ttc" id="aclassitem_html_a5a6bd0cdb74c37a3405b1295146bc5c8"><div class="ttname"><a href="classitem.html#a5a6bd0cdb74c37a3405b1295146bc5c8">item::has_effect_when_wielded</a></div><div class="ttdeci">bool has_effect_when_wielded(art_effect_passive effect) const</div><div class="ttdoc">Does the item provide the artifact effect when it is wielded?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09566">item.cpp:9566</a></div></div>
<div class="ttc" id="aclassma__buff_html_ad7bbaede3e8d56ef0f3f39a89d2b55c3"><div class="ttname"><a href="classma__buff.html#ad7bbaede3e8d56ef0f3f39a89d2b55c3">ma_buff::from_effect</a></div><div class="ttdeci">static const ma_buff * from_effect(const effect &amp;eff)</div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8cpp_source.html#l00624">martialarts.cpp:624</a></div></div>
<div class="ttc" id="aclassmonster_html_a1d58ee8d254387dacfd4a497957e4afa"><div class="ttname"><a href="classmonster.html#a1d58ee8d254387dacfd4a497957e4afa">monster::get_grab_strength</a></div><div class="ttdeci">int get_grab_strength() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01982">monster.cpp:1982</a></div></div>
<div class="ttc" id="aclassplayer_html"><div class="ttname"><a href="classplayer.html">player</a></div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00098">player.h:99</a></div></div>
<div class="ttc" id="aclassplayer_html_a1304421e7a67d0046529f3bd9263ce42"><div class="ttname"><a href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">player::mod_pain</a></div><div class="ttdeci">void mod_pain(int npain) override</div><div class="ttdoc">Modifies a pain value by player traits before passing it to Creature::mod_pain()</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l01092">player.cpp:1092</a></div></div>
<div class="ttc" id="aclassplayer_html_a306d945c53613ef1f22050608572247d"><div class="ttname"><a href="classplayer.html#a306d945c53613ef1f22050608572247d">player::get_category_dream</a></div><div class="ttdeci">std::string get_category_dream(const std::string &amp;cat, int strength) const</div><div class="ttdoc">Returns a dream's description selected randomly from the player's highest mutation category.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00698">player.cpp:698</a></div></div>
<div class="ttc" id="aclassplayer_html_aafc274c41799c1d77e81e52ee9a723bb"><div class="ttname"><a href="classplayer.html#aafc274c41799c1d77e81e52ee9a723bb">player::vomit_mod</a></div><div class="ttdeci">double vomit_mod()</div><div class="ttdoc">Returns the modifier value used for vomiting effects.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l01685">player.cpp:1685</a></div></div>
<div class="ttc" id="aclassplayer_html_af79e5154c3c5c24b98701e93f30d24d8"><div class="ttname"><a href="classplayer.html#af79e5154c3c5c24b98701e93f30d24d8">player::can_sleep</a></div><div class="ttdeci">bool can_sleep()</div><div class="ttdoc">Checked each turn during &quot;lying_down&quot;, returns true if the player falls asleep.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03939">player.cpp:3939</a></div></div>
<div class="ttc" id="aenums_8h_html_a18cc141c508bf4f277abaf39fc9c3d96a2d21a8b46860540a026791074093e47d"><div class="ttname"><a href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96a2d21a8b46860540a026791074093e47d">distraction_type::hostile_spotted_far</a></div><div class="ttdeci">@ hostile_spotted_far</div></div>
<div class="ttc" id="aenums_8h_html_a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481"><div class="ttname"><a href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">distraction_type::noise</a></div><div class="ttdeci">@ noise</div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a></div><div class="ttdeci">@ m_warning</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00257">enums.h:257</a></div></div>
<div class="ttc" id="aenums_8h_html_abbe6432d5446acdbb3c80999ba5a4621a512b1de1acc7ed66628bc2a5f1a13e59"><div class="ttname"><a href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621a512b1de1acc7ed66628bc2a5f1a13e59">AEP_EVIL</a></div><div class="ttdeci">@ AEP_EVIL</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00127">enums.h:127</a></div></div>
<div class="ttc" id="aenums_8h_html_abbe6432d5446acdbb3c80999ba5a4621a7d6cb5340b1b356758ad74b2b941f7ba"><div class="ttname"><a href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621a7d6cb5340b1b356758ad74b2b941f7ba">AEP_SCHIZO</a></div><div class="ttdeci">@ AEP_SCHIZO</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00128">enums.h:128</a></div></div>
<div class="ttc" id="aevent_8h_html_a430b444c74dd3fd1472a31714ec5f1cea0296a4080f122ec833ba056b965ebd32"><div class="ttname"><a href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea0296a4080f122ec833ba056b965ebd32">event_type::dies_of_infection</a></div><div class="ttdeci">@ dies_of_infection</div></div>
<div class="ttc" id="aevent_8h_html_a430b444c74dd3fd1472a31714ec5f1cea0656734d6a53b3af8996f7ef89f7af00"><div class="ttname"><a href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea0656734d6a53b3af8996f7ef89f7af00">event_type::dies_from_asthma_attack</a></div><div class="ttdeci">@ dies_from_asthma_attack</div></div>
<div class="ttc" id="aevent_8h_html_a430b444c74dd3fd1472a31714ec5f1cea161913e9a4a25ead0b940284e5acbcc3"><div class="ttname"><a href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea161913e9a4a25ead0b940284e5acbcc3">event_type::dermatik_eggs_hatch</a></div><div class="ttdeci">@ dermatik_eggs_hatch</div></div>
<div class="ttc" id="aevent_8h_html_a430b444c74dd3fd1472a31714ec5f1cea1a30eda4e4958583de1a74ed1a215d4f"><div class="ttname"><a href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea1a30eda4e4958583de1a74ed1a215d4f">event_type::dies_from_drug_overdose</a></div><div class="ttdeci">@ dies_from_drug_overdose</div></div>
<div class="ttc" id="aevent_8h_html_a430b444c74dd3fd1472a31714ec5f1ceae04270cf67921945df7d026bfe61efeb"><div class="ttname"><a href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1ceae04270cf67921945df7d026bfe61efeb">event_type::teleglow_teleports</a></div><div class="ttdeci">@ teleglow_teleports</div></div>
<div class="ttc" id="afield__type_8cpp_html_add34ceb641349b4b54b06aa46e16f7eb"><div class="ttname"><a href="field__type_8cpp.html#add34ceb641349b4b54b06aa46e16f7eb">fd_tindalos_rift</a></div><div class="ttdeci">field_type_id fd_tindalos_rift</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00386">field_type.cpp:387</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_ac077db92eed9ae1922ed71715ba8118a"><div class="ttname"><a href="mapdata_8cpp.html#ac077db92eed9ae1922ed71715ba8118a">f_rubble_rock</a></div><div class="ttdeci">furn_id f_rubble_rock</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l01097">mapdata.cpp:1097</a></div></div>
<div class="ttc" id="anamespacecalendar_html_a356df28513f4d655ae35c312ab6e7d55"><div class="ttname"><a href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a></div><div class="ttdeci">bool once_every(const time_duration &amp;event_frequency)</div><div class="ttdoc">Predicate to handle rate-limiting.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00490">calendar.cpp:490</a></div></div>
<div class="ttc" id="anamespacesounds_html_a6bb79ae1c9c3dcd8c8e0b28c66b0398d"><div class="ttname"><a href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a></div><div class="ttdeci">void sound(const tripoint &amp;p, int vol, sound_t category, const std::string &amp;description, bool ambient=false, const std::string &amp;id=&quot;&quot;, const std::string &amp;variant=&quot;default&quot;)</div><div class="ttdoc">Sound at (p) of intensity (vol)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l00177">sounds.cpp:177</a></div></div>
<div class="ttc" id="anamespacesounds_html_af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170"><div class="ttname"><a href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::sound_t::alarm</a></div><div class="ttdeci">@ alarm</div></div>
<div class="ttc" id="anamespaceteleport_html_a24cbf298b41e9fc23770c73d32e33a47"><div class="ttname"><a href="namespaceteleport.html#a24cbf298b41e9fc23770c73d32e33a47">teleport::teleport</a></div><div class="ttdeci">bool teleport(Creature &amp;critter, int min_distance=2, int max_distance=12, bool safe=false, bool add_teleglow=true)</div><div class="ttdoc">Teleports a creature to a tile within min_distance and max_distance tiles.</div><div class="ttdef"><b>Definition:</b> <a href="teleport_8cpp_source.html#l00024">teleport.cpp:24</a></div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a039c3379527621f928cbc2e62686108c"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a039c3379527621f928cbc2e62686108c">trait_M_SKIN3</a></div><div class="ttdeci">static const trait_id trait_M_SKIN3(&quot;M_SKIN3&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a074b87b8d18347675f51ed9e6d7e8787"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">effect_bloodworms</a></div><div class="ttdeci">static const efftype_id effect_bloodworms(&quot;bloodworms&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a08481f62adb6937636ea44b855311037"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a></div><div class="ttdeci">static const efftype_id effect_downed(&quot;downed&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a08ed8f8240259a6a457502b0db459e08"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a></div><div class="ttdeci">static const efftype_id effect_fungus(&quot;fungus&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a09e952ef4d27618e2f60ec737a8d1bae"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a></div><div class="ttdeci">static const efftype_id effect_blind(&quot;blind&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a0a3de1e6679128988d176115710ddd03"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a0a3de1e6679128988d176115710ddd03">effect_datura</a></div><div class="ttdeci">static const efftype_id effect_datura(&quot;datura&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a0c073c8608c88bb092d72f27944a7df1"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a0c073c8608c88bb092d72f27944a7df1">effect_teleglow</a></div><div class="ttdeci">static const efftype_id effect_teleglow(&quot;teleglow&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a13af1ce0f1c5467c2718b3d683c13c28"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a13af1ce0f1c5467c2718b3d683c13c28">effect_dermatik</a></div><div class="ttdeci">static const efftype_id effect_dermatik(&quot;dermatik&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a151e6b162a8a2cdbdb11c407013076eb"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a151e6b162a8a2cdbdb11c407013076eb">effect_bleed</a></div><div class="ttdeci">static const efftype_id effect_bleed(&quot;bleed&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a1a6476e8888f0929f469fd9af2d629bc"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">effect_narcosis</a></div><div class="ttdeci">static const efftype_id effect_narcosis(&quot;narcosis&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a1b24df80fb6fce16dd4527cc4a6fa6ca"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a1b24df80fb6fce16dd4527cc4a6fa6ca">effect_adrenaline</a></div><div class="ttdeci">static const efftype_id effect_adrenaline(&quot;adrenaline&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a1de43fa1f6d16ce87ab7a3a49e47c463"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a1de43fa1f6d16ce87ab7a3a49e47c463">effect_infected</a></div><div class="ttdeci">static const efftype_id effect_infected(&quot;infected&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a1e2a085a78738d789a7447af81ed3deb"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a1e2a085a78738d789a7447af81ed3deb">effect_cold</a></div><div class="ttdeci">static const efftype_id effect_cold(&quot;cold&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a224033af2e0bc90d812b116312d34365"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a224033af2e0bc90d812b116312d34365">effect_attention</a></div><div class="ttdeci">static const efftype_id effect_attention(&quot;attention&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a24886ecb2b3812c98899a8ceaf5d29fa"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a24886ecb2b3812c98899a8ceaf5d29fa">effect_recover</a></div><div class="ttdeci">static const efftype_id effect_recover(&quot;recover&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a2dde49329eef942ec57d25db274942c0"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a2dde49329eef942ec57d25db274942c0">effect_asthma</a></div><div class="ttdeci">static const efftype_id effect_asthma(&quot;asthma&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a2ebc0d3c09d8f2896a466db2794c2845"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a2ebc0d3c09d8f2896a466db2794c2845">effect_antibiotic</a></div><div class="ttdeci">static const efftype_id effect_antibiotic(&quot;antibiotic&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a308d750c2cc01d70d7622fdee14be3a5"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a308d750c2cc01d70d7622fdee14be3a5">trait_M_IMMUNE</a></div><div class="ttdeci">static const trait_id trait_M_IMMUNE(&quot;M_IMMUNE&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a3216260151f9b13e63846ac6bdccd6fe"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a3216260151f9b13e63846ac6bdccd6fe">eff_fun_bloated</a></div><div class="ttdeci">static void eff_fun_bloated(player &amp;u, effect &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="player__hardcoded__effects_8cpp_source.html#l00423">player_hardcoded_effects.cpp:423</a></div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a33d14d146dbc0f416314bdb87d8fca77"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a></div><div class="ttdeci">static const efftype_id effect_hallu(&quot;hallu&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a354b49d09eec0c4e47b9b2528e816f0d"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a354b49d09eec0c4e47b9b2528e816f0d">eff_fun_cold</a></div><div class="ttdeci">static void eff_fun_cold(player &amp;u, effect &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="player__hardcoded__effects_8cpp_source.html#l00329">player_hardcoded_effects.cpp:329</a></div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a39b21fc30fecd7d4fb15047600d03522"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a39b21fc30fecd7d4fb15047600d03522">effect_bite</a></div><div class="ttdeci">static const efftype_id effect_bite(&quot;bite&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a3e46d556bbb636159b56d90f02a2173a"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a3e46d556bbb636159b56d90f02a2173a">mon_dermatik_larva</a></div><div class="ttdeci">static const mtype_id mon_dermatik_larva(&quot;mon_dermatik_larva&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a40331e22a139e13b3b70f387c9fdd390"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a40331e22a139e13b3b70f387c9fdd390">trait_THRESH_MYCUS</a></div><div class="ttdeci">static const trait_id trait_THRESH_MYCUS(&quot;THRESH_MYCUS&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a41e08c32ee980d1dd390b1d031c16696"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a></div><div class="ttdeci">static const efftype_id effect_tapeworm(&quot;tapeworm&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a468a4ea99d05230e46c7e014a68270a7"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">effect_boomered</a></div><div class="ttdeci">static const efftype_id effect_boomered(&quot;boomered&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a490ad03dab9bfa0cac3c742ec6b92fa0"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a490ad03dab9bfa0cac3c742ec6b92fa0">trait_HIBERNATE</a></div><div class="ttdeci">static const trait_id trait_HIBERNATE(&quot;HIBERNATE&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a4a2880229756defe74bae39acf62f608"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a4a2880229756defe74bae39acf62f608">trait_SEESLEEP</a></div><div class="ttdeci">static const trait_id trait_SEESLEEP(&quot;SEESLEEP&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a4c80f98459b07d9175c344914b1525dd"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a4c80f98459b07d9175c344914b1525dd">effect_hot</a></div><div class="ttdeci">static const efftype_id effect_hot(&quot;hot&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a4e23e64852e8ca64da0132c32c40ea70"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a4e23e64852e8ca64da0132c32c40ea70">GROUP_NETHER</a></div><div class="ttdeci">static const mongroup_id GROUP_NETHER(&quot;GROUP_NETHER&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a51109d0568cb0325aea66afb119f0b3c"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a51109d0568cb0325aea66afb119f0b3c">eff_fun_hot</a></div><div class="ttdeci">static void eff_fun_hot(player &amp;u, effect &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="player__hardcoded__effects_8cpp_source.html#l00363">player_hardcoded_effects.cpp:363</a></div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a51ed83146b1876017eac2443e7a7d502"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a51ed83146b1876017eac2443e7a7d502">eff_fun_bleed</a></div><div class="ttdeci">static void eff_fun_bleed(player &amp;u, effect &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="player__hardcoded__effects_8cpp_source.html#l00201">player_hardcoded_effects.cpp:201</a></div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a5700afe28dcf80d2e04f44172a1eebd7"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a5700afe28dcf80d2e04f44172a1eebd7">effect_spores</a></div><div class="ttdeci">static const efftype_id effect_spores(&quot;spores&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a5b71bd47668c89065c1db3c86a86544c"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a5b71bd47668c89065c1db3c86a86544c">effect_evil</a></div><div class="ttdeci">static const efftype_id effect_evil(&quot;evil&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a638e7eb4b8c8bdd2727763a767bd5617"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a638e7eb4b8c8bdd2727763a767bd5617">trait_INFRESIST</a></div><div class="ttdeci">static const trait_id trait_INFRESIST(&quot;INFRESIST&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a66f79823ab25161f7aabf43445a580a4"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a66f79823ab25161f7aabf43445a580a4">effect_grabbing</a></div><div class="ttdeci">static const efftype_id effect_grabbing(&quot;grabbing&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a66fbdfe284eb410fdbece4a3be98bf55"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a66fbdfe284eb410fdbece4a3be98bf55">effect_weak_antibiotic</a></div><div class="ttdeci">static const efftype_id effect_weak_antibiotic(&quot;weak_antibiotic&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a69fc27a91271f2306c14373cefb578cd"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a69fc27a91271f2306c14373cefb578cd">eff_fun_fungus</a></div><div class="ttdeci">static void eff_fun_fungus(player &amp;u, effect &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="player__hardcoded__effects_8cpp_source.html#l00125">player_hardcoded_effects.cpp:125</a></div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a6d1536344fcfe182fe400b1766fd66df"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a6d1536344fcfe182fe400b1766fd66df">effect_panacea</a></div><div class="ttdeci">static const efftype_id effect_panacea(&quot;panacea&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a6e356b8c88f37fd089a667b39f6b4419"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a6e356b8c88f37fd089a667b39f6b4419">effect_visuals</a></div><div class="ttdeci">static const efftype_id effect_visuals(&quot;visuals&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a7e6207cbe6219ea08678b95ff227fa69"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a7e6207cbe6219ea08678b95ff227fa69">eff_fun_toxin_buildup</a></div><div class="ttdeci">static void eff_fun_toxin_buildup(player &amp;u, effect &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="player__hardcoded__effects_8cpp_source.html#l00430">player_hardcoded_effects.cpp:430</a></div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a8e07d6cb486cef03d3d0fc1f9ad26b2c"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a8e07d6cb486cef03d3d0fc1f9ad26b2c">eff_fun_spores</a></div><div class="ttdeci">static void eff_fun_spores(player &amp;u, effect &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="player__hardcoded__effects_8cpp_source.html#l00116">player_hardcoded_effects.cpp:116</a></div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a8fdfd8aeeaba5dd102621ecefb5d95d8"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a8fdfd8aeeaba5dd102621ecefb5d95d8">bio_watch</a></div><div class="ttdeci">static const bionic_id bio_watch(&quot;bio_watch&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a914db3df05fd548e81adc85699eaaf05"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a914db3df05fd548e81adc85699eaaf05">effect_paincysts</a></div><div class="ttdeci">static const efftype_id effect_paincysts(&quot;paincysts&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_a9e9db9f4100dc938c952bcf14c96be0e"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#a9e9db9f4100dc938c952bcf14c96be0e">effect_toxin_buildup</a></div><div class="ttdeci">static const efftype_id effect_toxin_buildup(&quot;toxin_buildup&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_ab16f8be4be2050986e76d2cb0cff7609"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a></div><div class="ttdeci">static const efftype_id effect_sleep(&quot;sleep&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_ab20d39f7408673b6c72e08685e5dea15"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#ab20d39f7408673b6c72e08685e5dea15">effect_bloated</a></div><div class="ttdeci">static const efftype_id effect_bloated(&quot;bloated&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_ab46439c675f9cfd3468fd104444ed441"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#ab46439c675f9cfd3468fd104444ed441">eff_fun_mutating</a></div><div class="ttdeci">static void eff_fun_mutating(player &amp;u, effect &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="player__hardcoded__effects_8cpp_source.html#l00438">player_hardcoded_effects.cpp:438</a></div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_ab5d38652b4b5ac4a2a4810d0d8c3ded1"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#ab5d38652b4b5ac4a2a4810d0d8c3ded1">effect_strong_antibiotic</a></div><div class="ttdeci">static const efftype_id effect_strong_antibiotic(&quot;strong_antibiotic&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_aba25188f1c6479109ff8fb4004f03ebb"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#aba25188f1c6479109ff8fb4004f03ebb">trait_CHLOROMORPH</a></div><div class="ttdeci">static const trait_id trait_CHLOROMORPH(&quot;CHLOROMORPH&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_abf29a0f9f2b03dbf9baa8dd6af688d41"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#abf29a0f9f2b03dbf9baa8dd6af688d41">trait_WATERSLEEP</a></div><div class="ttdeci">static const trait_id trait_WATERSLEEP(&quot;WATERSLEEP&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_ac2aa877afbc90f2a8dccb91704af5973"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#ac2aa877afbc90f2a8dccb91704af5973">effect_rat</a></div><div class="ttdeci">static const efftype_id effect_rat(&quot;rat&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_ac47fcf26c541cc0aa68931d4ebab38a5"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#ac47fcf26c541cc0aa68931d4ebab38a5">eff_fun_frostbite</a></div><div class="ttdeci">static void eff_fun_frostbite(player &amp;u, effect &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="player__hardcoded__effects_8cpp_source.html#l00403">player_hardcoded_effects.cpp:403</a></div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_ac7e376844f624428c5e5fc4da2e44101"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#ac7e376844f624428c5e5fc4da2e44101">eff_fun_onfire</a></div><div class="ttdeci">static void eff_fun_onfire(player &amp;u, effect &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="player__hardcoded__effects_8cpp_source.html#l00110">player_hardcoded_effects.cpp:110</a></div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_ac95fd54d69ea350ea463a719fa7f3550"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#ac95fd54d69ea350ea463a719fa7f3550">effect_lying_down</a></div><div class="ttdeci">static const efftype_id effect_lying_down(&quot;lying_down&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_ac9e11d8127ad8d0ad1582cc53939301f"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#ac9e11d8127ad8d0ad1582cc53939301f">effect_slept_through_alarm</a></div><div class="ttdeci">static const efftype_id effect_slept_through_alarm(&quot;slept_through_alarm&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_acb0e98db046f89b19492172216e6cb5a"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#acb0e98db046f89b19492172216e6cb5a">eff_fun_rat</a></div><div class="ttdeci">static void eff_fun_rat(player &amp;u, effect &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="player__hardcoded__effects_8cpp_source.html#l00179">player_hardcoded_effects.cpp:179</a></div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_acb4dcd18ad3748e50f9585c9b575be5e"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#acb4dcd18ad3748e50f9585c9b575be5e">effect_mutating</a></div><div class="ttdeci">static const efftype_id effect_mutating(&quot;mutating&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_acf409ab736a978a27fd03d8e155eeee5"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#acf409ab736a978a27fd03d8e155eeee5">effect_shakes</a></div><div class="ttdeci">static const efftype_id effect_shakes(&quot;shakes&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_acfad4e8017ecde8182c83fee1ad037cd"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#acfad4e8017ecde8182c83fee1ad037cd">effect_valium</a></div><div class="ttdeci">static const efftype_id effect_valium(&quot;valium&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_ad53da4ff53d73ac4976c4e5cc5ffa2d6"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#ad53da4ff53d73ac4976c4e5cc5ffa2d6">eff_fun_hallu</a></div><div class="ttdeci">static void eff_fun_hallu(player &amp;u, effect &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="player__hardcoded__effects_8cpp_source.html#l00217">player_hardcoded_effects.cpp:217</a></div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_ada6166c57df3b5758b910c90079ffd56"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#ada6166c57df3b5758b910c90079ffd56">effect_formication</a></div><div class="ttdeci">static const efftype_id effect_formication(&quot;formication&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_ae0da5d32e6a302ede12162f7bc71401a"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#ae0da5d32e6a302ede12162f7bc71401a">trait_HEAVYSLEEPER2</a></div><div class="ttdeci">static const trait_id trait_HEAVYSLEEPER2(&quot;HEAVYSLEEPER2&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_ae239a31e1ebbbbacd06a8fcdd8be2861"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#ae239a31e1ebbbbacd06a8fcdd8be2861">effect_mending</a></div><div class="ttdeci">static const efftype_id effect_mending(&quot;mending&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_ae326c5e4da7f23bc429d04d215dd7c9d"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#ae326c5e4da7f23bc429d04d215dd7c9d">effect_grabbed</a></div><div class="ttdeci">static const efftype_id effect_grabbed(&quot;grabbed&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_ae7bd492c95d3e74cac9385a8d4f9f093"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#ae7bd492c95d3e74cac9385a8d4f9f093">effect_disabled</a></div><div class="ttdeci">static const efftype_id effect_disabled(&quot;disabled&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_aed41c52190bc19cff7fa3c714d0be50f"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#aed41c52190bc19cff7fa3c714d0be50f">effect_alarm_clock</a></div><div class="ttdeci">static const efftype_id effect_alarm_clock(&quot;alarm_clock&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_af20cb84a6e8ccc0ed66c352edf29143b"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#af20cb84a6e8ccc0ed66c352edf29143b">trait_NOPAIN</a></div><div class="ttdeci">static const trait_id trait_NOPAIN(&quot;NOPAIN&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_af2d313b1132870a819487a4e4fd5e6c1"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#af2d313b1132870a819487a4e4fd5e6c1">trait_SCHIZOPHRENIC</a></div><div class="ttdeci">static const trait_id trait_SCHIZOPHRENIC(&quot;SCHIZOPHRENIC&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_af39c36bbd4b4d5ea9cc11bbaba43570f"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">effect_brainworms</a></div><div class="ttdeci">static const efftype_id effect_brainworms(&quot;brainworms&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_afcfa82c36c0dc2d76cd19d622c2b6ab4"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a></div><div class="ttdeci">static const efftype_id effect_onfire(&quot;onfire&quot;)</div></div>
<div class="ttc" id="aplayer__hardcoded__effects_8cpp_html_afd4a5a40423282c43d1715bf1cc99357"><div class="ttname"><a href="player__hardcoded__effects_8cpp.html#afd4a5a40423282c43d1715bf1cc99357">effect_frostbite</a></div><div class="ttdeci">static const efftype_id effect_frostbite(&quot;frostbite&quot;)</div></div>
<div class="ttc" id="arng_8cpp_html_a5a41a849701919ba64ad56f5a734c1ee"><div class="ttname"><a href="rng_8cpp.html#a5a41a849701919ba64ad56f5a734c1ee">one_turn_in</a></div><div class="ttdeci">bool one_turn_in(const time_duration &amp;duration)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00070">rng.cpp:70</a></div></div>
<div class="ttc" id="astructMonsterGroupResult_html"><div class="ttname"><a href="structMonsterGroupResult.html">MonsterGroupResult</a></div><div class="ttdef"><b>Definition:</b> <a href="mongroup_8h_source.html#l00052">mongroup.h:52</a></div></div>
<div class="ttc" id="astructMonsterGroupResult_html_a33c168a013a586d2418dd9e67f7c42a0"><div class="ttname"><a href="structMonsterGroupResult.html#a33c168a013a586d2418dd9e67f7c42a0">MonsterGroupResult::name</a></div><div class="ttdeci">mtype_id name</div><div class="ttdef"><b>Definition:</b> <a href="mongroup_8h_source.html#l00053">mongroup.h:53</a></div></div>
<div class="ttc" id="astructbody__part__type_html_a90beb41f3dca18cdbe06f8483336c899"><div class="ttname"><a href="structbody__part__type.html#a90beb41f3dca18cdbe06f8483336c899">body_part_type::token</a></div><div class="ttdeci">body_part token</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00106">bodypart.h:106</a></div></div>
<div class="ttc" id="aweather_8h_html_a353f46362b1fd4a5eb685d5f7b271079"><div class="ttname"><a href="weather_8h.html#a353f46362b1fd4a5eb685d5f7b271079">BODYTEMP_SCORCHING</a></div><div class="ttdeci">static constexpr int BODYTEMP_SCORCHING</div><div class="ttdef"><b>Definition:</b> <a href="weather_8h_source.html#l00042">weather.h:42</a></div></div>
<div class="ttc" id="aweather_8h_html_a8220ffde7e07de66ab06bdeba262a2c3"><div class="ttname"><a href="weather_8h.html#a8220ffde7e07de66ab06bdeba262a2c3">BODYTEMP_VERY_HOT</a></div><div class="ttdeci">static constexpr int BODYTEMP_VERY_HOT</div><div class="ttdoc">Level 3 hotness.</div><div class="ttdef"><b>Definition:</b> <a href="weather_8h_source.html#l00040">weather.h:40</a></div></div>
<div class="ttc" id="aweather_8h_html_abc0f7c1c415de7c72454c26da7bde58b"><div class="ttname"><a href="weather_8h.html#abc0f7c1c415de7c72454c26da7bde58b">BODYTEMP_VERY_COLD</a></div><div class="ttdeci">static constexpr int BODYTEMP_VERY_COLD</div><div class="ttdoc">Frostbite timer will not improve while below this point.</div><div class="ttdef"><b>Definition:</b> <a href="weather_8h_source.html#l00032">weather.h:32</a></div></div>
<div class="ttc" id="aweather_8h_html_ade282ea97a562653d35c9e7221dce4e6"><div class="ttname"><a href="weather_8h.html#ade282ea97a562653d35c9e7221dce4e6">BODYTEMP_FREEZING</a></div><div class="ttdeci">static constexpr int BODYTEMP_FREEZING</div><div class="ttdoc">This value means frostbite occurs at the warmest temperature of 1C. If changed, the temp_conv calcula...</div><div class="ttdef"><b>Definition:</b> <a href="weather_8h_source.html#l00030">weather.h:30</a></div></div>
<div class="ttc" id="aweather__type_8h_html_a951701bd5446ac796b3a62dadcdb61f1a2ac43aa43bf473f9a9c09b4b608619d3"><div class="ttname"><a href="weather__type_8h.html#a951701bd5446ac796b3a62dadcdb61f1a2ac43aa43bf473f9a9c09b4b608619d3">sun_intensity_type::light</a></div><div class="ttdeci">@ light</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="melee_8cpp_source.html#l00318">Character::add_miss_reason()</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l04373">add_msg_player_or_npc()</a>, <a class="el" href="enums_8h_source.html#l00127">AEP_EVIL</a>, <a class="el" href="enums_8h_source.html#l00128">AEP_SCHIZO</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::alarm</a>, <a class="el" href="bodypart_8h_source.html#l00082">all_body_parts</a>, <a class="el" href="character_8cpp_source.html#l08385">Character::apply_damage()</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a8fdfd8aeeaba5dd102621ecefb5d95d8">bio_watch</a>, <a class="el" href="bodypart_8cpp_source.html#l00317">body_part_name()</a>, <a class="el" href="bodypart_8cpp_source.html#l00329">body_part_name_accusative()</a>, <a class="el" href="weather_8h_source.html#l00030">BODYTEMP_FREEZING</a>, <a class="el" href="weather_8h_source.html#l00042">BODYTEMP_SCORCHING</a>, <a class="el" href="weather_8h_source.html#l00032">BODYTEMP_VERY_COLD</a>, <a class="el" href="weather_8h_source.html#l00040">BODYTEMP_VERY_HOT</a>, <a class="el" href="bodypart_8h_source.html#l00040">bp_torso</a>, <a class="el" href="player_8cpp_source.html#l03939">can_sleep()</a>, <a class="el" href="bodypart_8cpp_source.html#l00185">convert_bp()</a>, <a class="el" href="fmtlib__core_8h_source.html#l01073">detail::count()</a>, <a class="el" href="character_8cpp_source.html#l08694">Character::crossed_threshold()</a>, <a class="el" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea161913e9a4a25ead0b940284e5acbcc3">dermatik_eggs_hatch</a>, <a class="el" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea0656734d6a53b3af8996f7ef89f7af00">dies_from_asthma_attack</a>, <a class="el" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea1a30eda4e4958583de1a74ed1a215d4f">dies_from_drug_overdose</a>, <a class="el" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea0296a4080f122ec833ba056b965ebd32">dies_of_infection</a>, <a class="el" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">Creature::disp_name()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00201">eff_fun_bleed()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00423">eff_fun_bloated()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00329">eff_fun_cold()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00403">eff_fun_frostbite()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00125">eff_fun_fungus()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00217">eff_fun_hallu()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00363">eff_fun_hot()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00438">eff_fun_mutating()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00110">eff_fun_onfire()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00179">eff_fun_rat()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00116">eff_fun_spores()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00430">eff_fun_toxin_buildup()</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a1b24df80fb6fce16dd4527cc4a6fa6ca">effect_adrenaline</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#aed41c52190bc19cff7fa3c714d0be50f">effect_alarm_clock</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a2ebc0d3c09d8f2896a466db2794c2845">effect_antibiotic</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a2dde49329eef942ec57d25db274942c0">effect_asthma</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a224033af2e0bc90d812b116312d34365">effect_attention</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a39b21fc30fecd7d4fb15047600d03522">effect_bite</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a151e6b162a8a2cdbdb11c407013076eb">effect_bleed</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#ab20d39f7408673b6c72e08685e5dea15">effect_bloated</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">effect_bloodworms</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">effect_boomered</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">effect_brainworms</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a1e2a085a78738d789a7447af81ed3deb">effect_cold</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a0a3de1e6679128988d176115710ddd03">effect_datura</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a13af1ce0f1c5467c2718b3d683c13c28">effect_dermatik</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#ae7bd492c95d3e74cac9385a8d4f9f093">effect_disabled</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a5b71bd47668c89065c1db3c86a86544c">effect_evil</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#ada6166c57df3b5758b910c90079ffd56">effect_formication</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#afd4a5a40423282c43d1715bf1cc99357">effect_frostbite</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#ae326c5e4da7f23bc429d04d215dd7c9d">effect_grabbed</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a66f79823ab25161f7aabf43445a580a4">effect_grabbing</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a4c80f98459b07d9175c344914b1525dd">effect_hot</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a1de43fa1f6d16ce87ab7a3a49e47c463">effect_infected</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#ac95fd54d69ea350ea463a719fa7f3550">effect_lying_down</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#ae239a31e1ebbbbacd06a8fcdd8be2861">effect_mending</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#acb4dcd18ad3748e50f9585c9b575be5e">effect_mutating</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">effect_narcosis</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a914db3df05fd548e81adc85699eaaf05">effect_paincysts</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a6d1536344fcfe182fe400b1766fd66df">effect_panacea</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#ac2aa877afbc90f2a8dccb91704af5973">effect_rat</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a24886ecb2b3812c98899a8ceaf5d29fa">effect_recover</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#acf409ab736a978a27fd03d8e155eeee5">effect_shakes</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#ac9e11d8127ad8d0ad1582cc53939301f">effect_slept_through_alarm</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a5700afe28dcf80d2e04f44172a1eebd7">effect_spores</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#ab5d38652b4b5ac4a2a4810d0d8c3ded1">effect_strong_antibiotic</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a0c073c8608c88bb092d72f27944a7df1">effect_teleglow</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a9e9db9f4100dc938c952bcf14c96be0e">effect_toxin_buildup</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#acfad4e8017ecde8182c83fee1ad037cd">effect_valium</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a6e356b8c88f37fd089a667b39f6b4419">effect_visuals</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a66fbdfe284eb410fdbece4a3be98bf55">effect_weak_antibiotic</a>, <a class="el" href="mapdata_8cpp_source.html#l01097">f_rubble_rock</a>, <a class="el" href="character_8cpp_source.html#l09248">Character::fall_asleep()</a>, <a class="el" href="field__type_8cpp_source.html#l00387">fd_tindalos_rift</a>, <a class="el" href="character_8h_source.html#l01599">Character::focus_pool</a>, <a class="el" href="martialarts_8cpp_source.html#l00624">ma_buff::from_effect()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="effect_8cpp_source.html#l00835">effect::get_bp()</a>, <a class="el" href="player_8cpp_source.html#l00698">get_category_dream()</a>, <a class="el" href="effect_8cpp_source.html#l00797">effect::get_duration()</a>, <a class="el" href="creature_8cpp_source.html#l01235">Creature::get_effect_dur()</a>, <a class="el" href="character_8cpp_source.html#l04439">Character::get_fatigue()</a>, <a class="el" href="monster_8cpp_source.html#l01982">monster::get_grab_strength()</a>, <a class="el" href="character_8cpp_source.html#l04125">Character::get_healthy()</a>, <a class="el" href="character_8cpp_source.html#l07949">Character::get_highest_category()</a>, <a class="el" href="effect_8h_source.html#l00305">effect::get_id()</a>, <a class="el" href="character_8cpp_source.html#l04060">Character::get_int()</a>, <a class="el" href="effect_8cpp_source.html#l00849">effect::get_intensity()</a>, <a class="el" href="creature_8cpp_source.html#l01442">Creature::get_num_blocks_bonus()</a>, <a class="el" href="character_8cpp_source.html#l04444">Character::get_sleep_deprivation()</a>, <a class="el" href="character_8cpp_source.html#l07142">Character::get_stim()</a>, <a class="el" href="character_8cpp_source.html#l04278">Character::get_stored_kcal()</a>, <a class="el" href="character_8cpp_source.html#l04311">Character::get_thirst()</a>, <a class="el" href="weather_8cpp_source.html#l00064">get_weather()</a>, <a class="el" href="character_8cpp_source.html#l00470">Character::getID()</a>, <a class="el" href="mongroup_8cpp_source.html#l00098">MonsterGroupManager::GetResultFromGroup()</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a4e23e64852e8ca64da0132c32c40ea70">GROUP_NETHER</a>, <a class="el" href="character_8h.html#aa7bb0ad73714bdf6b22d11b5b4e2633fad8eced3b06972df4d1dd7d835fc3edd3">harmless</a>, <a class="el" href="mutation_8cpp_source.html#l00367">Character::has_active_mutation()</a>, <a class="el" href="character_8cpp_source.html#l00828">Character::has_alarm_clock()</a>, <a class="el" href="character_8cpp_source.html#l03201">Character::has_artifact_with()</a>, <a class="el" href="character_8cpp_source.html#l01866">Character::has_bionic()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="item_8cpp_source.html#l09584">item::has_effect_when_carried()</a>, <a class="el" href="item_8cpp_source.html#l09566">item::has_effect_when_wielded()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8cpp_source.html#l08627">Character::healall()</a>, <a class="el" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96a2d21a8b46860540a026791074093e47d">hostile_spotted_far</a>, <a class="el" href="character_8cpp_source.html#l08635">Character::hurtall()</a>, <a class="el" href="character_8h_source.html#l02230">Character::id</a>, <a class="el" href="character_8cpp_source.html#l09296">Character::in_sleep_state()</a>, <a class="el" href="creature_8h_source.html#l00095">Creature::is_avatar()</a>, <a class="el" href="character_8cpp_source.html#l06324">Character::is_blind()</a>, <a class="el" href="character_8cpp_source.html#l01317">Character::is_limb_broken()</a>, <a class="el" href="player_8h_source.html#l00131">is_npc()</a>, <a class="el" href="player_8h_source.html#l00114">is_player()</a>, <a class="el" href="weather__type_8h.html#a951701bd5446ac796b3a62dadcdb61f1a2ac43aa43bf473f9a9c09b4b608619d3">light</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="character_8cpp_source.html#l04301">Character::max_stored_kcal()</a>, <a class="el" href="character_8cpp_source.html#l04163">Character::mod_dex_bonus()</a>, <a class="el" href="effect_8cpp_source.html#l00821">effect::mod_duration()</a>, <a class="el" href="character_8cpp_source.html#l04414">Character::mod_fatigue()</a>, <a class="el" href="character_8cpp_source.html#l04242">Character::mod_healthy_mod()</a>, <a class="el" href="character_8cpp_source.html#l04173">Character::mod_int_bonus()</a>, <a class="el" href="player_8cpp_source.html#l01092">mod_pain()</a>, <a class="el" href="character_8cpp_source.html#l04168">Character::mod_per_bonus()</a>, <a class="el" href="character_8cpp_source.html#l07152">Character::mod_stim()</a>, <a class="el" href="character_8cpp_source.html#l04283">Character::mod_stored_kcal()</a>, <a class="el" href="character_8cpp_source.html#l04288">Character::mod_stored_nutr()</a>, <a class="el" href="character_8cpp_source.html#l04158">Character::mod_str_bonus()</a>, <a class="el" href="character_8cpp_source.html#l04398">Character::mod_thirst()</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a3e46d556bbb636159b56d90f02a2173a">mon_dermatik_larva</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="effect_8cpp_source.html#l00825">effect::mult_duration()</a>, <a class="el" href="mutation_8cpp_source.html#l00845">Character::mutate()</a>, <a class="el" href="mutation_8cpp_source.html#l01044">Character::mutate_category()</a>, <a class="el" href="character_8h_source.html#l01785">Character::mutation_category_level</a>, <a class="el" href="character_8h_source.html#l01568">Character::name</a>, <a class="el" href="mongroup_8h_source.html#l00053">MonsterGroupResult::name</a>, <a class="el" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96aaaddc3454ccbefbb2d8d8461f8f7f481">noise</a>, <a class="el" href="bodypart_8h_source.html#l00052">num_bp</a>, <a class="el" href="calendar_8cpp_source.html#l00490">calendar::once_every()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="rng_8cpp_source.html#l00070">one_turn_in()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="character_8h_source.html#l00838">Character::posx()</a>, <a class="el" href="character_8h_source.html#l00841">Character::posy()</a>, <a class="el" href="character_8h_source.html#l00844">Character::posz()</a>, <a class="el" href="creature_8cpp_source.html#l01130">Creature::remove_effect()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="effect_8cpp_source.html#l00805">effect::set_duration()</a>, <a class="el" href="character_8cpp_source.html#l04424">Character::set_fatigue()</a>, <a class="el" href="creature_8cpp_source.html#l01406">Creature::set_moves()</a>, <a class="el" href="creature_8cpp_source.html#l01708">Creature::set_num_blocks_bonus()</a>, <a class="el" href="creature_8cpp_source.html#l01569">Creature::set_part_hp_cur()</a>, <a class="el" href="player__activity_8cpp_source.html#l00077">player_activity::set_to_null()</a>, <a class="el" href="sounds_8cpp_source.html#l00177">sounds::sound()</a>, <a class="el" href="suffer_8cpp_source.html#l01706">Character::sound_hallu()</a>, <a class="el" href="character_8cpp_source.html#l08754">Character::spores()</a>, <a class="el" href="character_8h_source.html#l00299">Character::str_max</a>, <a class="el" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1ceae04270cf67921945df7d026bfe61efeb">teleglow_teleports</a>, <a class="el" href="teleport_8cpp_source.html#l00024">teleport::teleport()</a>, <a class="el" href="character_8h_source.html#l02271">Character::temp_cur</a>, <a class="el" href="bodypart_8h_source.html#l00106">body_part_type::token</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#aba25188f1c6479109ff8fb4004f03ebb">trait_CHLOROMORPH</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#ae0da5d32e6a302ede12162f7bc71401a">trait_HEAVYSLEEPER2</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a490ad03dab9bfa0cac3c742ec6b92fa0">trait_HIBERNATE</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a638e7eb4b8c8bdd2727763a767bd5617">trait_INFRESIST</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a308d750c2cc01d70d7622fdee14be3a5">trait_M_IMMUNE</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a039c3379527621f928cbc2e62686108c">trait_M_SKIN3</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#af20cb84a6e8ccc0ed66c352edf29143b">trait_NOPAIN</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#af2d313b1132870a819487a4e4fd5e6c1">trait_SCHIZOPHRENIC</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a4a2880229756defe74bae39acf62f608">trait_SEESLEEP</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#a40331e22a139e13b3b70f387c9fdd390">trait_THRESH_MYCUS</a>, <a class="el" href="player__hardcoded__effects_8cpp.html#abf29a0f9f2b03dbf9baa8dd6af688d41">trait_WATERSLEEP</a>, <a class="el" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa2e01a05d962bd116bccfe3c311d0396e">turgid</a>, <a class="el" href="character_8cpp_source.html#l07775">Character::vomit()</a>, <a class="el" href="player_8cpp_source.html#l01685">vomit_mod()</a>, <a class="el" href="character_8cpp_source.html#l07654">Character::wake_up()</a>, <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>, <a class="el" href="character_8h_source.html#l01571">Character::worn</a>, <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>, <a class="el" href="calendar_8cpp_source.html#l00521">x_in_y()</a>, and <a class="el" href="point_8h_source.html#l00151">tripoint::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l01432">process_one_effect()</a>.</p>

</div>
</div>
<a id="ac620b353f0a1789408b99d3c164a671b" name="ac620b353f0a1789408b99d3c164a671b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac620b353f0a1789408b99d3c164a671b">&#9670;&nbsp;</a></span>has_conflicting_trait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::has_conflicting_trait </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the player has a conflicting trait to the entered trait Uses <a class="el" href="classCharacter.html#a809f85bef6731c16373600ad9f97dad7" title="Returns true if the player has a trait which cancels the entered trait.">has_opposite_trait()</a>, <a class="el" href="classplayer.html#af5da6a90988de8ed2f2b0e18acf0745e" title="Returns true if the player has a trait which upgrades into the entered trait.">has_lower_trait()</a>, and <a class="el" href="classplayer.html#a4248377bab405c423f22f97324717b27" title="Returns true if the player has a trait which is an upgrade of the entered trait.">has_higher_trait()</a> to determine conflicts. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00656">656</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>{</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>    <span class="keywordflow">return</span> ( <a class="code hl_function" href="classCharacter.html#a809f85bef6731c16373600ad9f97dad7">has_opposite_trait</a>( flag ) || <a class="code hl_function" href="classplayer.html#af5da6a90988de8ed2f2b0e18acf0745e">has_lower_trait</a>( flag ) || <a class="code hl_function" href="classplayer.html#a4248377bab405c423f22f97324717b27">has_higher_trait</a>( flag ) ||</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>             <a class="code hl_function" href="classplayer.html#ae87cd4473794c04ebae7572b29854ea0">has_same_type_trait</a>( flag ) );</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>}</div>
<div class="ttc" id="aclassCharacter_html_a809f85bef6731c16373600ad9f97dad7"><div class="ttname"><a href="classCharacter.html#a809f85bef6731c16373600ad9f97dad7">Character::has_opposite_trait</a></div><div class="ttdeci">bool has_opposite_trait(const trait_id &amp;flag) const</div><div class="ttdoc">Returns true if the player has a trait which cancels the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09884">character.cpp:9884</a></div></div>
<div class="ttc" id="aclassplayer_html_a4248377bab405c423f22f97324717b27"><div class="ttname"><a href="classplayer.html#a4248377bab405c423f22f97324717b27">player::has_higher_trait</a></div><div class="ttdeci">bool has_higher_trait(const trait_id &amp;flag) const</div><div class="ttdoc">Returns true if the player has a trait which is an upgrade of the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00672">player.cpp:672</a></div></div>
<div class="ttc" id="aclassplayer_html_ae87cd4473794c04ebae7572b29854ea0"><div class="ttname"><a href="classplayer.html#ae87cd4473794c04ebae7572b29854ea0">player::has_same_type_trait</a></div><div class="ttdeci">bool has_same_type_trait(const trait_id &amp;flag) const</div><div class="ttdoc">Returns true if the player has a trait that shares a type with the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00682">player.cpp:682</a></div></div>
<div class="ttc" id="aclassplayer_html_af5da6a90988de8ed2f2b0e18acf0745e"><div class="ttname"><a href="classplayer.html#af5da6a90988de8ed2f2b0e18acf0745e">player::has_lower_trait</a></div><div class="ttdeci">bool has_lower_trait(const trait_id &amp;flag) const</div><div class="ttdoc">Returns true if the player has a trait which upgrades into the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00662">player.cpp:662</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player_8cpp_source.html#l00672">has_higher_trait()</a>, <a class="el" href="player_8cpp_source.html#l00662">has_lower_trait()</a>, <a class="el" href="character_8cpp_source.html#l09884">Character::has_opposite_trait()</a>, and <a class="el" href="player_8cpp_source.html#l00682">has_same_type_trait()</a>.</p>

<p class="reference">Referenced by <a class="el" href="newcharacter_8cpp_source.html#l00178">avatar::randomize()</a>, and <a class="el" href="newcharacter_8cpp_source.html#l01002">set_traits()</a>.</p>

</div>
</div>
<a id="ab53fe4c2fb2876d837f88abe6e7b505a" name="ab53fe4c2fb2876d837f88abe6e7b505a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab53fe4c2fb2876d837f88abe6e7b505a">&#9670;&nbsp;</a></span>has_gun_for_ammo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::has_gun_for_ammo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> &amp;&#160;</td>
          <td class="paramname"><em>at</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether the player has a gun that uses the given type of ammo. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04146">4146</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04147" name="l04147"></a><span class="lineno"> 4147</span>{</div>
<div class="line"><a id="l04148" name="l04148"></a><span class="lineno"> 4148</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">has_item_with</a>( [at]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l04149" name="l04149"></a><span class="lineno"> 4149</span>        <span class="comment">// item::ammo_type considers the active gunmod.</span></div>
<div class="line"><a id="l04150" name="l04150"></a><span class="lineno"> 4150</span>        <span class="keywordflow">return</span> it.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp; it.<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().count( at );</div>
<div class="line"><a id="l04151" name="l04151"></a><span class="lineno"> 4151</span>    } );</div>
<div class="line"><a id="l04152" name="l04152"></a><span class="lineno"> 4152</span>}</div>
<div class="ttc" id="aclassitem_html_ac4f8c31c6aa17560f8f523290d568436"><div class="ttname"><a href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">item::ammo_types</a></div><div class="ttdeci">const std::set&lt; ammotype &gt; &amp; ammo_types(bool conversion=true) const</div><div class="ttdoc">Set of ammo types (ammunition_type) used by item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07408">item.cpp:7408</a></div></div>
<div class="ttc" id="aclassvisitable_html_abf24bf044bbf16def702fd78351fc46f"><div class="ttname"><a href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">visitable&lt; Character &gt;::has_item_with</a></div><div class="ttdeci">bool has_item_with(const std::function&lt; bool(const item &amp;)&gt; &amp;filter) const</div><div class="ttdoc">Returns true if any item (including those within a container) matches the filter.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00064">visitable.cpp:105</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07408">item::ammo_types()</a>, <a class="el" href="visitable_8cpp_source.html#l00105">visitable&lt; Character &gt;::has_item_with()</a>, and <a class="el" href="item_8cpp_source.html#l06367">item::is_gun()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npc_8cpp_source.html#l01741">npc::value()</a>.</p>

</div>
</div>
<a id="a4248377bab405c423f22f97324717b27" name="a4248377bab405c423f22f97324717b27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4248377bab405c423f22f97324717b27">&#9670;&nbsp;</a></span>has_higher_trait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::has_higher_trait </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the player has a trait which is an upgrade of the entered trait. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00672">672</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>{</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;i : flag-&gt;<a class="code hl_variable" href="structmutation__branch.html#aa5df14704469ce7c19c64a55894e8b82">replacements</a> ) {</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( i ) || <a class="code hl_function" href="classplayer.html#a4248377bab405c423f22f97324717b27">has_higher_trait</a>( i ) ) {</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>        }</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>    }</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>}</div>
<div class="ttc" id="astructmutation__branch_html_aa5df14704469ce7c19c64a55894e8b82"><div class="ttname"><a href="structmutation__branch.html#aa5df14704469ce7c19c64a55894e8b82">mutation_branch::replacements</a></div><div class="ttdeci">std::vector&lt; trait_id &gt; replacements</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00280">mutation.h:280</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player_8cpp_source.html#l00672">has_higher_trait()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, and <a class="el" href="mutation_8h_source.html#l00280">mutation_branch::replacements</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l00656">has_conflicting_trait()</a>, and <a class="el" href="player_8cpp_source.html#l00672">has_higher_trait()</a>.</p>

</div>
</div>
<a id="aae69703500aeff2b2c9bb3e741a492f4" name="aae69703500aeff2b2c9bb3e741a492f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae69703500aeff2b2c9bb3e741a492f4">&#9670;&nbsp;</a></span>has_identified()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool player::has_identified </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>item_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Note that we've read a book at least once. </p>

<p>Implemented in <a class="el" href="classnpc.html#a2c9c461198d12d54e772d6229736aa3a">npc</a>, and <a class="el" href="classavatar.html#a6a1fb5db7eeb5cd2c973318ed9546f7c">avatar</a>.</p>

<p class="reference">Referenced by <a class="el" href="game__inventory_8cpp_source.html#l01190">read_inventory_preset::is_known()</a>.</p>

</div>
</div>
<a id="af5da6a90988de8ed2f2b0e18acf0745e" name="af5da6a90988de8ed2f2b0e18acf0745e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5da6a90988de8ed2f2b0e18acf0745e">&#9670;&nbsp;</a></span>has_lower_trait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::has_lower_trait </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the player has a trait which upgrades into the entered trait. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00662">662</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>{</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;i : flag-&gt;<a class="code hl_variable" href="structmutation__branch.html#abef02f8a6594e8416e9520c75899353a">prereqs</a> ) {</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( i ) || <a class="code hl_function" href="classplayer.html#af5da6a90988de8ed2f2b0e18acf0745e">has_lower_trait</a>( i ) ) {</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>        }</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>    }</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>}</div>
<div class="ttc" id="astructmutation__branch_html_abef02f8a6594e8416e9520c75899353a"><div class="ttname"><a href="structmutation__branch.html#abef02f8a6594e8416e9520c75899353a">mutation_branch::prereqs</a></div><div class="ttdeci">std::vector&lt; trait_id &gt; prereqs</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00275">mutation.h:275</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player_8cpp_source.html#l00662">has_lower_trait()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, and <a class="el" href="mutation_8h_source.html#l00275">mutation_branch::prereqs</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l00656">has_conflicting_trait()</a>, and <a class="el" href="player_8cpp_source.html#l00662">has_lower_trait()</a>.</p>

</div>
</div>
<a id="a8c9f776a11906ac1bb7e60b95cf619ac" name="a8c9f776a11906ac1bb7e60b95cf619ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c9f776a11906ac1bb7e60b95cf619ac">&#9670;&nbsp;</a></span>has_magazine_for_ammo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::has_magazine_for_ammo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> &amp;&#160;</td>
          <td class="paramname"><em>at</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04154">4154</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04155" name="l04155"></a><span class="lineno"> 4155</span>{</div>
<div class="line"><a id="l04156" name="l04156"></a><span class="lineno"> 4156</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">has_item_with</a>( [&amp;at]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l04157" name="l04157"></a><span class="lineno"> 4157</span>        <span class="keywordflow">return</span> !it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;NO_RELOAD&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l04158" name="l04158"></a><span class="lineno"> 4158</span>               ( ( it.<a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() &amp;&amp; it.<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().count( at ) ) ||</div>
<div class="line"><a id="l04159" name="l04159"></a><span class="lineno"> 4159</span>                 ( it.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp; it.<a class="code hl_function" href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98">magazine_integral</a>() &amp;&amp; it.<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().count( at ) ) ||</div>
<div class="line"><a id="l04160" name="l04160"></a><span class="lineno"> 4160</span>                 ( it.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp; it.<a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>() != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a id="l04161" name="l04161"></a><span class="lineno"> 4161</span>                   it.<a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>()-&gt;<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().count( at ) ) );</div>
<div class="line"><a id="l04162" name="l04162"></a><span class="lineno"> 4162</span>    } );</div>
<div class="line"><a id="l04163" name="l04163"></a><span class="lineno"> 4163</span>}</div>
<div class="ttc" id="aclassitem_html_aa7e9319c5779e2e1c550158ee8a2cc98"><div class="ttname"><a href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98">item::magazine_integral</a></div><div class="ttdeci">bool magazine_integral() const</div><div class="ttdoc">Does item have an integral magazine (as opposed to allowing detachable magazines)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07503">item.cpp:7503</a></div></div>
<div class="ttc" id="aclassitem_html_adce43f2490a85e2dc212a26ce5ded4fc"><div class="ttname"><a href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">item::is_magazine</a></div><div class="ttdeci">bool is_magazine() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06407">item.cpp:6407</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07408">item::ammo_types()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="visitable_8cpp_source.html#l00105">visitable&lt; Character &gt;::has_item_with()</a>, <a class="el" href="item_8cpp_source.html#l06367">item::is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06407">item::is_magazine()</a>, <a class="el" href="item_8cpp_source.html#l07565">item::magazine_current()</a>, and <a class="el" href="item_8cpp_source.html#l07503">item::magazine_integral()</a>.</p>

</div>
</div>
<a id="a53329f7bd0de15ab927b18f7eeed45b9" name="a53329f7bd0de15ab927b18f7eeed45b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53329f7bd0de15ab927b18f7eeed45b9">&#9670;&nbsp;</a></span>has_mission_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::has_mission_item </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mission_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01910">1910</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>{</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>    <span class="keywordflow">return</span> mission_id != -1 &amp;&amp; <a class="code hl_function" href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">has_item_with</a>( has_mission_item_filter{ mission_id } );</div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="visitable_8cpp_source.html#l00105">visitable&lt; Character &gt;::has_item_with()</a>.</p>

</div>
</div>
<a id="aa4184fe8a21d73194f782cc48c798f60" name="aa4184fe8a21d73194f782cc48c798f60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4184fe8a21d73194f782cc48c798f60">&#9670;&nbsp;</a></span>has_recipe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::has_recipe </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td>
          <td class="paramname"><em>crafting_inv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classnpc.html">npc</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>helpers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04123">4123</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04125" name="l04125"></a><span class="lineno"> 4125</span>{</div>
<div class="line"><a id="l04126" name="l04126"></a><span class="lineno"> 4126</span>    <span class="keywordflow">if</span>( !r-&gt;<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> ) {</div>
<div class="line"><a id="l04127" name="l04127"></a><span class="lineno"> 4127</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l04128" name="l04128"></a><span class="lineno"> 4128</span>    }</div>
<div class="line"><a id="l04129" name="l04129"></a><span class="lineno"> 4129</span> </div>
<div class="line"><a id="l04130" name="l04130"></a><span class="lineno"> 4130</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#abc8b110d8e655cfc6d27b7bdc67fab3b">knows_recipe</a>( r ) ) {</div>
<div class="line"><a id="l04131" name="l04131"></a><span class="lineno"> 4131</span>        <span class="keywordflow">return</span> r-&gt;<a class="code hl_variable" href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">difficulty</a>;</div>
<div class="line"><a id="l04132" name="l04132"></a><span class="lineno"> 4132</span>    }</div>
<div class="line"><a id="l04133" name="l04133"></a><span class="lineno"> 4133</span> </div>
<div class="line"><a id="l04134" name="l04134"></a><span class="lineno"> 4134</span>    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_enumvalue" href="vehicle_8h.html#ad9a221cee9ae7a69d6f09d4de701f02cae4894ca167b08880bfc35862f18575eb">available</a> = <a class="code hl_function" href="classplayer.html#abd7dbcb2cb20ee59903ffbd4d10d3f63">get_available_recipes</a>( crafting_inv, &amp;helpers );</div>
<div class="line"><a id="l04135" name="l04135"></a><span class="lineno"> 4135</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="vehicle_8h.html#ad9a221cee9ae7a69d6f09d4de701f02cae4894ca167b08880bfc35862f18575eb">available</a>.contains( *r ) ? <a class="code hl_enumvalue" href="vehicle_8h.html#ad9a221cee9ae7a69d6f09d4de701f02cae4894ca167b08880bfc35862f18575eb">available</a>.get_custom_difficulty( r ) : -1;</div>
<div class="line"><a id="l04136" name="l04136"></a><span class="lineno"> 4136</span>}</div>
<div class="ttc" id="aclassplayer_html_abd7dbcb2cb20ee59903ffbd4d10d3f63"><div class="ttname"><a href="classplayer.html#abd7dbcb2cb20ee59903ffbd4d10d3f63">player::get_available_recipes</a></div><div class="ttdeci">recipe_subset get_available_recipes(const inventory &amp;crafting_inv, const std::vector&lt; npc * &gt; *helpers=nullptr, recipe_filter filter=nullptr) const</div><div class="ttdoc">Returns all available recipes (from books and npc companions)</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03735">player.cpp:3735</a></div></div>
<div class="ttc" id="avehicle_8h_html_ad9a221cee9ae7a69d6f09d4de701f02cae4894ca167b08880bfc35862f18575eb"><div class="ttname"><a href="vehicle_8h.html#ad9a221cee9ae7a69d6f09d4de701f02cae4894ca167b08880bfc35862f18575eb">part_status_flag::available</a></div><div class="ttdeci">@ available</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vehicle_8h.html#ad9a221cee9ae7a69d6f09d4de701f02cae4894ca167b08880bfc35862f18575eb">available</a>, <a class="el" href="recipe_8h_source.html#l00060">recipe::difficulty</a>, <a class="el" href="player_8cpp_source.html#l03735">get_available_recipes()</a>, <a class="el" href="player_8cpp_source.html#l04118">knows_recipe()</a>, and <a class="el" href="recipe_8h_source.html#l00107">recipe::skill_used</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l00522">can_make()</a>, <a class="el" href="crafting_8cpp_source.html#l01007">complete_craft()</a>, and <a class="el" href="iuse_8cpp_source.html#l09630">iuse::craft()</a>.</p>

</div>
</div>
<a id="a7de4e27c52a5b8c08b91ec54bb28c8b9" name="a7de4e27c52a5b8c08b91ec54bb28c8b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7de4e27c52a5b8c08b91ec54bb28c8b9">&#9670;&nbsp;</a></span>has_recipe_requirements()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::has_recipe_requirements </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>rec</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04107">4107</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04108" name="l04108"></a><span class="lineno"> 4108</span>{</div>
<div class="line"><a id="l04109" name="l04109"></a><span class="lineno"> 4109</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCharacter.html#a3eff1956d8cca838d791f2c4d148ddea">get_all_skills</a>().<a class="code hl_function" href="classSkillLevelMap.html#a03dbe045595e3e051c0c3d70a449fcc2">has_recipe_requirements</a>( rec );</div>
<div class="line"><a id="l04110" name="l04110"></a><span class="lineno"> 4110</span>}</div>
<div class="ttc" id="aclassSkillLevelMap_html_a03dbe045595e3e051c0c3d70a449fcc2"><div class="ttname"><a href="classSkillLevelMap.html#a03dbe045595e3e051c0c3d70a449fcc2">SkillLevelMap::has_recipe_requirements</a></div><div class="ttdeci">bool has_recipe_requirements(const recipe &amp;rec) const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8cpp_source.html#l00394">skill.cpp:394</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l03312">Character::get_all_skills()</a>, and <a class="el" href="skill_8cpp_source.html#l00394">SkillLevelMap::has_recipe_requirements()</a>.</p>

<p class="reference">Referenced by <a class="el" href="newcharacter_8cpp_source.html#l00376">avatar::create()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l03202">find_repair_difficulty()</a>.</p>

</div>
</div>
<a id="ae87cd4473794c04ebae7572b29854ea0" name="ae87cd4473794c04ebae7572b29854ea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae87cd4473794c04ebae7572b29854ea0">&#9670;&nbsp;</a></span>has_same_type_trait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::has_same_type_trait </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the player has a trait that shares a type with the entered trait. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00682">682</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>{</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;i : <a class="code hl_function" href="mutation_8h.html#a33d90ab70e809c42bb1f76a5440bb47e">get_mutations_in_types</a>( flag-&gt;<a class="code hl_variable" href="structmutation__branch.html#a81d88c0102b3328c59590788b3f814a7">types</a> ) ) {</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( i ) &amp;&amp; flag != i ) {</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>        }</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>    }</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>}</div>
<div class="ttc" id="amutation_8h_html_a33d90ab70e809c42bb1f76a5440bb47e"><div class="ttname"><a href="mutation_8h.html#a33d90ab70e809c42bb1f76a5440bb47e">get_mutations_in_types</a></div><div class="ttdeci">std::vector&lt; trait_id &gt; get_mutations_in_types(const std::set&lt; std::string &gt; &amp;ids)</div><div class="ttdef"><b>Definition:</b> <a href="mutation__type_8cpp_source.html#l00040">mutation_type.cpp:40</a></div></div>
<div class="ttc" id="astructmutation__branch_html_a81d88c0102b3328c59590788b3f814a7"><div class="ttname"><a href="structmutation__branch.html#a81d88c0102b3328c59590788b3f814a7">mutation_branch::types</a></div><div class="ttdeci">std::set&lt; std::string &gt; types</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00278">mutation.h:278</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mutation__type_8cpp_source.html#l00040">get_mutations_in_types()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, and <a class="el" href="mutation_8h_source.html#l00278">mutation_branch::types</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l00656">has_conflicting_trait()</a>.</p>

</div>
</div>
<a id="a1c2589f63489526c9a74ac8e1c33ca60" name="a1c2589f63489526c9a74ac8e1c33ca60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c2589f63489526c9a74ac8e1c33ca60">&#9670;&nbsp;</a></span>hp_percentage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int player::hp_percentage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns overall % of HP remaining. </p>

<p>Implements <a class="el" href="classCreature.html#a140c55c27932cd7a09befc12d80b9a3c">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01363">1363</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>{</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>    <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> head_id = <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;head&quot;</span> );</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>    <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> torso_id = <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> );</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>    <span class="keywordtype">int</span> total_cur = 0;</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>    <span class="keywordtype">int</span> total_max = 0;</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>    <span class="comment">// Head and torso HP are weighted 3x and 2x, respectively</span></div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>    total_cur = <a class="code hl_function" href="classCreature.html#ab901ee8b150fdad01ff2028ec8dba84c">get_part_hp_cur</a>( head_id ) * 3 + <a class="code hl_function" href="classCreature.html#ab901ee8b150fdad01ff2028ec8dba84c">get_part_hp_cur</a>( torso_id ) * 2;</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>    total_max = <a class="code hl_function" href="classCreature.html#aad6dc5532f233030d367ed67e0ea6613">get_part_hp_max</a>( head_id ) * 3 + <a class="code hl_function" href="classCreature.html#aad6dc5532f233030d367ed67e0ea6613">get_part_hp_max</a>( torso_id ) * 2;</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt; const bodypart_str_id, bodypart&gt; &amp;elem : <a class="code hl_function" href="classCreature.html#ac4dbde454c86b3296f53681c60612974">get_body</a>() ) {</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>        total_cur += elem.second.get_hp_cur();</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>        total_max += elem.second.get_hp_max();</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>    }</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span> </div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>    <span class="keywordflow">return</span> ( 100 * total_cur ) / total_max;</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>}</div>
<div class="ttc" id="aclassCreature_html_aad6dc5532f233030d367ed67e0ea6613"><div class="ttname"><a href="classCreature.html#aad6dc5532f233030d367ed67e0ea6613">Creature::get_part_hp_max</a></div><div class="ttdeci">int get_part_hp_max(const bodypart_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01559">creature.cpp:1559</a></div></div>
<div class="ttc" id="aclassCreature_html_ab901ee8b150fdad01ff2028ec8dba84c"><div class="ttname"><a href="classCreature.html#ab901ee8b150fdad01ff2028ec8dba84c">Creature::get_part_hp_cur</a></div><div class="ttdeci">int get_part_hp_cur(const bodypart_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01554">creature.cpp:1554</a></div></div>
<div class="ttc" id="aclassCreature_html_ac4dbde454c86b3296f53681c60612974"><div class="ttname"><a href="classCreature.html#ac4dbde454c86b3296f53681c60612974">Creature::get_body</a></div><div class="ttdeci">const std::map&lt; bodypart_str_id, bodypart &gt; &amp; get_body() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01521">creature.cpp:1521</a></div></div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id</a></div><div class="ttdoc">Just like the string_id, this is a wrapper for int based identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="int__id_8h_source.html#l00019">int_id.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8cpp_source.html#l01521">Creature::get_body()</a>, <a class="el" href="creature_8cpp_source.html#l01554">Creature::get_part_hp_cur()</a>, and <a class="el" href="creature_8cpp_source.html#l01559">Creature::get_part_hp_max()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l00629">npc::character_danger()</a>, <a class="el" href="npc_8cpp_source.html#l02185">npc::emergency()</a>, <a class="el" href="npc_8cpp_source.html#l03022">npc::hp_description()</a>, and <a class="el" href="npc_8cpp_source.html#l02798">npc::process_turn()</a>.</p>

</div>
</div>
<a id="acd9bcabf4f32e79e18172937133033cf" name="acd9bcabf4f32e79e18172937133033cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd9bcabf4f32e79e18172937133033cf">&#9670;&nbsp;</a></span>immune_to()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::immune_to </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a>&#160;</td>
          <td class="paramname"><em>bp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdamage__unit.html">damage_unit</a>&#160;</td>
          <td class="paramname"><em>dam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a given body part is immune to a given damage type. </p>
<p >This function checks whether a given body part cannot be damaged by a given <a class="el" href="structdamage__unit.html">damage_unit</a>. Note that this refers only to reduction of hp on that part. It does not account for clothing damage, pain, status effects, etc.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bp</td><td>Body part to perform the check on </td></tr>
    <tr><td class="paramname">dam</td><td>Type of damage to check for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if given damage can not reduce hp of given body part </dd></dl>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01075">1075</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>{</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a2d57f6248b6cc870fd325d9925e7f9bb">trait_DEBUG_NODMG</a> ) || <a class="code hl_function" href="classCharacter.html#a5d6fc1ca9e4da196f54cf96d617e70d1">is_immune_damage</a>( dam.<a class="code hl_variable" href="structdamage__unit.html#a6fb9768fbc374c9c24960cdef9bee2f3">type</a> ) ) {</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>    }</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span> </div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>    <a class="code hl_function" href="classCharacter.html#ab204a367071ffd6cc1d01ec8010222c5">passive_absorb_hit</a>( <a class="code hl_function" href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a>( bp ).<span class="keywordtype">id</span>(), dam );</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span> </div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;cloth : <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a> ) {</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>        <span class="keywordflow">if</span>( cloth.get_coverage() == 100 &amp;&amp; cloth.covers( bp ) ) {</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>            cloth.mitigate_damage( dam );</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>        }</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>    }</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span> </div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>    <span class="keywordflow">return</span> dam.<a class="code hl_variable" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> &lt;= 0;</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>}</div>
<div class="ttc" id="aclassCharacter_html_a5d6fc1ca9e4da196f54cf96d617e70d1"><div class="ttname"><a href="classCharacter.html#a5d6fc1ca9e4da196f54cf96d617e70d1">Character::is_immune_damage</a></div><div class="ttdeci">bool is_immune_damage(damage_type) const override</div><div class="ttdoc">Returns true if the player is immune to this kind of damage.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06200">character.cpp:6200</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab204a367071ffd6cc1d01ec8010222c5"><div class="ttname"><a href="classCharacter.html#ab204a367071ffd6cc1d01ec8010222c5">Character::passive_absorb_hit</a></div><div class="ttdeci">void passive_absorb_hit(const bodypart_id &amp;bp, damage_unit &amp;du) const</div><div class="ttdoc">Check for relevant passive, non-clothing that can absorb damage, and reduce by specified damage unit.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08023">character.cpp:8023</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a2d57f6248b6cc870fd325d9925e7f9bb"><div class="ttname"><a href="player_8cpp.html#a2d57f6248b6cc870fd325d9925e7f9bb">trait_DEBUG_NODMG</a></div><div class="ttdeci">static const trait_id trait_DEBUG_NODMG(&quot;DEBUG_NODMG&quot;)</div></div>
<div class="ttc" id="astructdamage__unit_html_a5937d5d78a6db9efaefb0bf9517377d3"><div class="ttname"><a href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">damage_unit::amount</a></div><div class="ttdeci">float amount</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00037">damage.h:37</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a6fb9768fbc374c9c24960cdef9bee2f3"><div class="ttname"><a href="structdamage__unit.html#a6fb9768fbc374c9c24960cdef9bee2f3">damage_unit::type</a></div><div class="ttdeci">damage_type type</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00036">damage.h:36</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="damage_8h_source.html#l00037">damage_unit::amount</a>, <a class="el" href="bodypart_8cpp_source.html#l00185">convert_bp()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8cpp_source.html#l06200">Character::is_immune_damage()</a>, <a class="el" href="character_8cpp_source.html#l08023">Character::passive_absorb_hit()</a>, <a class="el" href="player_8cpp.html#a2d57f6248b6cc870fd325d9925e7f9bb">trait_DEBUG_NODMG</a>, <a class="el" href="damage_8h_source.html#l00036">damage_unit::type</a>, and <a class="el" href="character_8h_source.html#l01571">Character::worn</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l09258">game::get_dangerous_tile()</a>.</p>

</div>
</div>
<a id="ae1d6e52d9fb8fdf08eecb74890a28342" name="ae1d6e52d9fb8fdf08eecb74890a28342"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1d6e52d9fb8fdf08eecb74890a28342">&#9670;&nbsp;</a></span>impact()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int player::impact </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>force</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deals falling/collision damage with terrain/creature at pos. </p>

<p>Implements <a class="el" href="classCreature.html#acbef2e3b6be66df5dd9a7bf587d116bf">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01169">1169</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>{</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>    <span class="comment">// Falls over ~30m are fatal more often than not</span></div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>    <span class="comment">// But that would be quite a lot considering 21 z-levels in game</span></div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>    <span class="comment">// so let&#39;s assume 1 z-level is comparable to 30 force</span></div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span> </div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>    <span class="keywordflow">if</span>( force &lt;= 0 ) {</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>        <span class="keywordflow">return</span> force;</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>    }</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span> </div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>    <span class="comment">// Damage modifier (post armor)</span></div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>    <span class="keywordtype">float</span> <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = 1.0f;</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>    <span class="keywordtype">int</span> effective_force = force;</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>    <span class="keywordtype">int</span> cut = 0;</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>    <span class="comment">// Percentage armor penetration - armor won&#39;t help much here</span></div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>    <span class="comment">// TODO: Make cushioned items like bike helmets help more</span></div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>    <span class="keywordtype">float</span> armor_eff = 1.0f;</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>    <span class="comment">// Shock Absorber CBM heavily reduces damage</span></div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> shock_absorbers = <a class="code hl_function" href="classCharacter.html#af9c7419575e23d52745c94009929fafb">has_active_bionic</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a965ba98fb0eca1e875b86fcf2bc91ab8">bionic_id</a>( <span class="stringliteral">&quot;bio_shock_absorber&quot;</span> ) );</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span> </div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>    <span class="comment">// Being slammed against things rather than landing means we can&#39;t</span></div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>    <span class="comment">// control the impact as well</span></div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> slam = p != <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>();</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>    std::string target_name = <span class="stringliteral">&quot;a swarm of bugs&quot;</span>;</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>    <a class="code hl_class" href="classCreature.html">Creature</a> *critter = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at( p );</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>    <span class="keywordflow">if</span>( critter != <span class="keyword">this</span> &amp;&amp; critter != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>        target_name = critter-&gt;<a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>();</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>        <span class="comment">// Slamming into creatures and NPCs</span></div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>        <span class="comment">// TODO: Handle spikes/horns and hard materials</span></div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>        armor_eff = 0.5f; <span class="comment">// 2x as much as with the ground</span></div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>        <span class="comment">// TODO: Modify based on something?</span></div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = 1.0f;</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>        effective_force = force;</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( p ) ) {</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>        <span class="comment">// Slamming into vehicles</span></div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>        <span class="comment">// TODO: Integrate it with vehicle collision function somehow</span></div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>        target_name = vp-&gt;vehicle().disp_name();</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>        <span class="keywordflow">if</span>( vp.part_with_feature( <span class="stringliteral">&quot;SHARP&quot;</span>, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>            <span class="comment">// Now we&#39;re actually getting impaled</span></div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>            cut = force; <span class="comment">// Lots of fun</span></div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>        }</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span> </div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = slam ? 1.0f : <a class="code hl_function" href="classplayer.html#a8f4f5995d32e0a3a0fe585abbafbf76d">fall_damage_mod</a>();</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>        armor_eff = 0.25f; <span class="comment">// Not much</span></div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>        <span class="keywordflow">if</span>( !slam &amp;&amp; vp-&gt;part_with_feature( <span class="stringliteral">&quot;ROOF&quot;</span>, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>            <span class="comment">// Roof offers better landing than frame or pavement</span></div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>            <span class="comment">// TODO: Make this not happen with heavy duty/plated roof</span></div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>            effective_force /= 2;</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>        }</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>        <span class="comment">// Slamming into terrain/furniture</span></div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>        target_name = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.disp_name( p );</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>        <span class="keywordtype">int</span> hard_ground = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <a class="code hl_enumvalue" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258a0b9494addd54fe862b46d0f77724784c">TFLAG_DIGGABLE</a>, p ) ? 0 : 3;</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>        armor_eff = 0.25f; <span class="comment">// Not much</span></div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>        <span class="comment">// Get cut by stuff</span></div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>        <span class="comment">// This isn&#39;t impalement on metal wreckage, more like flying through a closed window</span></div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>        cut = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <a class="code hl_enumvalue" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258aea3504ee004bfbcd73c47c0b410ed682">TFLAG_SHARP</a>, p ) ? 5 : 0;</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>        effective_force = force + hard_ground;</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = slam ? 1.0f : <a class="code hl_function" href="classplayer.html#a8f4f5995d32e0a3a0fe585abbafbf76d">fall_damage_mod</a>();</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_furn( p ) ) {</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>            <span class="comment">// TODO: Make furniture matter</span></div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <a class="code hl_enumvalue" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258a36b67adb6e7c521980de8a6688085d16">TFLAG_SWIMMABLE</a>, p ) ) {</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>            <span class="comment">// TODO: Some formula of swimming</span></div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>            effective_force /= 4;</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>        }</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>    }</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span> </div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>    <span class="comment">// Rescale for huge force</span></div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>    <span class="comment">// At &gt;30 force, proper landing is impossible and armor helps way less</span></div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>    <span class="keywordflow">if</span>( effective_force &gt; 30 ) {</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>        <span class="comment">// Armor simply helps way less</span></div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>        armor_eff *= 30.0f / effective_force;</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>        <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> &lt; 1.0f ) {</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>            <span class="comment">// Everything past 30 damage gets a worse modifier</span></div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> scaled_mod = std::pow( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>, 30.0f / effective_force );</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> scaled_damage = ( 30.0f * <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) + scaled_mod * ( effective_force - 30.0f );</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>            <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = scaled_damage / effective_force;</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>        }</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>    }</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span> </div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>    <span class="keywordflow">if</span>( !slam &amp;&amp; <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> &lt; 1.0f &amp;&amp; <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> * force &lt; 5 ) {</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>        <span class="comment">// Perfect landing, no damage (regardless of armor)</span></div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You land on %s.&quot;</span> ), target_name );</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>    }</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span> </div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>    <span class="comment">// Shock absorbers kick in only when they need to, so if our other protections fail, fall back on them</span></div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>    <span class="keywordflow">if</span>( shock_absorbers ) {</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>        effective_force -= 15; <span class="comment">// Provide a flat reduction to force</span></div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>        <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> &gt; 0.25f ) {</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>            <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = 0.25f; <span class="comment">// And provide a 75% reduction against that force if we don&#39;t have it already</span></div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>        }</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>        <span class="keywordflow">if</span>( effective_force &lt; 0 ) {</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>            effective_force = 0;</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>        }</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>    }</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span> </div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>    <span class="keywordtype">int</span> total_dealt = 0;</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> * effective_force &gt;= 5 ) {</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_enumvalue" href="pldata_8h.html#a51c99b582921c7fe956e6cb62a7b8fe0ad276871b7d0cc8a7678aae85a07a5cc6">num_hp_parts</a>; i++ ) {</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>            <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> bp = <a class="code hl_function" href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a>( <a class="code hl_function" href="classCharacter.html#af781804624ab031f0016b970b4fa8007">hp_to_bp</a>( <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="pldata_8h.html#a51c99b582921c7fe956e6cb62a7b8fe0">hp_part</a><span class="keyword">&gt;</span>( i ) ) ).<a class="code hl_function" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">id</a>();</div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_function" href="namespacespell__effect.html#a5190e06459a4d2190d8d029a4fba6d09">bash</a> = effective_force * <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 60, 100 ) / 100;</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>            <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> di;</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>            di.<a class="code hl_function" href="structdamage__instance.html#a36067fd68baf04345d0c3626c67b8cac">add_damage</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a>, <a class="code hl_function" href="namespacespell__effect.html#a5190e06459a4d2190d8d029a4fba6d09">bash</a>, 0, armor_eff, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>            <span class="comment">// No good way to land on sharp stuff, so here modifier == 1.0f</span></div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>            di.<a class="code hl_function" href="structdamage__instance.html#a36067fd68baf04345d0c3626c67b8cac">add_damage</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8ff698c0509e78ff65c7c7ec899b4f51">DT_CUT</a>, cut, 0, armor_eff, 1.0f );</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>            total_dealt += <a class="code hl_function" href="classCharacter.html#a2c05090cba2078f9ebefd80e61564be3">deal_damage</a>( <span class="keyword">nullptr</span>, bp, di ).<a class="code hl_function" href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">total_damage</a>();</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>        }</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>    }</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span> </div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>    <span class="keywordflow">if</span>( total_dealt &gt; 0 &amp;&amp; <a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() ) {</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>        <span class="comment">// &quot;You slam against the dirt&quot; is fine</span></div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are slammed against %1$s for %2$d damage.&quot;</span> ),</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>                 target_name, total_dealt );</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() &amp;&amp; shock_absorbers ) {</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are slammed against %s!&quot;</span> ),</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>                 target_name, total_dealt );</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;…but your shock absorbers negate the damage!&quot;</span> ) );</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( slam ) {</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>        <span class="comment">// Only print this line if it is a slam and not a landing</span></div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>        <span class="comment">// Non-players should only get this one: player doesn&#39;t know how much damage was dealt</span></div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>        <span class="comment">// and landing messages for each slammed creature would be too much</span></div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are slammed against %s.&quot;</span> ),</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; is slammed against %s.&quot;</span> ),</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>                               target_name );</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>        <span class="comment">// No landing message for NPCs</span></div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You land on %s.&quot;</span> ), target_name );</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>    }</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span> </div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>, 1.0f ) ) {</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>        <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1_turns, 1_turns + <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> * 3_turns ) );</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>    }</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span> </div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>    <span class="keywordflow">return</span> total_dealt;</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a965ba98fb0eca1e875b86fcf2bc91ab8"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a965ba98fb0eca1e875b86fcf2bc91ab8">cata_variant_type::bionic_id</a></div><div class="ttdeci">@ bionic_id</div></div>
<div class="ttc" id="aclassCharacter_html_a2c05090cba2078f9ebefd80e61564be3"><div class="ttname"><a href="classCharacter.html#a2c05090cba2078f9ebefd80e61564be3">Character::deal_damage</a></div><div class="ttdeci">dealt_damage_instance deal_damage(Creature *source, bodypart_id bp, const damage_instance &amp;d) override</div><div class="ttdoc">Calls Creature::deal_damage and handles damaged effects (waking up, etc.)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08437">character.cpp:8437</a></div></div>
<div class="ttc" id="aclassCharacter_html_af781804624ab031f0016b970b4fa8007"><div class="ttname"><a href="classCharacter.html#af781804624ab031f0016b970b4fa8007">Character::hp_to_bp</a></div><div class="ttdeci">static body_part hp_to_bp(hp_part hpart)</div><div class="ttdoc">Converts an hp_part to a body_part.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06571">character.cpp:6571</a></div></div>
<div class="ttc" id="aclassplayer_html_a8f4f5995d32e0a3a0fe585abbafbf76d"><div class="ttname"><a href="classplayer.html#a8f4f5995d32e0a3a0fe585abbafbf76d">player::fall_damage_mod</a></div><div class="ttdeci">float fall_damage_mod() const override</div><div class="ttdoc">Returns multiplier on fall damage at low velocity (knockback/pit/1 z-level, not 5 z-levels)</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l01140">player.cpp:1140</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa3cde2bfb58efa9621289c0a70d24c5a"><div class="ttname"><a href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">string_id::id</a></div><div class="ttdeci">int_id&lt; T &gt; id() const</div><div class="ttdoc">Translate the string based it to the matching integer based id.</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00054">ammo_effect.cpp:54</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a></div><div class="ttdeci">@ DT_BASH</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00024">damage.h:24</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa8ff698c0509e78ff65c7c7ec899b4f51"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8ff698c0509e78ff65c7c7ec899b4f51">DT_CUT</a></div><div class="ttdeci">@ DT_CUT</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00025">damage.h:25</a></div></div>
<div class="ttc" id="amapdata_8h_html_aa04d037303ea30193f7cf0cd82304258a0b9494addd54fe862b46d0f77724784c"><div class="ttname"><a href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258a0b9494addd54fe862b46d0f77724784c">TFLAG_DIGGABLE</a></div><div class="ttdeci">@ TFLAG_DIGGABLE</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00297">mapdata.h:297</a></div></div>
<div class="ttc" id="amapdata_8h_html_aa04d037303ea30193f7cf0cd82304258a36b67adb6e7c521980de8a6688085d16"><div class="ttname"><a href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258a36b67adb6e7c521980de8a6688085d16">TFLAG_SWIMMABLE</a></div><div class="ttdeci">@ TFLAG_SWIMMABLE</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00279">mapdata.h:279</a></div></div>
<div class="ttc" id="amapdata_8h_html_aa04d037303ea30193f7cf0cd82304258aea3504ee004bfbcd73c47c0b410ed682"><div class="ttname"><a href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258aea3504ee004bfbcd73c47c0b410ed682">TFLAG_SHARP</a></div><div class="ttdeci">@ TFLAG_SHARP</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00296">mapdata.h:296</a></div></div>
<div class="ttc" id="anamespacespell__effect_html_a5190e06459a4d2190d8d029a4fba6d09"><div class="ttname"><a href="namespacespell__effect.html#a5190e06459a4d2190d8d029a4fba6d09">spell_effect::bash</a></div><div class="ttdeci">void bash(const spell &amp;sp, Creature &amp;caster, const tripoint &amp;target)</div><div class="ttdef"><b>Definition:</b> <a href="magic__spell__effect_8cpp_source.html#l01025">magic_spell_effect.cpp:1025</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a08481f62adb6937636ea44b855311037"><div class="ttname"><a href="player_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a></div><div class="ttdeci">static const efftype_id effect_downed(&quot;downed&quot;)</div></div>
<div class="ttc" id="apldata_8h_html_a51c99b582921c7fe956e6cb62a7b8fe0"><div class="ttname"><a href="pldata_8h.html#a51c99b582921c7fe956e6cb62a7b8fe0">hp_part</a></div><div class="ttdeci">hp_part</div><div class="ttdef"><b>Definition:</b> <a href="pldata_8h_source.html#l00032">pldata.h:32</a></div></div>
<div class="ttc" id="apldata_8h_html_a51c99b582921c7fe956e6cb62a7b8fe0ad276871b7d0cc8a7678aae85a07a5cc6"><div class="ttname"><a href="pldata_8h.html#a51c99b582921c7fe956e6cb62a7b8fe0ad276871b7d0cc8a7678aae85a07a5cc6">num_hp_parts</a></div><div class="ttdeci">@ num_hp_parts</div><div class="ttdef"><b>Definition:</b> <a href="pldata_8h_source.html#l00040">pldata.h:39</a></div></div>
<div class="ttc" id="astructdamage__instance_html_a36067fd68baf04345d0c3626c67b8cac"><div class="ttname"><a href="structdamage__instance.html#a36067fd68baf04345d0c3626c67b8cac">damage_instance::add_damage</a></div><div class="ttdeci">void add_damage(damage_type dt, float amt, float arpen=0.0f, float arpen_mult=1.0f, float dmg_mult=1.0f)</div><div class="ttdoc">Adds damage to the instance.</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00041">damage.cpp:41</a></div></div>
<div class="ttc" id="astructdealt__damage__instance_html_a86b702070a1c313624abc78ff34eff48"><div class="ttname"><a href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">dealt_damage_instance::total_damage</a></div><div class="ttdeci">int total_damage() const</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00180">damage.cpp:180</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="damage_8cpp_source.html#l00041">damage_instance::add_damage()</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l04373">add_msg_player_or_npc()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01025">spell_effect::bash()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a965ba98fb0eca1e875b86fcf2bc91ab8">bionic_id</a>, <a class="el" href="bodypart_8cpp_source.html#l00185">convert_bp()</a>, <a class="el" href="character_8cpp_source.html#l08437">Character::deal_damage()</a>, <a class="el" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">Creature::disp_name()</a>, <a class="el" href="damage_8h_source.html#l00024">DT_BASH</a>, <a class="el" href="damage_8h_source.html#l00025">DT_CUT</a>, <a class="el" href="player_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, <a class="el" href="player_8cpp_source.html#l01140">fall_damage_mod()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l01876">Character::has_active_bionic()</a>, <a class="el" href="character_8cpp_source.html#l06571">Character::hp_to_bp()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00054">string_id&lt; T &gt;::id()</a>, <a class="el" href="player_8h_source.html#l00114">is_player()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="pldata_8h_source.html#l00039">num_hp_parts</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="mapdata_8h_source.html#l00297">TFLAG_DIGGABLE</a>, <a class="el" href="mapdata_8h_source.html#l00296">TFLAG_SHARP</a>, <a class="el" href="mapdata_8h_source.html#l00279">TFLAG_SWIMMABLE</a>, <a class="el" href="damage_8cpp_source.html#l00180">dealt_damage_instance::total_damage()</a>, and <a class="el" href="calendar_8cpp_source.html#l00521">x_in_y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="trapfunc_8cpp_source.html#l01115">trapfunc::ledge()</a>, and <a class="el" href="ranged_8cpp_source.html#l01108">throw_item()</a>.</p>

</div>
</div>
<a id="a3eab8f8fdf3915abd37edddb25510530" name="a3eab8f8fdf3915abd37edddb25510530"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eab8f8fdf3915abd37edddb25510530">&#9670;&nbsp;</a></span>intimidation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::intimidation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a value used when attempting to intimidate NPC's. </p>
Strength increases intimidation factor 
<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00901">901</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>{<span class="comment"></span></div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span><span class="comment">    /** @EFFECT_STR increases intimidation factor */</span></div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_function" href="classCharacter.html#a5aba683ccf77cb560a0a932308289bd9">get_str</a>() * 2;</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += 10;</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>    }</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a9d4da29e558173400314e00718341eae">damage_melee</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a> ) &gt;= 12 ||</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>        <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a9d4da29e558173400314e00718341eae">damage_melee</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8ff698c0509e78ff65c7c7ec899b4f51">DT_CUT</a> ) &gt;= 12 ||</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>        <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a9d4da29e558173400314e00718341eae">damage_melee</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa12e559f29e023db673e9251b9337d8dd">DT_STAB</a> ) &gt;= 12 ) {</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += 5;</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>    }</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span> </div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a7335f053c5874081211552623fa625c5">get_stim</a>() &gt; 20 ) {</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += 2;</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>    }</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a0b49aa7d4b07c448f7546ba24fb6b233">effect_drunk</a> ) ) {</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> -= 4;</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>    }</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span> </div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>}</div>
<div class="ttc" id="aclassitem_html_a9d4da29e558173400314e00718341eae"><div class="ttname"><a href="classitem.html#a9d4da29e558173400314e00718341eae">item::damage_melee</a></div><div class="ttdeci">int damage_melee(damage_type dt) const</div><div class="ttdoc">Damage of given type caused when this item is used as melee weapon.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05091">item.cpp:5091</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa12e559f29e023db673e9251b9337d8dd"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa12e559f29e023db673e9251b9337d8dd">DT_STAB</a></div><div class="ttdeci">@ DT_STAB</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00027">damage.h:27</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a0b49aa7d4b07c448f7546ba24fb6b233"><div class="ttname"><a href="player_8cpp.html#a0b49aa7d4b07c448f7546ba24fb6b233">effect_drunk</a></div><div class="ttdeci">static const efftype_id effect_drunk(&quot;drunk&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l05091">item::damage_melee()</a>, <a class="el" href="damage_8h_source.html#l00024">DT_BASH</a>, <a class="el" href="damage_8h_source.html#l00025">DT_CUT</a>, <a class="el" href="damage_8h_source.html#l00027">DT_STAB</a>, <a class="el" href="player_8cpp.html#a0b49aa7d4b07c448f7546ba24fb6b233">effect_drunk</a>, <a class="el" href="character_8cpp_source.html#l07142">Character::get_stim()</a>, <a class="el" href="character_8cpp_source.html#l04048">Character::get_str()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="item_8cpp_source.html#l06367">item::is_gun()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, and <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01399">talk_trial::calc_chance()</a>, and <a class="el" href="npctalk_8cpp_source.html#l01365">parse_mod()</a>.</p>

</div>
</div>
<a id="a19f31fc34e96a784d48fde849d7af6fb" name="a19f31fc34e96a784d48fde849d7af6fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19f31fc34e96a784d48fde849d7af6fb">&#9670;&nbsp;</a></span>is_dead_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool player::is_dead_state </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the player should be dead. </p>

<p>Implements <a class="el" href="classCreature.html#ab4c318885f6b9947a7c85d3328d25ffe">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00924">924</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>{</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#ab901ee8b150fdad01ff2028ec8dba84c">get_part_hp_cur</a>( <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;head&quot;</span> ) ) &lt;= 0 ||</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>           <a class="code hl_function" href="classCreature.html#ab901ee8b150fdad01ff2028ec8dba84c">get_part_hp_cur</a>( <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ) ) &lt;= 0;</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8cpp_source.html#l01554">Creature::get_part_hp_cur()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l01434">game::do_turn()</a>, <a class="el" href="handle__action_8cpp_source.html#l01514">game::handle_action()</a>, <a class="el" href="npc_8cpp_source.html#l02396">npc::is_dead()</a>, <a class="el" href="game_8cpp_source.html#l02677">game::is_game_over()</a>, <a class="el" href="player_8cpp_source.html#l00930">on_dodge()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00441">vehicle_part::set_crew()</a>, <a class="el" href="game_8cpp_source.html#l02734">game::win()</a>, and <a class="el" href="game_8cpp_source.html#l02748">game::win_screen()</a>.</p>

</div>
</div>
<a id="ad155441e037e0e038014fca58d93bc4e" name="ad155441e037e0e038014fca58d93bc4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad155441e037e0e038014fca58d93bc4e">&#9670;&nbsp;</a></span>is_hallucination()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool player::is_hallucination </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00583">583</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>{</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4b34c26cb73111ff42bcab11576f51a0" name="a4b34c26cb73111ff42bcab11576f51a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b34c26cb73111ff42bcab11576f51a0">&#9670;&nbsp;</a></span>is_npc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool player::is_npc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00131">131</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>                                     {</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;    <span class="comment">// Overloaded for NPCs in npc.h</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>        }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l02112">activity_on_turn_move_loot()</a>, <a class="el" href="iuse_8cpp_source.html#l05693">iuse::adrenaline_injector()</a>, <a class="el" href="iuse_8cpp_source.html#l05178">iuse::artifact()</a>, <a class="el" href="npcmove_8cpp_source.html#l00359">npc::assess_danger()</a>, <a class="el" href="iuse_8cpp_source.html#l01060">iuse::blech_because_unclean()</a>, <a class="el" href="iuse_8cpp_source.html#l04606">iuse::blood_draw()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03758">activity_handlers::build_do_turn()</a>, <a class="el" href="iuse_8cpp_source.html#l03336">iuse::burrow()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00866">butchery_drops_harvest()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01273">can_do_activity_there()</a>, <a class="el" href="player_8cpp_source.html#l02953">can_takeoff()</a>, <a class="el" href="debug__menu_8cpp_source.html#l00491">debug_menu::character_edit_menu()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02439">check_npc_revert()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04134">activity_handlers::chop_tree_finish()</a>, <a class="el" href="construction_8cpp_source.html#l00958">complete_construction()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02986">veh_interact::complete_vehicle()</a>, <a class="el" href="player_8cpp_source.html#l02052">consume()</a>, <a class="el" href="player_8cpp_source.html#l02015">consume_item()</a>, <a class="el" href="iuse_8cpp_source.html#l00961">iuse::datura()</a>, <a class="el" href="player__activity_8cpp_source.html#l00257">player_activity::do_turn()</a>, <a class="el" href="debug__menu_8cpp_source.html#l01128">debug_menu::mission_debug::edit()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00217">eff_fun_hallu()</a>, <a class="el" href="iuse_8cpp_source.html#l06372">iuse::einktabletpc()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00475">extract_or_wreck_cbms()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01977">fetch_activity()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03102">find_auto_consume()</a>, <a class="el" href="iuse_8cpp_source.html#l01765">iuse::fishing_rod()</a>, <a class="el" href="game_8cpp_source.html#l05285">game::forced_door_closing()</a>, <a class="el" href="iuse_8cpp_source.html#l00653">iuse::fungicide()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02608">generic_multi_activity_check_requirement()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02808">generic_multi_activity_do()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01788">bionic_install_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01897">bionic_install_surgeon_preset::get_denial()</a>, <a class="el" href="iuse_8cpp_source.html#l04466">iuse::hand_crank()</a>, <a class="el" href="npctalk_8cpp_source.html#l00625">npc::handle_sound()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00464">hardcoded_effects()</a>, <a class="el" href="player_8cpp_source.html#l01307">knock_back_to()</a>, <a class="el" href="iuse_8cpp_source.html#l01375">marloss_prevented()</a>, <a class="el" href="iuse_8cpp_source.html#l01436">iuse::mycus()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00584">pickup::obtain_and_tokenize_items()</a>, <a class="el" href="iuse_8cpp_source.html#l04862">iuse::oxytorch()</a>, <a class="el" href="player_8cpp_source.html#l00756">pause()</a>, <a class="el" href="iuse_8cpp_source.html#l03282">iuse::pickaxe()</a>, <a class="el" href="iuse_8cpp_source.html#l00878">iuse::poison()</a>, <a class="el" href="iuse_8cpp_source.html#l04370">iuse::portable_game()</a>, <a class="el" href="sounds_8cpp_source.html#l00386">sounds::process_sound_markers()</a>, <a class="el" href="player_8cpp_source.html#l00319">process_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02056">activity_handlers::pulp_finish()</a>, <a class="el" href="iuse_8cpp_source.html#l01650">iuse::radio_mod()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03341">activity_handlers::read_finish()</a>, <a class="el" href="veh__utils_8cpp_source.html#l00109">veh_utils::repair_part()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01607">requirements_map()</a>, <a class="el" href="iuse_8cpp_source.html#l06003">iuse::seed()</a>, <a class="el" href="player_8cpp_source.html#l02432">select_ammo()</a>, <a class="el" href="crafting_8cpp_source.html#l01299">select_item_component()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00438">sort_armor()</a>, <a class="el" href="player_8cpp_source.html#l02977">takeoff()</a>, <a class="el" href="iuse_8cpp_source.html#l03467">iuse::teleport()</a>, <a class="el" href="bionics_8cpp_source.html#l02085">Character::uninstall_bionic()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01147">pick_lock_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02325">musical_instrument_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03649">heal_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04722">sew_advanced_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03910">heal_actor::use_healing_item()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02259">activity_handlers::vehicle_finish()</a>, and <a class="el" href="iuse_8cpp_source.html#l04500">iuse::vibe()</a>.</p>

</div>
</div>
<a id="af4d6390315e3c781edf8649c5ae59a33" name="af4d6390315e3c781edf8649c5ae59a33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4d6390315e3c781edf8649c5ae59a33">&#9670;&nbsp;</a></span>is_player()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool player::is_player </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCreature.html#a1217a190a2e561227e831a72d4a6d390">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00114">114</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>                                        {</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>        }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l02107">add_faction_warning()</a>, <a class="el" href="bionics_8cpp_source.html#l01766">Character::bionics_uninstall_failure()</a>, <a class="el" href="iexamine_8cpp_source.html#l01145">iexamine::chainfence()</a>, <a class="el" href="debug__menu_8cpp_source.html#l00491">debug_menu::character_edit_menu()</a>, <a class="el" href="construction_8cpp_source.html#l00958">complete_construction()</a>, <a class="el" href="player_8cpp_source.html#l02015">consume_item()</a>, <a class="el" href="monster_8cpp_source.html#l02243">monster::die()</a>, <a class="el" href="avatar_8cpp_source.html#l00716">avatar::do_read()</a>, <a class="el" href="crafting_8cpp_source.html#l02282">drop_or_handle()</a>, <a class="el" href="consumption_8cpp_source.html#l00824">eat()</a>, <a class="el" href="debug__menu_8cpp_source.html#l01128">debug_menu::mission_debug::edit()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00217">eff_fun_hallu()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03374">activity_handlers::find_mount_do_turn()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03741">heal_actor::finish_using()</a>, <a class="el" href="game_8cpp_source.html#l05285">game::forced_door_closing()</a>, <a class="el" href="player_8cpp_source.html#l04087">handle_skill_warning()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00464">hardcoded_effects()</a>, <a class="el" href="iexamine_8cpp_source.html#l01941">harvest_common()</a>, <a class="el" href="player_8cpp_source.html#l01169">impact()</a>, <a class="el" href="mondeath_8cpp_source.html#l00739">mdeath::jabberwock()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01115">trapfunc::ledge()</a>, <a class="el" href="player_8cpp_source.html#l00964">on_hit()</a>, <a class="el" href="melee_8cpp_source.html#l01337">Character::perform_technique()</a>, <a class="el" href="iexamine_8cpp_source.html#l03385">pick_plant()</a>, <a class="el" href="map__field_8cpp_source.html#l01220">map::player_in_field()</a>, <a class="el" href="iexamine_8cpp_source.html#l04697">popup_player_or_npc()</a>, <a class="el" href="mutation__ui_8cpp_source.html#l00089">power_mutations()</a>, <a class="el" href="player_8cpp_source.html#l04005">practice()</a>, <a class="el" href="sounds_8cpp_source.html#l00386">sounds::process_sound_markers()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01016">query_for_item()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01212">game_menus::inv::read()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03318">activity_handlers::read_do_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00685">set_up_butchery_activity()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00438">sort_armor()</a>, <a class="el" href="iexamine_8cpp_source.html#l03741">iexamine::trap()</a>, <a class="el" href="iexamine_8cpp_source.html#l03415">iexamine::tree_hickory()</a>, <a class="el" href="bionics_8cpp_source.html#l02085">Character::uninstall_bionic()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02325">musical_instrument_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04511">mutagen_iv_actor::use()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l03910">heal_actor::use_healing_item()</a>.</p>

</div>
</div>
<a id="a68be73ab25fcde011093fb9f0c2457b4" name="a68be73ab25fcde011093fb9f0c2457b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68be73ab25fcde011093fb9f0c2457b4">&#9670;&nbsp;</a></span>is_stealthy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::is_stealthy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the player has stealthy movement. </p>

<p class="definition">Definition at line <a class="el" href="martialarts_8cpp_source.html#l01188">1188</a> of file <a class="el" href="martialarts_8cpp_source.html">martialarts.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>{</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="martialarts_8cpp.html#a14898c3fa769fd2c6c46c91f57a65250">search_ma_buff_effect</a>( *<a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>, []( <span class="keyword">const</span> <a class="code hl_class" href="classma__buff.html">ma_buff</a> &amp; <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>, <span class="keyword">const</span> <a class="code hl_class" href="classeffect.html">effect</a> &amp; ) {</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>.is_stealthy();</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>    } );</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01030">b</a>, <a class="el" href="creature_8h_source.html#l00808">Creature::effects</a>, and <a class="el" href="martialarts_8cpp_source.html#l01071">search_ma_buff_effect()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l09307">game::walk_move()</a>.</p>

</div>
</div>
<a id="ae4e12c748135487720e2fd1baadaf55b" name="ae4e12c748135487720e2fd1baadaf55b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4e12c748135487720e2fd1baadaf55b">&#9670;&nbsp;</a></span>item_reload_cost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::item_reload_cost </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>ammo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate (but do not deduct) the number of moves required to reload an item with specified quantity of ammo. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">it</td><td>Item to calculate reload cost for </td></tr>
    <tr><td class="paramname">ammo</td><td>either ammo or magazine to use when reloading the item </td></tr>
    <tr><td class="paramname">qty</td><td>maximum units of ammo to reload. Capped by remaining capacity and ignored if reloading using a magazine. </td></tr>
  </table>
  </dd>
</dl>
Gun decreases the time taken to reload a magazine Pistol decreases time taken to reload a pistol Smg decreases time taken to reload an SMG Rifle decreases time taken to reload a rifle Shotgun decreases time taken to reload a shotgun Launcher decreases time taken to reload a launcher Strength reduces reload time of some weapons 
<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02821">2821</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02822" name="l02822"></a><span class="lineno"> 2822</span>{</div>
<div class="line"><a id="l02823" name="l02823"></a><span class="lineno"> 2823</span>    <span class="keywordflow">if</span>( ammo.<a class="code hl_function" href="classitem.html#ac3cc4d74d020cbd36ae490cbe88f9152">is_ammo</a>() ) {</div>
<div class="line"><a id="l02824" name="l02824"></a><span class="lineno"> 2824</span>        qty = std::max( std::min( ammo.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>, qty ), 1 );</div>
<div class="line"><a id="l02825" name="l02825"></a><span class="lineno"> 2825</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ammo.<a class="code hl_function" href="classitem.html#a187a2679361c6546be613657dbad3b3f">is_ammo_container</a>() || ammo.<a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() ) {</div>
<div class="line"><a id="l02826" name="l02826"></a><span class="lineno"> 2826</span>        qty = <a class="code hl_function" href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a>( qty, ammo.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>, 1 );</div>
<div class="line"><a id="l02827" name="l02827"></a><span class="lineno"> 2827</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ammo.<a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a id="l02828" name="l02828"></a><span class="lineno"> 2828</span>        qty = 1;</div>
<div class="line"><a id="l02829" name="l02829"></a><span class="lineno"> 2829</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02830" name="l02830"></a><span class="lineno"> 2830</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;cannot determine reload cost as %s is neither ammo or magazine&quot;</span>, ammo.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02831" name="l02831"></a><span class="lineno"> 2831</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02832" name="l02832"></a><span class="lineno"> 2832</span>    }</div>
<div class="line"><a id="l02833" name="l02833"></a><span class="lineno"> 2833</span> </div>
<div class="line"><a id="l02834" name="l02834"></a><span class="lineno"> 2834</span>    <span class="comment">// If necessary create duplicate with appropriate number of charges</span></div>
<div class="line"><a id="l02835" name="l02835"></a><span class="lineno"> 2835</span>    <a class="code hl_class" href="classitem.html">item</a> obj = ammo;</div>
<div class="line"><a id="l02836" name="l02836"></a><span class="lineno"> 2836</span>    obj = obj.<a class="code hl_function" href="classitem.html#a3c47a272ada88bc7d3d31a6a4b8a672c">split</a>( qty );</div>
<div class="line"><a id="l02837" name="l02837"></a><span class="lineno"> 2837</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l02838" name="l02838"></a><span class="lineno"> 2838</span>        obj = ammo;</div>
<div class="line"><a id="l02839" name="l02839"></a><span class="lineno"> 2839</span>    }</div>
<div class="line"><a id="l02840" name="l02840"></a><span class="lineno"> 2840</span>    <span class="comment">// No base cost for handling ammo - that&#39;s already included in obtain cost</span></div>
<div class="line"><a id="l02841" name="l02841"></a><span class="lineno"> 2841</span>    <span class="comment">// We have the ammo in our hands right now</span></div>
<div class="line"><a id="l02842" name="l02842"></a><span class="lineno"> 2842</span>    <span class="keywordtype">int</span> mv = <a class="code hl_function" href="classCharacter.html#a33b54fd8799f4b1c9f6b0af42dbf33f8">item_handling_cost</a>( obj, <span class="keyword">true</span>, 0 );</div>
<div class="line"><a id="l02843" name="l02843"></a><span class="lineno"> 2843</span> </div>
<div class="line"><a id="l02844" name="l02844"></a><span class="lineno"> 2844</span>    <span class="keywordflow">if</span>( ammo.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;MAG_BULKY&quot;</span> ) ) {</div>
<div class="line"><a id="l02845" name="l02845"></a><span class="lineno"> 2845</span>        mv *= 1.5; <span class="comment">// bulky magazines take longer to insert</span></div>
<div class="line"><a id="l02846" name="l02846"></a><span class="lineno"> 2846</span>    }</div>
<div class="line"><a id="l02847" name="l02847"></a><span class="lineno"> 2847</span> </div>
<div class="line"><a id="l02848" name="l02848"></a><span class="lineno"> 2848</span>    <span class="keywordflow">if</span>( !it.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp; !it.<a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a id="l02849" name="l02849"></a><span class="lineno"> 2849</span>        <span class="keywordflow">return</span> mv + 100; <span class="comment">// reload a tool or sealable container</span></div>
<div class="line"><a id="l02850" name="l02850"></a><span class="lineno"> 2850</span>    }</div>
<div class="line"><a id="l02851" name="l02851"></a><span class="lineno"> 2851</span><span class="comment"></span> </div>
<div class="line"><a id="l02852" name="l02852"></a><span class="lineno"> 2852</span><span class="comment">    /** @EFFECT_GUN decreases the time taken to reload a magazine */</span><span class="comment"></span></div>
<div class="line"><a id="l02853" name="l02853"></a><span class="lineno"> 2853</span><span class="comment">    /** @EFFECT_PISTOL decreases time taken to reload a pistol */</span><span class="comment"></span></div>
<div class="line"><a id="l02854" name="l02854"></a><span class="lineno"> 2854</span><span class="comment">    /** @EFFECT_SMG decreases time taken to reload an SMG */</span><span class="comment"></span></div>
<div class="line"><a id="l02855" name="l02855"></a><span class="lineno"> 2855</span><span class="comment">    /** @EFFECT_RIFLE decreases time taken to reload a rifle */</span><span class="comment"></span></div>
<div class="line"><a id="l02856" name="l02856"></a><span class="lineno"> 2856</span><span class="comment">    /** @EFFECT_SHOTGUN decreases time taken to reload a shotgun */</span><span class="comment"></span></div>
<div class="line"><a id="l02857" name="l02857"></a><span class="lineno"> 2857</span><span class="comment">    /** @EFFECT_LAUNCHER decreases time taken to reload a launcher */</span></div>
<div class="line"><a id="l02858" name="l02858"></a><span class="lineno"> 2858</span> </div>
<div class="line"><a id="l02859" name="l02859"></a><span class="lineno"> 2859</span>    <span class="keywordtype">int</span> cost = ( it.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ? it.<a class="code hl_function" href="classitem.html#aad3353f629e527eb4b9f6c2f666f9e36">get_reload_time</a>() : it.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;reload_time ) * qty;</div>
<div class="line"><a id="l02860" name="l02860"></a><span class="lineno"> 2860</span> </div>
<div class="line"><a id="l02861" name="l02861"></a><span class="lineno"> 2861</span>    <a class="code hl_class" href="classstring__id.html">skill_id</a> sk = it.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ? it.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;skill_used : <a class="code hl_variable" href="player_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a>;</div>
<div class="line"><a id="l02862" name="l02862"></a><span class="lineno"> 2862</span>    mv += cost / ( 1.0f + std::min( <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( sk ) * 0.1f, 1.0f ) );</div>
<div class="line"><a id="l02863" name="l02863"></a><span class="lineno"> 2863</span> </div>
<div class="line"><a id="l02864" name="l02864"></a><span class="lineno"> 2864</span>    <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;STR_RELOAD&quot;</span> ) ) {<span class="comment"></span></div>
<div class="line"><a id="l02865" name="l02865"></a><span class="lineno"> 2865</span><span class="comment">        /** @EFFECT_STR reduces reload time of some weapons */</span></div>
<div class="line"><a id="l02866" name="l02866"></a><span class="lineno"> 2866</span>        mv -= <a class="code hl_function" href="classCharacter.html#a5aba683ccf77cb560a0a932308289bd9">get_str</a>() * 20;</div>
<div class="line"><a id="l02867" name="l02867"></a><span class="lineno"> 2867</span>    }</div>
<div class="line"><a id="l02868" name="l02868"></a><span class="lineno"> 2868</span> </div>
<div class="line"><a id="l02869" name="l02869"></a><span class="lineno"> 2869</span>    <span class="keywordflow">return</span> std::max( mv, 25 );</div>
<div class="line"><a id="l02870" name="l02870"></a><span class="lineno"> 2870</span>}</div>
<div class="ttc" id="acata__utility_8h_html_ad22b4a043b6eb4c2c06f87f83b720b15"><div class="ttname"><a href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a></div><div class="ttdeci">constexpr T clamp(const T &amp;val, const T &amp;min, const T &amp;max)</div><div class="ttdoc">Clamp first argument so that it is no lower than second and no higher than third.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8h_source.html#l00145">cata_utility.h:145</a></div></div>
<div class="ttc" id="aclassCharacter_html_a33b54fd8799f4b1c9f6b0af42dbf33f8"><div class="ttname"><a href="classCharacter.html#a33b54fd8799f4b1c9f6b0af42dbf33f8">Character::item_handling_cost</a></div><div class="ttdeci">int item_handling_cost(const item &amp;it, bool penalties=true, int base_cost=INVENTORY_HANDLING_PENALTY) const</div><div class="ttdoc">Calculate (but do not deduct) the number of moves required when handling (e.g.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07553">character.cpp:7553</a></div></div>
<div class="ttc" id="aclassitem_html_a187a2679361c6546be613657dbad3b3f"><div class="ttname"><a href="classitem.html#a187a2679361c6546be613657dbad3b3f">item::is_ammo_container</a></div><div class="ttdeci">bool is_ammo_container() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06512">item.cpp:6512</a></div></div>
<div class="ttc" id="aclassitem_html_a3c47a272ada88bc7d3d31a6a4b8a672c"><div class="ttname"><a href="classitem.html#a3c47a272ada88bc7d3d31a6a4b8a672c">item::split</a></div><div class="ttdeci">item split(int qty)</div><div class="ttdoc">Splits a count-by-charges item always leaving source item with minimum of 1 charge.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00718">item.cpp:718</a></div></div>
<div class="ttc" id="aclassitem_html_aad3353f629e527eb4b9f6c2f666f9e36"><div class="ttname"><a href="classitem.html#aad3353f629e527eb4b9f6c2f666f9e36">item::get_reload_time</a></div><div class="ttdeci">int get_reload_time() const</div><div class="ttdoc">Returns the reload time of the gun.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06378">item.cpp:6378</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a3eadead4a9aa7fee079c0b1acce7965e"><div class="ttname"><a href="player_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a></div><div class="ttdeci">static const skill_id skill_gun(&quot;gun&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="cata__utility_8h_source.html#l00145">clamp()</a>, <a class="el" href="item_8h_source.html#l02157">item::contents</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item_8cpp_source.html#l06378">item::get_reload_time()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="character_8cpp_source.html#l04048">Character::get_str()</a>, <a class="el" href="itype_8h_source.html#l00857">itype::gun</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06432">item::is_ammo()</a>, <a class="el" href="item_8cpp_source.html#l06512">item::is_ammo_container()</a>, <a class="el" href="item_8cpp_source.html#l06569">item::is_container()</a>, <a class="el" href="item_8cpp_source.html#l06367">item::is_gun()</a>, <a class="el" href="item_8cpp_source.html#l06407">item::is_magazine()</a>, <a class="el" href="item_8cpp_source.html#l00729">item::is_null()</a>, <a class="el" href="character_8cpp_source.html#l07553">Character::item_handling_cost()</a>, <a class="el" href="itype_8h_source.html#l00859">itype::magazine</a>, <a class="el" href="player_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a>, <a class="el" href="item_8cpp_source.html#l00718">item::split()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l04547">npc::do_reload()</a>, <a class="el" href="npcmove_8cpp_source.html#l02116">npc::enough_time_to_reload()</a>, and <a class="el" href="player_8cpp_source.html#l03047">unload()</a>.</p>

</div>
</div>
<a id="a9f726b620ef0ada3e6c5e2d2dfca635d" name="a9f726b620ef0ada3e6c5e2d2dfca635d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f726b620ef0ada3e6c5e2d2dfca635d">&#9670;&nbsp;</a></span>kcal_speed_penalty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::kcal_speed_penalty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00471">471</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>{</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::vector&lt;std::pair&lt;float, float&gt;&gt; starv_thresholds = { {</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>            std::make_pair( 0.0f, -90.0f ),</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>            std::make_pair( 0.1f, -50.f ),</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>            std::make_pair( 0.3f, -25.0f ),</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>            std::make_pair( 0.5f, 0.0f )</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>        }</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>    };</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a42c4ba47635e0659553c233c399da84a">get_kcal_percent</a>() &gt; 0.95f ) {</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>        <span class="keywordflow">return</span> std::round( <a class="code hl_function" href="cata__utility_8cpp.html#ac49c7bae3c3ac926a5501ffb127c1e97">multi_lerp</a>( starv_thresholds, <a class="code hl_function" href="classCharacter.html#a42c4ba47635e0659553c233c399da84a">get_kcal_percent</a>() ) );</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>    }</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>}</div>
<div class="ttc" id="aclassCharacter_html_a42c4ba47635e0659553c233c399da84a"><div class="ttname"><a href="classCharacter.html#a42c4ba47635e0659553c233c399da84a">Character::get_kcal_percent</a></div><div class="ttdeci">float get_kcal_percent() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04306">character.cpp:4306</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l04306">Character::get_kcal_percent()</a>, and <a class="el" href="cata__utility_8cpp_source.html#l00156">multi_lerp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__display_8cpp_source.html#l00759">draw_speed_tab()</a>, and <a class="el" href="player_8cpp_source.html#l00501">recalc_speed_bonus()</a>.</p>

</div>
</div>
<a id="a9b07f11977446bd749238eb0dc424c61" name="a9b07f11977446bd749238eb0dc424c61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b07f11977446bd749238eb0dc424c61">&#9670;&nbsp;</a></span>knock_back_to()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void player::knock_back_to </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>to</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Knocks the player to a specified tile. </p>
Maximum Strength allows knocked back player to knock back, damage, stun some monsters 
<p>Implements <a class="el" href="classCreature.html#af79c1e1ef891477157860a3e31db8492">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01307">1307</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>{</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>    <span class="keywordflow">if</span>( to == <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) {</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>    }</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span> </div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>    <span class="comment">// First, see if we hit a monster</span></div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>    <span class="keywordflow">if</span>( <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> critter = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( to ) ) {</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>        <a class="code hl_function" href="classCharacter.html#a2c05090cba2078f9ebefd80e61564be3">deal_damage</a>( critter, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a>, critter-&gt;type-&gt;size ) );</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>        <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, 1_turns );<span class="comment"></span></div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span><span class="comment">        /** @EFFECT_STR_MAX allows knocked back player to knock back, damage, stun some monsters */</span></div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>        <span class="keywordflow">if</span>( ( <a class="code hl_variable" href="classCharacter.html#a0bbd9aa7982f98e08f67db130e4eb9f8">str_max</a> - 6 ) / 4 &gt; critter-&gt;type-&gt;size ) {</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>            critter-&gt;knock_back_from( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ); <span class="comment">// Chain reaction!</span></div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>            critter-&gt;apply_damage( <span class="keyword">this</span>, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), ( <a class="code hl_variable" href="classCharacter.html#a0bbd9aa7982f98e08f67db130e4eb9f8">str_max</a> - 6 ) / 4 );</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>            critter-&gt;add_effect( <a class="code hl_variable" href="player_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, 1_turns );</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ( <a class="code hl_variable" href="classCharacter.html#a0bbd9aa7982f98e08f67db130e4eb9f8">str_max</a> - 6 ) / 4 == critter-&gt;type-&gt;size ) {</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>            critter-&gt;apply_damage( <span class="keyword">this</span>, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), ( <a class="code hl_variable" href="classCharacter.html#a0bbd9aa7982f98e08f67db130e4eb9f8">str_max</a> - 6 ) / 4 );</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>            critter-&gt;add_effect( <a class="code hl_variable" href="player_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, 1_turns );</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>        }</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>        critter-&gt;check_dead_state();</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span> </div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You bounce off a %s!&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; bounces off a %s!&quot;</span> ),</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>                               critter-&gt;name() );</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>    }</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span> </div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>    <span class="keywordflow">if</span>( <a class="code hl_class" href="classnpc.html">npc</a> *<span class="keyword">const</span> np = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classnpc.html">npc</a>&gt;( to ) ) {</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>        <a class="code hl_function" href="classCharacter.html#a2c05090cba2078f9ebefd80e61564be3">deal_damage</a>( np, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a>, np-&gt;get_size() + 1 ) );</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>        <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, 1_turns );</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>        np-&gt;deal_damage( <span class="keyword">this</span>, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a>, 3 ) );</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You bounce off %s!&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; bounces off %s!&quot;</span> ),</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>                               np-&gt;name );</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>        np-&gt;check_dead_state();</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>    }</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span> </div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>    <span class="comment">// If we&#39;re still in the function at this point, we&#39;re actually moving a tile!</span></div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <span class="stringliteral">&quot;LIQUID&quot;</span>, to ) &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <a class="code hl_enumvalue" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258aeb9fcbd752ad2c632ccc4383c5641b69">TFLAG_DEEP_WATER</a>, to ) ) {</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>            <a class="code hl_function" href="namespaceavatar__action.html#a9611563bffc4224b3e724db03688bdd4">avatar_action::swim</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, to );</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>        }</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>        <span class="comment">// TODO: NPCs can&#39;t swim!</span></div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.impassable( to ) ) { <span class="comment">// Wait, it&#39;s a wall</span></div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span> </div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>        <span class="comment">// It&#39;s some kind of wall.</span></div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>        <span class="comment">// TODO: who knocked us back? Maybe that creature should be the source of the damage?</span></div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>        <a class="code hl_function" href="classCharacter.html#a7c11a4f12bee9f80279bff21faa54153">apply_damage</a>( <span class="keyword">nullptr</span>, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), 3 );</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>        <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, 2_turns );</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You bounce off a %s!&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; bounces off a %s!&quot;</span> ),</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>                               <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.obstacle_name( to ) );</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span> </div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>    } <span class="keywordflow">else</span> { <span class="comment">// It&#39;s no wall</span></div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>        <a class="code hl_function" href="classCharacter.html#a81bb9016c05d558713f6bce2512cd9e5">setpos</a>( to );</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>    }</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>}</div>
<div class="ttc" id="aclassCharacter_html_a81bb9016c05d558713f6bce2512cd9e5"><div class="ttname"><a href="classCharacter.html#a81bb9016c05d558713f6bce2512cd9e5">Character::setpos</a></div><div class="ttdeci">void setpos(const tripoint &amp;p) override</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00856">character.h:856</a></div></div>
<div class="ttc" id="amapdata_8h_html_aa04d037303ea30193f7cf0cd82304258aeb9fcbd752ad2c632ccc4383c5641b69"><div class="ttname"><a href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258aeb9fcbd752ad2c632ccc4383c5641b69">TFLAG_DEEP_WATER</a></div><div class="ttdeci">@ TFLAG_DEEP_WATER</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00301">mapdata.h:301</a></div></div>
<div class="ttc" id="anamespaceavatar__action_html_a9611563bffc4224b3e724db03688bdd4"><div class="ttname"><a href="namespaceavatar__action.html#a9611563bffc4224b3e724db03688bdd4">avatar_action::swim</a></div><div class="ttdeci">void swim(map &amp;m, avatar &amp;you, const tripoint &amp;p)</div><div class="ttdoc">Handles swimming by the player.</div><div class="ttdef"><b>Definition:</b> <a href="avatar__action_8cpp_source.html#l00489">avatar_action.cpp:489</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04373">add_msg_player_or_npc()</a>, <a class="el" href="character_8cpp_source.html#l08385">Character::apply_damage()</a>, <a class="el" href="character_8cpp_source.html#l08437">Character::deal_damage()</a>, <a class="el" href="damage_8h_source.html#l00024">DT_BASH</a>, <a class="el" href="player_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="player_8h_source.html#l00131">is_npc()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="character_8h_source.html#l00856">Character::setpos()</a>, <a class="el" href="character_8h_source.html#l00299">Character::str_max</a>, <a class="el" href="avatar__action_8cpp_source.html#l00489">avatar_action::swim()</a>, and <a class="el" href="mapdata_8h_source.html#l00301">TFLAG_DEEP_WATER</a>.</p>

</div>
</div>
<a id="abc8b110d8e655cfc6d27b7bdc67fab3b" name="abc8b110d8e655cfc6d27b7bdc67fab3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc8b110d8e655cfc6d27b7bdc67fab3b">&#9670;&nbsp;</a></span>knows_recipe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::knows_recipe </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> *&#160;</td>
          <td class="paramname"><em>rec</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04118">4118</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04119" name="l04119"></a><span class="lineno"> 4119</span>{</div>
<div class="line"><a id="l04120" name="l04120"></a><span class="lineno"> 4120</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classplayer.html#a774d62f7d266fb6816af6f937c94d66f">get_learned_recipes</a>().<a class="code hl_function" href="classrecipe__subset.html#aa203423796af5a2df986df6eac3544c2">contains</a>( *rec );</div>
<div class="line"><a id="l04121" name="l04121"></a><span class="lineno"> 4121</span>}</div>
<div class="ttc" id="aclassrecipe__subset_html_aa203423796af5a2df986df6eac3544c2"><div class="ttname"><a href="classrecipe__subset.html#aa203423796af5a2df986df6eac3544c2">recipe_subset::contains</a></div><div class="ttdeci">bool contains(const recipe &amp;r) const</div><div class="ttdoc">Check if the subset contains a recipe with the specified id.</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8h_source.html#l00106">recipe_dictionary.h:106</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="recipe__dictionary_8h_source.html#l00106">recipe_subset::contains()</a>, and <a class="el" href="player_8cpp_source.html#l03700">get_learned_recipes()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l01007">complete_craft()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">complete_disassemble()</a>, <a class="el" href="newcharacter_8cpp_source.html#l00376">avatar::create()</a>, <a class="el" href="crafting_8cpp_source.html#l01933">disassemble()</a>, <a class="el" href="avatar_8cpp_source.html#l00716">avatar::do_read()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03202">find_repair_difficulty()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01199">read_inventory_preset::get_known_recipes()</a>, <a class="el" href="player_8cpp_source.html#l04123">has_recipe()</a>, <a class="el" href="crafting__gui_8cpp_source.html#l00161">select_crafting_recipe()</a>, <a class="el" href="condition_8cpp_source.html#l00881">conditional_t&lt; T &gt;::set_u_know_recipe()</a>, <a class="el" href="avatar_8cpp_source.html#l00652">skim_book_msg()</a>, and <a class="el" href="player_8cpp_source.html#l03687">studied_all_recipes()</a>.</p>

</div>
</div>
<a id="a2258c1cee5a8603dbe0bedaa3cd52383" name="a2258c1cee5a8603dbe0bedaa3cd52383"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2258c1cee5a8603dbe0bedaa3cd52383">&#9670;&nbsp;</a></span>learn_recipe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::learn_recipe </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> *&#160;</td>
          <td class="paramname"><em>rec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04138">4138</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04139" name="l04139"></a><span class="lineno"> 4139</span>{</div>
<div class="line"><a id="l04140" name="l04140"></a><span class="lineno"> 4140</span>    <span class="keywordflow">if</span>( rec-&gt;<a class="code hl_variable" href="classrecipe.html#a4cef438022b658f9c4db2b7c46341a2c">never_learn</a> ) {</div>
<div class="line"><a id="l04141" name="l04141"></a><span class="lineno"> 4141</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l04142" name="l04142"></a><span class="lineno"> 4142</span>    }</div>
<div class="line"><a id="l04143" name="l04143"></a><span class="lineno"> 4143</span>    <a class="code hl_variable" href="classplayer.html#ae02e3074363fa28982a0f7e08f4cc8ad">learned_recipes</a>-&gt;include( rec );</div>
<div class="line"><a id="l04144" name="l04144"></a><span class="lineno"> 4144</span>}</div>
<div class="ttc" id="aclassrecipe_html_a4cef438022b658f9c4db2b7c46341a2c"><div class="ttname"><a href="classrecipe.html#a4cef438022b658f9c4db2b7c46341a2c">recipe::never_learn</a></div><div class="ttdeci">bool never_learn</div><div class="ttdoc">Prevent this recipe from ever being added to the player's learned recipies ( used for special NPC cra...</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00091">recipe.h:91</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player_8h_source.html#l00774">learned_recipes</a>, and <a class="el" href="recipe_8h_source.html#l00091">recipe::never_learn</a>.</p>

<p class="reference">Referenced by <a class="el" href="debug__menu_8cpp_source.html#l00491">debug_menu::character_edit_menu()</a>, <a class="el" href="crafting_8cpp_source.html#l01007">complete_craft()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">complete_disassemble()</a>, <a class="el" href="newcharacter_8cpp_source.html#l00376">avatar::create()</a>, and <a class="el" href="avatar_8cpp_source.html#l00716">avatar::do_read()</a>.</p>

</div>
</div>
<a id="a8ee047b1912857bcc83e625f1ac377f7" name="a8ee047b1912857bcc83e625f1ac377f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ee047b1912857bcc83e625f1ac377f7">&#9670;&nbsp;</a></span>lighting_craft_speed_multiplier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float player::lighting_craft_speed_multiplier </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>rec</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00131">131</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>{</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="comment">// negative is bright, 0 is just bright enough, positive is dark, +7.0f is pitch black</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="keywordtype">float</span> darkness = <a class="code hl_function" href="classplayer.html#a679df6703c948c0fffa835885a857f42">fine_detail_vision_mod</a>() - 4.0f;</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="keywordflow">if</span>( darkness &lt;= 0.0f ) {</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>        <span class="keywordflow">return</span> 1.0f; <span class="comment">// it&#39;s bright, go for it</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    }</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="keywordtype">bool</span> rec_blind = rec.<a class="code hl_function" href="classrecipe.html#aca293605940df4e5c431fa8ba5009074">has_flag</a>( <a class="code hl_function" href="crafting_8cpp.html#aca65d188b99ba28b7aa105b7ed7bd077">flag_BLIND_HARD</a> ) || rec.<a class="code hl_function" href="classrecipe.html#aca293605940df4e5c431fa8ba5009074">has_flag</a>( <a class="code hl_function" href="crafting_8cpp.html#a82b84a91dff6914a85f043f856341c9a">flag_BLIND_EASY</a> );</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <span class="keywordflow">if</span>( darkness &gt; 0 &amp;&amp; !rec_blind ) {</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>        <span class="keywordflow">return</span> 0.0f; <span class="comment">// it&#39;s dark and this recipe can&#39;t be crafted in the dark</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    }</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="keywordflow">if</span>( rec.<a class="code hl_function" href="classrecipe.html#aca293605940df4e5c431fa8ba5009074">has_flag</a>( <a class="code hl_function" href="crafting_8cpp.html#a82b84a91dff6914a85f043f856341c9a">flag_BLIND_EASY</a> ) ) {</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>        <span class="comment">// 100% speed in well lit area at skill+0</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>        <span class="comment">// 25% speed in pitch black at skill+0</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>        <span class="comment">// skill+2 removes speed penalty</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>        <span class="keywordflow">return</span> 1.0f - ( darkness / ( 7.0f / 0.75f ) ) * std::max( 0,</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>                2 - <a class="code hl_function" href="classplayer.html#ac2032d28e8d6dd731cc838e30e709c2a">exceeds_recipe_requirements</a>( rec ) ) / 2.0f;</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    }</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <span class="keywordflow">if</span>( rec.<a class="code hl_function" href="classrecipe.html#aca293605940df4e5c431fa8ba5009074">has_flag</a>( <a class="code hl_function" href="crafting_8cpp.html#aca65d188b99ba28b7aa105b7ed7bd077">flag_BLIND_HARD</a> ) &amp;&amp; <a class="code hl_function" href="classplayer.html#ac2032d28e8d6dd731cc838e30e709c2a">exceeds_recipe_requirements</a>( rec ) &gt;= 2 ) {</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>        <span class="comment">// 100% speed in well lit area at skill+2</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>        <span class="comment">// 25% speed in pitch black at skill+2</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>        <span class="comment">// skill+8 removes speed penalty</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>        <span class="keywordflow">return</span> 1.0f - ( darkness / ( 7.0f / 0.75f ) ) * std::max( 0,</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>                8 - <a class="code hl_function" href="classplayer.html#ac2032d28e8d6dd731cc838e30e709c2a">exceeds_recipe_requirements</a>( rec ) ) / 6.0f;</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    }</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    <span class="keywordflow">return</span> 0.0f; <span class="comment">// it&#39;s dark and you could craft this if you had more skill</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>}</div>
<div class="ttc" id="aclassplayer_html_a679df6703c948c0fffa835885a857f42"><div class="ttname"><a href="classplayer.html#a679df6703c948c0fffa835885a857f42">player::fine_detail_vision_mod</a></div><div class="ttdeci">float fine_detail_vision_mod(const tripoint &amp;p=tripoint_zero) const</div><div class="ttdoc">Returns a value from 1.0 to 5.0 that acts as a multiplier for the time taken to perform tasks that re...</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03983">player.cpp:3983</a></div></div>
<div class="ttc" id="aclassplayer_html_ac2032d28e8d6dd731cc838e30e709c2a"><div class="ttname"><a href="classplayer.html#ac2032d28e8d6dd731cc838e30e709c2a">player::exceeds_recipe_requirements</a></div><div class="ttdeci">int exceeds_recipe_requirements(const recipe &amp;rec) const</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04102">player.cpp:4102</a></div></div>
<div class="ttc" id="acrafting_8cpp_html_a82b84a91dff6914a85f043f856341c9a"><div class="ttname"><a href="crafting_8cpp.html#a82b84a91dff6914a85f043f856341c9a">flag_BLIND_EASY</a></div><div class="ttdeci">static const std::string flag_BLIND_EASY(&quot;BLIND_EASY&quot;)</div></div>
<div class="ttc" id="acrafting_8cpp_html_aca65d188b99ba28b7aa105b7ed7bd077"><div class="ttname"><a href="crafting_8cpp.html#aca65d188b99ba28b7aa105b7ed7bd077">flag_BLIND_HARD</a></div><div class="ttdeci">static const std::string flag_BLIND_HARD(&quot;BLIND_HARD&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player_8cpp_source.html#l04102">exceeds_recipe_requirements()</a>, <a class="el" href="player_8cpp_source.html#l03983">fine_detail_vision_mod()</a>, <a class="el" href="crafting_8cpp.html#a82b84a91dff6914a85f043f856341c9a">flag_BLIND_EASY()</a>, <a class="el" href="crafting_8cpp.html#aca65d188b99ba28b7aa105b7ed7bd077">flag_BLIND_HARD()</a>, and <a class="el" href="recipe_8cpp_source.html#l00092">recipe::has_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l01855">can_disassemble()</a>, <a class="el" href="player__activity_8cpp_source.html#l00118">craft_progress_message()</a>, <a class="el" href="crafting_8cpp_source.html#l00112">crafting_allowed()</a>, <a class="el" href="crafting_8cpp_source.html#l00261">crafting_speed_multiplier()</a>, and <a class="el" href="crafting__gui_8cpp_source.html#l01088">draw_can_craft_indicator()</a>.</p>

</div>
</div>
<a id="ad6f920376059ceec5700f70986435a34" name="ad6f920376059ceec5700f70986435a34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6f920376059ceec5700f70986435a34">&#9670;&nbsp;</a></span>list_ammo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::list_ammo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classitem_1_1reload__option.html">item::reload_option</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>ammo_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>include_empty_mags</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>include_potential</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02389">2389</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02391" name="l02391"></a><span class="lineno"> 2391</span>{</div>
<div class="line"><a id="l02392" name="l02392"></a><span class="lineno"> 2392</span>    <span class="keyword">auto</span> opts = base.<a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>();</div>
<div class="line"><a id="l02393" name="l02393"></a><span class="lineno"> 2393</span>    opts.push_back( &amp;base );</div>
<div class="line"><a id="l02394" name="l02394"></a><span class="lineno"> 2394</span> </div>
<div class="line"><a id="l02395" name="l02395"></a><span class="lineno"> 2395</span>    <span class="keywordflow">if</span>( base.<a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>() ) {</div>
<div class="line"><a id="l02396" name="l02396"></a><span class="lineno"> 2396</span>        opts.push_back( base.<a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>() );</div>
<div class="line"><a id="l02397" name="l02397"></a><span class="lineno"> 2397</span>    }</div>
<div class="line"><a id="l02398" name="l02398"></a><span class="lineno"> 2398</span> </div>
<div class="line"><a id="l02399" name="l02399"></a><span class="lineno"> 2399</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> : base.<a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l02400" name="l02400"></a><span class="lineno"> 2400</span>        <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;magazine_current() ) {</div>
<div class="line"><a id="l02401" name="l02401"></a><span class="lineno"> 2401</span>            opts.push_back( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;magazine_current() );</div>
<div class="line"><a id="l02402" name="l02402"></a><span class="lineno"> 2402</span>        }</div>
<div class="line"><a id="l02403" name="l02403"></a><span class="lineno"> 2403</span>    }</div>
<div class="line"><a id="l02404" name="l02404"></a><span class="lineno"> 2404</span> </div>
<div class="line"><a id="l02405" name="l02405"></a><span class="lineno"> 2405</span>    <span class="keywordtype">bool</span> ammo_match_found = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02406" name="l02406"></a><span class="lineno"> 2406</span>    <span class="keywordtype">int</span> ammo_search_range = <a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ? -1 : 1;</div>
<div class="line"><a id="l02407" name="l02407"></a><span class="lineno"> 2407</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> e : opts ) {</div>
<div class="line"><a id="l02408" name="l02408"></a><span class="lineno"> 2408</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem__location.html">item_location</a> &amp;ammo : <a class="code hl_function" href="classCharacter.html#af6a33462a9476b6f490a6cea8b19d5a4">find_ammo</a>( *e, include_empty_mags, ammo_search_range ) ) {</div>
<div class="line"><a id="l02409" name="l02409"></a><span class="lineno"> 2409</span>            <span class="comment">// don&#39;t try to unload frozen liquids</span></div>
<div class="line"><a id="l02410" name="l02410"></a><span class="lineno"> 2410</span>            <span class="keywordflow">if</span>( ammo-&gt;is_watertight_container() &amp;&amp; ammo-&gt;contents_made_of( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a1b45f84e1f6603b52e5ef442836df9af">SOLID</a> ) ) {</div>
<div class="line"><a id="l02411" name="l02411"></a><span class="lineno"> 2411</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02412" name="l02412"></a><span class="lineno"> 2412</span>            }</div>
<div class="line"><a id="l02413" name="l02413"></a><span class="lineno"> 2413</span>            <span class="keyword">auto</span> <span class="keywordtype">id</span> = ( ammo-&gt;is_ammo_container() || ammo-&gt;is_container() )</div>
<div class="line"><a id="l02414" name="l02414"></a><span class="lineno"> 2414</span>                      ? ammo-&gt;contents.front().typeId()</div>
<div class="line"><a id="l02415" name="l02415"></a><span class="lineno"> 2415</span>                      : ammo-&gt;typeId();</div>
<div class="line"><a id="l02416" name="l02416"></a><span class="lineno"> 2416</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> can_reload_with = e-&gt;can_reload_with( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l02417" name="l02417"></a><span class="lineno"> 2417</span>            <span class="keywordflow">if</span>( can_reload_with ) {</div>
<div class="line"><a id="l02418" name="l02418"></a><span class="lineno"> 2418</span>                <span class="comment">// Speedloaders require an empty target.</span></div>
<div class="line"><a id="l02419" name="l02419"></a><span class="lineno"> 2419</span>                <span class="keywordflow">if</span>( include_potential || !ammo-&gt;has_flag( <span class="stringliteral">&quot;SPEEDLOADER&quot;</span> ) || e-&gt;ammo_remaining() &lt; 1 ) {</div>
<div class="line"><a id="l02420" name="l02420"></a><span class="lineno"> 2420</span>                    ammo_match_found = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02421" name="l02421"></a><span class="lineno"> 2421</span>                }</div>
<div class="line"><a id="l02422" name="l02422"></a><span class="lineno"> 2422</span>            }</div>
<div class="line"><a id="l02423" name="l02423"></a><span class="lineno"> 2423</span>            <span class="keywordflow">if</span>( ( include_potential &amp;&amp; can_reload_with )</div>
<div class="line"><a id="l02424" name="l02424"></a><span class="lineno"> 2424</span>                || <a class="code hl_function" href="classplayer.html#a373081bc6d2cfc6c8917398f87052747">can_reload</a>( *e, <span class="keywordtype">id</span> ) || e-&gt;has_flag( <span class="stringliteral">&quot;RELOAD_AND_SHOOT&quot;</span> ) ) {</div>
<div class="line"><a id="l02425" name="l02425"></a><span class="lineno"> 2425</span>                ammo_list.emplace_back( <span class="keyword">this</span>, e, &amp;base, ammo );</div>
<div class="line"><a id="l02426" name="l02426"></a><span class="lineno"> 2426</span>            }</div>
<div class="line"><a id="l02427" name="l02427"></a><span class="lineno"> 2427</span>        }</div>
<div class="line"><a id="l02428" name="l02428"></a><span class="lineno"> 2428</span>    }</div>
<div class="line"><a id="l02429" name="l02429"></a><span class="lineno"> 2429</span>    <span class="keywordflow">return</span> ammo_match_found;</div>
<div class="line"><a id="l02430" name="l02430"></a><span class="lineno"> 2430</span>}</div>
<div class="ttc" id="aclassCharacter_html_af6a33462a9476b6f490a6cea8b19d5a4"><div class="ttname"><a href="classCharacter.html#af6a33462a9476b6f490a6cea8b19d5a4">Character::find_ammo</a></div><div class="ttdeci">std::vector&lt; item_location &gt; find_ammo(const item &amp;obj, bool empty=true, int radius=1) const</div><div class="ttdoc">Searches for ammo or magazines that can be used to reload obj.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02657">character.cpp:2657</a></div></div>
<div class="ttc" id="aclassplayer_html_a373081bc6d2cfc6c8917398f87052747"><div class="ttname"><a href="classplayer.html#a373081bc6d2cfc6c8917398f87052747">player::can_reload</a></div><div class="ttdeci">bool can_reload(const item &amp;it, const itype_id &amp;ammo=itype_id()) const</div><div class="ttdoc">Whether a tool or gun is potentially reloadable (optionally considering a specific ammo)</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l02649">player.cpp:2649</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5a1b45f84e1f6603b52e5ef442836df9af"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a1b45f84e1f6603b52e5ef442836df9af">SOLID</a></div><div class="ttdeci">@ SOLID</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00175">enums.h:175</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player_8cpp_source.html#l02649">can_reload()</a>, <a class="el" href="item_8h_source.html#l02157">item::contents</a>, <a class="el" href="item_8cpp_source.html#l06315">item::contents_made_of()</a>, <a class="el" href="character_8cpp_source.html#l02657">Character::find_ammo()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item_8cpp_source.html#l07578">item::gunmods()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06512">item::is_ammo_container()</a>, <a class="el" href="item_8cpp_source.html#l06569">item::is_container()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="item_8cpp_source.html#l06574">item::is_watertight_container()</a>, <a class="el" href="item_8cpp_source.html#l07565">item::magazine_current()</a>, <a class="el" href="enums_8h_source.html#l00175">SOLID</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l08812">favorite_ammo_or_select()</a>, and <a class="el" href="player_8cpp_source.html#l02432">select_ammo()</a>.</p>

</div>
</div>
<a id="a4f8e0a158be5658ce435a796494c9ad7" name="a4f8e0a158be5658ce435a796494c9ad7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f8e0a158be5658ce435a796494c9ad7">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void player::load </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load variables from json into object. </p>
<p >These variables are common to both the avatar and NPCs. </p>

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l00843">843</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>{</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>    <a class="code hl_function" href="classCharacter.html#a68afc75b1832887874147a352a02c5b2">Character::load</a>( data );</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span> </div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>    <a class="code hl_class" href="classJsonArray.html">JsonArray</a> parray;</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>    <a class="code hl_class" href="classcharacter__id.html">character_id</a> tmpid;</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span> </div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;tank_plut&quot;</span>, <a class="code hl_variable" href="classCharacter.html#ade57fb8b6f705040f097ff6419d8c9d7">tank_plut</a> );</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;reactor_plut&quot;</span>, <a class="code hl_variable" href="classCharacter.html#a9c4f44ebcb052bfb5ee707a3c757c6e3">reactor_plut</a> );</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;slow_rad&quot;</span>, <a class="code hl_variable" href="classCharacter.html#ad1c06ca8134b6e7e1b5818c11eb8284d">slow_rad</a> );</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;scent&quot;</span>, <a class="code hl_variable" href="classplayer.html#a76eb82fb9b97610362c542a79393995b">scent</a> );</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;male&quot;</span>, <a class="code hl_variable" href="classCharacter.html#a8e6a78e6c4497a9aa7b8cc127dcdd4e3">male</a> );</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;cash&quot;</span>, <a class="code hl_variable" href="classplayer.html#a38b455927fe69f32a4a0f9a4fba7cc0f">cash</a> );</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;recoil&quot;</span>, <a class="code hl_variable" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> );</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;in_vehicle&quot;</span>, <a class="code hl_variable" href="classCharacter.html#a61bc9422c35b63128532af268e52cb71">in_vehicle</a> );</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;last_sleep_check&quot;</span>, <a class="code hl_variable" href="classplayer.html#a7aecb79fe7868dceee1ee1e363eebe12">last_sleep_check</a> );</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>    <span class="keywordflow">if</span>( data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;id&quot;</span>, tmpid ) &amp;&amp; tmpid.<a class="code hl_function" href="classcharacter__id.html#a3951155d05523e839d50ea07a8e0b374">is_valid</a>() ) {</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>        <span class="comment">// Templates have invalid ids, so we only assign here when valid.</span></div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>        <span class="comment">// When the game starts, a new valid id will be assigned if not already</span></div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>        <span class="comment">// present.</span></div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>        <a class="code hl_function" href="classCharacter.html#a37b90d2dba9c6779d06e4b44e8884681">setID</a>( tmpid );</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>    }</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span> </div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;addictions&quot;</span>, <a class="code hl_variable" href="classCharacter.html#a86ad83bf21de1c90b69ad5188d03e59c">addictions</a> );</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;followers&quot;</span>, <a class="code hl_variable" href="classplayer.html#ad17195b9d0af08f6bdf9894b1ebeb8f6">follower_ids</a> );</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span> </div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>    <span class="comment">// Add the earplugs.</span></div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a965ba98fb0eca1e875b86fcf2bc91ab8">bionic_id</a>( <span class="stringliteral">&quot;bio_ears&quot;</span> ) ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a965ba98fb0eca1e875b86fcf2bc91ab8">bionic_id</a>( <span class="stringliteral">&quot;bio_earplugs&quot;</span> ) ) ) {</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>        <a class="code hl_function" href="classCharacter.html#a8b15e1da8d72ed5175dc4e0e34c1da97">add_bionic</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a965ba98fb0eca1e875b86fcf2bc91ab8">bionic_id</a>( <span class="stringliteral">&quot;bio_earplugs&quot;</span> ) );</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>    }</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span> </div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>    <span class="comment">// Add the blindfold.</span></div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a965ba98fb0eca1e875b86fcf2bc91ab8">bionic_id</a>( <span class="stringliteral">&quot;bio_sunglasses&quot;</span> ) ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a965ba98fb0eca1e875b86fcf2bc91ab8">bionic_id</a>( <span class="stringliteral">&quot;bio_blindfold&quot;</span> ) ) ) {</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>        <a class="code hl_function" href="classCharacter.html#a8b15e1da8d72ed5175dc4e0e34c1da97">add_bionic</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a965ba98fb0eca1e875b86fcf2bc91ab8">bionic_id</a>( <span class="stringliteral">&quot;bio_blindfold&quot;</span> ) );</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>    }</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span> </div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>    <span class="comment">// Fixes bugged characters for CBM&#39;s preventing mutations.</span></div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">bionic_id</a> &amp;bid : <a class="code hl_function" href="classCharacter.html#ae798c58ced01966f567d2c6fa6971eb8">get_bionics</a>() ) {</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> &amp;mid : bid-&gt;canceled_mutations ) {</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( mid ) ) {</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>                <a class="code hl_function" href="classCharacter.html#a1874479b9834819441c65081acf5fa05">remove_mutation</a>( mid );</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>            }</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>        }</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>    }</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span> </div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>    <span class="keywordflow">if</span>( data.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <span class="stringliteral">&quot;faction_warnings&quot;</span> ) ) {</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classJsonObject.html">JsonObject</a> warning_data : data.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;faction_warnings&quot;</span> ) ) {</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>            warning_data.allow_omitted_members();</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>            std::string <a class="code hl_variable" href="classCharacter.html#a16c0c32345164bcdcfe6236977164fd8">fac_id</a> = warning_data.get_string( <span class="stringliteral">&quot;fac_warning_id&quot;</span> );</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>            <span class="keywordtype">int</span> warning_num = warning_data.get_int( <span class="stringliteral">&quot;fac_warning_num&quot;</span> );</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>            <a class="code hl_class" href="classtime__point.html">time_point</a> warning_time = <a class="code hl_variable" href="namespacecalendar.html#ae25f99fbff61e25df40b5b26bcedee8c">calendar::before_time_starts</a>;</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>            warning_data.read( <span class="stringliteral">&quot;fac_warning_time&quot;</span>, warning_time );</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>            <a class="code hl_variable" href="classplayer.html#a3da8cabad8655c681d26fbb1be26f92a">warning_record</a>[<a class="code hl_typedef" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>( <a class="code hl_variable" href="classCharacter.html#a16c0c32345164bcdcfe6236977164fd8">fac_id</a> )] = std::make_pair( warning_num, warning_time );</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>        }</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>    }</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span> </div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>    <span class="keywordtype">int</span> tmptar;</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>    <span class="keywordtype">int</span> tmptartyp = 0;</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span> </div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;last_target&quot;</span>, tmptar );</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;last_target_type&quot;</span>, tmptartyp );</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;last_target_pos&quot;</span>, <a class="code hl_variable" href="classplayer.html#a9aac4afb832dc4762430b0b3545cbfea">last_target_pos</a> );</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;ammo_location&quot;</span>, <a class="code hl_variable" href="classplayer.html#a5f1ee4ce958fda62c4766dd8762529c2">ammo_location</a> );</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>    <span class="keywordflow">if</span>( tmptartyp == +1 ) {</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>        <span class="comment">// Use overmap_buffer because game::active_npc is not filled yet.</span></div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>        <a class="code hl_variable" href="classplayer.html#ab679d40f5584e38a6af33bcd7e3c102d">last_target</a> = <a class="code hl_variable" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code hl_function" href="classovermapbuffer.html#abe3397983bdf2419ede84ee43bdf587f">find_npc</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4abf21153f2489c6f52bf69def405456ad">character_id</a>( tmptar ) );</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tmptartyp == -1 ) {</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>        <span class="comment">// Need to do this *after* the monsters have been loaded!</span></div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>        <a class="code hl_variable" href="classplayer.html#ab679d40f5584e38a6af33bcd7e3c102d">last_target</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_tracker-&gt;from_temporary_id( tmptar );</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>    }</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;destination_point&quot;</span>, <a class="code hl_variable" href="classCharacter.html#a0c397a21d94e276f4eb523bcf4a9e808">destination_point</a> );</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>    <span class="comment">// TODO: move to Character</span></div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>    <a class="code hl_variable" href="classCharacter.html#a2aa50df39ac7262f946b9d2a4d152e31">camps</a>.clear();</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classJsonObject.html">JsonObject</a> bcdata : data.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;camps&quot;</span> ) ) {</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>        bcdata.allow_omitted_members();</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>        <a class="code hl_class" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> bcpt;</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>        bcdata.read( <span class="stringliteral">&quot;pos&quot;</span>, bcpt );</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>        <a class="code hl_variable" href="classCharacter.html#a2aa50df39ac7262f946b9d2a4d152e31">camps</a>.insert( bcpt );</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>    }</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4abf21153f2489c6f52bf69def405456ad"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4abf21153f2489c6f52bf69def405456ad">cata_variant_type::character_id</a></div><div class="ttdeci">@ character_id</div></div>
<div class="ttc" id="aclassCharacter_html_a0c397a21d94e276f4eb523bcf4a9e808"><div class="ttname"><a href="classCharacter.html#a0c397a21d94e276f4eb523bcf4a9e808">Character::destination_point</a></div><div class="ttdeci">cata::optional&lt; tripoint &gt; destination_point</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01582">character.h:1582</a></div></div>
<div class="ttc" id="aclassCharacter_html_a16c0c32345164bcdcfe6236977164fd8"><div class="ttname"><a href="classCharacter.html#a16c0c32345164bcdcfe6236977164fd8">Character::fac_id</a></div><div class="ttdeci">faction_id fac_id</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02185">character.h:2185</a></div></div>
<div class="ttc" id="aclassCharacter_html_a1874479b9834819441c65081acf5fa05"><div class="ttname"><a href="classCharacter.html#a1874479b9834819441c65081acf5fa05">Character::remove_mutation</a></div><div class="ttdeci">void remove_mutation(const trait_id &amp;mut, bool silent=false)</div><div class="ttdoc">Removes a mutation, downgrading to the previous level if possible.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l01338">mutation.cpp:1338</a></div></div>
<div class="ttc" id="aclassCharacter_html_a2aa50df39ac7262f946b9d2a4d152e31"><div class="ttname"><a href="classCharacter.html#a2aa50df39ac7262f946b9d2a4d152e31">Character::camps</a></div><div class="ttdeci">std::set&lt; tripoint_abs_omt &gt; camps</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01606">character.h:1606</a></div></div>
<div class="ttc" id="aclassCharacter_html_a37b90d2dba9c6779d06e4b44e8884681"><div class="ttname"><a href="classCharacter.html#a37b90d2dba9c6779d06e4b44e8884681">Character::setID</a></div><div class="ttdeci">void setID(character_id i, bool force=false)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00459">character.cpp:459</a></div></div>
<div class="ttc" id="aclassCharacter_html_a68afc75b1832887874147a352a02c5b2"><div class="ttname"><a href="classCharacter.html#a68afc75b1832887874147a352a02c5b2">Character::load</a></div><div class="ttdeci">void load(const JsonObject &amp;data)</div><div class="ttdoc">Gather variables for saving.</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l00373">savegame_json.cpp:373</a></div></div>
<div class="ttc" id="aclassCharacter_html_a8b15e1da8d72ed5175dc4e0e34c1da97"><div class="ttname"><a href="classCharacter.html#a8b15e1da8d72ed5175dc4e0e34c1da97">Character::add_bionic</a></div><div class="ttdeci">void add_bionic(const bionic_id &amp;b)</div><div class="ttdoc">Adds a bionic to my_bionics[].</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8cpp_source.html#l02526">bionics.cpp:2526</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9c4f44ebcb052bfb5ee707a3c757c6e3"><div class="ttname"><a href="classCharacter.html#a9c4f44ebcb052bfb5ee707a3c757c6e3">Character::reactor_plut</a></div><div class="ttdeci">int reactor_plut</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01596">character.h:1596</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad1c06ca8134b6e7e1b5818c11eb8284d"><div class="ttname"><a href="classCharacter.html#ad1c06ca8134b6e7e1b5818c11eb8284d">Character::slow_rad</a></div><div class="ttdeci">int slow_rad</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01597">character.h:1597</a></div></div>
<div class="ttc" id="aclassCharacter_html_ade57fb8b6f705040f097ff6419d8c9d7"><div class="ttname"><a href="classCharacter.html#ade57fb8b6f705040f097ff6419d8c9d7">Character::tank_plut</a></div><div class="ttdeci">int tank_plut</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01595">character.h:1595</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae798c58ced01966f567d2c6fa6971eb8"><div class="ttname"><a href="classCharacter.html#ae798c58ced01966f567d2c6fa6971eb8">Character::get_bionics</a></div><div class="ttdeci">std::vector&lt; bionic_id &gt; get_bionics() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01857">character.cpp:1857</a></div></div>
<div class="ttc" id="aclassJsonArray_html"><div class="ttname"><a href="classJsonArray.html">JsonArray</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l01028">json.h:1029</a></div></div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00831">json.h:832</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a69f62f59b5e39da6059b7c3cf8b12421"><div class="ttname"><a href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">JsonObject::get_array</a></div><div class="ttdeci">JsonArray get_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00332">json.cpp:332</a></div></div>
<div class="ttc" id="aclassJsonObject_html_aa92b5eb23f6b39645877d79fbef784a0"><div class="ttname"><a href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">JsonObject::has_array</a></div><div class="ttdeci">bool has_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00415">json.cpp:415</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae66d47f9cb4993dfaf79819ec2aff2f8"><div class="ttname"><a href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">JsonObject::read</a></div><div class="ttdeci">bool read(const std::string &amp;name, T &amp;t, bool throw_on_error=true) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00944">json.h:944</a></div></div>
<div class="ttc" id="aclasscharacter__id_html"><div class="ttname"><a href="classcharacter__id.html">character_id</a></div><div class="ttdef"><b>Definition:</b> <a href="character__id_8h_source.html#l00011">character_id.h:12</a></div></div>
<div class="ttc" id="aclasscharacter__id_html_a3951155d05523e839d50ea07a8e0b374"><div class="ttname"><a href="classcharacter__id.html#a3951155d05523e839d50ea07a8e0b374">character_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdef"><b>Definition:</b> <a href="character__id_8h_source.html#l00019">character_id.h:19</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; tripoint, coords::origin::abs, coords::omt &gt;</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_abe3397983bdf2419ede84ee43bdf587f"><div class="ttname"><a href="classovermapbuffer.html#abe3397983bdf2419ede84ee43bdf587f">overmapbuffer::find_npc</a></div><div class="ttdeci">shared_ptr_fast&lt; npc &gt; find_npc(character_id id)</div><div class="ttdoc">Find the npc with the given ID.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01126">overmapbuffer.cpp:1126</a></div></div>
<div class="ttc" id="aclassplayer_html_a5f1ee4ce958fda62c4766dd8762529c2"><div class="ttname"><a href="classplayer.html#a5f1ee4ce958fda62c4766dd8762529c2">player::ammo_location</a></div><div class="ttdeci">item_location ammo_location</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00693">player.h:693</a></div></div>
<div class="ttc" id="aclassplayer_html_a9aac4afb832dc4762430b0b3545cbfea"><div class="ttname"><a href="classplayer.html#a9aac4afb832dc4762430b0b3545cbfea">player::last_target_pos</a></div><div class="ttdeci">cata::optional&lt; tripoint &gt; last_target_pos</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00691">player.h:691</a></div></div>
<div class="ttc" id="aclassplayer_html_ab679d40f5584e38a6af33bcd7e3c102d"><div class="ttname"><a href="classplayer.html#ab679d40f5584e38a6af33bcd7e3c102d">player::last_target</a></div><div class="ttdeci">weak_ptr_fast&lt; Creature &gt; last_target</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00690">player.h:690</a></div></div>
<div class="ttc" id="aclassplayer_html_ad17195b9d0af08f6bdf9894b1ebeb8f6"><div class="ttname"><a href="classplayer.html#ad17195b9d0af08f6bdf9894b1ebeb8f6">player::follower_ids</a></div><div class="ttdeci">std::set&lt; character_id &gt; follower_ids</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00710">player.h:710</a></div></div>
<div class="ttc" id="aclzones_8h_html_ab899db7b87cf958f079fe0f14793625b"><div class="ttname"><a href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a></div><div class="ttdeci">string_id&lt; faction &gt; faction_id</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8h_source.html#l00030">clzones.h:30</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae25f99fbff61e25df40b5b26bcedee8c"><div class="ttname"><a href="namespacecalendar.html#ae25f99fbff61e25df40b5b26bcedee8c">calendar::before_time_starts</a></div><div class="ttdeci">const time_point before_time_starts</div><div class="ttdoc">A time point that is always before the current turn, even when the game has just started.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00025">calendar.cpp:25</a></div></div>
<div class="ttc" id="aovermapbuffer_8cpp_html_ab3cf8344ec3e473f9ce96a33dc3425af"><div class="ttname"><a href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a></div><div class="ttdeci">overmapbuffer overmap_buffer</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00046">overmapbuffer.cpp:44</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bionics_8cpp_source.html#l02526">Character::add_bionic()</a>, <a class="el" href="character_8h_source.html#l01610">Character::addictions</a>, <a class="el" href="character_8h_source.html#l01605">Character::ammo_location</a>, <a class="el" href="calendar_8cpp_source.html#l00025">calendar::before_time_starts</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a965ba98fb0eca1e875b86fcf2bc91ab8">bionic_id</a>, <a class="el" href="character_8h_source.html#l01606">Character::camps</a>, <a class="el" href="character_8h_source.html#l01600">Character::cash</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4abf21153f2489c6f52bf69def405456ad">character_id</a>, <a class="el" href="character_8h_source.html#l01582">Character::destination_point</a>, <a class="el" href="character_8h_source.html#l02185">Character::fac_id</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01126">overmapbuffer::find_npc()</a>, <a class="el" href="character_8h_source.html#l01601">Character::follower_ids</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="json_8cpp_source.html#l00332">JsonObject::get_array()</a>, <a class="el" href="character_8cpp_source.html#l01857">Character::get_bionics()</a>, <a class="el" href="json_8cpp_source.html#l00415">JsonObject::has_array()</a>, <a class="el" href="character_8cpp_source.html#l01866">Character::has_bionic()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8h_source.html#l01575">Character::in_vehicle</a>, <a class="el" href="character__id_8h_source.html#l00019">character_id::is_valid()</a>, <a class="el" href="character_8h_source.html#l02138">Character::last_sleep_check</a>, <a class="el" href="character_8h_source.html#l01602">Character::last_target</a>, <a class="el" href="character_8h_source.html#l01603">Character::last_target_pos</a>, <a class="el" href="savegame__json_8cpp_source.html#l00373">Character::load()</a>, <a class="el" href="character_8h_source.html#l01569">Character::male</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00044">overmap_buffer</a>, <a class="el" href="character_8h_source.html#l01596">Character::reactor_plut</a>, <a class="el" href="json_8h_source.html#l00944">JsonObject::read()</a>, <a class="el" href="character_8h_source.html#l00618">Character::recoil</a>, <a class="el" href="mutation_8cpp_source.html#l01338">Character::remove_mutation()</a>, <a class="el" href="character_8h_source.html#l01587">Character::scent</a>, <a class="el" href="character_8cpp_source.html#l00459">Character::setID()</a>, <a class="el" href="character_8h_source.html#l01597">Character::slow_rad</a>, <a class="el" href="character_8h_source.html#l01595">Character::tank_plut</a>, and <a class="el" href="character_8h_source.html#l02140">Character::warning_record</a>.</p>

<p class="reference">Referenced by <a class="el" href="savegame__json_8cpp_source.html#l01003">avatar::load()</a>, and <a class="el" href="savegame__json_8cpp_source.html#l01403">npc::load()</a>.</p>

</div>
</div>
<a id="af7122e51039149f9c71b6801bc8f0b6c" name="af7122e51039149f9c71b6801bc8f0b6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7122e51039149f9c71b6801bc8f0b6c">&#9670;&nbsp;</a></span>long_craft()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::long_craft </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>loc</em> = <code><a class="el" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00354">354</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>{</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <span class="keywordtype">int</span> batch_size = 0;</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    <span class="keyword">const</span> <a class="code hl_class" href="classrecipe.html">recipe</a> *rec = <a class="code hl_function" href="crafting__gui_8cpp.html#aa303320cbbe300afa5ec05b8d253af78">select_crafting_recipe</a>( batch_size );</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    <span class="keywordflow">if</span>( rec ) {</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="crafting_8cpp.html#a4a3042080a9adfc97115bb84eed671bd">crafting_allowed</a>( *<span class="keyword">this</span>, *rec ) ) {</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>            <a class="code hl_function" href="classplayer.html#a8ae24110c95fd199a4e2877d68b18365">make_all_craft</a>( rec-&gt;<a class="code hl_function" href="classrecipe.html#a5f1fa30e49785a8c16c4f5951d039afb">ident</a>(), batch_size, loc );</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>        }</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    }</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>}</div>
<div class="ttc" id="aclassplayer_html_a8ae24110c95fd199a4e2877d68b18365"><div class="ttname"><a href="classplayer.html#a8ae24110c95fd199a4e2877d68b18365">player::make_all_craft</a></div><div class="ttdeci">void make_all_craft(const recipe_id &amp;id, int batch_size, const tripoint &amp;loc=tripoint_zero)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00598">crafting.cpp:598</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting_8cpp_source.html#l00112">crafting_allowed()</a>, <a class="el" href="recipe_8h_source.html#l00075">recipe::ident()</a>, <a class="el" href="crafting_8cpp_source.html#l00598">make_all_craft()</a>, and <a class="el" href="crafting__gui_8cpp_source.html#l00161">select_crafting_recipe()</a>.</p>

<p class="reference">Referenced by <a class="el" href="handle__action_8cpp_source.html#l01514">game::handle_action()</a>.</p>

</div>
</div>
<a id="a8ae24110c95fd199a4e2877d68b18365" name="a8ae24110c95fd199a4e2877d68b18365"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ae24110c95fd199a4e2877d68b18365">&#9670;&nbsp;</a></span>make_all_craft()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::make_all_craft </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>loc</em> = <code><a class="el" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00598">598</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>{</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>    <a class="code hl_function" href="classplayer.html#ae8082decee5acb38dc6e35e0c1823c3c">make_craft_with_command</a>( id_to_make, batch_size, <span class="keyword">true</span>, loc );</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>}</div>
<div class="ttc" id="aclassplayer_html_ae8082decee5acb38dc6e35e0c1823c3c"><div class="ttname"><a href="classplayer.html#ae8082decee5acb38dc6e35e0c1823c3c">player::make_craft_with_command</a></div><div class="ttdeci">void make_craft_with_command(const recipe_id &amp;id_to_make, int batch_size, bool is_long=false, const tripoint &amp;loc=tripoint_zero)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00603">crafting.cpp:603</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting_8cpp_source.html#l00603">make_craft_with_command()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l00354">long_craft()</a>.</p>

</div>
</div>
<a id="aa95d2a2e290fde49ab1580a1324c9c90" name="aa95d2a2e290fde49ab1580a1324c9c90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa95d2a2e290fde49ab1580a1324c9c90">&#9670;&nbsp;</a></span>make_craft()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::make_craft </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>loc</em> = <code><a class="el" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00593">593</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>{</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>    <a class="code hl_function" href="classplayer.html#ae8082decee5acb38dc6e35e0c1823c3c">make_craft_with_command</a>( id_to_make, batch_size, <span class="keyword">false</span>, loc );</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting_8cpp_source.html#l00603">make_craft_with_command()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l00334">craft()</a>.</p>

</div>
</div>
<a id="ae8082decee5acb38dc6e35e0c1823c3c" name="ae8082decee5acb38dc6e35e0c1823c3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8082decee5acb38dc6e35e0c1823c3c">&#9670;&nbsp;</a></span>make_craft_with_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::make_craft_with_command </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id_to_make</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_long</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>loc</em> = <code><a class="el" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00603">603</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>{</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;recipe_to_make = *id_to_make;</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span> </div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>    <span class="keywordflow">if</span>( !recipe_to_make ) {</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>    }</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span> </div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>    *<a class="code hl_variable" href="classplayer.html#a771107232106a2afa16d80907365ef1f">last_craft</a> = <a class="code hl_class" href="classcraft__command.html">craft_command</a>( &amp;recipe_to_make, batch_size, is_long, <span class="keyword">this</span>, loc );</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>    <a class="code hl_variable" href="classplayer.html#a771107232106a2afa16d80907365ef1f">last_craft</a>-&gt;execute();</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>}</div>
<div class="ttc" id="aclasscraft__command_html"><div class="ttname"><a href="classcraft__command.html">craft_command</a></div><div class="ttdoc">Class that describes a crafting job.</div><div class="ttdef"><b>Definition:</b> <a href="craft__command_8h_source.html#l00064">craft_command.h:65</a></div></div>
<div class="ttc" id="aclassplayer_html_a771107232106a2afa16d80907365ef1f"><div class="ttname"><a href="classplayer.html#a771107232106a2afa16d80907365ef1f">player::last_craft</a></div><div class="ttdeci">pimpl&lt; craft_command &gt; last_craft</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00704">player.h:704</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player_8h_source.html#l00704">last_craft</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l00598">make_all_craft()</a>, and <a class="el" href="crafting_8cpp_source.html#l00593">make_craft()</a>.</p>

</div>
</div>
<a id="a65db2a7d8271e4f84d3d7a504baf2af4" name="a65db2a7d8271e4f84d3d7a504baf2af4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65db2a7d8271e4f84d3d7a504baf2af4">&#9670;&nbsp;</a></span>making_would_work()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::making_would_work </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id_to_make</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00365">365</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>{</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;making = *id_to_make;</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <span class="keywordflow">if</span>( !( making &amp;&amp; <a class="code hl_function" href="crafting_8cpp.html#a4a3042080a9adfc97115bb84eed671bd">crafting_allowed</a>( *<span class="keyword">this</span>, making ) ) ) {</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    }</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span> </div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a2503f9e57c828ffa03aa68b3b19e0323">can_make</a>( &amp;making, batch_size ) ) {</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>        std::string buffer = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can no longer make that craft!&quot;</span> );</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>        buffer += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>        buffer += making.simple_requirements().list_missing();</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>        <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( buffer, <a class="code hl_enumvalue" href="output_8h.html#ab214b85345aeab978acdcea0250f27f5aad1f68b93664b1917fafc7cf9b7537d3">PF_NONE</a> );</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    }</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span> </div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classplayer.html#a7de6a67bf992674f83642a4f67cffdba">check_eligible_containers_for_crafting</a>( making, batch_size );</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>}</div>
<div class="ttc" id="aclassplayer_html_a2503f9e57c828ffa03aa68b3b19e0323"><div class="ttname"><a href="classplayer.html#a2503f9e57c828ffa03aa68b3b19e0323">player::can_make</a></div><div class="ttdeci">bool can_make(const recipe *r, int batch_size=1)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00522">crafting.cpp:522</a></div></div>
<div class="ttc" id="aclassplayer_html_a7de6a67bf992674f83642a4f67cffdba"><div class="ttname"><a href="classplayer.html#a7de6a67bf992674f83642a4f67cffdba">player::check_eligible_containers_for_crafting</a></div><div class="ttdeci">bool check_eligible_containers_for_crafting(const recipe &amp;rec, int batch_size=1) const</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00407">crafting.cpp:407</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="crafting_8cpp_source.html#l00522">can_make()</a>, <a class="el" href="crafting_8cpp_source.html#l00407">check_eligible_containers_for_crafting()</a>, <a class="el" href="crafting_8cpp_source.html#l00112">crafting_allowed()</a>, <a class="el" href="output_8h_source.html#l00493">PF_NONE</a>, and <a class="el" href="output_8cpp_source.html#l00764">popup()</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__handlers_8cpp_source.html#l03867">activity_handlers::craft_do_turn()</a>, and <a class="el" href="crafting_8cpp_source.html#l00345">recraft()</a>.</p>

</div>
</div>
<a id="a7e5ce206cc070d81475a4fbaeaef852d" name="a7e5ce206cc070d81475a4fbaeaef852d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e5ce206cc070d81475a4fbaeaef852d">&#9670;&nbsp;</a></span>melee_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double player::melee_value </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>weap</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="melee_8cpp_source.html#l02233">2233</a> of file <a class="el" href="melee_8cpp_source.html">melee.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span>{</div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span>    <span class="comment">// start with average effective dps against a range of enemies</span></div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span>    <span class="keywordtype">double</span> my_value = weap.<a class="code hl_function" href="classitem.html#a96c8a18aef6da2f8d876178a3d21dfb0">average_dps</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span> </div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span>    <span class="keywordtype">float</span> reach = weap.<a class="code hl_function" href="classitem.html#a04985a2b99688b687432463fb2f0a853">reach_range</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span>    <span class="comment">// value reach weapons more</span></div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span>    <span class="keywordflow">if</span>( reach &gt; 1.0f ) {</div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span>        my_value *= 1.0f + 0.5f * ( std::sqrt( reach ) - 1.0f );</div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span>    }</div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>    <span class="comment">// value polearms less to account for the trickiness of keeping the right range</span></div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;POLEARM&quot;</span> ) ) {</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span>        my_value *= 0.8;</div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span>    }</div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span> </div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span>    <span class="comment">// value style weapons more</span></div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classCharacter.html#a313797e99525bfd2a5ead68b7672f168">martial_arts_data</a>-&gt;enumerate_known_styles( weap.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">get_id</a>() ).empty() ) {</div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span>        my_value *= 1.5;</div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span>    }</div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span> </div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a>, <span class="stringliteral">&quot;%s as melee: %.1f&quot;</span>, weap.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">get_id</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>(), my_value );</div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span> </div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span>    <span class="keywordflow">return</span> std::max( 0.0, my_value );</div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span>}</div>
<div class="ttc" id="aclassitem_html_a04985a2b99688b687432463fb2f0a853"><div class="ttname"><a href="classitem.html#a04985a2b99688b687432463fb2f0a853">item::reach_range</a></div><div class="ttdeci">int reach_range(const Character &amp;guy) const</div><div class="ttdoc">Max range of melee attack this weapon can be used for.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05154">item.cpp:5154</a></div></div>
<div class="ttc" id="aclassitem_html_a96c8a18aef6da2f8d876178a3d21dfb0"><div class="ttname"><a href="classitem.html#a96c8a18aef6da2f8d876178a3d21dfb0">item::average_dps</a></div><div class="ttdeci">double average_dps(const player &amp;guy) const</div><div class="ttdoc">return the average dps of the weapon against evaluation monsters</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01453">item.cpp:1453</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="item_8cpp_source.html#l01453">item::average_dps()</a>, <a class="el" href="itype_8h_source.html#l01070">itype::get_id()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="enums_8h_source.html#l00264">m_debug</a>, <a class="el" href="character_8h_source.html#l01589">Character::martial_arts_data</a>, <a class="el" href="item_8cpp_source.html#l05154">item::reach_range()</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, and <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>.</p>

<p class="reference">Referenced by <a class="el" href="npc_8cpp_source.html#l02170">npc::average_damage_dealt()</a>, <a class="el" href="melee_8cpp_source.html#l02258">unarmed_value()</a>, and <a class="el" href="melee_8cpp_source.html#l02205">weapon_value()</a>.</p>

</div>
</div>
<a id="a366f31cb29b539b83d8d91d4a8c0c1b5" name="a366f31cb29b539b83d8d91d4a8c0c1b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a366f31cb29b539b83d8d91d4a8c0c1b5">&#9670;&nbsp;</a></span>mend_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::mend_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem__location.html">item_location</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>interactive</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempt to mend an item (fix any current faults) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Object to mend </td></tr>
    <tr><td class="paramname">interactive</td><td>if true prompts player when multiple faults, otherwise mends the first </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02665">2665</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02666" name="l02666"></a><span class="lineno"> 2666</span>{</div>
<div class="line"><a id="l02667" name="l02667"></a><span class="lineno"> 2667</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a> ) ) {</div>
<div class="line"><a id="l02668" name="l02668"></a><span class="lineno"> 2668</span>        <a class="code hl_class" href="classuilist.html">uilist</a> menu;</div>
<div class="line"><a id="l02669" name="l02669"></a><span class="lineno"> 2669</span>        menu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Toggle which fault?&quot;</span> );</div>
<div class="line"><a id="l02670" name="l02670"></a><span class="lineno"> 2670</span>        std::vector&lt;std::pair&lt;fault_id, bool&gt;&gt; opts;</div>
<div class="line"><a id="l02671" name="l02671"></a><span class="lineno"> 2671</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;f : obj-&gt;<a class="code hl_function" href="classitem.html#adaaa3ece39eb40637371659dad8550e3">faults_potential</a>() ) {</div>
<div class="line"><a id="l02672" name="l02672"></a><span class="lineno"> 2672</span>            opts.emplace_back( f, !!obj-&gt;<a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a>.count( f ) );</div>
<div class="line"><a id="l02673" name="l02673"></a><span class="lineno"> 2673</span>            menu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( -1, <span class="keyword">true</span>, -1, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>(</div>
<div class="line"><a id="l02674" name="l02674"></a><span class="lineno"> 2674</span>                               opts.back().second ? <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;fault&quot;</span>, <span class="stringliteral">&quot;Mend: %s&quot;</span> ) : <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;fault&quot;</span>, <span class="stringliteral">&quot;Set: %s&quot;</span> ),</div>
<div class="line"><a id="l02675" name="l02675"></a><span class="lineno"> 2675</span>                               f.obj().name() ) );</div>
<div class="line"><a id="l02676" name="l02676"></a><span class="lineno"> 2676</span>        }</div>
<div class="line"><a id="l02677" name="l02677"></a><span class="lineno"> 2677</span>        <span class="keywordflow">if</span>( opts.empty() ) {</div>
<div class="line"><a id="l02678" name="l02678"></a><span class="lineno"> 2678</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s doesn&#39;t have any faults to toggle.&quot;</span> ), obj-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02679" name="l02679"></a><span class="lineno"> 2679</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02680" name="l02680"></a><span class="lineno"> 2680</span>        }</div>
<div class="line"><a id="l02681" name="l02681"></a><span class="lineno"> 2681</span>        menu.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l02682" name="l02682"></a><span class="lineno"> 2682</span>        <span class="keywordflow">if</span>( menu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> &gt;= 0 ) {</div>
<div class="line"><a id="l02683" name="l02683"></a><span class="lineno"> 2683</span>            <span class="keywordflow">if</span>( opts[ menu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> ].second ) {</div>
<div class="line"><a id="l02684" name="l02684"></a><span class="lineno"> 2684</span>                obj-&gt;<a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a>.erase( opts[ menu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> ].first );</div>
<div class="line"><a id="l02685" name="l02685"></a><span class="lineno"> 2685</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02686" name="l02686"></a><span class="lineno"> 2686</span>                obj-&gt;<a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a>.insert( opts[ menu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> ].first );</div>
<div class="line"><a id="l02687" name="l02687"></a><span class="lineno"> 2687</span>            }</div>
<div class="line"><a id="l02688" name="l02688"></a><span class="lineno"> 2688</span>        }</div>
<div class="line"><a id="l02689" name="l02689"></a><span class="lineno"> 2689</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02690" name="l02690"></a><span class="lineno"> 2690</span>    }</div>
<div class="line"><a id="l02691" name="l02691"></a><span class="lineno"> 2691</span> </div>
<div class="line"><a id="l02692" name="l02692"></a><span class="lineno"> 2692</span>    <span class="keyword">auto</span> <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a> = <a class="code hl_function" href="classCharacter.html#abd358c7a7757575b70b1613dbcce40a7">crafting_inventory</a>();</div>
<div class="line"><a id="l02693" name="l02693"></a><span class="lineno"> 2693</span> </div>
<div class="line"><a id="l02694" name="l02694"></a><span class="lineno"> 2694</span>    <span class="keyword">struct </span>mending_option {</div>
<div class="line"><a id="l02695" name="l02695"></a><span class="lineno"> 2695</span>        <a class="code hl_class" href="classstring__id.html">fault_id</a> <a class="code hl_function" href="namespaceiexamine.html#a9b9c90bb21163bd14d5c2e438d2bd89e">fault</a>;</div>
<div class="line"><a id="l02696" name="l02696"></a><span class="lineno"> 2696</span>        std::reference_wrapper&lt;const mending_method&gt; method;</div>
<div class="line"><a id="l02697" name="l02697"></a><span class="lineno"> 2697</span>        <span class="keywordtype">bool</span> doable;</div>
<div class="line"><a id="l02698" name="l02698"></a><span class="lineno"> 2698</span>    };</div>
<div class="line"><a id="l02699" name="l02699"></a><span class="lineno"> 2699</span> </div>
<div class="line"><a id="l02700" name="l02700"></a><span class="lineno"> 2700</span>    std::vector&lt;mending_option&gt; mending_options;</div>
<div class="line"><a id="l02701" name="l02701"></a><span class="lineno"> 2701</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">fault_id</a> &amp;f : obj-&gt;<a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a> ) {</div>
<div class="line"><a id="l02702" name="l02702"></a><span class="lineno"> 2702</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;m : f-&gt;<a class="code hl_function" href="classfault.html#ab637ad4300f3a0eb95eaf4c4e4042504">mending_methods</a>() ) {</div>
<div class="line"><a id="l02703" name="l02703"></a><span class="lineno"> 2703</span>            mending_option opt { f, m.second, <span class="keyword">true</span> };</div>
<div class="line"><a id="l02704" name="l02704"></a><span class="lineno"> 2704</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;sk : m.second.skills ) {</div>
<div class="line"><a id="l02705" name="l02705"></a><span class="lineno"> 2705</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( sk.first ) &lt; sk.second ) {</div>
<div class="line"><a id="l02706" name="l02706"></a><span class="lineno"> 2706</span>                    opt.doable = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02707" name="l02707"></a><span class="lineno"> 2707</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02708" name="l02708"></a><span class="lineno"> 2708</span>                }</div>
<div class="line"><a id="l02709" name="l02709"></a><span class="lineno"> 2709</span>            }</div>
<div class="line"><a id="l02710" name="l02710"></a><span class="lineno"> 2710</span>            opt.doable = opt.doable &amp;&amp;</div>
<div class="line"><a id="l02711" name="l02711"></a><span class="lineno"> 2711</span>                         m.second.requirements-&gt;can_make_with_inventory( <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>, <a class="code hl_function" href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a> );</div>
<div class="line"><a id="l02712" name="l02712"></a><span class="lineno"> 2712</span>            mending_options.emplace_back( opt );</div>
<div class="line"><a id="l02713" name="l02713"></a><span class="lineno"> 2713</span>        }</div>
<div class="line"><a id="l02714" name="l02714"></a><span class="lineno"> 2714</span>    }</div>
<div class="line"><a id="l02715" name="l02715"></a><span class="lineno"> 2715</span> </div>
<div class="line"><a id="l02716" name="l02716"></a><span class="lineno"> 2716</span>    <span class="keywordflow">if</span>( mending_options.empty() ) {</div>
<div class="line"><a id="l02717" name="l02717"></a><span class="lineno"> 2717</span>        <span class="keywordflow">if</span>( interactive ) {</div>
<div class="line"><a id="l02718" name="l02718"></a><span class="lineno"> 2718</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s doesn&#39;t have any faults to mend.&quot;</span> ), obj-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02719" name="l02719"></a><span class="lineno"> 2719</span>            <span class="keywordflow">if</span>( obj-&gt;<a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &gt; 0 ) {</div>
<div class="line"><a id="l02720" name="l02720"></a><span class="lineno"> 2720</span>                <span class="keyword">const</span> std::set&lt;itype_id&gt; &amp;rep = obj-&gt;<a class="code hl_function" href="classitem.html#afd036343012f6275683b8168d84c1be3">repaired_with</a>();</div>
<div class="line"><a id="l02721" name="l02721"></a><span class="lineno"> 2721</span>                <span class="keywordflow">if</span>( !rep.empty() ) {</div>
<div class="line"><a id="l02722" name="l02722"></a><span class="lineno"> 2722</span>                    <span class="keyword">const</span> std::string repair_options =</div>
<div class="line"><a id="l02723" name="l02723"></a><span class="lineno"> 2723</span>                    <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( rep.begin(), rep.end(), []( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp; e ) {</div>
<div class="line"><a id="l02724" name="l02724"></a><span class="lineno"> 2724</span>                        return item::nname( e );</div>
<div class="line"><a id="l02725" name="l02725"></a><span class="lineno"> 2725</span>                    }, <a class="code hl_enumvalue" href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aacfc049a17faac959998820e7aaaf4329">enumeration_conjunction::or_</a> );</div>
<div class="line"><a id="l02726" name="l02726"></a><span class="lineno"> 2726</span> </div>
<div class="line"><a id="l02727" name="l02727"></a><span class="lineno"> 2727</span>                    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It is damaged, and could be repaired with %s.  &quot;</span></div>
<div class="line"><a id="l02728" name="l02728"></a><span class="lineno"> 2728</span>                                        <span class="stringliteral">&quot;%s to use one of those items.&quot;</span> ),</div>
<div class="line"><a id="l02729" name="l02729"></a><span class="lineno"> 2729</span>                             repair_options, <a class="code hl_function" href="action_8cpp.html#a91aa34292a1156bb83b17379bbf41933">press_x</a>( <a class="code hl_enumvalue" href="action_8h.html#a14769f0512c139a614db195c6477c667a21be300b59358a6caddeea191d2b282d">ACTION_USE</a> ) );</div>
<div class="line"><a id="l02730" name="l02730"></a><span class="lineno"> 2730</span>                }</div>
<div class="line"><a id="l02731" name="l02731"></a><span class="lineno"> 2731</span>            }</div>
<div class="line"><a id="l02732" name="l02732"></a><span class="lineno"> 2732</span>        }</div>
<div class="line"><a id="l02733" name="l02733"></a><span class="lineno"> 2733</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02734" name="l02734"></a><span class="lineno"> 2734</span>    }</div>
<div class="line"><a id="l02735" name="l02735"></a><span class="lineno"> 2735</span> </div>
<div class="line"><a id="l02736" name="l02736"></a><span class="lineno"> 2736</span>    <span class="keywordtype">int</span> sel = 0;</div>
<div class="line"><a id="l02737" name="l02737"></a><span class="lineno"> 2737</span>    <span class="keywordflow">if</span>( interactive ) {</div>
<div class="line"><a id="l02738" name="l02738"></a><span class="lineno"> 2738</span>        <a class="code hl_class" href="classuilist.html">uilist</a> menu;</div>
<div class="line"><a id="l02739" name="l02739"></a><span class="lineno"> 2739</span>        menu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Mend which fault?&quot;</span> );</div>
<div class="line"><a id="l02740" name="l02740"></a><span class="lineno"> 2740</span>        menu.<a class="code hl_variable" href="classuilist.html#a1a7ee6e719a4f1bba45fc94e29a19166">desc_enabled</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02741" name="l02741"></a><span class="lineno"> 2741</span>        menu.<a class="code hl_variable" href="classuilist.html#a249485f03d260809993a4a594ba17077">desc_lines_hint</a> = 0; <span class="comment">// Let uilist handle description height</span></div>
<div class="line"><a id="l02742" name="l02742"></a><span class="lineno"> 2742</span> </div>
<div class="line"><a id="l02743" name="l02743"></a><span class="lineno"> 2743</span>        <span class="keyword">constexpr</span> <span class="keywordtype">int</span> fold_width = 80;</div>
<div class="line"><a id="l02744" name="l02744"></a><span class="lineno"> 2744</span> </div>
<div class="line"><a id="l02745" name="l02745"></a><span class="lineno"> 2745</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> mending_option &amp;opt : mending_options ) {</div>
<div class="line"><a id="l02746" name="l02746"></a><span class="lineno"> 2746</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structmending__method.html">mending_method</a> &amp;method = opt.method;</div>
<div class="line"><a id="l02747" name="l02747"></a><span class="lineno"> 2747</span>            <span class="keyword">const</span> <a class="code hl_class" href="classnc__color.html">nc_color</a> col = opt.doable ? <a class="code hl_define" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a> : <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>;</div>
<div class="line"><a id="l02748" name="l02748"></a><span class="lineno"> 2748</span> </div>
<div class="line"><a id="l02749" name="l02749"></a><span class="lineno"> 2749</span>            <span class="keyword">auto</span> reqs = method.<a class="code hl_variable" href="structmending__method.html#a3a3e0eb87b07affbd639d7021b81ca9f">requirements</a>.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l02750" name="l02750"></a><span class="lineno"> 2750</span>            <span class="keyword">auto</span> tools = reqs.<a class="code hl_function" href="structrequirement__data.html#a9195953194b6d62e4f119280f0e0455b">get_folded_tools_list</a>( fold_width, col, <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a> );</div>
<div class="line"><a id="l02751" name="l02751"></a><span class="lineno"> 2751</span>            <span class="keyword">auto</span> comps = reqs.get_folded_components_list( fold_width, col, <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>, <a class="code hl_function" href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a> );</div>
<div class="line"><a id="l02752" name="l02752"></a><span class="lineno"> 2752</span> </div>
<div class="line"><a id="l02753" name="l02753"></a><span class="lineno"> 2753</span>            std::string descr;</div>
<div class="line"><a id="l02754" name="l02754"></a><span class="lineno"> 2754</span>            <span class="keywordflow">if</span>( method.<a class="code hl_variable" href="structmending__method.html#adac4f26c3274ad9b9d12037d2ac60167">turns_into</a> ) {</div>
<div class="line"><a id="l02755" name="l02755"></a><span class="lineno"> 2755</span>                descr += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Turns into: &lt;color_cyan&gt;%s&lt;/color&gt;\n&quot;</span> ),</div>
<div class="line"><a id="l02756" name="l02756"></a><span class="lineno"> 2756</span>                                        method.<a class="code hl_variable" href="structmending__method.html#adac4f26c3274ad9b9d12037d2ac60167">turns_into</a>-&gt;obj().name() );</div>
<div class="line"><a id="l02757" name="l02757"></a><span class="lineno"> 2757</span>            }</div>
<div class="line"><a id="l02758" name="l02758"></a><span class="lineno"> 2758</span>            <span class="keywordflow">if</span>( method.<a class="code hl_variable" href="structmending__method.html#a0449ab68d7ff39a419e48851c65b4e9e">also_mends</a> ) {</div>
<div class="line"><a id="l02759" name="l02759"></a><span class="lineno"> 2759</span>                descr += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Also mends: &lt;color_cyan&gt;%s&lt;/color&gt;\n&quot;</span> ),</div>
<div class="line"><a id="l02760" name="l02760"></a><span class="lineno"> 2760</span>                                        method.<a class="code hl_variable" href="structmending__method.html#a0449ab68d7ff39a419e48851c65b4e9e">also_mends</a>-&gt;obj().name() );</div>
<div class="line"><a id="l02761" name="l02761"></a><span class="lineno"> 2761</span>            }</div>
<div class="line"><a id="l02762" name="l02762"></a><span class="lineno"> 2762</span>            descr += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Time required: &lt;color_cyan&gt;%s&lt;/color&gt;\n&quot;</span> ),</div>
<div class="line"><a id="l02763" name="l02763"></a><span class="lineno"> 2763</span>                                    <a class="code hl_function" href="calendar_8cpp.html#a3cbd6a4aa555daec83ee03cc90dd7715">to_string_approx</a>( method.<a class="code hl_variable" href="structmending__method.html#a10bde56ba6f5b57e0eb199d92fb709d4">time</a> ) );</div>
<div class="line"><a id="l02764" name="l02764"></a><span class="lineno"> 2764</span>            <span class="keywordflow">if</span>( method.<a class="code hl_variable" href="structmending__method.html#ab2be2273e23e1d5b1b15fe4ea7efcec7">skills</a>.empty() ) {</div>
<div class="line"><a id="l02765" name="l02765"></a><span class="lineno"> 2765</span>                descr += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Skills: &lt;color_cyan&gt;none&lt;/color&gt;\n&quot;</span> ) );</div>
<div class="line"><a id="l02766" name="l02766"></a><span class="lineno"> 2766</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02767" name="l02767"></a><span class="lineno"> 2767</span>                descr += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Skills: %s\n&quot;</span> ),</div>
<div class="line"><a id="l02768" name="l02768"></a><span class="lineno"> 2768</span>                                        <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( method.<a class="code hl_variable" href="structmending__method.html#ab2be2273e23e1d5b1b15fe4ea7efcec7">skills</a>.begin(), method.<a class="code hl_variable" href="structmending__method.html#ab2be2273e23e1d5b1b15fe4ea7efcec7">skills</a>.end(),</div>
<div class="line"><a id="l02769" name="l02769"></a><span class="lineno"> 2769</span>                [<span class="keyword">this</span>]( <span class="keyword">const</span> std::pair&lt;skill_id, int&gt; &amp;sk ) -&gt; std::string {</div>
<div class="line"><a id="l02770" name="l02770"></a><span class="lineno"> 2770</span>                    if( get_skill_level( sk.first ) &gt;= sk.second )</div>
<div class="line"><a id="l02771" name="l02771"></a><span class="lineno"> 2771</span>                    {</div>
<div class="line"><a id="l02772" name="l02772"></a><span class="lineno"> 2772</span>                        return string_format( pgettext( <span class="stringliteral">&quot;skill requirement&quot;</span>,</div>
<div class="line"><a id="l02773" name="l02773"></a><span class="lineno"> 2773</span>                                                        <span class="comment">//~ %1$s: skill name, %2$s: current skill level, %3$s: required skill level</span></div>
<div class="line"><a id="l02774" name="l02774"></a><span class="lineno"> 2774</span>                                                        <span class="stringliteral">&quot;&lt;color_cyan&gt;%1$s&lt;/color&gt; &lt;color_green&gt;(%2$d/%3$d)&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a id="l02775" name="l02775"></a><span class="lineno"> 2775</span>                                              sk.first-&gt;name(), get_skill_level( sk.first ), sk.second );</div>
<div class="line"><a id="l02776" name="l02776"></a><span class="lineno"> 2776</span>                    } <span class="keywordflow">else</span></div>
<div class="line"><a id="l02777" name="l02777"></a><span class="lineno"> 2777</span>                    {</div>
<div class="line"><a id="l02778" name="l02778"></a><span class="lineno"> 2778</span>                        return string_format( pgettext( <span class="stringliteral">&quot;skill requirement&quot;</span>,</div>
<div class="line"><a id="l02779" name="l02779"></a><span class="lineno"> 2779</span>                                                        <span class="comment">//~ %1$s: skill name, %2$s: current skill level, %3$s: required skill level</span></div>
<div class="line"><a id="l02780" name="l02780"></a><span class="lineno"> 2780</span>                                                        <span class="stringliteral">&quot;&lt;color_cyan&gt;%1$s&lt;/color&gt; &lt;color_yellow&gt;(%2$d/%3$d)&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a id="l02781" name="l02781"></a><span class="lineno"> 2781</span>                                              sk.first-&gt;name(), get_skill_level( sk.first ), sk.second );</div>
<div class="line"><a id="l02782" name="l02782"></a><span class="lineno"> 2782</span>                    }</div>
<div class="line"><a id="l02783" name="l02783"></a><span class="lineno"> 2783</span>                } ) );</div>
<div class="line"><a id="l02784" name="l02784"></a><span class="lineno"> 2784</span>            }</div>
<div class="line"><a id="l02785" name="l02785"></a><span class="lineno"> 2785</span> </div>
<div class="line"><a id="l02786" name="l02786"></a><span class="lineno"> 2786</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;<a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> : tools ) {</div>
<div class="line"><a id="l02787" name="l02787"></a><span class="lineno"> 2787</span>                descr += <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l02788" name="l02788"></a><span class="lineno"> 2788</span>            }</div>
<div class="line"><a id="l02789" name="l02789"></a><span class="lineno"> 2789</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;<a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> : comps ) {</div>
<div class="line"><a id="l02790" name="l02790"></a><span class="lineno"> 2790</span>                descr += <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l02791" name="l02791"></a><span class="lineno"> 2791</span>            }</div>
<div class="line"><a id="l02792" name="l02792"></a><span class="lineno"> 2792</span> </div>
<div class="line"><a id="l02793" name="l02793"></a><span class="lineno"> 2793</span>            <span class="keyword">const</span> std::string desc = method.<a class="code hl_variable" href="structmending__method.html#a191c13932cf3231717a3127ad529089a">description</a> + <span class="stringliteral">&quot;\n\n&quot;</span> + <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( descr, col );</div>
<div class="line"><a id="l02794" name="l02794"></a><span class="lineno"> 2794</span>            menu.<a class="code hl_function" href="classuilist.html#ae186aa01767463de50315306c6c51479">addentry_desc</a>( -1, <span class="keyword">true</span>, -1, method.<a class="code hl_variable" href="structmending__method.html#a6af2975631bae0d5f58a11e3fd70a28a">name</a>.<a class="code hl_function" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>(), desc );</div>
<div class="line"><a id="l02795" name="l02795"></a><span class="lineno"> 2795</span>        }</div>
<div class="line"><a id="l02796" name="l02796"></a><span class="lineno"> 2796</span>        menu.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l02797" name="l02797"></a><span class="lineno"> 2797</span>        <span class="keywordflow">if</span>( menu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> &lt; 0 ) {</div>
<div class="line"><a id="l02798" name="l02798"></a><span class="lineno"> 2798</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Never mind.&quot;</span> ) );</div>
<div class="line"><a id="l02799" name="l02799"></a><span class="lineno"> 2799</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02800" name="l02800"></a><span class="lineno"> 2800</span>        }</div>
<div class="line"><a id="l02801" name="l02801"></a><span class="lineno"> 2801</span>        sel = menu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>;</div>
<div class="line"><a id="l02802" name="l02802"></a><span class="lineno"> 2802</span>    }</div>
<div class="line"><a id="l02803" name="l02803"></a><span class="lineno"> 2803</span> </div>
<div class="line"><a id="l02804" name="l02804"></a><span class="lineno"> 2804</span>    <span class="keywordflow">if</span>( sel &gt;= 0 ) {</div>
<div class="line"><a id="l02805" name="l02805"></a><span class="lineno"> 2805</span>        <span class="keyword">const</span> mending_option &amp;opt = mending_options[sel];</div>
<div class="line"><a id="l02806" name="l02806"></a><span class="lineno"> 2806</span>        <span class="keywordflow">if</span>( !opt.doable ) {</div>
<div class="line"><a id="l02807" name="l02807"></a><span class="lineno"> 2807</span>            <span class="keywordflow">if</span>( interactive ) {</div>
<div class="line"><a id="l02808" name="l02808"></a><span class="lineno"> 2808</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are currently unable to mend the %s this way.&quot;</span> ), obj-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02809" name="l02809"></a><span class="lineno"> 2809</span>            }</div>
<div class="line"><a id="l02810" name="l02810"></a><span class="lineno"> 2810</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02811" name="l02811"></a><span class="lineno"> 2811</span>        }</div>
<div class="line"><a id="l02812" name="l02812"></a><span class="lineno"> 2812</span> </div>
<div class="line"><a id="l02813" name="l02813"></a><span class="lineno"> 2813</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structmending__method.html">mending_method</a> &amp;method = opt.method;</div>
<div class="line"><a id="l02814" name="l02814"></a><span class="lineno"> 2814</span>        <a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_MEND_ITEM&quot;</span> ), to_moves&lt;int&gt;( method.<a class="code hl_variable" href="structmending__method.html#a10bde56ba6f5b57e0eb199d92fb709d4">time</a> ) );</div>
<div class="line"><a id="l02815" name="l02815"></a><span class="lineno"> 2815</span>        <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a878a082cf9150511f6ab911b3c9d30aa">name</a> = opt.fault.str();</div>
<div class="line"><a id="l02816" name="l02816"></a><span class="lineno"> 2816</span>        <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a>.emplace_back( method.<a class="code hl_variable" href="structmending__method.html#a145641edcafead9eec21f73c23c635ab">id</a> );</div>
<div class="line"><a id="l02817" name="l02817"></a><span class="lineno"> 2817</span>        <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.push_back( <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( obj ) );</div>
<div class="line"><a id="l02818" name="l02818"></a><span class="lineno"> 2818</span>    }</div>
<div class="line"><a id="l02819" name="l02819"></a><span class="lineno"> 2819</span>}</div>
<div class="ttc" id="aaction_8cpp_html_a91aa34292a1156bb83b17379bbf41933"><div class="ttname"><a href="action_8cpp.html#a91aa34292a1156bb83b17379bbf41933">press_x</a></div><div class="ttdeci">std::string press_x(action_id act)</div><div class="ttdef"><b>Definition:</b> <a href="action_8cpp_source.html#l00451">action.cpp:451</a></div></div>
<div class="ttc" id="aaction_8h_html_a14769f0512c139a614db195c6477c667a21be300b59358a6caddeea191d2b282d"><div class="ttname"><a href="action_8h.html#a14769f0512c139a614db195c6477c667a21be300b59358a6caddeea191d2b282d">ACTION_USE</a></div><div class="ttdeci">@ ACTION_USE</div><div class="ttdoc">Open the use menu.</div><div class="ttdef"><b>Definition:</b> <a href="action_8h_source.html#l00141">action.h:141</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_a3cbd6a4aa555daec83ee03cc90dd7715"><div class="ttname"><a href="calendar_8cpp.html#a3cbd6a4aa555daec83ee03cc90dd7715">to_string_approx</a></div><div class="ttdeci">std::string to_string_approx(const time_duration &amp;dur, const bool verbose)</div><div class="ttdoc">Returns approximate duration.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00361">calendar.cpp:361</a></div></div>
<div class="ttc" id="aclassfault_html_ab637ad4300f3a0eb95eaf4c4e4042504"><div class="ttname"><a href="classfault.html#ab637ad4300f3a0eb95eaf4c4e4042504">fault::mending_methods</a></div><div class="ttdeci">const std::map&lt; std::string, mending_method &gt; &amp; mending_methods() const</div><div class="ttdef"><b>Definition:</b> <a href="fault_8h_source.html#l00049">fault.h:49</a></div></div>
<div class="ttc" id="aclassitem_html_afd036343012f6275683b8168d84c1be3"><div class="ttname"><a href="classitem.html#afd036343012f6275683b8168d84c1be3">item::repaired_with</a></div><div class="ttdeci">const std::set&lt; itype_id &gt; &amp; repaired_with() const</div><div class="ttdoc">If possible to repair this item what tools could potentially be used for this purpose?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06207">item.cpp:6207</a></div></div>
<div class="ttc" id="aclassnc__color_html"><div class="ttname"><a href="classnc__color.html">nc_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00348">color.h:349</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a878a082cf9150511f6ab911b3c9d30aa"><div class="ttname"><a href="classplayer__activity.html#a878a082cf9150511f6ab911b3c9d30aa">player_activity::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00055">player_activity.h:55</a></div></div>
<div class="ttc" id="aclasstranslation_html_a30b5b9d586c786942c2321701a53e572"><div class="ttname"><a href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translation::translated</a></div><div class="ttdeci">std::string translated(int num=1) const</div><div class="ttdoc">Returns raw string if no translation is needed, otherwise returns the translated string.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00309">translations.cpp:309</a></div></div>
<div class="ttc" id="aclassuilist_html_a0baa34622db6972a59d47d478bfd21d6"><div class="ttname"><a href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">uilist::ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00412">ui.h:412</a></div></div>
<div class="ttc" id="aclassuilist_html_a1a7ee6e719a4f1bba45fc94e29a19166"><div class="ttname"><a href="classuilist.html#a1a7ee6e719a4f1bba45fc94e29a19166">uilist::desc_enabled</a></div><div class="ttdeci">bool desc_enabled</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00352">ui.h:352</a></div></div>
<div class="ttc" id="aclassuilist_html_a249485f03d260809993a4a594ba17077"><div class="ttname"><a href="classuilist.html#a249485f03d260809993a4a594ba17077">uilist::desc_lines_hint</a></div><div class="ttdeci">int desc_lines_hint</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00351">ui.h:351</a></div></div>
<div class="ttc" id="aclassuilist_html_ae186aa01767463de50315306c6c51479"><div class="ttname"><a href="classuilist.html#ae186aa01767463de50315306c6c51479">uilist::addentry_desc</a></div><div class="ttdeci">void addentry_desc(const std::string &amp;str, const std::string &amp;desc)</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l00942">ui.cpp:942</a></div></div>
<div class="ttc" id="aclassuilist_html_af59dd3fdde04746dbc5cb52b355577ce"><div class="ttname"><a href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">uilist::text</a></div><div class="ttdeci">std::string text</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00320">ui.h:320</a></div></div>
<div class="ttc" id="aclassuilist_html_af99f28334902af64487e2d0758df2ab9"><div class="ttname"><a href="classuilist.html#af99f28334902af64487e2d0758df2ab9">uilist::addentry</a></div><div class="ttdeci">void addentry(const std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l00932">ui.cpp:932</a></div></div>
<div class="ttc" id="agroup__UI_html_ga7604af7545244003f0a52ac87ce37979"><div class="ttname"><a href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">uilist::query</a></div><div class="ttdeci">void query(bool loop=true, int timeout=-1)</div><div class="ttdoc">Handle input and update display.</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l00828">ui.cpp:828</a></div></div>
<div class="ttc" id="aitem_8h_html_a64c6001518eb0b959300f427a0086eb0"><div class="ttname"><a href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a></div><div class="ttdeci">bool is_crafting_component(const item &amp;component)</div><div class="ttdoc">Default filter for crafting component searches.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02275">item.h:2275</a></div></div>
<div class="ttc" id="anamespaceiexamine_html_a9b9c90bb21163bd14d5c2e438d2bd89e"><div class="ttname"><a href="namespaceiexamine.html#a9b9c90bb21163bd14d5c2e438d2bd89e">iexamine::fault</a></div><div class="ttdeci">void fault(player &amp;p, const tripoint &amp;examp)</div><div class="ttdoc">Display popup with reference to &quot;The Enigma of Amigara Fault.&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="iexamine_8cpp_source.html#l01552">iexamine.cpp:1552</a></div></div>
<div class="ttc" id="aoutput_8h_html_a17a93de390fc2504e63ab6dc8cf4753aacfc049a17faac959998820e7aaaf4329"><div class="ttname"><a href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aacfc049a17faac959998820e7aaaf4329">enumeration_conjunction::or_</a></div><div class="ttdeci">@ or_</div></div>
<div class="ttc" id="aoutput_8h_html_abc4022ff920f936d2ee400cedc458733"><div class="ttname"><a href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a></div><div class="ttdeci">std::string enumerate_as_string(const _Container &amp;values, enumeration_conjunction conj=enumeration_conjunction::and_)</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00679">output.h:679</a></div></div>
<div class="ttc" id="astructmending__method_html"><div class="ttname"><a href="structmending__method.html">mending_method</a></div><div class="ttdef"><b>Definition:</b> <a href="fault_8h_source.html#l00016">fault.h:16</a></div></div>
<div class="ttc" id="astructmending__method_html_a0449ab68d7ff39a419e48851c65b4e9e"><div class="ttname"><a href="structmending__method.html#a0449ab68d7ff39a419e48851c65b4e9e">mending_method::also_mends</a></div><div class="ttdeci">cata::optional&lt; fault_id &gt; also_mends</div><div class="ttdef"><b>Definition:</b> <a href="fault_8h_source.html#l00025">fault.h:25</a></div></div>
<div class="ttc" id="astructmending__method_html_a10bde56ba6f5b57e0eb199d92fb709d4"><div class="ttname"><a href="structmending__method.html#a10bde56ba6f5b57e0eb199d92fb709d4">mending_method::time</a></div><div class="ttdeci">time_duration time</div><div class="ttdef"><b>Definition:</b> <a href="fault_8h_source.html#l00021">fault.h:21</a></div></div>
<div class="ttc" id="astructmending__method_html_a145641edcafead9eec21f73c23c635ab"><div class="ttname"><a href="structmending__method.html#a145641edcafead9eec21f73c23c635ab">mending_method::id</a></div><div class="ttdeci">std::string id</div><div class="ttdef"><b>Definition:</b> <a href="fault_8h_source.html#l00017">fault.h:17</a></div></div>
<div class="ttc" id="astructmending__method_html_a191c13932cf3231717a3127ad529089a"><div class="ttname"><a href="structmending__method.html#a191c13932cf3231717a3127ad529089a">mending_method::description</a></div><div class="ttdeci">translation description</div><div class="ttdef"><b>Definition:</b> <a href="fault_8h_source.html#l00019">fault.h:19</a></div></div>
<div class="ttc" id="astructmending__method_html_a3a3e0eb87b07affbd639d7021b81ca9f"><div class="ttname"><a href="structmending__method.html#a3a3e0eb87b07affbd639d7021b81ca9f">mending_method::requirements</a></div><div class="ttdeci">requirement_id requirements</div><div class="ttdef"><b>Definition:</b> <a href="fault_8h_source.html#l00023">fault.h:23</a></div></div>
<div class="ttc" id="astructmending__method_html_a6af2975631bae0d5f58a11e3fd70a28a"><div class="ttname"><a href="structmending__method.html#a6af2975631bae0d5f58a11e3fd70a28a">mending_method::name</a></div><div class="ttdeci">translation name</div><div class="ttdef"><b>Definition:</b> <a href="fault_8h_source.html#l00018">fault.h:18</a></div></div>
<div class="ttc" id="astructmending__method_html_ab2be2273e23e1d5b1b15fe4ea7efcec7"><div class="ttname"><a href="structmending__method.html#ab2be2273e23e1d5b1b15fe4ea7efcec7">mending_method::skills</a></div><div class="ttdeci">std::map&lt; skill_id, int &gt; skills</div><div class="ttdef"><b>Definition:</b> <a href="fault_8h_source.html#l00022">fault.h:22</a></div></div>
<div class="ttc" id="astructmending__method_html_adac4f26c3274ad9b9d12037d2ac60167"><div class="ttname"><a href="structmending__method.html#adac4f26c3274ad9b9d12037d2ac60167">mending_method::turns_into</a></div><div class="ttdeci">cata::optional&lt; fault_id &gt; turns_into</div><div class="ttdef"><b>Definition:</b> <a href="fault_8h_source.html#l00024">fault.h:24</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a9195953194b6d62e4f119280f0e0455b"><div class="ttname"><a href="structrequirement__data.html#a9195953194b6d62e4f119280f0e0455b">requirement_data::get_folded_tools_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_folded_tools_list(int width, nc_color col, const inventory &amp;crafting_inv, int batch=1) const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00670">requirements.cpp:670</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_af0c79b5c75a7cf2df78663485b03ed9a"><div class="ttname"><a href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a></div><div class="ttdeci">const char * pgettext(const char *context, const char *msgid)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00041">translations.cpp:41</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="action_8h_source.html#l00141">ACTION_USE</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="ui_8cpp_source.html#l00932">uilist::addentry()</a>, <a class="el" href="ui_8cpp_source.html#l00942">uilist::addentry_desc()</a>, <a class="el" href="fault_8h_source.html#l00025">mending_method::also_mends</a>, <a class="el" href="color_8h_source.html#l00019">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00018">c_white</a>, <a class="el" href="color_8cpp_source.html#l00669">colorize()</a>, <a class="el" href="crafting_8cpp_source.html#l00545">Character::crafting_inventory()</a>, <a class="el" href="ui_8h_source.html#l00352">uilist::desc_enabled</a>, <a class="el" href="ui_8h_source.html#l00351">uilist::desc_lines_hint</a>, <a class="el" href="output_8h_source.html#l00679">enumerate_as_string()</a>, <a class="el" href="iexamine_8cpp_source.html#l01552">iexamine::fault()</a>, <a class="el" href="requirements_8cpp_source.html#l00670">requirement_data::get_folded_tools_list()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8h_source.html#l01583">Character::inv</a>, <a class="el" href="item_8h_source.html#l02275">is_crafting_component()</a>, <a class="el" href="mapgen_8cpp_source.html#l06454">line()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="fault_8h_source.html#l00049">fault::mending_methods()</a>, <a class="el" href="achievement_8cpp_source.html#l00058">string_id&lt; T &gt;::obj()</a>, <a class="el" href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aacfc049a17faac959998820e7aaaf4329">or_</a>, <a class="el" href="translations_8cpp_source.html#l00041">pgettext()</a>, <a class="el" href="action_8cpp_source.html#l00451">press_x()</a>, <a class="el" href="ui_8cpp_source.html#l00828">uilist::query()</a>, <a class="el" href="fault_8h_source.html#l00023">mending_method::requirements</a>, <a class="el" href="ui_8h_source.html#l00412">uilist::ret</a>, <a class="el" href="fault_8h_source.html#l00022">mending_method::skills</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="ui_8h_source.html#l00320">uilist::text</a>, <a class="el" href="fault_8h_source.html#l00021">mending_method::time</a>, <a class="el" href="calendar_8cpp_source.html#l00361">to_string_approx()</a>, <a class="el" href="player_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a>, and <a class="el" href="fault_8h_source.html#l00024">mending_method::turns_into</a>.</p>

<p class="reference">Referenced by <a class="el" href="avatar__action_8cpp_source.html#l00746">avatar_action::mend()</a>, and <a class="el" href="iuse_8cpp_source.html#l02035">iuse::pack_cbm()</a>.</p>

</div>
</div>
<a id="a1304421e7a67d0046529f3bd9263ce42" name="a1304421e7a67d0046529f3bd9263ce42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1304421e7a67d0046529f3bd9263ce42">&#9670;&nbsp;</a></span>mod_pain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void player::mod_pain </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>npain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Modifies a pain value by player traits before passing it to <a class="el" href="classCreature.html#a5391e672390a2e5f28f0d5e6742c0b54">Creature::mod_pain()</a> </p>

<p>Reimplemented from <a class="el" href="classCreature.html#a5391e672390a2e5f28f0d5e6742c0b54">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01092">1092</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>{</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>    <span class="keywordflow">if</span>( npain &gt; 0 ) {</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#af20cb84a6e8ccc0ed66c352edf29143b">trait_NOPAIN</a> ) || <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">effect_narcosis</a> ) ) {</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>        }</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>        <span class="comment">// always increase pain gained by one from these bad mutations</span></div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a2f4f0f5ccc2249eb59e90116d1ccfd2b">trait_MOREPAIN</a> ) ) {</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>            npain += std::max( 1, <a class="code hl_function" href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a>( npain * 0.25 ) );</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a4badd410c32b73c6267470c152064888">trait_MOREPAIN2</a> ) ) {</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>            npain += std::max( 1, <a class="code hl_function" href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a>( npain * 0.5 ) );</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#add03f42c426d755b969114118bfaf403">trait_MOREPAIN3</a> ) ) {</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>            npain += std::max( 1, <a class="code hl_function" href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a>( npain * 1.0 ) );</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>        }</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span> </div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>        <span class="keywordflow">if</span>( npain &gt; 1 ) {</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>            <span class="comment">// if it&#39;s 1 it&#39;ll just become 0, which is bad</span></div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a4b2257876364d774f1eb52ef6e585bbb">trait_PAINRESIST_TROGLO</a> ) ) {</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>                npain = <a class="code hl_function" href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a>( npain * 0.5 );</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a6001c9676cb209230cd17f25f36d7f1c">trait_PAINRESIST</a> ) ) {</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>                npain = <a class="code hl_function" href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a>( npain * 0.67 );</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>            }</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>        }</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>    }</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>    <a class="code hl_function" href="classCreature.html#a5391e672390a2e5f28f0d5e6742c0b54">Creature::mod_pain</a>( npain );</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>}</div>
<div class="ttc" id="aclassCreature_html_a5391e672390a2e5f28f0d5e6742c0b54"><div class="ttname"><a href="classCreature.html#a5391e672390a2e5f28f0d5e6742c0b54">Creature::mod_pain</a></div><div class="ttdeci">virtual void mod_pain(int npain)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01341">creature.cpp:1341</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a1a6476e8888f0929f469fd9af2d629bc"><div class="ttname"><a href="player_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">effect_narcosis</a></div><div class="ttdeci">static const efftype_id effect_narcosis(&quot;narcosis&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a2f4f0f5ccc2249eb59e90116d1ccfd2b"><div class="ttname"><a href="player_8cpp.html#a2f4f0f5ccc2249eb59e90116d1ccfd2b">trait_MOREPAIN</a></div><div class="ttdeci">static const trait_id trait_MOREPAIN(&quot;MORE_PAIN&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a4b2257876364d774f1eb52ef6e585bbb"><div class="ttname"><a href="player_8cpp.html#a4b2257876364d774f1eb52ef6e585bbb">trait_PAINRESIST_TROGLO</a></div><div class="ttdeci">static const trait_id trait_PAINRESIST_TROGLO(&quot;PAINRESIST_TROGLO&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a4badd410c32b73c6267470c152064888"><div class="ttname"><a href="player_8cpp.html#a4badd410c32b73c6267470c152064888">trait_MOREPAIN2</a></div><div class="ttdeci">static const trait_id trait_MOREPAIN2(&quot;MORE_PAIN2&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a6001c9676cb209230cd17f25f36d7f1c"><div class="ttname"><a href="player_8cpp.html#a6001c9676cb209230cd17f25f36d7f1c">trait_PAINRESIST</a></div><div class="ttdeci">static const trait_id trait_PAINRESIST(&quot;PAINRESIST&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_add03f42c426d755b969114118bfaf403"><div class="ttname"><a href="player_8cpp.html#add03f42c426d755b969114118bfaf403">trait_MOREPAIN3</a></div><div class="ttdeci">static const trait_id trait_MOREPAIN3(&quot;MORE_PAIN3&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">effect_narcosis</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="creature_8cpp_source.html#l01341">Creature::mod_pain()</a>, <a class="el" href="rng_8cpp_source.html#l00096">roll_remainder()</a>, <a class="el" href="player_8cpp.html#a2f4f0f5ccc2249eb59e90116d1ccfd2b">trait_MOREPAIN</a>, <a class="el" href="player_8cpp.html#a4badd410c32b73c6267470c152064888">trait_MOREPAIN2</a>, <a class="el" href="player_8cpp.html#add03f42c426d755b969114118bfaf403">trait_MOREPAIN3</a>, <a class="el" href="player_8cpp.html#af20cb84a6e8ccc0ed66c352edf29143b">trait_NOPAIN</a>, <a class="el" href="player_8cpp.html#a6001c9676cb209230cd17f25f36d7f1c">trait_PAINRESIST</a>, and <a class="el" href="player_8cpp.html#a4b2257876364d774f1eb52ef6e585bbb">trait_PAINRESIST_TROGLO</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l00727">iuse::antiparasitic()</a>, <a class="el" href="iexamine_8cpp_source.html#l04707">iexamine::autodoc()</a>, <a class="el" href="iuse_8cpp_source.html#l01026">iuse::blech()</a>, <a class="el" href="iuse_8cpp_source.html#l04606">iuse::blood_draw()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04604">blood_magic()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00440">activity_handlers::burrow_finish()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01908">cauterize_actor::cauterize_effect()</a>, <a class="el" href="debug__menu_8cpp_source.html#l00491">debug_menu::character_edit_menu()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00201">eff_fun_bleed()</a>, <a class="el" href="iuse_8cpp_source.html#l07781">iuse::ehandcuffs()</a>, <a class="el" href="game_8cpp_source.html#l10938">game::find_or_make_stairs()</a>, <a class="el" href="game_8cpp_source.html#l10060">game::grabbed_furn_move()</a>, <a class="el" href="grab_8cpp_source.html#l00021">game::grabbed_veh_move()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00464">hardcoded_effects()</a>, <a class="el" href="iuse_8cpp_source.html#l01261">marloss_common()</a>, <a class="el" href="game_8cpp_source.html#l04168">game::mon_info_update()</a>, <a class="el" href="iuse_8cpp_source.html#l01436">iuse::mycus()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01926">activity_handlers::pickaxe_finish()</a>, <a class="el" href="map__field_8cpp_source.html#l01220">map::player_in_field()</a>, <a class="el" href="player_8cpp_source.html#l01432">process_one_effect()</a>, <a class="el" href="sounds_8cpp_source.html#l00386">sounds::process_sound_markers()</a>, <a class="el" href="iuse_8cpp_source.html#l01144">iuse::purify_iv()</a>, <a class="el" href="iuse_8cpp_source.html#l01186">iuse::purify_smart()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00719">spell_effect::recover_energy()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04443">mutagen_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04511">mutagen_iv_actor::use()</a>, and <a class="el" href="iuse_8cpp_source.html#l00852">iuse::vaccine()</a>.</p>

</div>
</div>
<a id="a2d4ff6f5e604d64d8b82650f0673ccdd" name="a2d4ff6f5e604d64d8b82650f0673ccdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d4ff6f5e604d64d8b82650f0673ccdd">&#9670;&nbsp;</a></span>mod_stat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void player::mod_stat </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>stat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>modifier</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classCharacter.html#a7f2d1bf5e4a90553ab32b284504e2fdd">Character</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00626">626</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>{</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>    <span class="keywordflow">if</span>( stat == <span class="stringliteral">&quot;thirst&quot;</span> ) {</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>        <a class="code hl_function" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( modifier );</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( stat == <span class="stringliteral">&quot;fatigue&quot;</span> ) {</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>        <a class="code hl_function" href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">mod_fatigue</a>( modifier );</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( stat == <span class="stringliteral">&quot;oxygen&quot;</span> ) {</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>        <a class="code hl_variable" href="classCharacter.html#a865e5eb770c71b3bd4ec4a05235cd3b6">oxygen</a> += modifier;</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( stat == <span class="stringliteral">&quot;stamina&quot;</span> ) {</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>        <a class="code hl_function" href="classCharacter.html#ac29de3d2bc90dd1c8d921b539fb05cfb">mod_stamina</a>( modifier );</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>        <span class="comment">// Fall through to the creature method.</span></div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>        <a class="code hl_function" href="classCharacter.html#a7f2d1bf5e4a90553ab32b284504e2fdd">Character::mod_stat</a>( stat, modifier );</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>    }</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>}</div>
<div class="ttc" id="aclassCharacter_html_a7f2d1bf5e4a90553ab32b284504e2fdd"><div class="ttname"><a href="classCharacter.html#a7f2d1bf5e4a90553ab32b284504e2fdd">Character::mod_stat</a></div><div class="ttdeci">void mod_stat(const std::string &amp;stat, float modifier) override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00513">character.cpp:513</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac29de3d2bc90dd1c8d921b539fb05cfb"><div class="ttname"><a href="classCharacter.html#ac29de3d2bc90dd1c8d921b539fb05cfb">Character::mod_stamina</a></div><div class="ttdeci">void mod_stamina(int mod)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07194">character.cpp:7194</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l04414">Character::mod_fatigue()</a>, <a class="el" href="character_8cpp_source.html#l07194">Character::mod_stamina()</a>, <a class="el" href="character_8cpp_source.html#l00513">Character::mod_stat()</a>, <a class="el" href="character_8cpp_source.html#l04398">Character::mod_thirst()</a>, and <a class="el" href="character_8h_source.html#l01594">Character::oxygen</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00788">consume_drug_iuse::use()</a>.</p>

</div>
</div>
<a id="abcc5c1d87d4731a1c998dda2ce995a9f" name="abcc5c1d87d4731a1c998dda2ce995a9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcc5c1d87d4731a1c998dda2ce995a9f">&#9670;&nbsp;</a></span>morale_crafting_speed_multiplier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float player::morale_crafting_speed_multiplier </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrecipe.html">recipe</a> &amp;&#160;</td>
          <td class="paramname"><em>rec</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00159">159</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>{</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classCharacter.html#aca511c2b9cca76347a32edd2c2ac0fd2">morale</a> = <a class="code hl_function" href="classCharacter.html#a81a81cee431c657465e6ab54af345eaf">get_morale_level</a>();</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#aca511c2b9cca76347a32edd2c2ac0fd2">morale</a> &gt;= 0 ) {</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>        <span class="comment">// No bonus for being happy yet</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>        <span class="keywordflow">return</span> 1.0f;</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    }</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span> </div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="comment">// Harder jobs are more frustrating, even when skilled</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <span class="comment">// For each skill where skill=difficulty, multiply effective morale by 200%</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <span class="keywordtype">float</span> <a class="code hl_struct" href="structmorale__mult.html">morale_mult</a> = std::max( 1.0f, 2.0f * rec.<a class="code hl_variable" href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">difficulty</a> / std::max( 1,</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>                                  <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( rec.<a class="code hl_variable" href="classrecipe.html#a0af03931c6f034e6b5269a5206e31bd2">skill_used</a> ) ) );</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;pr : rec.<a class="code hl_variable" href="classrecipe.html#a0f8a4801e8ff8e2c0310b04ef0c4a245">required_skills</a> ) {</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>        <a class="code hl_struct" href="structmorale__mult.html">morale_mult</a> *= std::max( 1.0f, 2.0f * pr.second / std::max( 1, <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( pr.first ) ) );</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    }</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="comment">// Halve speed at -50 effective morale, quarter at -150</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <span class="keywordtype">float</span> morale_effect = 1.0f + ( <a class="code hl_struct" href="structmorale__mult.html">morale_mult</a> * <a class="code hl_variable" href="classCharacter.html#aca511c2b9cca76347a32edd2c2ac0fd2">morale</a> ) / -50.0f;</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    <span class="keywordflow">return</span> 1.0f / morale_effect;</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>}</div>
<div class="ttc" id="astructmorale__mult_html"><div class="ttname"><a href="structmorale__mult.html">morale_mult</a></div><div class="ttdef"><b>Definition:</b> <a href="morale_8cpp_source.html#l00073">morale.cpp:73</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="recipe_8h_source.html#l00060">recipe::difficulty</a>, <a class="el" href="character_8cpp_source.html#l09062">Character::get_morale_level()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="character_8h_source.html#l02192">Character::morale</a>, <a class="el" href="recipe_8h_source.html#l00108">recipe::required_skills</a>, and <a class="el" href="recipe_8h_source.html#l00107">recipe::skill_used</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__activity_8cpp_source.html#l00118">craft_progress_message()</a>, <a class="el" href="crafting_8cpp_source.html#l00112">crafting_allowed()</a>, and <a class="el" href="crafting_8cpp_source.html#l00261">crafting_speed_multiplier()</a>.</p>

</div>
</div>
<a id="af00b79f3024445040119fc88e4335086" name="af00b79f3024445040119fc88e4335086"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af00b79f3024445040119fc88e4335086">&#9670;&nbsp;</a></span>normalize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void player::normalize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls <a class="el" href="classCharacter.html#a86d7d95c31f10627ad52711c37f53df2" title="Calls Creature::normalize() nulls out the player&#39;s weapon Should only be called through player::norma...">Character::normalize()</a> normalizes HP and body temperature. </p>

<p>Reimplemented from <a class="el" href="classCharacter.html#a86d7d95c31f10627ad52711c37f53df2">Character</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00308">308</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>{</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>    <a class="code hl_function" href="classCharacter.html#a86d7d95c31f10627ad52711c37f53df2">Character::normalize</a>();</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span> </div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    <a class="code hl_function" href="classCharacter.html#ae9de69bc0450c41078c9f5c86bcf837c">recalc_hp</a>();</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span> </div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    <a class="code hl_variable" href="classCharacter.html#ab8947df053065c19ec265278dcb8ed6c">temp_cur</a>.fill( <a class="code hl_variable" href="weather_8h.html#a126a092834651c253471d4190ea55cd3">BODYTEMP_NORM</a> );</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    <a class="code hl_variable" href="classCharacter.html#a450ed42503c02c36c04faa550a5b8f70">temp_conv</a>.fill( <a class="code hl_variable" href="weather_8h.html#a126a092834651c253471d4190ea55cd3">BODYTEMP_NORM</a> );</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    <a class="code hl_function" href="classCharacter.html#a65642ccc4e3370f7a594d77e4e1fd374">set_stamina</a>( <a class="code hl_function" href="classCharacter.html#aefe5432750eb1c2c65fea628fd9878a7">get_stamina_max</a>() );</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>}</div>
<div class="ttc" id="aclassCharacter_html_a450ed42503c02c36c04faa550a5b8f70"><div class="ttname"><a href="classCharacter.html#a450ed42503c02c36c04faa550a5b8f70">Character::temp_conv</a></div><div class="ttdeci">std::array&lt; int, num_bp &gt; temp_conv</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02271">character.h:2271</a></div></div>
<div class="ttc" id="aclassCharacter_html_a65642ccc4e3370f7a594d77e4e1fd374"><div class="ttname"><a href="classCharacter.html#a65642ccc4e3370f7a594d77e4e1fd374">Character::set_stamina</a></div><div class="ttdeci">void set_stamina(int new_stamina)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07189">character.cpp:7189</a></div></div>
<div class="ttc" id="aclassCharacter_html_a86d7d95c31f10627ad52711c37f53df2"><div class="ttname"><a href="classCharacter.html#a86d7d95c31f10627ad52711c37f53df2">Character::normalize</a></div><div class="ttdeci">void normalize() override</div><div class="ttdoc">Calls Creature::normalize() nulls out the player's weapon Should only be called through player::norma...</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03441">character.cpp:3441</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae9de69bc0450c41078c9f5c86bcf837c"><div class="ttname"><a href="classCharacter.html#ae9de69bc0450c41078c9f5c86bcf837c">Character::recalc_hp</a></div><div class="ttdeci">void recalc_hp()</div><div class="ttdoc">Recalculates HP after a change to max strength.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01645">character.cpp:1645</a></div></div>
<div class="ttc" id="aclassCharacter_html_aefe5432750eb1c2c65fea628fd9878a7"><div class="ttname"><a href="classCharacter.html#aefe5432750eb1c2c65fea628fd9878a7">Character::get_stamina_max</a></div><div class="ttdeci">int get_stamina_max() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07180">character.cpp:7180</a></div></div>
<div class="ttc" id="aweather_8h_html_a126a092834651c253471d4190ea55cd3"><div class="ttname"><a href="weather_8h.html#a126a092834651c253471d4190ea55cd3">BODYTEMP_NORM</a></div><div class="ttdeci">static constexpr int BODYTEMP_NORM</div><div class="ttdoc">Level 1 hotness.</div><div class="ttdef"><b>Definition:</b> <a href="weather_8h_source.html#l00036">weather.h:36</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="weather_8h_source.html#l00036">BODYTEMP_NORM</a>, <a class="el" href="character_8cpp_source.html#l07180">Character::get_stamina_max()</a>, <a class="el" href="character_8cpp_source.html#l03441">Character::normalize()</a>, <a class="el" href="character_8cpp_source.html#l01645">Character::recalc_hp()</a>, <a class="el" href="character_8cpp_source.html#l07189">Character::set_stamina()</a>, <a class="el" href="character_8h_source.html#l02271">Character::temp_conv</a>, and <a class="el" href="character_8h_source.html#l02271">Character::temp_cur</a>.</p>

</div>
</div>
<a id="a9d84938529a732fabf035ac2e9d6189a" name="a9d84938529a732fabf035ac2e9d6189a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d84938529a732fabf035ac2e9d6189a">&#9670;&nbsp;</a></span>on_dodge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void player::on_dodge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>difficulty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called after the player has successfully dodged an attack. </p>

<p>Implements <a class="el" href="classCreature.html#af56188882e3300853d18f166738ee37a">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00930">930</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>{</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">matec_id</a> <a class="code hl_variable" href="melee_8cpp.html#a708d21cc52d611b3dcd59d36bbbccc0c">tec_none</a>( <span class="stringliteral">&quot;tec_none&quot;</span> );</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span> </div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>    <span class="comment">// Each avoided hit consumes an available dodge</span></div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>    <span class="comment">// When no more available we are likely to fail player::dodge_roll</span></div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>    <a class="code hl_variable" href="classCharacter.html#a5d450cd31d2779dd654ba6589f09c98b">dodges_left</a>--;</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span> </div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>    <span class="comment">// dodging throws of our aim unless we are either skilled at dodging or using a small weapon</span></div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#ad79464264cb8a2061f5888d092f5cd86">is_armed</a>() &amp;&amp; <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>        <a class="code hl_variable" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> += std::max( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>() / 250_ml - <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="player_8cpp.html#a1d5482b7403ee4ac3e70e88ecfee2141">skill_dodge</a> ), 0 ) * <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 100 );</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>        <a class="code hl_variable" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> = std::min( <a class="code hl_variable" href="game__constants_8h.html#a8226e8a134603e5bc06df05efd13d8d1">MAX_RECOIL</a>, <a class="code hl_variable" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> );</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>    }</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span> </div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>    <span class="comment">// Even if we are not to train still call practice to prevent skill rust</span></div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>    difficulty = std::max( difficulty, 0.0f );</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>    <a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( <a class="code hl_variable" href="player_8cpp.html#a1d5482b7403ee4ac3e70e88ecfee2141">skill_dodge</a>, difficulty * 2, difficulty );</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span> </div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>    <a class="code hl_variable" href="classCharacter.html#a313797e99525bfd2a5ead68b7672f168">martial_arts_data</a>-&gt;ma_ondodge_effects( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span> </div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>    <span class="comment">// For adjacent attackers check for techniques usable upon successful dodge</span></div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>    <span class="keywordflow">if</span>( source &amp;&amp; <a class="code hl_function" href="coordinates_8h.html#a5ca1722555a6d5ab9ab7ae8e35c35eaa">square_dist</a>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), source-&gt;<a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>() ) == 1 ) {</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>        <a class="code hl_class" href="classstring__id.html">matec_id</a> tec = <a class="code hl_function" href="classCharacter.html#a37eb1f87157d10b3f504ee6b6ce28f4c">pick_technique</a>( *source, <a class="code hl_function" href="classCharacter.html#a4e4cc59c18923d8ffbb9017236747dc0">used_weapon</a>(), <span class="keyword">false</span>, <span class="keyword">true</span>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span> </div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>        <span class="keywordflow">if</span>( tec != <a class="code hl_variable" href="melee_8cpp.html#a708d21cc52d611b3dcd59d36bbbccc0c">tec_none</a> &amp;&amp; !<a class="code hl_function" href="classplayer.html#a19f31fc34e96a784d48fde849d7af6fb">is_dead_state</a>() ) {</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a0ffe14df559cee6e9b5d02f5b214d009">get_stamina</a>() &lt; <a class="code hl_function" href="classCharacter.html#aefe5432750eb1c2c65fea628fd9878a7">get_stamina_max</a>() / 3 ) {</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You try to counterattack but you are too exhausted!&quot;</span> ) );</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>                <a class="code hl_function" href="classCharacter.html#a7af9d555fb7d6fbc127ea37e9e709804">melee_attack</a>( *source, <span class="keyword">false</span>, tec );</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>            }</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>        }</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>    }</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>}</div>
<div class="ttc" id="aclassCharacter_html_a0ffe14df559cee6e9b5d02f5b214d009"><div class="ttname"><a href="classCharacter.html#a0ffe14df559cee6e9b5d02f5b214d009">Character::get_stamina</a></div><div class="ttdeci">int get_stamina() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07175">character.cpp:7175</a></div></div>
<div class="ttc" id="aclassCharacter_html_a37eb1f87157d10b3f504ee6b6ce28f4c"><div class="ttname"><a href="classCharacter.html#a37eb1f87157d10b3f504ee6b6ce28f4c">Character::pick_technique</a></div><div class="ttdeci">matec_id pick_technique(Creature &amp;t, const item &amp;weap, bool crit, bool dodge_counter, bool block_counter)</div><div class="ttdoc">Returns a random valid technique.</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l01085">melee.cpp:1085</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4e4cc59c18923d8ffbb9017236747dc0"><div class="ttname"><a href="classCharacter.html#a4e4cc59c18923d8ffbb9017236747dc0">Character::used_weapon</a></div><div class="ttdeci">const item &amp; used_weapon() const</div><div class="ttdoc">Returns a reference to the item which will be used to make attacks.</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l00135">melee.cpp:135</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7af9d555fb7d6fbc127ea37e9e709804"><div class="ttname"><a href="classCharacter.html#a7af9d555fb7d6fbc127ea37e9e709804">Character::melee_attack</a></div><div class="ttdeci">void melee_attack(Creature &amp;t, bool allow_special, const matec_id &amp;force_technique, bool allow_unarmed=true)</div><div class="ttdoc">Sets up a melee attack and handles melee attack function calls.</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l00390">melee.cpp:390</a></div></div>
<div class="ttc" id="aclassCreature_html_a45926a7ba63ccc9be744f87a4d540b7d"><div class="ttname"><a href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">Creature::pos</a></div><div class="ttdeci">virtual const tripoint &amp; pos() const =0</div></div>
<div class="ttc" id="aclassplayer_html_a19f31fc34e96a784d48fde849d7af6fb"><div class="ttname"><a href="classplayer.html#a19f31fc34e96a784d48fde849d7af6fb">player::is_dead_state</a></div><div class="ttdeci">bool is_dead_state() const override</div><div class="ttdoc">Returns true if the player should be dead.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00924">player.cpp:924</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a5ca1722555a6d5ab9ab7ae8e35c35eaa"><div class="ttname"><a href="coordinates_8h.html#a5ca1722555a6d5ab9ab7ae8e35c35eaa">square_dist</a></div><div class="ttdeci">int square_dist(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00505">coordinates.h:505</a></div></div>
<div class="ttc" id="amelee_8cpp_html_a708d21cc52d611b3dcd59d36bbbccc0c"><div class="ttname"><a href="melee_8cpp.html#a708d21cc52d611b3dcd59d36bbbccc0c">tec_none</a></div><div class="ttdeci">static const matec_id tec_none(&quot;tec_none&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="character_8h_source.html#l00616">Character::dodges_left</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="character_8cpp_source.html#l07175">Character::get_stamina()</a>, <a class="el" href="character_8cpp_source.html#l07180">Character::get_stamina_max()</a>, <a class="el" href="melee_8cpp_source.html#l00145">Character::is_armed()</a>, <a class="el" href="player_8cpp_source.html#l00924">is_dead_state()</a>, <a class="el" href="item_8cpp_source.html#l06367">item::is_gun()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="character_8h_source.html#l01589">Character::martial_arts_data</a>, <a class="el" href="game__constants_8h_source.html#l00128">MAX_RECOIL</a>, <a class="el" href="melee_8cpp_source.html#l00390">Character::melee_attack()</a>, <a class="el" href="melee_8cpp_source.html#l01085">Character::pick_technique()</a>, <a class="el" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">Creature::pos()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="player_8cpp_source.html#l04005">practice()</a>, <a class="el" href="character_8h_source.html#l00618">Character::recoil</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="player_8cpp.html#a1d5482b7403ee4ac3e70e88ecfee2141">skill_dodge</a>, <a class="el" href="coordinates_8h_source.html#l00505">square_dist()</a>, <a class="el" href="melee_8cpp.html#a708d21cc52d611b3dcd59d36bbbccc0c">tec_none</a>, <a class="el" href="melee_8cpp_source.html#l00135">Character::used_weapon()</a>, <a class="el" href="item_8cpp_source.html#l04991">item::volume()</a>, and <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l02649">mattack::grab()</a>.</p>

</div>
</div>
<a id="a9c612a00cf5588ee822c1fe0d0fde897" name="a9c612a00cf5588ee822c1fe0d0fde897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c612a00cf5588ee822c1fe0d0fde897">&#9670;&nbsp;</a></span>on_hit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void player::on_hit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>&#160;</td>
          <td class="paramname"><em>bp_hit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>difficulty</em> = <code>INT_MIN</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdealt__projectile__attack.html">dealt_projectile_attack</a> const *&#160;</td>
          <td class="paramname"><em>proj</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles special defenses from an attack that hit us (source can be null) </p>

<p>Reimplemented from <a class="el" href="classCharacter.html#a2c749cd1d7ee1f8b3f21e68050a30621">Character</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00964">964</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>{</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>    <a class="code hl_function" href="classCreature.html#a36dcf5a04ddc0cf9fa29c08b7b099158">check_dead_state</a>();</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>    <span class="keywordflow">if</span>( source == <span class="keyword">nullptr</span> || proj != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>    }</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span> </div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>    <span class="keywordtype">bool</span> u_see = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af9c7419575e23d52745c94009929fafb">has_active_bionic</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a965ba98fb0eca1e875b86fcf2bc91ab8">bionic_id</a>( <span class="stringliteral">&quot;bio_ods&quot;</span> ) ) &amp;&amp; <a class="code hl_function" href="classCharacter.html#add22510ff2fa20a662868b4dd86e030e">get_power_level</a>() &gt; 5_kJ ) {</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() ) {</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your offensive defense system shocks %s in mid-attack!&quot;</span> ),</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>                     source-&gt;<a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( u_see ) {</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%1$s&#39;s offensive defense system shocks %2$s in mid-attack!&quot;</span> ),</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>                     <a class="code hl_function" href="classCharacter.html#a1e1996b6d6fc0a86d917cd155e1656d8">disp_name</a>(),</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>                     source-&gt;<a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>        }</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>        <span class="keywordtype">int</span> shock = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 4 );</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>        <a class="code hl_function" href="classCharacter.html#a17446e14fd6046648a505c4aaec3d976">mod_power_level</a>( <a class="code hl_function" href="namespaceunits.html#ada24d52c1ffd0df8d52a363d013d3231">units::from_kilojoule</a>( -shock ) );</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>        <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> ods_shock_damage;</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>        ods_shock_damage.<a class="code hl_function" href="structdamage__instance.html#a36067fd68baf04345d0c3626c67b8cac">add_damage</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa31df3b2996d2d10b2ca3e275899fdddb">DT_ELECTRIC</a>, shock * 5 );</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>        <span class="comment">// Should hit body part used for attack</span></div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>        source-&gt;<a class="code hl_function" href="classCreature.html#a75ad96eb6ce27d3c1df250965b4de7b5">deal_damage</a>( <span class="keyword">this</span>, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), ods_shock_damage );</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>    }</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#a6d3588802fde645fd5387038b259377c">wearing_something_on</a>( bp_hit ) &amp;&amp;</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>        ( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a444bf368428a6720e6837b9e7a951a6a">trait_SPINES</a> ) || <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a444102b4297414117db15957ce171fb6">trait_QUILLS</a> ) ) ) {</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>        <span class="keywordtype">int</span> spine = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a444102b4297414117db15957ce171fb6">trait_QUILLS</a> ) ? 20 : 8 );</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() ) {</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>            <span class="keywordflow">if</span>( u_see ) {</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%1$s&#39;s %2$s puncture %3$s in mid-attack!&quot;</span> ), <a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a>,</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>                         ( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a444102b4297414117db15957ce171fb6">trait_QUILLS</a> ) ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;quills&quot;</span> ) : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;spines&quot;</span> ) ),</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>                         source-&gt;<a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>            }</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %1$s puncture %2$s in mid-attack!&quot;</span> ),</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>                     ( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a444102b4297414117db15957ce171fb6">trait_QUILLS</a> ) ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;quills&quot;</span> ) : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;spines&quot;</span> ) ),</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>                     source-&gt;<a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>        }</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>        <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> spine_damage;</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>        spine_damage.<a class="code hl_function" href="structdamage__instance.html#a36067fd68baf04345d0c3626c67b8cac">add_damage</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa12e559f29e023db673e9251b9337d8dd">DT_STAB</a>, spine );</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>        source-&gt;<a class="code hl_function" href="classCreature.html#a75ad96eb6ce27d3c1df250965b4de7b5">deal_damage</a>( <span class="keyword">this</span>, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), spine_damage );</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>    }</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>    <span class="keywordflow">if</span>( ( !( <a class="code hl_function" href="classCharacter.html#a6d3588802fde645fd5387038b259377c">wearing_something_on</a>( bp_hit ) ) ) &amp;&amp; ( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#aa4d2fb68332efca857e1af9c796603f6">trait_THORNS</a> ) ) &amp;&amp;</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>        ( !( source-&gt;<a class="code hl_function" href="classCreature.html#aa80498f51ead4af4f6626b35116cbbd2">has_weapon</a>() ) ) ) {</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() ) {</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>            <span class="keywordflow">if</span>( u_see ) {</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%1$s&#39;s %2$s scrape %3$s in mid-attack!&quot;</span> ), <a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a>,</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>                         <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;thorns&quot;</span> ), source-&gt;<a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>            }</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your thorns scrape %s in mid-attack!&quot;</span> ), source-&gt;<a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>        }</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>        <span class="keywordtype">int</span> thorn = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 4 );</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>        <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> thorn_damage;</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>        thorn_damage.<a class="code hl_function" href="structdamage__instance.html#a36067fd68baf04345d0c3626c67b8cac">add_damage</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8ff698c0509e78ff65c7c7ec899b4f51">DT_CUT</a>, thorn );</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>        <span class="comment">// In general, critters don&#39;t have separate limbs</span></div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>        <span class="comment">// so safer to target the torso</span></div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>        source-&gt;<a class="code hl_function" href="classCreature.html#a75ad96eb6ce27d3c1df250965b4de7b5">deal_damage</a>( <span class="keyword">this</span>, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), thorn_damage );</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>    }</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>    <span class="keywordflow">if</span>( ( !( <a class="code hl_function" href="classCharacter.html#a6d3588802fde645fd5387038b259377c">wearing_something_on</a>( bp_hit ) ) ) &amp;&amp; ( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a049e6d18b78208187ec5171c6c610327">trait_CF_HAIR</a> ) ) ) {</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() ) {</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>            <span class="keywordflow">if</span>( u_see ) {</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%1$s gets a load of %2$s&#39;s %3$s stuck in!&quot;</span> ), source-&gt;<a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>(),</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>                         <a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a>, ( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;hair&quot;</span> ) ) );</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>            }</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your hairs detach into %s!&quot;</span> ), source-&gt;<a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>        }</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>        source-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, 2_turns );</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) { <span class="comment">// In the eyes!</span></div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>            source-&gt;<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a>, 2_turns );</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>        }</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>    }</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a3aaa75382f6308a729369c7f2ccf0600">worn_with_flag</a>( <span class="stringliteral">&quot;REQUIRES_BALANCE&quot;</span> ) &amp;&amp; !<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a> ) ) {</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>        <span class="keywordtype">int</span> rolls = 4;</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a3aaa75382f6308a729369c7f2ccf0600">worn_with_flag</a>( <span class="stringliteral">&quot;ROLLER_ONE&quot;</span> ) ) {</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>            rolls += 2;</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>        }</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#af247329e9c32c1496b225d041edf4d49">trait_PROF_SKATER</a> ) ) {</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>            rolls--;</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>        }</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#abbbc188306356c5f285689c0fb736107">trait_DEFT</a> ) ) {</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>            rolls--;</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>        }</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span> </div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#ade9f2154bc9711f924fc216a46162a74">stability_roll</a>() &lt; <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( rolls, 10 ) ) {</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() ) {</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>                <span class="keywordflow">if</span>( u_see ) {</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>                    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%1$s loses their balance while being hit!&quot;</span> ), <a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a> );</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>                }</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You lose your balance while being hit!&quot;</span> ) );</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>            }</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>            <span class="comment">// This kind of downing is not subject to immunity.</span></div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, 2_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a>, 0, <span class="keyword">true</span> );</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>        }</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>    }</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>    <a class="code hl_function" href="classCharacter.html#a2c749cd1d7ee1f8b3f21e68050a30621">Character::on_hit</a>( source, bp_hit, 0.0f, proj );</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>}</div>
<div class="ttc" id="aclassCharacter_html_a1e1996b6d6fc0a86d917cd155e1656d8"><div class="ttname"><a href="classCharacter.html#a1e1996b6d6fc0a86d917cd155e1656d8">Character::disp_name</a></div><div class="ttdeci">std::string disp_name(bool possessive=false, bool capitalize_first=false) const override</div><div class="ttdoc">Returns either &quot;you&quot; or the player's name.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00539">character.cpp:539</a></div></div>
<div class="ttc" id="aclassCharacter_html_a2c749cd1d7ee1f8b3f21e68050a30621"><div class="ttname"><a href="classCharacter.html#a2c749cd1d7ee1f8b3f21e68050a30621">Character::on_hit</a></div><div class="ttdeci">void on_hit(Creature *source, bodypart_id, float, dealt_projectile_attack const *) override</div><div class="ttdoc">This creature just got hit by an attack - possibly special/ranged attack - from source.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08375">character.cpp:8375</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6d3588802fde645fd5387038b259377c"><div class="ttname"><a href="classCharacter.html#a6d3588802fde645fd5387038b259377c">Character::wearing_something_on</a></div><div class="ttdeci">bool wearing_something_on(const bodypart_id &amp;bp) const</div><div class="ttdoc">Returns true if the character is wearing something on the entered body part.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08835">character.cpp:8835</a></div></div>
<div class="ttc" id="aclassCharacter_html_add22510ff2fa20a662868b4dd86e030e"><div class="ttname"><a href="classCharacter.html#add22510ff2fa20a662868b4dd86e030e">Character::get_power_level</a></div><div class="ttdeci">units::energy get_power_level() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01956">character.cpp:1956</a></div></div>
<div class="ttc" id="aclassCreature_html_a36dcf5a04ddc0cf9fa29c08b7b099158"><div class="ttname"><a href="classCreature.html#a36dcf5a04ddc0cf9fa29c08b7b099158">Creature::check_dead_state</a></div><div class="ttdeci">void check_dead_state()</div><div class="ttdoc">This function checks the creatures is_dead_state and (if true) calls die.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01833">creature.cpp:1833</a></div></div>
<div class="ttc" id="aclassCreature_html_a75ad96eb6ce27d3c1df250965b4de7b5"><div class="ttname"><a href="classCreature.html#a75ad96eb6ce27d3c1df250965b4de7b5">Creature::deal_damage</a></div><div class="ttdeci">virtual dealt_damage_instance deal_damage(Creature *source, bodypart_id bp, const damage_instance &amp;dam)</div><div class="ttdoc">Deals the damage via an attack.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00873">creature.cpp:873</a></div></div>
<div class="ttc" id="aclassCreature_html_aa80498f51ead4af4f6626b35116cbbd2"><div class="ttname"><a href="classCreature.html#aa80498f51ead4af4f6626b35116cbbd2">Creature::has_weapon</a></div><div class="ttdeci">virtual bool has_weapon() const =0</div></div>
<div class="ttc" id="aclassplayer_html_ade9f2154bc9711f924fc216a46162a74"><div class="ttname"><a href="classplayer.html#ade9f2154bc9711f924fc216a46162a74">player::stability_roll</a></div><div class="ttdeci">float stability_roll() const override</div><div class="ttdoc">Returns value of player's stable footing.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00571">player.cpp:571</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa31df3b2996d2d10b2ca3e275899fdddb"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa31df3b2996d2d10b2ca3e275899fdddb">DT_ELECTRIC</a></div><div class="ttdeci">@ DT_ELECTRIC</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00030">damage.h:30</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a049e6d18b78208187ec5171c6c610327"><div class="ttname"><a href="player_8cpp.html#a049e6d18b78208187ec5171c6c610327">trait_CF_HAIR</a></div><div class="ttdeci">static const trait_id trait_CF_HAIR(&quot;CF_HAIR&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a09e952ef4d27618e2f60ec737a8d1bae"><div class="ttname"><a href="player_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a></div><div class="ttdeci">static const efftype_id effect_blind(&quot;blind&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a444102b4297414117db15957ce171fb6"><div class="ttname"><a href="player_8cpp.html#a444102b4297414117db15957ce171fb6">trait_QUILLS</a></div><div class="ttdeci">static const trait_id trait_QUILLS(&quot;QUILLS&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a444bf368428a6720e6837b9e7a951a6a"><div class="ttname"><a href="player_8cpp.html#a444bf368428a6720e6837b9e7a951a6a">trait_SPINES</a></div><div class="ttdeci">static const trait_id trait_SPINES(&quot;SPINES&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_aa4d2fb68332efca857e1af9c796603f6"><div class="ttname"><a href="player_8cpp.html#aa4d2fb68332efca857e1af9c796603f6">trait_THORNS</a></div><div class="ttdeci">static const trait_id trait_THORNS(&quot;THORNS&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_abbbc188306356c5f285689c0fb736107"><div class="ttname"><a href="player_8cpp.html#abbbc188306356c5f285689c0fb736107">trait_DEFT</a></div><div class="ttdeci">static const trait_id trait_DEFT(&quot;DEFT&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_af247329e9c32c1496b225d041edf4d49"><div class="ttname"><a href="player_8cpp.html#af247329e9c32c1496b225d041edf4d49">trait_PROF_SKATER</a></div><div class="ttdeci">static const trait_id trait_PROF_SKATER(&quot;PROF_SKATER&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="damage_8cpp_source.html#l00041">damage_instance::add_damage()</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a965ba98fb0eca1e875b86fcf2bc91ab8">bionic_id</a>, <a class="el" href="creature_8cpp_source.html#l01833">Creature::check_dead_state()</a>, <a class="el" href="creature_8cpp_source.html#l00873">Creature::deal_damage()</a>, <a class="el" href="rng_8cpp_source.html#l00085">dice()</a>, <a class="el" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">Creature::disp_name()</a>, <a class="el" href="character_8cpp_source.html#l00539">Character::disp_name()</a>, <a class="el" href="damage_8h_source.html#l00025">DT_CUT</a>, <a class="el" href="damage_8h_source.html#l00030">DT_ELECTRIC</a>, <a class="el" href="damage_8h_source.html#l00027">DT_STAB</a>, <a class="el" href="player_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a>, <a class="el" href="player_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, <a class="el" href="player_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, <a class="el" href="units__energy_8h_source.html#l00032">units::from_kilojoule()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l01956">Character::get_power_level()</a>, <a class="el" href="character_8cpp_source.html#l01876">Character::has_active_bionic()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="classCreature.html#aa80498f51ead4af4f6626b35116cbbd2">Creature::has_weapon()</a>, <a class="el" href="player_8h_source.html#l00114">is_player()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="character_8cpp_source.html#l01976">Character::mod_power_level()</a>, <a class="el" href="character_8h_source.html#l01568">Character::name</a>, <a class="el" href="bodypart_8h_source.html#l00052">num_bp</a>, <a class="el" href="character_8cpp_source.html#l08375">Character::on_hit()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="player_8cpp_source.html#l00571">stability_roll()</a>, <a class="el" href="player_8cpp.html#a049e6d18b78208187ec5171c6c610327">trait_CF_HAIR</a>, <a class="el" href="player_8cpp.html#abbbc188306356c5f285689c0fb736107">trait_DEFT</a>, <a class="el" href="player_8cpp.html#af247329e9c32c1496b225d041edf4d49">trait_PROF_SKATER</a>, <a class="el" href="player_8cpp.html#a444102b4297414117db15957ce171fb6">trait_QUILLS</a>, <a class="el" href="player_8cpp.html#a444bf368428a6720e6837b9e7a951a6a">trait_SPINES</a>, <a class="el" href="player_8cpp.html#aa4d2fb68332efca857e1af9c796603f6">trait_THORNS</a>, <a class="el" href="character_8cpp_source.html#l08835">Character::wearing_something_on()</a>, and <a class="el" href="character_8cpp_source.html#l03241">Character::worn_with_flag()</a>.</p>

</div>
</div>
<a id="a82954dab20066baf77d77106bf5d7a3d" name="a82954dab20066baf77d77106bf5d7a3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82954dab20066baf77d77106bf5d7a3d">&#9670;&nbsp;</a></span>on_worn_item_transform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::on_worn_item_transform </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>old_it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>new_it</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01777">1777</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>{</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>    <a class="code hl_variable" href="classCharacter.html#aca511c2b9cca76347a32edd2c2ac0fd2">morale</a>-&gt;on_worn_item_transform( old_it, new_it );</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8h_source.html#l02192">Character::morale</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00211">iuse_transform::use()</a>.</p>

</div>
</div>
<a id="a4665a9a14b92cd85aa657545ba56a5c4" name="a4665a9a14b92cd85aa657545ba56a5c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4665a9a14b92cd85aa657545ba56a5c4">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classplayer.html">player</a> &amp; player::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="acd3b58687c5223941f399b9c509d6819" name="acd3b58687c5223941f399b9c509d6819"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd3b58687c5223941f399b9c509d6819">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classplayer.html">player</a> &amp; player::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2a40fdd3243988aac9e6784421558fb7" name="a2a40fdd3243988aac9e6784421558fb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a40fdd3243988aac9e6784421558fb7">&#9670;&nbsp;</a></span>pause()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::pause </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00756">756</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>{</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>    <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 0;</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>    <a class="code hl_variable" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> = <a class="code hl_variable" href="game__constants_8h.html#a8226e8a134603e5bc06df05efd13d8d1">MAX_RECOIL</a>;</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span> </div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>    <span class="comment">// Train swimming if underwater</span></div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classCharacter.html#a61bc9422c35b63128532af268e52cb71">in_vehicle</a> ) {</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a> ) {</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>            <a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( <a class="code hl_variable" href="player_8cpp.html#a1d815a8053cfecc8a05374bf92924ba2">skill_swimming</a>, 1 );</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>            <a class="code hl_function" href="classCharacter.html#a44dbe53874421147bfc4491d8753cccc">drench</a>( 100, { {</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>                    <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a44506e97ae9648354f97d530a3be61b8">bp_leg_l</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a202ad82497ebf8867cdcd6ee15085d16">bp_leg_r</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab4b216482dcc0e468819f023c3aeddd1">bp_torso</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a441080ba1d3930d38f635658d9b28e01">bp_arm_l</a>,</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>                    <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ae5f21c7494ad730a0c6abf6957976cb3">bp_arm_r</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab1635a97e6cc33a051cd378b60e48698">bp_head</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2055386ee220ee2ca3e61d13df65e868">bp_eyes</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980abb7b120eb8dc7c137110446fe541baed">bp_mouth</a>,</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>                    <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a184f1b627fd11fb607e76b2d30dadfbb">bp_foot_l</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac094b1c6f96ebbd604928cfd2fad0ab7">bp_foot_r</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2806629e65a2c2eb5d8049e29e77910e">bp_hand_l</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a54721306a0e05318b6d0440349c1a0fb">bp_hand_r</a></div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>                }</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>            }, true );</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <a class="code hl_enumvalue" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258aeb9fcbd752ad2c632ccc4383c5641b69">TFLAG_DEEP_WATER</a>, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>            <a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( <a class="code hl_variable" href="player_8cpp.html#a1d815a8053cfecc8a05374bf92924ba2">skill_swimming</a>, 1 );</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>            <span class="comment">// Same as above, except no head/eyes/mouth</span></div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>            <a class="code hl_function" href="classCharacter.html#a44dbe53874421147bfc4491d8753cccc">drench</a>( 100, { {</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>                    <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a44506e97ae9648354f97d530a3be61b8">bp_leg_l</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a202ad82497ebf8867cdcd6ee15085d16">bp_leg_r</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab4b216482dcc0e468819f023c3aeddd1">bp_torso</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a441080ba1d3930d38f635658d9b28e01">bp_arm_l</a>,</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>                    <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ae5f21c7494ad730a0c6abf6957976cb3">bp_arm_r</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a184f1b627fd11fb607e76b2d30dadfbb">bp_foot_l</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac094b1c6f96ebbd604928cfd2fad0ab7">bp_foot_r</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2806629e65a2c2eb5d8049e29e77910e">bp_hand_l</a>,</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>                    <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a54721306a0e05318b6d0440349c1a0fb">bp_hand_r</a></div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>                }</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>            }, true );</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <span class="stringliteral">&quot;SWIMMABLE&quot;</span>, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>            <a class="code hl_function" href="classCharacter.html#a44dbe53874421147bfc4491d8753cccc">drench</a>( 40, { { <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a184f1b627fd11fb607e76b2d30dadfbb">bp_foot_l</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac094b1c6f96ebbd604928cfd2fad0ab7">bp_foot_r</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a44506e97ae9648354f97d530a3be61b8">bp_leg_l</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a202ad82497ebf8867cdcd6ee15085d16">bp_leg_r</a> } }, false );</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>        }</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>    }</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span> </div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>    <span class="comment">// Try to put out clothing/hair fire</span></div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a> ) ) {</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>        <a class="code hl_class" href="classtime__duration.html">time_duration</a> total_removed = 0_turns;</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>        <a class="code hl_class" href="classtime__duration.html">time_duration</a> total_left = 0_turns;</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>        <span class="keywordtype">bool</span> on_ground = <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a> );</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp : <a class="code hl_variable" href="bodypart_8h.html#a089a199d69623f528a3883672f0a084e">all_body_parts</a> ) {</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>            <a class="code hl_class" href="classeffect.html">effect</a> &amp;eff = <a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a>( <a class="code hl_variable" href="player_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>, bp );</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>            <span class="keywordflow">if</span>( eff.<a class="code hl_function" href="classeffect.html#a39ebd2ec5b2faacde7483e0c07240baa">is_null</a>() ) {</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>            }</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span> </div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>            <span class="comment">// TODO: Tools and skills</span></div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>            total_left += eff.<a class="code hl_function" href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">get_duration</a>();</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>            <span class="comment">// Being on the ground will smother the fire much faster because you can roll</span></div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>            <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> dur_removed = on_ground ? eff.<a class="code hl_function" href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">get_duration</a>() / 2 + 2_turns : 1_turns;</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>            eff.<a class="code hl_function" href="classeffect.html#a118dd88810785bfbb8243af97a37d2ab">mod_duration</a>( -dur_removed );</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>            total_removed += dur_removed;</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>        }</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span> </div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>        <span class="comment">// Don&#39;t drop on the ground when the ground is on fire</span></div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>        <span class="keywordflow">if</span>( total_left &gt; 1_minutes &amp;&amp; !<a class="code hl_function" href="classCreature.html#a6a4c43d66f5a8b50a879d78682b00976">is_dangerous_fields</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.field_at( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) ) {</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, 2_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a>, 0, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>            <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>,</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You roll on the ground, trying to smother the fire!&quot;</span> ),</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; rolls on the ground!&quot;</span> ) );</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( total_removed &gt; 0_turns ) {</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>            <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>,</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You attempt to put out the fire on you!&quot;</span> ),</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; attempts to put out the fire on them!&quot;</span> ) );</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>        }</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    }</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span> </div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>    <span class="comment">// on-pause effects for martial arts</span></div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>    <a class="code hl_variable" href="classCharacter.html#a313797e99525bfd2a5ead68b7672f168">martial_arts_data</a>-&gt;ma_onpause_effects( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span> </div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>        <span class="comment">// The stuff below doesn&#39;t apply to NPCs</span></div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>        <span class="comment">// search_surroundings should eventually do, though</span></div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>    }</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span> </div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a61bc9422c35b63128532af268e52cb71">in_vehicle</a> &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 8 ) ) {</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>        <a class="code hl_typedef" href="map_8h.html#ae705edb5469cf2668ca5bc3297d75ebb">VehicleList</a> vehs = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.get_vehicles();</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>        <a class="code hl_class" href="classvehicle.html">vehicle</a> *veh = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;v : vehs ) {</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>            veh = v.v;</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>            <span class="keywordflow">if</span>( veh &amp;&amp; veh-&gt;<a class="code hl_function" href="classvehicle.html#aec9a1faa6740b681867d48878e37d7bb">is_moving</a>() &amp;&amp; veh-&gt;<a class="code hl_function" href="classvehicle.html#a341515426011486c265d016c35f84de6">player_in_control</a>( *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>                <span class="keywordtype">double</span> exp_temp = 1 + veh-&gt;<a class="code hl_function" href="classvehicle.html#a5a7d83716bf73d4b58d265b626872d01">total_mass</a>() / 400.0_kilogram +</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>                                  std::abs( veh-&gt;<a class="code hl_variable" href="classvehicle.html#a4d83e86fe57ec6126893a68f68c3c304">velocity</a> / 3200.0 );</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>                <span class="keywordtype">int</span> experience = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( exp_temp );</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>                <span class="keywordflow">if</span>( exp_temp - experience &gt; 0 &amp;&amp; <a class="code hl_function" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( exp_temp - experience, 1.0 ) ) {</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>                    experience++;</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>                }</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>                <a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d">skill_id</a>( <span class="stringliteral">&quot;driving&quot;</span> ), experience );</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>            }</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>        }</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>    }</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span> </div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>    <a class="code hl_function" href="classplayer.html#a874226a0510cd9cee887c2c2c79dff11">search_surroundings</a>();</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>    <a class="code hl_function" href="classCharacter.html#aab94093235048027d0afad3f6af4e21c">wait_effects</a>();</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>}</div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a184f1b627fd11fb607e76b2d30dadfbb"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a184f1b627fd11fb607e76b2d30dadfbb">bp_foot_l</a></div><div class="ttdeci">@ bp_foot_l</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00050">bodypart.h:50</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a2055386ee220ee2ca3e61d13df65e868"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2055386ee220ee2ca3e61d13df65e868">bp_eyes</a></div><div class="ttdeci">@ bp_eyes</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00042">bodypart.h:42</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980ab1635a97e6cc33a051cd378b60e48698"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab1635a97e6cc33a051cd378b60e48698">bp_head</a></div><div class="ttdeci">@ bp_head</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00041">bodypart.h:41</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980abb7b120eb8dc7c137110446fe541baed"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980abb7b120eb8dc7c137110446fe541baed">bp_mouth</a></div><div class="ttdeci">@ bp_mouth</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00043">bodypart.h:43</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980ac094b1c6f96ebbd604928cfd2fad0ab7"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac094b1c6f96ebbd604928cfd2fad0ab7">bp_foot_r</a></div><div class="ttdeci">@ bp_foot_r</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00051">bodypart.h:51</a></div></div>
<div class="ttc" id="aclassCharacter_html_a44dbe53874421147bfc4491d8753cccc"><div class="ttname"><a href="classCharacter.html#a44dbe53874421147bfc4491d8753cccc">Character::drench</a></div><div class="ttdeci">void drench(int saturation, const body_part_set &amp;flags, bool ignore_waterproof)</div><div class="ttdoc">Drenches the player with water, saturation is the percent gotten wet.</div><div class="ttdef"><b>Definition:</b> <a href="suffer_8cpp_source.html#l01755">suffer.cpp:1755</a></div></div>
<div class="ttc" id="aclassCharacter_html_aab94093235048027d0afad3f6af4e21c"><div class="ttname"><a href="classCharacter.html#aab94093235048027d0afad3f6af4e21c">Character::wait_effects</a></div><div class="ttdeci">void wait_effects()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01575">character.cpp:1575</a></div></div>
<div class="ttc" id="aclassCreature_html_a6a4c43d66f5a8b50a879d78682b00976"><div class="ttname"><a href="classCreature.html#a6a4c43d66f5a8b50a879d78682b00976">Creature::is_dangerous_fields</a></div><div class="ttdeci">bool is_dangerous_fields(const field &amp;fld) const</div><div class="ttdoc">Returns true if there is a field in the field set that is dangerous to us.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00184">creature.cpp:184</a></div></div>
<div class="ttc" id="aclassCreature_html_a89f56544cdbf34297b4c0e62f3350817"><div class="ttname"><a href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">Creature::get_effect</a></div><div class="ttdeci">const effect &amp; get_effect(const efftype_id &amp;eff_id, body_part bp=num_bp) const</div><div class="ttdoc">Return the effect that matches the given arguments exactly.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01213">creature.cpp:1213</a></div></div>
<div class="ttc" id="aclasseffect_html_a39ebd2ec5b2faacde7483e0c07240baa"><div class="ttname"><a href="classeffect.html#a39ebd2ec5b2faacde7483e0c07240baa">effect::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdoc">Returns true if the effect is the result of effect(), ie.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00553">effect.cpp:553</a></div></div>
<div class="ttc" id="aclassplayer_html_a874226a0510cd9cee887c2c2c79dff11"><div class="ttname"><a href="classplayer.html#a874226a0510cd9cee887c2c2c79dff11">player::search_surroundings</a></div><div class="ttdeci">void search_surroundings()</div><div class="ttdoc">Search surrounding squares for traps (and maybe other things in the future).</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00848">player.cpp:848</a></div></div>
<div class="ttc" id="aclassvehicle_html_a341515426011486c265d016c35f84de6"><div class="ttname"><a href="classvehicle.html#a341515426011486c265d016c35f84de6">vehicle::player_in_control</a></div><div class="ttdeci">bool player_in_control(const Character &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l00277">vehicle.cpp:277</a></div></div>
<div class="ttc" id="aclassvehicle_html_a4d83e86fe57ec6126893a68f68c3c304"><div class="ttname"><a href="classvehicle.html#a4d83e86fe57ec6126893a68f68c3c304">vehicle::velocity</a></div><div class="ttdeci">int velocity</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l01861">vehicle.h:1861</a></div></div>
<div class="ttc" id="aclassvehicle_html_a5a7d83716bf73d4b58d265b626872d01"><div class="ttname"><a href="classvehicle.html#a5a7d83716bf73d4b58d265b626872d01">vehicle::total_mass</a></div><div class="ttdeci">units::mass total_mass() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03126">vehicle.cpp:3126</a></div></div>
<div class="ttc" id="aclassvehicle_html_aec9a1faa6740b681867d48878e37d7bb"><div class="ttname"><a href="classvehicle.html#aec9a1faa6740b681867d48878e37d7bb">vehicle::is_moving</a></div><div class="ttdeci">bool is_moving() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03364">vehicle.cpp:3364</a></div></div>
<div class="ttc" id="amap_8h_html_ae705edb5469cf2668ca5bc3297d75ebb"><div class="ttname"><a href="map_8h.html#ae705edb5469cf2668ca5bc3297d75ebb">VehicleList</a></div><div class="ttdeci">std::vector&lt; wrapped_vehicle &gt; VehicleList</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00085">map.h:85</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a1d815a8053cfecc8a05374bf92924ba2"><div class="ttname"><a href="player_8cpp.html#a1d815a8053cfecc8a05374bf92924ba2">skill_swimming</a></div><div class="ttdeci">static const skill_id skill_swimming(&quot;swimming&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="player_8cpp_source.html#l04373">add_msg_player_or_npc()</a>, <a class="el" href="bodypart_8h_source.html#l00082">all_body_parts</a>, <a class="el" href="bodypart_8h_source.html#l00044">bp_arm_l</a>, <a class="el" href="bodypart_8h_source.html#l00045">bp_arm_r</a>, <a class="el" href="bodypart_8h_source.html#l00042">bp_eyes</a>, <a class="el" href="bodypart_8h_source.html#l00050">bp_foot_l</a>, <a class="el" href="bodypart_8h_source.html#l00051">bp_foot_r</a>, <a class="el" href="bodypart_8h_source.html#l00046">bp_hand_l</a>, <a class="el" href="bodypart_8h_source.html#l00047">bp_hand_r</a>, <a class="el" href="bodypart_8h_source.html#l00041">bp_head</a>, <a class="el" href="bodypart_8h_source.html#l00048">bp_leg_l</a>, <a class="el" href="bodypart_8h_source.html#l00049">bp_leg_r</a>, <a class="el" href="bodypart_8h_source.html#l00043">bp_mouth</a>, <a class="el" href="bodypart_8h_source.html#l00040">bp_torso</a>, <a class="el" href="suffer_8cpp_source.html#l01755">Character::drench()</a>, <a class="el" href="player_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, <a class="el" href="player_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="effect_8cpp_source.html#l00797">effect::get_duration()</a>, <a class="el" href="creature_8cpp_source.html#l01213">Creature::get_effect()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="character_8h_source.html#l01575">Character::in_vehicle</a>, <a class="el" href="creature_8cpp_source.html#l00184">Creature::is_dangerous_fields()</a>, <a class="el" href="vehicle_8cpp_source.html#l03364">vehicle::is_moving()</a>, <a class="el" href="player_8h_source.html#l00131">is_npc()</a>, <a class="el" href="effect_8cpp_source.html#l00553">effect::is_null()</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="character_8h_source.html#l01589">Character::martial_arts_data</a>, <a class="el" href="game__constants_8h_source.html#l00128">MAX_RECOIL</a>, <a class="el" href="effect_8cpp_source.html#l00821">effect::mod_duration()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="bodypart_8h_source.html#l00052">num_bp</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="vehicle_8cpp_source.html#l00277">vehicle::player_in_control()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="player_8cpp_source.html#l04005">practice()</a>, <a class="el" href="character_8h_source.html#l00618">Character::recoil</a>, <a class="el" href="player_8cpp_source.html#l00848">search_surroundings()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d">skill_id</a>, <a class="el" href="player_8cpp.html#a1d815a8053cfecc8a05374bf92924ba2">skill_swimming</a>, <a class="el" href="mapdata_8h_source.html#l00301">TFLAG_DEEP_WATER</a>, <a class="el" href="vehicle_8cpp_source.html#l03126">vehicle::total_mass()</a>, <a class="el" href="creature_8h_source.html#l00570">Creature::underwater</a>, <a class="el" href="vehicle_8h_source.html#l01861">vehicle::velocity</a>, <a class="el" href="character_8cpp_source.html#l01575">Character::wait_effects()</a>, and <a class="el" href="calendar_8cpp_source.html#l00521">x_in_y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__activity_8cpp_source.html#l00257">player_activity::do_turn()</a>, <a class="el" href="handle__action_8cpp_source.html#l01514">game::handle_action()</a>, and <a class="el" href="npcmove_8cpp_source.html#l02650">npc::move_pause()</a>.</p>

</div>
</div>
<a id="af18f720a82b1ab24a84809c61ba9d0fe" name="af18f720a82b1ab24a84809c61ba9d0fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af18f720a82b1ab24a84809c61ba9d0fe">&#9670;&nbsp;</a></span>power_bionics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::power_bionics </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates and handles the UI for player interaction with installed bionics. </p>
<p >Total required height is: top frame line: + 1 height of title window: + TITLE_HEIGHT height of tabs: + TITLE_TAB_HEIGHT height of the biggest list of active/passive bionics: + bionic_count bottom frame line: + 1 TOTAL: TITLE_HEIGHT + TITLE_TAB_HEIGHT + bionic_count + 2</p>

<p class="definition">Definition at line <a class="el" href="bionics__ui_8cpp_source.html#l00528">528</a> of file <a class="el" href="bionics__ui_8cpp_source.html">bionics_ui.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>{</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>    <a class="code hl_typedef" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a2f63da29514df68e9fcb08cad4948a44">sorted_bionics</a> <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a> = <a class="code hl_function" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a95f7f538372383fda933731f36111520">filtered_bionics</a>( *<a class="code hl_variable" href="classCharacter.html#a388bca3ef975bd265c67df45bb280bee">my_bionics</a>, <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753aa8b361c8c1bad6ec1040a782b0ab1aa5">TAB_PASSIVE</a> );</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>    <a class="code hl_typedef" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a2f63da29514df68e9fcb08cad4948a44">sorted_bionics</a> <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> = <a class="code hl_function" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a95f7f538372383fda933731f36111520">filtered_bionics</a>( *<a class="code hl_variable" href="classCharacter.html#a388bca3ef975bd265c67df45bb280bee">my_bionics</a>, <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753a325f75fcfc892d65eb342f149500ab40">TAB_ACTIVE</a> );</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    <a class="code hl_struct" href="structbionic.html">bionic</a> *bio_last = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    <a class="code hl_enumeration" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753">bionic_tab_mode</a> <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> = <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753a325f75fcfc892d65eb342f149500ab40">TAB_ACTIVE</a>;</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span> </div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>    <span class="comment">//added title_tab_height for the tabbed bionic display</span></div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> TITLE_HEIGHT = 4;</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> TITLE_TAB_HEIGHT = 3;</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespacechar__creation.html#a9ba8fcc12acdec7ace3940a82223d9a6a3cd7612350c0da5632239e1acd6f367d">HEIGHT</a> = 0;</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>    <span class="keywordtype">int</span> WIDTH = 0;</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>    <span class="keywordtype">int</span> LIST_HEIGHT = 0;</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    <span class="keywordtype">int</span> list_start_y = 0;</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>    <span class="keywordtype">int</span> half_list_view_location = 0;</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> wBio;</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_description;</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_title;</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_tabs;</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span> </div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>    <span class="keywordtype">bool</span> hide = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>    <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> <a class="code hl_namespace" href="namespaceui.html">ui</a>;</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>    <a class="code hl_namespace" href="namespaceui.html">ui</a>.on_screen_resize( [&amp;]( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code hl_namespace" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>        <span class="keywordflow">if</span>( hide ) {</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>            <a class="code hl_namespace" href="namespaceui.html">ui</a>.position( <a class="code hl_variable" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <a class="code hl_variable" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a> );</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>        }</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>        <span class="comment">// Main window</span><span class="comment"></span></div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span><span class="comment">        /** Total required height is:</span></div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span><span class="comment">         * top frame line:                                         + 1</span></div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span><span class="comment">         * height of title window:                                 + TITLE_HEIGHT</span></div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span><span class="comment">         * height of tabs:                                         + TITLE_TAB_HEIGHT</span></div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span><span class="comment">         * height of the biggest list of active/passive bionics:   + bionic_count</span></div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span><span class="comment">         * bottom frame line:                                      + 1</span></div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span><span class="comment">         * TOTAL: TITLE_HEIGHT + TITLE_TAB_HEIGHT + bionic_count + 2</span></div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span><span class="comment">         */</span></div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>        <a class="code hl_enumvalue" href="namespacechar__creation.html#a9ba8fcc12acdec7ace3940a82223d9a6a3cd7612350c0da5632239e1acd6f367d">HEIGHT</a> = std::min( <a class="code hl_variable" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a>,</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>                           std::max( <a class="code hl_variable" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a>,</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>                                     TITLE_HEIGHT + TITLE_TAB_HEIGHT +</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>                                     <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="classCharacter.html#a388bca3ef975bd265c67df45bb280bee">my_bionics</a>-&gt;size() ) + 2 ) );</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>        WIDTH = <a class="code hl_variable" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> + ( <a class="code hl_variable" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - <a class="code hl_variable" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> ) / 2;</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> START( ( <a class="code hl_variable" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - WIDTH ) / 2, ( <a class="code hl_variable" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> - <a class="code hl_enumvalue" href="namespacechar__creation.html#a9ba8fcc12acdec7ace3940a82223d9a6a3cd7612350c0da5632239e1acd6f367d">HEIGHT</a> ) / 2 );</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>        <span class="comment">//wBio is the entire bionic window</span></div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>        wBio = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code hl_enumvalue" href="namespacechar__creation.html#a9ba8fcc12acdec7ace3940a82223d9a6a3cd7612350c0da5632239e1acd6f367d">HEIGHT</a>, WIDTH, START );</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span> </div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>        LIST_HEIGHT = <a class="code hl_enumvalue" href="namespacechar__creation.html#a9ba8fcc12acdec7ace3940a82223d9a6a3cd7612350c0da5632239e1acd6f367d">HEIGHT</a> - TITLE_HEIGHT - TITLE_TAB_HEIGHT - 2;</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span> </div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> DESCRIPTION_WIDTH = WIDTH - 2 - 40;</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> DESCRIPTION_START_Y = START.y + TITLE_HEIGHT + TITLE_TAB_HEIGHT + 1;</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> DESCRIPTION_START_X = START.x + 1 + 40;</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>        <span class="comment">//w_description is the description panel that is controlled with ! key</span></div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>        w_description = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( LIST_HEIGHT, DESCRIPTION_WIDTH,</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>                                            <a class="code hl_struct" href="structpoint.html">point</a>( DESCRIPTION_START_X, DESCRIPTION_START_Y ) );</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span> </div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>        <span class="comment">// Title window</span></div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> TITLE_START_Y = START.y + 1;</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> HEADER_LINE_Y = TITLE_HEIGHT + TITLE_TAB_HEIGHT;</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>        w_title = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( TITLE_HEIGHT, WIDTH - 2, START + <a class="code hl_variable" href="point_8h.html#aff73fd5bf470a3db5291c5dec855bb71">point_east</a> );</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span> </div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> TAB_START_Y = TITLE_START_Y + 3;</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>        <span class="comment">//w_tabs is the tab bar for passive and active bionic groups</span></div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>        w_tabs = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( TITLE_TAB_HEIGHT, WIDTH,</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>                                     <a class="code hl_struct" href="structpoint.html">point</a>( START.x, TAB_START_Y ) );</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span> </div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>        <span class="comment">// offset for display: bionic with index i is drawn at y=list_start_y+i</span></div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>        <span class="comment">// drawing the bionics starts with bionic[scroll_position]</span></div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>        <span class="comment">// scroll_position;</span></div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>        list_start_y = HEADER_LINE_Y;</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>        half_list_view_location = LIST_HEIGHT / 2;</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span> </div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>        <a class="code hl_namespace" href="namespaceui.html">ui</a>.position_from_window( wBio );</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    } );</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>    <a class="code hl_namespace" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span> </div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>    <span class="keywordtype">int</span> scroll_position = 0;</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>    <span class="keywordtype">int</span> cursor = 0;</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span> </div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>    <span class="comment">//generate the tab title string and a count of the bionics owned</span></div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>    <a class="code hl_enumeration" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a5c0207ceed27b37688307dc484baf852">bionic_menu_mode</a> menu_mode = <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a5c0207ceed27b37688307dc484baf852a144ed7b560e8e2ee509fd8dd99dd4d84">ACTIVATING</a>;</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>    <span class="keywordtype">int</span> max_scroll_position = 0;</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span> </div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>    <a class="code hl_class" href="classinput__context.html">input_context</a> ctxt( <span class="stringliteral">&quot;BIONICS&quot;</span> );</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>    ctxt.register_updown();</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>    ctxt.register_action( <span class="stringliteral">&quot;ANY_INPUT&quot;</span> );</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>    ctxt.register_action( <span class="stringliteral">&quot;TOGGLE_EXAMINE&quot;</span> );</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>    ctxt.register_action( <span class="stringliteral">&quot;REASSIGN&quot;</span> );</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>    ctxt.register_action( <span class="stringliteral">&quot;NEXT_TAB&quot;</span> );</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>    ctxt.register_action( <span class="stringliteral">&quot;PREV_TAB&quot;</span> );</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>    ctxt.register_action( <span class="stringliteral">&quot;CONFIRM&quot;</span> );</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>    ctxt.register_action( <span class="stringliteral">&quot;QUIT&quot;</span> );</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>    ctxt.register_action( <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> );</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>    ctxt.register_action( <span class="stringliteral">&quot;TOGGLE_SAFE_FUEL&quot;</span> );</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>    ctxt.register_action( <span class="stringliteral">&quot;TOGGLE_AUTO_START&quot;</span> );</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>    ctxt.register_action( <span class="stringliteral">&quot;SORT&quot;</span> );</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span> </div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>    <a class="code hl_namespace" href="namespaceui.html">ui</a>.on_redraw( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>        <span class="keywordflow">if</span>( hide ) {</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>        }</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span> </div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>        <a class="code hl_typedef" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a2f63da29514df68e9fcb08cad4948a44">sorted_bionics</a> *current_bionic_list = ( <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> == <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753a325f75fcfc892d65eb342f149500ab40">TAB_ACTIVE</a> ? &amp;<a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> : &amp;<a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a> );</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span> </div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>        <a class="code hl_function" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( wBio );</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>        <a class="code hl_function" href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a>( wBio, <a class="code hl_define" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; BIONICS &quot;</span> ) );</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>        <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( wBio, <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_function" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( wBio ) - 1, 2 ), <a class="code hl_define" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code hl_define" href="output_8h.html#a0803e4570f3cd69d38952bc2b4555c24">LINE_XOXX</a> ); <span class="comment">// -|</span></div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span> </div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>        <span class="keywordtype">int</span> max_width = 0;</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>        std::vector&lt;std::string&gt; bps;</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>        std::map&lt;bodypart_str_id, size_t&gt; bp_to_pos;</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> &amp;bp : <a class="code hl_function" href="classCreature.html#a9f9cc294949ffc5bd51ab464b5c5ad6f">get_all_body_parts</a>() ) {</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> total = <a class="code hl_function" href="classCharacter.html#a4e2bd7defca57bcf42fd5ef9ca93b9b6">get_total_bionics_slots</a>( bp );</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>            <span class="keyword">const</span> std::string s = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%s: %d/%d&quot;</span>,</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>                                                 <a class="code hl_function" href="bodypart_8cpp.html#aeadf2675d36776a1f685d1d2dfa06e78">body_part_name_as_heading</a>( bp-&gt;token, 1 ),</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>                                                 total - <a class="code hl_function" href="classCharacter.html#a4ab151b3e9ec20b32714e607016deea4">get_free_bionics_slots</a>( bp ), total );</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>            bps.push_back( s );</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>            bp_to_pos.emplace( bp.id(), bps.size() - 1 );</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>            max_width = std::max( max_width, <a class="code hl_function" href="catacharset_8cpp.html#a7616a48a4b48437c60b6683439a8f3e2">utf8_width</a>( s ) );</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>        }</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> pos_x = WIDTH - 2 - max_width;</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>        <span class="keywordflow">if</span>( get_option &lt; bool &gt;( <span class="stringliteral">&quot;CBM_SLOTS_ENABLED&quot;</span> ) ) {</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>            <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; bps.size(); ++i ) {</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>                <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wBio, <a class="code hl_struct" href="structpoint.html">point</a>( pos_x, i + list_start_y ), <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, bps[i] );</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>            }</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>        }</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span> </div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>        <span class="keywordflow">if</span>( current_bionic_list-&gt;empty() ) {</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>            std::string msg;</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>            <span class="keywordflow">switch</span>( <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> ) {</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753a325f75fcfc892d65eb342f149500ab40">TAB_ACTIVE</a>:</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>                    msg = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;No activatable bionics installed.&quot;</span> );</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753aa8b361c8c1bad6ec1040a782b0ab1aa5">TAB_PASSIVE</a>:</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>                    msg = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;No passive bionics installed.&quot;</span> );</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>            }</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>            <a class="code hl_function" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( wBio, <a class="code hl_struct" href="structpoint.html">point</a>( 2, list_start_y ), pos_x - 1, <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, msg );</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>            <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = scroll_position; i &lt; current_bionic_list-&gt;size(); i++ ) {</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>                <span class="keywordflow">if</span>( list_start_y + <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( i ) - scroll_position == <a class="code hl_enumvalue" href="namespacechar__creation.html#a9ba8fcc12acdec7ace3940a82223d9a6a3cd7612350c0da5632239e1acd6f367d">HEIGHT</a> - 1 ) {</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>                }</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>                <span class="keyword">const</span> <span class="keywordtype">bool</span> is_highlighted = cursor == <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( i );</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>                <span class="keyword">const</span> <a class="code hl_class" href="classnc__color.html">nc_color</a> col = <a class="code hl_function" href="bionics__ui_8cpp.html#a06df9fbd9b0093576b3e19ce60d013ac">get_bionic_text_color</a>( *( *current_bionic_list )[i],</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>                                     is_highlighted );</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>                <span class="keyword">const</span> std::string desc = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%c %s&quot;</span>, ( *current_bionic_list )[i]-&gt;invlet,</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>                                                        <a class="code hl_function" href="bionics__ui_8cpp.html#a8f3b1e4c64681a1717dddaaa2262cae9">build_bionic_powerdesc_string</a>(</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>                                                                *( *current_bionic_list )[i] ).c_str() );</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>                <a class="code hl_function" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( wBio, <a class="code hl_struct" href="structpoint.html">point</a>( 2, list_start_y + i - scroll_position ), WIDTH - 3, col,</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>                                desc );</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>                <span class="keywordflow">if</span>( is_highlighted &amp;&amp; menu_mode != <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a5c0207ceed27b37688307dc484baf852a91c8ee7c9f6d9f6f9312005de541cf6c">EXAMINING</a> &amp;&amp; get_option &lt; bool &gt;( <span class="stringliteral">&quot;CBM_SLOTS_ENABLED&quot;</span> ) ) {</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>                    <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">bionic_id</a> bio_id = ( *current_bionic_list )[i]-&gt;<a class="code hl_variable" href="structbionic__data.html#ac6d9ed2427a13c48a40a678d2a6aee2f">id</a>;</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>                    <a class="code hl_function" href="bionics__ui_8cpp.html#ad287f2588d6099c5a707d3fb393c48f3">draw_connectors</a>( wBio, <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_function" href="catacharset_8cpp.html#a7616a48a4b48437c60b6683439a8f3e2">utf8_width</a>( desc ) + 3, list_start_y + i - scroll_position ),</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>                                     pos_x - 2, bio_id, bp_to_pos );</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span> </div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>                    <span class="comment">// redraw highlighted (occupied) body parts</span></div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>                    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const bodypart_str_id, int&gt; &amp;elem : bio_id-&gt;<a class="code hl_variable" href="structbionic__data.html#ae9faf505571841d8ef97496eb3a26607">occupied_bodyparts</a> ) {</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>                        <span class="keyword">const</span> <span class="keywordtype">int</span> i = bp_to_pos[elem.first];</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>                        <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wBio, <a class="code hl_struct" href="structpoint.html">point</a>( pos_x, i + list_start_y ), <a class="code hl_define" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>, bps[i] );</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>                    }</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>                }</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span> </div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>            }</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>        }</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span> </div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>        <a class="code hl_function" href="output_8cpp.html#a37db5c581b2a20faa11b14164de305df">draw_scrollbar</a>( wBio, cursor, LIST_HEIGHT, current_bionic_list-&gt;size(), <a class="code hl_struct" href="structpoint.html">point</a>( 0, list_start_y ) );</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span> </div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( wBio );</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>        <a class="code hl_function" href="bionics__ui_8cpp.html#a495d46ceb2a001ed1facf8fbf3ab2214">draw_bionics_tabs</a>( w_tabs, <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>.size(), <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>.size(), <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> );</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span> </div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>        <a class="code hl_function" href="bionics__ui_8cpp.html#a58c0c22fbe70b48455dab2cbcc4bd209">draw_bionics_titlebar</a>( w_title, <span class="keyword">this</span>, menu_mode );</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>        <span class="keywordflow">if</span>( menu_mode == <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a5c0207ceed27b37688307dc484baf852a91c8ee7c9f6d9f6f9312005de541cf6c">EXAMINING</a> &amp;&amp; !current_bionic_list-&gt;empty() ) {</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>            <a class="code hl_function" href="bionics__ui_8cpp.html#a0832672891b5d01f28b63b87ebef7000">draw_description</a>( w_description, *( *current_bionic_list )[cursor] );</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>        }</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>    } );</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span> </div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    <span class="keywordflow">for</span>( ;; ) {</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>        <a class="code hl_function" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span> </div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>        <span class="comment">//track which list we are looking at</span></div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>        <a class="code hl_typedef" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a2f63da29514df68e9fcb08cad4948a44">::sorted_bionics</a> *current_bionic_list = ( <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> == <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753a325f75fcfc892d65eb342f149500ab40">TAB_ACTIVE</a> ? &amp;<a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> : &amp;<a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a> );</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>        max_scroll_position = std::max( 0, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( current_bionic_list-&gt;size() ) - LIST_HEIGHT );</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>        scroll_position = <a class="code hl_function" href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a>( scroll_position, 0, max_scroll_position );</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>        cursor = clamp&lt;int&gt;( cursor, 0, current_bionic_list-&gt;size() );</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span> </div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span><span class="preprocessor">#if defined(__ANDROID__)</span></div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>        ctxt.get_registered_manual_keys().clear();</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>        <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; current_bionic_list-&gt;size(); i++ ) {</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>            ctxt.register_manual_key( ( *current_bionic_list )[i]-&gt;invlet,</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>                                      <a class="code hl_function" href="bionics__ui_8cpp.html#a8f3b1e4c64681a1717dddaaa2262cae9">build_bionic_powerdesc_string</a>( *( *current_bionic_list )[i] ).c_str() );</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>        }</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span> </div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>        <span class="keyword">const</span> std::string <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = ctxt.handle_input();</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> ch = ctxt.get_raw_input().get_first_input();</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>        <a class="code hl_struct" href="structbionic.html">bionic</a> *tmp = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span> </div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;DOWN&quot;</span> ) {</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>            <span class="keywordflow">if</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( cursor ) &lt; current_bionic_list-&gt;size() - 1 ) {</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>                cursor++;</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>                cursor = 0;</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>            }</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>            <span class="keywordflow">if</span>( scroll_position &lt; max_scroll_position &amp;&amp;</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>                cursor - scroll_position &gt; LIST_HEIGHT - half_list_view_location ) {</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>                scroll_position++;</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>            }</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>            <span class="keywordflow">if</span>( scroll_position &gt; 0 &amp;&amp; cursor - scroll_position &lt; half_list_view_location ) {</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>                scroll_position = std::max( cursor - half_list_view_location, 0 );</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>            }</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;UP&quot;</span> ) {</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>            <span class="keywordflow">if</span>( cursor &gt; 0 ) {</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>                cursor--;</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>                cursor = current_bionic_list-&gt;size() - 1;</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>            }</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>            <span class="keywordflow">if</span>( scroll_position &gt; 0 &amp;&amp; cursor - scroll_position &lt; half_list_view_location ) {</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>                scroll_position--;</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>            }</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>            <span class="keywordflow">if</span>( scroll_position &lt; max_scroll_position &amp;&amp;</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>                cursor - scroll_position &gt; LIST_HEIGHT - half_list_view_location ) {</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>                scroll_position =</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>                    std::max( std::min&lt;int&gt;( current_bionic_list-&gt;size() - LIST_HEIGHT,</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>                                             cursor - half_list_view_location ), 0 );</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>            }</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( menu_mode == <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a5c0207ceed27b37688307dc484baf852a126c90436d82af15857677148147631d">REASSIGNING</a> ) {</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>            menu_mode = <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a5c0207ceed27b37688307dc484baf852a144ed7b560e8e2ee509fd8dd99dd4d84">ACTIVATING</a>;</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span> </div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CONFIRM&quot;</span> &amp;&amp; !current_bionic_list-&gt;empty() ) {</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>                <span class="keyword">auto</span> &amp;bio_list = <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> == <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753a325f75fcfc892d65eb342f149500ab40">TAB_ACTIVE</a> ? <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> : <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>;</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>                tmp = bio_list[cursor];</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>                tmp = <a class="code hl_function" href="classplayer.html#a09902859b0f28b6aae33c2b76abc521e">bionic_by_invlet</a>( ch );</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>            }</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span> </div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>            <span class="keywordflow">if</span>( tmp == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>                <span class="comment">// Selected an non-existing bionic (or Escape, or ...)</span></div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>            }</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> newch = <a class="code hl_function" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s; enter new letter.  Space to clear.  Esc to cancel.&quot;</span> ),</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>                                            tmp-&gt;<a class="code hl_variable" href="structbionic.html#a69c27d34e4a5014ae73135e80dd304b0">id</a>-&gt;<a class="code hl_variable" href="structbionic__data.html#a3cf96a3fc532f2c82b73924ab585451e">name</a> );</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>            <span class="keywordflow">if</span>( newch == ch || newch == <a class="code hl_variable" href="input_8h.html#a4b401effe387ffb86753e0d294e25921">KEY_ESCAPE</a> ) {</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>            }</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>            <span class="keywordflow">if</span>( newch == <span class="charliteral">&#39; &#39;</span> ) {</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>                tmp-&gt;<a class="code hl_variable" href="structbionic.html#a4b38420250d3ff4ad9c7eba7e2b25a48">invlet</a> = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>            }</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>            <span class="keywordflow">if</span>( !<a class="code hl_variable" href="bionics__ui_8cpp.html#a3530f45aaa927a6078e1e974525873be">bionic_chars</a>.<a class="code hl_function" href="classinvlet__wrapper.html#a7c0b7eaf67cf02bae041ada17aa1f71d">valid</a>( newch ) ) {</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>                <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Invalid bionic letter.  Only those characters are valid:\n\n%s&quot;</span> ),</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>                       <a class="code hl_variable" href="bionics__ui_8cpp.html#a3530f45aaa927a6078e1e974525873be">bionic_chars</a>.<a class="code hl_function" href="classinvlet__wrapper.html#acd1a92cefe6ad50b5b0c9b90ea377ef6">get_allowed_chars</a>() );</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>            }</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>            <a class="code hl_struct" href="structbionic.html">bionic</a> *otmp = <a class="code hl_function" href="classplayer.html#a09902859b0f28b6aae33c2b76abc521e">bionic_by_invlet</a>( newch );</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>            <span class="keywordflow">if</span>( otmp != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>                <a class="code hl_function" href="namespacecata.html#a097b137e977a6b843c0dada2c8b19611">std::swap</a>( tmp-&gt;<a class="code hl_variable" href="structbionic.html#a4b38420250d3ff4ad9c7eba7e2b25a48">invlet</a>, otmp-&gt;<a class="code hl_variable" href="structbionic.html#a4b38420250d3ff4ad9c7eba7e2b25a48">invlet</a> );</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>                tmp-&gt;<a class="code hl_variable" href="structbionic.html#a4b38420250d3ff4ad9c7eba7e2b25a48">invlet</a> = newch;</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>            }</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>            <span class="comment">// TODO: show a message like when reassigning a key to an item?</span></div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;NEXT_TAB&quot;</span> ) {</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>            scroll_position = 0;</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>            cursor = 0;</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>            <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> == <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753a325f75fcfc892d65eb342f149500ab40">TAB_ACTIVE</a> ) {</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>                <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> = <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753aa8b361c8c1bad6ec1040a782b0ab1aa5">TAB_PASSIVE</a>;</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>                <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> = <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753a325f75fcfc892d65eb342f149500ab40">TAB_ACTIVE</a>;</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>            }</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;PREV_TAB&quot;</span> ) {</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>            scroll_position = 0;</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>            cursor = 0;</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>            <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> == <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753aa8b361c8c1bad6ec1040a782b0ab1aa5">TAB_PASSIVE</a> ) {</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>                <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> = <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753a325f75fcfc892d65eb342f149500ab40">TAB_ACTIVE</a>;</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>                <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> = <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753aa8b361c8c1bad6ec1040a782b0ab1aa5">TAB_PASSIVE</a>;</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>            }</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;REASSIGN&quot;</span> ) {</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>            menu_mode = <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a5c0207ceed27b37688307dc484baf852a126c90436d82af15857677148147631d">REASSIGNING</a>;</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_EXAMINE&quot;</span> ) {</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>            <span class="comment">// switches between activation and examination</span></div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>            menu_mode = menu_mode == <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a5c0207ceed27b37688307dc484baf852a144ed7b560e8e2ee509fd8dd99dd4d84">ACTIVATING</a> ? <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a5c0207ceed27b37688307dc484baf852a91c8ee7c9f6d9f6f9312005de541cf6c">EXAMINING</a> : <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a5c0207ceed27b37688307dc484baf852a144ed7b560e8e2ee509fd8dd99dd4d84">ACTIVATING</a>;</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_SAFE_FUEL&quot;</span> ) {</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>            <span class="keyword">auto</span> &amp;bio_list = <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> == <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753a325f75fcfc892d65eb342f149500ab40">TAB_ACTIVE</a> ? <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> : <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>;</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>            <span class="keywordflow">if</span>( !current_bionic_list-&gt;empty() ) {</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>                tmp = bio_list[cursor];</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>                <span class="keywordflow">if</span>( !tmp-&gt;<a class="code hl_function" href="structbionic.html#a66fc20bc3ee64b64edce99959aedd453">info</a>().<a class="code hl_variable" href="structbionic__data.html#a8138c18ab3e2346f1404295246389393">fuel_opts</a>.empty() || tmp-&gt;<a class="code hl_function" href="structbionic.html#a66fc20bc3ee64b64edce99959aedd453">info</a>().<a class="code hl_variable" href="structbionic__data.html#ad0a8e68595674cdf6b64719c375f3cb9">is_remote_fueled</a> ) {</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>                    tmp-&gt;<a class="code hl_function" href="structbionic.html#a4ac0c0f1eb401db04c83b12fcd2d5cdb">toggle_safe_fuel_mod</a>();</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;invalidate_main_ui_adaptor();</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>                    <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t toggle fuel saving mode on a non-fueled CBM.&quot;</span> ) );</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>                }</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>            }</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_AUTO_START&quot;</span> ) {</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>            <span class="keyword">auto</span> &amp;bio_list = <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> == <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753a325f75fcfc892d65eb342f149500ab40">TAB_ACTIVE</a> ? <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> : <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>;</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>            <span class="keywordflow">if</span>( !current_bionic_list-&gt;empty() ) {</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>                tmp = bio_list[cursor];</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>                <span class="keywordflow">if</span>( !tmp-&gt;<a class="code hl_function" href="structbionic.html#a66fc20bc3ee64b64edce99959aedd453">info</a>().<a class="code hl_variable" href="structbionic__data.html#a8138c18ab3e2346f1404295246389393">fuel_opts</a>.empty() || tmp-&gt;<a class="code hl_function" href="structbionic.html#a66fc20bc3ee64b64edce99959aedd453">info</a>().<a class="code hl_variable" href="structbionic__data.html#ad0a8e68595674cdf6b64719c375f3cb9">is_remote_fueled</a> ) {</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>                    tmp-&gt;<a class="code hl_function" href="structbionic.html#a6c1ea38486361f355547214c0c73ab21">toggle_auto_start_mod</a>();</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;invalidate_main_ui_adaptor();</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>                    <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t toggle auto start mode on a non-fueled CBM.&quot;</span> ) );</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>                }</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>            }</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SORT&quot;</span> ) {</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>            <a class="code hl_variable" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code hl_variable" href="classuistatedata.html#a25843c745eb4d8bf305a060f8b1804b1">bionic_sort_mode</a> = <a class="code hl_function" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#ae1e49b240947e0caf7766944218be46e">pick_sort_mode</a>();</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>            <span class="comment">// FIXME: is there a better way to resort?</span></div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>            <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> = <a class="code hl_function" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a95f7f538372383fda933731f36111520">filtered_bionics</a>( *<a class="code hl_variable" href="classCharacter.html#a388bca3ef975bd265c67df45bb280bee">my_bionics</a>, <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753a325f75fcfc892d65eb342f149500ab40">TAB_ACTIVE</a> );</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>            <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a> = <a class="code hl_function" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a95f7f538372383fda933731f36111520">filtered_bionics</a>( *<a class="code hl_variable" href="classCharacter.html#a388bca3ef975bd265c67df45bb280bee">my_bionics</a>, <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753aa8b361c8c1bad6ec1040a782b0ab1aa5">TAB_PASSIVE</a> );</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CONFIRM&quot;</span> || <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;ANY_INPUT&quot;</span> ) {</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>            <span class="keyword">auto</span> &amp;bio_list = <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> == <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753a325f75fcfc892d65eb342f149500ab40">TAB_ACTIVE</a> ? <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> : <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>;</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CONFIRM&quot;</span> &amp;&amp; !current_bionic_list-&gt;empty() ) {</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>                tmp = bio_list[cursor];</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>                tmp = <a class="code hl_function" href="classplayer.html#a09902859b0f28b6aae33c2b76abc521e">bionic_by_invlet</a>( ch );</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>                <span class="keywordflow">if</span>( tmp &amp;&amp; tmp != bio_last ) {</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>                    <span class="comment">// new bionic selected, update cursor and scroll position</span></div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>                    <span class="keywordtype">int</span> temp_cursor = 0;</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>                    <span class="keywordflow">for</span>( temp_cursor = 0; temp_cursor &lt; static_cast&lt;int&gt;( bio_list.size() ); temp_cursor++ ) {</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>                        <span class="keywordflow">if</span>( bio_list[temp_cursor] == tmp ) {</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>                        }</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>                    }</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>                    <span class="comment">// if bionic is not found in current list, ignore the attempt to view/activate</span></div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>                    <span class="keywordflow">if</span>( temp_cursor &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( bio_list.size() ) ) {</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>                    }</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>                    <span class="comment">//relocate cursor to the bionic that was found</span></div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>                    cursor = temp_cursor;</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>                    scroll_position = 0;</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>                    <span class="keywordflow">while</span>( scroll_position &lt; max_scroll_position &amp;&amp;</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>                           cursor - scroll_position &gt; LIST_HEIGHT - half_list_view_location ) {</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>                        scroll_position++;</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>                    }</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>                }</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>            }</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>            <span class="keywordflow">if</span>( !tmp ) {</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>                <span class="comment">// entered a key that is not mapped to any bionic</span></div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>            }</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>            bio_last = tmp;</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>            <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">bionic_id</a> &amp;bio_id = tmp-&gt;<a class="code hl_variable" href="structbionic.html#a69c27d34e4a5014ae73135e80dd304b0">id</a>;</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structbionic__data.html">bionic_data</a> &amp;bio_data = bio_id.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>            <span class="keywordflow">if</span>( menu_mode == <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a5c0207ceed27b37688307dc484baf852a144ed7b560e8e2ee509fd8dd99dd4d84">ACTIVATING</a> ) {</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>                <span class="keywordflow">if</span>( bio_data.<a class="code hl_variable" href="structbionic__data.html#a5b4043e33f09573e6c6c9c06f3d4d5dc">activated</a> ) {</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>                    <span class="keywordtype">int</span> <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> = tmp - &amp;( *my_bionics )[0];</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>                    hide = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>                    <a class="code hl_namespace" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>                    <span class="keywordflow">if</span>( tmp-&gt;<a class="code hl_variable" href="structbionic.html#addbda67a07e927ca959d4a77ecd5a593">powered</a> ) {</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>                        <a class="code hl_function" href="classCharacter.html#a9cbfb1bf8e0e13332e547df6dcfb0d3d">deactivate_bionic</a>( <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> );</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>                        <a class="code hl_function" href="classCharacter.html#a893b252cf4169a00e8f707c65d11f5fe">activate_bionic</a>( <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> );</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>                        <span class="comment">// Clear the menu if we are firing a bionic gun</span></div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>                        <span class="keywordflow">if</span>( tmp-&gt;<a class="code hl_function" href="structbionic.html#a66fc20bc3ee64b64edce99959aedd453">info</a>().<a class="code hl_function" href="structbionic__data.html#af3fe0a3a6b49875c43cb5e332e4c2696">has_flag</a>( <a class="code hl_define" href="make__static_8h.html#ad8ea997925f9b41fffbf138f4c05e09f">STATIC</a>( <a class="code hl_typedef" href="type__id_8h.html#a0083caca181e3d6b8888ff104cec2170">flag_str_id</a>( <span class="stringliteral">&quot;BIONIC_GUN&quot;</span> ) ) ) || tmp-&gt;<a class="code hl_variable" href="structbionic.html#ac16ebda23bfb0c4be0fd93f80cc9d8f5">ammo_count</a> &gt; 0 ) {</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>                        }</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>                    }</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>                    hide = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>                    <a class="code hl_namespace" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;invalidate_main_ui_adaptor();</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>                    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> &lt; 0 ) {</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>                    }</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>                    <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can not activate %s!\n&quot;</span></div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>                              <span class="stringliteral">&quot;To read a description of %s, press &#39;%s&#39;, then &#39;%c&#39;.&quot;</span> ), bio_data.<a class="code hl_variable" href="structbionic__data.html#a3cf96a3fc532f2c82b73924ab585451e">name</a>,</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>                           bio_data.<a class="code hl_variable" href="structbionic__data.html#a3cf96a3fc532f2c82b73924ab585451e">name</a>, ctxt.get_desc( <span class="stringliteral">&quot;TOGGLE_EXAMINE&quot;</span> ), tmp-&gt;<a class="code hl_variable" href="structbionic.html#a4b38420250d3ff4ad9c7eba7e2b25a48">invlet</a> );</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>                }</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( menu_mode == <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a5c0207ceed27b37688307dc484baf852a91c8ee7c9f6d9f6f9312005de541cf6c">EXAMINING</a> ) {</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>                <span class="comment">// Describing bionics, allow user to jump to description key</span></div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>                <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> != <span class="stringliteral">&quot;CONFIRM&quot;</span> ) {</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>                    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>.size(); i++ ) {</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>                        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>[i] == tmp ) {</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>                            <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> = <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753a325f75fcfc892d65eb342f149500ab40">TAB_ACTIVE</a>;</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>                            cursor = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( i );</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>                            <span class="keywordtype">int</span> max_scroll_check = std::max( 0, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>.size() ) - LIST_HEIGHT );</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>                            <span class="keywordflow">if</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( i ) &gt; max_scroll_check ) {</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>                                scroll_position = max_scroll_check;</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>                            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>                                scroll_position = i;</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>                            }</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>                        }</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>                    }</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>                    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>.size(); i++ ) {</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>                        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>[i] == tmp ) {</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>                            <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> = <a class="code hl_enumvalue" href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753aa8b361c8c1bad6ec1040a782b0ab1aa5">TAB_PASSIVE</a>;</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>                            cursor = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( i );</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>                            <span class="keywordtype">int</span> max_scroll_check = std::max( 0, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>.size() ) - LIST_HEIGHT );</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>                            <span class="keywordflow">if</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( i ) &gt; max_scroll_check ) {</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>                                scroll_position = max_scroll_check;</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>                            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>                                scroll_position = i;</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>                            }</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>                        }</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>                    }</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>                }</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>            }</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>        }</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>    }</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>}</div>
<div class="ttc" id="abionics__ui_8cpp_html_a06df9fbd9b0093576b3e19ce60d013ac"><div class="ttname"><a href="bionics__ui_8cpp.html#a06df9fbd9b0093576b3e19ce60d013ac">get_bionic_text_color</a></div><div class="ttdeci">static nc_color get_bionic_text_color(const bionic &amp;bio, const bool isHighlightedBionic)</div><div class="ttdef"><b>Definition:</b> <a href="bionics__ui_8cpp_source.html#l00484">bionics_ui.cpp:484</a></div></div>
<div class="ttc" id="abionics__ui_8cpp_html_a0832672891b5d01f28b63b87ebef7000"><div class="ttname"><a href="bionics__ui_8cpp.html#a0832672891b5d01f28b63b87ebef7000">draw_description</a></div><div class="ttdeci">static void draw_description(const catacurses::window &amp;win, const bionic &amp;bio)</div><div class="ttdef"><b>Definition:</b> <a href="bionics__ui_8cpp_source.html#l00363">bionics_ui.cpp:363</a></div></div>
<div class="ttc" id="abionics__ui_8cpp_html_a3530f45aaa927a6078e1e974525873be"><div class="ttname"><a href="bionics__ui_8cpp.html#a3530f45aaa927a6078e1e974525873be">bionic_chars</a></div><div class="ttdeci">const invlet_wrapper bionic_chars(&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\&quot;#&amp;()*+./:;@[\\]^_{|}&quot;)</div></div>
<div class="ttc" id="abionics__ui_8cpp_html_a495d46ceb2a001ed1facf8fbf3ab2214"><div class="ttname"><a href="bionics__ui_8cpp.html#a495d46ceb2a001ed1facf8fbf3ab2214">draw_bionics_tabs</a></div><div class="ttdeci">static void draw_bionics_tabs(const catacurses::window &amp;win, const size_t active_num, const size_t passive_num, const bionic_tab_mode current_mode)</div><div class="ttdef"><b>Definition:</b> <a href="bionics__ui_8cpp_source.html#l00335">bionics_ui.cpp:335</a></div></div>
<div class="ttc" id="abionics__ui_8cpp_html_a58c0c22fbe70b48455dab2cbcc4bd209"><div class="ttname"><a href="bionics__ui_8cpp.html#a58c0c22fbe70b48455dab2cbcc4bd209">draw_bionics_titlebar</a></div><div class="ttdeci">static void draw_bionics_titlebar(const catacurses::window &amp;window, player *p, bionic_menu_mode mode)</div><div class="ttdef"><b>Definition:</b> <a href="bionics__ui_8cpp_source.html#l00186">bionics_ui.cpp:186</a></div></div>
<div class="ttc" id="abionics__ui_8cpp_html_a8f3b1e4c64681a1717dddaaa2262cae9"><div class="ttname"><a href="bionics__ui_8cpp.html#a8f3b1e4c64681a1717dddaaa2262cae9">build_bionic_powerdesc_string</a></div><div class="ttdeci">static std::string build_bionic_powerdesc_string(const bionic &amp;bio)</div><div class="ttdef"><b>Definition:</b> <a href="bionics__ui_8cpp_source.html#l00324">bionics_ui.cpp:324</a></div></div>
<div class="ttc" id="abionics__ui_8cpp_html_ad287f2588d6099c5a707d3fb393c48f3"><div class="ttname"><a href="bionics__ui_8cpp.html#ad287f2588d6099c5a707d3fb393c48f3">draw_connectors</a></div><div class="ttdeci">static void draw_connectors(const catacurses::window &amp;win, const point &amp;start, int last_x, const bionic_id &amp;bio_id, const std::map&lt; bodypart_str_id, size_t &gt; &amp;bp_to_pos)</div><div class="ttdef"><b>Definition:</b> <a href="bionics__ui_8cpp_source.html#l00384">bionics_ui.cpp:384</a></div></div>
<div class="ttc" id="abodypart_8cpp_html_aeadf2675d36776a1f685d1d2dfa06e78"><div class="ttname"><a href="bodypart_8cpp.html#aeadf2675d36776a1f685d1d2dfa06e78">body_part_name_as_heading</a></div><div class="ttdeci">std::string body_part_name_as_heading(body_part bp, int number)</div><div class="ttdoc">Returns the name of the body parts in a context where the name is used as a heading or title e....</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00341">bodypart.cpp:341</a></div></div>
<div class="ttc" id="acatacharset_8cpp_html_a7616a48a4b48437c60b6683439a8f3e2"><div class="ttname"><a href="catacharset_8cpp.html#a7616a48a4b48437c60b6683439a8f3e2">utf8_width</a></div><div class="ttdeci">int utf8_width(const char *s, const bool ignore_tags)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00142">catacharset.cpp:142</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4ab151b3e9ec20b32714e607016deea4"><div class="ttname"><a href="classCharacter.html#a4ab151b3e9ec20b32714e607016deea4">Character::get_free_bionics_slots</a></div><div class="ttdeci">int get_free_bionics_slots(const bodypart_id &amp;bp) const</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8cpp_source.html#l02521">bionics.cpp:2521</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4e2bd7defca57bcf42fd5ef9ca93b9b6"><div class="ttname"><a href="classCharacter.html#a4e2bd7defca57bcf42fd5ef9ca93b9b6">Character::get_total_bionics_slots</a></div><div class="ttdeci">int get_total_bionics_slots(const bodypart_id &amp;bp) const</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8cpp_source.html#l02516">bionics.cpp:2516</a></div></div>
<div class="ttc" id="aclassCharacter_html_a893b252cf4169a00e8f707c65d11f5fe"><div class="ttname"><a href="classCharacter.html#a893b252cf4169a00e8f707c65d11f5fe">Character::activate_bionic</a></div><div class="ttdeci">bool activate_bionic(int b, bool eff_only=false)</div><div class="ttdoc">Handles bionic activation effects of the entered bionic, returns if anything activated.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8cpp_source.html#l00531">bionics.cpp:531</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9cbfb1bf8e0e13332e547df6dcfb0d3d"><div class="ttname"><a href="classCharacter.html#a9cbfb1bf8e0e13332e547df6dcfb0d3d">Character::deactivate_bionic</a></div><div class="ttdeci">bool deactivate_bionic(int b, bool eff_only=false)</div><div class="ttdoc">Handles bionic deactivation effects of the entered bionic, returns if anything deactivated.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8cpp_source.html#l01064">bionics.cpp:1064</a></div></div>
<div class="ttc" id="aclassCreature_html_a9f9cc294949ffc5bd51ab464b5c5ad6f"><div class="ttname"><a href="classCreature.html#a9f9cc294949ffc5bd51ab464b5c5ad6f">Creature::get_all_body_parts</a></div><div class="ttdeci">std::vector&lt; bodypart_id &gt; get_all_body_parts(bool only_main=false) const</div><div class="ttdoc">Returns body parts this creature have.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01621">creature.cpp:1621</a></div></div>
<div class="ttc" id="aclassinvlet__wrapper_html_a7c0b7eaf67cf02bae041ada17aa1f71d"><div class="ttname"><a href="classinvlet__wrapper.html#a7c0b7eaf67cf02bae041ada17aa1f71d">invlet_wrapper::valid</a></div><div class="ttdeci">bool valid(int invlet) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00059">inventory.cpp:59</a></div></div>
<div class="ttc" id="aclassinvlet__wrapper_html_acd1a92cefe6ad50b5b0c9b90ea377ef6"><div class="ttname"><a href="classinvlet__wrapper.html#acd1a92cefe6ad50b5b0c9b90ea377ef6">invlet_wrapper::get_allowed_chars</a></div><div class="ttdeci">std::string get_allowed_chars() const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00054">inventory.h:54</a></div></div>
<div class="ttc" id="aclassplayer_html_a09902859b0f28b6aae33c2b76abc521e"><div class="ttname"><a href="classplayer.html#a09902859b0f28b6aae33c2b76abc521e">player::bionic_by_invlet</a></div><div class="ttdeci">bionic * bionic_by_invlet(int ch)</div><div class="ttdoc">Returns the bionic with the given invlet, or NULL if no bionic has that invlet.</div><div class="ttdef"><b>Definition:</b> <a href="bionics__ui_8cpp_source.html#l00161">bionics_ui.cpp:161</a></div></div>
<div class="ttc" id="aclassuistatedata_html_a25843c745eb4d8bf305a060f8b1804b1"><div class="ttname"><a href="classuistatedata.html#a25843c745eb4d8bf305a060f8b1804b1">uistatedata::bionic_sort_mode</a></div><div class="ttdeci">bionic_ui_sort_mode bionic_sort_mode</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00138">uistate.h:138</a></div></div>
<div class="ttc" id="adialogue_8h_html_abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8"><div class="ttname"><a href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a></div><div class="ttdeci">@ action</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00037">dialogue.h:36</a></div></div>
<div class="ttc" id="agame_8cpp_html_a764052f34a47c6dee072c67b842a222c"><div class="ttname"><a href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a></div><div class="ttdeci">uistatedata uistate</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00270">game.cpp:270</a></div></div>
<div class="ttc" id="ainput_8h_html_a4b401effe387ffb86753e0d294e25921"><div class="ttname"><a href="input_8h.html#a4b401effe387ffb86753e0d294e25921">KEY_ESCAPE</a></div><div class="ttdeci">static constexpr int KEY_ESCAPE</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00032">input.h:32</a></div></div>
<div class="ttc" id="amake__static_8h_html_ad8ea997925f9b41fffbf138f4c05e09f"><div class="ttname"><a href="make__static_8h.html#ad8ea997925f9b41fffbf138f4c05e09f">STATIC</a></div><div class="ttdeci">#define STATIC(expr)</div><div class="ttdoc">The purpose of this macro is to provide a concise syntax for creation of inline literals (std::string...</div><div class="ttdef"><b>Definition:</b> <a href="make__static_8h_source.html#l00024">make_static.h:24</a></div></div>
<div class="ttc" id="amutation__ui_8cpp_html_a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69"><div class="ttname"><a href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">mutation_tab_mode::passive</a></div><div class="ttdeci">@ passive</div></div>
<div class="ttc" id="amutation__ui_8cpp_html_a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79"><div class="ttname"><a href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">mutation_tab_mode::active</a></div><div class="ttdeci">@ active</div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02bionics__ui_8cpp_03_html_a11877376832d43791e0c61d0f0bfa753"><div class="ttname"><a href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753">anonymous_namespace{bionics_ui.cpp}::bionic_tab_mode</a></div><div class="ttdeci">bionic_tab_mode</div><div class="ttdef"><b>Definition:</b> <a href="bionics__ui_8cpp_source.html#l00036">bionics_ui.cpp:36</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02bionics__ui_8cpp_03_html_a11877376832d43791e0c61d0f0bfa753a325f75fcfc892d65eb342f149500ab40"><div class="ttname"><a href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753a325f75fcfc892d65eb342f149500ab40">anonymous_namespace{bionics_ui.cpp}::TAB_ACTIVE</a></div><div class="ttdeci">@ TAB_ACTIVE</div><div class="ttdef"><b>Definition:</b> <a href="bionics__ui_8cpp_source.html#l00037">bionics_ui.cpp:37</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02bionics__ui_8cpp_03_html_a11877376832d43791e0c61d0f0bfa753aa8b361c8c1bad6ec1040a782b0ab1aa5"><div class="ttname"><a href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a11877376832d43791e0c61d0f0bfa753aa8b361c8c1bad6ec1040a782b0ab1aa5">anonymous_namespace{bionics_ui.cpp}::TAB_PASSIVE</a></div><div class="ttdeci">@ TAB_PASSIVE</div><div class="ttdef"><b>Definition:</b> <a href="bionics__ui_8cpp_source.html#l00039">bionics_ui.cpp:38</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02bionics__ui_8cpp_03_html_a2f63da29514df68e9fcb08cad4948a44"><div class="ttname"><a href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a2f63da29514df68e9fcb08cad4948a44">anonymous_namespace{bionics_ui.cpp}::sorted_bionics</a></div><div class="ttdeci">cata::flat_set&lt; bionic *, bionic_sort_less &gt; sorted_bionics</div><div class="ttdef"><b>Definition:</b> <a href="bionics__ui_8cpp_source.html#l00100">bionics_ui.cpp:100</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02bionics__ui_8cpp_03_html_a5c0207ceed27b37688307dc484baf852"><div class="ttname"><a href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a5c0207ceed27b37688307dc484baf852">anonymous_namespace{bionics_ui.cpp}::bionic_menu_mode</a></div><div class="ttdeci">bionic_menu_mode</div><div class="ttdef"><b>Definition:</b> <a href="bionics__ui_8cpp_source.html#l00040">bionics_ui.cpp:40</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02bionics__ui_8cpp_03_html_a5c0207ceed27b37688307dc484baf852a126c90436d82af15857677148147631d"><div class="ttname"><a href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a5c0207ceed27b37688307dc484baf852a126c90436d82af15857677148147631d">anonymous_namespace{bionics_ui.cpp}::REASSIGNING</a></div><div class="ttdeci">@ REASSIGNING</div><div class="ttdef"><b>Definition:</b> <a href="bionics__ui_8cpp_source.html#l00044">bionics_ui.cpp:43</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02bionics__ui_8cpp_03_html_a5c0207ceed27b37688307dc484baf852a144ed7b560e8e2ee509fd8dd99dd4d84"><div class="ttname"><a href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a5c0207ceed27b37688307dc484baf852a144ed7b560e8e2ee509fd8dd99dd4d84">anonymous_namespace{bionics_ui.cpp}::ACTIVATING</a></div><div class="ttdeci">@ ACTIVATING</div><div class="ttdef"><b>Definition:</b> <a href="bionics__ui_8cpp_source.html#l00041">bionics_ui.cpp:41</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02bionics__ui_8cpp_03_html_a5c0207ceed27b37688307dc484baf852a91c8ee7c9f6d9f6f9312005de541cf6c"><div class="ttname"><a href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a5c0207ceed27b37688307dc484baf852a91c8ee7c9f6d9f6f9312005de541cf6c">anonymous_namespace{bionics_ui.cpp}::EXAMINING</a></div><div class="ttdeci">@ EXAMINING</div><div class="ttdef"><b>Definition:</b> <a href="bionics__ui_8cpp_source.html#l00042">bionics_ui.cpp:42</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02bionics__ui_8cpp_03_html_a95f7f538372383fda933731f36111520"><div class="ttname"><a href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#a95f7f538372383fda933731f36111520">anonymous_namespace{bionics_ui.cpp}::filtered_bionics</a></div><div class="ttdeci">sorted_bionics filtered_bionics(bionic_collection &amp;all_bionics, bionic_tab_mode mode)</div><div class="ttdef"><b>Definition:</b> <a href="bionics__ui_8cpp_source.html#l00102">bionics_ui.cpp:102</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02bionics__ui_8cpp_03_html_ae1e49b240947e0caf7766944218be46e"><div class="ttname"><a href="namespaceanonymous__namespace_02bionics__ui_8cpp_03.html#ae1e49b240947e0caf7766944218be46e">anonymous_namespace{bionics_ui.cpp}::pick_sort_mode</a></div><div class="ttdeci">bionic_ui_sort_mode pick_sort_mode()</div><div class="ttdef"><b>Definition:</b> <a href="bionics__ui_8cpp_source.html#l00114">bionics_ui.cpp:114</a></div></div>
<div class="ttc" id="anamespacebase__camps_html_a7355c36e3472cb0ef0668630f341773f"><div class="ttname"><a href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">base_camps::tab_mode</a></div><div class="ttdeci">tab_mode</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00057">basecamp.h:57</a></div></div>
<div class="ttc" id="anamespacecata_html_a097b137e977a6b843c0dada2c8b19611"><div class="ttname"><a href="namespacecata.html#a097b137e977a6b843c0dada2c8b19611">cata::swap</a></div><div class="ttdeci">void swap(colony&lt; element_type, element_allocator_type, element_skipfield_type &gt; &amp;a, colony&lt; element_type, element_allocator_type, element_skipfield_type &gt; &amp;b) COLONY_NOEXCEPT_SWAP(element_allocator_type)</div><div class="ttdoc">Swaps colony A's contents with that of colony B.</div><div class="ttdef"><b>Definition:</b> <a href="colony_8h_source.html#l03496">colony.h:3496</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a929fe85d472028f52d8a5cdfc0d35017"><div class="ttname"><a href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">catacurses::getmaxx</a></div><div class="ttdeci">int getmaxx(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00058">ncurses_def.cpp:58</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_ace2ce3990cb812fb83adf6e4ea1f9e8e"><div class="ttname"><a href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">catacurses::werase</a></div><div class="ttdeci">void werase(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00053">ncurses_def.cpp:53</a></div></div>
<div class="ttc" id="anamespacechar__creation_html_a9ba8fcc12acdec7ace3940a82223d9a6a3cd7612350c0da5632239e1acd6f367d"><div class="ttname"><a href="namespacechar__creation.html#a9ba8fcc12acdec7ace3940a82223d9a6a3cd7612350c0da5632239e1acd6f367d">char_creation::HEIGHT</a></div><div class="ttdeci">@ HEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="newcharacter_8cpp_source.html#l02291">newcharacter.cpp:2291</a></div></div>
<div class="ttc" id="anamespaceui__manager_html_ae38f3a918052ef286ee60daac47f52d4"><div class="ttname"><a href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a></div><div class="ttdeci">void redraw()</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00285">ui_manager.cpp:285</a></div></div>
<div class="ttc" id="anamespaceui_html"><div class="ttname"><a href="namespaceui.html">ui</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00016">overmap_ui.h:17</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a000abea6447dfafd5f9b787aa6753609"><div class="ttname"><a href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a></div><div class="ttdeci">int TERMX</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00047">output.cpp:47</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1184e3eda011b110d09bf2dcf08228f5"><div class="ttname"><a href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a></div><div class="ttdeci">void mvwprintz(const catacurses::window &amp;w, const point &amp;p, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l02035">output.cpp:2035</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a32bc92e8282b63d800068ce8e182b269"><div class="ttname"><a href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a></div><div class="ttdeci">int FULL_SCREEN_HEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00056">output.cpp:56</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a37db5c581b2a20faa11b14164de305df"><div class="ttname"><a href="output_8cpp.html#a37db5c581b2a20faa11b14164de305df">draw_scrollbar</a></div><div class="ttdeci">void draw_scrollbar(const catacurses::window &amp;window, const int iCurrentLine, const int iContentHeight, const int iNumLines, const point &amp;offset, nc_color bar_color, const bool bDoNotScrollToEnd)</div><div class="ttdoc">Draw a scrollbar (Legacy function, use class scrollbar instead!)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01314">output.cpp:1314</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab7abbbd98907f496533db9bc2a02cf4a"><div class="ttname"><a href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a></div><div class="ttdeci">void trim_and_print(const catacurses::window &amp;w, const point &amp;begin, const int width, const nc_color &amp;base_color, const std::string &amp;text, const report_color_error color_error)</div><div class="ttdoc">Prints a single line of text.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00214">output.cpp:214</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab9659cbe9ec23a2efd813f795cb7fb73"><div class="ttname"><a href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a></div><div class="ttdeci">int fold_and_print(const catacurses::window &amp;w, const point &amp;begin, int width, const nc_color &amp;base_color, const std::string &amp;text, const char split)</div><div class="ttdoc">Fold and print text in the given window.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00299">output.cpp:299</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afb5597c87a5847c7d64b878ab3a77d5b"><div class="ttname"><a href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a></div><div class="ttdeci">void mvwputch(const catacurses::window &amp;w, const point &amp;p, nc_color FG, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00477">output.cpp:477</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afea9968fcee47ebca0e45d27099d1c22"><div class="ttname"><a href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a></div><div class="ttdeci">void draw_border(const catacurses::window &amp;w, nc_color border_color, const std::string &amp;title, nc_color title_color)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00575">output.cpp:575</a></div></div>
<div class="ttc" id="aoutput_8h_html_a0803e4570f3cd69d38952bc2b4555c24"><div class="ttname"><a href="output_8h.html#a0803e4570f3cd69d38952bc2b4555c24">LINE_XOXX</a></div><div class="ttdeci">#define LINE_XOXX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00047">output.h:47</a></div></div>
<div class="ttc" id="aoutput_8h_html_a776e76ac0d873faf3607d5e839f08ee3"><div class="ttname"><a href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a></div><div class="ttdeci">int popup_getkey(const char *const mes, Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00500">output.h:500</a></div></div>
<div class="ttc" id="aoutput_8h_html_a966901ace2cf6cba3fc9cec310150860"><div class="ttname"><a href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a></div><div class="ttdeci">#define BORDER_COLOR</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00135">output.h:135</a></div></div>
<div class="ttc" id="apoint_8h_html_aff73fd5bf470a3db5291c5dec855bb71"><div class="ttname"><a href="point_8h.html#aff73fd5bf470a3db5291c5dec855bb71">point_east</a></div><div class="ttdeci">static constexpr point point_east</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00278">point.h:278</a></div></div>
<div class="ttc" id="astructbionic__data_html"><div class="ttname"><a href="structbionic__data.html">bionic_data</a></div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00028">bionics.h:28</a></div></div>
<div class="ttc" id="astructbionic__data_html_a3cf96a3fc532f2c82b73924ab585451e"><div class="ttname"><a href="structbionic__data.html#a3cf96a3fc532f2c82b73924ab585451e">bionic_data::name</a></div><div class="ttdeci">translation name</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00034">bionics.h:34</a></div></div>
<div class="ttc" id="astructbionic__data_html_a5b4043e33f09573e6c6c9c06f3d4d5dc"><div class="ttname"><a href="structbionic__data.html#a5b4043e33f09573e6c6c9c06f3d4d5dc">bionic_data::activated</a></div><div class="ttdeci">bool activated</div><div class="ttdoc">Is true if a bionic is an active instead of a passive bionic.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00049">bionics.h:49</a></div></div>
<div class="ttc" id="astructbionic__data_html_a8138c18ab3e2346f1404295246389393"><div class="ttname"><a href="structbionic__data.html#a8138c18ab3e2346f1404295246389393">bionic_data::fuel_opts</a></div><div class="ttdeci">std::vector&lt; itype_id &gt; fuel_opts</div><div class="ttdoc">Fuel types that can be used by this bionic.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00063">bionics.h:63</a></div></div>
<div class="ttc" id="astructbionic__data_html_ac6d9ed2427a13c48a40a678d2a6aee2f"><div class="ttname"><a href="structbionic__data.html#ac6d9ed2427a13c48a40a678d2a6aee2f">bionic_data::id</a></div><div class="ttdeci">bionic_id id</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00032">bionics.h:32</a></div></div>
<div class="ttc" id="astructbionic__data_html_ad0a8e68595674cdf6b64719c375f3cb9"><div class="ttname"><a href="structbionic__data.html#ad0a8e68595674cdf6b64719c375f3cb9">bionic_data::is_remote_fueled</a></div><div class="ttdeci">bool is_remote_fueled</div><div class="ttdoc">This bionic draws power through a cable.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00061">bionics.h:61</a></div></div>
<div class="ttc" id="astructbionic__data_html_ae9faf505571841d8ef97496eb3a26607"><div class="ttname"><a href="structbionic__data.html#ae9faf505571841d8ef97496eb3a26607">bionic_data::occupied_bodyparts</a></div><div class="ttdeci">std::map&lt; bodypart_str_id, int &gt; occupied_bodyparts</div><div class="ttdoc">Body part slots used to install this bionic, mapped to the amount of space required.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00089">bionics.h:89</a></div></div>
<div class="ttc" id="astructbionic__data_html_af3fe0a3a6b49875c43cb5e332e4c2696"><div class="ttname"><a href="structbionic__data.html#af3fe0a3a6b49875c43cb5e332e4c2696">bionic_data::has_flag</a></div><div class="ttdeci">bool has_flag(const flag_str_id &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8cpp_source.html#l00243">bionics.cpp:243</a></div></div>
<div class="ttc" id="astructbionic_html_a4ac0c0f1eb401db04c83b12fcd2d5cdb"><div class="ttname"><a href="structbionic.html#a4ac0c0f1eb401db04c83b12fcd2d5cdb">bionic::toggle_safe_fuel_mod</a></div><div class="ttdeci">void toggle_safe_fuel_mod()</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8cpp_source.html#l02696">bionics.cpp:2696</a></div></div>
<div class="ttc" id="astructbionic_html_a4b38420250d3ff4ad9c7eba7e2b25a48"><div class="ttname"><a href="structbionic.html#a4b38420250d3ff4ad9c7eba7e2b25a48">bionic::invlet</a></div><div class="ttdeci">char invlet</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00152">bionics.h:152</a></div></div>
<div class="ttc" id="astructbionic_html_a66fc20bc3ee64b64edce99959aedd453"><div class="ttname"><a href="structbionic.html#a66fc20bc3ee64b64edce99959aedd453">bionic::info</a></div><div class="ttdeci">const bionic_data &amp; info() const</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00168">bionics.h:168</a></div></div>
<div class="ttc" id="astructbionic_html_a69c27d34e4a5014ae73135e80dd304b0"><div class="ttname"><a href="structbionic.html#a69c27d34e4a5014ae73135e80dd304b0">bionic::id</a></div><div class="ttdeci">bionic_id id</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00150">bionics.h:150</a></div></div>
<div class="ttc" id="astructbionic_html_a6c1ea38486361f355547214c0c73ab21"><div class="ttname"><a href="structbionic.html#a6c1ea38486361f355547214c0c73ab21">bionic::toggle_auto_start_mod</a></div><div class="ttdeci">void toggle_auto_start_mod()</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8cpp_source.html#l02708">bionics.cpp:2708</a></div></div>
<div class="ttc" id="astructbionic_html_ac16ebda23bfb0c4be0fd93f80cc9d8f5"><div class="ttname"><a href="structbionic.html#ac16ebda23bfb0c4be0fd93f80cc9d8f5">bionic::ammo_count</a></div><div class="ttdeci">unsigned int ammo_count</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00157">bionics.h:157</a></div></div>
<div class="ttc" id="astructbionic_html_addbda67a07e927ca959d4a77ecd5a593"><div class="ttname"><a href="structbionic.html#addbda67a07e927ca959d4a77ecd5a593">bionic::powered</a></div><div class="ttdeci">bool powered</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00153">bionics.h:153</a></div></div>
<div class="ttc" id="atype__id_8h_html_a0083caca181e3d6b8888ff104cec2170"><div class="ttname"><a href="type__id_8h.html#a0083caca181e3d6b8888ff104cec2170">flag_str_id</a></div><div class="ttdeci">string_id&lt; json_flag &gt; flag_str_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00187">type_id.h:187</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="dialogue_8h_source.html#l00036">action</a>, <a class="el" href="bionics_8cpp_source.html#l00531">Character::activate_bionic()</a>, <a class="el" href="bionics_8h_source.html#l00049">bionic_data::activated</a>, <a class="el" href="bionics__ui_8cpp_source.html#l00041">anonymous_namespace{bionics_ui.cpp}::ACTIVATING</a>, <a class="el" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>, <a class="el" href="bionics_8h_source.html#l00157">bionic::ammo_count</a>, <a class="el" href="magic_8cpp_source.html#l01030">b</a>, <a class="el" href="bionics__ui_8cpp_source.html#l00161">bionic_by_invlet()</a>, <a class="el" href="bionics__ui_8cpp.html#a3530f45aaa927a6078e1e974525873be">bionic_chars</a>, <a class="el" href="uistate_8h_source.html#l00138">uistatedata::bionic_sort_mode</a>, <a class="el" href="bodypart_8cpp_source.html#l00341">body_part_name_as_heading()</a>, <a class="el" href="output_8h_source.html#l00135">BORDER_COLOR</a>, <a class="el" href="bionics__ui_8cpp_source.html#l00324">build_bionic_powerdesc_string()</a>, <a class="el" href="color_8h_source.html#l00019">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00032">c_yellow</a>, <a class="el" href="cata__utility_8h_source.html#l00145">clamp()</a>, <a class="el" href="bionics_8cpp_source.html#l01064">Character::deactivate_bionic()</a>, <a class="el" href="bionics__ui_8cpp_source.html#l00335">draw_bionics_tabs()</a>, <a class="el" href="bionics__ui_8cpp_source.html#l00186">draw_bionics_titlebar()</a>, <a class="el" href="output_8cpp_source.html#l00575">draw_border()</a>, <a class="el" href="bionics__ui_8cpp_source.html#l00384">draw_connectors()</a>, <a class="el" href="bionics__ui_8cpp_source.html#l00363">draw_description()</a>, <a class="el" href="output_8cpp_source.html#l01314">draw_scrollbar()</a>, <a class="el" href="bionics__ui_8cpp_source.html#l00042">anonymous_namespace{bionics_ui.cpp}::EXAMINING</a>, <a class="el" href="bionics__ui_8cpp_source.html#l00102">anonymous_namespace{bionics_ui.cpp}::filtered_bionics()</a>, <a class="el" href="output_8cpp_source.html#l00299">fold_and_print()</a>, <a class="el" href="bionics_8h_source.html#l00063">bionic_data::fuel_opts</a>, <a class="el" href="output_8cpp_source.html#l00056">FULL_SCREEN_HEIGHT</a>, <a class="el" href="output_8cpp_source.html#l00055">FULL_SCREEN_WIDTH</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="creature_8cpp_source.html#l01621">Creature::get_all_body_parts()</a>, <a class="el" href="inventory_8h_source.html#l00054">invlet_wrapper::get_allowed_chars()</a>, <a class="el" href="bionics__ui_8cpp_source.html#l00484">get_bionic_text_color()</a>, <a class="el" href="input_8cpp_source.html#l00756">input_context::get_desc()</a>, <a class="el" href="input_8cpp_source.html#l00100">input_event::get_first_input()</a>, <a class="el" href="bionics_8cpp_source.html#l02521">Character::get_free_bionics_slots()</a>, <a class="el" href="input_8cpp_source.html#l01299">input_context::get_raw_input()</a>, <a class="el" href="bionics_8cpp_source.html#l02516">Character::get_total_bionics_slots()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00058">catacurses::getmaxx()</a>, <a class="el" href="input_8cpp_source.html#l00854">input_context::handle_input()</a>, <a class="el" href="bionics_8cpp_source.html#l00243">bionic_data::has_flag()</a>, <a class="el" href="newcharacter_8cpp_source.html#l02291">char_creation::HEIGHT</a>, <a class="el" href="bionics_8h_source.html#l00032">bionic_data::id</a>, <a class="el" href="bionics_8h_source.html#l00150">bionic::id</a>, <a class="el" href="bionics_8h_source.html#l00168">bionic::info()</a>, <a class="el" href="bionics_8h_source.html#l00152">bionic::invlet</a>, <a class="el" href="bionics_8h_source.html#l00061">bionic_data::is_remote_fueled</a>, <a class="el" href="input_8h_source.html#l00032">KEY_ESCAPE</a>, <a class="el" href="output_8h_source.html#l00047">LINE_XOXX</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="output_8cpp_source.html#l02035">mvwprintz()</a>, <a class="el" href="output_8cpp_source.html#l00477">mvwputch()</a>, <a class="el" href="character_8h_source.html#l01588">Character::my_bionics</a>, <a class="el" href="bionics_8h_source.html#l00034">bionic_data::name</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00034">catacurses::newwin()</a>, <a class="el" href="achievement_8cpp_source.html#l00058">string_id&lt; T &gt;::obj()</a>, <a class="el" href="bionics_8h_source.html#l00089">bionic_data::occupied_bodyparts</a>, <a class="el" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>, <a class="el" href="bionics__ui_8cpp_source.html#l00114">anonymous_namespace{bionics_ui.cpp}::pick_sort_mode()</a>, <a class="el" href="point_8h_source.html#l00278">point_east</a>, <a class="el" href="point_8h_source.html#l00274">point_zero</a>, <a class="el" href="output_8cpp_source.html#l00764">popup()</a>, <a class="el" href="output_8h_source.html#l00500">popup_getkey()</a>, <a class="el" href="bionics_8h_source.html#l00153">bionic::powered</a>, <a class="el" href="bionics__ui_8cpp_source.html#l00043">anonymous_namespace{bionics_ui.cpp}::REASSIGNING</a>, <a class="el" href="ui__manager_8cpp_source.html#l00285">ui_manager::redraw()</a>, <a class="el" href="input_8cpp_source.html#l00676">input_context::register_action()</a>, <a class="el" href="input_8cpp_source.html#l00924">input_context::register_updown()</a>, <a class="el" href="make__static_8h_source.html#l00024">STATIC</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="colony_8h_source.html#l03496">cata::swap()</a>, <a class="el" href="bionics__ui_8cpp_source.html#l00037">anonymous_namespace{bionics_ui.cpp}::TAB_ACTIVE</a>, <a class="el" href="bionics__ui_8cpp_source.html#l00038">anonymous_namespace{bionics_ui.cpp}::TAB_PASSIVE</a>, <a class="el" href="output_8cpp_source.html#l00047">TERMX</a>, <a class="el" href="output_8cpp_source.html#l00048">TERMY</a>, <a class="el" href="bionics_8cpp_source.html#l02708">bionic::toggle_auto_start_mod()</a>, <a class="el" href="bionics_8cpp_source.html#l02696">bionic::toggle_safe_fuel_mod()</a>, <a class="el" href="output_8cpp_source.html#l00214">trim_and_print()</a>, <a class="el" href="game_8cpp_source.html#l00270">uistate</a>, <a class="el" href="catacharset_8cpp_source.html#l00142">utf8_width()</a>, <a class="el" href="inventory_8cpp_source.html#l00059">invlet_wrapper::valid()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00053">catacurses::werase()</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00043">catacurses::wnoutrefresh()</a>.</p>

<p class="reference">Referenced by <a class="el" href="handle__action_8cpp_source.html#l01514">game::handle_action()</a>.</p>

</div>
</div>
<a id="aaff0fabbf1abf952f200995733d86d4b" name="aaff0fabbf1abf952f200995733d86d4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaff0fabbf1abf952f200995733d86d4b">&#9670;&nbsp;</a></span>power_mutations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::power_mutations </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mutation__ui_8cpp_source.html#l00089">89</a> of file <a class="el" href="mutation__ui_8cpp_source.html">mutation_ui.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>{</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() ) {</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>        <span class="comment">// TODO: Implement NPCs activating mutations</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    }</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span> </div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <span class="comment">// Mutation selection UI obscures the terrain,</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    <span class="comment">// but some mutations may ask to select a tile when activated.</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="comment">// As such, we must (de-)activate only after destroying the UI.</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    power_mut_ui_result res = <a class="code hl_function" href="classplayer.html#a12ed7b039e2409d1da96ade8f24f84c8">power_mutations_ui</a>();</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <span class="keywordflow">switch</span>( res.cmd ) {</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859afef46e5063ce3dc78b8ae64fa474241d">power_mut_ui_cmd::Exit</a>:</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859a109fec06829bd79d222cfc8af52aaaf1">power_mut_ui_cmd::Deactivate</a>:</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>            <a class="code hl_function" href="classCharacter.html#a74fe859b4fd584a4545440c20b5d2fac">deactivate_mutation</a>( res.mut );</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859aa13367a8e2a3f3bf4f3409079e3fdf87">power_mut_ui_cmd::Activate</a>:</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>            <a class="code hl_function" href="classCharacter.html#aed857a178c749c1159a58cd32b5b5749">activate_mutation</a>( res.mut );</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    }</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>}</div>
<div class="ttc" id="aclassCharacter_html_a74fe859b4fd584a4545440c20b5d2fac"><div class="ttname"><a href="classCharacter.html#a74fe859b4fd584a4545440c20b5d2fac">Character::deactivate_mutation</a></div><div class="ttdeci">void deactivate_mutation(const trait_id &amp;mut)</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00610">mutation.cpp:610</a></div></div>
<div class="ttc" id="aclassCharacter_html_aed857a178c749c1159a58cd32b5b5749"><div class="ttname"><a href="classCharacter.html#aed857a178c749c1159a58cd32b5b5749">Character::activate_mutation</a></div><div class="ttdeci">void activate_mutation(const trait_id &amp;mutation)</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00470">mutation.cpp:470</a></div></div>
<div class="ttc" id="aclassplayer_html_a12ed7b039e2409d1da96ade8f24f84c8"><div class="ttname"><a href="classplayer.html#a12ed7b039e2409d1da96ade8f24f84c8">player::power_mutations_ui</a></div><div class="ttdeci">power_mut_ui_result power_mutations_ui()</div><div class="ttdef"><b>Definition:</b> <a href="mutation__ui_8cpp_source.html#l00113">mutation_ui.cpp:113</a></div></div>
<div class="ttc" id="aclassplayer_html_ace29da9579ab4126cf7f83ba4ace8859a109fec06829bd79d222cfc8af52aaaf1"><div class="ttname"><a href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859a109fec06829bd79d222cfc8af52aaaf1">player::power_mut_ui_cmd::Deactivate</a></div><div class="ttdeci">@ Deactivate</div></div>
<div class="ttc" id="aclassplayer_html_ace29da9579ab4126cf7f83ba4ace8859aa13367a8e2a3f3bf4f3409079e3fdf87"><div class="ttname"><a href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859aa13367a8e2a3f3bf4f3409079e3fdf87">player::power_mut_ui_cmd::Activate</a></div><div class="ttdeci">@ Activate</div></div>
<div class="ttc" id="aclassplayer_html_ace29da9579ab4126cf7f83ba4ace8859afef46e5063ce3dc78b8ae64fa474241d"><div class="ttname"><a href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859afef46e5063ce3dc78b8ae64fa474241d">player::power_mut_ui_cmd::Exit</a></div><div class="ttdeci">@ Exit</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859aa13367a8e2a3f3bf4f3409079e3fdf87">Activate</a>, <a class="el" href="mutation_8cpp_source.html#l00470">Character::activate_mutation()</a>, <a class="el" href="player_8h_source.html#l00475">player::power_mut_ui_result::cmd</a>, <a class="el" href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859a109fec06829bd79d222cfc8af52aaaf1">Deactivate</a>, <a class="el" href="mutation_8cpp_source.html#l00610">Character::deactivate_mutation()</a>, <a class="el" href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859afef46e5063ce3dc78b8ae64fa474241d">Exit</a>, <a class="el" href="player_8h_source.html#l00114">is_player()</a>, <a class="el" href="player_8h_source.html#l00476">player::power_mut_ui_result::mut</a>, and <a class="el" href="mutation__ui_8cpp_source.html#l00113">power_mutations_ui()</a>.</p>

<p class="reference">Referenced by <a class="el" href="handle__action_8cpp_source.html#l01514">game::handle_action()</a>.</p>

</div>
</div>
<a id="a12ed7b039e2409d1da96ade8f24f84c8" name="a12ed7b039e2409d1da96ade8f24f84c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12ed7b039e2409d1da96ade8f24f84c8">&#9670;&nbsp;</a></span>power_mutations_ui()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structplayer_1_1power__mut__ui__result.html">player::power_mut_ui_result</a> player::power_mutations_ui </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Total required height is: top frame line: + 1 height of title window: + TITLE_HEIGHT line after the title: + 1 line with active/passive mutation captions: + 1 height of the biggest list of active/passive mutations: + mutations_count line before mutation description: + 1 height of description window: + DESCRIPTION_HEIGHT bottom frame line: + 1 TOTAL: TITLE_HEIGHT + mutations_count + DESCRIPTION_HEIGHT + 5</p>

<p class="definition">Definition at line <a class="el" href="mutation__ui_8cpp_source.html#l00113">113</a> of file <a class="el" href="mutation__ui_8cpp_source.html">mutation_ui.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>{</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    std::vector&lt;trait_id&gt; <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    std::vector&lt;trait_id&gt; <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>;</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="keywordflow">for</span>( std::pair&lt;const trait_id, trait_data&gt; &amp;mut : <a class="code hl_variable" href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">my_mutations</a> ) {</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>        <span class="keywordflow">if</span>( !mut.first-&gt;activated &amp;&amp; ! mut.first-&gt;transform ) {</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>            <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>.push_back( mut.first );</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>            <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>.push_back( mut.first );</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>        }</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>        <span class="comment">// New mutations are initialized with no key at all, so we have to do this here.</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>        <span class="keywordflow">if</span>( mut.second.key == <span class="charliteral">&#39; &#39;</span> ) {</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;letter : <a class="code hl_variable" href="mutation__ui_8cpp.html#ad3e13a302fd3dee9054bc059deb0e268">mutation_chars</a> ) {</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a994d6d08223ced277eba3f347db02417">trait_by_invlet</a>( letter ).is_null() ) {</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>                    mut.second.key = letter;</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>                }</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>            }</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>        }</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    }</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="comment">// maximal number of rows in both columns</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> mutations_count = std::max( <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>.size(), <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>.size() );</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span> </div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> TITLE_HEIGHT = 2;</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> DESCRIPTION_HEIGHT = 5;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <span class="comment">// + lines with text in titlebar, local</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> HEADER_LINE_Y = TITLE_HEIGHT + 1;</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> list_start_y = HEADER_LINE_Y + 2;</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span> </div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <span class="comment">// Main window</span><span class="comment"></span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span><span class="comment">    /** Total required height is:</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span><span class="comment">    * top frame line:                                         + 1</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span><span class="comment">    * height of title window:                                 + TITLE_HEIGHT</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span><span class="comment">    * line after the title:                                   + 1</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span><span class="comment">    * line with active/passive mutation captions:               + 1</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span><span class="comment">    * height of the biggest list of active/passive mutations:   + mutations_count</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span><span class="comment">    * line before mutation description:                         + 1</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span><span class="comment">    * height of description window:                           + DESCRIPTION_HEIGHT</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span><span class="comment">    * bottom frame line:                                      + 1</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span><span class="comment">    * TOTAL: TITLE_HEIGHT + mutations_count + DESCRIPTION_HEIGHT + 5</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span><span class="comment">    */</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespacechar__creation.html#a9ba8fcc12acdec7ace3940a82223d9a6a3cd7612350c0da5632239e1acd6f367d">HEIGHT</a> = 0;</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    <span class="keywordtype">int</span> WIDTH = 0;</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> wBio;</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span> </div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <span class="keywordtype">int</span> DESCRIPTION_LINE_Y = 0;</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_description;</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span> </div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_title;</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span> </div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    <span class="keywordtype">int</span> second_column = 0;</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span> </div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="keywordtype">int</span> scroll_position = 0;</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <span class="keywordtype">int</span> cursor = 0;</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <span class="keywordtype">int</span> max_scroll_position = 0;</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    <span class="keywordtype">int</span> list_height = 0;</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    <span class="keywordtype">int</span> half_list_view_location = 0;</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <a class="code hl_enumeration" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1">mutation_menu_mode</a> menu_mode = <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1a948eea612456562bf255d3a9c59c40a3">mutation_menu_mode::activating</a>;</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <a class="code hl_enumeration" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76">mutation_tab_mode</a> <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a>;</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>.empty() ) {</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>        <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> = <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">mutation_tab_mode::passive</a>;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>.empty() ) {</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>        <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> = <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">mutation_tab_mode::active</a>;</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>        <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> = <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a334c4a4c42fdb79d7ebc3e73b517e6f8">mutation_tab_mode::none</a>;</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    }</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span> </div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <span class="keyword">const</span> <span class="keyword">auto</span> recalc_max_scroll_position = [&amp;]() {</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>        list_height = ( menu_mode == <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1a1fe0ff1bbfd7ca5705dcadfeb6cd3d15">mutation_menu_mode::examining</a> ?</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>                        DESCRIPTION_LINE_Y : <a class="code hl_enumvalue" href="namespacechar__creation.html#a9ba8fcc12acdec7ace3940a82223d9a6a3cd7612350c0da5632239e1acd6f367d">HEIGHT</a> - 1 ) - list_start_y;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>        max_scroll_position = mutations_count - list_height;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>        half_list_view_location = list_height / 2;</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>        <span class="keywordflow">if</span>( max_scroll_position &lt; 0 ) {</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>            scroll_position = 0;</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( scroll_position &gt; max_scroll_position ) {</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>            scroll_position = max_scroll_position;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>        }</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    };</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span> </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> <a class="code hl_namespace" href="namespaceui.html">ui</a>;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <a class="code hl_namespace" href="namespaceui.html">ui</a>.on_screen_resize( [&amp;]( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code hl_namespace" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>        <a class="code hl_enumvalue" href="namespacechar__creation.html#a9ba8fcc12acdec7ace3940a82223d9a6a3cd7612350c0da5632239e1acd6f367d">HEIGHT</a> = std::min( <a class="code hl_variable" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a>, std::max( <a class="code hl_variable" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a>,</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>                                            TITLE_HEIGHT + mutations_count + DESCRIPTION_HEIGHT + 5 ) );</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>        WIDTH = <a class="code hl_variable" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> + ( <a class="code hl_variable" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - <a class="code hl_variable" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> ) / 2;</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> START( ( <a class="code hl_variable" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - WIDTH ) / 2, ( <a class="code hl_variable" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> - <a class="code hl_enumvalue" href="namespacechar__creation.html#a9ba8fcc12acdec7ace3940a82223d9a6a3cd7612350c0da5632239e1acd6f367d">HEIGHT</a> ) / 2 );</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>        wBio = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code hl_enumvalue" href="namespacechar__creation.html#a9ba8fcc12acdec7ace3940a82223d9a6a3cd7612350c0da5632239e1acd6f367d">HEIGHT</a>, WIDTH, START );</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span> </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>        <span class="comment">// Description window @ the bottom of the bionic window</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> DESCRIPTION_START_Y = START.y + <a class="code hl_enumvalue" href="namespacechar__creation.html#a9ba8fcc12acdec7ace3940a82223d9a6a3cd7612350c0da5632239e1acd6f367d">HEIGHT</a> - DESCRIPTION_HEIGHT - 1;</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>        DESCRIPTION_LINE_Y = DESCRIPTION_START_Y - START.y - 1;</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>        w_description = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( DESCRIPTION_HEIGHT, WIDTH - 2,</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>                                            <a class="code hl_struct" href="structpoint.html">point</a>( START.x + 1, DESCRIPTION_START_Y ) );</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span> </div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>        <span class="comment">// Title window</span></div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> TITLE_START_Y = START.y + 1;</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>        w_title = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( TITLE_HEIGHT, WIDTH - 2,</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>                                      <a class="code hl_struct" href="structpoint.html">point</a>( START.x + 1, TITLE_START_Y ) );</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span> </div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>        recalc_max_scroll_position();</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span> </div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>        <span class="comment">// X-coordinate of the list of active mutations</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>        second_column = 32 + ( <a class="code hl_variable" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - <a class="code hl_variable" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> ) / 4;</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span> </div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>        <a class="code hl_namespace" href="namespaceui.html">ui</a>.position_from_window( wBio );</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    } );</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <a class="code hl_namespace" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span> </div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    <a class="code hl_class" href="classinput__context.html">input_context</a> ctxt( <span class="stringliteral">&quot;MUTATIONS&quot;</span> );</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    ctxt.register_updown();</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    ctxt.register_action( <span class="stringliteral">&quot;ANY_INPUT&quot;</span> );</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    ctxt.register_action( <span class="stringliteral">&quot;TOGGLE_EXAMINE&quot;</span> );</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    ctxt.register_action( <span class="stringliteral">&quot;REASSIGN&quot;</span> );</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    ctxt.register_action( <span class="stringliteral">&quot;NEXT_TAB&quot;</span> );</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    ctxt.register_action( <span class="stringliteral">&quot;PREV_TAB&quot;</span> );</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    ctxt.register_action( <span class="stringliteral">&quot;CONFIRM&quot;</span> );</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    ctxt.register_action( <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> );</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    ctxt.register_action( <span class="stringliteral">&quot;QUIT&quot;</span> );</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span><span class="preprocessor">#if defined(__ANDROID__)</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;p : <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a> ) {</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>        ctxt.register_manual_key( <a class="code hl_variable" href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">my_mutations</a>[p].key, p.obj().name() );</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    }</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> : <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> ) {</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>        ctxt.register_manual_key( <a class="code hl_variable" href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">my_mutations</a>[<a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>].key, <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>.obj().name() );</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    }</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span> </div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;trait_id&gt;</a> examine_id;</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span> </div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    <a class="code hl_namespace" href="namespaceui.html">ui</a>.on_redraw( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>        <a class="code hl_function" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( wBio );</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>        <a class="code hl_function" href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a>( wBio, <a class="code hl_define" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; MUTATIONS &quot;</span> ) );</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>        <span class="comment">// Draw line under title</span></div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        <a class="code hl_function" href="namespacecatacurses.html#a378d993a574b6bf30ea509fa46de2142">mvwhline</a>( wBio, <a class="code hl_struct" href="structpoint.html">point</a>( 1, HEADER_LINE_Y ), <a class="code hl_define" href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a>, WIDTH - 2 );</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>        <span class="comment">// Draw symbols to connect additional lines to border</span></div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>        <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( wBio, <a class="code hl_struct" href="structpoint.html">point</a>( 0, HEADER_LINE_Y ), <a class="code hl_define" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code hl_define" href="output_8h.html#a4b80f0039259ebe61dc2e58ca4b31043">LINE_XXXO</a> ); <span class="comment">// |-</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>        <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( wBio, <a class="code hl_struct" href="structpoint.html">point</a>( WIDTH - 1, HEADER_LINE_Y ), <a class="code hl_define" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code hl_define" href="output_8h.html#a0803e4570f3cd69d38952bc2b4555c24">LINE_XOXX</a> ); <span class="comment">// -|</span></div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span> </div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>        <span class="comment">// Captions</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>        <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wBio, <a class="code hl_struct" href="structpoint.html">point</a>( 2, HEADER_LINE_Y + 1 ), <a class="code hl_define" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Passive:&quot;</span> ) );</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>        <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wBio, <a class="code hl_struct" href="structpoint.html">point</a>( second_column, HEADER_LINE_Y + 1 ), <a class="code hl_define" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Active:&quot;</span> ) );</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span> </div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>        <span class="keywordflow">if</span>( menu_mode == <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1a1fe0ff1bbfd7ca5705dcadfeb6cd3d15">mutation_menu_mode::examining</a> ) {</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>            <a class="code hl_function" href="mutation__ui_8cpp.html#ae617453f924fe902f4b6504c16d90b76">draw_exam_window</a>( wBio, DESCRIPTION_LINE_Y );</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>        }</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>        <a class="code hl_class" href="classnc__color.html">nc_color</a> <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>;</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>.empty() ) {</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>            <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wBio, <a class="code hl_struct" href="structpoint.html">point</a>( 2, list_start_y ), <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;None&quot;</span> ) );</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = scroll_position; <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( i ) &lt; <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>.size(); i++ ) {</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structmutation__branch.html">mutation_branch</a> &amp;md = <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>[i].obj();</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>                <span class="keyword">const</span> trait_data &amp;td = <a class="code hl_variable" href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">my_mutations</a>[<a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>[i]];</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>                <span class="keyword">const</span> <span class="keywordtype">bool</span> is_highlighted = cursor == <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( i );</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>                <span class="keywordflow">if</span>( i - scroll_position == list_height ) {</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>                }</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>                <span class="keywordflow">if</span>( is_highlighted &amp;&amp; <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> == <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">mutation_tab_mode::passive</a> ) {</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>                    <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = <a class="code hl_function" href="classCharacter.html#a8e6396a377235ed8f76339fb4d1cff2c">has_base_trait</a>( <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>[i] ) ? <a class="code hl_define" href="color_8h.html#a7ab0df86aa6ff0c86d152fbaa4b4b317">c_cyan_yellow</a> : <a class="code hl_define" href="color_8h.html#aefe8d43ae67eeed62b6a895d84951c17">c_light_cyan_yellow</a>;</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>                    <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = <a class="code hl_function" href="classCharacter.html#a8e6396a377235ed8f76339fb4d1cff2c">has_base_trait</a>( <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>[i] ) ? <a class="code hl_define" href="color_8h.html#a95b67111e2e4be7fcac981d2b7b208f6">c_cyan</a> : <a class="code hl_define" href="color_8h.html#a894265dad49331c44392826fc52b848f">c_light_cyan</a>;</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>                }</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>                <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wBio, <a class="code hl_struct" href="structpoint.html">point</a>( 2, list_start_y + i - scroll_position ),</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>                           <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="stringliteral">&quot;%c %s&quot;</span>, td.key, md.<a class="code hl_function" href="structmutation__branch.html#a13305ba1184f2074399b71e279f223c1">name</a>() );</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>            }</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>        }</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span> </div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>.empty() ) {</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>            <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wBio, <a class="code hl_struct" href="structpoint.html">point</a>( second_column, list_start_y ), <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;None&quot;</span> ) );</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = scroll_position; <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( i ) &lt; <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>.size(); i++ ) {</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structmutation__branch.html">mutation_branch</a> &amp;md = <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>[i].obj();</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>                <span class="keyword">const</span> trait_data &amp;td = <a class="code hl_variable" href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">my_mutations</a>[<a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>[i]];</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>                <span class="keyword">const</span> <span class="keywordtype">bool</span> is_highlighted = cursor == <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( i );</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>                <span class="keywordflow">if</span>( i - scroll_position == list_height ) {</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>                }</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>                <span class="keywordflow">if</span>( td.powered ) {</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>                    <span class="keywordflow">if</span>( is_highlighted &amp;&amp; <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> == <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">mutation_tab_mode::active</a> ) {</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>                        <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = <a class="code hl_function" href="classCharacter.html#a8e6396a377235ed8f76339fb4d1cff2c">has_base_trait</a>( <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>[i] ) ? <a class="code hl_define" href="color_8h.html#a06335ae0fce8233afdaa83378a48c1d5">c_green_yellow</a> : <a class="code hl_define" href="color_8h.html#a69714d5f48226fc8bdf1f072f09b40f2">c_light_green_yellow</a>;</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>                        <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = <a class="code hl_function" href="classCharacter.html#a8e6396a377235ed8f76339fb4d1cff2c">has_base_trait</a>( <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>[i] ) ? <a class="code hl_define" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a> : <a class="code hl_define" href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a>;</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>                    }</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>                    <span class="keywordflow">if</span>( is_highlighted &amp;&amp; <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> == <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">mutation_tab_mode::active</a> ) {</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>                        <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = <a class="code hl_function" href="classCharacter.html#a8e6396a377235ed8f76339fb4d1cff2c">has_base_trait</a>( <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>[i] ) ? <a class="code hl_define" href="color_8h.html#af5adcf840687b9ab682d5275d5674221">c_red_yellow</a> : <a class="code hl_define" href="color_8h.html#aae96e3bcf2e22853021f93f016474154">c_light_red_yellow</a>;</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>                        <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = <a class="code hl_function" href="classCharacter.html#a8e6396a377235ed8f76339fb4d1cff2c">has_base_trait</a>( <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>[i] ) ? <a class="code hl_define" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> : <a class="code hl_define" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a>;</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>                    }</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>                }</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>                <span class="comment">// TODO: track resource(s) used and specify</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>                <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( wBio, <a class="code hl_struct" href="structpoint.html">point</a>( second_column, list_start_y + i - scroll_position ),</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>                          <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, td.key );</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>                std::string mut_desc;</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>                mut_desc += md.<a class="code hl_function" href="structmutation__branch.html#a13305ba1184f2074399b71e279f223c1">name</a>();</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>                <span class="keywordflow">if</span>( md.<a class="code hl_variable" href="structmutation__branch.html#a3d5ac4ccc031223bdbdc90094c2a3a7b">cost</a> &gt; 0 &amp;&amp; md.<a class="code hl_variable" href="structmutation__branch.html#aba65771147234d225c6615c5dcfda213">cooldown</a> &gt; 0 ) {</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>                    <span class="comment">//~ RU means Resource Units</span></div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>                    mut_desc += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; - %d RU / %d turns&quot;</span> ),</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>                                               md.<a class="code hl_variable" href="structmutation__branch.html#a3d5ac4ccc031223bdbdc90094c2a3a7b">cost</a>, md.<a class="code hl_variable" href="structmutation__branch.html#aba65771147234d225c6615c5dcfda213">cooldown</a> );</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( md.<a class="code hl_variable" href="structmutation__branch.html#a3d5ac4ccc031223bdbdc90094c2a3a7b">cost</a> &gt; 0 ) {</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>                    <span class="comment">//~ RU means Resource Units</span></div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>                    mut_desc += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; - %d RU&quot;</span> ), md.<a class="code hl_variable" href="structmutation__branch.html#a3d5ac4ccc031223bdbdc90094c2a3a7b">cost</a> );</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( md.<a class="code hl_variable" href="structmutation__branch.html#aba65771147234d225c6615c5dcfda213">cooldown</a> &gt; 0 ) {</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>                    mut_desc += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; - %d turns&quot;</span> ), md.<a class="code hl_variable" href="structmutation__branch.html#aba65771147234d225c6615c5dcfda213">cooldown</a> );</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>                }</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>                <span class="keywordflow">if</span>( td.powered ) {</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>                    mut_desc += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; - Active&quot;</span> );</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>                }</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>                <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wBio, <a class="code hl_struct" href="structpoint.html">point</a>( second_column + 2, list_start_y + i - scroll_position ),</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>                           <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, mut_desc );</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>            }</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>        }</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span> </div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>        <a class="code hl_function" href="output_8cpp.html#a37db5c581b2a20faa11b14164de305df">draw_scrollbar</a>( wBio, scroll_position, list_height, mutations_count,</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>                        <a class="code hl_struct" href="structpoint.html">point</a>( 0, list_start_y ), <a class="code hl_define" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( wBio );</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>        <a class="code hl_function" href="mutation__ui_8cpp.html#aecf71e23a35d1b0fbf2b28e6b4700a70">show_mutations_titlebar</a>( w_title, menu_mode, ctxt );</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span> </div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>        <span class="keywordflow">if</span>( menu_mode == <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1a1fe0ff1bbfd7ca5705dcadfeb6cd3d15">mutation_menu_mode::examining</a> &amp;&amp; examine_id.<a class="code hl_function" href="classcata_1_1optional.html#ad5b847e0e2f1db1387a10bac3751ccf4">has_value</a>() ) {</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>            <a class="code hl_function" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w_description );</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>            <a class="code hl_function" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( w_description, <a class="code hl_variable" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, WIDTH - 2, <a class="code hl_define" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>, examine_id.<a class="code hl_function" href="classcata_1_1optional.html#aeb8e2c36d85751ab0ddd296a2496b78c">value</a>()-&gt;desc() );</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>            <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_description );</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>        }</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    } );</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span> </div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    power_mut_ui_result <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    <span class="keywordtype">bool</span> exit = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    <span class="keywordflow">while</span>( !exit ) {</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>        recalc_max_scroll_position();</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>        <a class="code hl_function" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>        <span class="keywordtype">bool</span> handled = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>        <span class="keyword">const</span> std::string <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = ctxt.handle_input();</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structinput__event.html">input_event</a> evt = ctxt.get_raw_input();</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        <span class="keywordflow">if</span>( evt.<a class="code hl_variable" href="structinput__event.html#afa9e110af2c2ac3eefd1ffa4e8c8d469">type</a> == <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a6e602eaf115b09c2e4380ce6fc123839">CATA_INPUT_KEYBOARD</a> &amp;&amp; !evt.<a class="code hl_variable" href="structinput__event.html#a343e2146133dfc743895676f122f7ae1">sequence</a>.empty() ) {</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> ch = evt.<a class="code hl_function" href="structinput__event.html#a65c76de4d19d30a3b9fe386d7ee0aaed">get_first_input</a>();</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>            <span class="keywordflow">if</span>( ch == <span class="charliteral">&#39; &#39;</span> ) { <span class="comment">//skip if space is pressed (space is used as an empty hotkey)</span></div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>            }</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>            <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> mut_id = <a class="code hl_function" href="classCharacter.html#a994d6d08223ced277eba3f347db02417">trait_by_invlet</a>( ch );</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>            <span class="keywordflow">if</span>( !mut_id.<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structmutation__branch.html">mutation_branch</a> &amp;mut_data = mut_id.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>                <span class="keywordflow">switch</span>( menu_mode ) {</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1ac71a14a0fff89b7d853a6c70c6ac612c">mutation_menu_mode::reassigning</a>: {</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>                        <a class="code hl_class" href="classquery__popup.html">query_popup</a> pop;</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>                        pop.<a class="code hl_function" href="classquery__popup.html#afaf11ff265d2f47f0b7f7b2e0fd54088">message</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s; enter new letter.&quot;</span> ),</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>                                     <a class="code hl_function" href="structmutation__branch.html#a428a4c5379f37bfe78da8a1e54fd4b04">mutation_branch::get_name</a>( mut_id ) )</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>                        .<a class="code hl_function" href="classquery__popup.html#a0fcdd9c0efe58e77f0dbebe2cf0a0a92">context</a>( <span class="stringliteral">&quot;POPUP_WAIT&quot;</span> )</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>                        .<a class="code hl_function" href="classquery__popup.html#aaf394e7bc1c55779a9527e98d5a350d9">allow_cancel</a>( <span class="keyword">true</span> )</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>                        .<a class="code hl_function" href="classquery__popup.html#a300a83eed29b136671590531a23cfd48">allow_anykey</a>( <span class="keyword">true</span> );</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span> </div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>                        <span class="keywordtype">bool</span> pop_exit = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>                        <span class="keywordflow">while</span>( !pop_exit ) {</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>                            <span class="keyword">const</span> <a class="code hl_struct" href="structquery__popup_1_1result.html">query_popup::result</a> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = pop.<a class="code hl_function" href="classquery__popup.html#aa26700877b0cf2a70bb3af9926c9588b">query</a>();</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>                            <span class="keywordtype">bool</span> pop_handled = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>                            <span class="keywordflow">if</span>( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.evt.type == <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a6e602eaf115b09c2e4380ce6fc123839">CATA_INPUT_KEYBOARD</a> &amp;&amp; !<a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.evt.sequence.empty() ) {</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>                                <span class="keyword">const</span> <span class="keywordtype">int</span> newch = <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.evt.get_first_input();</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>                                <span class="keywordflow">if</span>( <a class="code hl_variable" href="mutation__ui_8cpp.html#ad3e13a302fd3dee9054bc059deb0e268">mutation_chars</a>.<a class="code hl_function" href="classinvlet__wrapper.html#a7c0b7eaf67cf02bae041ada17aa1f71d">valid</a>( newch ) ) {</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>                                    <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> other_mut_id = <a class="code hl_function" href="classCharacter.html#a994d6d08223ced277eba3f347db02417">trait_by_invlet</a>( newch );</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>                                    <span class="keywordflow">if</span>( !other_mut_id.<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>                                        <a class="code hl_function" href="namespacecata.html#a097b137e977a6b843c0dada2c8b19611">std::swap</a>( <a class="code hl_variable" href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">my_mutations</a>[mut_id].key, <a class="code hl_variable" href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">my_mutations</a>[other_mut_id].key );</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>                                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>                                        <a class="code hl_variable" href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">my_mutations</a>[mut_id].key = newch;</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>                                    }</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>                                    pop_exit = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>                                    pop_handled = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>                                }</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>                            }</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>                            <span class="keywordflow">if</span>( !pop_handled ) {</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>                                <span class="keywordflow">if</span>( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.action == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>                                    pop_exit = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>                                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.action != <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> &amp;&amp;</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>                                           <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.evt.type == <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a6e602eaf115b09c2e4380ce6fc123839">CATA_INPUT_KEYBOARD</a> ) {</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>                                    <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Invalid mutation letter.  Only those characters are valid:\n\n%s&quot;</span> ),</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>                                           <a class="code hl_variable" href="mutation__ui_8cpp.html#ad3e13a302fd3dee9054bc059deb0e268">mutation_chars</a>.<a class="code hl_function" href="classinvlet__wrapper.html#acd1a92cefe6ad50b5b0c9b90ea377ef6">get_allowed_chars</a>() );</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>                                }</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>                            }</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>                        }</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span> </div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>                        menu_mode = <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1a948eea612456562bf255d3a9c59c40a3">mutation_menu_mode::activating</a>;</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>                        examine_id = <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>                        <span class="comment">// TODO: show a message like when reassigning a key to an item?</span></div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>                    }</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1a948eea612456562bf255d3a9c59c40a3">mutation_menu_mode::activating</a>: {</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>                        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1value__ptr.html">cata::value_ptr&lt;mut_transform&gt;</a> &amp;trans = mut_data.<a class="code hl_variable" href="structmutation__branch.html#aa09d75954d8f6d0f3d8dd041659a7c37">transform</a>;</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>                        <span class="keywordflow">if</span>( mut_data.<a class="code hl_variable" href="structmutation__branch.html#a7ec9122c0848638dacf1c49911caf945">activated</a> || trans ) {</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>                            <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">my_mutations</a>[mut_id].powered ) {</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>                                <span class="keywordflow">if</span>( trans &amp;&amp; !trans-&gt;msg_transform.empty() ) {</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>                                    <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, trans-&gt;msg_transform );</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>                                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>                                    <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You stop using your %s.&quot;</span> ), mut_data.<a class="code hl_function" href="structmutation__branch.html#a13305ba1184f2074399b71e279f223c1">name</a>() );</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>                                }</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>                                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.cmd = <a class="code hl_enumvalue" href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859a109fec06829bd79d222cfc8af52aaaf1">power_mut_ui_cmd::Deactivate</a>;</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>                                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.mut = mut_id;</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>                                exit = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>                            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="mutation_8cpp.html#a859a80724f53b1970d8b75279e5a4e3c">can_use_mutation_warn</a>( mut_id, *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>                                <span class="keywordflow">if</span>( trans &amp;&amp; !trans-&gt;msg_transform.empty() ) {</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>                                    <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, trans-&gt;msg_transform );</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>                                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>                                    <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You activate your %s.&quot;</span> ), mut_data.<a class="code hl_function" href="structmutation__branch.html#a13305ba1184f2074399b71e279f223c1">name</a>() );</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>                                }</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>                                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.cmd = <a class="code hl_enumvalue" href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859aa13367a8e2a3f3bf4f3409079e3fdf87">power_mut_ui_cmd::Activate</a>;</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>                                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.mut = mut_id;</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>                                exit = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>                            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>                                <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel like using your %s would kill you!&quot;</span> ),</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>                                       mut_data.<a class="code hl_function" href="structmutation__branch.html#a13305ba1184f2074399b71e279f223c1">name</a>() );</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>                            }</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>                            <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot activate %s!  To read a description of &quot;</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>                                      <span class="stringliteral">&quot;%s, press &#39;!&#39;, then &#39;%c&#39;.&quot;</span> ),</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>                                   mut_data.<a class="code hl_function" href="structmutation__branch.html#a13305ba1184f2074399b71e279f223c1">name</a>(), mut_data.<a class="code hl_function" href="structmutation__branch.html#a13305ba1184f2074399b71e279f223c1">name</a>(), <a class="code hl_variable" href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">my_mutations</a>[mut_id].key );</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>                        }</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>                    }</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1a1fe0ff1bbfd7ca5705dcadfeb6cd3d15">mutation_menu_mode::examining</a>:</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>                        <span class="comment">// Describing mutations, not activating them!</span></div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>                        examine_id = mut_id;</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>                }</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>                handled = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="mutation__ui_8cpp.html#ad3e13a302fd3dee9054bc059deb0e268">mutation_chars</a>.<a class="code hl_function" href="classinvlet__wrapper.html#a7c0b7eaf67cf02bae041ada17aa1f71d">valid</a>( ch ) ) {</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>                handled = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>            }</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>        }</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>        <span class="keywordflow">if</span>( !handled ) {</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span> </div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>            <span class="comment">// Essentially, up-down navigation adapted from the bionics_ui.cpp, with a bunch of extra workarounds to keep functionality</span></div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span> </div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;DOWN&quot;</span> ) {</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span> </div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>                <span class="keywordtype">int</span> lowerlim;</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span> </div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>                <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> == <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">mutation_tab_mode::passive</a> ) {</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>                    lowerlim = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>.size() ) - 1;</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> == <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">mutation_tab_mode::active</a> ) {</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>                    lowerlim = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>.size() ) - 1;</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>                }</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span> </div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>                <span class="keywordflow">if</span>( cursor &lt; lowerlim ) {</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>                    cursor++;</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>                    cursor = 0;</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>                }</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>                <span class="keywordflow">if</span>( scroll_position &lt; max_scroll_position &amp;&amp;</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>                    cursor - scroll_position &gt; list_height - half_list_view_location ) {</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>                    scroll_position++;</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>                }</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>                <span class="keywordflow">if</span>( scroll_position &gt; 0 &amp;&amp; cursor - scroll_position &lt; half_list_view_location ) {</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>                    scroll_position = std::max( cursor - half_list_view_location, 0 );</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>                }</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span> </div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>                <span class="comment">// Draw the description, shabby workaround</span></div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>                examine_id = <a class="code hl_function" href="mutation__ui_8cpp.html#af276d9c0371fe03e732e53d4654a54ee">GetTrait</a>( <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>, <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>, cursor, <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> );</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span> </div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;UP&quot;</span> ) {</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span> </div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>                <span class="keywordtype">int</span> lim;</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>                <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> == <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">mutation_tab_mode::passive</a> ) {</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>                    lim = <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>.size() - 1;</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> == <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">mutation_tab_mode::active</a> ) {</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>                    lim = <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>.size() - 1;</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>                }</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>                <span class="keywordflow">if</span>( cursor &gt; 0 ) {</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>                    cursor--;</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>                    cursor = lim;</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>                }</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>                <span class="keywordflow">if</span>( scroll_position &gt; 0 &amp;&amp; cursor - scroll_position &lt; half_list_view_location ) {</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>                    scroll_position--;</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>                }</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>                <span class="keywordflow">if</span>( scroll_position &lt; max_scroll_position &amp;&amp;</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>                    cursor - scroll_position &gt; list_height - half_list_view_location ) {</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>                    scroll_position =</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>                        std::max( std::min&lt;int&gt;( lim + 1 - list_height,</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>                                                 cursor - half_list_view_location ), 0 );</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>                }</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span> </div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>                examine_id = <a class="code hl_function" href="mutation__ui_8cpp.html#af276d9c0371fe03e732e53d4654a54ee">GetTrait</a>( <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>, <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>, cursor, <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> );</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;NEXT_TAB&quot;</span> || <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;PREV_TAB&quot;</span> ) {</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>                <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> == <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">mutation_tab_mode::active</a> &amp;&amp; !<a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>.empty() ) {</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>                    <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> = <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">mutation_tab_mode::passive</a>;</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> == <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">mutation_tab_mode::passive</a> &amp;&amp; !<a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>.empty() ) {</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>                    <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> = <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">mutation_tab_mode::active</a>;</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>                }</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>                examine_id = <a class="code hl_function" href="mutation__ui_8cpp.html#af276d9c0371fe03e732e53d4654a54ee">GetTrait</a>( <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>, <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>, cursor, <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> );</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>                scroll_position = 0;</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>                cursor = 0;</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CONFIRM&quot;</span> ) {</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>                <a class="code hl_class" href="classstring__id.html">trait_id</a> mut_id;</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>                <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> == <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">mutation_tab_mode::active</a> ) {</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>                    mut_id = <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>[cursor];</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> == <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">mutation_tab_mode::passive</a> ) {</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>                    mut_id = <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>[cursor];</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>                }</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>                <span class="keywordflow">if</span>( !mut_id.<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>                    <span class="keyword">const</span> <a class="code hl_struct" href="structmutation__branch.html">mutation_branch</a> &amp;mut_data = mut_id.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>                    <span class="keywordflow">switch</span>( menu_mode ) {</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1ac71a14a0fff89b7d853a6c70c6ac612c">mutation_menu_mode::reassigning</a>: {</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>                            <a class="code hl_class" href="classquery__popup.html">query_popup</a> pop;</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>                            pop.<a class="code hl_function" href="classquery__popup.html#afaf11ff265d2f47f0b7f7b2e0fd54088">message</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s; enter new letter.&quot;</span> ),</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>                                         <a class="code hl_function" href="structmutation__branch.html#a428a4c5379f37bfe78da8a1e54fd4b04">mutation_branch::get_name</a>( mut_id ) )</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>                            .<a class="code hl_function" href="classquery__popup.html#a0fcdd9c0efe58e77f0dbebe2cf0a0a92">context</a>( <span class="stringliteral">&quot;POPUP_WAIT&quot;</span> )</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>                            .<a class="code hl_function" href="classquery__popup.html#aaf394e7bc1c55779a9527e98d5a350d9">allow_cancel</a>( <span class="keyword">true</span> )</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>                            .<a class="code hl_function" href="classquery__popup.html#a300a83eed29b136671590531a23cfd48">allow_anykey</a>( <span class="keyword">true</span> );</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span> </div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>                            <span class="keywordtype">bool</span> pop_exit = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>                            <span class="keywordflow">while</span>( !pop_exit ) {</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>                                <span class="keyword">const</span> <a class="code hl_struct" href="structquery__popup_1_1result.html">query_popup::result</a> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = pop.<a class="code hl_function" href="classquery__popup.html#aa26700877b0cf2a70bb3af9926c9588b">query</a>();</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>                                <span class="keywordtype">bool</span> pop_handled = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>                                <span class="keywordflow">if</span>( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.evt.type == <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a6e602eaf115b09c2e4380ce6fc123839">CATA_INPUT_KEYBOARD</a> &amp;&amp; !<a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.evt.sequence.empty() ) {</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>                                    <span class="keyword">const</span> <span class="keywordtype">int</span> newch = <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.evt.get_first_input();</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>                                    <span class="keywordflow">if</span>( <a class="code hl_variable" href="mutation__ui_8cpp.html#ad3e13a302fd3dee9054bc059deb0e268">mutation_chars</a>.<a class="code hl_function" href="classinvlet__wrapper.html#a7c0b7eaf67cf02bae041ada17aa1f71d">valid</a>( newch ) ) {</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>                                        <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> other_mut_id = <a class="code hl_function" href="classCharacter.html#a994d6d08223ced277eba3f347db02417">trait_by_invlet</a>( newch );</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>                                        <span class="keywordflow">if</span>( !other_mut_id.<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>                                            <a class="code hl_function" href="namespacecata.html#a097b137e977a6b843c0dada2c8b19611">std::swap</a>( <a class="code hl_variable" href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">my_mutations</a>[mut_id].key, <a class="code hl_variable" href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">my_mutations</a>[other_mut_id].key );</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>                                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>                                            <a class="code hl_variable" href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">my_mutations</a>[mut_id].key = newch;</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>                                        }</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>                                        pop_exit = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>                                        pop_handled = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>                                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( newch == <span class="charliteral">&#39; &#39;</span> ) {</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>                                        <a class="code hl_variable" href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">my_mutations</a>[mut_id].key = newch;</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>                                        pop_exit = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>                                        pop_handled = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>                                    }</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>                                }</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>                                <span class="keywordflow">if</span>( !pop_handled ) {</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>                                    <span class="keywordflow">if</span>( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.action == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>                                        pop_exit = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>                                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.action != <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> &amp;&amp;</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>                                               <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.evt.type == <a class="code hl_enumvalue" href="input_8h.html#a7714eed017e41648533818b7ed636974a6e602eaf115b09c2e4380ce6fc123839">CATA_INPUT_KEYBOARD</a> ) {</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>                                        <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Invalid mutation letter.  Only those characters are valid:\n\n%s&quot;</span> ),</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>                                               <a class="code hl_variable" href="mutation__ui_8cpp.html#ad3e13a302fd3dee9054bc059deb0e268">mutation_chars</a>.<a class="code hl_function" href="classinvlet__wrapper.html#acd1a92cefe6ad50b5b0c9b90ea377ef6">get_allowed_chars</a>() );</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>                                    }</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>                                }</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>                            }</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span> </div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>                            menu_mode = <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1a948eea612456562bf255d3a9c59c40a3">mutation_menu_mode::activating</a>;</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>                            examine_id = <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>                            <span class="comment">// TODO: show a message like when reassigning a key to an item?</span></div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>                        }</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1a948eea612456562bf255d3a9c59c40a3">mutation_menu_mode::activating</a>: {</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>                            <span class="keywordflow">if</span>( mut_data.<a class="code hl_variable" href="structmutation__branch.html#a7ec9122c0848638dacf1c49911caf945">activated</a> ) {</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>                                <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">my_mutations</a>[mut_id].powered ) {</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>                                    <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You stop using your %s.&quot;</span> ), mut_data.<a class="code hl_function" href="structmutation__branch.html#a13305ba1184f2074399b71e279f223c1">name</a>() );</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span> </div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>                                    <a class="code hl_function" href="classCharacter.html#a74fe859b4fd584a4545440c20b5d2fac">deactivate_mutation</a>( mut_id );</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>                                    <span class="comment">// Action done, leave screen</span></div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>                                    exit = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>                                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ( !mut_data.<a class="code hl_variable" href="structmutation__branch.html#a8941954c7a99dfa4f8d61f0d0e569af2">hunger</a> || <a class="code hl_function" href="classCharacter.html#a42c4ba47635e0659553c233c399da84a">get_kcal_percent</a>() &gt;= 0.8f ) &amp;&amp;</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>                                           ( !mut_data.<a class="code hl_variable" href="structmutation__branch.html#a1686091e055c940071983b1824cc6fd2">thirst</a> || <a class="code hl_function" href="classCharacter.html#a7ca6c670844c9fd8c419c474788a7bf7">get_thirst</a>() &lt;= 400 ) &amp;&amp;</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>                                           ( !mut_data.<a class="code hl_variable" href="structmutation__branch.html#ac0b680896d3134f7bb0dfb4bac02f6ce">fatigue</a> || <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() &lt;= 400 ) ) {</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>                                    <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You activate your %s.&quot;</span> ), mut_data.<a class="code hl_function" href="structmutation__branch.html#a13305ba1184f2074399b71e279f223c1">name</a>() );</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span> </div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>                                    <a class="code hl_function" href="classCharacter.html#aed857a178c749c1159a58cd32b5b5749">activate_mutation</a>( mut_id );</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>                                    <span class="comment">// Action done, leave screen</span></div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>                                    exit = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>                                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>                                    <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You don&#39;t have enough in you to activate your %s!&quot;</span> ), mut_data.<a class="code hl_function" href="structmutation__branch.html#a13305ba1184f2074399b71e279f223c1">name</a>() );</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>                                }</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>                            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>                                <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot activate %s!  To read a description of &quot;</span></div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>                                          <span class="stringliteral">&quot;%s, press &#39;!&#39;, then &#39;%c&#39;.&quot;</span> ),</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>                                       mut_data.<a class="code hl_function" href="structmutation__branch.html#a13305ba1184f2074399b71e279f223c1">name</a>(), mut_data.<a class="code hl_function" href="structmutation__branch.html#a13305ba1184f2074399b71e279f223c1">name</a>(), <a class="code hl_variable" href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">my_mutations</a>[mut_id].key );</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>                            }</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>                        }</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1a1fe0ff1bbfd7ca5705dcadfeb6cd3d15">mutation_menu_mode::examining</a>:</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>                            <span class="comment">// Describing mutations, not activating them!</span></div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>                            examine_id = mut_id;</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>                    }</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>                }</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;REASSIGN&quot;</span> ) {</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>                menu_mode = <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1ac71a14a0fff89b7d853a6c70c6ac612c">mutation_menu_mode::reassigning</a>;</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>                examine_id = <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_EXAMINE&quot;</span> ) {</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>                <span class="comment">// switches between activation and examination</span></div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>                menu_mode = menu_mode == <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1a948eea612456562bf255d3a9c59c40a3">mutation_menu_mode::activating</a> ?</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>                            <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1a1fe0ff1bbfd7ca5705dcadfeb6cd3d15">mutation_menu_mode::examining</a> : <a class="code hl_enumvalue" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1a948eea612456562bf255d3a9c59c40a3">mutation_menu_mode::activating</a>;</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>                examine_id = <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.cmd = <a class="code hl_enumvalue" href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859afef46e5063ce3dc78b8ae64fa474241d">power_mut_ui_cmd::Exit</a>;</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>                exit = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>            }</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>        }</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>    }</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span> </div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>}</div>
<div class="ttc" id="aclassCharacter_html_a8e6396a377235ed8f76339fb4d1cff2c"><div class="ttname"><a href="classCharacter.html#a8e6396a377235ed8f76339fb4d1cff2c">Character::has_base_trait</a></div><div class="ttdeci">bool has_base_trait(const trait_id &amp;b) const</div><div class="ttdoc">Returns true if the player has the entered starting trait.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00121">mutation.cpp:121</a></div></div>
<div class="ttc" id="aclassCharacter_html_a994d6d08223ced277eba3f347db02417"><div class="ttname"><a href="classCharacter.html#a994d6d08223ced277eba3f347db02417">Character::trait_by_invlet</a></div><div class="ttdeci">trait_id trait_by_invlet(int ch) const</div><div class="ttdoc">Returns the trait id with the given invlet, or an empty string if no trait has that invlet.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00629">mutation.cpp:629</a></div></div>
<div class="ttc" id="aclassCharacter_html_acd32701e69ce9ed1571f541ff5b6dcd7"><div class="ttname"><a href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">Character::my_mutations</a></div><div class="ttdeci">std::unordered_map&lt; trait_id, trait_data &gt; my_mutations</div><div class="ttdoc">Traits / mutations of the character.</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02147">character.h:2147</a></div></div>
<div class="ttc" id="aclasscata_1_1optional_html_ad5b847e0e2f1db1387a10bac3751ccf4"><div class="ttname"><a href="classcata_1_1optional.html#ad5b847e0e2f1db1387a10bac3751ccf4">cata::optional::has_value</a></div><div class="ttdeci">constexpr bool has_value() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00120">optional.h:120</a></div></div>
<div class="ttc" id="aclasscata_1_1optional_html_aeb8e2c36d85751ab0ddd296a2496b78c"><div class="ttname"><a href="classcata_1_1optional.html#aeb8e2c36d85751ab0ddd296a2496b78c">cata::optional::value</a></div><div class="ttdeci">T &amp; value()</div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00124">optional.h:124</a></div></div>
<div class="ttc" id="aclasscata_1_1value__ptr_html"><div class="ttname"><a href="classcata_1_1value__ptr.html">cata::value_ptr</a></div><div class="ttdoc">This class is essentially a copyable unique pointer.</div><div class="ttdef"><b>Definition:</b> <a href="value__ptr_8h_source.html#l00018">value_ptr.h:19</a></div></div>
<div class="ttc" id="aclassquery__popup_html"><div class="ttname"><a href="classquery__popup.html">query_popup</a></div><div class="ttdoc">UI class for displaying messages or querying player input with popups.</div><div class="ttdef"><b>Definition:</b> <a href="popup_8h_source.html#l00038">popup.h:39</a></div></div>
<div class="ttc" id="aclassquery__popup_html_a0fcdd9c0efe58e77f0dbebe2cf0a0a92"><div class="ttname"><a href="classquery__popup.html#a0fcdd9c0efe58e77f0dbebe2cf0a0a92">query_popup::context</a></div><div class="ttdeci">query_popup &amp; context(const std::string &amp;cat)</div><div class="ttdoc">Specify the input context.</div><div class="ttdef"><b>Definition:</b> <a href="popup_8cpp_source.html#l00021">popup.cpp:21</a></div></div>
<div class="ttc" id="aclassquery__popup_html_a300a83eed29b136671590531a23cfd48"><div class="ttname"><a href="classquery__popup.html#a300a83eed29b136671590531a23cfd48">query_popup::allow_anykey</a></div><div class="ttdeci">query_popup &amp; allow_anykey(bool allow)</div><div class="ttdoc">Specify whether non-option actions can be returned.</div><div class="ttdef"><b>Definition:</b> <a href="popup_8cpp_source.html#l00045">popup.cpp:45</a></div></div>
<div class="ttc" id="aclassquery__popup_html_aa26700877b0cf2a70bb3af9926c9588b"><div class="ttname"><a href="classquery__popup.html#aa26700877b0cf2a70bb3af9926c9588b">query_popup::query</a></div><div class="ttdeci">result query()</div><div class="ttdoc">Query until a valid action or an error happens and return the result.</div><div class="ttdef"><b>Definition:</b> <a href="popup_8cpp_source.html#l00348">popup.cpp:348</a></div></div>
<div class="ttc" id="aclassquery__popup_html_aaf394e7bc1c55779a9527e98d5a350d9"><div class="ttname"><a href="classquery__popup.html#aaf394e7bc1c55779a9527e98d5a350d9">query_popup::allow_cancel</a></div><div class="ttdeci">query_popup &amp; allow_cancel(bool allow)</div><div class="ttdoc">Specify whether an implicit cancel option is allowed.</div><div class="ttdef"><b>Definition:</b> <a href="popup_8cpp_source.html#l00052">popup.cpp:52</a></div></div>
<div class="ttc" id="aclassquery__popup_html_afaf11ff265d2f47f0b7f7b2e0fd54088"><div class="ttname"><a href="classquery__popup.html#afaf11ff265d2f47f0b7f7b2e0fd54088">query_popup::message</a></div><div class="ttdeci">query_popup &amp; message(const std::string &amp;fmt, Args &amp;&amp;... args)</div><div class="ttdoc">Specify the query message.</div><div class="ttdef"><b>Definition:</b> <a href="popup_8h_source.html#l00091">popup.h:91</a></div></div>
<div class="ttc" id="acolor_8h_html_a06335ae0fce8233afdaa83378a48c1d5"><div class="ttname"><a href="color_8h.html#a06335ae0fce8233afdaa83378a48c1d5">c_green_yellow</a></div><div class="ttdeci">#define c_green_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00126">color.h:126</a></div></div>
<div class="ttc" id="acolor_8h_html_a1cb87e74156596960610fd0a9ace766d"><div class="ttname"><a href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a></div><div class="ttdeci">#define c_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00022">color.h:22</a></div></div>
<div class="ttc" id="acolor_8h_html_a2236aa1fe66b707a104f19ad45c23230"><div class="ttname"><a href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a></div><div class="ttdeci">#define c_light_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00028">color.h:28</a></div></div>
<div class="ttc" id="acolor_8h_html_a69714d5f48226fc8bdf1f072f09b40f2"><div class="ttname"><a href="color_8h.html#a69714d5f48226fc8bdf1f072f09b40f2">c_light_green_yellow</a></div><div class="ttdeci">#define c_light_green_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00127">color.h:127</a></div></div>
<div class="ttc" id="acolor_8h_html_a7ab0df86aa6ff0c86d152fbaa4b4b317"><div class="ttname"><a href="color_8h.html#a7ab0df86aa6ff0c86d152fbaa4b4b317">c_cyan_yellow</a></div><div class="ttdeci">#define c_cyan_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00134">color.h:134</a></div></div>
<div class="ttc" id="acolor_8h_html_a894265dad49331c44392826fc52b848f"><div class="ttname"><a href="color_8h.html#a894265dad49331c44392826fc52b848f">c_light_cyan</a></div><div class="ttdeci">#define c_light_cyan</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00030">color.h:30</a></div></div>
<div class="ttc" id="acolor_8h_html_a95b67111e2e4be7fcac981d2b7b208f6"><div class="ttname"><a href="color_8h.html#a95b67111e2e4be7fcac981d2b7b208f6">c_cyan</a></div><div class="ttdeci">#define c_cyan</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00024">color.h:24</a></div></div>
<div class="ttc" id="acolor_8h_html_aab11865a3631a7ce78da82b7fb386b71"><div class="ttname"><a href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a></div><div class="ttdeci">#define c_light_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00027">color.h:27</a></div></div>
<div class="ttc" id="acolor_8h_html_aae96e3bcf2e22853021f93f016474154"><div class="ttname"><a href="color_8h.html#aae96e3bcf2e22853021f93f016474154">c_light_red_yellow</a></div><div class="ttdeci">#define c_light_red_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00125">color.h:125</a></div></div>
<div class="ttc" id="acolor_8h_html_aefe8d43ae67eeed62b6a895d84951c17"><div class="ttname"><a href="color_8h.html#aefe8d43ae67eeed62b6a895d84951c17">c_light_cyan_yellow</a></div><div class="ttdeci">#define c_light_cyan_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00135">color.h:135</a></div></div>
<div class="ttc" id="acolor_8h_html_af5adcf840687b9ab682d5275d5674221"><div class="ttname"><a href="color_8h.html#af5adcf840687b9ab682d5275d5674221">c_red_yellow</a></div><div class="ttdeci">#define c_red_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00124">color.h:124</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a></div><div class="ttdeci">@ m_neutral</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00260">enums.h:260</a></div></div>
<div class="ttc" id="ainput_8h_html_a7714eed017e41648533818b7ed636974a6e602eaf115b09c2e4380ce6fc123839"><div class="ttname"><a href="input_8h.html#a7714eed017e41648533818b7ed636974a6e602eaf115b09c2e4380ce6fc123839">CATA_INPUT_KEYBOARD</a></div><div class="ttdeci">@ CATA_INPUT_KEYBOARD</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00082">input.h:82</a></div></div>
<div class="ttc" id="amutation_8cpp_html_a859a80724f53b1970d8b75279e5a4e3c"><div class="ttname"><a href="mutation_8cpp.html#a859a80724f53b1970d8b75279e5a4e3c">can_use_mutation_warn</a></div><div class="ttdeci">bool can_use_mutation_warn(const trait_id &amp;mut, const Character &amp;character)</div><div class="ttdoc">Calls can_use_mutation and if it fails, print a standard message.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l01712">mutation.cpp:1712</a></div></div>
<div class="ttc" id="amutation__ui_8cpp_html_a402f65070aa900e68cd18960d2685a76"><div class="ttname"><a href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76">mutation_tab_mode</a></div><div class="ttdeci">mutation_tab_mode</div><div class="ttdef"><b>Definition:</b> <a href="mutation__ui_8cpp_source.html#l00042">mutation_ui.cpp:42</a></div></div>
<div class="ttc" id="amutation__ui_8cpp_html_a402f65070aa900e68cd18960d2685a76a334c4a4c42fdb79d7ebc3e73b517e6f8"><div class="ttname"><a href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a334c4a4c42fdb79d7ebc3e73b517e6f8">mutation_tab_mode::none</a></div><div class="ttdeci">@ none</div></div>
<div class="ttc" id="amutation__ui_8cpp_html_ad3e13a302fd3dee9054bc059deb0e268"><div class="ttname"><a href="mutation__ui_8cpp.html#ad3e13a302fd3dee9054bc059deb0e268">mutation_chars</a></div><div class="ttdeci">const invlet_wrapper mutation_chars(&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\&quot;#&amp;()*+./:;@[\\]^_{|}&quot;)</div></div>
<div class="ttc" id="amutation__ui_8cpp_html_ae617453f924fe902f4b6504c16d90b76"><div class="ttname"><a href="mutation__ui_8cpp.html#ae617453f924fe902f4b6504c16d90b76">draw_exam_window</a></div><div class="ttdeci">static void draw_exam_window(const catacurses::window &amp;win, const int border_y)</div><div class="ttdef"><b>Definition:</b> <a href="mutation__ui_8cpp_source.html#l00024">mutation_ui.cpp:24</a></div></div>
<div class="ttc" id="amutation__ui_8cpp_html_aecf71e23a35d1b0fbf2b28e6b4700a70"><div class="ttname"><a href="mutation__ui_8cpp.html#aecf71e23a35d1b0fbf2b28e6b4700a70">show_mutations_titlebar</a></div><div class="ttdeci">static void show_mutations_titlebar(const catacurses::window &amp;window, const mutation_menu_mode menu_mode, const input_context &amp;ctxt)</div><div class="ttdef"><b>Definition:</b> <a href="mutation__ui_8cpp_source.html#l00061">mutation_ui.cpp:61</a></div></div>
<div class="ttc" id="amutation__ui_8cpp_html_af276d9c0371fe03e732e53d4654a54ee"><div class="ttname"><a href="mutation__ui_8cpp.html#af276d9c0371fe03e732e53d4654a54ee">GetTrait</a></div><div class="ttdeci">static trait_id GetTrait(std::vector&lt; trait_id &gt; active, std::vector&lt; trait_id &gt; passive, int cursor, mutation_tab_mode tab_mode)</div><div class="ttdef"><b>Definition:</b> <a href="mutation__ui_8cpp_source.html#l00049">mutation_ui.cpp:49</a></div></div>
<div class="ttc" id="amutation__ui_8cpp_html_afaa5795d732cc701e687f01178799df1"><div class="ttname"><a href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1">mutation_menu_mode</a></div><div class="ttdeci">mutation_menu_mode</div><div class="ttdef"><b>Definition:</b> <a href="mutation__ui_8cpp_source.html#l00037">mutation_ui.cpp:37</a></div></div>
<div class="ttc" id="amutation__ui_8cpp_html_afaa5795d732cc701e687f01178799df1a1fe0ff1bbfd7ca5705dcadfeb6cd3d15"><div class="ttname"><a href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1a1fe0ff1bbfd7ca5705dcadfeb6cd3d15">mutation_menu_mode::examining</a></div><div class="ttdeci">@ examining</div></div>
<div class="ttc" id="amutation__ui_8cpp_html_afaa5795d732cc701e687f01178799df1a948eea612456562bf255d3a9c59c40a3"><div class="ttname"><a href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1a948eea612456562bf255d3a9c59c40a3">mutation_menu_mode::activating</a></div><div class="ttdeci">@ activating</div></div>
<div class="ttc" id="amutation__ui_8cpp_html_afaa5795d732cc701e687f01178799df1ac71a14a0fff89b7d853a6c70c6ac612c"><div class="ttname"><a href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1ac71a14a0fff89b7d853a6c70c6ac612c">mutation_menu_mode::reassigning</a></div><div class="ttdeci">@ reassigning</div></div>
<div class="ttc" id="anamespacecata_html_ad05314667ac5d05f984aeeef26b9a87f"><div class="ttname"><a href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a></div><div class="ttdeci">static constexpr nullopt_t nullopt</div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00022">optional.h:22</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a378d993a574b6bf30ea509fa46de2142"><div class="ttname"><a href="namespacecatacurses.html#a378d993a574b6bf30ea509fa46de2142">catacurses::mvwhline</a></div><div class="ttdeci">void mvwhline(const window &amp;win, const point &amp;p, chtype ch, int n)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00152">ncurses_def.cpp:152</a></div></div>
<div class="ttc" id="aoutput_8h_html_a435355aeca1be3844e79fc4db8e691e1"><div class="ttname"><a href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a></div><div class="ttdeci">#define LINE_OXOX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00040">output.h:40</a></div></div>
<div class="ttc" id="aoutput_8h_html_a4b80f0039259ebe61dc2e58ca4b31043"><div class="ttname"><a href="output_8h.html#a4b80f0039259ebe61dc2e58ca4b31043">LINE_XXXO</a></div><div class="ttdeci">#define LINE_XXXO</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00045">output.h:45</a></div></div>
<div class="ttc" id="astructinput__event_html"><div class="ttname"><a href="structinput__event.html">input_event</a></div><div class="ttdoc">An instance of an input, like a keypress etc.</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00095">input.h:95</a></div></div>
<div class="ttc" id="astructinput__event_html_a343e2146133dfc743895676f122f7ae1"><div class="ttname"><a href="structinput__event.html#a343e2146133dfc743895676f122f7ae1">input_event::sequence</a></div><div class="ttdeci">std::vector&lt; int &gt; sequence</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00101">input.h:101</a></div></div>
<div class="ttc" id="astructinput__event_html_a65c76de4d19d30a3b9fe386d7ee0aaed"><div class="ttname"><a href="structinput__event.html#a65c76de4d19d30a3b9fe386d7ee0aaed">input_event::get_first_input</a></div><div class="ttdeci">int get_first_input() const</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00100">input.cpp:100</a></div></div>
<div class="ttc" id="astructinput__event_html_afa9e110af2c2ac3eefd1ffa4e8c8d469"><div class="ttname"><a href="structinput__event.html#afa9e110af2c2ac3eefd1ffa4e8c8d469">input_event::type</a></div><div class="ttdeci">input_event_t type</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00096">input.h:96</a></div></div>
<div class="ttc" id="astructmutation__branch_html_a1686091e055c940071983b1824cc6fd2"><div class="ttname"><a href="structmutation__branch.html#a1686091e055c940071983b1824cc6fd2">mutation_branch::thirst</a></div><div class="ttdeci">bool thirst</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00120">mutation.h:120</a></div></div>
<div class="ttc" id="astructmutation__branch_html_a3d5ac4ccc031223bdbdc90094c2a3a7b"><div class="ttname"><a href="structmutation__branch.html#a3d5ac4ccc031223bdbdc90094c2a3a7b">mutation_branch::cost</a></div><div class="ttdeci">int cost</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00125">mutation.h:125</a></div></div>
<div class="ttc" id="astructmutation__branch_html_a428a4c5379f37bfe78da8a1e54fd4b04"><div class="ttname"><a href="structmutation__branch.html#a428a4c5379f37bfe78da8a1e54fd4b04">mutation_branch::get_name</a></div><div class="ttdeci">static std::string get_name(const trait_id &amp;mutation_id)</div><div class="ttdoc">Shortcut for getting the name of a (translated) mutation, same as.</div><div class="ttdef"><b>Definition:</b> <a href="mutation__data_8cpp_source.html#l00635">mutation_data.cpp:635</a></div></div>
<div class="ttc" id="astructmutation__branch_html_a7ec9122c0848638dacf1c49911caf945"><div class="ttname"><a href="structmutation__branch.html#a7ec9122c0848638dacf1c49911caf945">mutation_branch::activated</a></div><div class="ttdeci">bool activated</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00112">mutation.h:112</a></div></div>
<div class="ttc" id="astructmutation__branch_html_a8941954c7a99dfa4f8d61f0d0e569af2"><div class="ttname"><a href="structmutation__branch.html#a8941954c7a99dfa4f8d61f0d0e569af2">mutation_branch::hunger</a></div><div class="ttdeci">bool hunger</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00119">mutation.h:119</a></div></div>
<div class="ttc" id="astructmutation__branch_html_aa09d75954d8f6d0f3d8dd041659a7c37"><div class="ttname"><a href="structmutation__branch.html#aa09d75954d8f6d0f3d8dd041659a7c37">mutation_branch::transform</a></div><div class="ttdeci">cata::value_ptr&lt; mut_transform &gt; transform</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00170">mutation.h:170</a></div></div>
<div class="ttc" id="astructmutation__branch_html_aba65771147234d225c6615c5dcfda213"><div class="ttname"><a href="structmutation__branch.html#aba65771147234d225c6615c5dcfda213">mutation_branch::cooldown</a></div><div class="ttdeci">int cooldown</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00127">mutation.h:127</a></div></div>
<div class="ttc" id="astructmutation__branch_html_ac0b680896d3134f7bb0dfb4bac02f6ce"><div class="ttname"><a href="structmutation__branch.html#ac0b680896d3134f7bb0dfb4bac02f6ce">mutation_branch::fatigue</a></div><div class="ttdeci">bool fatigue</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00118">mutation.h:118</a></div></div>
<div class="ttc" id="astructquery__popup_1_1result_html"><div class="ttname"><a href="structquery__popup_1_1result.html">query_popup::result</a></div><div class="ttdoc">Query result returned by query_once and query.</div><div class="ttdef"><b>Definition:</b> <a href="popup_8h_source.html#l00063">popup.h:63</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="magic_8cpp_source.html#l01029">a</a>, <a class="el" href="dialogue_8h_source.html#l00036">action</a>, <a class="el" href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859aa13367a8e2a3f3bf4f3409079e3fdf87">Activate</a>, <a class="el" href="mutation_8cpp_source.html#l00470">Character::activate_mutation()</a>, <a class="el" href="mutation_8h_source.html#l00112">mutation_branch::activated</a>, <a class="el" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1a948eea612456562bf255d3a9c59c40a3">activating</a>, <a class="el" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="popup_8cpp_source.html#l00045">query_popup::allow_anykey()</a>, <a class="el" href="popup_8cpp_source.html#l00052">query_popup::allow_cancel()</a>, <a class="el" href="output_8h_source.html#l00135">BORDER_COLOR</a>, <a class="el" href="color_8h_source.html#l00024">c_cyan</a>, <a class="el" href="color_8h_source.html#l00134">c_cyan_yellow</a>, <a class="el" href="color_8h_source.html#l00022">c_green</a>, <a class="el" href="color_8h_source.html#l00126">c_green_yellow</a>, <a class="el" href="color_8h_source.html#l00029">c_light_blue</a>, <a class="el" href="color_8h_source.html#l00030">c_light_cyan</a>, <a class="el" href="color_8h_source.html#l00135">c_light_cyan_yellow</a>, <a class="el" href="color_8h_source.html#l00019">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00028">c_light_green</a>, <a class="el" href="color_8h_source.html#l00127">c_light_green_yellow</a>, <a class="el" href="color_8h_source.html#l00027">c_light_red</a>, <a class="el" href="color_8h_source.html#l00125">c_light_red_yellow</a>, <a class="el" href="color_8h_source.html#l00021">c_red</a>, <a class="el" href="color_8h_source.html#l00124">c_red_yellow</a>, <a class="el" href="color_8h_source.html#l00018">c_white</a>, <a class="el" href="mutation_8cpp_source.html#l01712">can_use_mutation_warn()</a>, <a class="el" href="input_8h_source.html#l00082">CATA_INPUT_KEYBOARD</a>, <a class="el" href="popup_8cpp_source.html#l00021">query_popup::context()</a>, <a class="el" href="mutation_8h_source.html#l00127">mutation_branch::cooldown</a>, <a class="el" href="mutation_8h_source.html#l00125">mutation_branch::cost</a>, <a class="el" href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859a109fec06829bd79d222cfc8af52aaaf1">Deactivate</a>, <a class="el" href="mutation_8cpp_source.html#l00610">Character::deactivate_mutation()</a>, <a class="el" href="output_8cpp_source.html#l00575">draw_border()</a>, <a class="el" href="mutation__ui_8cpp_source.html#l00024">draw_exam_window()</a>, <a class="el" href="output_8cpp_source.html#l01314">draw_scrollbar()</a>, <a class="el" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1a1fe0ff1bbfd7ca5705dcadfeb6cd3d15">examining</a>, <a class="el" href="classplayer.html#ace29da9579ab4126cf7f83ba4ace8859afef46e5063ce3dc78b8ae64fa474241d">Exit</a>, <a class="el" href="mutation_8h_source.html#l00118">mutation_branch::fatigue</a>, <a class="el" href="output_8cpp_source.html#l00299">fold_and_print()</a>, <a class="el" href="output_8cpp_source.html#l00056">FULL_SCREEN_HEIGHT</a>, <a class="el" href="output_8cpp_source.html#l00055">FULL_SCREEN_WIDTH</a>, <a class="el" href="inventory_8h_source.html#l00054">invlet_wrapper::get_allowed_chars()</a>, <a class="el" href="character_8cpp_source.html#l04439">Character::get_fatigue()</a>, <a class="el" href="input_8cpp_source.html#l00100">input_event::get_first_input()</a>, <a class="el" href="character_8cpp_source.html#l04306">Character::get_kcal_percent()</a>, <a class="el" href="mutation__data_8cpp_source.html#l00635">mutation_branch::get_name()</a>, <a class="el" href="input_8cpp_source.html#l01299">input_context::get_raw_input()</a>, <a class="el" href="character_8cpp_source.html#l04311">Character::get_thirst()</a>, <a class="el" href="mutation__ui_8cpp_source.html#l00049">GetTrait()</a>, <a class="el" href="input_8cpp_source.html#l00854">input_context::handle_input()</a>, <a class="el" href="mutation_8cpp_source.html#l00121">Character::has_base_trait()</a>, <a class="el" href="optional_8h_source.html#l00120">cata::optional&lt; T &gt;::has_value()</a>, <a class="el" href="newcharacter_8cpp_source.html#l02291">char_creation::HEIGHT</a>, <a class="el" href="mutation_8h_source.html#l00119">mutation_branch::hunger</a>, <a class="el" href="string__id_8h_source.html#l00317">string_id&lt; T &gt;::is_null()</a>, <a class="el" href="character_8h_source.html#l02102">Character::trait_data::key</a>, <a class="el" href="output_8h_source.html#l00040">LINE_OXOX</a>, <a class="el" href="output_8h_source.html#l00047">LINE_XOXX</a>, <a class="el" href="output_8h_source.html#l00045">LINE_XXXO</a>, <a class="el" href="enums_8h_source.html#l00260">m_neutral</a>, <a class="el" href="popup_8h_source.html#l00091">query_popup::message()</a>, <a class="el" href="mutation__ui_8cpp.html#ad3e13a302fd3dee9054bc059deb0e268">mutation_chars</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00152">catacurses::mvwhline()</a>, <a class="el" href="output_8cpp_source.html#l02035">mvwprintz()</a>, <a class="el" href="output_8cpp_source.html#l00477">mvwputch()</a>, <a class="el" href="character_8h_source.html#l02147">Character::my_mutations</a>, <a class="el" href="mutation__data_8cpp_source.html#l00556">mutation_branch::name()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00034">catacurses::newwin()</a>, <a class="el" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a334c4a4c42fdb79d7ebc3e73b517e6f8">none</a>, <a class="el" href="optional_8h_source.html#l00022">cata::nullopt</a>, <a class="el" href="achievement_8cpp_source.html#l00058">string_id&lt; T &gt;::obj()</a>, <a class="el" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76a831996cebc6c9bf7687e922c3437be69">passive</a>, <a class="el" href="point_8h_source.html#l00274">point_zero</a>, <a class="el" href="output_8cpp_source.html#l00764">popup()</a>, <a class="el" href="character_8h_source.html#l02100">Character::trait_data::powered</a>, <a class="el" href="popup_8cpp_source.html#l00348">query_popup::query()</a>, <a class="el" href="mutation__ui_8cpp.html#afaa5795d732cc701e687f01178799df1ac71a14a0fff89b7d853a6c70c6ac612c">reassigning</a>, <a class="el" href="ui__manager_8cpp_source.html#l00285">ui_manager::redraw()</a>, <a class="el" href="input_8cpp_source.html#l00676">input_context::register_action()</a>, <a class="el" href="input_8cpp_source.html#l00924">input_context::register_updown()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="input_8h_source.html#l00101">input_event::sequence</a>, <a class="el" href="mutation__ui_8cpp_source.html#l00061">show_mutations_titlebar()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="colony_8h_source.html#l03496">cata::swap()</a>, <a class="el" href="output_8cpp_source.html#l00047">TERMX</a>, <a class="el" href="output_8cpp_source.html#l00048">TERMY</a>, <a class="el" href="mutation_8h_source.html#l00120">mutation_branch::thirst</a>, <a class="el" href="mutation_8cpp_source.html#l00629">Character::trait_by_invlet()</a>, <a class="el" href="mutation_8h_source.html#l00170">mutation_branch::transform</a>, <a class="el" href="enums_8h_source.html#l00075">type</a>, <a class="el" href="input_8h_source.html#l00096">input_event::type</a>, <a class="el" href="inventory_8cpp_source.html#l00059">invlet_wrapper::valid()</a>, <a class="el" href="optional_8h_source.html#l00124">cata::optional&lt; T &gt;::value()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00053">catacurses::werase()</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00043">catacurses::wnoutrefresh()</a>.</p>

<p class="reference">Referenced by <a class="el" href="mutation__ui_8cpp_source.html#l00089">power_mutations()</a>.</p>

</div>
</div>
<a id="aa57c61de29a5e410c100aee07798b9b1" name="aa57c61de29a5e410c100aee07798b9b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa57c61de29a5e410c100aee07798b9b1">&#9670;&nbsp;</a></span>practice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::practice </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cap</em> = <code>99</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>suppress_warning</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This handles giving xp for a skill. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04005">4005</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04006" name="l04006"></a><span class="lineno"> 4006</span>{</div>
<div class="line"><a id="l04007" name="l04007"></a><span class="lineno"> 4007</span>    <a class="code hl_class" href="classSkillLevel.html">SkillLevel</a> &amp;level = <a class="code hl_function" href="classCharacter.html#a2726ac089fa49e864b486e289f53fade">get_skill_level_object</a>( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l04008" name="l04008"></a><span class="lineno"> 4008</span>    <span class="keyword">const</span> <a class="code hl_class" href="classSkill.html">Skill</a> &amp;skill = <span class="keywordtype">id</span>.obj();</div>
<div class="line"><a id="l04009" name="l04009"></a><span class="lineno"> 4009</span>    std::string skill_name = skill.<a class="code hl_function" href="classSkill.html#a11c69074ce9b251983f170510808bd85">name</a>();</div>
<div class="line"><a id="l04010" name="l04010"></a><span class="lineno"> 4010</span> </div>
<div class="line"><a id="l04011" name="l04011"></a><span class="lineno"> 4011</span>    <span class="keywordflow">if</span>( !level.<a class="code hl_function" href="classSkillLevel.html#a4de8923aafd85db2946ed9860874d660">can_train</a>() &amp;&amp; !<a class="code hl_function" href="classCharacter.html#a4f0bdbd929787a486a0dd5748ef10c65">in_sleep_state</a>() ) {</div>
<div class="line"><a id="l04012" name="l04012"></a><span class="lineno"> 4012</span>        <span class="comment">// If leveling is disabled, don&#39;t train, don&#39;t drain focus, don&#39;t print anything</span></div>
<div class="line"><a id="l04013" name="l04013"></a><span class="lineno"> 4013</span>        <span class="comment">// Leaving as a skill method rather than global for possible future skill cap setting</span></div>
<div class="line"><a id="l04014" name="l04014"></a><span class="lineno"> 4014</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l04015" name="l04015"></a><span class="lineno"> 4015</span>    }</div>
<div class="line"><a id="l04016" name="l04016"></a><span class="lineno"> 4016</span> </div>
<div class="line"><a id="l04017" name="l04017"></a><span class="lineno"> 4017</span>    <span class="keyword">const</span> <span class="keyword">auto</span> highest_skill = [&amp;]() {</div>
<div class="line"><a id="l04018" name="l04018"></a><span class="lineno"> 4018</span>        std::pair&lt;skill_id, int&gt; <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>( <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">skill_id::NULL_ID</a>(), -1 );</div>
<div class="line"><a id="l04019" name="l04019"></a><span class="lineno"> 4019</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;pair : *<a class="code hl_variable" href="classCharacter.html#a173170e7cdceddff68d980d8ced2c6f8">_skills</a> ) {</div>
<div class="line"><a id="l04020" name="l04020"></a><span class="lineno"> 4020</span>            <span class="keyword">const</span> <a class="code hl_class" href="classSkillLevel.html">SkillLevel</a> &amp;lobj = pair.second;</div>
<div class="line"><a id="l04021" name="l04021"></a><span class="lineno"> 4021</span>            <span class="keywordflow">if</span>( lobj.<a class="code hl_function" href="classSkillLevel.html#a28763c074460e59ab2851ab31f9e2a3c">level</a>() &gt; <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.second ) {</div>
<div class="line"><a id="l04022" name="l04022"></a><span class="lineno"> 4022</span>                <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = std::make_pair( pair.first, lobj.<a class="code hl_function" href="classSkillLevel.html#a28763c074460e59ab2851ab31f9e2a3c">level</a>() );</div>
<div class="line"><a id="l04023" name="l04023"></a><span class="lineno"> 4023</span>            }</div>
<div class="line"><a id="l04024" name="l04024"></a><span class="lineno"> 4024</span>        }</div>
<div class="line"><a id="l04025" name="l04025"></a><span class="lineno"> 4025</span>        <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.first;</div>
<div class="line"><a id="l04026" name="l04026"></a><span class="lineno"> 4026</span>    };</div>
<div class="line"><a id="l04027" name="l04027"></a><span class="lineno"> 4027</span> </div>
<div class="line"><a id="l04028" name="l04028"></a><span class="lineno"> 4028</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> isSavant = <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a510aede332c4a05b18d61c20e2efbf4d">trait_SAVANT</a> );</div>
<div class="line"><a id="l04029" name="l04029"></a><span class="lineno"> 4029</span>    <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">skill_id</a> savantSkill = isSavant ? highest_skill() : <a class="code hl_class" href="classstring__id.html">skill_id</a>::NULL_ID();</div>
<div class="line"><a id="l04030" name="l04030"></a><span class="lineno"> 4030</span> </div>
<div class="line"><a id="l04031" name="l04031"></a><span class="lineno"> 4031</span>    amount = <a class="code hl_function" href="classCharacter.html#aec3d558103114c003e421bef9040b822">adjust_for_focus</a>( amount );</div>
<div class="line"><a id="l04032" name="l04032"></a><span class="lineno"> 4032</span> </div>
<div class="line"><a id="l04033" name="l04033"></a><span class="lineno"> 4033</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a53f40b992f1ab4a66785f12dbaae64ec">trait_PACIFIST</a> ) &amp;&amp; skill.<a class="code hl_function" href="classSkill.html#ad7cfc5378563d3512234329907b03ad6">is_combat_skill</a>() ) {</div>
<div class="line"><a id="l04034" name="l04034"></a><span class="lineno"> 4034</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a id="l04035" name="l04035"></a><span class="lineno"> 4035</span>            amount = 0;</div>
<div class="line"><a id="l04036" name="l04036"></a><span class="lineno"> 4036</span>        }</div>
<div class="line"><a id="l04037" name="l04037"></a><span class="lineno"> 4037</span>    }</div>
<div class="line"><a id="l04038" name="l04038"></a><span class="lineno"> 4038</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a21a89fdd699655461fd63d27179d3adb">has_trait_flag</a>( <span class="stringliteral">&quot;PRED2&quot;</span> ) &amp;&amp; skill.<a class="code hl_function" href="classSkill.html#ad7cfc5378563d3512234329907b03ad6">is_combat_skill</a>() ) {</div>
<div class="line"><a id="l04039" name="l04039"></a><span class="lineno"> 4039</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a id="l04040" name="l04040"></a><span class="lineno"> 4040</span>            amount *= 2;</div>
<div class="line"><a id="l04041" name="l04041"></a><span class="lineno"> 4041</span>        }</div>
<div class="line"><a id="l04042" name="l04042"></a><span class="lineno"> 4042</span>    }</div>
<div class="line"><a id="l04043" name="l04043"></a><span class="lineno"> 4043</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a21a89fdd699655461fd63d27179d3adb">has_trait_flag</a>( <span class="stringliteral">&quot;PRED3&quot;</span> ) &amp;&amp; skill.<a class="code hl_function" href="classSkill.html#ad7cfc5378563d3512234329907b03ad6">is_combat_skill</a>() ) {</div>
<div class="line"><a id="l04044" name="l04044"></a><span class="lineno"> 4044</span>        amount *= 2;</div>
<div class="line"><a id="l04045" name="l04045"></a><span class="lineno"> 4045</span>    }</div>
<div class="line"><a id="l04046" name="l04046"></a><span class="lineno"> 4046</span> </div>
<div class="line"><a id="l04047" name="l04047"></a><span class="lineno"> 4047</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a21a89fdd699655461fd63d27179d3adb">has_trait_flag</a>( <span class="stringliteral">&quot;PRED4&quot;</span> ) &amp;&amp; skill.<a class="code hl_function" href="classSkill.html#ad7cfc5378563d3512234329907b03ad6">is_combat_skill</a>() ) {</div>
<div class="line"><a id="l04048" name="l04048"></a><span class="lineno"> 4048</span>        amount *= 3;</div>
<div class="line"><a id="l04049" name="l04049"></a><span class="lineno"> 4049</span>    }</div>
<div class="line"><a id="l04050" name="l04050"></a><span class="lineno"> 4050</span> </div>
<div class="line"><a id="l04051" name="l04051"></a><span class="lineno"> 4051</span>    <span class="keywordflow">if</span>( isSavant &amp;&amp; <span class="keywordtype">id</span> != savantSkill ) {</div>
<div class="line"><a id="l04052" name="l04052"></a><span class="lineno"> 4052</span>        amount /= 2;</div>
<div class="line"><a id="l04053" name="l04053"></a><span class="lineno"> 4053</span>    }</div>
<div class="line"><a id="l04054" name="l04054"></a><span class="lineno"> 4054</span> </div>
<div class="line"><a id="l04055" name="l04055"></a><span class="lineno"> 4055</span>    <span class="keywordflow">if</span>( amount &gt; 0 &amp;&amp; <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <span class="keywordtype">id</span> ) &gt; cap ) { <span class="comment">//blunt grinding cap implementation for crafting</span></div>
<div class="line"><a id="l04056" name="l04056"></a><span class="lineno"> 4056</span>        amount = 0;</div>
<div class="line"><a id="l04057" name="l04057"></a><span class="lineno"> 4057</span>        <span class="keywordflow">if</span>( !suppress_warning ) {</div>
<div class="line"><a id="l04058" name="l04058"></a><span class="lineno"> 4058</span>            <a class="code hl_function" href="classplayer.html#a38b184076f4431dd9f0a2b5a2ef42544">handle_skill_warning</a>( <span class="keywordtype">id</span>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l04059" name="l04059"></a><span class="lineno"> 4059</span>        }</div>
<div class="line"><a id="l04060" name="l04060"></a><span class="lineno"> 4060</span>    }</div>
<div class="line"><a id="l04061" name="l04061"></a><span class="lineno"> 4061</span>    <span class="keywordflow">if</span>( amount &gt; 0 &amp;&amp; level.<a class="code hl_function" href="classSkillLevel.html#a6fb12286a01d109e0ae2c5fa23e23dd3">isTraining</a>() ) {</div>
<div class="line"><a id="l04062" name="l04062"></a><span class="lineno"> 4062</span>        <span class="keywordtype">int</span> oldLevel = <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l04063" name="l04063"></a><span class="lineno"> 4063</span>        <a class="code hl_function" href="classCharacter.html#a2726ac089fa49e864b486e289f53fade">get_skill_level_object</a>( <span class="keywordtype">id</span> ).<a class="code hl_function" href="classSkillLevel.html#ae0dd04a5424a4de0731424ce7d8b64a0">train</a>( amount );</div>
<div class="line"><a id="l04064" name="l04064"></a><span class="lineno"> 4064</span>        <span class="keywordtype">int</span> newLevel = <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l04065" name="l04065"></a><span class="lineno"> 4065</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() &amp;&amp; newLevel &gt; oldLevel ) {</div>
<div class="line"><a id="l04066" name="l04066"></a><span class="lineno"> 4066</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your skill in %s has increased to %d!&quot;</span> ), skill_name, newLevel );</div>
<div class="line"><a id="l04067" name="l04067"></a><span class="lineno"> 4067</span>        }</div>
<div class="line"><a id="l04068" name="l04068"></a><span class="lineno"> 4068</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() &amp;&amp; newLevel &gt; cap ) {</div>
<div class="line"><a id="l04069" name="l04069"></a><span class="lineno"> 4069</span>            <span class="comment">//inform player immediately that the current recipe can&#39;t be used to train further</span></div>
<div class="line"><a id="l04070" name="l04070"></a><span class="lineno"> 4070</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel that %s tasks of this level are becoming trivial.&quot;</span> ),</div>
<div class="line"><a id="l04071" name="l04071"></a><span class="lineno"> 4071</span>                     skill_name );</div>
<div class="line"><a id="l04072" name="l04072"></a><span class="lineno"> 4072</span>        }</div>
<div class="line"><a id="l04073" name="l04073"></a><span class="lineno"> 4073</span> </div>
<div class="line"><a id="l04074" name="l04074"></a><span class="lineno"> 4074</span>        <span class="keywordtype">int</span> chance_to_drop = <a class="code hl_variable" href="classCharacter.html#a1a22be593582c9aef166a12777bb79a8">focus_pool</a>;</div>
<div class="line"><a id="l04075" name="l04075"></a><span class="lineno"> 4075</span>        <a class="code hl_variable" href="classCharacter.html#a1a22be593582c9aef166a12777bb79a8">focus_pool</a> -= chance_to_drop / 100;</div>
<div class="line"><a id="l04076" name="l04076"></a><span class="lineno"> 4076</span>        <span class="comment">// Apex Predators don&#39;t think about much other than killing.</span></div>
<div class="line"><a id="l04077" name="l04077"></a><span class="lineno"> 4077</span>        <span class="comment">// They don&#39;t lose Focus when practicing combat skills.</span></div>
<div class="line"><a id="l04078" name="l04078"></a><span class="lineno"> 4078</span>        <span class="keywordflow">if</span>( ( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 100 ) &lt;= ( chance_to_drop % 100 ) ) &amp;&amp; ( !( <a class="code hl_function" href="classCharacter.html#a21a89fdd699655461fd63d27179d3adb">has_trait_flag</a>( <span class="stringliteral">&quot;PRED4&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l04079" name="l04079"></a><span class="lineno"> 4079</span>                skill.<a class="code hl_function" href="classSkill.html#ad7cfc5378563d3512234329907b03ad6">is_combat_skill</a>() ) ) ) {</div>
<div class="line"><a id="l04080" name="l04080"></a><span class="lineno"> 4080</span>            <a class="code hl_variable" href="classCharacter.html#a1a22be593582c9aef166a12777bb79a8">focus_pool</a>--;</div>
<div class="line"><a id="l04081" name="l04081"></a><span class="lineno"> 4081</span>        }</div>
<div class="line"><a id="l04082" name="l04082"></a><span class="lineno"> 4082</span>    }</div>
<div class="line"><a id="l04083" name="l04083"></a><span class="lineno"> 4083</span> </div>
<div class="line"><a id="l04084" name="l04084"></a><span class="lineno"> 4084</span>    <a class="code hl_function" href="classCharacter.html#a2726ac089fa49e864b486e289f53fade">get_skill_level_object</a>( <span class="keywordtype">id</span> ).<a class="code hl_function" href="classSkillLevel.html#ad0598a6e53ba24a4c56017efebea80c3">practice</a>();</div>
<div class="line"><a id="l04085" name="l04085"></a><span class="lineno"> 4085</span>}</div>
<div class="ttc" id="aclassCharacter_html_a21a89fdd699655461fd63d27179d3adb"><div class="ttname"><a href="classCharacter.html#a21a89fdd699655461fd63d27179d3adb">Character::has_trait_flag</a></div><div class="ttdeci">bool has_trait_flag(const std::string &amp;b) const</div><div class="ttdoc">Returns true if player has a trait with a flag.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00108">mutation.cpp:108</a></div></div>
<div class="ttc" id="aclassCharacter_html_aec3d558103114c003e421bef9040b822"><div class="ttname"><a href="classCharacter.html#aec3d558103114c003e421bef9040b822">Character::adjust_for_focus</a></div><div class="ttdeci">int adjust_for_focus(int amount) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09901">character.cpp:9901</a></div></div>
<div class="ttc" id="aclassSkillLevel_html_a6fb12286a01d109e0ae2c5fa23e23dd3"><div class="ttname"><a href="classSkillLevel.html#a6fb12286a01d109e0ae2c5fa23e23dd3">SkillLevel::isTraining</a></div><div class="ttdeci">bool isTraining() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00117">skill.h:117</a></div></div>
<div class="ttc" id="aclassSkillLevel_html_ad0598a6e53ba24a4c56017efebea80c3"><div class="ttname"><a href="classSkillLevel.html#ad0598a6e53ba24a4c56017efebea80c3">SkillLevel::practice</a></div><div class="ttdeci">void practice()</div><div class="ttdef"><b>Definition:</b> <a href="skill_8cpp_source.html#l00284">skill.cpp:284</a></div></div>
<div class="ttc" id="aclassSkillLevel_html_ae0dd04a5424a4de0731424ce7d8b64a0"><div class="ttname"><a href="classSkillLevel.html#ae0dd04a5424a4de0731424ce7d8b64a0">SkillLevel::train</a></div><div class="ttdeci">void train(int amount, bool skip_scaling=false)</div><div class="ttdef"><b>Definition:</b> <a href="skill_8cpp_source.html#l00210">skill.cpp:210</a></div></div>
<div class="ttc" id="aclassSkill_html_ad7cfc5378563d3512234329907b03ad6"><div class="ttname"><a href="classSkill.html#ad7cfc5378563d3512234329907b03ad6">Skill::is_combat_skill</a></div><div class="ttdeci">bool is_combat_skill() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8cpp_source.html#l00198">skill.cpp:198</a></div></div>
<div class="ttc" id="aclassplayer_html_a38b184076f4431dd9f0a2b5a2ef42544"><div class="ttname"><a href="classplayer.html#a38b184076f4431dd9f0a2b5a2ef42544">player::handle_skill_warning</a></div><div class="ttdeci">void handle_skill_warning(const skill_id &amp;id, bool force_warning=false)</div><div class="ttdoc">This handles warning the player that there current activity will not give them xp.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04087">player.cpp:4087</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a510aede332c4a05b18d61c20e2efbf4d"><div class="ttname"><a href="player_8cpp.html#a510aede332c4a05b18d61c20e2efbf4d">trait_SAVANT</a></div><div class="ttdeci">static const trait_id trait_SAVANT(&quot;SAVANT&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a53f40b992f1ab4a66785f12dbaae64ec"><div class="ttname"><a href="player_8cpp.html#a53f40b992f1ab4a66785f12dbaae64ec">trait_PACIFIST</a></div><div class="ttdeci">static const trait_id trait_PACIFIST(&quot;PACIFIST&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="character_8h_source.html#l02161">Character::_skills</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="character_8cpp_source.html#l09901">Character::adjust_for_focus()</a>, <a class="el" href="skill_8cpp_source.html#l00298">SkillLevel::can_train()</a>, <a class="el" href="character_8h_source.html#l01599">Character::focus_pool</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="character_8cpp_source.html#l03322">Character::get_skill_level_object()</a>, <a class="el" href="player_8cpp_source.html#l04087">handle_skill_warning()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="mutation_8cpp_source.html#l00108">Character::has_trait_flag()</a>, <a class="el" href="character_8cpp_source.html#l09296">Character::in_sleep_state()</a>, <a class="el" href="skill_8cpp_source.html#l00198">Skill::is_combat_skill()</a>, <a class="el" href="player_8h_source.html#l00114">is_player()</a>, <a class="el" href="skill_8h_source.html#l00117">SkillLevel::isTraining()</a>, <a class="el" href="skill_8h_source.html#l00125">SkillLevel::level()</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="skill_8h_source.html#l00068">Skill::name()</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; Skill &gt;::NULL_ID()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="skill_8cpp_source.html#l00284">SkillLevel::practice()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="skill_8cpp_source.html#l00210">SkillLevel::train()</a>, <a class="el" href="player_8cpp.html#a53f40b992f1ab4a66785f12dbaae64ec">trait_PACIFIST</a>, and <a class="el" href="player_8cpp.html#a510aede332c4a05b18d61c20e2efbf4d">trait_SAVANT</a>.</p>

<p class="reference">Referenced by <a class="el" href="vehicle__move_8cpp_source.html#l01239">vehicle::act_on_map()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01126">activity_handlers::butcher_finish()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00866">butchery_drops_harvest()</a>, <a class="el" href="mission__companion_8cpp_source.html#l01719">talk_function::companion_skill_trainer()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">complete_disassemble()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02986">veh_interact::complete_vehicle()</a>, <a class="el" href="crafting_8cpp_source.html#l00762">craft_skill_gain()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01638">salvage_actor::cut_up()</a>, <a class="el" href="iuse_8cpp_source.html#l06372">iuse::einktabletpc()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03741">heal_actor::finish_using()</a>, <a class="el" href="ranged_8cpp_source.html#l00809">fire_gun()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03242">activity_handlers::fish_do_turn()</a>, <a class="el" href="iuse_8cpp_source.html#l01793">iuse::fish_trap()</a>, <a class="el" href="iexamine_8cpp_source.html#l03078">iexamine::fvat_full()</a>, <a class="el" href="iuse_8cpp_source.html#l05839">iuse::gun_repair()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00627">hack_attempt()</a>, <a class="el" href="computer__session_8cpp_source.html#l00199">computer_session::hack_attempt()</a>, <a class="el" href="iuse_8cpp_source.html#l08161">hackveh()</a>, <a class="el" href="bionics_8cpp_source.html#l02245">Character::install_bionics()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04053">place_trap_actor::data::load()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01849">activity_handlers::make_zlave_finish()</a>, <a class="el" href="melee_8cpp_source.html#l00359">melee_train()</a>, <a class="el" href="iuse_8cpp_source.html#l08482">iuse::multicooker()</a>, <a class="el" href="player_8cpp_source.html#l00930">on_dodge()</a>, <a class="el" href="player_8cpp_source.html#l00756">pause()</a>, <a class="el" href="melee_8cpp_source.html#l01737">Character::perform_special_attacks()</a>, <a class="el" href="iexamine_8cpp_source.html#l03385">pick_plant()</a>, <a class="el" href="vehicle__move_8cpp_source.html#l01061">vehicle::pldrive()</a>, <a class="el" href="iexamine_8cpp_source.html#l06163">iexamine::practice_survival_while_foraging()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04068">activity_handlers::pry_nails_finish()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01972">activity_handlers::pulp_do_turn()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03437">repair_item_actor::repair()</a>, <a class="el" href="veh__utils_8cpp_source.html#l00109">veh_utils::repair_part()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04485">activity_handlers::robot_control_finish()</a>, <a class="el" href="npctalk_8cpp_source.html#l01472">talk_trial::roll()</a>, <a class="el" href="handle__action_8cpp_source.html#l00671">smash()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02129">activity_handlers::start_fire_finish()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04774">activity_handlers::study_spell_finish()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00489">avatar_action::swim()</a>, <a class="el" href="ranged_8cpp_source.html#l01108">throw_item()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04148">place_trap_actor::use()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l04722">sew_advanced_actor::use()</a>.</p>

</div>
</div>
<a id="a63f4a05fec27ce5d58d750f273ddf4ea" name="a63f4a05fec27ce5d58d750f273ddf4ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63f4a05fec27ce5d58d750f273ddf4ea">&#9670;&nbsp;</a></span>print_encumbrance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::print_encumbrance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>win</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>selected_clothing</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__display_8cpp_source.html#l00094">94</a> of file <a class="el" href="player__display_8cpp_source.html">player_display.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>{</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    <span class="comment">// bool represents whether the part has been combined with its other half</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="keyword">const</span> std::vector&lt;std::pair&lt;body_part, bool&gt;&gt; bps = <a class="code hl_function" href="player__display_8cpp.html#a02ad6d28c5e8d476e68f35ea6a3f37a4">list_and_combine_bps</a>( *<span class="keyword">this</span>,</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>            selected_clothing );</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <span class="comment">// width/height excluding title &amp; scrollbar</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_function" href="classCharacter.html#aa9c1f97d187bff47d164c786df2807ba">height</a> = <a class="code hl_function" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( win ) - 1;</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="output_8cpp.html#a37db5c581b2a20faa11b14164de305df">draw_scrollbar</a> = height &lt; static_cast&lt;int&gt;( bps.size() );</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> width = <a class="code hl_function" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( win ) - ( <a class="code hl_function" href="output_8cpp.html#a37db5c581b2a20faa11b14164de305df">draw_scrollbar</a> ? 1 : 0 );</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <span class="comment">// index of the first printed bodypart from `bps`</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> firstline = <a class="code hl_function" href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a>( <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> - <a class="code hl_function" href="classCharacter.html#aa9c1f97d187bff47d164c786df2807ba">height</a> / 2, 0, std::max( 0,</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>                                 <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( bps.size() ) - <a class="code hl_function" href="classCharacter.html#aa9c1f97d187bff47d164c786df2807ba">height</a> ) );</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span> </div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span><span class="comment">    /*** I chose to instead only display X+Y instead of X+Y=Z. More room was needed ***</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span><span class="comment">     *** for displaying triple digit encumbrance, due to new encumbrance system.    ***</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span><span class="comment">     *** If the player wants to see the total without having to do them maths, the  ***</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span><span class="comment">     *** armor layers ui shows everything they want :-) -Davek                      ***/</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <span class="keyword">const</span> <span class="keyword">auto</span> enc_data = <a class="code hl_function" href="classCharacter.html#aab4a81807fc7f6760a2f426046da8809">get_encumbrance</a>();</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_function" href="classCharacter.html#aa9c1f97d187bff47d164c786df2807ba">height</a>; ++i ) {</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>        <span class="keywordtype">int</span> thisline = firstline + i;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>        <span class="keywordflow">if</span>( thisline &lt; 0 ) {</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>        }</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>        <span class="keywordflow">if</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( thisline ) &gt;= bps.size() ) {</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>        }</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>        <span class="keyword">const</span> <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp = bps[thisline].first;</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> combine = bps[thisline].second;</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structencumbrance__data.html">encumbrance_data</a> &amp;e = enc_data[bp];</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> highlighted = selected_clothing ? selected_clothing-&gt;<a class="code hl_function" href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">covers</a>( bp ) : <span class="keyword">false</span>;</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>        std::string out = <a class="code hl_function" href="bodypart_8cpp.html#aeadf2675d36776a1f685d1d2dfa06e78">body_part_name_as_heading</a>( bp, combine ? 2 : 1 );</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="catacharset_8cpp.html#a7616a48a4b48437c60b6683439a8f3e2">utf8_width</a>( out ) &gt; 7 ) {</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>            out = <a class="code hl_function" href="catacharset_8cpp.html#ad959840e392a0d3b79d93cfe64119ca9">utf8_truncate</a>( out, 7 );</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>        }</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>        <span class="comment">// Two different highlighting schemes, highlight if the line is selected as per line being set.</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>        <span class="comment">// Make the text green if this part is covered by the passed in item.</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>        <a class="code hl_class" href="classnc__color.html">nc_color</a> <a class="code hl_function" href="classCharacter.html#a77c7a5adc51e77396f672ac2f33f8c10">limb_color</a> = thisline == <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> ?</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>                              ( highlighted ? <a class="code hl_define" href="color_8h.html#af6db5f8183991166e5001f229336282e">h_green</a> : <a class="code hl_define" href="color_8h.html#ab13a4a0b8847d4df7c32c9453a2670e6">h_light_gray</a> ) :</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>                              ( highlighted ? <a class="code hl_define" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a> : <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> );</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>        <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( win, <a class="code hl_struct" href="structpoint.html">point</a>( 1, 1 + i ), <a class="code hl_function" href="classCharacter.html#a77c7a5adc51e77396f672ac2f33f8c10">limb_color</a>, <span class="stringliteral">&quot;%s&quot;</span>, out );</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        <span class="comment">// accumulated encumbrance from clothing, plus extra encumbrance from layering</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>        <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( win, <a class="code hl_struct" href="structpoint.html">point</a>( 8, 1 + i ), <a class="code hl_function" href="player_8cpp.html#a29e1940dc5802dfb2387644ce4ce4b10">encumb_color</a>( e.<a class="code hl_variable" href="structencumbrance__data.html#aa481e5ed996635f0f1b746aba81ed90c">encumbrance</a> ), <span class="stringliteral">&quot;%3d&quot;</span>,</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>                   e.<a class="code hl_variable" href="structencumbrance__data.html#aa481e5ed996635f0f1b746aba81ed90c">encumbrance</a> - e.<a class="code hl_variable" href="structencumbrance__data.html#a5f7c072f9797f555c598966d0d5ddfdb">layer_penalty</a> );</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>        <span class="comment">// separator in low toned color</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>        <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( win, <a class="code hl_struct" href="structpoint.html">point</a>( 11, 1 + i ), <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <span class="stringliteral">&quot;+&quot;</span> );</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>        <span class="comment">// take into account the new encumbrance system for layers</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>        <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( win, <a class="code hl_struct" href="structpoint.html">point</a>( 12, 1 + i ), <a class="code hl_function" href="player_8cpp.html#a29e1940dc5802dfb2387644ce4ce4b10">encumb_color</a>( e.<a class="code hl_variable" href="structencumbrance__data.html#aa481e5ed996635f0f1b746aba81ed90c">encumbrance</a> ), <span class="stringliteral">&quot;%-3d&quot;</span>, e.<a class="code hl_variable" href="structencumbrance__data.html#a5f7c072f9797f555c598966d0d5ddfdb">layer_penalty</a> );</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>        <span class="comment">// print warmth, tethered to right hand side of the window</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>        <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( win, <a class="code hl_struct" href="structpoint.html">point</a>( width - 6, 1 + i ), <a class="code hl_function" href="classCharacter.html#a25ec467ccbf93df7ccc7eae21f128745">bodytemp_color</a>( bp ), <span class="stringliteral">&quot;(% 3d)&quot;</span>,</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>                   <a class="code hl_function" href="player__display_8cpp.html#a015c0b5a960c5063acd70c14f85f3f8e">temperature_print_rescaling</a>( <a class="code hl_variable" href="classCharacter.html#a450ed42503c02c36c04faa550a5b8f70">temp_conv</a>[bp] ) );</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    }</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span> </div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="output_8cpp.html#a37db5c581b2a20faa11b14164de305df">draw_scrollbar</a> ) {</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>        <a class="code hl_class" href="classscrollbar.html">scrollbar</a>().</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>        offset_x( width ).</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>        offset_y( 1 ).</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>        content_size( bps.size() ).</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>        viewport_pos( firstline ).</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>        viewport_size( <a class="code hl_function" href="classCharacter.html#aa9c1f97d187bff47d164c786df2807ba">height</a> ).</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>        scroll_to_last( <span class="keyword">false</span> ).</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>        <a class="code hl_function" href="editmap_8cpp.html#a72802814692d37fcc7aa5e915e011996">apply</a>( win );</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    }</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>}</div>
<div class="ttc" id="acatacharset_8cpp_html_ad959840e392a0d3b79d93cfe64119ca9"><div class="ttname"><a href="catacharset_8cpp.html#ad959840e392a0d3b79d93cfe64119ca9">utf8_truncate</a></div><div class="ttdeci">std::string utf8_truncate(const std::string &amp;s, size_t length)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00238">catacharset.cpp:238</a></div></div>
<div class="ttc" id="aclassCharacter_html_a25ec467ccbf93df7ccc7eae21f128745"><div class="ttname"><a href="classCharacter.html#a25ec467ccbf93df7ccc7eae21f128745">Character::bodytemp_color</a></div><div class="ttdeci">nc_color bodytemp_color(int bp) const</div><div class="ttdoc">Define color for displaying the body temperature.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l10412">character.cpp:10412</a></div></div>
<div class="ttc" id="aclassCharacter_html_a77c7a5adc51e77396f672ac2f33f8c10"><div class="ttname"><a href="classCharacter.html#a77c7a5adc51e77396f672ac2f33f8c10">Character::limb_color</a></div><div class="ttdeci">nc_color limb_color(const bodypart_id &amp;bp, bool bleed, bool bite, bool infect) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06039">character.cpp:6039</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa9c1f97d187bff47d164c786df2807ba"><div class="ttname"><a href="classCharacter.html#aa9c1f97d187bff47d164c786df2807ba">Character::height</a></div><div class="ttdeci">int height() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06926">character.cpp:6926</a></div></div>
<div class="ttc" id="aclassCharacter_html_aab4a81807fc7f6760a2f426046da8809"><div class="ttname"><a href="classCharacter.html#aab4a81807fc7f6760a2f426046da8809">Character::get_encumbrance</a></div><div class="ttdeci">std::array&lt; encumbrance_data, num_bp &gt; get_encumbrance() const</div><div class="ttdoc">Get encumbrance for all body parts.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03651">character.cpp:3651</a></div></div>
<div class="ttc" id="aclassitem_html_ad5b753d7b46c55de9a5b66bbc2b14b99"><div class="ttname"><a href="classitem.html#ad5b753d7b46c55de9a5b66bbc2b14b99">item::covers</a></div><div class="ttdeci">bool covers(body_part bp) const</div><div class="ttdoc">Whether this item (when worn) covers the given body part.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00740">item.cpp:740</a></div></div>
<div class="ttc" id="aclassscrollbar_html"><div class="ttname"><a href="classscrollbar.html">scrollbar</a></div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00817">output.h:818</a></div></div>
<div class="ttc" id="acolor_8h_html_ab13a4a0b8847d4df7c32c9453a2670e6"><div class="ttname"><a href="color_8h.html#ab13a4a0b8847d4df7c32c9453a2670e6">h_light_gray</a></div><div class="ttdeci">#define h_light_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00036">color.h:36</a></div></div>
<div class="ttc" id="acolor_8h_html_af6db5f8183991166e5001f229336282e"><div class="ttname"><a href="color_8h.html#af6db5f8183991166e5001f229336282e">h_green</a></div><div class="ttdeci">#define h_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00039">color.h:39</a></div></div>
<div class="ttc" id="aeditmap_8cpp_html_a72802814692d37fcc7aa5e915e011996"><div class="ttname"><a href="editmap_8cpp.html#a72802814692d37fcc7aa5e915e011996">apply</a></div><div class="ttdeci">static void apply(const T_t &amp;t, shapetype editshape, const tripoint &amp;target, const tripoint &amp;origin, const std::vector&lt; tripoint &gt; &amp;target_list)</div></div>
<div class="ttc" id="anamespacecatacurses_html_adc81ca40445dc062af12fb6d7a4793d0"><div class="ttname"><a href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">catacurses::getmaxy</a></div><div class="ttdeci">int getmaxy(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00063">ncurses_def.cpp:63</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a29e1940dc5802dfb2387644ce4ce4b10"><div class="ttname"><a href="player_8cpp.html#a29e1940dc5802dfb2387644ce4ce4b10">encumb_color</a></div><div class="ttdeci">nc_color encumb_color(int level)</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04280">player.cpp:4280</a></div></div>
<div class="ttc" id="aplayer__display_8cpp_html_a015c0b5a960c5063acd70c14f85f3f8e"><div class="ttname"><a href="player__display_8cpp.html#a015c0b5a960c5063acd70c14f85f3f8e">temperature_print_rescaling</a></div><div class="ttdeci">static int temperature_print_rescaling(int temp)</div><div class="ttdef"><b>Definition:</b> <a href="player__display_8cpp_source.html#l00049">player_display.cpp:49</a></div></div>
<div class="ttc" id="aplayer__display_8cpp_html_a02ad6d28c5e8d476e68f35ea6a3f37a4"><div class="ttname"><a href="player__display_8cpp.html#a02ad6d28c5e8d476e68f35ea6a3f37a4">list_and_combine_bps</a></div><div class="ttdeci">static std::vector&lt; std::pair&lt; body_part, bool &gt; &gt; list_and_combine_bps(const player &amp;p, const item *selected_clothing)</div><div class="ttdef"><b>Definition:</b> <a href="player__display_8cpp_source.html#l00072">player_display.cpp:72</a></div></div>
<div class="ttc" id="astructencumbrance__data_html"><div class="ttname"><a href="structencumbrance__data.html">encumbrance_data</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00200">character.h:200</a></div></div>
<div class="ttc" id="astructencumbrance__data_html_a5f7c072f9797f555c598966d0d5ddfdb"><div class="ttname"><a href="structencumbrance__data.html#a5f7c072f9797f555c598966d0d5ddfdb">encumbrance_data::layer_penalty</a></div><div class="ttdeci">int layer_penalty</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00203">character.h:203</a></div></div>
<div class="ttc" id="astructencumbrance__data_html_aa481e5ed996635f0f1b746aba81ed90c"><div class="ttname"><a href="structencumbrance__data.html#aa481e5ed996635f0f1b746aba81ed90c">encumbrance_data::encumbrance</a></div><div class="ttdeci">int encumbrance</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00201">character.h:201</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="editmap_8cpp.html#a72802814692d37fcc7aa5e915e011996">apply()</a>, <a class="el" href="bodypart_8cpp_source.html#l00341">body_part_name_as_heading()</a>, <a class="el" href="character_8cpp_source.html#l10412">Character::bodytemp_color()</a>, <a class="el" href="color_8h_source.html#l00022">c_green</a>, <a class="el" href="color_8h_source.html#l00019">c_light_gray</a>, <a class="el" href="cata__utility_8h_source.html#l00145">clamp()</a>, <a class="el" href="item_8cpp_source.html#l00740">item::covers()</a>, <a class="el" href="output_8cpp_source.html#l01314">draw_scrollbar()</a>, <a class="el" href="player_8cpp_source.html#l04280">encumb_color()</a>, <a class="el" href="character_8h_source.html#l00201">encumbrance_data::encumbrance</a>, <a class="el" href="character_8cpp_source.html#l03651">Character::get_encumbrance()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00058">catacurses::getmaxx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00063">catacurses::getmaxy()</a>, <a class="el" href="color_8h_source.html#l00039">h_green</a>, <a class="el" href="color_8h_source.html#l00036">h_light_gray</a>, <a class="el" href="character_8cpp_source.html#l06926">Character::height()</a>, <a class="el" href="character_8h_source.html#l00203">encumbrance_data::layer_penalty</a>, <a class="el" href="character_8cpp_source.html#l06039">Character::limb_color()</a>, <a class="el" href="mapgen_8cpp_source.html#l06454">line()</a>, <a class="el" href="player__display_8cpp_source.html#l00072">list_and_combine_bps()</a>, <a class="el" href="output_8cpp_source.html#l02035">mvwprintz()</a>, <a class="el" href="character_8h_source.html#l02271">Character::temp_conv</a>, <a class="el" href="player__display_8cpp_source.html#l00049">temperature_print_rescaling()</a>, <a class="el" href="catacharset_8cpp_source.html#l00238">utf8_truncate()</a>, and <a class="el" href="catacharset_8cpp_source.html#l00142">utf8_width()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__display_8cpp_source.html#l00444">draw_encumbrance_tab()</a>, and <a class="el" href="armor__layers_8cpp_source.html#l00438">sort_armor()</a>.</p>

</div>
</div>
<a id="aa1b4d1bd41fbdb1bc19c6f7e5b4bc795" name="aa1b4d1bd41fbdb1bc19c6f7e5b4bc795"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1b4d1bd41fbdb1bc19c6f7e5b4bc795">&#9670;&nbsp;</a></span>process_effects_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void player::process_effects_internal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes human-specific effects of effects before calling <a class="el" href="classCreature.html#a7c4224e3e3ce5b7bf6af5da26c622af6" title="Processes through all the effects on the Creature.">Creature::process_effects()</a>. </p>

<p>Implements <a class="el" href="classCreature.html#ab07d1af0b7437f37789e229c401a59b0">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01641">1641</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>{</div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>    <span class="comment">//Special Removals</span></div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a84bed2f340b7b3bf9a0ae0c95eabc6dc">effect_darkness</a> ) &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_in_sunlight( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>        <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a84bed2f340b7b3bf9a0ae0c95eabc6dc">effect_darkness</a> );</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>    }</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a308d750c2cc01d70d7622fdee14be3a5">trait_M_IMMUNE</a> ) &amp;&amp; <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a> ) ) {</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>        <a class="code hl_function" href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">vomit</a>();</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>        <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a> );</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,  <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;We have mistakenly colonized a local guide!  Purging now.&quot;</span> ) );</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>    }</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a6c2652eceffb663021aeae9d4b7d0429">trait_PARAIMMUNE</a> ) &amp;&amp; ( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a13af1ce0f1c5467c2718b3d683c13c28">effect_dermatik</a> ) ||</div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>                                           <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a> ) ||</div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>                                           <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">effect_bloodworms</a> ) || <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">effect_brainworms</a> ) ||</div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>                                           <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a914db3df05fd548e81adc85699eaaf05">effect_paincysts</a> ) ) ) {</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>        <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a13af1ce0f1c5467c2718b3d683c13c28">effect_dermatik</a> );</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>        <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a> );</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>        <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">effect_bloodworms</a> );</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>        <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="player_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">effect_brainworms</a> );</div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span>        <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a914db3df05fd548e81adc85699eaaf05">effect_paincysts</a> );</div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Something writhes and inside of you as it dies.&quot;</span> ) );</div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>    }</div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#af18c51d2a8f81b4d06912d40760e9691">trait_ACIDBLOOD</a> ) &amp;&amp; ( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a13af1ce0f1c5467c2718b3d683c13c28">effect_dermatik</a> ) ||</div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>                                          <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">effect_bloodworms</a> ) ||</div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>                                          <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">effect_brainworms</a> ) ) ) {</div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>        <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a13af1ce0f1c5467c2718b3d683c13c28">effect_dermatik</a> );</div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>        <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">effect_bloodworms</a> );</div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>        <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="player_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">effect_brainworms</a> );</div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span>    }</div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#abb2203fc9372a7f9651ccca81239445a">trait_EATHEALTH</a> ) &amp;&amp; <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a> ) ) {</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>        <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a> );</div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your bowels gurgle as something inside them dies.&quot;</span> ) );</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span>    }</div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span> </div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>    <span class="comment">//Human only effects</span></div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : *<a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> ) {</div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;_effect_it : elem.second ) {</div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>            <span class="keywordflow">if</span>( !_effect_it.second.is_removed() ) {</div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span>                <a class="code hl_function" href="classplayer.html#a68503248e87087f09489e2b36f4753ec">process_one_effect</a>( _effect_it.second, <span class="keyword">false</span> );</div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>            }</div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span>        }</div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span>    }</div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span>}</div>
<div class="ttc" id="aclassplayer_html_a68503248e87087f09489e2b36f4753ec"><div class="ttname"><a href="classplayer.html#a68503248e87087f09489e2b36f4753ec">player::process_one_effect</a></div><div class="ttdeci">void process_one_effect(effect &amp;it, bool is_new) override</div><div class="ttdoc">Processes human-specific effects of an effect.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l01432">player.cpp:1432</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a074b87b8d18347675f51ed9e6d7e8787"><div class="ttname"><a href="player_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">effect_bloodworms</a></div><div class="ttdeci">static const efftype_id effect_bloodworms(&quot;bloodworms&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a08ed8f8240259a6a457502b0db459e08"><div class="ttname"><a href="player_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a></div><div class="ttdeci">static const efftype_id effect_fungus(&quot;fungus&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a13af1ce0f1c5467c2718b3d683c13c28"><div class="ttname"><a href="player_8cpp.html#a13af1ce0f1c5467c2718b3d683c13c28">effect_dermatik</a></div><div class="ttdeci">static const efftype_id effect_dermatik(&quot;dermatik&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a308d750c2cc01d70d7622fdee14be3a5"><div class="ttname"><a href="player_8cpp.html#a308d750c2cc01d70d7622fdee14be3a5">trait_M_IMMUNE</a></div><div class="ttdeci">static const trait_id trait_M_IMMUNE(&quot;M_IMMUNE&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a41e08c32ee980d1dd390b1d031c16696"><div class="ttname"><a href="player_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a></div><div class="ttdeci">static const efftype_id effect_tapeworm(&quot;tapeworm&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a6c2652eceffb663021aeae9d4b7d0429"><div class="ttname"><a href="player_8cpp.html#a6c2652eceffb663021aeae9d4b7d0429">trait_PARAIMMUNE</a></div><div class="ttdeci">static const trait_id trait_PARAIMMUNE(&quot;PARAIMMUNE&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a914db3df05fd548e81adc85699eaaf05"><div class="ttname"><a href="player_8cpp.html#a914db3df05fd548e81adc85699eaaf05">effect_paincysts</a></div><div class="ttdeci">static const efftype_id effect_paincysts(&quot;paincysts&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_abb2203fc9372a7f9651ccca81239445a"><div class="ttname"><a href="player_8cpp.html#abb2203fc9372a7f9651ccca81239445a">trait_EATHEALTH</a></div><div class="ttdeci">static const trait_id trait_EATHEALTH(&quot;EATHEALTH&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_af18c51d2a8f81b4d06912d40760e9691"><div class="ttname"><a href="player_8cpp.html#af18c51d2a8f81b4d06912d40760e9691">trait_ACIDBLOOD</a></div><div class="ttdeci">static const trait_id trait_ACIDBLOOD(&quot;ACIDBLOOD&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_af39c36bbd4b4d5ea9cc11bbaba43570f"><div class="ttname"><a href="player_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">effect_brainworms</a></div><div class="ttdeci">static const efftype_id effect_brainworms(&quot;brainworms&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="player_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">effect_bloodworms</a>, <a class="el" href="player_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">effect_brainworms</a>, <a class="el" href="player_8cpp.html#a84bed2f340b7b3bf9a0ae0c95eabc6dc">effect_darkness</a>, <a class="el" href="player_8cpp.html#a13af1ce0f1c5467c2718b3d683c13c28">effect_dermatik</a>, <a class="el" href="player_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a>, <a class="el" href="player_8cpp.html#a914db3df05fd548e81adc85699eaaf05">effect_paincysts</a>, <a class="el" href="player_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a>, <a class="el" href="creature_8h_source.html#l00808">Creature::effects</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="player_8cpp_source.html#l01432">process_one_effect()</a>, <a class="el" href="creature_8cpp_source.html#l01130">Creature::remove_effect()</a>, <a class="el" href="player_8cpp.html#af18c51d2a8f81b4d06912d40760e9691">trait_ACIDBLOOD</a>, <a class="el" href="player_8cpp.html#abb2203fc9372a7f9651ccca81239445a">trait_EATHEALTH</a>, <a class="el" href="player_8cpp.html#a308d750c2cc01d70d7622fdee14be3a5">trait_M_IMMUNE</a>, <a class="el" href="player_8cpp.html#a6c2652eceffb663021aeae9d4b7d0429">trait_PARAIMMUNE</a>, and <a class="el" href="character_8cpp_source.html#l07775">Character::vomit()</a>.</p>

</div>
</div>
<a id="a53fed4109f94db9842d86d982f291a10" name="a53fed4109f94db9842d86d982f291a10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53fed4109f94db9842d86d982f291a10">&#9670;&nbsp;</a></span>process_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::process_items </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01782">1782</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>{</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a22d1f85c07bab6621bbd16d301b22bbf">needs_processing</a>() &amp;&amp; <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a36618e7473c8e261835fbe80c32a07bd">process</a>( <span class="keyword">this</span>, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <span class="keyword">false</span> ) ) {</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>        <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> = <a class="code hl_class" href="classitem.html">item</a>();</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>    }</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span> </div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>    std::vector&lt;item *&gt; inv_active = <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a1ea0a054f11675831cef03a936bd5813">active_items</a>();</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> *tmp_it : inv_active ) {</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>        <span class="keywordflow">if</span>( tmp_it-&gt;process( <span class="keyword">this</span>, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <span class="keyword">false</span> ) ) {</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>            <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a36e4b99300e1fe64920ce52911c04127">remove_item</a>( tmp_it );</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>        }</div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>    }</div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span> </div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>    <span class="comment">// worn items</span></div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>    <a class="code hl_function" href="classCharacter.html#ac407c565e22ac2a0d52a17c1c9986c90">remove_worn_items_with</a>( [<span class="keyword">this</span>]( <a class="code hl_class" href="classitem.html">item</a> &amp; itm ) {</div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>        <span class="keywordflow">return</span> itm.<a class="code hl_function" href="classitem.html#a22d1f85c07bab6621bbd16d301b22bbf">needs_processing</a>() &amp;&amp; itm.<a class="code hl_function" href="classitem.html#a36618e7473c8e261835fbe80c32a07bd">process</a>( <span class="keyword">this</span>, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <span class="keyword">false</span> );</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>    } );</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span> </div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>    <span class="comment">// Active item processing done, now we&#39;re recharging.</span></div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span>    std::vector&lt;item *&gt; active_worn_items;</div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>    <span class="keywordtype">bool</span> weapon_active = <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;USE_UPS&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>                         <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &lt; <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#af238865694d157c403d1c7d0b74106dc">maximum_charges</a>();</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>    std::vector&lt;size_t&gt; active_held_items;</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>    <span class="keywordtype">int</span> ch_UPS = 0;</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> index = 0; <a class="code hl_enumvalue" href="namespacedetail.html#ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86">index</a> &lt; <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a51a62ddae83430e06da3c08d5b3fd5e4">size</a>(); <a class="code hl_enumvalue" href="namespacedetail.html#ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86">index</a>++ ) {</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>        <a class="code hl_class" href="classitem.html">item</a> &amp;it = <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a3327fb977cf0d264d61e708527f0d2c0">find_item</a>( index );</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>        <a class="code hl_class" href="classstring__id.html">itype_id</a> identifier = it.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">get_id</a>();</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>        <span class="keywordflow">if</span>( identifier == <a class="code hl_variable" href="player_8cpp.html#ae89306fd36cf36b57fe05dad0db3f71b">itype_UPS_off</a> ) {</div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>            ch_UPS += it.<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>();</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( identifier == <a class="code hl_variable" href="player_8cpp.html#a1c359a305b979b2e5fc87d15db51e903">itype_adv_UPS_off</a> ) {</div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>            ch_UPS += it.<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() / 0.6;</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>        }</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>        <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;USE_UPS&quot;</span> ) &amp;&amp; it.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &lt; it.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#af238865694d157c403d1c7d0b74106dc">maximum_charges</a>() ) {</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>            active_held_items.push_back( index );</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>        }</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>    }</div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>    <span class="keywordtype">bool</span> update_required = <a class="code hl_function" href="classCharacter.html#a165e76d3db9a1a8c6810b25c9b0ed42f">get_check_encumbrance</a>();</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> &amp;w : <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a> ) {</div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>        <span class="keywordflow">if</span>( w.has_flag( <span class="stringliteral">&quot;USE_UPS&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>            w.charges &lt; w.type-&gt;maximum_charges() ) {</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span>            active_worn_items.push_back( &amp;w );</div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span>        }</div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>        <span class="comment">// Necessary for UPS in Aftershock - check worn items for charge</span></div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span>        <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;identifier = w.typeId();</div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span>        <span class="keywordflow">if</span>( identifier == <a class="code hl_variable" href="player_8cpp.html#ae89306fd36cf36b57fe05dad0db3f71b">itype_UPS_off</a> ) {</div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>            ch_UPS += w.ammo_remaining();</div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( identifier == <a class="code hl_variable" href="player_8cpp.html#a1c359a305b979b2e5fc87d15db51e903">itype_adv_UPS_off</a> ) {</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>            ch_UPS += w.ammo_remaining() / 0.6;</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span>        }</div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>        <span class="keywordflow">if</span>( !update_required &amp;&amp; w.encumbrance_update_ ) {</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>            update_required = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>        }</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>        w.encumbrance_update_ = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>    }</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>    <span class="keywordflow">if</span>( update_required ) {</div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>        <a class="code hl_function" href="classCharacter.html#ad67a790400ac88405241f279b566b89e">reset_encumbrance</a>();</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>    }</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af9c7419575e23d52745c94009929fafb">has_active_bionic</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a965ba98fb0eca1e875b86fcf2bc91ab8">bionic_id</a>( <span class="stringliteral">&quot;bio_ups&quot;</span> ) ) ) {</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>        ch_UPS += <a class="code hl_function" href="namespaceunits.html#a54442f1523294bc7b9946662beed96e6">units::to_kilojoule</a>( <a class="code hl_function" href="classCharacter.html#add22510ff2fa20a662868b4dd86e030e">get_power_level</a>() );</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>    }</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>    <span class="keywordtype">int</span> ch_UPS_used = 0;</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span> </div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>    <span class="comment">// Load all items that use the UPS to their minimal functional charge,</span></div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>    <span class="comment">// The tool is not really useful if its charges are below charges_to_use</span></div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> index : active_held_items ) {</div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>        <span class="keywordflow">if</span>( ch_UPS_used &gt;= ch_UPS ) {</div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>        }</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>        <a class="code hl_class" href="classitem.html">item</a> &amp;it = <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a3327fb977cf0d264d61e708527f0d2c0">find_item</a>( index );</div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>        ch_UPS_used++;</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>        it.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>++;</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>    }</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>    <span class="keywordflow">if</span>( weapon_active &amp;&amp; ch_UPS_used &lt; ch_UPS ) {</div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>        ch_UPS_used++;</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>        <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>++;</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>    }</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> *worn_item : active_worn_items ) {</div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>        <span class="keywordflow">if</span>( ch_UPS_used &gt;= ch_UPS ) {</div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>        }</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span>        ch_UPS_used++;</div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>        worn_item-&gt;charges++;</div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>    }</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>    <span class="keywordflow">if</span>( ch_UPS_used &gt; 0 ) {</div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>        <a class="code hl_function" href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">use_charges</a>( <a class="code hl_variable" href="player_8cpp.html#a55a80a9bbab1925d5462d46d355c2b6e">itype_UPS</a>, ch_UPS_used );</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>    }</div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>}</div>
<div class="ttc" id="aclassCharacter_html_a165e76d3db9a1a8c6810b25c9b0ed42f"><div class="ttname"><a href="classCharacter.html#a165e76d3db9a1a8c6810b25c9b0ed42f">Character::get_check_encumbrance</a></div><div class="ttdeci">bool get_check_encumbrance()</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02002">character.h:2002</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac407c565e22ac2a0d52a17c1c9986c90"><div class="ttname"><a href="classCharacter.html#ac407c565e22ac2a0d52a17c1c9986c90">Character::remove_worn_items_with</a></div><div class="ttdeci">std::list&lt; item &gt; remove_worn_items_with(std::function&lt; bool(item &amp;)&gt; filter)</div><div class="ttdoc">Similar to remove_items_with, but considers only worn items and not their content (item::contents is ...</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02336">character.cpp:2336</a></div></div>
<div class="ttc" id="aclassinventory_html_a1ea0a054f11675831cef03a936bd5813"><div class="ttname"><a href="classinventory.html#a1ea0a054f11675831cef03a936bd5813">inventory::active_items</a></div><div class="ttdeci">std::vector&lt; item * &gt; active_items()</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l01079">inventory.cpp:1079</a></div></div>
<div class="ttc" id="aclassinventory_html_a3327fb977cf0d264d61e708527f0d2c0"><div class="ttname"><a href="classinventory.html#a3327fb977cf0d264d61e708527f0d2c0">inventory::find_item</a></div><div class="ttdeci">const item &amp; find_item(int position) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00790">inventory.cpp:790</a></div></div>
<div class="ttc" id="aclassitem_html_a22d1f85c07bab6621bbd16d301b22bbf"><div class="ttname"><a href="classitem.html#a22d1f85c07bab6621bbd16d301b22bbf">item::needs_processing</a></div><div class="ttdeci">bool needs_processing() const</div><div class="ttdoc">Whether the item should be processed (by calling process).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08772">item.cpp:8772</a></div></div>
<div class="ttc" id="aclassitem_html_a36618e7473c8e261835fbe80c32a07bd"><div class="ttname"><a href="classitem.html#a36618e7473c8e261835fbe80c32a07bd">item::process</a></div><div class="ttdeci">bool process(player *carrier, const tripoint &amp;pos, bool activate, float insulation=1, temperature_flag flag=temperature_flag::TEMP_NORMAL)</div><div class="ttdoc">This is called once each turn.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09426">item.cpp:9426</a></div></div>
<div class="ttc" id="anamespacedetail_html_ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86"><div class="ttname"><a href="namespacedetail.html#ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86">detail::arg_id_kind::index</a></div><div class="ttdeci">@ index</div></div>
<div class="ttc" id="anamespaceunits_html_a54442f1523294bc7b9946662beed96e6"><div class="ttname"><a href="namespaceunits.html#a54442f1523294bc7b9946662beed96e6">units::to_kilojoule</a></div><div class="ttdeci">constexpr value_type to_kilojoule(const quantity&lt; value_type, energy_in_joule_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units__energy_8h_source.html#l00046">units_energy.h:46</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a1c359a305b979b2e5fc87d15db51e903"><div class="ttname"><a href="player_8cpp.html#a1c359a305b979b2e5fc87d15db51e903">itype_adv_UPS_off</a></div><div class="ttdeci">static const itype_id itype_adv_UPS_off(&quot;adv_UPS_off&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a55a80a9bbab1925d5462d46d355c2b6e"><div class="ttname"><a href="player_8cpp.html#a55a80a9bbab1925d5462d46d355c2b6e">itype_UPS</a></div><div class="ttdeci">static const itype_id itype_UPS(&quot;UPS&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_ae89306fd36cf36b57fe05dad0db3f71b"><div class="ttname"><a href="player_8cpp.html#ae89306fd36cf36b57fe05dad0db3f71b">itype_UPS_off</a></div><div class="ttdeci">static const itype_id itype_UPS_off(&quot;UPS_off&quot;)</div></div>
<div class="ttc" id="astructitype_html_af238865694d157c403d1c7d0b74106dc"><div class="ttname"><a href="structitype.html#af238865694d157c403d1c7d0b74106dc">itype::maximum_charges</a></div><div class="ttdeci">int maximum_charges() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01101">itype.h:1101</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l01079">inventory::active_items()</a>, <a class="el" href="item_8cpp_source.html#l07226">item::ammo_remaining()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a965ba98fb0eca1e875b86fcf2bc91ab8">bionic_id</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="inventory_8cpp_source.html#l00790">inventory::find_item()</a>, <a class="el" href="character_8h_source.html#l02002">Character::get_check_encumbrance()</a>, <a class="el" href="itype_8h_source.html#l01070">itype::get_id()</a>, <a class="el" href="character_8cpp_source.html#l01956">Character::get_power_level()</a>, <a class="el" href="character_8cpp_source.html#l01876">Character::has_active_bionic()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="character_8h_source.html#l01583">Character::inv</a>, <a class="el" href="player_8cpp.html#a1c359a305b979b2e5fc87d15db51e903">itype_adv_UPS_off</a>, <a class="el" href="player_8cpp.html#a55a80a9bbab1925d5462d46d355c2b6e">itype_UPS</a>, <a class="el" href="player_8cpp.html#ae89306fd36cf36b57fe05dad0db3f71b">itype_UPS_off</a>, <a class="el" href="itype_8h_source.html#l01101">itype::maximum_charges()</a>, <a class="el" href="item_8cpp_source.html#l08772">item::needs_processing()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="item_8cpp_source.html#l09426">item::process()</a>, <a class="el" href="inventory_8cpp_source.html#l00708">inventory::remove_item()</a>, <a class="el" href="character_8cpp_source.html#l02336">Character::remove_worn_items_with()</a>, <a class="el" href="character_8cpp_source.html#l03614">Character::reset_encumbrance()</a>, <a class="el" href="inventory_8cpp_source.html#l00166">inventory::size()</a>, <a class="el" href="units__energy_8h_source.html#l00046">units::to_kilojoule()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="character_8cpp_source.html#l09631">Character::use_charges()</a>, <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>, and <a class="el" href="character_8h_source.html#l01571">Character::worn</a>.</p>

<p class="reference">Referenced by <a class="el" href="npc_8cpp_source.html#l02655">npc::on_load()</a>, and <a class="el" href="player_8cpp_source.html#l00319">process_turn()</a>.</p>

</div>
</div>
<a id="a68503248e87087f09489e2b36f4753ec" name="a68503248e87087f09489e2b36f4753ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68503248e87087f09489e2b36f4753ec">&#9670;&nbsp;</a></span>process_one_effect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void player::process_one_effect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classeffect.html">effect</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes human-specific effects of an effect. </p>

<p>Implements <a class="el" href="classCreature.html#a8b6571b163899884df43067ab146ab83">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01432">1432</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>{</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>    <span class="keywordtype">bool</span> reduced = <a class="code hl_function" href="classCreature.html#af6a1afd1c3ed70f80b5b902125569408">resists_effect</a>( it );</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>    <span class="keywordtype">double</span> <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = 1;</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>    <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp = it.<a class="code hl_function" href="classeffect.html#ab4bef16d15bbb8c8cd36d8a0432fbbb8">get_bp</a>()-&gt;<a class="code hl_variable" href="structbody__part__type.html#a90beb41f3dca18cdbe06f8483336c899">token</a>;</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>    <span class="keywordtype">int</span> val = 0;</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span> </div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>    <span class="comment">// Still hardcoded stuff, do this first since some modify their other traits</span></div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>    <a class="code hl_function" href="classplayer.html#a35dbd29627c811fa80d6b6226fcc5d24">hardcoded_effects</a>( it );</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span> </div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a> = [&amp;it, is_new]( <span class="keyword">const</span> std::string &amp; <a class="code hl_function" href="fmtlib__core_8h.html#a654171af6def7abe5a92dec0ed1e1179">arg</a>, <span class="keywordtype">bool</span> reduced ) {</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>        <span class="keywordflow">if</span>( is_new ) {</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>            <span class="keywordflow">return</span> it.<a class="code hl_function" href="classeffect.html#aae8437df1fdd1915880964e91346df63">get_amount</a>( <a class="code hl_function" href="fmtlib__core_8h.html#a654171af6def7abe5a92dec0ed1e1179">arg</a>, reduced );</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>        }</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>        <span class="keywordflow">return</span> it.<a class="code hl_function" href="classeffect.html#a7dfb7bc5b13d6720a94d3f76fbc63fda">get_mod</a>( <a class="code hl_function" href="fmtlib__core_8h.html#a654171af6def7abe5a92dec0ed1e1179">arg</a>, reduced );</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>    };</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span> </div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>    <span class="comment">// Handle miss messages</span></div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>    <span class="keyword">auto</span> msgs = it.<a class="code hl_function" href="classeffect.html#ab1dad45bd256eb67742ea534365b966d">get_miss_msgs</a>();</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>    <span class="keywordflow">if</span>( !msgs.empty() ) {</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;i : msgs ) {</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>            <a class="code hl_function" href="classCharacter.html#a6924ca4d6836c2a8c64bd6fda0436c70">add_miss_reason</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( i.first ), <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>( i.second ) );</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>        }</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>    }</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span> </div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>    <span class="comment">// Handle health mod</span></div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>    val = <a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a>( <span class="stringliteral">&quot;H_MOD&quot;</span>, reduced );</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>    <span class="keywordflow">if</span>( val != 0 ) {</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = 1;</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>        <span class="keywordflow">if</span>( is_new || it.<a class="code hl_function" href="classeffect.html#ad1bab370fdf9054a532199c3a0dc0cae">activated</a>( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <span class="stringliteral">&quot;H_MOD&quot;</span>, val, reduced, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) ) {</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>            <span class="keywordtype">int</span> bounded = <a class="code hl_function" href="cata__utility_8cpp.html#a83338e5cfd99aac60a46f68a518b1bc2">bound_mod_to_vals</a>(</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>                              <a class="code hl_function" href="classCharacter.html#a21e465cff376e96f87dd4e9202bff601">get_healthy_mod</a>(), val, it.<a class="code hl_function" href="classeffect.html#a82743f90762e7ad1d091f7c6b27e0ab8">get_max_val</a>( <span class="stringliteral">&quot;H_MOD&quot;</span>, reduced ),</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>                              it.<a class="code hl_function" href="classeffect.html#ad7c6b77f6a030f65634121d539161c63">get_min_val</a>( <span class="stringliteral">&quot;H_MOD&quot;</span>, reduced ) );</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>            <span class="comment">// This already applies bounds, so we pass them through.</span></div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>            <a class="code hl_function" href="classCharacter.html#a8c4e364e25b0ea4d5a27c3120a9f973f">mod_healthy_mod</a>( bounded, <a class="code hl_function" href="classCharacter.html#a21e465cff376e96f87dd4e9202bff601">get_healthy_mod</a>() + bounded );</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>        }</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>    }</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span> </div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>    <span class="comment">// Handle health</span></div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>    val = <a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a>( <span class="stringliteral">&quot;HEALTH&quot;</span>, reduced );</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>    <span class="keywordflow">if</span>( val != 0 ) {</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = 1;</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>        <span class="keywordflow">if</span>( is_new || it.<a class="code hl_function" href="classeffect.html#ad1bab370fdf9054a532199c3a0dc0cae">activated</a>( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <span class="stringliteral">&quot;HEALTH&quot;</span>, val, reduced, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) ) {</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>            <a class="code hl_function" href="classCharacter.html#a0dccbd6c8830ec355bd793c74291fa8d">mod_healthy</a>( <a class="code hl_function" href="cata__utility_8cpp.html#a83338e5cfd99aac60a46f68a518b1bc2">bound_mod_to_vals</a>( <a class="code hl_function" href="classCharacter.html#a4c9fb43c7fb93a18f5d1a785790faca4">get_healthy</a>(), val,</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>                                            it.<a class="code hl_function" href="classeffect.html#a82743f90762e7ad1d091f7c6b27e0ab8">get_max_val</a>( <span class="stringliteral">&quot;HEALTH&quot;</span>, reduced ), it.<a class="code hl_function" href="classeffect.html#ad7c6b77f6a030f65634121d539161c63">get_min_val</a>( <span class="stringliteral">&quot;HEALTH&quot;</span>, reduced ) ) );</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>        }</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>    }</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span> </div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>    <span class="comment">// Handle stim</span></div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>    val = <a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a>( <span class="stringliteral">&quot;STIM&quot;</span>, reduced );</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>    <span class="keywordflow">if</span>( val != 0 ) {</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = 1;</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>        <span class="keywordflow">if</span>( is_new || it.<a class="code hl_function" href="classeffect.html#ad1bab370fdf9054a532199c3a0dc0cae">activated</a>( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <span class="stringliteral">&quot;STIM&quot;</span>, val, reduced, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) ) {</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>            <a class="code hl_function" href="classCharacter.html#ac840406f65172cadd93d4274ddd78e15">mod_stim</a>( <a class="code hl_function" href="cata__utility_8cpp.html#a83338e5cfd99aac60a46f68a518b1bc2">bound_mod_to_vals</a>( <a class="code hl_function" href="classCharacter.html#a7335f053c5874081211552623fa625c5">get_stim</a>(), val, it.<a class="code hl_function" href="classeffect.html#a82743f90762e7ad1d091f7c6b27e0ab8">get_max_val</a>( <span class="stringliteral">&quot;STIM&quot;</span>, reduced ),</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span>                                         it.<a class="code hl_function" href="classeffect.html#ad7c6b77f6a030f65634121d539161c63">get_min_val</a>( <span class="stringliteral">&quot;STIM&quot;</span>, reduced ) ) );</div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span>        }</div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>    }</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span> </div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>    <span class="comment">// Handle hunger</span></div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>    val = <a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a>( <span class="stringliteral">&quot;HUNGER&quot;</span>, reduced );</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>    <span class="keywordflow">if</span>( val != 0 ) {</div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = 1;</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>        <span class="keywordflow">if</span>( is_new || it.<a class="code hl_function" href="classeffect.html#ad1bab370fdf9054a532199c3a0dc0cae">activated</a>( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <span class="stringliteral">&quot;HUNGER&quot;</span>, val, reduced, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) ) {</div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>            <a class="code hl_function" href="classCharacter.html#a431180ff2af878a9956bf474783017c0">mod_stored_kcal</a>( -10 * <a class="code hl_function" href="cata__utility_8cpp.html#a83338e5cfd99aac60a46f68a518b1bc2">bound_mod_to_vals</a>( ( <a class="code hl_function" href="classCharacter.html#a4905fef46d52e8b8334cc22666addcf0">max_stored_kcal</a>() - <a class="code hl_function" href="classCharacter.html#a824a60fef8920f38a6f1e1b35bea4879">get_stored_kcal</a>() ) / 10,</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>                             val, it.<a class="code hl_function" href="classeffect.html#a82743f90762e7ad1d091f7c6b27e0ab8">get_max_val</a>( <span class="stringliteral">&quot;HUNGER&quot;</span>, reduced ), it.<a class="code hl_function" href="classeffect.html#ad7c6b77f6a030f65634121d539161c63">get_min_val</a>( <span class="stringliteral">&quot;HUNGER&quot;</span>, reduced ) ) );</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>        }</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>    }</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span> </div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>    <span class="comment">// Handle thirst</span></div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>    val = <a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a>( <span class="stringliteral">&quot;THIRST&quot;</span>, reduced );</div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>    <span class="keywordflow">if</span>( val != 0 ) {</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = 1;</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>        <span class="keywordflow">if</span>( is_new || it.<a class="code hl_function" href="classeffect.html#ad1bab370fdf9054a532199c3a0dc0cae">activated</a>( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <span class="stringliteral">&quot;THIRST&quot;</span>, val, reduced, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) ) {</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>            <a class="code hl_function" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( <a class="code hl_function" href="cata__utility_8cpp.html#a83338e5cfd99aac60a46f68a518b1bc2">bound_mod_to_vals</a>( <a class="code hl_function" href="classCharacter.html#a7ca6c670844c9fd8c419c474788a7bf7">get_thirst</a>(), val, it.<a class="code hl_function" href="classeffect.html#a82743f90762e7ad1d091f7c6b27e0ab8">get_max_val</a>( <span class="stringliteral">&quot;THIRST&quot;</span>, reduced ),</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>                                           it.<a class="code hl_function" href="classeffect.html#ad7c6b77f6a030f65634121d539161c63">get_min_val</a>( <span class="stringliteral">&quot;THIRST&quot;</span>, reduced ) ) );</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>        }</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>    }</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span> </div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>    <span class="comment">// Handle fatigue</span></div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>    val = <a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a>( <span class="stringliteral">&quot;FATIGUE&quot;</span>, reduced );</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>    <span class="comment">// Prevent ongoing fatigue effects while asleep.</span></div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>    <span class="comment">// These are meant to change how fast you get tired, not how long you sleep.</span></div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>    <span class="keywordflow">if</span>( val != 0 &amp;&amp; !<a class="code hl_function" href="classCharacter.html#a4f0bdbd929787a486a0dd5748ef10c65">in_sleep_state</a>() ) {</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = 1;</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>        <span class="keywordflow">if</span>( is_new || it.<a class="code hl_function" href="classeffect.html#ad1bab370fdf9054a532199c3a0dc0cae">activated</a>( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <span class="stringliteral">&quot;FATIGUE&quot;</span>, val, reduced, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) ) {</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>            <a class="code hl_function" href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">mod_fatigue</a>( <a class="code hl_function" href="cata__utility_8cpp.html#a83338e5cfd99aac60a46f68a518b1bc2">bound_mod_to_vals</a>( <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>(), val, it.<a class="code hl_function" href="classeffect.html#a82743f90762e7ad1d091f7c6b27e0ab8">get_max_val</a>( <span class="stringliteral">&quot;FATIGUE&quot;</span>, reduced ),</div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>                                            it.<a class="code hl_function" href="classeffect.html#ad7c6b77f6a030f65634121d539161c63">get_min_val</a>( <span class="stringliteral">&quot;FATIGUE&quot;</span>, reduced ) ) );</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>        }</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>    }</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span> </div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span>    <span class="comment">// Handle Radiation</span></div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>    val = <a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a>( <span class="stringliteral">&quot;RAD&quot;</span>, reduced );</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>    <span class="keywordflow">if</span>( val != 0 ) {</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = 1;</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>        <span class="keywordflow">if</span>( is_new || it.<a class="code hl_function" href="classeffect.html#ad1bab370fdf9054a532199c3a0dc0cae">activated</a>( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <span class="stringliteral">&quot;RAD&quot;</span>, val, reduced, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) ) {</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>            <a class="code hl_function" href="classCharacter.html#a27c339d757f9f189e7a9280daa0d2630">mod_rad</a>( <a class="code hl_function" href="cata__utility_8cpp.html#a83338e5cfd99aac60a46f68a518b1bc2">bound_mod_to_vals</a>( <a class="code hl_function" href="classCharacter.html#aa81a4b0db6f2387bfc02706a6b7a678e">get_rad</a>(), val, it.<a class="code hl_function" href="classeffect.html#a82743f90762e7ad1d091f7c6b27e0ab8">get_max_val</a>( <span class="stringliteral">&quot;RAD&quot;</span>, reduced ), 0 ) );</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>            <span class="comment">// Radiation can&#39;t go negative</span></div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#aa81a4b0db6f2387bfc02706a6b7a678e">get_rad</a>() &lt; 0 ) {</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>                <a class="code hl_function" href="classCharacter.html#ad06f0f9440098eb66fa9a6c46d033324">set_rad</a>( 0 );</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>            }</div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>        }</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>    }</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span> </div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>    <span class="comment">// Handle Pain</span></div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>    val = <a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a>( <span class="stringliteral">&quot;PAIN&quot;</span>, reduced );</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>    <span class="keywordflow">if</span>( val != 0 ) {</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = 1;</div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>        <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classeffect.html#a56ecf13462b41c25cfb4113e411fba03">get_sizing</a>( <span class="stringliteral">&quot;PAIN&quot;</span> ) ) {</div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a43ae85111a2b2e6825a41a5cd5e619ae">trait_FAT</a> ) ) {</div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>                <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> *= 1.5;</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>            }</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#aa5ca0f6c4fb1c08bb93ece1c9746c368">get_size</a>() == <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a50d9f673ed0348953b2715fa33683791">MS_LARGE</a> ) {</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>                <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> *= 2;</div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>            }</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#aa5ca0f6c4fb1c08bb93ece1c9746c368">get_size</a>() == <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9">MS_HUGE</a> ) {</div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span>                <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> *= 3;</div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>            }</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span>        }</div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>        <span class="keywordflow">if</span>( is_new || it.<a class="code hl_function" href="classeffect.html#ad1bab370fdf9054a532199c3a0dc0cae">activated</a>( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <span class="stringliteral">&quot;PAIN&quot;</span>, val, reduced, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) ) {</div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>            <span class="keywordtype">int</span> pain_inc = <a class="code hl_function" href="cata__utility_8cpp.html#a83338e5cfd99aac60a46f68a518b1bc2">bound_mod_to_vals</a>( <a class="code hl_function" href="classCreature.html#a71e8440dfb96a7a870c29e0472b7b85d">get_pain</a>(), val, it.<a class="code hl_function" href="classeffect.html#a82743f90762e7ad1d091f7c6b27e0ab8">get_max_val</a>( <span class="stringliteral">&quot;PAIN&quot;</span>, reduced ), 0 );</div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>            <a class="code hl_function" href="classplayer.html#a1304421e7a67d0046529f3bd9263ce42">mod_pain</a>( pain_inc );</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>            <span class="keywordflow">if</span>( pain_inc &gt; 0 ) {</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>                <a class="code hl_function" href="classplayer.html#ae57cd543ddae82149c53bc43c12ffd54">add_pain_msg</a>( val, bp );</div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>            }</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>        }</div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>    }</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span> </div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>    <span class="comment">// Handle Damage</span></div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>    val = <a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a>( <span class="stringliteral">&quot;HURT&quot;</span>, reduced );</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>    <span class="keywordflow">if</span>( val != 0 ) {</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = 1;</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>        <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classeffect.html#a56ecf13462b41c25cfb4113e411fba03">get_sizing</a>( <span class="stringliteral">&quot;HURT&quot;</span> ) ) {</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a43ae85111a2b2e6825a41a5cd5e619ae">trait_FAT</a> ) ) {</div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>                <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> *= 1.5;</div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>            }</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#aa5ca0f6c4fb1c08bb93ece1c9746c368">get_size</a>() == <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a50d9f673ed0348953b2715fa33683791">MS_LARGE</a> ) {</div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>                <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> *= 2;</div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>            }</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#aa5ca0f6c4fb1c08bb93ece1c9746c368">get_size</a>() == <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9">MS_HUGE</a> ) {</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>                <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> *= 3;</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>            }</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>        }</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>        <span class="keywordflow">if</span>( is_new || it.<a class="code hl_function" href="classeffect.html#ad1bab370fdf9054a532199c3a0dc0cae">activated</a>( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <span class="stringliteral">&quot;HURT&quot;</span>, val, reduced, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) ) {</div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>            <span class="keywordflow">if</span>( bp == <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> ) {</div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>                <span class="keywordflow">if</span>( val &gt; 5 ) {</div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>                    <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s HURTS!&quot;</span> ), <a class="code hl_function" href="bodypart_8cpp.html#ab29c0bad9828b787ace4d04a5e951c6b">body_part_name_accusative</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab4b216482dcc0e468819f023c3aeddd1">bp_torso</a> ) );</div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>                    <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s hurts!&quot;</span> ), <a class="code hl_function" href="bodypart_8cpp.html#ab29c0bad9828b787ace4d04a5e951c6b">body_part_name_accusative</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab4b216482dcc0e468819f023c3aeddd1">bp_torso</a> ) );</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>                }</div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span>                <a class="code hl_function" href="classCharacter.html#a7c11a4f12bee9f80279bff21faa54153">apply_damage</a>( <span class="keyword">nullptr</span>, <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), val, <span class="keyword">true</span> );</div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>                <span class="keywordflow">if</span>( val &gt; 5 ) {</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span>                    <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s HURTS!&quot;</span> ), <a class="code hl_function" href="bodypart_8cpp.html#ab29c0bad9828b787ace4d04a5e951c6b">body_part_name_accusative</a>( bp ) );</div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>                    <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s hurts!&quot;</span> ), <a class="code hl_function" href="bodypart_8cpp.html#ab29c0bad9828b787ace4d04a5e951c6b">body_part_name_accusative</a>( bp ) );</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>                }</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>                <a class="code hl_function" href="classCharacter.html#a7c11a4f12bee9f80279bff21faa54153">apply_damage</a>( <span class="keyword">nullptr</span>, <a class="code hl_function" href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a>( bp ).<span class="keywordtype">id</span>(), val, <span class="keyword">true</span> );</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>            }</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>        }</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>    }</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span> </div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>    <span class="comment">// Handle Sleep</span></div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>    val = <a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a>( <span class="stringliteral">&quot;SLEEP&quot;</span>, reduced );</div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>    <span class="keywordflow">if</span>( val != 0 ) {</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = 1;</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>        <span class="keywordflow">if</span>( ( is_new || it.<a class="code hl_function" href="classeffect.html#ad1bab370fdf9054a532199c3a0dc0cae">activated</a>( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <span class="stringliteral">&quot;SLEEP&quot;</span>, val, reduced, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) ) &amp;&amp;</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>            !<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5ba36ff0c0cae9ccd113903466f4e47c">efftype_id</a>( <span class="stringliteral">&quot;sleep&quot;</span> ) ) ) {</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You pass out!&quot;</span> ) );</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>            <a class="code hl_function" href="classCharacter.html#a4886c07d74c7e8ad7ce2ced7d8238015">fall_asleep</a>( <a class="code hl_function" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( val ) );</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>        }</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>    }</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span> </div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>    <span class="comment">// Handle painkillers</span></div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>    val = <a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a>( <span class="stringliteral">&quot;PKILL&quot;</span>, reduced );</div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>    <span class="keywordflow">if</span>( val != 0 ) {</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = it.<a class="code hl_function" href="classeffect.html#a8ac5789a9251428bfcb46409c293e7b6">get_addict_mod</a>( <span class="stringliteral">&quot;PKILL&quot;</span>, <a class="code hl_function" href="classCharacter.html#af2f6b4a5ad4b128bda53fe610362b5b0">addiction_level</a>( <a class="code hl_enumvalue" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295bae84226181e271c2b3c7afb435e77dd3b">add_type::PKILLER</a> ) );</div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span>        <span class="keywordflow">if</span>( is_new || it.<a class="code hl_function" href="classeffect.html#ad1bab370fdf9054a532199c3a0dc0cae">activated</a>( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <span class="stringliteral">&quot;PKILL&quot;</span>, val, reduced, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) ) {</div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span>            <a class="code hl_function" href="classCharacter.html#a9790ad52dd6dfc8fd6c615ed994f8105">mod_painkiller</a>( <a class="code hl_function" href="cata__utility_8cpp.html#a83338e5cfd99aac60a46f68a518b1bc2">bound_mod_to_vals</a>( <a class="code hl_function" href="classCharacter.html#a1961ab0f9c702252e550bf42cb8dd974">get_painkiller</a>(), val, it.<a class="code hl_function" href="classeffect.html#a82743f90762e7ad1d091f7c6b27e0ab8">get_max_val</a>( <span class="stringliteral">&quot;PKILL&quot;</span>, reduced ), 0 ) );</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>        }</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>    }</div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span> </div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>    <span class="comment">// Handle coughing</span></div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>    <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = 1;</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>    val = 0;</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span>    <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classeffect.html#ad1bab370fdf9054a532199c3a0dc0cae">activated</a>( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <span class="stringliteral">&quot;COUGH&quot;</span>, val, reduced, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) ) {</div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>        <a class="code hl_function" href="classCharacter.html#a5372963458e39e2755de3489b2624ac2">cough</a>( it.<a class="code hl_function" href="classeffect.html#a5a6272c8dc31c122bd1cda9f0356b40f">get_harmful_cough</a>() );</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span>    }</div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span> </div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span>    <span class="comment">// Handle vomiting</span></div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>    <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = <a class="code hl_function" href="classplayer.html#aafc274c41799c1d77e81e52ee9a723bb">vomit_mod</a>();</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span>    val = 0;</div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span>    <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classeffect.html#ad1bab370fdf9054a532199c3a0dc0cae">activated</a>( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <span class="stringliteral">&quot;VOMIT&quot;</span>, val, reduced, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) ) {</div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>        <a class="code hl_function" href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">vomit</a>();</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span>    }</div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span> </div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span>    <span class="comment">// Handle stamina</span></div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span>    val = <a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a>( <span class="stringliteral">&quot;STAMINA&quot;</span>, reduced );</div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>    <span class="keywordflow">if</span>( val != 0 ) {</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = 1;</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>        <span class="keywordflow">if</span>( is_new || it.<a class="code hl_function" href="classeffect.html#ad1bab370fdf9054a532199c3a0dc0cae">activated</a>( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <span class="stringliteral">&quot;STAMINA&quot;</span>, val, reduced, <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) ) {</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>            <a class="code hl_function" href="classCharacter.html#ac29de3d2bc90dd1c8d921b539fb05cfb">mod_stamina</a>( <a class="code hl_function" href="cata__utility_8cpp.html#a83338e5cfd99aac60a46f68a518b1bc2">bound_mod_to_vals</a>( <a class="code hl_function" href="classCharacter.html#a0ffe14df559cee6e9b5d02f5b214d009">get_stamina</a>(), val,</div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span>                                            it.<a class="code hl_function" href="classeffect.html#a82743f90762e7ad1d091f7c6b27e0ab8">get_max_val</a>( <span class="stringliteral">&quot;STAMINA&quot;</span>, reduced ),</div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span>                                            it.<a class="code hl_function" href="classeffect.html#ad7c6b77f6a030f65634121d539161c63">get_min_val</a>( <span class="stringliteral">&quot;STAMINA&quot;</span>, reduced ) ) );</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>        }</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>    }</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span> </div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>    <span class="comment">// Speed and stats are handled in recalc_speed_bonus and reset_stats respectively</span></div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>}</div>
<div class="ttc" id="acata__utility_8cpp_html_a83338e5cfd99aac60a46f68a518b1bc2"><div class="ttname"><a href="cata__utility_8cpp.html#a83338e5cfd99aac60a46f68a518b1bc2">bound_mod_to_vals</a></div><div class="ttdeci">int bound_mod_to_vals(int val, int mod, int max, int min)</div><div class="ttdoc">Clamp the value of a modifier in order to bound the resulting value.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8cpp_source.html#l00111">cata_utility.cpp:111</a></div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a5ba36ff0c0cae9ccd113903466f4e47c"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5ba36ff0c0cae9ccd113903466f4e47c">cata_variant_type::efftype_id</a></div><div class="ttdeci">@ efftype_id</div></div>
<div class="ttc" id="aclassCharacter_html_a0dccbd6c8830ec355bd793c74291fa8d"><div class="ttname"><a href="classCharacter.html#a0dccbd6c8830ec355bd793c74291fa8d">Character::mod_healthy</a></div><div class="ttdeci">virtual void mod_healthy(int nhealthy)</div><div class="ttdoc">Modifiers for health values exclusive to characters.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04230">character.cpp:4230</a></div></div>
<div class="ttc" id="aclassCharacter_html_a21e465cff376e96f87dd4e9202bff601"><div class="ttname"><a href="classCharacter.html#a21e465cff376e96f87dd4e9202bff601">Character::get_healthy_mod</a></div><div class="ttdeci">virtual int get_healthy_mod() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04129">character.cpp:4129</a></div></div>
<div class="ttc" id="aclassCharacter_html_a27c339d757f9f189e7a9280daa0d2630"><div class="ttname"><a href="classCharacter.html#a27c339d757f9f189e7a9280daa0d2630">Character::mod_rad</a></div><div class="ttdeci">void mod_rad(int mod)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07167">character.cpp:7167</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5372963458e39e2755de3489b2624ac2"><div class="ttname"><a href="classCharacter.html#a5372963458e39e2755de3489b2624ac2">Character::cough</a></div><div class="ttdeci">void cough(bool harmful=false, int loudness=4)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07628">character.cpp:7628</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9790ad52dd6dfc8fd6c615ed994f8105"><div class="ttname"><a href="classCharacter.html#a9790ad52dd6dfc8fd6c615ed994f8105">Character::mod_painkiller</a></div><div class="ttdeci">void mod_painkiller(int npkill)</div><div class="ttdoc">Modifies intensity of painkillers</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09756">character.cpp:9756</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa81a4b0db6f2387bfc02706a6b7a678e"><div class="ttname"><a href="classCharacter.html#aa81a4b0db6f2387bfc02706a6b7a678e">Character::get_rad</a></div><div class="ttdeci">int get_rad() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07157">character.cpp:7157</a></div></div>
<div class="ttc" id="aclassCharacter_html_af2f6b4a5ad4b128bda53fe610362b5b0"><div class="ttname"><a href="classCharacter.html#af2f6b4a5ad4b128bda53fe610362b5b0">Character::addiction_level</a></div><div class="ttdeci">int addiction_level(add_type type) const</div><div class="ttdoc">Returns the intensity of the specified addiction.</div><div class="ttdef"><b>Definition:</b> <a href="suffer_8cpp_source.html#l01959">suffer.cpp:1959</a></div></div>
<div class="ttc" id="aclasseffect_html_a56ecf13462b41c25cfb4113e411fba03"><div class="ttname"><a href="classeffect.html#a56ecf13462b41c25cfb4113e411fba03">effect::get_sizing</a></div><div class="ttdeci">bool get_sizing(const std::string &amp;arg) const</div><div class="ttdoc">Returns true if the given modifier type's trigger chance is affected by size mutations.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01021">effect.cpp:1021</a></div></div>
<div class="ttc" id="aclasseffect_html_a5a6272c8dc31c122bd1cda9f0356b40f"><div class="ttname"><a href="classeffect.html#a5a6272c8dc31c122bd1cda9f0356b40f">effect::get_harmful_cough</a></div><div class="ttdeci">bool get_harmful_cough() const</div><div class="ttdoc">Returns true if the coughs caused by an effect can harm the player directly.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01199">effect.cpp:1199</a></div></div>
<div class="ttc" id="aclasseffect_html_a82743f90762e7ad1d091f7c6b27e0ab8"><div class="ttname"><a href="classeffect.html#a82743f90762e7ad1d091f7c6b27e0ab8">effect::get_max_val</a></div><div class="ttdeci">int get_max_val(std::string arg, bool reduced=false) const</div><div class="ttdoc">Returns the maximum value of a modifier type that get_mod() and get_amount() will push the player to.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01006">effect.cpp:1006</a></div></div>
<div class="ttc" id="aclasseffect_html_a8ac5789a9251428bfcb46409c293e7b6"><div class="ttname"><a href="classeffect.html#a8ac5789a9251428bfcb46409c293e7b6">effect::get_addict_mod</a></div><div class="ttdeci">double get_addict_mod(const std::string &amp;arg, int addict_level) const</div><div class="ttdoc">Returns the modifier caused by addictions.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01185">effect.cpp:1185</a></div></div>
<div class="ttc" id="aclasseffect_html_aae8437df1fdd1915880964e91346df63"><div class="ttname"><a href="classeffect.html#aae8437df1fdd1915880964e91346df63">effect::get_amount</a></div><div class="ttdeci">int get_amount(std::string arg, bool reduced=false) const</div><div class="ttdoc">Returns the amount of a modifier type applied when a new effect is first added.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00974">effect.cpp:974</a></div></div>
<div class="ttc" id="aclasseffect_html_ab1dad45bd256eb67742ea534365b966d"><div class="ttname"><a href="classeffect.html#ab1dad45bd256eb67742ea534365b966d">effect::get_miss_msgs</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; std::string, int &gt; &gt; get_miss_msgs() const</div><div class="ttdoc">Returns a vector of the miss message messages and chances for use in add_miss_reason() while the effe...</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01216">effect.cpp:1216</a></div></div>
<div class="ttc" id="aclasseffect_html_ad1bab370fdf9054a532199c3a0dc0cae"><div class="ttname"><a href="classeffect.html#ad1bab370fdf9054a532199c3a0dc0cae">effect::activated</a></div><div class="ttdeci">bool activated(const time_point &amp;when, std::string arg, int val, bool reduced=false, double mod=1) const</div><div class="ttdoc">Checks to see if a given modifier type can activate, and performs any rolls required to do so.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01108">effect.cpp:1108</a></div></div>
<div class="ttc" id="aclasseffect_html_ad7c6b77f6a030f65634121d539161c63"><div class="ttname"><a href="classeffect.html#ad7c6b77f6a030f65634121d539161c63">effect::get_min_val</a></div><div class="ttdeci">int get_min_val(std::string arg, bool reduced=false) const</div><div class="ttdoc">Returns the minimum value of a modifier type that get_mod() and get_amount() will push the player to.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00991">effect.cpp:991</a></div></div>
<div class="ttc" id="aclassplayer_html_a35dbd29627c811fa80d6b6226fcc5d24"><div class="ttname"><a href="classplayer.html#a35dbd29627c811fa80d6b6226fcc5d24">player::hardcoded_effects</a></div><div class="ttdeci">void hardcoded_effects(effect &amp;it)</div><div class="ttdoc">Handles the still hard-coded effects.</div><div class="ttdef"><b>Definition:</b> <a href="player__hardcoded__effects_8cpp_source.html#l00464">player_hardcoded_effects.cpp:464</a></div></div>
<div class="ttc" id="aclassplayer_html_ae57cd543ddae82149c53bc43c12ffd54"><div class="ttname"><a href="classplayer.html#ae57cd543ddae82149c53bc43c12ffd54">player::add_pain_msg</a></div><div class="ttdeci">void add_pain_msg(int val, body_part bp) const</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l01395">player.cpp:1395</a></div></div>
<div class="ttc" id="aclasstime__duration_html_a0f7145f4fc4c09defbaf25f468e4e54a"><div class="ttname"><a href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a></div><div class="ttdeci">static constexpr time_duration from_turns(const T t)</div><div class="ttdoc">Named constructors to get a duration representing a multiple of the named time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00204">calendar.h:204</a></div></div>
<div class="ttc" id="acreature_8h_html_a94151e401c177b20ea9b8bcadf74f592a50d9f673ed0348953b2715fa33683791"><div class="ttname"><a href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a50d9f673ed0348953b2715fa33683791">MS_LARGE</a></div><div class="ttdeci">@ MS_LARGE</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00061">creature.h:61</a></div></div>
<div class="ttc" id="afmtlib__core_8h_html_a654171af6def7abe5a92dec0ed1e1179"><div class="ttname"><a href="fmtlib__core_8h.html#a654171af6def7abe5a92dec0ed1e1179">arg</a></div><div class="ttdeci">detail::named_arg&lt; Char, T &gt; arg(const Char *name, const T &amp;arg)</div><div class="ttdoc">\rst Returns a named argument to be used in a formatting function.</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__core_8h_source.html#l01860">fmtlib_core.h:1860</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a43ae85111a2b2e6825a41a5cd5e619ae"><div class="ttname"><a href="player_8cpp.html#a43ae85111a2b2e6825a41a5cd5e619ae">trait_FAT</a></div><div class="ttdeci">static const trait_id trait_FAT(&quot;FAT&quot;)</div></div>
<div class="ttc" id="apldata_8h_html_abffc2f52fa6cfeac2e388c6de0ac295bae84226181e271c2b3c7afb435e77dd3b"><div class="ttname"><a href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295bae84226181e271c2b3c7afb435e77dd3b">add_type::PKILLER</a></div><div class="ttdeci">@ PKILLER</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="effect_8cpp_source.html#l01108">effect::activated()</a>, <a class="el" href="melee_8cpp_source.html#l00318">Character::add_miss_reason()</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l01395">add_pain_msg()</a>, <a class="el" href="suffer_8cpp_source.html#l01959">Character::addiction_level()</a>, <a class="el" href="character_8cpp_source.html#l08385">Character::apply_damage()</a>, <a class="el" href="fmtlib__core_8h_source.html#l01860">arg()</a>, <a class="el" href="bodypart_8cpp_source.html#l00329">body_part_name_accusative()</a>, <a class="el" href="cata__utility_8cpp_source.html#l00111">bound_mod_to_vals()</a>, <a class="el" href="bodypart_8h_source.html#l00040">bp_torso</a>, <a class="el" href="bodypart_8cpp_source.html#l00185">convert_bp()</a>, <a class="el" href="character_8cpp_source.html#l07628">Character::cough()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5ba36ff0c0cae9ccd113903466f4e47c">efftype_id</a>, <a class="el" href="character_8cpp_source.html#l09248">Character::fall_asleep()</a>, <a class="el" href="calendar_8h_source.html#l00204">time_duration::from_turns()</a>, <a class="el" href="effect_8cpp_source.html#l01185">effect::get_addict_mod()</a>, <a class="el" href="effect_8cpp_source.html#l00974">effect::get_amount()</a>, <a class="el" href="effect_8cpp_source.html#l00835">effect::get_bp()</a>, <a class="el" href="creature_8cpp_source.html#l01213">Creature::get_effect()</a>, <a class="el" href="character_8cpp_source.html#l04439">Character::get_fatigue()</a>, <a class="el" href="effect_8cpp_source.html#l01199">effect::get_harmful_cough()</a>, <a class="el" href="character_8cpp_source.html#l04125">Character::get_healthy()</a>, <a class="el" href="character_8cpp_source.html#l04129">Character::get_healthy_mod()</a>, <a class="el" href="effect_8cpp_source.html#l01006">effect::get_max_val()</a>, <a class="el" href="effect_8cpp_source.html#l00991">effect::get_min_val()</a>, <a class="el" href="effect_8cpp_source.html#l01216">effect::get_miss_msgs()</a>, <a class="el" href="effect_8cpp_source.html#l00910">effect::get_mod()</a>, <a class="el" href="creature_8cpp_source.html#l01360">Creature::get_pain()</a>, <a class="el" href="character_8cpp_source.html#l09777">Character::get_painkiller()</a>, <a class="el" href="character_8cpp_source.html#l07157">Character::get_rad()</a>, <a class="el" href="character_8cpp_source.html#l00534">Character::get_size()</a>, <a class="el" href="effect_8cpp_source.html#l01021">effect::get_sizing()</a>, <a class="el" href="character_8cpp_source.html#l07175">Character::get_stamina()</a>, <a class="el" href="character_8cpp_source.html#l07142">Character::get_stim()</a>, <a class="el" href="character_8cpp_source.html#l04278">Character::get_stored_kcal()</a>, <a class="el" href="character_8cpp_source.html#l04311">Character::get_thirst()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00464">hardcoded_effects()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8cpp_source.html#l09296">Character::in_sleep_state()</a>, <a class="el" href="character_8cpp_source.html#l04301">Character::max_stored_kcal()</a>, <a class="el" href="character_8cpp_source.html#l04414">Character::mod_fatigue()</a>, <a class="el" href="character_8cpp_source.html#l04230">Character::mod_healthy()</a>, <a class="el" href="character_8cpp_source.html#l04242">Character::mod_healthy_mod()</a>, <a class="el" href="player_8cpp_source.html#l01092">mod_pain()</a>, <a class="el" href="character_8cpp_source.html#l09756">Character::mod_painkiller()</a>, <a class="el" href="character_8cpp_source.html#l07167">Character::mod_rad()</a>, <a class="el" href="character_8cpp_source.html#l07194">Character::mod_stamina()</a>, <a class="el" href="character_8cpp_source.html#l07152">Character::mod_stim()</a>, <a class="el" href="character_8cpp_source.html#l04283">Character::mod_stored_kcal()</a>, <a class="el" href="character_8cpp_source.html#l04398">Character::mod_thirst()</a>, <a class="el" href="creature_8h_source.html#l00062">MS_HUGE</a>, <a class="el" href="creature_8h_source.html#l00061">MS_LARGE</a>, <a class="el" href="bodypart_8h_source.html#l00052">num_bp</a>, <a class="el" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295bae84226181e271c2b3c7afb435e77dd3b">PKILLER</a>, <a class="el" href="creature_8cpp_source.html#l01304">Creature::resists_effect()</a>, <a class="el" href="character_8cpp_source.html#l07162">Character::set_rad()</a>, <a class="el" href="bodypart_8h_source.html#l00106">body_part_type::token</a>, <a class="el" href="player_8cpp.html#a43ae85111a2b2e6825a41a5cd5e619ae">trait_FAT</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, <a class="el" href="character_8cpp_source.html#l07775">Character::vomit()</a>, and <a class="el" href="player_8cpp_source.html#l01685">vomit_mod()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l01641">process_effects_internal()</a>.</p>

</div>
</div>
<a id="acb67fb2b2b1249783b07a2429d523554" name="acb67fb2b2b1249783b07a2429d523554"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb67fb2b2b1249783b07a2429d523554">&#9670;&nbsp;</a></span>process_turn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void player::process_turn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets movement points and applies other non-idempotent changes. </p>

<p>Reimplemented from <a class="el" href="classCharacter.html#a3487bbfa5772ac7ec5f5cf116a078912">Character</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00319">319</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>{</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <span class="comment">// Has to happen before reset_stats</span></div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>    <a class="code hl_function" href="classCharacter.html#a995d6d84d90b9b14f66cacede5a5fa16">clear_miss_reasons</a>();</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span> </div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>    <a class="code hl_function" href="classCharacter.html#a3487bbfa5772ac7ec5f5cf116a078912">Character::process_turn</a>();</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span> </div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>    <span class="comment">// If we&#39;re actively handling something we can&#39;t just drop it on the ground</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>    <span class="comment">// in the middle of handling it</span></div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.empty() ) {</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>        <a class="code hl_function" href="classCharacter.html#aa342bc315f7b61074f2ac81217a2a0f5">drop_invalid_inventory</a>();</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    }</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>    <a class="code hl_function" href="classplayer.html#a53fed4109f94db9842d86d982f291a10">process_items</a>();</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    <span class="comment">// Didn&#39;t just pick something up</span></div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    <a class="code hl_variable" href="classCharacter.html#a1819679d2d4e9f8ba5d62ae26737f34c">last_item</a> = <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( <span class="stringliteral">&quot;null&quot;</span> );</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span> </div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() &amp;&amp; <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#af151d09e7927fa1f3c8a519c00c423aa">trait_DEBUG_BIONIC_POWER</a> ) ) {</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>        <a class="code hl_function" href="classCharacter.html#a17446e14fd6046648a505c4aaec3d976">mod_power_level</a>( <a class="code hl_function" href="classCharacter.html#ac3e27cd8b8fe445e06e6d20d0eb82aff">get_max_power_level</a>() );</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    }</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span> </div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    <a class="code hl_function" href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">visit_items</a>( [<span class="keyword">this</span>]( <a class="code hl_class" href="classitem.html">item</a> * e ) {</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>        e-&gt;<a class="code hl_function" href="classitem.html#aaa4ffcaf91f734206a25494d44c01004">process_artifact</a>( <span class="keyword">this</span>, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>        e-&gt;<a class="code hl_function" href="classitem.html#a8121291f73e815bf37295babcb48c90c">process_relic</a>( <span class="keyword">this</span> );</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a>;</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    } );</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span> </div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>    <a class="code hl_function" href="classCharacter.html#ac3066aafc3a5ffe9ee8058e062e177a7">suffer</a>();</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>    <span class="comment">// NPCs currently don&#39;t make any use of their scent, pointless to calculate it</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    <span class="comment">// TODO: make use of NPC scent.</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a70ada8ba76f56302dff4828699ac43b9">effect_masked_scent</a> ) ) {</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>            <a class="code hl_function" href="classCharacter.html#ab7818b073576ebe8b8f1331af79e1f41">restore_scent</a>();</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>        }</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> mask_intensity = <a class="code hl_function" href="classCreature.html#a70ba05a0184ff83095f639eac18f24fe">get_effect_int</a>( <a class="code hl_variable" href="player_8cpp.html#a70ada8ba76f56302dff4828699ac43b9">effect_masked_scent</a> );</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span> </div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>        <span class="comment">// Set our scent towards the norm</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>        <span class="keywordtype">int</span> norm_scent = 500;</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>        <span class="keywordtype">int</span> temp_norm_scent = INT_MIN;</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>        <span class="keywordtype">bool</span> found_intensity = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> &amp;mut : <a class="code hl_function" href="classCharacter.html#a97c5948a2648dc5fd3e2defd5885cdb0">get_mutations</a>() ) {</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>            <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;int&gt;</a> &amp;scent_intensity = mut-&gt;scent_intensity;</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>            <span class="keywordflow">if</span>( scent_intensity ) {</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>                found_intensity = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>                temp_norm_scent = std::max( temp_norm_scent, *scent_intensity );</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>            }</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>        }</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>        <span class="keywordflow">if</span>( found_intensity ) {</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>            norm_scent = temp_norm_scent;</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>        }</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span> </div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> &amp;mut : <a class="code hl_function" href="classCharacter.html#a97c5948a2648dc5fd3e2defd5885cdb0">get_mutations</a>() ) {</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>            <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;int&gt;</a> &amp;scent_mask = mut-&gt;scent_mask;</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>            <span class="keywordflow">if</span>( scent_mask ) {</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>                norm_scent += *scent_mask;</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>            }</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>        }</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>        <span class="comment">//mask from scent altering items;</span></div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>        norm_scent += mask_intensity;</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span> </div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>        <span class="comment">// Scent increases fast at first, and slows down as it approaches normal levels.</span></div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>        <span class="comment">// Estimate it will take about norm_scent * 2 turns to go from 0 - norm_scent / 2</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>        <span class="comment">// Without smelly trait this is about 1.5 hrs. Slows down significantly after that.</span></div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer.html#a76eb82fb9b97610362c542a79393995b">scent</a> &lt; <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, norm_scent ) ) {</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>            <a class="code hl_variable" href="classplayer.html#a76eb82fb9b97610362c542a79393995b">scent</a>++;</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>        }</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span> </div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>        <span class="comment">// Unusually high scent decreases steadily until it reaches normal levels.</span></div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer.html#a76eb82fb9b97610362c542a79393995b">scent</a> &gt; norm_scent ) {</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>            <a class="code hl_variable" href="classplayer.html#a76eb82fb9b97610362c542a79393995b">scent</a>--;</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>        }</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span> </div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> &amp;mut : <a class="code hl_function" href="classCharacter.html#a97c5948a2648dc5fd3e2defd5885cdb0">get_mutations</a>() ) {</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>            <a class="code hl_variable" href="classplayer.html#a76eb82fb9b97610362c542a79393995b">scent</a> *= mut.obj().scent_modifier;</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>        }</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    }</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span> </div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>    <span class="comment">// We can dodge again! Assuming we can actually move...</span></div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a4f0bdbd929787a486a0dd5748ef10c65">in_sleep_state</a>() ) {</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>        <a class="code hl_variable" href="classCharacter.html#a29692fe7943db102dcf564a8966782c6">blocks_left</a> = 0;</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>        <a class="code hl_variable" href="classCharacter.html#a5d450cd31d2779dd654ba6589f09c98b">dodges_left</a> = 0;</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> &gt; 0 ) {</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>        <a class="code hl_variable" href="classCharacter.html#a29692fe7943db102dcf564a8966782c6">blocks_left</a> = <a class="code hl_function" href="classCreature.html#a805a8d90db2178529997b355e8898d70">get_num_blocks</a>();</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>        <a class="code hl_variable" href="classCharacter.html#a5d450cd31d2779dd654ba6589f09c98b">dodges_left</a> = <a class="code hl_function" href="classCreature.html#a655af12aa145ee7fe2340c24a3b4b856">get_num_dodges</a>();</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    }</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span> </div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>    <span class="comment">// auto-learning. This is here because skill-increases happens all over the place:</span></div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    <span class="comment">// SkillLevel::readBook (has no connection to the skill or the player),</span></div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    <span class="comment">// player::read, player::practice, ...</span></div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>    <span class="comment">// Check for spontaneous discovery of martial art styles</span></div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;style : <a class="code hl_function" href="martialarts_8cpp.html#a63233aaf936955f4df6542d8f786116f">autolearn_martialart_types</a>() ) {</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>        <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">matype_id</a> &amp;ma( style );</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span> </div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classCharacter.html#a313797e99525bfd2a5ead68b7672f168">martial_arts_data</a>-&gt;has_martialart( ma ) &amp;&amp; <a class="code hl_function" href="classplayer.html#a2e1328282191fb93805357b248623fb5">can_autolearn</a>( ma ) ) {</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>            <a class="code hl_variable" href="classCharacter.html#a313797e99525bfd2a5ead68b7672f168">martial_arts_data</a>-&gt;add_martialart( ma );</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You have learned a new style: %s!&quot;</span> ), ma.obj().name );</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>        }</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>    }</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span> </div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>    <span class="comment">// Update time spent conscious in this overmap tile for the Nomad traits.</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() &amp;&amp; ( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#aa0461c515f4d2163af71c4800b1ca77f">trait_NOMAD</a> ) || <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a87e9796604a1ccf527b8fff5b72a7c5a">trait_NOMAD2</a> ) ||</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>                       <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a99ebb215551c7b0598da5c0ba8bbae5d">trait_NOMAD3</a> ) ) &amp;&amp;</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>        !<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a> ) &amp;&amp; !<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">effect_narcosis</a> ) ) {</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> ompos = <a class="code hl_function" href="classCharacter.html#af254fa44c7792574ff19973b0fa06b36">global_omt_location</a>();</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcoords_1_1coord__point.html">point_abs_omt</a> <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a> = ompos.<a class="code hl_function" href="classcoords_1_1coord__point.html#acb7438b5f344b6841e64b56100761783">xy</a>();</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a5be95d17f1714899fa0161eddc749f7d">overmap_time</a>.find( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a> ) == <a class="code hl_variable" href="classCharacter.html#a5be95d17f1714899fa0161eddc749f7d">overmap_time</a>.end() ) {</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>            <a class="code hl_variable" href="classCharacter.html#a5be95d17f1714899fa0161eddc749f7d">overmap_time</a>[<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>] = 1_turns;</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>            <a class="code hl_variable" href="classCharacter.html#a5be95d17f1714899fa0161eddc749f7d">overmap_time</a>[<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>] += 1_turns;</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>        }</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>    }</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>    <span class="comment">// Decay time spent in other overmap tiles.</span></div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() &amp;&amp; <a class="code hl_function" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( 1_hours ) ) {</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> ompos = <a class="code hl_function" href="classCharacter.html#af254fa44c7792574ff19973b0fa06b36">global_omt_location</a>();</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>        <span class="keyword">const</span> <a class="code hl_class" href="classtime__point.html">time_point</a> now = <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>;</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>        <a class="code hl_class" href="classtime__duration.html">time_duration</a> decay_time = 0_days;</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#aa0461c515f4d2163af71c4800b1ca77f">trait_NOMAD</a> ) ) {</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>            decay_time = 7_days;</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a87e9796604a1ccf527b8fff5b72a7c5a">trait_NOMAD2</a> ) ) {</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>            decay_time = 14_days;</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a99ebb215551c7b0598da5c0ba8bbae5d">trait_NOMAD3</a> ) ) {</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>            decay_time = 28_days;</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>        }</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>        <span class="keyword">auto</span> it = <a class="code hl_variable" href="classCharacter.html#a5be95d17f1714899fa0161eddc749f7d">overmap_time</a>.begin();</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>        <span class="keywordflow">while</span>( it != <a class="code hl_variable" href="classCharacter.html#a5be95d17f1714899fa0161eddc749f7d">overmap_time</a>.end() ) {</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>            <span class="keywordflow">if</span>( it-&gt;first == ompos.<a class="code hl_function" href="classcoords_1_1coord__point.html#acb7438b5f344b6841e64b56100761783">xy</a>() ) {</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>                it++;</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>            }</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>            <span class="comment">// Find the amount of time passed since the player touched any of the overmap tile&#39;s submaps.</span></div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>            <span class="keyword">const</span> <a class="code hl_class" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> tpt( it-&gt;first, 0 );</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>            <span class="keyword">const</span> <a class="code hl_class" href="classtime__point.html">time_point</a> last_touched = <a class="code hl_variable" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code hl_function" href="classovermapbuffer.html#aac8249284c8cd4887867cbc47d84ff57">scent_at</a>( tpt ).<a class="code hl_variable" href="classscent__trace.html#afaae5b5e3a84f4a1d71182c000303018">creation_time</a>;</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>            <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> since_visit = now - last_touched;</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>            <span class="comment">// If the player has spent little time in this overmap tile, let it decay after just an hour instead of the usual extended decay time.</span></div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>            <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> modified_decay_time = it-&gt;second &gt; 5_minutes ? decay_time : 1_hours;</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>            <span class="keywordflow">if</span>( since_visit &gt; modified_decay_time ) {</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>                <span class="comment">// Reduce the tracked time spent in this overmap tile.</span></div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>                <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> decay_amount = std::min( since_visit - modified_decay_time, 1_hours );</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>                <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> updated_value = it-&gt;second - decay_amount;</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>                <span class="keywordflow">if</span>( updated_value &lt;= 0_turns ) {</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>                    <span class="comment">// We can stop tracking this tile if there&#39;s no longer any time recorded there.</span></div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>                    it = <a class="code hl_variable" href="classCharacter.html#a5be95d17f1714899fa0161eddc749f7d">overmap_time</a>.erase( it );</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>                    it-&gt;second = updated_value;</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>                }</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>            }</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>            it++;</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>        }</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>    }</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>}</div>
<div class="ttc" id="aclassCharacter_html_a3487bbfa5772ac7ec5f5cf116a078912"><div class="ttname"><a href="classCharacter.html#a3487bbfa5772ac7ec5f5cf116a078912">Character::process_turn</a></div><div class="ttdeci">void process_turn() override</div><div class="ttdoc">Handles end-of-turn processing.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01631">character.cpp:1631</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5be95d17f1714899fa0161eddc749f7d"><div class="ttname"><a href="classCharacter.html#a5be95d17f1714899fa0161eddc749f7d">Character::overmap_time</a></div><div class="ttdeci">std::unordered_map&lt; point_abs_omt, time_duration &gt; overmap_time</div><div class="ttdoc">Amount of time the player has spent in each overmap tile.</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02267">character.h:2267</a></div></div>
<div class="ttc" id="aclassCharacter_html_a995d6d84d90b9b14f66cacede5a5fa16"><div class="ttname"><a href="classCharacter.html#a995d6d84d90b9b14f66cacede5a5fa16">Character::clear_miss_reasons</a></div><div class="ttdeci">void clear_miss_reasons()</div><div class="ttdoc">Clears the list of reasons for why the player would miss a melee attack.</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l00324">melee.cpp:324</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa342bc315f7b61074f2ac81217a2a0f5"><div class="ttname"><a href="classCharacter.html#aa342bc315f7b61074f2ac81217a2a0f5">Character::drop_invalid_inventory</a></div><div class="ttdeci">void drop_invalid_inventory()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03179">character.cpp:3179</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab7818b073576ebe8b8f1331af79e1f41"><div class="ttname"><a href="classCharacter.html#ab7818b073576ebe8b8f1331af79e1f41">Character::restore_scent</a></div><div class="ttdeci">void restore_scent()</div><div class="ttdoc">restore scent after masked_scent effect run out or is removed by water</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08742">character.cpp:8742</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac3066aafc3a5ffe9ee8058e062e177a7"><div class="ttname"><a href="classCharacter.html#ac3066aafc3a5ffe9ee8058e062e177a7">Character::suffer</a></div><div class="ttdeci">void suffer()</div><div class="ttdoc">Handles a large number of timers decrementing and other randomized effects.</div><div class="ttdef"><b>Definition:</b> <a href="suffer_8cpp_source.html#l01467">suffer.cpp:1467</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac3e27cd8b8fe445e06e6d20d0eb82aff"><div class="ttname"><a href="classCharacter.html#ac3e27cd8b8fe445e06e6d20d0eb82aff">Character::get_max_power_level</a></div><div class="ttdeci">units::energy get_max_power_level() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01961">character.cpp:1961</a></div></div>
<div class="ttc" id="aclassCharacter_html_af254fa44c7792574ff19973b0fa06b36"><div class="ttname"><a href="classCharacter.html#af254fa44c7792574ff19973b0fa06b36">Character::global_omt_location</a></div><div class="ttdeci">tripoint_abs_omt global_omt_location() const</div><div class="ttdoc">Returns the location of the player in global overmap terrain coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06318">character.cpp:6318</a></div></div>
<div class="ttc" id="aclassCreature_html_a655af12aa145ee7fe2340c24a3b4b856"><div class="ttname"><a href="classCreature.html#a655af12aa145ee7fe2340c24a3b4b856">Creature::get_num_dodges</a></div><div class="ttdeci">virtual int get_num_dodges() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01438">creature.cpp:1438</a></div></div>
<div class="ttc" id="aclassCreature_html_a805a8d90db2178529997b355e8898d70"><div class="ttname"><a href="classCreature.html#a805a8d90db2178529997b355e8898d70">Creature::get_num_blocks</a></div><div class="ttdeci">virtual int get_num_blocks() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01434">creature.cpp:1434</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html_acb7438b5f344b6841e64b56100761783"><div class="ttname"><a href="classcoords_1_1coord__point.html#acb7438b5f344b6841e64b56100761783">coords::coord_point::xy</a></div><div class="ttdeci">constexpr auto xy() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00130">coordinates.h:130</a></div></div>
<div class="ttc" id="aclassitem_html_a8121291f73e815bf37295babcb48c90c"><div class="ttname"><a href="classitem.html#a8121291f73e815bf37295babcb48c90c">item::process_relic</a></div><div class="ttdeci">void process_relic(Character *carrier)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08947">item.cpp:8947</a></div></div>
<div class="ttc" id="aclassitem_html_aaa4ffcaf91f734206a25494d44c01004"><div class="ttname"><a href="classitem.html#aaa4ffcaf91f734206a25494d44c01004">item::process_artifact</a></div><div class="ttdeci">void process_artifact(player *carrier, const tripoint &amp;pos)</div><div class="ttdoc">Process and apply artifact effects.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08905">item.cpp:8905</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_aac8249284c8cd4887867cbc47d84ff57"><div class="ttname"><a href="classovermapbuffer.html#aac8249284c8cd4887867cbc47d84ff57">overmapbuffer::scent_at</a></div><div class="ttdeci">scent_trace scent_at(const tripoint_abs_omt &amp;pos)</div><div class="ttdoc">Method to retrieve the scent at a given location.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00555">overmapbuffer.cpp:555</a></div></div>
<div class="ttc" id="aclassplayer_html_a2e1328282191fb93805357b248623fb5"><div class="ttname"><a href="classplayer.html#a2e1328282191fb93805357b248623fb5">player::can_autolearn</a></div><div class="ttdeci">bool can_autolearn(const matype_id &amp;ma_id) const</div><div class="ttdoc">Returns true if the player can learn the entered martial art.</div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8cpp_source.html#l01227">martialarts.cpp:1227</a></div></div>
<div class="ttc" id="aclassplayer_html_a53fed4109f94db9842d86d982f291a10"><div class="ttname"><a href="classplayer.html#a53fed4109f94db9842d86d982f291a10">player::process_items</a></div><div class="ttdeci">void process_items()</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l01782">player.cpp:1782</a></div></div>
<div class="ttc" id="aclassscent__trace_html_afaae5b5e3a84f4a1d71182c000303018"><div class="ttname"><a href="classscent__trace.html#afaae5b5e3a84f4a1d71182c000303018">scent_trace::creation_time</a></div><div class="ttdeci">time_point creation_time</div><div class="ttdef"><b>Definition:</b> <a href="overmap__types_8h_source.html#l00015">overmap_types.h:15</a></div></div>
<div class="ttc" id="aclassvisitable_html_a0a76a71d6a905414cc81236e86a7e649"><div class="ttname"><a href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">visitable&lt; Character &gt;::visit_items</a></div><div class="ttdeci">VisitResponse visit_items(const std::function&lt; VisitResponse(item *, item *)&gt; &amp;func)</div><div class="ttdoc">Traverses this object and any child items contained using a visitor pattern.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00037">visitable.cpp:423</a></div></div>
<div class="ttc" id="amartialarts_8cpp_html_a63233aaf936955f4df6542d8f786116f"><div class="ttname"><a href="martialarts_8cpp.html#a63233aaf936955f4df6542d8f786116f">autolearn_martialart_types</a></div><div class="ttdeci">std::vector&lt; matype_id &gt; autolearn_martialart_types()</div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8cpp_source.html#l00329">martialarts.cpp:329</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a70ada8ba76f56302dff4828699ac43b9"><div class="ttname"><a href="player_8cpp.html#a70ada8ba76f56302dff4828699ac43b9">effect_masked_scent</a></div><div class="ttdeci">static const efftype_id effect_masked_scent(&quot;masked_scent&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a87e9796604a1ccf527b8fff5b72a7c5a"><div class="ttname"><a href="player_8cpp.html#a87e9796604a1ccf527b8fff5b72a7c5a">trait_NOMAD2</a></div><div class="ttdeci">static const trait_id trait_NOMAD2(&quot;NOMAD2&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a99ebb215551c7b0598da5c0ba8bbae5d"><div class="ttname"><a href="player_8cpp.html#a99ebb215551c7b0598da5c0ba8bbae5d">trait_NOMAD3</a></div><div class="ttdeci">static const trait_id trait_NOMAD3(&quot;NOMAD3&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_aa0461c515f4d2163af71c4800b1ca77f"><div class="ttname"><a href="player_8cpp.html#aa0461c515f4d2163af71c4800b1ca77f">trait_NOMAD</a></div><div class="ttdeci">static const trait_id trait_NOMAD(&quot;NOMAD&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_ab16f8be4be2050986e76d2cb0cff7609"><div class="ttname"><a href="player_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a></div><div class="ttdeci">static const efftype_id effect_sleep(&quot;sleep&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_af151d09e7927fa1f3c8a519c00c423aa"><div class="ttname"><a href="player_8cpp.html#af151d09e7927fa1f3c8a519c00c423aa">trait_DEBUG_BIONIC_POWER</a></div><div class="ttdeci">static const trait_id trait_DEBUG_BIONIC_POWER(&quot;DEBUG_BIONIC_POWER&quot;)</div></div>
<div class="ttc" id="avisitable_8h_html_aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6"><div class="ttname"><a href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a></div><div class="ttdeci">@ NEXT</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="martialarts_8cpp_source.html#l00329">autolearn_martialart_types()</a>, <a class="el" href="character_8h_source.html#l00615">Character::blocks_left</a>, <a class="el" href="martialarts_8cpp_source.html#l01227">can_autolearn()</a>, <a class="el" href="melee_8cpp_source.html#l00324">Character::clear_miss_reasons()</a>, <a class="el" href="overmap__types_8h_source.html#l00015">scent_trace::creation_time</a>, <a class="el" href="character_8h_source.html#l00616">Character::dodges_left</a>, <a class="el" href="character_8cpp_source.html#l03179">Character::drop_invalid_inventory()</a>, <a class="el" href="player_8cpp.html#a70ada8ba76f56302dff4828699ac43b9">effect_masked_scent</a>, <a class="el" href="player_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">effect_narcosis</a>, <a class="el" href="player_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a>, <a class="el" href="creature_8cpp_source.html#l01244">Creature::get_effect_int()</a>, <a class="el" href="character_8cpp_source.html#l01961">Character::get_max_power_level()</a>, <a class="el" href="newcharacter_8cpp_source.html#l02792">Character::get_mutations()</a>, <a class="el" href="creature_8cpp_source.html#l01434">Creature::get_num_blocks()</a>, <a class="el" href="creature_8cpp_source.html#l01438">Creature::get_num_dodges()</a>, <a class="el" href="character_8cpp_source.html#l06318">Character::global_omt_location()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8cpp_source.html#l09296">Character::in_sleep_state()</a>, <a class="el" href="player_8h_source.html#l00131">is_npc()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>, <a class="el" href="character_8h_source.html#l01584">Character::last_item</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="character_8h_source.html#l01589">Character::martial_arts_data</a>, <a class="el" href="character_8cpp_source.html#l01976">Character::mod_power_level()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="martialarts_8h_source.html#l00245">martialart::name</a>, <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">NEXT</a>, <a class="el" href="achievement_8cpp_source.html#l00058">string_id&lt; T &gt;::obj()</a>, <a class="el" href="calendar_8cpp_source.html#l00490">calendar::once_every()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00044">overmap_buffer</a>, <a class="el" href="character_8h_source.html#l02267">Character::overmap_time</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="item_8cpp_source.html#l08905">item::process_artifact()</a>, <a class="el" href="player_8cpp_source.html#l01782">process_items()</a>, <a class="el" href="item_8cpp_source.html#l08947">item::process_relic()</a>, <a class="el" href="character_8cpp_source.html#l01631">Character::process_turn()</a>, <a class="el" href="character_8cpp_source.html#l08742">Character::restore_scent()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="player_8h_source.html#l00694">scent</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00555">overmapbuffer::scent_at()</a>, <a class="el" href="suffer_8cpp_source.html#l01467">Character::suffer()</a>, <a class="el" href="player__activity_8h_source.html#l00056">player_activity::targets</a>, <a class="el" href="player_8cpp.html#af151d09e7927fa1f3c8a519c00c423aa">trait_DEBUG_BIONIC_POWER</a>, <a class="el" href="player_8cpp.html#aa0461c515f4d2163af71c4800b1ca77f">trait_NOMAD</a>, <a class="el" href="player_8cpp.html#a87e9796604a1ccf527b8fff5b72a7c5a">trait_NOMAD2</a>, <a class="el" href="player_8cpp.html#a99ebb215551c7b0598da5c0ba8bbae5d">trait_NOMAD3</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, <a class="el" href="visitable_8cpp_source.html#l00423">visitable&lt; Character &gt;::visit_items()</a>, and <a class="el" href="coordinates_8h_source.html#l00130">coords::coord_point&lt; Point, Origin, Scale &gt;::xy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l01434">game::do_turn()</a>, <a class="el" href="npc_8cpp_source.html#l02798">npc::process_turn()</a>, and <a class="el" href="game_8cpp_source.html#l00645">game::start_game()</a>.</p>

</div>
</div>
<a id="af184e63ebc91612702d2a195c056b37e" name="af184e63ebc91612702d2a195c056b37e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af184e63ebc91612702d2a195c056b37e">&#9670;&nbsp;</a></span>purifiable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::purifiable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> &amp;&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the entered trait may be purified away Defaults to true. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00692">692</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>{</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>    <span class="keywordflow">return</span> flag-&gt;<a class="code hl_variable" href="structmutation__branch.html#a1752be3449f48077f162e601f1a9510a">purifiable</a>;</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>}</div>
<div class="ttc" id="astructmutation__branch_html_a1752be3449f48077f162e601f1a9510a"><div class="ttname"><a href="structmutation__branch.html#a1752be3449f48077f162e601f1a9510a">mutation_branch::purifiable</a></div><div class="ttdeci">bool purifiable</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00100">mutation.h:100</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mutation_8h_source.html#l00100">mutation_branch::purifiable</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l01107">do_purify()</a>, <a class="el" href="iuse_8cpp_source.html#l01144">iuse::purify_iv()</a>, and <a class="el" href="iuse_8cpp_source.html#l01186">iuse::purify_smart()</a>.</p>

</div>
</div>
<a id="a358731acbb8b137aa540bb8d49109ca3" name="a358731acbb8b137aa540bb8d49109ca3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a358731acbb8b137aa540bb8d49109ca3">&#9670;&nbsp;</a></span>query_yn() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Character::query_yn </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It is supposed to hide the query_yn to simplify player vs. </p>
<p >npc code. </p>

<p class="definition">Definition at line <a class="el" href="character_8h_source.html#l01493">1493</a> of file <a class="el" href="character_8h_source.html">character.h</a>.</p>
<div class="fragment"><div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>                                                                      {</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a>( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( msg, std::forward&lt;Args&gt;( args ) ... ) );</div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a341f7f0dc2d439c0aa12e55fb29d87a6" name="a341f7f0dc2d439c0aa12e55fb29d87a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a341f7f0dc2d439c0aa12e55fb29d87a6">&#9670;&nbsp;</a></span>query_yn() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool player::query_yn </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>mes</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCharacter.html#a01f6bd35e20f16effc7a0016148d3a58">Character</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04405">4405</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04406" name="l04406"></a><span class="lineno"> 4406</span>{</div>
<div class="line"><a id="l04407" name="l04407"></a><span class="lineno"> 4407</span>    <a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">return ::query_yn</a>( mes );</div>
<div class="line"><a id="l04408" name="l04408"></a><span class="lineno"> 4408</span>}</div>
<div class="ttc" id="aoutput_8cpp_html_ab62599a77867b8f416669b92f60f4900"><div class="ttname"><a href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a></div><div class="ttdeci">bool query_yn(const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00698">output.cpp:698</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="output_8cpp_source.html#l00698">query_yn()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l01026">iuse::blech()</a>, <a class="el" href="iuse_8cpp_source.html#l01060">iuse::blech_because_unclean()</a>, <a class="el" href="crafting_8cpp_source.html#l01147">can_continue_craft()</a>, <a class="el" href="crafting_8cpp_source.html#l00407">check_eligible_containers_for_crafting()</a>, <a class="el" href="newcharacter_8cpp_source.html#l00376">avatar::create()</a>, <a class="el" href="crafting_8cpp_source.html#l01933">disassemble()</a>, <a class="el" href="player_8cpp_source.html#l01916">drink_from_hands()</a>, <a class="el" href="iuse_8cpp_source.html#l02035">iuse::pack_cbm()</a>, <a class="el" href="iuse_8cpp_source.html#l00878">iuse::poison()</a>, <a class="el" href="iexamine_8cpp_source.html#l03836">iexamine::reload_furniture()</a>, <a class="el" href="iuse_8cpp_source.html#l00448">iuse::sewage()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00438">sort_armor()</a>, <a class="el" href="player_8cpp_source.html#l02977">takeoff()</a>, <a class="el" href="iuse_8cpp_source.html#l03969">iuse::tazer()</a>, <a class="el" href="player_8cpp_source.html#l03622">toolmod_add()</a>, <a class="el" href="avatar_8cpp_source.html#l01060">avatar::upgrade_stat_prompt()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04443">mutagen_actor::use()</a>, and <a class="el" href="avatar_8cpp_source.html#l01226">avatar::wield()</a>.</p>

</div>
</div>
<a id="a6cf703e3582ab38ec9eda6fd38d67328" name="a6cf703e3582ab38ec9eda6fd38d67328"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cf703e3582ab38ec9eda6fd38d67328">&#9670;&nbsp;</a></span>query_yn() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool Character::query_yn </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classCharacter.html#a01f6bd35e20f16effc7a0016148d3a58">Character</a>.</p>

</div>
</div>
<a id="a9758d0b4081f2bd2a404c0c517fd6a02" name="a9758d0b4081f2bd2a404c0c517fd6a02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9758d0b4081f2bd2a404c0c517fd6a02">&#9670;&nbsp;</a></span>rate_action_disassemble()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219">hint_rating</a> player::rate_action_disassemble </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03305">3305</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03306" name="l03306"></a><span class="lineno"> 3306</span>{</div>
<div class="line"><a id="l03307" name="l03307"></a><span class="lineno"> 3307</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#a326ca5eed7a942d13b5a21d0c4729785">can_disassemble</a>( it, <a class="code hl_function" href="classCharacter.html#abd358c7a7757575b70b1613dbcce40a7">crafting_inventory</a>() ).<a class="code hl_enumvalue" href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">success</a>() ) {</div>
<div class="line"><a id="l03308" name="l03308"></a><span class="lineno"> 3308</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">hint_rating::good</a>; <span class="comment">// possible</span></div>
<div class="line"><a id="l03309" name="l03309"></a><span class="lineno"> 3309</span> </div>
<div class="line"><a id="l03310" name="l03310"></a><span class="lineno"> 3310</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classrecipe__dictionary.html#a93af439fed4b5043d9709235e0cea03e">recipe_dictionary::get_uncraft</a>( it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() ) ) {</div>
<div class="line"><a id="l03311" name="l03311"></a><span class="lineno"> 3311</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004">hint_rating::iffy</a>; <span class="comment">// potentially possible but we currently lack requirements</span></div>
<div class="line"><a id="l03312" name="l03312"></a><span class="lineno"> 3312</span> </div>
<div class="line"><a id="l03313" name="l03313"></a><span class="lineno"> 3313</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03314" name="l03314"></a><span class="lineno"> 3314</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219aff706fc361a57a40a41435153397513a">hint_rating::cant</a>; <span class="comment">// never possible</span></div>
<div class="line"><a id="l03315" name="l03315"></a><span class="lineno"> 3315</span>    }</div>
<div class="line"><a id="l03316" name="l03316"></a><span class="lineno"> 3316</span>}</div>
<div class="ttc" id="aitem_8h_html_af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004"><div class="ttname"><a href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004">hint_rating::iffy</a></div><div class="ttdeci">@ iffy</div><div class="ttdoc">Item should display as red.</div></div>
<div class="ttc" id="aitem_8h_html_af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8"><div class="ttname"><a href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">hint_rating::good</a></div><div class="ttdeci">@ good</div><div class="ttdoc">Item should display as green.</div></div>
<div class="ttc" id="aitem_8h_html_af6bf8b91fa38e785d6f5ae7fdaa74219aff706fc361a57a40a41435153397513a"><div class="ttname"><a href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219aff706fc361a57a40a41435153397513a">hint_rating::cant</a></div><div class="ttdeci">@ cant</div><div class="ttdoc">Item should display as gray.</div></div>
<div class="ttc" id="anamespacebehavior_html_af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b"><div class="ttname"><a href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">behavior::success</a></div><div class="ttdeci">@ success</div><div class="ttdef"><b>Definition:</b> <a href="behavior_8h_source.html#l00020">behavior.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting_8cpp_source.html#l01855">can_disassemble()</a>, <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219aff706fc361a57a40a41435153397513a">cant</a>, <a class="el" href="crafting_8cpp_source.html#l00545">Character::crafting_inventory()</a>, <a class="el" href="recipe__dictionary_8cpp_source.html#l00073">recipe_dictionary::get_uncraft()</a>, <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">good</a>, <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004">iffy</a>, <a class="el" href="behavior_8h_source.html#l00020">behavior::success</a>, and <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l02086">game::inventory_item_menu()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l01589">salvage_actor::try_to_cut_up()</a>.</p>

</div>
</div>
<a id="a006c459b1f47588d677002b513d5fd90" name="a006c459b1f47588d677002b513d5fd90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a006c459b1f47588d677002b513d5fd90">&#9670;&nbsp;</a></span>rate_action_mend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219">hint_rating</a> player::rate_action_mend </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03296">3296</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03297" name="l03297"></a><span class="lineno"> 3297</span>{</div>
<div class="line"><a id="l03298" name="l03298"></a><span class="lineno"> 3298</span>    <span class="comment">// TODO: check also if item damage could be repaired via a tool</span></div>
<div class="line"><a id="l03299" name="l03299"></a><span class="lineno"> 3299</span>    <span class="keywordflow">if</span>( !it.<a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a>.empty() ) {</div>
<div class="line"><a id="l03300" name="l03300"></a><span class="lineno"> 3300</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">hint_rating::good</a>;</div>
<div class="line"><a id="l03301" name="l03301"></a><span class="lineno"> 3301</span>    }</div>
<div class="line"><a id="l03302" name="l03302"></a><span class="lineno"> 3302</span>    <span class="keywordflow">return</span> it.<a class="code hl_function" href="classitem.html#adaaa3ece39eb40637371659dad8550e3">faults_potential</a>().empty() ? <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219aff706fc361a57a40a41435153397513a">hint_rating::cant</a> : <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004">hint_rating::iffy</a>;</div>
<div class="line"><a id="l03303" name="l03303"></a><span class="lineno"> 3303</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219aff706fc361a57a40a41435153397513a">cant</a>, <a class="el" href="item_8h_source.html#l02160">item::faults</a>, <a class="el" href="item_8cpp_source.html#l06654">item::faults_potential()</a>, <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">good</a>, and <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004">iffy</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l02086">game::inventory_item_menu()</a>.</p>

</div>
</div>
<a id="a19c066b79b4653868ea364c52a68533f" name="a19c066b79b4653868ea364c52a68533f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19c066b79b4653868ea364c52a68533f">&#9670;&nbsp;</a></span>rate_action_reload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219">hint_rating</a> player::rate_action_reload </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03234">3234</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03235" name="l03235"></a><span class="lineno"> 3235</span>{</div>
<div class="line"><a id="l03236" name="l03236"></a><span class="lineno"> 3236</span>    <a class="code hl_enumeration" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219">hint_rating</a> res = <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219aff706fc361a57a40a41435153397513a">hint_rating::cant</a>;</div>
<div class="line"><a id="l03237" name="l03237"></a><span class="lineno"> 3237</span> </div>
<div class="line"><a id="l03238" name="l03238"></a><span class="lineno"> 3238</span>    <span class="comment">// Guns may contain additional reloadable mods so check these first</span></div>
<div class="line"><a id="l03239" name="l03239"></a><span class="lineno"> 3239</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> : it.<a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l03240" name="l03240"></a><span class="lineno"> 3240</span>        <span class="keywordflow">switch</span>( <a class="code hl_function" href="classplayer.html#a19c066b79b4653868ea364c52a68533f">rate_action_reload</a>( *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) ) {</div>
<div class="line"><a id="l03241" name="l03241"></a><span class="lineno"> 3241</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">hint_rating::good</a>:</div>
<div class="line"><a id="l03242" name="l03242"></a><span class="lineno"> 3242</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">hint_rating::good</a>;</div>
<div class="line"><a id="l03243" name="l03243"></a><span class="lineno"> 3243</span> </div>
<div class="line"><a id="l03244" name="l03244"></a><span class="lineno"> 3244</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219aff706fc361a57a40a41435153397513a">hint_rating::cant</a>:</div>
<div class="line"><a id="l03245" name="l03245"></a><span class="lineno"> 3245</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03246" name="l03246"></a><span class="lineno"> 3246</span> </div>
<div class="line"><a id="l03247" name="l03247"></a><span class="lineno"> 3247</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004">hint_rating::iffy</a>:</div>
<div class="line"><a id="l03248" name="l03248"></a><span class="lineno"> 3248</span>                res = <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004">hint_rating::iffy</a>;</div>
<div class="line"><a id="l03249" name="l03249"></a><span class="lineno"> 3249</span>        }</div>
<div class="line"><a id="l03250" name="l03250"></a><span class="lineno"> 3250</span>    }</div>
<div class="line"><a id="l03251" name="l03251"></a><span class="lineno"> 3251</span> </div>
<div class="line"><a id="l03252" name="l03252"></a><span class="lineno"> 3252</span>    <span class="keywordflow">if</span>( !it.<a class="code hl_function" href="classitem.html#a84cbca948718b41241902acce542f352">is_reloadable</a>() ) {</div>
<div class="line"><a id="l03253" name="l03253"></a><span class="lineno"> 3253</span>        <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l03254" name="l03254"></a><span class="lineno"> 3254</span>    }</div>
<div class="line"><a id="l03255" name="l03255"></a><span class="lineno"> 3255</span> </div>
<div class="line"><a id="l03256" name="l03256"></a><span class="lineno"> 3256</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classplayer.html#a373081bc6d2cfc6c8917398f87052747">can_reload</a>( it ) ? <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">hint_rating::good</a> : <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004">hint_rating::iffy</a>;</div>
<div class="line"><a id="l03257" name="l03257"></a><span class="lineno"> 3257</span>}</div>
<div class="ttc" id="aclassitem_html_a84cbca948718b41241902acce542f352"><div class="ttname"><a href="classitem.html#a84cbca948718b41241902acce542f352">item::is_reloadable</a></div><div class="ttdeci">bool is_reloadable() const</div><div class="ttdoc">Is it ever possible to reload this item? Only the base item is considered with any mods ignored.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09657">item.cpp:9657</a></div></div>
<div class="ttc" id="aclassplayer_html_a19c066b79b4653868ea364c52a68533f"><div class="ttname"><a href="classplayer.html#a19c066b79b4653868ea364c52a68533f">player::rate_action_reload</a></div><div class="ttdeci">hint_rating rate_action_reload(const item &amp;it) const</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03234">player.cpp:3234</a></div></div>
<div class="ttc" id="aitem_8h_html_af6bf8b91fa38e785d6f5ae7fdaa74219"><div class="ttname"><a href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219">hint_rating</a></div><div class="ttdeci">hint_rating</div><div class="ttdoc">Hint value used in a hack to decide text color.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02257">item.h:2257</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player_8cpp_source.html#l02649">can_reload()</a>, <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219aff706fc361a57a40a41435153397513a">cant</a>, <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">good</a>, <a class="el" href="item_8cpp_source.html#l07578">item::gunmods()</a>, <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004">iffy</a>, <a class="el" href="item_8cpp_source.html#l09657">item::is_reloadable()</a>, and <a class="el" href="player_8cpp_source.html#l03234">rate_action_reload()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l02086">game::inventory_item_menu()</a>, <a class="el" href="player_8cpp_source.html#l03234">rate_action_reload()</a>, <a class="el" href="game_8cpp_source.html#l08831">game::reload()</a>, <a class="el" href="game_8cpp_source.html#l08915">game::reload_item()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l02984">ammobelt_actor::use()</a>.</p>

</div>
</div>
<a id="a16a225b20a266e6ad310d00e1b831647" name="a16a225b20a266e6ad310d00e1b831647"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16a225b20a266e6ad310d00e1b831647">&#9670;&nbsp;</a></span>rate_action_takeoff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219">hint_rating</a> player::rate_action_takeoff </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02923">2923</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02924" name="l02924"></a><span class="lineno"> 2924</span>{</div>
<div class="line"><a id="l02925" name="l02925"></a><span class="lineno"> 2925</span>    <span class="keywordflow">if</span>( !it.<a class="code hl_function" href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">is_armor</a>() ) {</div>
<div class="line"><a id="l02926" name="l02926"></a><span class="lineno"> 2926</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219aff706fc361a57a40a41435153397513a">hint_rating::cant</a>;</div>
<div class="line"><a id="l02927" name="l02927"></a><span class="lineno"> 2927</span>    }</div>
<div class="line"><a id="l02928" name="l02928"></a><span class="lineno"> 2928</span> </div>
<div class="line"><a id="l02929" name="l02929"></a><span class="lineno"> 2929</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">is_worn</a>( it ) ) {</div>
<div class="line"><a id="l02930" name="l02930"></a><span class="lineno"> 2930</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">hint_rating::good</a>;</div>
<div class="line"><a id="l02931" name="l02931"></a><span class="lineno"> 2931</span>    }</div>
<div class="line"><a id="l02932" name="l02932"></a><span class="lineno"> 2932</span> </div>
<div class="line"><a id="l02933" name="l02933"></a><span class="lineno"> 2933</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004">hint_rating::iffy</a>;</div>
<div class="line"><a id="l02934" name="l02934"></a><span class="lineno"> 2934</span>}</div>
<div class="ttc" id="aclassitem_html_a9aab8660fb40eedb8d2da95e797ecd32"><div class="ttname"><a href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">item::is_armor</a></div><div class="ttdeci">bool is_armor() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06554">item.cpp:6554</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219aff706fc361a57a40a41435153397513a">cant</a>, <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">good</a>, <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004">iffy</a>, <a class="el" href="item_8cpp_source.html#l06554">item::is_armor()</a>, and <a class="el" href="character_8h_source.html#l01142">Character::is_worn()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l02086">game::inventory_item_menu()</a>.</p>

</div>
</div>
<a id="ac004afd7213abd73b6de435d32aeb52a" name="ac004afd7213abd73b6de435d32aeb52a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac004afd7213abd73b6de435d32aeb52a">&#9670;&nbsp;</a></span>rate_action_unload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219">hint_rating</a> player::rate_action_unload </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03259">3259</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03260" name="l03260"></a><span class="lineno"> 3260</span>{</div>
<div class="line"><a id="l03261" name="l03261"></a><span class="lineno"> 3261</span>    <span class="keywordflow">if</span>( ( it.<a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() || it.<a class="code hl_function" href="classitem.html#a916a4a16b33de5c257fff71d9e579578">is_bandolier</a>() ) &amp;&amp; !it.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() &amp;&amp;</div>
<div class="line"><a id="l03262" name="l03262"></a><span class="lineno"> 3262</span>        it.<a class="code hl_function" href="classitem.html#a54fe4917d343209ae2fdb9b163bd967a">can_unload_liquid</a>() ) {</div>
<div class="line"><a id="l03263" name="l03263"></a><span class="lineno"> 3263</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">hint_rating::good</a>;</div>
<div class="line"><a id="l03264" name="l03264"></a><span class="lineno"> 3264</span>    }</div>
<div class="line"><a id="l03265" name="l03265"></a><span class="lineno"> 3265</span> </div>
<div class="line"><a id="l03266" name="l03266"></a><span class="lineno"> 3266</span>    <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;NO_UNLOAD&quot;</span> ) ) {</div>
<div class="line"><a id="l03267" name="l03267"></a><span class="lineno"> 3267</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219aff706fc361a57a40a41435153397513a">hint_rating::cant</a>;</div>
<div class="line"><a id="l03268" name="l03268"></a><span class="lineno"> 3268</span>    }</div>
<div class="line"><a id="l03269" name="l03269"></a><span class="lineno"> 3269</span> </div>
<div class="line"><a id="l03270" name="l03270"></a><span class="lineno"> 3270</span>    <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>() ) {</div>
<div class="line"><a id="l03271" name="l03271"></a><span class="lineno"> 3271</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">hint_rating::good</a>;</div>
<div class="line"><a id="l03272" name="l03272"></a><span class="lineno"> 3272</span>    }</div>
<div class="line"><a id="l03273" name="l03273"></a><span class="lineno"> 3273</span> </div>
<div class="line"><a id="l03274" name="l03274"></a><span class="lineno"> 3274</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> e : it.<a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l03275" name="l03275"></a><span class="lineno"> 3275</span>        <span class="keywordflow">if</span>( e-&gt;is_gun() &amp;&amp; !e-&gt;has_flag( <span class="stringliteral">&quot;NO_UNLOAD&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l03276" name="l03276"></a><span class="lineno"> 3276</span>            ( e-&gt;magazine_current() || e-&gt;ammo_remaining() &gt; 0 || e-&gt;casings_count() &gt; 0 ) ) {</div>
<div class="line"><a id="l03277" name="l03277"></a><span class="lineno"> 3277</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">hint_rating::good</a>;</div>
<div class="line"><a id="l03278" name="l03278"></a><span class="lineno"> 3278</span>        }</div>
<div class="line"><a id="l03279" name="l03279"></a><span class="lineno"> 3279</span>    }</div>
<div class="line"><a id="l03280" name="l03280"></a><span class="lineno"> 3280</span> </div>
<div class="line"><a id="l03281" name="l03281"></a><span class="lineno"> 3281</span>    <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().empty() ) {</div>
<div class="line"><a id="l03282" name="l03282"></a><span class="lineno"> 3282</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219aff706fc361a57a40a41435153397513a">hint_rating::cant</a>;</div>
<div class="line"><a id="l03283" name="l03283"></a><span class="lineno"> 3283</span>    }</div>
<div class="line"><a id="l03284" name="l03284"></a><span class="lineno"> 3284</span> </div>
<div class="line"><a id="l03285" name="l03285"></a><span class="lineno"> 3285</span>    <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() &gt; 0 || it.<a class="code hl_function" href="classitem.html#af80e153fc97fb09df58a5be7302ae898">casings_count</a>() &gt; 0 ) {</div>
<div class="line"><a id="l03286" name="l03286"></a><span class="lineno"> 3286</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">hint_rating::good</a>;</div>
<div class="line"><a id="l03287" name="l03287"></a><span class="lineno"> 3287</span>    }</div>
<div class="line"><a id="l03288" name="l03288"></a><span class="lineno"> 3288</span> </div>
<div class="line"><a id="l03289" name="l03289"></a><span class="lineno"> 3289</span>    <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() &gt; 0 ) {</div>
<div class="line"><a id="l03290" name="l03290"></a><span class="lineno"> 3290</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004">hint_rating::iffy</a>;</div>
<div class="line"><a id="l03291" name="l03291"></a><span class="lineno"> 3291</span>    }</div>
<div class="line"><a id="l03292" name="l03292"></a><span class="lineno"> 3292</span> </div>
<div class="line"><a id="l03293" name="l03293"></a><span class="lineno"> 3293</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219aff706fc361a57a40a41435153397513a">hint_rating::cant</a>;</div>
<div class="line"><a id="l03294" name="l03294"></a><span class="lineno"> 3294</span>}</div>
<div class="ttc" id="aclassitem__contents_html_ad5b1250d9699aa489bbfcf3e5689581b"><div class="ttname"><a href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">item_contents::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00016">item_contents.cpp:16</a></div></div>
<div class="ttc" id="aclassitem_html_a54fe4917d343209ae2fdb9b163bd967a"><div class="ttname"><a href="classitem.html#a54fe4917d343209ae2fdb9b163bd967a">item::can_unload_liquid</a></div><div class="ttdeci">bool can_unload_liquid() const</div><div class="ttdoc">Returns true if not empty if it's liquid, it's not currently frozen in resealable container.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06700">item.cpp:6700</a></div></div>
<div class="ttc" id="aclassitem_html_a5d89f04a2a08245ec865db0865e8a6c1"><div class="ttname"><a href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">item::ammo_capacity</a></div><div class="ttdeci">int ammo_capacity() const</div><div class="ttdoc">Maximum quantity of ammunition loadable for tool, gun or auxiliary gunmod.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07253">item.cpp:7253</a></div></div>
<div class="ttc" id="aclassitem_html_a916a4a16b33de5c257fff71d9e579578"><div class="ttname"><a href="classitem.html#a916a4a16b33de5c257fff71d9e579578">item::is_bandolier</a></div><div class="ttdeci">bool is_bandolier() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06422">item.cpp:6422</a></div></div>
<div class="ttc" id="aclassitem_html_af80e153fc97fb09df58a5be7302ae898"><div class="ttname"><a href="classitem.html#af80e153fc97fb09df58a5be7302ae898">item::casings_count</a></div><div class="ttdeci">int casings_count() const</div><div class="ttdoc">How many spent casings are contained within this item?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07928">item.cpp:7928</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07253">item::ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07226">item::ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l07408">item::ammo_types()</a>, <a class="el" href="item_8cpp_source.html#l06700">item::can_unload_liquid()</a>, <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219aff706fc361a57a40a41435153397513a">cant</a>, <a class="el" href="item_8cpp_source.html#l07928">item::casings_count()</a>, <a class="el" href="item_8h_source.html#l02157">item::contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">good</a>, <a class="el" href="item_8cpp_source.html#l07578">item::gunmods()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004">iffy</a>, <a class="el" href="item_8cpp_source.html#l06422">item::is_bandolier()</a>, <a class="el" href="item_8cpp_source.html#l06569">item::is_container()</a>, and <a class="el" href="item_8cpp_source.html#l07565">item::magazine_current()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l02086">game::inventory_item_menu()</a>, and <a class="el" href="avatar__action_8cpp_source.html#l01035">avatar_action::unload()</a>.</p>

</div>
</div>
<a id="ae045a282ca91bc999a0db121a6948e2c" name="ae045a282ca91bc999a0db121a6948e2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae045a282ca91bc999a0db121a6948e2c">&#9670;&nbsp;</a></span>rate_action_use()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219">hint_rating</a> player::rate_action_use </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to determine player feedback on item use for the inventory code. </p>
<p >rates usability lower for non-tools (books, etc.) </p>
Gun &gt;0 allows rating estimates for gun modifications 
<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03318">3318</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03319" name="l03319"></a><span class="lineno"> 3319</span>{</div>
<div class="line"><a id="l03320" name="l03320"></a><span class="lineno"> 3320</span>    <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() ) {</div>
<div class="line"><a id="l03321" name="l03321"></a><span class="lineno"> 3321</span>        <span class="keywordflow">return</span> it.<a class="code hl_function" href="classitem.html#a8efcfdc21aadbc25a8cc95cf54685489">ammo_sufficient</a>() ? <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">hint_rating::good</a> : <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004">hint_rating::iffy</a>;</div>
<div class="line"><a id="l03322" name="l03322"></a><span class="lineno"> 3322</span> </div>
<div class="line"><a id="l03323" name="l03323"></a><span class="lineno"> 3323</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#a9b06bb61116b722a90aa372a4561337a">is_gunmod</a>() ) {<span class="comment"></span></div>
<div class="line"><a id="l03324" name="l03324"></a><span class="lineno"> 3324</span><span class="comment">        /** @EFFECT_GUN &gt;0 allows rating estimates for gun modifications */</span></div>
<div class="line"><a id="l03325" name="l03325"></a><span class="lineno"> 3325</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="player_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a> ) == 0 ) {</div>
<div class="line"><a id="l03326" name="l03326"></a><span class="lineno"> 3326</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004">hint_rating::iffy</a>;</div>
<div class="line"><a id="l03327" name="l03327"></a><span class="lineno"> 3327</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03328" name="l03328"></a><span class="lineno"> 3328</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">hint_rating::good</a>;</div>
<div class="line"><a id="l03329" name="l03329"></a><span class="lineno"> 3329</span>        }</div>
<div class="line"><a id="l03330" name="l03330"></a><span class="lineno"> 3330</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() || it.<a class="code hl_function" href="classitem.html#aa344ad5d3082d7a56b1c902fbafb6347">is_medication</a>() || it.<a class="code hl_function" href="classitem.html#a980b9e48afd103973a201fc487d0af8b">is_book</a>() || it.<a class="code hl_function" href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">is_armor</a>() ) {</div>
<div class="line"><a id="l03331" name="l03331"></a><span class="lineno"> 3331</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004">hint_rating::iffy</a>; <span class="comment">//the rating is subjective, could be argued as hint_rating::cant or hint_rating::good as well</span></div>
<div class="line"><a id="l03332" name="l03332"></a><span class="lineno"> 3332</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a7ff45d94507fdbf7369ae269a0f1e52b">has_use</a>() ) {</div>
<div class="line"><a id="l03333" name="l03333"></a><span class="lineno"> 3333</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">hint_rating::good</a>;</div>
<div class="line"><a id="l03334" name="l03334"></a><span class="lineno"> 3334</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !it.<a class="code hl_function" href="classitem.html#a5996f63ca1797fc01482678b51a87680">is_container_empty</a>() ) {</div>
<div class="line"><a id="l03335" name="l03335"></a><span class="lineno"> 3335</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classplayer.html#ae045a282ca91bc999a0db121a6948e2c">rate_action_use</a>( it.<a class="code hl_function" href="classitem.html#aeb62f6d93e37bf01af71f795cc39f4f1">get_contained</a>() );</div>
<div class="line"><a id="l03336" name="l03336"></a><span class="lineno"> 3336</span>    }</div>
<div class="line"><a id="l03337" name="l03337"></a><span class="lineno"> 3337</span> </div>
<div class="line"><a id="l03338" name="l03338"></a><span class="lineno"> 3338</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219aff706fc361a57a40a41435153397513a">hint_rating::cant</a>;</div>
<div class="line"><a id="l03339" name="l03339"></a><span class="lineno"> 3339</span>}</div>
<div class="ttc" id="aclassitem_html_a5996f63ca1797fc01482678b51a87680"><div class="ttname"><a href="classitem.html#a5996f63ca1797fc01482678b51a87680">item::is_container_empty</a></div><div class="ttdeci">bool is_container_empty() const</div><div class="ttdoc">Whether this item has no contents at all.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06687">item.cpp:6687</a></div></div>
<div class="ttc" id="aclassitem_html_a59a03649a0636c70e776054db688564a"><div class="ttname"><a href="classitem.html#a59a03649a0636c70e776054db688564a">item::is_tool</a></div><div class="ttdeci">bool is_tool() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06803">item.cpp:6803</a></div></div>
<div class="ttc" id="aclassitem_html_a8efcfdc21aadbc25a8cc95cf54685489"><div class="ttname"><a href="classitem.html#a8efcfdc21aadbc25a8cc95cf54685489">item::ammo_sufficient</a></div><div class="ttdeci">bool ammo_sufficient(int qty=1) const</div><div class="ttdoc">Check if sufficient ammo is loaded for given number of uses.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07319">item.cpp:7319</a></div></div>
<div class="ttc" id="aclassitem_html_a9b06bb61116b722a90aa372a4561337a"><div class="ttname"><a href="classitem.html#a9b06bb61116b722a90aa372a4561337a">item::is_gunmod</a></div><div class="ttdeci">bool is_gunmod() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06397">item.cpp:6397</a></div></div>
<div class="ttc" id="aclassitem_html_aeb62f6d93e37bf01af71f795cc39f4f1"><div class="ttname"><a href="classitem.html#aeb62f6d93e37bf01af71f795cc39f4f1">item::get_contained</a></div><div class="ttdeci">const item &amp; get_contained() const</div><div class="ttdoc">Return a contained item (if any and only one).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06890">item.cpp:6890</a></div></div>
<div class="ttc" id="aclassplayer_html_ae045a282ca91bc999a0db121a6948e2c"><div class="ttname"><a href="classplayer.html#ae045a282ca91bc999a0db121a6948e2c">player::rate_action_use</a></div><div class="ttdeci">hint_rating rate_action_use(const item &amp;it) const</div><div class="ttdoc">Used to determine player feedback on item use for the inventory code.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03318">player.cpp:3318</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l07319">item::ammo_sufficient()</a>, <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219aff706fc361a57a40a41435153397513a">cant</a>, <a class="el" href="item_8cpp_source.html#l06890">item::get_contained()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">good</a>, <a class="el" href="itype_8cpp_source.html#l00066">itype::has_use()</a>, <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004">iffy</a>, <a class="el" href="item_8cpp_source.html#l06554">item::is_armor()</a>, <a class="el" href="item_8cpp_source.html#l06559">item::is_book()</a>, <a class="el" href="item_8cpp_source.html#l06687">item::is_container_empty()</a>, <a class="el" href="item_8cpp_source.html#l06442">item::is_food()</a>, <a class="el" href="item_8cpp_source.html#l06397">item::is_gunmod()</a>, <a class="el" href="item_8cpp_source.html#l06448">item::is_medication()</a>, <a class="el" href="item_8cpp_source.html#l06803">item::is_tool()</a>, <a class="el" href="player_8cpp_source.html#l03318">rate_action_use()</a>, <a class="el" href="player_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l02086">game::inventory_item_menu()</a>, and <a class="el" href="player_8cpp_source.html#l03318">rate_action_use()</a>.</p>

</div>
</div>
<a id="a26efe081633fcbc4060e4793f5dbfff0" name="a26efe081633fcbc4060e4793f5dbfff0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26efe081633fcbc4060e4793f5dbfff0">&#9670;&nbsp;</a></span>rate_action_wear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219">hint_rating</a> player::rate_action_wear </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02638">2638</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02639" name="l02639"></a><span class="lineno"> 2639</span>{</div>
<div class="line"><a id="l02640" name="l02640"></a><span class="lineno"> 2640</span>    <span class="comment">// TODO: flag already-worn items as hint_rating::iffy</span></div>
<div class="line"><a id="l02641" name="l02641"></a><span class="lineno"> 2641</span> </div>
<div class="line"><a id="l02642" name="l02642"></a><span class="lineno"> 2642</span>    <span class="keywordflow">if</span>( !it.<a class="code hl_function" href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">is_armor</a>() ) {</div>
<div class="line"><a id="l02643" name="l02643"></a><span class="lineno"> 2643</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219aff706fc361a57a40a41435153397513a">hint_rating::cant</a>;</div>
<div class="line"><a id="l02644" name="l02644"></a><span class="lineno"> 2644</span>    }</div>
<div class="line"><a id="l02645" name="l02645"></a><span class="lineno"> 2645</span> </div>
<div class="line"><a id="l02646" name="l02646"></a><span class="lineno"> 2646</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCharacter.html#add7c18c1ff4186fa02862a1fef9cdbe1">can_wear</a>( it ).success() ? <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">hint_rating::good</a> : <a class="code hl_enumvalue" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004">hint_rating::iffy</a>;</div>
<div class="line"><a id="l02647" name="l02647"></a><span class="lineno"> 2647</span>}</div>
<div class="ttc" id="aclassCharacter_html_add7c18c1ff4186fa02862a1fef9cdbe1"><div class="ttname"><a href="classCharacter.html#add7c18c1ff4186fa02862a1fef9cdbe1">Character::can_wear</a></div><div class="ttdeci">ret_val&lt; bool &gt; can_wear(const item &amp;it, bool with_equip_change=false) const</div><div class="ttdoc">Check character capable of wearing an item.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02923">character.cpp:2923</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l02923">Character::can_wear()</a>, <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219aff706fc361a57a40a41435153397513a">cant</a>, <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a755f85c2723bb39381c7379a604160d8">good</a>, <a class="el" href="item_8h.html#af6bf8b91fa38e785d6f5ae7fdaa74219a394188710799de3dcc6cb1582e490004">iffy</a>, and <a class="el" href="item_8cpp_source.html#l06554">item::is_armor()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l02086">game::inventory_item_menu()</a>.</p>

</div>
</div>
<a id="a3e47185f2242fa9ed4d34a1685ee4c3b" name="a3e47185f2242fa9ed4d34a1685ee4c3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e47185f2242fa9ed4d34a1685ee4c3b">&#9670;&nbsp;</a></span>reach_attack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::reach_attack </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles reach melee attacks. </p>
Melee &gt;5 allows WHIP_DISARM technique Stabbing decreases chance of hitting intervening target on reach attack Stabbing increases ability to reach attack through fences Strength increases bash effects when reach attacking past something 
<p class="definition">Definition at line <a class="el" href="melee_8cpp_source.html#l00622">622</a> of file <a class="el" href="melee_8cpp_source.html">melee.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>{</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>    <a class="code hl_class" href="classstring__id.html">matec_id</a> force_technique = <a class="code hl_variable" href="melee_8cpp.html#a708d21cc52d611b3dcd59d36bbbccc0c">tec_none</a>;<span class="comment"></span></div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span><span class="comment">    /** @EFFECT_MELEE &gt;5 allows WHIP_DISARM technique */</span></div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;WHIP&quot;</span> ) &amp;&amp; ( <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="melee_8cpp.html#a917f093dcdc3861c86a6adf734a52641">skill_melee</a> ) &gt; 5 ) &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>        force_technique = <a class="code hl_typedef" href="type__id_8h.html#a15c813836397fb5a5747fa15b5c82d84">matec_id</a>( <span class="stringliteral">&quot;WHIP_DISARM&quot;</span> );</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>    }</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span> </div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>    <a class="code hl_class" href="classCreature.html">Creature</a> *critter = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at( p );</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>    <span class="comment">// Original target size, used when there are monsters in front of our target</span></div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>    <span class="keywordtype">int</span> target_size = critter != <span class="keyword">nullptr</span> ? ( critter-&gt;<a class="code hl_function" href="classCreature.html#ab4c5777adaad4601b9ca17330371f5b7">get_size</a>() + 1 ) : 2;</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>    <span class="comment">// Reset last target pos</span></div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>    <a class="code hl_variable" href="classplayer.html#a9aac4afb832dc4762430b0b3545cbfea">last_target_pos</a> = <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>    <span class="comment">// Max out recoil</span></div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>    <a class="code hl_variable" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> = <a class="code hl_variable" href="game__constants_8h.html#a8226e8a134603e5bc06df05efd13d8d1">MAX_RECOIL</a>;</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span> </div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="activity__item__handling_8cpp.html#a0572000ec0976f2d095ae0cd9d20e78b">move_cost</a> = <a class="code hl_function" href="classCharacter.html#a0f40bb355d62047f8140901ee35995ec">attack_cost</a>( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> );</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>    <span class="keywordtype">int</span> skill = std::min( 10, <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="melee_8cpp.html#adaec8ea46c8ba29a5f862832bc9f1cea">skill_stabbing</a> ) );</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>    <span class="keywordtype">int</span> t = 0;</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>    std::vector&lt;tripoint&gt; path = <a class="code hl_function" href="coordinates_8h.html#a4a34f7ffa4c18effba7f8239c68c8738">line_to</a>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), p, t, 0 );</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>    path.pop_back(); <span class="comment">// Last point is our critter</span></div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;path_point : path ) {</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>        <span class="comment">// Possibly hit some unintended target instead</span></div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>        <a class="code hl_class" href="classCreature.html">Creature</a> *inter = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at( path_point );</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>        <span class="keywordtype">int</span> inter_block_size = inter != <span class="keyword">nullptr</span> ? ( inter-&gt;<a class="code hl_function" href="classCreature.html#ab4c5777adaad4601b9ca17330371f5b7">get_size</a>() + 1 ) : 2;<span class="comment"></span></div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span><span class="comment">        /** @EFFECT_STABBING decreases chance of hitting intervening target on reach attack */</span></div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>        <span class="keywordflow">if</span>( inter != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>            !<a class="code hl_function" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( ( target_size * target_size + 1 ) * skill,</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>                     ( inter_block_size * inter_block_size + 1 ) * 10 ) ) {</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>            <span class="comment">// Even if we miss here, low roll means weapon is pushed away or something like that</span></div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>            critter = inter;</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>            <span class="keywordflow">break</span>;<span class="comment"></span></div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span><span class="comment">            /** @EFFECT_STABBING increases ability to reach attack through fences */</span></div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.impassable( path_point ) &amp;&amp;</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>                   <span class="comment">// Fences etc. Spears can stab through those</span></div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>                   !( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;SPEAR&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>                      <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag( <span class="stringliteral">&quot;THIN_OBSTACLE&quot;</span>, path_point ) &amp;&amp;</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>                      <a class="code hl_function" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( skill, 10 ) ) ) {<span class="comment"></span></div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span><span class="comment">            /** @EFFECT_STR increases bash effects when reach attacking past something */</span></div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.bash( path_point, <a class="code hl_variable" href="classCharacter.html#a26369a0a81eef76cfe75214d22ed32b4">str_cur</a> + <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a9d4da29e558173400314e00718341eae">damage_melee</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a> ) );</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>            <a class="code hl_function" href="classCharacter.html#aa427d558b5e0e0d8d5d10c58994c6849">handle_melee_wear</a>( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> );</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>            <a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -<a class="code hl_function" href="activity__item__handling_8cpp.html#a0572000ec0976f2d095ae0cd9d20e78b">move_cost</a> );</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>        }</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>    }</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span> </div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>    <span class="keywordflow">if</span>( critter == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You swing at the air.&quot;</span> ) );</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a313797e99525bfd2a5ead68b7672f168">martial_arts_data</a>-&gt;has_miss_recovery_tec( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> ) ) {</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>            <a class="code hl_function" href="activity__item__handling_8cpp.html#a0572000ec0976f2d095ae0cd9d20e78b">move_cost</a> /= 3; <span class="comment">// &quot;Probing&quot; is faster than a regular miss</span></div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>        }</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span> </div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>        <a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -<a class="code hl_function" href="activity__item__handling_8cpp.html#a0572000ec0976f2d095ae0cd9d20e78b">move_cost</a> );</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>    }</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span> </div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>    <a class="code hl_variable" href="classCharacter.html#a91d59fdf358ea2ff9098b2f667b1f024">reach_attacking</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>    <a class="code hl_function" href="classCharacter.html#a7af9d555fb7d6fbc127ea37e9e709804">melee_attack</a>( *critter, <span class="keyword">false</span>, force_technique, <span class="keyword">false</span> );</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>    <a class="code hl_variable" href="classCharacter.html#a91d59fdf358ea2ff9098b2f667b1f024">reach_attacking</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>}</div>
<div class="ttc" id="aclassCharacter_html_a91d59fdf358ea2ff9098b2f667b1f024"><div class="ttname"><a href="classCharacter.html#a91d59fdf358ea2ff9098b2f667b1f024">Character::reach_attacking</a></div><div class="ttdeci">bool reach_attacking</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00658">character.h:658</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa427d558b5e0e0d8d5d10c58994c6849"><div class="ttname"><a href="classCharacter.html#aa427d558b5e0e0d8d5d10c58994c6849">Character::handle_melee_wear</a></div><div class="ttdeci">bool handle_melee_wear(item &amp;shield, float wear_multiplier=1.0f)</div><div class="ttdoc">Calculates melee weapon wear-and-tear through use, returns true if item is destroyed.</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l00156">melee.cpp:156</a></div></div>
<div class="ttc" id="aclassCreature_html_ab4c5777adaad4601b9ca17330371f5b7"><div class="ttname"><a href="classCreature.html#ab4c5777adaad4601b9ca17330371f5b7">Creature::get_size</a></div><div class="ttdeci">virtual m_size get_size() const =0</div></div>
<div class="ttc" id="acoordinates_8h_html_a4a34f7ffa4c18effba7f8239c68c8738"><div class="ttname"><a href="coordinates_8h.html#a4a34f7ffa4c18effba7f8239c68c8738">line_to</a></div><div class="ttdeci">std::vector&lt; coords::coord_point&lt; Point, Origin, Scale &gt; &gt; line_to(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00548">coordinates.h:548</a></div></div>
<div class="ttc" id="amelee_8cpp_html_adaec8ea46c8ba29a5f862832bc9f1cea"><div class="ttname"><a href="melee_8cpp.html#adaec8ea46c8ba29a5f862832bc9f1cea">skill_stabbing</a></div><div class="ttdeci">static const skill_id skill_stabbing(&quot;stabbing&quot;)</div></div>
<div class="ttc" id="atype__id_8h_html_a15c813836397fb5a5747fa15b5c82d84"><div class="ttname"><a href="type__id_8h.html#a15c813836397fb5a5747fa15b5c82d84">matec_id</a></div><div class="ttdeci">string_id&lt; ma_technique &gt; matec_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00082">type_id.h:82</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="melee_8cpp_source.html#l02165">Character::attack_cost()</a>, <a class="el" href="item_8cpp_source.html#l05091">item::damage_melee()</a>, <a class="el" href="damage_8h_source.html#l00024">DT_BASH</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="classCreature.html#ab4c5777adaad4601b9ca17330371f5b7">Creature::get_size()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="melee_8cpp_source.html#l00156">Character::handle_melee_wear()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="player_8h_source.html#l00691">last_target_pos</a>, <a class="el" href="coordinates_8h_source.html#l00548">line_to()</a>, <a class="el" href="character_8h_source.html#l01589">Character::martial_arts_data</a>, <a class="el" href="game__constants_8h_source.html#l00128">MAX_RECOIL</a>, <a class="el" href="melee_8cpp_source.html#l00390">Character::melee_attack()</a>, <a class="el" href="creature_8cpp_source.html#l01402">Creature::mod_moves()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00888">move_cost()</a>, <a class="el" href="optional_8h_source.html#l00022">cata::nullopt</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="character_8h_source.html#l00658">Character::reach_attacking</a>, <a class="el" href="character_8h_source.html#l00618">Character::recoil</a>, <a class="el" href="melee_8cpp.html#a917f093dcdc3861c86a6adf734a52641">skill_melee</a>, <a class="el" href="melee_8cpp.html#adaec8ea46c8ba29a5f862832bc9f1cea">skill_stabbing</a>, <a class="el" href="character_8h_source.html#l00304">Character::str_cur</a>, <a class="el" href="melee_8cpp.html#a708d21cc52d611b3dcd59d36bbbccc0c">tec_none</a>, <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>, and <a class="el" href="calendar_8cpp_source.html#l00521">x_in_y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l00952">npc::execute_action()</a>, and <a class="el" href="handle__action_8cpp_source.html#l01307">reach_attack()</a>.</p>

</div>
</div>
<a id="a60c8558e2ea02847cb872ad6513a8cb7" name="a60c8558e2ea02847cb872ad6513a8cb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60c8558e2ea02847cb872ad6513a8cb7">&#9670;&nbsp;</a></span>reassign_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::reassign_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>invlet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reassign letter. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03401">3401</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03402" name="l03402"></a><span class="lineno"> 3402</span>{</div>
<div class="line"><a id="l03403" name="l03403"></a><span class="lineno"> 3403</span>    <span class="keywordtype">bool</span> remove_old = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03404" name="l03404"></a><span class="lineno"> 3404</span>    <span class="keywordflow">if</span>( invlet ) {</div>
<div class="line"><a id="l03405" name="l03405"></a><span class="lineno"> 3405</span>        <a class="code hl_class" href="classitem.html">item</a> *prev = <a class="code hl_function" href="classCharacter.html#a9a5d53916ea06db1f64575e4c91a1653">invlet_to_item</a>( invlet );</div>
<div class="line"><a id="l03406" name="l03406"></a><span class="lineno"> 3406</span>        <span class="keywordflow">if</span>( prev != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l03407" name="l03407"></a><span class="lineno"> 3407</span>            remove_old = it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() != prev-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>();</div>
<div class="line"><a id="l03408" name="l03408"></a><span class="lineno"> 3408</span>            <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#aa6048276bd408eea6a3229705bffc4c0">reassign_item</a>( *prev, it.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a>, remove_old );</div>
<div class="line"><a id="l03409" name="l03409"></a><span class="lineno"> 3409</span>        }</div>
<div class="line"><a id="l03410" name="l03410"></a><span class="lineno"> 3410</span>    }</div>
<div class="line"><a id="l03411" name="l03411"></a><span class="lineno"> 3411</span> </div>
<div class="line"><a id="l03412" name="l03412"></a><span class="lineno"> 3412</span>    <span class="keywordflow">if</span>( !invlet || <a class="code hl_variable" href="inventory_8h.html#a30cdf5c616c63b894825e5e92a5b1e5c">inv_chars</a>.<a class="code hl_function" href="classinvlet__wrapper.html#a7c0b7eaf67cf02bae041ada17aa1f71d">valid</a>( invlet ) ) {</div>
<div class="line"><a id="l03413" name="l03413"></a><span class="lineno"> 3413</span>        <span class="keyword">const</span> <span class="keyword">auto</span> iter = <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_variable" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a>.find( it.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> );</div>
<div class="line"><a id="l03414" name="l03414"></a><span class="lineno"> 3414</span>        <span class="keywordtype">bool</span> found = iter != <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_variable" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a>.end();</div>
<div class="line"><a id="l03415" name="l03415"></a><span class="lineno"> 3415</span>        <span class="keywordflow">if</span>( found ) {</div>
<div class="line"><a id="l03416" name="l03416"></a><span class="lineno"> 3416</span>            <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_variable" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a>.erase( iter );</div>
<div class="line"><a id="l03417" name="l03417"></a><span class="lineno"> 3417</span>        }</div>
<div class="line"><a id="l03418" name="l03418"></a><span class="lineno"> 3418</span>        <span class="keywordflow">if</span>( invlet &amp;&amp; ( !found || it.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> != invlet ) ) {</div>
<div class="line"><a id="l03419" name="l03419"></a><span class="lineno"> 3419</span>            <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_variable" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a>[invlet] = it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>();</div>
<div class="line"><a id="l03420" name="l03420"></a><span class="lineno"> 3420</span>        }</div>
<div class="line"><a id="l03421" name="l03421"></a><span class="lineno"> 3421</span>        <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#aa6048276bd408eea6a3229705bffc4c0">reassign_item</a>( it, invlet, remove_old );</div>
<div class="line"><a id="l03422" name="l03422"></a><span class="lineno"> 3422</span>    }</div>
<div class="line"><a id="l03423" name="l03423"></a><span class="lineno"> 3423</span>}</div>
<div class="ttc" id="aclassCharacter_html_a9a5d53916ea06db1f64575e4c91a1653"><div class="ttname"><a href="classCharacter.html#a9a5d53916ea06db1f64575e4c91a1653">Character::invlet_to_item</a></div><div class="ttdeci">item * invlet_to_item(int invlet)</div><div class="ttdoc">Return the item pointer of the item with given invlet, return nullptr if the player does not have suc...</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02350">character.cpp:2350</a></div></div>
<div class="ttc" id="aclassinventory_html_a72e5a1a88b44c6e5fc1bdbdbb5e855a7"><div class="ttname"><a href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">inventory::assigned_invlet</a></div><div class="ttdeci">std::map&lt; char, itype_id &gt; assigned_invlet</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00099">inventory.h:99</a></div></div>
<div class="ttc" id="aclassinventory_html_aa6048276bd408eea6a3229705bffc4c0"><div class="ttname"><a href="classinventory.html#aa6048276bd408eea6a3229705bffc4c0">inventory::reassign_item</a></div><div class="ttdeci">void reassign_item(item &amp;it, char invlet, bool remove_old=true)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l01195">inventory.cpp:1195</a></div></div>
<div class="ttc" id="ainventory_8h_html_a30cdf5c616c63b894825e5e92a5b1e5c"><div class="ttname"><a href="inventory_8h.html#a30cdf5c616c63b894825e5e92a5b1e5c">inv_chars</a></div><div class="ttdeci">const invlet_wrapper inv_chars</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00099">inventory::assigned_invlet</a>, <a class="el" href="character_8h_source.html#l01583">Character::inv</a>, <a class="el" href="inventory_8h.html#a30cdf5c616c63b894825e5e92a5b1e5c">inv_chars</a>, <a class="el" href="item_8h_source.html#l02232">item::invlet</a>, <a class="el" href="character_8cpp_source.html#l02350">Character::invlet_to_item()</a>, <a class="el" href="inventory_8cpp_source.html#l01195">inventory::reassign_item()</a>, <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>, and <a class="el" href="inventory_8cpp_source.html#l00059">invlet_wrapper::valid()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game__inventory_8cpp_source.html#l01634">game_menus::inv::reassign_letter()</a>.</p>

</div>
</div>
<a id="a0ac864aa036130790e8fe033ab786d18" name="a0ac864aa036130790e8fe033ab786d18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ac864aa036130790e8fe033ab786d18">&#9670;&nbsp;</a></span>recalc_speed_bonus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::recalc_speed_bonus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the various speed bonuses we will get from mutations, etc. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00501">501</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>{</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>    <span class="comment">// Minus some for weight...</span></div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    <span class="keywordtype">int</span> carry_penalty = 0;</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a5929e955c11ee6c749447472df7c774d">weight_carried</a>() &gt; <a class="code hl_function" href="classCharacter.html#a0bdec852c8280a1cb4bb5e45e14057b5">weight_capacity</a>() &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad03d97c03c94cd08796f4787856af713">trait_id</a>( <span class="stringliteral">&quot;DEBUG_STORAGE&quot;</span> ) ) ) {</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        carry_penalty = 25 * ( <a class="code hl_function" href="classCharacter.html#a5929e955c11ee6c749447472df7c774d">weight_carried</a>() - <a class="code hl_function" href="classCharacter.html#a0bdec852c8280a1cb4bb5e45e14057b5">weight_capacity</a>() ) / ( <a class="code hl_function" href="classCharacter.html#a0bdec852c8280a1cb4bb5e45e14057b5">weight_capacity</a>() );</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>    }</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>    <a class="code hl_function" href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">mod_speed_bonus</a>( -carry_penalty );</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span> </div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>    <a class="code hl_function" href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">mod_speed_bonus</a>( -<a class="code hl_function" href="classplayer.html#ac7f549cbcbbca36c3a0fc9f75865b3a4">get_pain_penalty</a>().speed );</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span> </div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a7ca6c670844c9fd8c419c474788a7bf7">get_thirst</a>() &gt; <a class="code hl_enumvalue" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa780f1db7fbc188c7154e8bbd5c14fb02">thirst_levels::very_thirsty</a> ) {</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>        <a class="code hl_function" href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">mod_speed_bonus</a>( <a class="code hl_function" href="classplayer.html#a73b63d394d7beabffc445d4c364f5c19">thirst_speed_penalty</a>( <a class="code hl_function" href="classCharacter.html#a7ca6c670844c9fd8c419c474788a7bf7">get_thirst</a>() ) );</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>    }</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>    <span class="comment">// when underweight, you get slower. cumulative with hunger</span></div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>    <a class="code hl_function" href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">mod_speed_bonus</a>( <a class="code hl_function" href="classplayer.html#a9f726b620ef0ada3e6c5e2d2dfca635d">kcal_speed_penalty</a>() );</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span> </div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;maps : *<a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> ) {</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;i : maps.second ) {</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>            <span class="keywordflow">if</span>( i.second.is_removed() ) {</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>            }</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>            <span class="keywordtype">bool</span> reduced = <a class="code hl_function" href="classCreature.html#af6a1afd1c3ed70f80b5b902125569408">resists_effect</a>( i.second );</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>            <a class="code hl_function" href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">mod_speed_bonus</a>( i.second.get_mod( <span class="stringliteral">&quot;SPEED&quot;</span>, reduced ) );</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>        }</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>    }</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span> </div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>    <span class="comment">// add martial arts speed bonus</span></div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>    <a class="code hl_function" href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">mod_speed_bonus</a>( <a class="code hl_function" href="classCharacter.html#a8e068564c87eb2d870e67eefb63ef144">mabuff_speed_bonus</a>() );</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span> </div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>    <span class="comment">// Not sure why Sunlight Dependent is here, but OK</span></div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    <span class="comment">// Ectothermic/COLDBLOOD4 is intended to buff folks in the Summer</span></div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    <span class="comment">// Threshold-crossing has its charms ;-)</span></div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a> != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a4c5ff82e9ea5987147d84a1a2863abbc">trait_SUNLIGHT_DEPENDENT</a> ) &amp;&amp; !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_in_sunlight( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>            <a class="code hl_function" href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">mod_speed_bonus</a>( -( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;light_level( <a class="code hl_function" href="classCharacter.html#a0d0cb32a95161137e0c61303f84b3753">posz</a>() ) &gt;= 12 ? 5 : 10 ) );</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>        }</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> temperature_speed_modifier = <a class="code hl_function" href="classCharacter.html#a7fbae705aa03db588d52519dfa1e285c">mutation_value</a>( <span class="stringliteral">&quot;temperature_speed_modifier&quot;</span> );</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>        <span class="keywordflow">if</span>( temperature_speed_modifier != 0 ) {</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>            <span class="keyword">const</span> <span class="keyword">auto</span> player_local_temp = <a class="code hl_function" href="group__Weather.html#gaa7b33196bf530c8b26654a0adf355165">get_weather</a>().<a class="code hl_function" href="group__Weather.html#ga956008349f0006ba8d76360e8b2d5283">get_temperature</a>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a2d4878472a9c5543436349f994a98e48">trait_COLDBLOOD4</a> ) || player_local_temp &lt; 65 ) {</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>                <a class="code hl_function" href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">mod_speed_bonus</a>( ( player_local_temp - 65 ) * temperature_speed_modifier );</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>            }</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>        }</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>    }</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span> </div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a24f9a7fe69a7d8c34809d16e62ac2cf4">has_artifact_with</a>( <a class="code hl_enumvalue" href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621a426bf709ed74da6db746b842da5a58d7">AEP_SPEED_UP</a> ) ) {</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>        <a class="code hl_function" href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">mod_speed_bonus</a>( 20 );</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>    }</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a24f9a7fe69a7d8c34809d16e62ac2cf4">has_artifact_with</a>( <a class="code hl_enumvalue" href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621af16c035c812c026d523bed660201249c">AEP_SPEED_DOWN</a> ) ) {</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>        <a class="code hl_function" href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">mod_speed_bonus</a>( -20 );</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>    }</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span> </div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>    <span class="keywordtype">float</span> speed_modifier = <a class="code hl_function" href="classCharacter.html#a7fbae705aa03db588d52519dfa1e285c">Character::mutation_value</a>( <span class="stringliteral">&quot;speed_modifier&quot;</span> );</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>    <a class="code hl_function" href="classCreature.html#a81fd71e521e09908425fc63a64458f59">set_speed_bonus</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_function" href="classCharacter.html#aedc66fc50d352420cae7791b4a0f57f7">get_speed</a>() * speed_modifier ) - <a class="code hl_function" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">get_speed_base</a>() );</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span> </div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="player_8cpp.html#ac51fe65666b5fd877b3a7a223b17a788">bio_speed</a> ) ) { <span class="comment">// multiply by 1.1</span></div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>        <a class="code hl_function" href="classCreature.html#a81fd71e521e09908425fc63a64458f59">set_speed_bonus</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_function" href="classCharacter.html#aedc66fc50d352420cae7791b4a0f57f7">get_speed</a>() * 1.1 ) - <a class="code hl_function" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">get_speed_base</a>() );</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>    }</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span> </div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>    <span class="keywordtype">double</span> ench_bonus = <a class="code hl_variable" href="classCharacter.html#a64fb53474cad02d7de9486d390124c3e">enchantment_cache</a>-&gt;calc_bonus( <a class="code hl_enumvalue" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998a65a59338b99aee6a451e86b17b462b5a">enchant_vals::mod::SPEED</a>, <a class="code hl_function" href="classCharacter.html#aedc66fc50d352420cae7791b4a0f57f7">get_speed</a>() );</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>    <a class="code hl_function" href="classCreature.html#a81fd71e521e09908425fc63a64458f59">set_speed_bonus</a>( <a class="code hl_function" href="classCharacter.html#aedc66fc50d352420cae7791b4a0f57f7">get_speed</a>() + ench_bonus - <a class="code hl_function" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">get_speed_base</a>() );</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span> </div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>    <span class="comment">// Speed cannot be less than 25% of base speed, so minimal speed bonus is -75% base speed.</span></div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> min_speed_bonus = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( -0.75 * <a class="code hl_function" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">get_speed_base</a>() );</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a35bbfb9c042ed3cf7e0ae9b7280384c4">get_speed_bonus</a>() &lt; min_speed_bonus ) {</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>        <a class="code hl_function" href="classCreature.html#a81fd71e521e09908425fc63a64458f59">set_speed_bonus</a>( min_speed_bonus );</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>    }</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>}</div>
<div class="ttc" id="acharacter_8h_html_a2e6af65e94e820564fb484840378cf4aa780f1db7fbc188c7154e8bbd5c14fb02"><div class="ttname"><a href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa780f1db7fbc188c7154e8bbd5c14fb02">thirst_levels::very_thirsty</a></div><div class="ttdeci">@ very_thirsty</div></div>
<div class="ttc" id="aclassCharacter_html_a0bdec852c8280a1cb4bb5e45e14057b5"><div class="ttname"><a href="classCharacter.html#a0bdec852c8280a1cb4bb5e45e14057b5">Character::weight_capacity</a></div><div class="ttdeci">units::mass weight_capacity() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02788">character.cpp:2788</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5929e955c11ee6c749447472df7c774d"><div class="ttname"><a href="classCharacter.html#a5929e955c11ee6c749447472df7c774d">Character::weight_carried</a></div><div class="ttdeci">units::mass weight_carried() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02700">character.cpp:2700</a></div></div>
<div class="ttc" id="aclassCharacter_html_a64fb53474cad02d7de9486d390124c3e"><div class="ttname"><a href="classCharacter.html#a64fb53474cad02d7de9486d390124c3e">Character::enchantment_cache</a></div><div class="ttdeci">pimpl&lt; enchantment &gt; enchantment_cache</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02264">character.h:2264</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7fbae705aa03db588d52519dfa1e285c"><div class="ttname"><a href="classCharacter.html#a7fbae705aa03db588d52519dfa1e285c">Character::mutation_value</a></div><div class="ttdeci">float mutation_value(const std::string &amp;val) const</div><div class="ttdoc">Goes over all mutations, gets min and max of a value with given name.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06732">character.cpp:6732</a></div></div>
<div class="ttc" id="aclassCharacter_html_a8e068564c87eb2d870e67eefb63ef144"><div class="ttname"><a href="classCharacter.html#a8e068564c87eb2d870e67eefb63ef144">Character::mabuff_speed_bonus</a></div><div class="ttdeci">int mabuff_speed_bonus() const</div><div class="ttdoc">Returns the speed bonus from martial arts buffs.</div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8cpp_source.html#l01114">martialarts.cpp:1114</a></div></div>
<div class="ttc" id="aclassCharacter_html_aedc66fc50d352420cae7791b4a0f57f7"><div class="ttname"><a href="classCharacter.html#aedc66fc50d352420cae7791b4a0f57f7">Character::get_speed</a></div><div class="ttdeci">int get_speed() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04108">character.cpp:4108</a></div></div>
<div class="ttc" id="aclassCreature_html_a35bbfb9c042ed3cf7e0ae9b7280384c4"><div class="ttname"><a href="classCreature.html#a35bbfb9c042ed3cf7e0ae9b7280384c4">Creature::get_speed_bonus</a></div><div class="ttdeci">virtual int get_speed_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01672">creature.cpp:1672</a></div></div>
<div class="ttc" id="aclassCreature_html_a81fd71e521e09908425fc63a64458f59"><div class="ttname"><a href="classCreature.html#a81fd71e521e09908425fc63a64458f59">Creature::set_speed_bonus</a></div><div class="ttdeci">virtual void set_speed_bonus(int nspeed)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01734">creature.cpp:1734</a></div></div>
<div class="ttc" id="aclassCreature_html_aa4f09ff71f1aa8562798d47cb4ef0682"><div class="ttname"><a href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">Creature::mod_speed_bonus</a></div><div class="ttdeci">virtual void mod_speed_bonus(int nspeed)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01751">creature.cpp:1751</a></div></div>
<div class="ttc" id="aclassCreature_html_acfac03f5782f8ea53e1efcb5321ead1b"><div class="ttname"><a href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">Creature::get_speed_base</a></div><div class="ttdeci">virtual int get_speed_base() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01668">creature.cpp:1668</a></div></div>
<div class="ttc" id="aclassplayer_html_a73b63d394d7beabffc445d4c364f5c19"><div class="ttname"><a href="classplayer.html#a73b63d394d7beabffc445d4c364f5c19">player::thirst_speed_penalty</a></div><div class="ttdeci">static int thirst_speed_penalty(int thirst)</div><div class="ttdoc">Returns the penalty to speed from thirst.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00487">player.cpp:487</a></div></div>
<div class="ttc" id="aclassplayer_html_a9f726b620ef0ada3e6c5e2d2dfca635d"><div class="ttname"><a href="classplayer.html#a9f726b620ef0ada3e6c5e2d2dfca635d">player::kcal_speed_penalty</a></div><div class="ttdeci">int kcal_speed_penalty() const</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00471">player.cpp:471</a></div></div>
<div class="ttc" id="aenums_8h_html_abbe6432d5446acdbb3c80999ba5a4621a426bf709ed74da6db746b842da5a58d7"><div class="ttname"><a href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621a426bf709ed74da6db746b842da5a58d7">AEP_SPEED_UP</a></div><div class="ttdeci">@ AEP_SPEED_UP</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00107">enums.h:107</a></div></div>
<div class="ttc" id="aenums_8h_html_abbe6432d5446acdbb3c80999ba5a4621af16c035c812c026d523bed660201249c"><div class="ttname"><a href="enums_8h.html#abbe6432d5446acdbb3c80999ba5a4621af16c035c812c026d523bed660201249c">AEP_SPEED_DOWN</a></div><div class="ttdeci">@ AEP_SPEED_DOWN</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00137">enums.h:137</a></div></div>
<div class="ttc" id="agroup__Weather_html_ga956008349f0006ba8d76360e8b2d5283"><div class="ttname"><a href="group__Weather.html#ga956008349f0006ba8d76360e8b2d5283">weather_manager::get_temperature</a></div><div class="ttdeci">int get_temperature(const tripoint &amp;location) const</div><div class="ttdef"><b>Definition:</b> <a href="weather_8cpp_source.html#l01107">weather.cpp:1107</a></div></div>
<div class="ttc" id="anamespaceenchant__vals_html_acd6a6ebb27f9ecb82b3bce1d3aef2998a65a59338b99aee6a451e86b17b462b5a"><div class="ttname"><a href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998a65a59338b99aee6a451e86b17b462b5a">enchant_vals::mod::SPEED</a></div><div class="ttdeci">@ SPEED</div></div>
<div class="ttc" id="aplayer_8cpp_html_a2d4878472a9c5543436349f994a98e48"><div class="ttname"><a href="player_8cpp.html#a2d4878472a9c5543436349f994a98e48">trait_COLDBLOOD4</a></div><div class="ttdeci">static const trait_id trait_COLDBLOOD4(&quot;COLDBLOOD4&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a4c5ff82e9ea5987147d84a1a2863abbc"><div class="ttname"><a href="player_8cpp.html#a4c5ff82e9ea5987147d84a1a2863abbc">trait_SUNLIGHT_DEPENDENT</a></div><div class="ttdeci">static const trait_id trait_SUNLIGHT_DEPENDENT(&quot;SUNLIGHT_DEPENDENT&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_ac51fe65666b5fd877b3a7a223b17a788"><div class="ttname"><a href="player_8cpp.html#ac51fe65666b5fd877b3a7a223b17a788">bio_speed</a></div><div class="ttdeci">static const bionic_id bio_speed(&quot;bio_speed&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="enums_8h_source.html#l00137">AEP_SPEED_DOWN</a>, <a class="el" href="enums_8h_source.html#l00107">AEP_SPEED_UP</a>, <a class="el" href="player_8cpp.html#ac51fe65666b5fd877b3a7a223b17a788">bio_speed</a>, <a class="el" href="creature_8h_source.html#l00808">Creature::effects</a>, <a class="el" href="character_8h_source.html#l02264">Character::enchantment_cache</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="player_8cpp_source.html#l00221">get_pain_penalty()</a>, <a class="el" href="character_8cpp_source.html#l04108">Character::get_speed()</a>, <a class="el" href="creature_8cpp_source.html#l01668">Creature::get_speed_base()</a>, <a class="el" href="creature_8cpp_source.html#l01672">Creature::get_speed_bonus()</a>, <a class="el" href="weather_8cpp_source.html#l01107">weather_manager::get_temperature()</a>, <a class="el" href="character_8cpp_source.html#l04311">Character::get_thirst()</a>, <a class="el" href="weather_8cpp_source.html#l00064">get_weather()</a>, <a class="el" href="character_8cpp_source.html#l03201">Character::has_artifact_with()</a>, <a class="el" href="character_8cpp_source.html#l01866">Character::has_bionic()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="player_8cpp_source.html#l00471">kcal_speed_penalty()</a>, <a class="el" href="martialarts_8cpp_source.html#l01114">Character::mabuff_speed_bonus()</a>, <a class="el" href="creature_8cpp_source.html#l01751">Creature::mod_speed_bonus()</a>, <a class="el" href="character_8cpp_source.html#l06732">Character::mutation_value()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="character_8h_source.html#l00844">Character::posz()</a>, <a class="el" href="creature_8cpp_source.html#l01304">Creature::resists_effect()</a>, <a class="el" href="creature_8cpp_source.html#l01734">Creature::set_speed_bonus()</a>, <a class="el" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998a65a59338b99aee6a451e86b17b462b5a">enchant_vals::SPEED</a>, <a class="el" href="player_8cpp_source.html#l00487">thirst_speed_penalty()</a>, <a class="el" href="player_8cpp.html#a2d4878472a9c5543436349f994a98e48">trait_COLDBLOOD4</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad03d97c03c94cd08796f4787856af713">trait_id</a>, <a class="el" href="player_8cpp.html#a4c5ff82e9ea5987147d84a1a2863abbc">trait_SUNLIGHT_DEPENDENT</a>, <a class="el" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa780f1db7fbc188c7154e8bbd5c14fb02">very_thirsty</a>, <a class="el" href="character_8cpp_source.html#l02788">Character::weight_capacity()</a>, and <a class="el" href="character_8cpp_source.html#l02700">Character::weight_carried()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l04511">reset_stats()</a>.</p>

</div>
</div>
<a id="af3ed7f777d0304aabe7dbcac8a465979" name="af3ed7f777d0304aabe7dbcac8a465979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3ed7f777d0304aabe7dbcac8a465979">&#9670;&nbsp;</a></span>recraft()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::recraft </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>loc</em> = <code><a class="el" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00345">345</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>{</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer.html#a58c783354e25fb7e52ceaedef7114c8d">lastrecipe</a>.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>().empty() ) {</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>        <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Craft something first&quot;</span> ) );</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#a65db2a7d8271e4f84d3d7a504baf2af4">making_would_work</a>( <a class="code hl_variable" href="classplayer.html#a58c783354e25fb7e52ceaedef7114c8d">lastrecipe</a>, <a class="code hl_variable" href="classplayer.html#a01a997f2f36602a5adff48c8df16a357">last_batch</a> ) ) {</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>        <a class="code hl_variable" href="classplayer.html#a771107232106a2afa16d80907365ef1f">last_craft</a>-&gt;execute( loc );</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>    }</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>}</div>
<div class="ttc" id="aclassplayer_html_a58c783354e25fb7e52ceaedef7114c8d"><div class="ttname"><a href="classplayer.html#a58c783354e25fb7e52ceaedef7114c8d">player::lastrecipe</a></div><div class="ttdeci">recipe_id lastrecipe</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00706">player.h:706</a></div></div>
<div class="ttc" id="aclassplayer_html_a65db2a7d8271e4f84d3d7a504baf2af4"><div class="ttname"><a href="classplayer.html#a65db2a7d8271e4f84d3d7a504baf2af4">player::making_would_work</a></div><div class="ttdeci">bool making_would_work(const recipe_id &amp;id_to_make, int batch_size)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00365">crafting.cpp:365</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8h_source.html#l00707">last_batch</a>, <a class="el" href="player_8h_source.html#l00704">last_craft</a>, <a class="el" href="player_8h_source.html#l00706">lastrecipe</a>, <a class="el" href="crafting_8cpp_source.html#l00365">making_would_work()</a>, <a class="el" href="output_8cpp_source.html#l00764">popup()</a>, and <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>.</p>

<p class="reference">Referenced by <a class="el" href="handle__action_8cpp_source.html#l01514">game::handle_action()</a>.</p>

</div>
</div>
<a id="a7e999634841db6a6af22f65d06abf4e5" name="a7e999634841db6a6af22f65d06abf4e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e999634841db6a6af22f65d06abf4e5">&#9670;&nbsp;</a></span>reduce_charges() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> player::reduce_charges </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quantity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove charges from a specific item (given by its item position). </p>
<p >The item must exist and it must be counted by charges. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">position</td><td>Item position of the item. </td></tr>
    <tr><td class="paramname">quantity</td><td>The number of charges to remove, must not be larger than the current charges of the item. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An item that contains the removed charges, it's effectively a copy of the item with the proper charges. </dd></dl>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01870">1870</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>{</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>    <a class="code hl_class" href="classitem.html">item</a> &amp;it = <a class="code hl_function" href="classCharacter.html#a654ed96afe759517e0bf1a31c7a3ea11">i_at</a>( <a class="code hl_variable" href="classCharacter.html#a637149a8ac278a0533a6bb36f31e947e">position</a> );</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>    <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;invalid item position %d for reduce_charges&quot;</span>, <a class="code hl_variable" href="classCharacter.html#a637149a8ac278a0533a6bb36f31e947e">position</a> );</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>        <span class="keywordflow">return</span> <a class="code hl_class" href="classitem.html">item</a>();</div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>    }</div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>    <span class="keywordflow">if</span>( it.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &lt;= quantity ) {</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">i_rem</a>( <a class="code hl_variable" href="classCharacter.html#a637149a8ac278a0533a6bb36f31e947e">position</a> );</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>    }</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>    it.<a class="code hl_function" href="classitem.html#a473448af85ae4182f130bd488bf7c0fb">mod_charges</a>( -quantity );</div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>    <a class="code hl_class" href="classitem.html">item</a> tmp( it );</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>    tmp.charges = quantity;</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>    <span class="keywordflow">return</span> tmp;</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>}</div>
<div class="ttc" id="aclassCharacter_html_a637149a8ac278a0533a6bb36f31e947e"><div class="ttname"><a href="classCharacter.html#a637149a8ac278a0533a6bb36f31e947e">Character::position</a></div><div class="ttdeci">tripoint position</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02114">character.h:2114</a></div></div>
<div class="ttc" id="aclassCharacter_html_a654ed96afe759517e0bf1a31c7a3ea11"><div class="ttname"><a href="classCharacter.html#a654ed96afe759517e0bf1a31c7a3ea11">Character::i_at</a></div><div class="ttdeci">item &amp; i_at(int position)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02391">character.cpp:2391</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="character_8cpp_source.html#l02391">Character::i_at()</a>, <a class="el" href="character_8cpp_source.html#l02413">Character::i_rem()</a>, <a class="el" href="item_8cpp_source.html#l00729">item::is_null()</a>, <a class="el" href="item_8cpp_source.html#l09548">item::mod_charges()</a>, and <a class="el" href="character_8h_source.html#l02114">Character::position</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l00584">pickup::obtain_and_tokenize_items()</a>.</p>

</div>
</div>
<a id="a19f5c3adb7e0ee6dd64e088c163f5a95" name="a19f5c3adb7e0ee6dd64e088c163f5a95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19f5c3adb7e0ee6dd64e088c163f5a95">&#9670;&nbsp;</a></span>reduce_charges() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> player::reduce_charges </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quantity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove charges from a specific item (given by a pointer to it). </p>
<p >Otherwise identical to <a class="el" href="classplayer.html#a7e999634841db6a6af22f65d06abf4e5">reduce_charges(int,int)</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">it</td><td>A pointer to the item, it <em>must</em> exist. </td></tr>
    <tr><td class="paramname">quantity</td><td>How many charges to remove </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01886">1886</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>{</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *it ) ) {</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;invalid item (name %s) for reduce_charges&quot;</span>, it-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>        <span class="keywordflow">return</span> <a class="code hl_class" href="classitem.html">item</a>();</div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>    }</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>    <span class="keywordflow">if</span>( it-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &lt;= quantity ) {</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">i_rem</a>( it );</div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>    }</div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span>    it-&gt;<a class="code hl_function" href="classitem.html#a473448af85ae4182f130bd488bf7c0fb">mod_charges</a>( -quantity );</div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>    <a class="code hl_class" href="classitem.html">item</a> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>( *it );</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>    <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.charges = quantity;</div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="visitable_8cpp_source.html#l00096">visitable&lt; Character &gt;::has_item()</a>, <a class="el" href="character_8cpp_source.html#l02413">Character::i_rem()</a>, <a class="el" href="item_8cpp_source.html#l09548">item::mod_charges()</a>, and <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>.</p>

</div>
</div>
<a id="abaacfc35adb15fa4e6c5fcee90d5c014" name="abaacfc35adb15fa4e6c5fcee90d5c014"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaacfc35adb15fa4e6c5fcee90d5c014">&#9670;&nbsp;</a></span>reset_stats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void player::reset_stats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets stats, and applies effects in an idempotent manner. </p>

<p>Reimplemented from <a class="el" href="classCharacter.html#a997ede96b346ac8b05305c7b1c9b2e4d">Character</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04511">4511</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04512" name="l04512"></a><span class="lineno"> 4512</span>{</div>
<div class="line"><a id="l04513" name="l04513"></a><span class="lineno"> 4513</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> current_stim = <a class="code hl_function" href="classCharacter.html#a7335f053c5874081211552623fa625c5">get_stim</a>();</div>
<div class="line"><a id="l04514" name="l04514"></a><span class="lineno"> 4514</span> </div>
<div class="line"><a id="l04515" name="l04515"></a><span class="lineno"> 4515</span>    <span class="comment">// Trait / mutation buffs</span></div>
<div class="line"><a id="l04516" name="l04516"></a><span class="lineno"> 4516</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a29f4215e8aa45718fd0c33d7a6c7300e">trait_THICK_SCALES</a> ) ) {</div>
<div class="line"><a id="l04517" name="l04517"></a><span class="lineno"> 4517</span>        <a class="code hl_function" href="classCharacter.html#a6924ca4d6836c2a8c64bd6fda0436c70">add_miss_reason</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your thick scales get in the way.&quot;</span> ), 2 );</div>
<div class="line"><a id="l04518" name="l04518"></a><span class="lineno"> 4518</span>    }</div>
<div class="line"><a id="l04519" name="l04519"></a><span class="lineno"> 4519</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a7aaef64e8c7bda4e721b9abfc0f29876">trait_CHITIN2</a> ) || <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a6e269b6cff6957ea12e9319dd5c806fb">trait_CHITIN3</a> ) || <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a7b9b5dc5aace58de30f3602e0413cfb8">trait_CHITIN_FUR3</a> ) ) {</div>
<div class="line"><a id="l04520" name="l04520"></a><span class="lineno"> 4520</span>        <a class="code hl_function" href="classCharacter.html#a6924ca4d6836c2a8c64bd6fda0436c70">add_miss_reason</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your chitin gets in the way.&quot;</span> ), 1 );</div>
<div class="line"><a id="l04521" name="l04521"></a><span class="lineno"> 4521</span>    }</div>
<div class="line"><a id="l04522" name="l04522"></a><span class="lineno"> 4522</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a2f88100c922915703a21ea4c48e8c6bd">trait_COMPOUND_EYES</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#a6d3588802fde645fd5387038b259377c">wearing_something_on</a>( <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;eyes&quot;</span> ) ) ) {</div>
<div class="line"><a id="l04523" name="l04523"></a><span class="lineno"> 4523</span>        <a class="code hl_function" href="classCharacter.html#a0fb6896d21fc20b5f30f2a0b8afd9b1d">mod_per_bonus</a>( 2 );</div>
<div class="line"><a id="l04524" name="l04524"></a><span class="lineno"> 4524</span>    }</div>
<div class="line"><a id="l04525" name="l04525"></a><span class="lineno"> 4525</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#afecd12cfe9b9e60cb64816a1e6d8d043">trait_INSECT_ARMS</a> ) ) {</div>
<div class="line"><a id="l04526" name="l04526"></a><span class="lineno"> 4526</span>        <a class="code hl_function" href="classCharacter.html#a6924ca4d6836c2a8c64bd6fda0436c70">add_miss_reason</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your insect limbs get in the way.&quot;</span> ), 2 );</div>
<div class="line"><a id="l04527" name="l04527"></a><span class="lineno"> 4527</span>    }</div>
<div class="line"><a id="l04528" name="l04528"></a><span class="lineno"> 4528</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#ac41827abd252cabc27c7c385291f71e4">trait_INSECT_ARMS_OK</a> ) ) {</div>
<div class="line"><a id="l04529" name="l04529"></a><span class="lineno"> 4529</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#a6d3588802fde645fd5387038b259377c">wearing_something_on</a>( <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ) ) ) {</div>
<div class="line"><a id="l04530" name="l04530"></a><span class="lineno"> 4530</span>            <a class="code hl_function" href="classCharacter.html#a1f1ce1b5bdc4116046f13af5ef5236fc">mod_dex_bonus</a>( 1 );</div>
<div class="line"><a id="l04531" name="l04531"></a><span class="lineno"> 4531</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04532" name="l04532"></a><span class="lineno"> 4532</span>            <a class="code hl_function" href="classCharacter.html#a1f1ce1b5bdc4116046f13af5ef5236fc">mod_dex_bonus</a>( -1 );</div>
<div class="line"><a id="l04533" name="l04533"></a><span class="lineno"> 4533</span>            <a class="code hl_function" href="classCharacter.html#a6924ca4d6836c2a8c64bd6fda0436c70">add_miss_reason</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your clothing restricts your insect arms.&quot;</span> ), 1 );</div>
<div class="line"><a id="l04534" name="l04534"></a><span class="lineno"> 4534</span>        }</div>
<div class="line"><a id="l04535" name="l04535"></a><span class="lineno"> 4535</span>    }</div>
<div class="line"><a id="l04536" name="l04536"></a><span class="lineno"> 4536</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a365df112ebfa257fa507cef2fa5a1c2e">trait_WEBBED</a> ) ) {</div>
<div class="line"><a id="l04537" name="l04537"></a><span class="lineno"> 4537</span>        <a class="code hl_function" href="classCharacter.html#a6924ca4d6836c2a8c64bd6fda0436c70">add_miss_reason</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your webbed hands get in the way.&quot;</span> ), 1 );</div>
<div class="line"><a id="l04538" name="l04538"></a><span class="lineno"> 4538</span>    }</div>
<div class="line"><a id="l04539" name="l04539"></a><span class="lineno"> 4539</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a1f13575e0c937c4721778a685093e25d">trait_ARACHNID_ARMS</a> ) ) {</div>
<div class="line"><a id="l04540" name="l04540"></a><span class="lineno"> 4540</span>        <a class="code hl_function" href="classCharacter.html#a6924ca4d6836c2a8c64bd6fda0436c70">add_miss_reason</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your arachnid limbs get in the way.&quot;</span> ), 4 );</div>
<div class="line"><a id="l04541" name="l04541"></a><span class="lineno"> 4541</span>    }</div>
<div class="line"><a id="l04542" name="l04542"></a><span class="lineno"> 4542</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#accbe02d1b542c1aeb1081f0e11e3afd5">trait_ARACHNID_ARMS_OK</a> ) ) {</div>
<div class="line"><a id="l04543" name="l04543"></a><span class="lineno"> 4543</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#a6d3588802fde645fd5387038b259377c">wearing_something_on</a>( <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ) ) ) {</div>
<div class="line"><a id="l04544" name="l04544"></a><span class="lineno"> 4544</span>            <a class="code hl_function" href="classCharacter.html#a1f1ce1b5bdc4116046f13af5ef5236fc">mod_dex_bonus</a>( 2 );</div>
<div class="line"><a id="l04545" name="l04545"></a><span class="lineno"> 4545</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#a1febd48cd6251eb3dabd51ccfd608148">exclusive_flag_coverage</a>( <span class="stringliteral">&quot;OVERSIZE&quot;</span> ).test( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab4b216482dcc0e468819f023c3aeddd1">bp_torso</a> ) ) {</div>
<div class="line"><a id="l04546" name="l04546"></a><span class="lineno"> 4546</span>            <a class="code hl_function" href="classCharacter.html#a1f1ce1b5bdc4116046f13af5ef5236fc">mod_dex_bonus</a>( -2 );</div>
<div class="line"><a id="l04547" name="l04547"></a><span class="lineno"> 4547</span>            <a class="code hl_function" href="classCharacter.html#a6924ca4d6836c2a8c64bd6fda0436c70">add_miss_reason</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your clothing constricts your arachnid limbs.&quot;</span> ), 2 );</div>
<div class="line"><a id="l04548" name="l04548"></a><span class="lineno"> 4548</span>        }</div>
<div class="line"><a id="l04549" name="l04549"></a><span class="lineno"> 4549</span>    }</div>
<div class="line"><a id="l04550" name="l04550"></a><span class="lineno"> 4550</span>    <span class="keyword">const</span> <span class="keyword">auto</span> set_fake_effect_dur = [<span class="keyword">this</span>]( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> &amp; <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> &amp; dur ) {</div>
<div class="line"><a id="l04551" name="l04551"></a><span class="lineno"> 4551</span>        <a class="code hl_class" href="classeffect.html">effect</a> &amp;eff = <a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> );</div>
<div class="line"><a id="l04552" name="l04552"></a><span class="lineno"> 4552</span>        <span class="keywordflow">if</span>( eff.<a class="code hl_function" href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">get_duration</a>() == dur ) {</div>
<div class="line"><a id="l04553" name="l04553"></a><span class="lineno"> 4553</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l04554" name="l04554"></a><span class="lineno"> 4554</span>        }</div>
<div class="line"><a id="l04555" name="l04555"></a><span class="lineno"> 4555</span> </div>
<div class="line"><a id="l04556" name="l04556"></a><span class="lineno"> 4556</span>        <span class="keywordflow">if</span>( eff.<a class="code hl_function" href="classeffect.html#a39ebd2ec5b2faacde7483e0c07240baa">is_null</a>() &amp;&amp; dur &gt; 0_turns ) {</div>
<div class="line"><a id="l04557" name="l04557"></a><span class="lineno"> 4557</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, dur, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l04558" name="l04558"></a><span class="lineno"> 4558</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( dur &gt; 0_turns ) {</div>
<div class="line"><a id="l04559" name="l04559"></a><span class="lineno"> 4559</span>            eff.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( dur );</div>
<div class="line"><a id="l04560" name="l04560"></a><span class="lineno"> 4560</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04561" name="l04561"></a><span class="lineno"> 4561</span>            <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l04562" name="l04562"></a><span class="lineno"> 4562</span>        }</div>
<div class="line"><a id="l04563" name="l04563"></a><span class="lineno"> 4563</span>    };</div>
<div class="line"><a id="l04564" name="l04564"></a><span class="lineno"> 4564</span>    <span class="comment">// Painkiller</span></div>
<div class="line"><a id="l04565" name="l04565"></a><span class="lineno"> 4565</span>    set_fake_effect_dur( <a class="code hl_variable" href="player_8cpp.html#a1cb839b00dab2fe99f9dacfc8492e1b2">effect_pkill</a>, 1_turns * <a class="code hl_function" href="classCharacter.html#a1961ab0f9c702252e550bf42cb8dd974">get_painkiller</a>() );</div>
<div class="line"><a id="l04566" name="l04566"></a><span class="lineno"> 4566</span> </div>
<div class="line"><a id="l04567" name="l04567"></a><span class="lineno"> 4567</span>    <span class="comment">// Pain</span></div>
<div class="line"><a id="l04568" name="l04568"></a><span class="lineno"> 4568</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#a866f12c5891fa0a43d837669fc52706b">get_perceived_pain</a>() &gt; 0 ) {</div>
<div class="line"><a id="l04569" name="l04569"></a><span class="lineno"> 4569</span>        <span class="keyword">const</span> <span class="keyword">auto</span> ppen = <a class="code hl_function" href="classplayer.html#ac7f549cbcbbca36c3a0fc9f75865b3a4">get_pain_penalty</a>();</div>
<div class="line"><a id="l04570" name="l04570"></a><span class="lineno"> 4570</span>        <a class="code hl_function" href="classCharacter.html#a6cb8078ce8af28f6a779c039e3c1e1ca">mod_str_bonus</a>( -ppen.strength );</div>
<div class="line"><a id="l04571" name="l04571"></a><span class="lineno"> 4571</span>        <a class="code hl_function" href="classCharacter.html#a1f1ce1b5bdc4116046f13af5ef5236fc">mod_dex_bonus</a>( -ppen.dexterity );</div>
<div class="line"><a id="l04572" name="l04572"></a><span class="lineno"> 4572</span>        <a class="code hl_function" href="classCharacter.html#af6603125d7342944862004a14de55a8a">mod_int_bonus</a>( -ppen.intelligence );</div>
<div class="line"><a id="l04573" name="l04573"></a><span class="lineno"> 4573</span>        <a class="code hl_function" href="classCharacter.html#a0fb6896d21fc20b5f30f2a0b8afd9b1d">mod_per_bonus</a>( -ppen.perception );</div>
<div class="line"><a id="l04574" name="l04574"></a><span class="lineno"> 4574</span>        <span class="keywordflow">if</span>( ppen.dexterity &gt; 0 ) {</div>
<div class="line"><a id="l04575" name="l04575"></a><span class="lineno"> 4575</span>            <a class="code hl_function" href="classCharacter.html#a6924ca4d6836c2a8c64bd6fda0436c70">add_miss_reason</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your pain distracts you!&quot;</span> ), <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>( ppen.dexterity ) );</div>
<div class="line"><a id="l04576" name="l04576"></a><span class="lineno"> 4576</span>        }</div>
<div class="line"><a id="l04577" name="l04577"></a><span class="lineno"> 4577</span>    }</div>
<div class="line"><a id="l04578" name="l04578"></a><span class="lineno"> 4578</span> </div>
<div class="line"><a id="l04579" name="l04579"></a><span class="lineno"> 4579</span>    <span class="comment">// Radiation</span></div>
<div class="line"><a id="l04580" name="l04580"></a><span class="lineno"> 4580</span>    set_fake_effect_dur( <a class="code hl_variable" href="player_8cpp.html#a4860b2a9de9f5aafed467e6b1bfd7c8b">effect_irradiated</a>, 1_turns * <a class="code hl_function" href="classCharacter.html#aa81a4b0db6f2387bfc02706a6b7a678e">get_rad</a>() );</div>
<div class="line"><a id="l04581" name="l04581"></a><span class="lineno"> 4581</span>    <span class="comment">// Morale</span></div>
<div class="line"><a id="l04582" name="l04582"></a><span class="lineno"> 4582</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="classCharacter.html#aca511c2b9cca76347a32edd2c2ac0fd2">morale</a> = <a class="code hl_function" href="classCharacter.html#a81a81cee431c657465e6ab54af345eaf">get_morale_level</a>();</div>
<div class="line"><a id="l04583" name="l04583"></a><span class="lineno"> 4583</span>    set_fake_effect_dur( <a class="code hl_variable" href="player_8cpp.html#ae9288df70e6cd6c1ff0bdd5404a18138">effect_happy</a>, 1_turns * <a class="code hl_variable" href="classCharacter.html#aca511c2b9cca76347a32edd2c2ac0fd2">morale</a> );</div>
<div class="line"><a id="l04584" name="l04584"></a><span class="lineno"> 4584</span>    set_fake_effect_dur( <a class="code hl_variable" href="player_8cpp.html#a09f3ea407cf63807e000861190ad1515">effect_sad</a>, 1_turns * -<a class="code hl_variable" href="classCharacter.html#aca511c2b9cca76347a32edd2c2ac0fd2">morale</a> );</div>
<div class="line"><a id="l04585" name="l04585"></a><span class="lineno"> 4585</span> </div>
<div class="line"><a id="l04586" name="l04586"></a><span class="lineno"> 4586</span>    <span class="comment">// Stimulants</span></div>
<div class="line"><a id="l04587" name="l04587"></a><span class="lineno"> 4587</span>    set_fake_effect_dur( <a class="code hl_variable" href="player_8cpp.html#ae331a8118e681234ecce8aaf10d4ddc9">effect_stim</a>, 1_turns * current_stim );</div>
<div class="line"><a id="l04588" name="l04588"></a><span class="lineno"> 4588</span>    set_fake_effect_dur( <a class="code hl_variable" href="player_8cpp.html#af08049a13ec857cf18fe65c4ac30788d">effect_depressants</a>, 1_turns * -current_stim );</div>
<div class="line"><a id="l04589" name="l04589"></a><span class="lineno"> 4589</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a7b80d711466946f3fb75c76a9d47de41">trait_STIMBOOST</a> ) ) {</div>
<div class="line"><a id="l04590" name="l04590"></a><span class="lineno"> 4590</span>        set_fake_effect_dur( <a class="code hl_variable" href="player_8cpp.html#ace41dee69a6d53ab6af1332a89b87b92">effect_stim_overdose</a>, 1_turns * ( current_stim - 60 ) );</div>
<div class="line"><a id="l04591" name="l04591"></a><span class="lineno"> 4591</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04592" name="l04592"></a><span class="lineno"> 4592</span>        set_fake_effect_dur( <a class="code hl_variable" href="player_8cpp.html#ace41dee69a6d53ab6af1332a89b87b92">effect_stim_overdose</a>, 1_turns * ( current_stim - 30 ) );</div>
<div class="line"><a id="l04593" name="l04593"></a><span class="lineno"> 4593</span>    }</div>
<div class="line"><a id="l04594" name="l04594"></a><span class="lineno"> 4594</span>    <span class="comment">// Starvation</span></div>
<div class="line"><a id="l04595" name="l04595"></a><span class="lineno"> 4595</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a42c4ba47635e0659553c233c399da84a">get_kcal_percent</a>() &lt; 0.95f ) {</div>
<div class="line"><a id="l04596" name="l04596"></a><span class="lineno"> 4596</span>        <span class="comment">// kcal-&gt;percentage of base str</span></div>
<div class="line"><a id="l04597" name="l04597"></a><span class="lineno"> 4597</span>        <span class="keyword">static</span> <span class="keyword">const</span> std::vector&lt;std::pair&lt;float, float&gt;&gt; starv_thresholds = { {</div>
<div class="line"><a id="l04598" name="l04598"></a><span class="lineno"> 4598</span>                std::make_pair( 0.0f, 0.5f ),</div>
<div class="line"><a id="l04599" name="l04599"></a><span class="lineno"> 4599</span>                std::make_pair( 0.8f, 0.1f ),</div>
<div class="line"><a id="l04600" name="l04600"></a><span class="lineno"> 4600</span>                std::make_pair( 0.95f, 0.0f )</div>
<div class="line"><a id="l04601" name="l04601"></a><span class="lineno"> 4601</span>            }</div>
<div class="line"><a id="l04602" name="l04602"></a><span class="lineno"> 4602</span>        };</div>
<div class="line"><a id="l04603" name="l04603"></a><span class="lineno"> 4603</span> </div>
<div class="line"><a id="l04604" name="l04604"></a><span class="lineno"> 4604</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> str_penalty = std::floor( <a class="code hl_function" href="cata__utility_8cpp.html#ac49c7bae3c3ac926a5501ffb127c1e97">multi_lerp</a>( starv_thresholds, <a class="code hl_function" href="classCharacter.html#a42c4ba47635e0659553c233c399da84a">get_kcal_percent</a>() ) );</div>
<div class="line"><a id="l04605" name="l04605"></a><span class="lineno"> 4605</span>        <a class="code hl_function" href="classCharacter.html#a6924ca4d6836c2a8c64bd6fda0436c70">add_miss_reason</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;re weak from hunger.&quot;</span> ),</div>
<div class="line"><a id="l04606" name="l04606"></a><span class="lineno"> 4606</span>                         <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>( str_penalty / 2 ) );</div>
<div class="line"><a id="l04607" name="l04607"></a><span class="lineno"> 4607</span>        <a class="code hl_function" href="classCharacter.html#a6cb8078ce8af28f6a779c039e3c1e1ca">mod_str_bonus</a>( -str_penalty );</div>
<div class="line"><a id="l04608" name="l04608"></a><span class="lineno"> 4608</span>        <a class="code hl_function" href="classCharacter.html#a1f1ce1b5bdc4116046f13af5ef5236fc">mod_dex_bonus</a>( -( str_penalty / 2 ) );</div>
<div class="line"><a id="l04609" name="l04609"></a><span class="lineno"> 4609</span>        <a class="code hl_function" href="classCharacter.html#af6603125d7342944862004a14de55a8a">mod_int_bonus</a>( -( str_penalty / 2 ) );</div>
<div class="line"><a id="l04610" name="l04610"></a><span class="lineno"> 4610</span>    }</div>
<div class="line"><a id="l04611" name="l04611"></a><span class="lineno"> 4611</span>    <span class="comment">// Thirst</span></div>
<div class="line"><a id="l04612" name="l04612"></a><span class="lineno"> 4612</span>    set_fake_effect_dur( <a class="code hl_variable" href="player_8cpp.html#a99d0319c6ba808305bd397fed049a224">effect_thirsty</a>, 1_turns * ( <a class="code hl_function" href="classCharacter.html#a7ca6c670844c9fd8c419c474788a7bf7">get_thirst</a>() - <a class="code hl_enumvalue" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa780f1db7fbc188c7154e8bbd5c14fb02">thirst_levels::very_thirsty</a> ) );</div>
<div class="line"><a id="l04613" name="l04613"></a><span class="lineno"> 4613</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#ab2db9a91b7251e1ca4c1735c9cc2bf52">get_sleep_deprivation</a>() &gt;= <a class="code hl_enumvalue" href="character_8h.html#aa7bb0ad73714bdf6b22d11b5b4e2633fad8eced3b06972df4d1dd7d835fc3edd3">sleep_deprivation_levels::harmless</a> ) {</div>
<div class="line"><a id="l04614" name="l04614"></a><span class="lineno"> 4614</span>        set_fake_effect_dur( <a class="code hl_variable" href="player_8cpp.html#af2c1415b677a83667f038144ea42eb43">effect_sleep_deprived</a>, 1_turns * <a class="code hl_function" href="classCharacter.html#ab2db9a91b7251e1ca4c1735c9cc2bf52">get_sleep_deprivation</a>() );</div>
<div class="line"><a id="l04615" name="l04615"></a><span class="lineno"> 4615</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#af2c1415b677a83667f038144ea42eb43">effect_sleep_deprived</a> ) ) {</div>
<div class="line"><a id="l04616" name="l04616"></a><span class="lineno"> 4616</span>        <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( <a class="code hl_variable" href="player_8cpp.html#af2c1415b677a83667f038144ea42eb43">effect_sleep_deprived</a> );</div>
<div class="line"><a id="l04617" name="l04617"></a><span class="lineno"> 4617</span>    }</div>
<div class="line"><a id="l04618" name="l04618"></a><span class="lineno"> 4618</span> </div>
<div class="line"><a id="l04619" name="l04619"></a><span class="lineno"> 4619</span>    <span class="comment">// Dodge-related effects</span></div>
<div class="line"><a id="l04620" name="l04620"></a><span class="lineno"> 4620</span>    <a class="code hl_function" href="classCreature.html#a60ca228583adf18b2e56e1c96ff8b048">mod_dodge_bonus</a>( <a class="code hl_function" href="classCharacter.html#aba0dd3cd625129fd3792d9cf10bf5f77">mabuff_dodge_bonus</a>() -</div>
<div class="line"><a id="l04621" name="l04621"></a><span class="lineno"> 4621</span>                     ( <a class="code hl_function" href="classCharacter.html#adc1fd84a88722a905e57fea8bfd5b6b0">encumb</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a44506e97ae9648354f97d530a3be61b8">bp_leg_l</a> ) + <a class="code hl_function" href="classCharacter.html#adc1fd84a88722a905e57fea8bfd5b6b0">encumb</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a202ad82497ebf8867cdcd6ee15085d16">bp_leg_r</a> ) ) / 20.0f - <a class="code hl_function" href="classCharacter.html#adc1fd84a88722a905e57fea8bfd5b6b0">encumb</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ab4b216482dcc0e468819f023c3aeddd1">bp_torso</a> ) / 10.0f );</div>
<div class="line"><a id="l04622" name="l04622"></a><span class="lineno"> 4622</span>    <span class="comment">// Whiskers don&#39;t work so well if they&#39;re covered</span></div>
<div class="line"><a id="l04623" name="l04623"></a><span class="lineno"> 4623</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a93a8aea38d781d7a0b51285a6d33c8e5">trait_WHISKERS</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#a6d3588802fde645fd5387038b259377c">wearing_something_on</a>( <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;mouth&quot;</span> ) ) ) {</div>
<div class="line"><a id="l04624" name="l04624"></a><span class="lineno"> 4624</span>        <a class="code hl_function" href="classCreature.html#a60ca228583adf18b2e56e1c96ff8b048">mod_dodge_bonus</a>( 1.5 );</div>
<div class="line"><a id="l04625" name="l04625"></a><span class="lineno"> 4625</span>    }</div>
<div class="line"><a id="l04626" name="l04626"></a><span class="lineno"> 4626</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#aad2f825b2368c52145a0829bcc37eadf">trait_WHISKERS_RAT</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#a6d3588802fde645fd5387038b259377c">wearing_something_on</a>( <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;mouth&quot;</span> ) ) ) {</div>
<div class="line"><a id="l04627" name="l04627"></a><span class="lineno"> 4627</span>        <a class="code hl_function" href="classCreature.html#a60ca228583adf18b2e56e1c96ff8b048">mod_dodge_bonus</a>( 3 );</div>
<div class="line"><a id="l04628" name="l04628"></a><span class="lineno"> 4628</span>    }</div>
<div class="line"><a id="l04629" name="l04629"></a><span class="lineno"> 4629</span>    <span class="comment">// depending on mounts size, attacks will hit the mount and use their dodge rating.</span></div>
<div class="line"><a id="l04630" name="l04630"></a><span class="lineno"> 4630</span>    <span class="comment">// if they hit the player, the player cannot dodge as effectively.</span></div>
<div class="line"><a id="l04631" name="l04631"></a><span class="lineno"> 4631</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l04632" name="l04632"></a><span class="lineno"> 4632</span>        <a class="code hl_function" href="classCreature.html#a60ca228583adf18b2e56e1c96ff8b048">mod_dodge_bonus</a>( -4 );</div>
<div class="line"><a id="l04633" name="l04633"></a><span class="lineno"> 4633</span>    }</div>
<div class="line"><a id="l04634" name="l04634"></a><span class="lineno"> 4634</span>    <span class="comment">// Spider hair is basically a full-body set of whiskers, once you get the brain for it</span></div>
<div class="line"><a id="l04635" name="l04635"></a><span class="lineno"> 4635</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a7b9b5dc5aace58de30f3602e0413cfb8">trait_CHITIN_FUR3</a> ) ) {</div>
<div class="line"><a id="l04636" name="l04636"></a><span class="lineno"> 4636</span>        <span class="keyword">static</span> <span class="keyword">const</span> std::array&lt;bodypart_id, 5&gt; parts{ { <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;head&quot;</span> ), <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;arm_r&quot;</span> ), <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;arm_l&quot;</span> ), <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;leg_r&quot;</span> ), <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;leg_l&quot;</span> ) } };</div>
<div class="line"><a id="l04637" name="l04637"></a><span class="lineno"> 4637</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> &amp;bp : parts ) {</div>
<div class="line"><a id="l04638" name="l04638"></a><span class="lineno"> 4638</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#a6d3588802fde645fd5387038b259377c">wearing_something_on</a>( bp ) ) {</div>
<div class="line"><a id="l04639" name="l04639"></a><span class="lineno"> 4639</span>                <a class="code hl_function" href="classCreature.html#a60ca228583adf18b2e56e1c96ff8b048">mod_dodge_bonus</a>( +1 );</div>
<div class="line"><a id="l04640" name="l04640"></a><span class="lineno"> 4640</span>            }</div>
<div class="line"><a id="l04641" name="l04641"></a><span class="lineno"> 4641</span>        }</div>
<div class="line"><a id="l04642" name="l04642"></a><span class="lineno"> 4642</span>        <span class="comment">// Torso handled separately, bigger bonus</span></div>
<div class="line"><a id="l04643" name="l04643"></a><span class="lineno"> 4643</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#a6d3588802fde645fd5387038b259377c">wearing_something_on</a>( <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ) ) ) {</div>
<div class="line"><a id="l04644" name="l04644"></a><span class="lineno"> 4644</span>            <a class="code hl_function" href="classCreature.html#a60ca228583adf18b2e56e1c96ff8b048">mod_dodge_bonus</a>( 4 );</div>
<div class="line"><a id="l04645" name="l04645"></a><span class="lineno"> 4645</span>        }</div>
<div class="line"><a id="l04646" name="l04646"></a><span class="lineno"> 4646</span>    }</div>
<div class="line"><a id="l04647" name="l04647"></a><span class="lineno"> 4647</span> </div>
<div class="line"><a id="l04648" name="l04648"></a><span class="lineno"> 4648</span>    <span class="comment">// Apply static martial arts buffs</span></div>
<div class="line"><a id="l04649" name="l04649"></a><span class="lineno"> 4649</span>    <a class="code hl_variable" href="classCharacter.html#a313797e99525bfd2a5ead68b7672f168">martial_arts_data</a>-&gt;ma_static_effects( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l04650" name="l04650"></a><span class="lineno"> 4650</span> </div>
<div class="line"><a id="l04651" name="l04651"></a><span class="lineno"> 4651</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( 1_minutes ) ) {</div>
<div class="line"><a id="l04652" name="l04652"></a><span class="lineno"> 4652</span>        <a class="code hl_function" href="classplayer.html#a99160178bdf4e469221ab392a7ed0820">update_mental_focus</a>();</div>
<div class="line"><a id="l04653" name="l04653"></a><span class="lineno"> 4653</span>    }</div>
<div class="line"><a id="l04654" name="l04654"></a><span class="lineno"> 4654</span> </div>
<div class="line"><a id="l04655" name="l04655"></a><span class="lineno"> 4655</span>    <span class="comment">// Effects</span></div>
<div class="line"><a id="l04656" name="l04656"></a><span class="lineno"> 4656</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;maps : *<a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> ) {</div>
<div class="line"><a id="l04657" name="l04657"></a><span class="lineno"> 4657</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> i : maps.second ) {</div>
<div class="line"><a id="l04658" name="l04658"></a><span class="lineno"> 4658</span>            <span class="keyword">const</span> <span class="keyword">auto</span> &amp;it = i.second;</div>
<div class="line"><a id="l04659" name="l04659"></a><span class="lineno"> 4659</span>            <span class="keywordflow">if</span>( it.is_removed() ) {</div>
<div class="line"><a id="l04660" name="l04660"></a><span class="lineno"> 4660</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l04661" name="l04661"></a><span class="lineno"> 4661</span>            }</div>
<div class="line"><a id="l04662" name="l04662"></a><span class="lineno"> 4662</span>            <span class="keywordtype">bool</span> reduced = <a class="code hl_function" href="classCreature.html#af6a1afd1c3ed70f80b5b902125569408">resists_effect</a>( it );</div>
<div class="line"><a id="l04663" name="l04663"></a><span class="lineno"> 4663</span>            <a class="code hl_function" href="classCharacter.html#a6cb8078ce8af28f6a779c039e3c1e1ca">mod_str_bonus</a>( it.get_mod( <span class="stringliteral">&quot;STR&quot;</span>, reduced ) );</div>
<div class="line"><a id="l04664" name="l04664"></a><span class="lineno"> 4664</span>            <a class="code hl_function" href="classCharacter.html#a1f1ce1b5bdc4116046f13af5ef5236fc">mod_dex_bonus</a>( it.get_mod( <span class="stringliteral">&quot;DEX&quot;</span>, reduced ) );</div>
<div class="line"><a id="l04665" name="l04665"></a><span class="lineno"> 4665</span>            <a class="code hl_function" href="classCharacter.html#a0fb6896d21fc20b5f30f2a0b8afd9b1d">mod_per_bonus</a>( it.get_mod( <span class="stringliteral">&quot;PER&quot;</span>, reduced ) );</div>
<div class="line"><a id="l04666" name="l04666"></a><span class="lineno"> 4666</span>            <a class="code hl_function" href="classCharacter.html#af6603125d7342944862004a14de55a8a">mod_int_bonus</a>( it.get_mod( <span class="stringliteral">&quot;INT&quot;</span>, reduced ) );</div>
<div class="line"><a id="l04667" name="l04667"></a><span class="lineno"> 4667</span>        }</div>
<div class="line"><a id="l04668" name="l04668"></a><span class="lineno"> 4668</span>    }</div>
<div class="line"><a id="l04669" name="l04669"></a><span class="lineno"> 4669</span> </div>
<div class="line"><a id="l04670" name="l04670"></a><span class="lineno"> 4670</span>    <a class="code hl_function" href="classCharacter.html#a997ede96b346ac8b05305c7b1c9b2e4d">Character::reset_stats</a>();</div>
<div class="line"><a id="l04671" name="l04671"></a><span class="lineno"> 4671</span> </div>
<div class="line"><a id="l04672" name="l04672"></a><span class="lineno"> 4672</span>    <a class="code hl_function" href="classCharacter.html#aa0d1b26c15ad4a52973774bf6a7610c1">recalc_sight_limits</a>();</div>
<div class="line"><a id="l04673" name="l04673"></a><span class="lineno"> 4673</span>    <a class="code hl_function" href="classplayer.html#a0ac864aa036130790e8fe033ab786d18">recalc_speed_bonus</a>();</div>
<div class="line"><a id="l04674" name="l04674"></a><span class="lineno"> 4674</span> </div>
<div class="line"><a id="l04675" name="l04675"></a><span class="lineno"> 4675</span>}</div>
<div class="ttc" id="aclassCharacter_html_a1febd48cd6251eb3dabd51ccfd608148"><div class="ttname"><a href="classCharacter.html#a1febd48cd6251eb3dabd51ccfd608148">Character::exclusive_flag_coverage</a></div><div class="ttdeci">body_part_set exclusive_flag_coverage(const std::string &amp;flag) const</div><div class="ttdoc">Bitset of all the body parts covered only with items with flag (or nothing)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04028">character.cpp:4028</a></div></div>
<div class="ttc" id="aclassCharacter_html_a997ede96b346ac8b05305c7b1c9b2e4d"><div class="ttname"><a href="classCharacter.html#a997ede96b346ac8b05305c7b1c9b2e4d">Character::reset_stats</a></div><div class="ttdeci">void reset_stats() override</div><div class="ttdoc">Resets stats, and applies effects in an idempotent manner.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03548">character.cpp:3548</a></div></div>
<div class="ttc" id="aclassCharacter_html_aba0dd3cd625129fd3792d9cf10bf5f77"><div class="ttname"><a href="classCharacter.html#aba0dd3cd625129fd3792d9cf10bf5f77">Character::mabuff_dodge_bonus</a></div><div class="ttdeci">float mabuff_dodge_bonus() const</div><div class="ttdoc">Returns the dodge bonus from martial arts buffs.</div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8cpp_source.html#l01098">martialarts.cpp:1098</a></div></div>
<div class="ttc" id="aclassCreature_html_a60ca228583adf18b2e56e1c96ff8b048"><div class="ttname"><a href="classCreature.html#a60ca228583adf18b2e56e1c96ff8b048">Creature::mod_dodge_bonus</a></div><div class="ttdeci">virtual void mod_dodge_bonus(float ndodge)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01755">creature.cpp:1755</a></div></div>
<div class="ttc" id="aclassplayer_html_a0ac864aa036130790e8fe033ab786d18"><div class="ttname"><a href="classplayer.html#a0ac864aa036130790e8fe033ab786d18">player::recalc_speed_bonus</a></div><div class="ttdeci">void recalc_speed_bonus()</div><div class="ttdoc">Calculates the various speed bonuses we will get from mutations, etc.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00501">player.cpp:501</a></div></div>
<div class="ttc" id="aclassplayer_html_a99160178bdf4e469221ab392a7ed0820"><div class="ttname"><a href="classplayer.html#a99160178bdf4e469221ab392a7ed0820">player::update_mental_focus</a></div><div class="ttdeci">void update_mental_focus()</div><div class="ttdoc">Uses calc_focus_change to update the player's current focus.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04506">player.cpp:4506</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a09f3ea407cf63807e000861190ad1515"><div class="ttname"><a href="player_8cpp.html#a09f3ea407cf63807e000861190ad1515">effect_sad</a></div><div class="ttdeci">static const efftype_id effect_sad(&quot;sad&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a1cb839b00dab2fe99f9dacfc8492e1b2"><div class="ttname"><a href="player_8cpp.html#a1cb839b00dab2fe99f9dacfc8492e1b2">effect_pkill</a></div><div class="ttdeci">static const efftype_id effect_pkill(&quot;pkill&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a1f13575e0c937c4721778a685093e25d"><div class="ttname"><a href="player_8cpp.html#a1f13575e0c937c4721778a685093e25d">trait_ARACHNID_ARMS</a></div><div class="ttdeci">static const trait_id trait_ARACHNID_ARMS(&quot;ARACHNID_ARMS&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a29f4215e8aa45718fd0c33d7a6c7300e"><div class="ttname"><a href="player_8cpp.html#a29f4215e8aa45718fd0c33d7a6c7300e">trait_THICK_SCALES</a></div><div class="ttdeci">static const trait_id trait_THICK_SCALES(&quot;THICK_SCALES&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a2f88100c922915703a21ea4c48e8c6bd"><div class="ttname"><a href="player_8cpp.html#a2f88100c922915703a21ea4c48e8c6bd">trait_COMPOUND_EYES</a></div><div class="ttdeci">static const trait_id trait_COMPOUND_EYES(&quot;COMPOUND_EYES&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a365df112ebfa257fa507cef2fa5a1c2e"><div class="ttname"><a href="player_8cpp.html#a365df112ebfa257fa507cef2fa5a1c2e">trait_WEBBED</a></div><div class="ttdeci">static const trait_id trait_WEBBED(&quot;WEBBED&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a4860b2a9de9f5aafed467e6b1bfd7c8b"><div class="ttname"><a href="player_8cpp.html#a4860b2a9de9f5aafed467e6b1bfd7c8b">effect_irradiated</a></div><div class="ttdeci">static const efftype_id effect_irradiated(&quot;irradiated&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a6e269b6cff6957ea12e9319dd5c806fb"><div class="ttname"><a href="player_8cpp.html#a6e269b6cff6957ea12e9319dd5c806fb">trait_CHITIN3</a></div><div class="ttdeci">static const trait_id trait_CHITIN3(&quot;CHITIN3&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a7aaef64e8c7bda4e721b9abfc0f29876"><div class="ttname"><a href="player_8cpp.html#a7aaef64e8c7bda4e721b9abfc0f29876">trait_CHITIN2</a></div><div class="ttdeci">static const trait_id trait_CHITIN2(&quot;CHITIN2&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a7b80d711466946f3fb75c76a9d47de41"><div class="ttname"><a href="player_8cpp.html#a7b80d711466946f3fb75c76a9d47de41">trait_STIMBOOST</a></div><div class="ttdeci">static const trait_id trait_STIMBOOST(&quot;STIMBOOST&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a7b9b5dc5aace58de30f3602e0413cfb8"><div class="ttname"><a href="player_8cpp.html#a7b9b5dc5aace58de30f3602e0413cfb8">trait_CHITIN_FUR3</a></div><div class="ttdeci">static const trait_id trait_CHITIN_FUR3(&quot;CHITIN_FUR3&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a93a8aea38d781d7a0b51285a6d33c8e5"><div class="ttname"><a href="player_8cpp.html#a93a8aea38d781d7a0b51285a6d33c8e5">trait_WHISKERS</a></div><div class="ttdeci">static const trait_id trait_WHISKERS(&quot;WHISKERS&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a99d0319c6ba808305bd397fed049a224"><div class="ttname"><a href="player_8cpp.html#a99d0319c6ba808305bd397fed049a224">effect_thirsty</a></div><div class="ttdeci">static const efftype_id effect_thirsty(&quot;thirsty&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_aad2f825b2368c52145a0829bcc37eadf"><div class="ttname"><a href="player_8cpp.html#aad2f825b2368c52145a0829bcc37eadf">trait_WHISKERS_RAT</a></div><div class="ttdeci">static const trait_id trait_WHISKERS_RAT(&quot;WHISKERS_RAT&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_ac41827abd252cabc27c7c385291f71e4"><div class="ttname"><a href="player_8cpp.html#ac41827abd252cabc27c7c385291f71e4">trait_INSECT_ARMS_OK</a></div><div class="ttdeci">static const trait_id trait_INSECT_ARMS_OK(&quot;INSECT_ARMS_OK&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_accbe02d1b542c1aeb1081f0e11e3afd5"><div class="ttname"><a href="player_8cpp.html#accbe02d1b542c1aeb1081f0e11e3afd5">trait_ARACHNID_ARMS_OK</a></div><div class="ttdeci">static const trait_id trait_ARACHNID_ARMS_OK(&quot;ARACHNID_ARMS_OK&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_ace41dee69a6d53ab6af1332a89b87b92"><div class="ttname"><a href="player_8cpp.html#ace41dee69a6d53ab6af1332a89b87b92">effect_stim_overdose</a></div><div class="ttdeci">static const efftype_id effect_stim_overdose(&quot;stim_overdose&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_ae331a8118e681234ecce8aaf10d4ddc9"><div class="ttname"><a href="player_8cpp.html#ae331a8118e681234ecce8aaf10d4ddc9">effect_stim</a></div><div class="ttdeci">static const efftype_id effect_stim(&quot;stim&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_ae9288df70e6cd6c1ff0bdd5404a18138"><div class="ttname"><a href="player_8cpp.html#ae9288df70e6cd6c1ff0bdd5404a18138">effect_happy</a></div><div class="ttdeci">static const efftype_id effect_happy(&quot;happy&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_af08049a13ec857cf18fe65c4ac30788d"><div class="ttname"><a href="player_8cpp.html#af08049a13ec857cf18fe65c4ac30788d">effect_depressants</a></div><div class="ttdeci">static const efftype_id effect_depressants(&quot;depressants&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_af2c1415b677a83667f038144ea42eb43"><div class="ttname"><a href="player_8cpp.html#af2c1415b677a83667f038144ea42eb43">effect_sleep_deprived</a></div><div class="ttdeci">static const efftype_id effect_sleep_deprived(&quot;sleep_deprived&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_afecd12cfe9b9e60cb64816a1e6d8d043"><div class="ttname"><a href="player_8cpp.html#afecd12cfe9b9e60cb64816a1e6d8d043">trait_INSECT_ARMS</a></div><div class="ttdeci">static const trait_id trait_INSECT_ARMS(&quot;INSECT_ARMS&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8cpp_source.html#l00974">Creature::add_effect()</a>, <a class="el" href="melee_8cpp_source.html#l00318">Character::add_miss_reason()</a>, <a class="el" href="bodypart_8h_source.html#l00048">bp_leg_l</a>, <a class="el" href="bodypart_8h_source.html#l00049">bp_leg_r</a>, <a class="el" href="bodypart_8h_source.html#l00040">bp_torso</a>, <a class="el" href="player_8cpp.html#af08049a13ec857cf18fe65c4ac30788d">effect_depressants</a>, <a class="el" href="player_8cpp.html#ae9288df70e6cd6c1ff0bdd5404a18138">effect_happy</a>, <a class="el" href="player_8cpp.html#a4860b2a9de9f5aafed467e6b1bfd7c8b">effect_irradiated</a>, <a class="el" href="player_8cpp.html#a1cb839b00dab2fe99f9dacfc8492e1b2">effect_pkill</a>, <a class="el" href="player_8cpp.html#a09f3ea407cf63807e000861190ad1515">effect_sad</a>, <a class="el" href="player_8cpp.html#af2c1415b677a83667f038144ea42eb43">effect_sleep_deprived</a>, <a class="el" href="player_8cpp.html#ae331a8118e681234ecce8aaf10d4ddc9">effect_stim</a>, <a class="el" href="player_8cpp.html#ace41dee69a6d53ab6af1332a89b87b92">effect_stim_overdose</a>, <a class="el" href="player_8cpp.html#a99d0319c6ba808305bd397fed049a224">effect_thirsty</a>, <a class="el" href="creature_8h_source.html#l00808">Creature::effects</a>, <a class="el" href="character_8cpp_source.html#l03985">Character::encumb()</a>, <a class="el" href="character_8cpp_source.html#l04028">Character::exclusive_flag_coverage()</a>, <a class="el" href="effect_8cpp_source.html#l00797">effect::get_duration()</a>, <a class="el" href="creature_8cpp_source.html#l01213">Creature::get_effect()</a>, <a class="el" href="character_8cpp_source.html#l04306">Character::get_kcal_percent()</a>, <a class="el" href="character_8cpp_source.html#l09062">Character::get_morale_level()</a>, <a class="el" href="player_8cpp_source.html#l00221">get_pain_penalty()</a>, <a class="el" href="character_8cpp_source.html#l09777">Character::get_painkiller()</a>, <a class="el" href="player_8cpp_source.html#l01131">get_perceived_pain()</a>, <a class="el" href="character_8cpp_source.html#l07157">Character::get_rad()</a>, <a class="el" href="character_8cpp_source.html#l04444">Character::get_sleep_deprivation()</a>, <a class="el" href="character_8cpp_source.html#l07142">Character::get_stim()</a>, <a class="el" href="character_8cpp_source.html#l04311">Character::get_thirst()</a>, <a class="el" href="character_8h.html#aa7bb0ad73714bdf6b22d11b5b4e2633fad8eced3b06972df4d1dd7d835fc3edd3">harmless</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="effect_8cpp_source.html#l00553">effect::is_null()</a>, <a class="el" href="martialarts_8cpp_source.html#l01098">Character::mabuff_dodge_bonus()</a>, <a class="el" href="character_8h_source.html#l01589">Character::martial_arts_data</a>, <a class="el" href="character_8cpp_source.html#l04163">Character::mod_dex_bonus()</a>, <a class="el" href="creature_8cpp_source.html#l01755">Creature::mod_dodge_bonus()</a>, <a class="el" href="character_8cpp_source.html#l04173">Character::mod_int_bonus()</a>, <a class="el" href="character_8cpp_source.html#l04168">Character::mod_per_bonus()</a>, <a class="el" href="character_8cpp_source.html#l04158">Character::mod_str_bonus()</a>, <a class="el" href="character_8h_source.html#l02192">Character::morale</a>, <a class="el" href="cata__utility_8cpp_source.html#l00156">multi_lerp()</a>, <a class="el" href="bodypart_8h_source.html#l00052">num_bp</a>, <a class="el" href="calendar_8cpp_source.html#l00490">calendar::once_every()</a>, <a class="el" href="character_8cpp_source.html#l01692">Character::recalc_sight_limits()</a>, <a class="el" href="player_8cpp_source.html#l00501">recalc_speed_bonus()</a>, <a class="el" href="creature_8cpp_source.html#l01130">Creature::remove_effect()</a>, <a class="el" href="character_8cpp_source.html#l03548">Character::reset_stats()</a>, <a class="el" href="creature_8cpp_source.html#l01304">Creature::resists_effect()</a>, <a class="el" href="effect_8cpp_source.html#l00805">effect::set_duration()</a>, <a class="el" href="player_8cpp.html#a1f13575e0c937c4721778a685093e25d">trait_ARACHNID_ARMS</a>, <a class="el" href="player_8cpp.html#accbe02d1b542c1aeb1081f0e11e3afd5">trait_ARACHNID_ARMS_OK</a>, <a class="el" href="player_8cpp.html#a7aaef64e8c7bda4e721b9abfc0f29876">trait_CHITIN2</a>, <a class="el" href="player_8cpp.html#a6e269b6cff6957ea12e9319dd5c806fb">trait_CHITIN3</a>, <a class="el" href="player_8cpp.html#a7b9b5dc5aace58de30f3602e0413cfb8">trait_CHITIN_FUR3</a>, <a class="el" href="player_8cpp.html#a2f88100c922915703a21ea4c48e8c6bd">trait_COMPOUND_EYES</a>, <a class="el" href="player_8cpp.html#afecd12cfe9b9e60cb64816a1e6d8d043">trait_INSECT_ARMS</a>, <a class="el" href="player_8cpp.html#ac41827abd252cabc27c7c385291f71e4">trait_INSECT_ARMS_OK</a>, <a class="el" href="player_8cpp.html#a7b80d711466946f3fb75c76a9d47de41">trait_STIMBOOST</a>, <a class="el" href="player_8cpp.html#a29f4215e8aa45718fd0c33d7a6c7300e">trait_THICK_SCALES</a>, <a class="el" href="player_8cpp.html#a365df112ebfa257fa507cef2fa5a1c2e">trait_WEBBED</a>, <a class="el" href="player_8cpp.html#a93a8aea38d781d7a0b51285a6d33c8e5">trait_WHISKERS</a>, <a class="el" href="player_8cpp.html#aad2f825b2368c52145a0829bcc37eadf">trait_WHISKERS_RAT</a>, <a class="el" href="enums_8h_source.html#l00075">type</a>, <a class="el" href="player_8cpp_source.html#l04506">update_mental_focus()</a>, <a class="el" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa780f1db7fbc188c7154e8bbd5c14fb02">very_thirsty</a>, and <a class="el" href="character_8cpp_source.html#l08835">Character::wearing_something_on()</a>.</p>

<p class="reference">Referenced by <a class="el" href="debug__menu_8cpp_source.html#l00491">debug_menu::character_edit_menu()</a>.</p>

</div>
</div>
<a id="a874226a0510cd9cee887c2c2c79dff11" name="a874226a0510cd9cee887c2c2c79dff11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a874226a0510cd9cee887c2c2c79dff11">&#9670;&nbsp;</a></span>search_surroundings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::search_surroundings </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search surrounding squares for traps (and maybe other things in the future). </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00848">848</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>{</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a0701e6a3f1987d9fa3f76b450dd5624a">controlling_vehicle</a> ) {</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>    }</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>    <span class="comment">// Search for traps in a larger area than before because this is the only</span></div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>    <span class="comment">// way we can &quot;find&quot; traps that aren&#39;t marked as visible.</span></div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>    <span class="comment">// Detection formula takes care of likelihood of seeing within this range.</span></div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;tp : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 5 ) ) {</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structtrap.html">trap</a> &amp;tr = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.tr_at( tp );</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>        <span class="keywordflow">if</span>( tr.<a class="code hl_function" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">is_null</a>() || tp == <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) {</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>        }</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af9c7419575e23d52745c94009929fafb">has_active_bionic</a>( <a class="code hl_variable" href="player_8cpp.html#ad8239c9fba8c9d73da4db8671d7430d0">bio_ground_sonar</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#a7cf3a039fed01ee44525ea41940cb00d">knows_trap</a>( tp ) &amp;&amp;</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>            ( tr.<a class="code hl_variable" href="structtrap.html#ab2767aee5179ad23b3ad0b6b4b2415af">loadid</a> == <a class="code hl_variable" href="trap_8cpp.html#abecb554db3424388894ab98bde179238">tr_beartrap_buried</a> ||</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>              tr.<a class="code hl_variable" href="structtrap.html#ab2767aee5179ad23b3ad0b6b4b2415af">loadid</a> == <a class="code hl_variable" href="trap_8cpp.html#ac666204330f19cb23e099f6870b8a1a4">tr_landmine_buried</a> || tr.<a class="code hl_variable" href="structtrap.html#ab2767aee5179ad23b3ad0b6b4b2415af">loadid</a> == <a class="code hl_variable" href="memorial__logger_8cpp.html#ab4f7bfd1861799c55e2d7fbf2717c962">tr_sinkhole</a> ) ) {</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>            <span class="keyword">const</span> std::string <a class="code hl_enumeration" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a> = <a class="code hl_function" href="line_8cpp.html#a19634ed59e09da9312d6fa110a38539c">direction_name</a>( <a class="code hl_function" href="coordinates_8h.html#a00be0762df7b46da965e55caffac53db">direction_from</a>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), tp ) );</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your ground sonar detected a %1$s to the %2$s!&quot;</span> ),</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>                               tr.<a class="code hl_function" href="structtrap.html#a01b0ef8443ac5ba4e7455880ca2dc44b">name</a>(), <a class="code hl_enumeration" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a> );</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>            <a class="code hl_function" href="classCharacter.html#ada34ca3fb472a8b1816e297ead2b31df">add_known_trap</a>( tp, tr );</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>        }</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#aba9bd7517b334e6ed4149889ed32377a">sees</a>( tp ) ) {</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>        }</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>        <span class="keywordflow">if</span>( tr.<a class="code hl_function" href="structtrap.html#aafab5c450397fa7ea6430a9334c2859c">is_always_invisible</a>() || tr.<a class="code hl_function" href="structtrap.html#abeb5ff27f9f78475035f22aabdcfe834">can_see</a>( tp, *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>            <span class="comment">// Already seen, or can never be seen</span></div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>        }</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>        <span class="comment">// Chance to detect traps we haven&#39;t yet seen.</span></div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>        <span class="keywordflow">if</span>( tr.<a class="code hl_function" href="structtrap.html#afefc8440f9684bc6694c3c14dc59a727">detect_trap</a>( tp, *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>            <span class="keywordflow">if</span>( tr.<a class="code hl_function" href="structtrap.html#a1bd5955eae82045548ff8fc99a63edfc">get_visibility</a>() &gt; 0 ) {</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>                <span class="comment">// Only bug player about traps that aren&#39;t trivial to spot.</span></div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>                <span class="keyword">const</span> std::string <a class="code hl_enumeration" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a> = <a class="code hl_function" href="line_8cpp.html#a19634ed59e09da9312d6fa110a38539c">direction_name</a>(</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>                                                  <a class="code hl_function" href="coordinates_8h.html#a00be0762df7b46da965e55caffac53db">direction_from</a>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), tp ) );</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;ve spotted a %1$s to the %2$s!&quot;</span> ),</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>                                   tr.<a class="code hl_function" href="structtrap.html#a01b0ef8443ac5ba4e7455880ca2dc44b">name</a>(), <a class="code hl_enumeration" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a> );</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>            }</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>            <a class="code hl_function" href="classCharacter.html#ada34ca3fb472a8b1816e297ead2b31df">add_known_trap</a>( tp, tr );</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>        }</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>    }</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>}</div>
<div class="ttc" id="aclassCharacter_html_a7cf3a039fed01ee44525ea41940cb00d"><div class="ttname"><a href="classCharacter.html#a7cf3a039fed01ee44525ea41940cb00d">Character::knows_trap</a></div><div class="ttdeci">bool knows_trap(const tripoint &amp;pos) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l10214">character.cpp:10214</a></div></div>
<div class="ttc" id="aclassCharacter_html_aba9bd7517b334e6ed4149889ed32377a"><div class="ttname"><a href="classCharacter.html#aba9bd7517b334e6ed4149889ed32377a">Character::sees</a></div><div class="ttdeci">bool sees(const tripoint &amp;t, bool is_player=false, int range_mod=0) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l10384">character.cpp:10384</a></div></div>
<div class="ttc" id="aclassCharacter_html_ada34ca3fb472a8b1816e297ead2b31df"><div class="ttname"><a href="classCharacter.html#ada34ca3fb472a8b1816e297ead2b31df">Character::add_known_trap</a></div><div class="ttdeci">void add_known_trap(const tripoint &amp;pos, const trap &amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l10220">character.cpp:10220</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a00be0762df7b46da965e55caffac53db"><div class="ttname"><a href="coordinates_8h.html#a00be0762df7b46da965e55caffac53db">direction_from</a></div><div class="ttdeci">direction direction_from(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00540">coordinates.h:540</a></div></div>
<div class="ttc" id="aline_8cpp_html_a19634ed59e09da9312d6fa110a38539c"><div class="ttname"><a href="line_8cpp.html#a19634ed59e09da9312d6fa110a38539c">direction_name</a></div><div class="ttdeci">std::string direction_name(const direction dir)</div><div class="ttdef"><b>Definition:</b> <a href="line_8cpp_source.html#l00528">line.cpp:528</a></div></div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a></div><div class="ttdeci">direction</div><div class="ttdef"><b>Definition:</b> <a href="line_8h_source.html#l00039">line.h:39</a></div></div>
<div class="ttc" id="amemorial__logger_8cpp_html_ab4f7bfd1861799c55e2d7fbf2717c962"><div class="ttname"><a href="memorial__logger_8cpp.html#ab4f7bfd1861799c55e2d7fbf2717c962">tr_sinkhole</a></div><div class="ttdeci">static const trap_str_id tr_sinkhole(&quot;tr_sinkhole&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_ad8239c9fba8c9d73da4db8671d7430d0"><div class="ttname"><a href="player_8cpp.html#ad8239c9fba8c9d73da4db8671d7430d0">bio_ground_sonar</a></div><div class="ttdeci">static const bionic_id bio_ground_sonar(&quot;bio_ground_sonar&quot;)</div></div>
<div class="ttc" id="astructtrap_html"><div class="ttname"><a href="structtrap.html">trap</a></div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00086">trap.h:86</a></div></div>
<div class="ttc" id="astructtrap_html_a01b0ef8443ac5ba4e7455880ca2dc44b"><div class="ttname"><a href="structtrap.html#a01b0ef8443ac5ba4e7455880ca2dc44b">trap::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00177">trap.cpp:177</a></div></div>
<div class="ttc" id="astructtrap_html_a1bd5955eae82045548ff8fc99a63edfc"><div class="ttname"><a href="structtrap.html#a1bd5955eae82045548ff8fc99a63edfc">trap::get_visibility</a></div><div class="ttdeci">int get_visibility() const</div><div class="ttdoc">How easy it is to spot the trap.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00133">trap.h:133</a></div></div>
<div class="ttc" id="astructtrap_html_a6a9ac96c5c81eb31093e049ffeac8b4f"><div class="ttname"><a href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">trap::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdoc">Whether this is the null-traps, aka no trap at all.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00245">trap.cpp:245</a></div></div>
<div class="ttc" id="astructtrap_html_aafab5c450397fa7ea6430a9334c2859c"><div class="ttname"><a href="structtrap.html#aafab5c450397fa7ea6430a9334c2859c">trap::is_always_invisible</a></div><div class="ttdeci">bool is_always_invisible() const</div><div class="ttdoc">There are special always invisible traps.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00127">trap.h:127</a></div></div>
<div class="ttc" id="astructtrap_html_ab2767aee5179ad23b3ad0b6b4b2415af"><div class="ttname"><a href="structtrap.html#ab2767aee5179ad23b3ad0b6b4b2415af">trap::loadid</a></div><div class="ttdeci">trap_id loadid</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00088">trap.h:88</a></div></div>
<div class="ttc" id="astructtrap_html_afefc8440f9684bc6694c3c14dc59a727"><div class="ttname"><a href="structtrap.html#afefc8440f9684bc6694c3c14dc59a727">trap::detect_trap</a></div><div class="ttdeci">bool detect_trap(const tripoint &amp;pos, const Character &amp;p) const</div><div class="ttdoc">Player has not yet seen the trap and returns the variable chance, at this moment, of whether the trap...</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00193">trap.cpp:193</a></div></div>
<div class="ttc" id="atrap_8cpp_html_abecb554db3424388894ab98bde179238"><div class="ttname"><a href="trap_8cpp.html#abecb554db3424388894ab98bde179238">tr_beartrap_buried</a></div><div class="ttdeci">trap_id tr_beartrap_buried</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00287">trap.cpp:287</a></div></div>
<div class="ttc" id="atrap_8cpp_html_ac666204330f19cb23e099f6870b8a1a4"><div class="ttname"><a href="trap_8cpp.html#ac666204330f19cb23e099f6870b8a1a4">tr_landmine_buried</a></div><div class="ttdeci">trap_id tr_landmine_buried</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00299">trap.cpp:299</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="character_8cpp_source.html#l10220">Character::add_known_trap()</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="player_8cpp.html#ad8239c9fba8c9d73da4db8671d7430d0">bio_ground_sonar</a>, <a class="el" href="trap_8cpp_source.html#l00223">trap::can_see()</a>, <a class="el" href="character_8h_source.html#l00285">Character::controlling_vehicle</a>, <a class="el" href="trap_8cpp_source.html#l00193">trap::detect_trap()</a>, <a class="el" href="coordinates_8h_source.html#l00540">direction_from()</a>, <a class="el" href="line_8cpp_source.html#l00528">direction_name()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="trap_8h_source.html#l00133">trap::get_visibility()</a>, <a class="el" href="character_8cpp_source.html#l01876">Character::has_active_bionic()</a>, <a class="el" href="trap_8h_source.html#l00127">trap::is_always_invisible()</a>, <a class="el" href="trap_8cpp_source.html#l00245">trap::is_null()</a>, <a class="el" href="character_8cpp_source.html#l10214">Character::knows_trap()</a>, <a class="el" href="trap_8h_source.html#l00088">trap::loadid</a>, <a class="el" href="enums_8h_source.html#l00257">m_warning</a>, <a class="el" href="trap_8cpp_source.html#l00177">trap::name()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="character_8cpp_source.html#l10384">Character::sees()</a>, <a class="el" href="trap_8cpp_source.html#l00287">tr_beartrap_buried</a>, <a class="el" href="trap_8cpp_source.html#l00299">tr_landmine_buried</a>, and <a class="el" href="memorial__logger_8cpp.html#ab4f7bfd1861799c55e2d7fbf2717c962">tr_sinkhole</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l00756">pause()</a>, and <a class="el" href="game_8cpp_source.html#l09629">game::place_player()</a>.</p>

</div>
</div>
<a id="a43a0479640831a4268c76fa19bbd1051" name="a43a0479640831a4268c76fa19bbd1051"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43a0479640831a4268c76fa19bbd1051">&#9670;&nbsp;</a></span>select_ammo() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem_1_1reload__option.html">item::reload_option</a> player::select_ammo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>prompt</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>include_empty_mags</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>include_potential</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Select suitable ammo with which to reload the item. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>Item to select ammo for </td></tr>
    <tr><td class="paramname">prompt</td><td>Force display of the menu even if only one choice </td></tr>
    <tr><td class="paramname">include_empty_mags</td><td>Allow selection of empty magazines </td></tr>
    <tr><td class="paramname">include_potential</td><td>Include ammo that can potentially be used, but not right now </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02432">2432</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02434" name="l02434"></a><span class="lineno"> 2434</span>{</div>
<div class="line"><a id="l02435" name="l02435"></a><span class="lineno"> 2435</span>    std::vector&lt;item::reload_option&gt; ammo_list;</div>
<div class="line"><a id="l02436" name="l02436"></a><span class="lineno"> 2436</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> ammo_match_found = <a class="code hl_function" href="classplayer.html#ad6f920376059ceec5700f70986435a34">list_ammo</a>( base, ammo_list, include_empty_mags, include_potential );</div>
<div class="line"><a id="l02437" name="l02437"></a><span class="lineno"> 2437</span> </div>
<div class="line"><a id="l02438" name="l02438"></a><span class="lineno"> 2438</span>    <span class="keywordflow">if</span>( ammo_list.empty() ) {</div>
<div class="line"><a id="l02439" name="l02439"></a><span class="lineno"> 2439</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l02440" name="l02440"></a><span class="lineno"> 2440</span>            <span class="keywordflow">if</span>( !base.<a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() &amp;&amp; !base.<a class="code hl_function" href="classitem.html#aa7e9319c5779e2e1c550158ee8a2cc98">magazine_integral</a>() &amp;&amp; !base.<a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>() ) {</div>
<div class="line"><a id="l02441" name="l02441"></a><span class="lineno"> 2441</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need a compatible magazine to reload the %s!&quot;</span> ),</div>
<div class="line"><a id="l02442" name="l02442"></a><span class="lineno"> 2442</span>                                   base.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02443" name="l02443"></a><span class="lineno"> 2443</span> </div>
<div class="line"><a id="l02444" name="l02444"></a><span class="lineno"> 2444</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ammo_match_found ) {</div>
<div class="line"><a id="l02445" name="l02445"></a><span class="lineno"> 2445</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Nothing to reload!&quot;</span> ) );</div>
<div class="line"><a id="l02446" name="l02446"></a><span class="lineno"> 2446</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02447" name="l02447"></a><span class="lineno"> 2447</span>                std::string <a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a>;</div>
<div class="line"><a id="l02448" name="l02448"></a><span class="lineno"> 2448</span>                <span class="keywordflow">if</span>( base.<a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>() ) {</div>
<div class="line"><a id="l02449" name="l02449"></a><span class="lineno"> 2449</span>                    <a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a> = base.<a class="code hl_function" href="classitem.html#a4adcc4a3a5f5fb20a4d245d79109640a">ammo_data</a>()-&gt;<a class="code hl_function" href="structitype.html#ad35fbe0013544c1c396944b20b264421">nname</a>( 1 );</div>
<div class="line"><a id="l02450" name="l02450"></a><span class="lineno"> 2450</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( base.<a class="code hl_function" href="classitem.html#a22ad63b72a459c8f95893a853348cb06">is_watertight_container</a>() ) {</div>
<div class="line"><a id="l02451" name="l02451"></a><span class="lineno"> 2451</span>                    <a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a> = base.<a class="code hl_function" href="classitem.html#a5996f63ca1797fc01482678b51a87680">is_container_empty</a>() ? <span class="stringliteral">&quot;liquid&quot;</span> : base.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>();</div>
<div class="line"><a id="l02452" name="l02452"></a><span class="lineno"> 2452</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02453" name="l02453"></a><span class="lineno"> 2453</span>                    <a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a> = <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( base.<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().begin(),</div>
<div class="line"><a id="l02454" name="l02454"></a><span class="lineno"> 2454</span>                    base.<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().end(), []( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp; at ) {</div>
<div class="line"><a id="l02455" name="l02455"></a><span class="lineno"> 2455</span>                        return at-&gt;name();</div>
<div class="line"><a id="l02456" name="l02456"></a><span class="lineno"> 2456</span>                    }, <a class="code hl_enumvalue" href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8">enumeration_conjunction::none</a> );</div>
<div class="line"><a id="l02457" name="l02457"></a><span class="lineno"> 2457</span>                }</div>
<div class="line"><a id="l02458" name="l02458"></a><span class="lineno"> 2458</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You don&#39;t have any %s to reload your %s!&quot;</span> ),</div>
<div class="line"><a id="l02459" name="l02459"></a><span class="lineno"> 2459</span>                                   <a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a>, base.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02460" name="l02460"></a><span class="lineno"> 2460</span>            }</div>
<div class="line"><a id="l02461" name="l02461"></a><span class="lineno"> 2461</span>        }</div>
<div class="line"><a id="l02462" name="l02462"></a><span class="lineno"> 2462</span>        <span class="keywordflow">return</span> <a class="code hl_class" href="classitem_1_1reload__option.html">item::reload_option</a>();</div>
<div class="line"><a id="l02463" name="l02463"></a><span class="lineno"> 2463</span>    }</div>
<div class="line"><a id="l02464" name="l02464"></a><span class="lineno"> 2464</span> </div>
<div class="line"><a id="l02465" name="l02465"></a><span class="lineno"> 2465</span>    <span class="comment">// sort in order of move cost (ascending), then remaining ammo (descending) with empty magazines always last</span></div>
<div class="line"><a id="l02466" name="l02466"></a><span class="lineno"> 2466</span>    std::stable_sort( ammo_list.begin(), ammo_list.end(), []( <span class="keyword">const</span> <a class="code hl_class" href="classitem_1_1reload__option.html">item::reload_option</a> &amp; lhs,</div>
<div class="line"><a id="l02467" name="l02467"></a><span class="lineno"> 2467</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem_1_1reload__option.html">item::reload_option</a> &amp; rhs ) {</div>
<div class="line"><a id="l02468" name="l02468"></a><span class="lineno"> 2468</span>        return lhs.ammo-&gt;ammo_remaining() &gt; rhs.ammo-&gt;ammo_remaining();</div>
<div class="line"><a id="l02469" name="l02469"></a><span class="lineno"> 2469</span>    } );</div>
<div class="line"><a id="l02470" name="l02470"></a><span class="lineno"> 2470</span>    std::stable_sort( ammo_list.begin(), ammo_list.end(), []( <span class="keyword">const</span> <a class="code hl_class" href="classitem_1_1reload__option.html">item::reload_option</a> &amp; lhs,</div>
<div class="line"><a id="l02471" name="l02471"></a><span class="lineno"> 2471</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem_1_1reload__option.html">item::reload_option</a> &amp; rhs ) {</div>
<div class="line"><a id="l02472" name="l02472"></a><span class="lineno"> 2472</span>        return lhs.moves() &lt; rhs.moves();</div>
<div class="line"><a id="l02473" name="l02473"></a><span class="lineno"> 2473</span>    } );</div>
<div class="line"><a id="l02474" name="l02474"></a><span class="lineno"> 2474</span>    std::stable_sort( ammo_list.begin(), ammo_list.end(), []( <span class="keyword">const</span> <a class="code hl_class" href="classitem_1_1reload__option.html">item::reload_option</a> &amp; lhs,</div>
<div class="line"><a id="l02475" name="l02475"></a><span class="lineno"> 2475</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem_1_1reload__option.html">item::reload_option</a> &amp; rhs ) {</div>
<div class="line"><a id="l02476" name="l02476"></a><span class="lineno"> 2476</span>        return ( lhs.ammo-&gt;ammo_remaining() != 0 ) &gt; ( rhs.ammo-&gt;ammo_remaining() != 0 );</div>
<div class="line"><a id="l02477" name="l02477"></a><span class="lineno"> 2477</span>    } );</div>
<div class="line"><a id="l02478" name="l02478"></a><span class="lineno"> 2478</span> </div>
<div class="line"><a id="l02479" name="l02479"></a><span class="lineno"> 2479</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l02480" name="l02480"></a><span class="lineno"> 2480</span>        <span class="keywordflow">return</span> ammo_list[ 0 ];</div>
<div class="line"><a id="l02481" name="l02481"></a><span class="lineno"> 2481</span>    }</div>
<div class="line"><a id="l02482" name="l02482"></a><span class="lineno"> 2482</span> </div>
<div class="line"><a id="l02483" name="l02483"></a><span class="lineno"> 2483</span>    <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="namespacepickup.html#a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c">prompt</a> &amp;&amp; ammo_list.size() == 1 ) {</div>
<div class="line"><a id="l02484" name="l02484"></a><span class="lineno"> 2484</span>        <span class="comment">// unconditionally suppress the prompt if there&#39;s only one option</span></div>
<div class="line"><a id="l02485" name="l02485"></a><span class="lineno"> 2485</span>        <span class="keywordflow">return</span> ammo_list[ 0 ];</div>
<div class="line"><a id="l02486" name="l02486"></a><span class="lineno"> 2486</span>    }</div>
<div class="line"><a id="l02487" name="l02487"></a><span class="lineno"> 2487</span> </div>
<div class="line"><a id="l02488" name="l02488"></a><span class="lineno"> 2488</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classplayer.html#a43a0479640831a4268c76fa19bbd1051">select_ammo</a>( base, <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( ammo_list ) );</div>
<div class="line"><a id="l02489" name="l02489"></a><span class="lineno"> 2489</span>}</div>
<div class="ttc" id="aclassitem_1_1reload__option_html"><div class="ttname"><a href="classitem_1_1reload__option.html">item::reload_option</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00470">item.h:471</a></div></div>
<div class="ttc" id="aclassplayer_html_a43a0479640831a4268c76fa19bbd1051"><div class="ttname"><a href="classplayer.html#a43a0479640831a4268c76fa19bbd1051">player::select_ammo</a></div><div class="ttdeci">item::reload_option select_ammo(const item &amp;base, bool prompt=false, bool include_empty_mags=true, bool include_potential=false) const</div><div class="ttdoc">Select suitable ammo with which to reload the item.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l02432">player.cpp:2432</a></div></div>
<div class="ttc" id="aclassplayer_html_ad6f920376059ceec5700f70986435a34"><div class="ttname"><a href="classplayer.html#ad6f920376059ceec5700f70986435a34">player::list_ammo</a></div><div class="ttdeci">bool list_ammo(const item &amp;base, std::vector&lt; item::reload_option &gt; &amp;ammo_list, bool include_empty_mags=true, bool include_potential=false) const</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l02389">player.cpp:2389</a></div></div>
<div class="ttc" id="aoutput_8h_html_a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8"><div class="ttname"><a href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8">enumeration_conjunction::none</a></div><div class="ttdeci">@ none</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l07376">item::ammo_data()</a>, <a class="el" href="item_8cpp_source.html#l07408">item::ammo_types()</a>, <a class="el" href="item_8h_source.html#l02157">item::contents</a>, <a class="el" href="output_8h_source.html#l00679">enumerate_as_string()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item_8cpp_source.html#l06687">item::is_container_empty()</a>, <a class="el" href="item_8cpp_source.html#l06407">item::is_magazine()</a>, <a class="el" href="player_8h_source.html#l00131">is_npc()</a>, <a class="el" href="item_8cpp_source.html#l06574">item::is_watertight_container()</a>, <a class="el" href="player_8cpp_source.html#l02389">list_ammo()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="item_8cpp_source.html#l07565">item::magazine_current()</a>, <a class="el" href="item_8cpp_source.html#l07503">item::magazine_integral()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00090">avatar_action::move()</a>, <a class="el" href="character_8h_source.html#l01568">Character::name</a>, <a class="el" href="itype_8cpp_source.html#l00046">itype::nname()</a>, <a class="el" href="output_8h.html#a17a93de390fc2504e63ab6dc8cf4753aa334c4a4c42fdb79d7ebc3e73b517e6f8">none</a>, <a class="el" href="pickup_8h_source.html#l00030">pickup::prompt</a>, <a class="el" href="player_8cpp_source.html#l02432">select_ammo()</a>, and <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l04547">npc::do_reload()</a>, <a class="el" href="game_8cpp_source.html#l08812">favorite_ammo_or_select()</a>, <a class="el" href="npcmove_8cpp_source.html#l01473">npc::find_reloadable()</a>, <a class="el" href="npcmove_8cpp_source.html#l01521">npc::find_usable_ammo()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00251">aim_activity_actor::load_RAS_weapon()</a>, <a class="el" href="ranged_8cpp_source.html#l03742">ranged::prompt_select_default_ammo_for()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02858">bandolier_actor::reload()</a>, <a class="el" href="player_8cpp_source.html#l02432">select_ammo()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l02984">ammobelt_actor::use()</a>.</p>

</div>
</div>
<a id="a64d67d585e19fdc3c4b0684c794572ed" name="a64d67d585e19fdc3c4b0684c794572ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64d67d585e19fdc3c4b0684c794572ed">&#9670;&nbsp;</a></span>select_ammo() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem_1_1reload__option.html">item::reload_option</a> player::select_ammo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classitem_1_1reload__option.html">item::reload_option</a> &gt;&#160;</td>
          <td class="paramname"><em>opts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Select ammo from the provided options. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02156">2156</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span>{</div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span>    <span class="keywordflow">if</span>( opts.empty() ) {</div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Never mind.&quot;</span> ) );</div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span>        <span class="keywordflow">return</span> <a class="code hl_class" href="classitem_1_1reload__option.html">item::reload_option</a>();</div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span>    }</div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span> </div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span>    <a class="code hl_class" href="classuilist.html">uilist</a> menu;</div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span>    menu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( base.<a class="code hl_function" href="classitem.html#a22ad63b72a459c8f95893a853348cb06">is_watertight_container</a>() ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Refill %s&quot;</span> ) :</div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span>                               base.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;RELOAD_AND_SHOOT&quot;</span> ) ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Select ammo for %s&quot;</span> ) : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Reload %s&quot;</span> ),</div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span>                               base.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span> </div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span>    <span class="comment">// Construct item names</span></div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span>    std::vector&lt;std::string&gt; <a class="code hl_variable" href="namespaceName.html#a305934c1ed39204d620efdee7dbec154">names</a>;</div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span>    <a class="code hl_function" href="namespaceiexamine.html#ab9103bcb0e9cb4755b445e5395a0a62f">std::transform</a>( opts.begin(), opts.end(),</div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span>    std::back_inserter( <a class="code hl_variable" href="namespaceName.html#a305934c1ed39204d620efdee7dbec154">names</a> ), [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classitem_1_1reload__option.html">item::reload_option</a> &amp; e ) {</div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span>        if( e.ammo-&gt;is_magazine() &amp;&amp; e.ammo-&gt;ammo_data() ) {</div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>            if( e.ammo-&gt;ammo_current() == itype_battery ) {</div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span>                <span class="comment">// This battery ammo is not a real object that can be recovered but pseudo-object that represents charge</span></div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>                <span class="comment">//~ battery storage (charges)</span></div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span>                return string_format( pgettext( <span class="stringliteral">&quot;magazine&quot;</span>, <span class="stringliteral">&quot;%1$s (%2$d)&quot;</span> ), e.ammo-&gt;type_name(),</div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span>                                      e.ammo-&gt;ammo_remaining() );</div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span>            } else {</div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span>                <span class="comment">//~ magazine with ammo (count)</span></div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>                return string_format( pgettext( <span class="stringliteral">&quot;magazine&quot;</span>, <span class="stringliteral">&quot;%1$s with %2$s (%3$d)&quot;</span> ), e.ammo-&gt;type_name(),</div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>                                      e.ammo-&gt;ammo_data()-&gt;nname( e.ammo-&gt;ammo_remaining() ), e.ammo-&gt;ammo_remaining() );</div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span>            }</div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( e.<a class="code hl_variable" href="classitem_1_1reload__option.html#afec3eb8ab3dff71940912db4a84ae7ea">ammo</a>-&gt;<a class="code hl_function" href="classitem.html#a22ad63b72a459c8f95893a853348cb06">is_watertight_container</a>() ||</div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span>                   ( e.<a class="code hl_variable" href="classitem_1_1reload__option.html#afec3eb8ab3dff71940912db4a84ae7ea">ammo</a>-&gt;<a class="code hl_function" href="classitem.html#a187a2679361c6546be613657dbad3b3f">is_ammo_container</a>() &amp;&amp; <a class="code hl_function" href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">is_worn</a>( *e.<a class="code hl_variable" href="classitem_1_1reload__option.html#afec3eb8ab3dff71940912db4a84ae7ea">ammo</a> ) ) ) {</div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>            <span class="comment">// worn ammo containers should be named by their contents with their location also updated below</span></div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span>            return e.ammo-&gt;contents.front().display_name();</div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span> </div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span>            const_cast&lt;item_location &amp;&gt;( ammo_location ).make_dirty();</div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span>            return ( ammo_location &amp;&amp; ammo_location == e.ammo ? <span class="stringliteral">&quot;* &quot;</span> : <span class="stringliteral">&quot;&quot;</span> ) + e.ammo-&gt;display_name();</div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span>        }</div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span>    } );</div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span> </div>
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span>    <span class="comment">// Get location descriptions</span></div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span>    std::vector&lt;std::string&gt; where;</div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span>    <a class="code hl_function" href="namespaceiexamine.html#ab9103bcb0e9cb4755b445e5395a0a62f">std::transform</a>( opts.begin(), opts.end(),</div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span>    std::back_inserter( where ), [<span class="keyword">this</span>]( <span class="keyword">const</span> <a class="code hl_class" href="classitem_1_1reload__option.html">item::reload_option</a> &amp; e ) {</div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span>        bool is_ammo_container = e.ammo-&gt;is_ammo_container();</div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>        if( is_ammo_container || e.ammo-&gt;is_container() ) {</div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span>            if( is_ammo_container &amp;&amp; is_worn( *e.ammo ) ) {</div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span>                return e.ammo-&gt;type_name();</div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span>            }</div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span>            return string_format( _( <span class="stringliteral">&quot;%s, %s&quot;</span> ), e.ammo-&gt;type_name(), e.ammo.describe( &amp;g-&gt;u ) );</div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span>        }</div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>        <span class="keywordflow">return</span> e.<a class="code hl_variable" href="classitem_1_1reload__option.html#afec3eb8ab3dff71940912db4a84ae7ea">ammo</a>.<a class="code hl_function" href="classitem__location.html#abc2ca6a2e19f2a5e7e92e000117bf3d7">describe</a>( &amp;<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u );</div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>    } );</div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span> </div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span>    <span class="comment">// Pads elements to match longest member and return length</span></div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span>    <span class="keyword">auto</span> pad = []( std::vector&lt;std::string&gt; &amp;vec, <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> t ) -&gt; <span class="keywordtype">int</span> {</div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : vec )</div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span>        {</div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span>            n = std::max( n, <a class="code hl_function" href="catacharset_8cpp.html#a7616a48a4b48437c60b6683439a8f3e2">utf8_width</a>( e, <span class="keyword">true</span> ) + t );</div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span>        }</div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;e : vec )</div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span>        {</div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span>            e += std::string( n - <a class="code hl_function" href="catacharset_8cpp.html#a7616a48a4b48437c60b6683439a8f3e2">utf8_width</a>( e, <span class="keyword">true</span> ), <span class="charliteral">&#39; &#39;</span> );</div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>        }</div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>        <span class="keywordflow">return</span> n;</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>    };</div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span> </div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span>    <span class="comment">// Pad the first column including 4 trailing spaces</span></div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span>    <span class="keywordtype">int</span> w = pad( <a class="code hl_variable" href="namespaceName.html#a305934c1ed39204d620efdee7dbec154">names</a>, <a class="code hl_function" href="catacharset_8cpp.html#a7616a48a4b48437c60b6683439a8f3e2">utf8_width</a>( menu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a>, <span class="keyword">true</span> ), 6 );</div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span>    menu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a>.insert( 0, 2, <span class="charliteral">&#39; &#39;</span> ); <span class="comment">// add space for UI hotkeys</span></div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>    menu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> += std::string( w + 2 - <a class="code hl_function" href="catacharset_8cpp.html#a7616a48a4b48437c60b6683439a8f3e2">utf8_width</a>( menu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a>, <span class="keyword">true</span> ), <span class="charliteral">&#39; &#39;</span> );</div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span> </div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span>    <span class="comment">// Pad the location similarly (excludes leading &quot;| &quot; and trailing &quot; &quot;)</span></div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span>    w = pad( where, <a class="code hl_function" href="catacharset_8cpp.html#a7616a48a4b48437c60b6683439a8f3e2">utf8_width</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;| Location &quot;</span> ) ) - 3, 6 );</div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span>    menu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;| Location &quot;</span> );</div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>    menu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> += std::string( w + 3 - <a class="code hl_function" href="catacharset_8cpp.html#a7616a48a4b48437c60b6683439a8f3e2">utf8_width</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;| Location &quot;</span> ) ), <span class="charliteral">&#39; &#39;</span> );</div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span> </div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>    menu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;| Amount  &quot;</span> );</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span>    menu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;| Moves   &quot;</span> );</div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span> </div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span>    <span class="comment">// We only show ammo statistics for guns and magazines</span></div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span>    <span class="keywordflow">if</span>( base.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() || base.<a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span>        menu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;| Damage   | Pierce   &quot;</span> );</div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span>    }</div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span> </div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span>    <span class="keyword">auto</span> draw_row = [&amp;]( <span class="keywordtype">int</span> idx ) {</div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;sel = opts[ idx ];</div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span>        std::string row = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%s| %s |&quot;</span>, <a class="code hl_variable" href="namespaceName.html#a305934c1ed39204d620efdee7dbec154">names</a>[ idx ], where[ idx ] );</div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>        row += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( ( sel.ammo-&gt;is_ammo() ||</div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>                                sel.ammo-&gt;is_ammo_container() ) ? <span class="stringliteral">&quot; %-7d |&quot;</span> : <span class="stringliteral">&quot;         |&quot;</span>, sel.qty() );</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span>        row += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot; %-7d &quot;</span>, sel.moves() );</div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span> </div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span>        <span class="keywordflow">if</span>( base.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() || base.<a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *ammo = sel.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;is_ammo_container() ? sel.ammo-&gt;contents.front().ammo_data() :</div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span>                                sel.ammo-&gt;ammo_data();</div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span>            <span class="keywordflow">if</span>( ammo ) {</div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> &amp;dam = ammo-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;damage;</div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structdamage__unit.html">damage_unit</a> &amp;du = dam.<a class="code hl_variable" href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_units</a>.front();</div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>                <span class="keywordflow">if</span>( du.<a class="code hl_variable" href="structdamage__unit.html#a8c5cf76dd074bd5dac9b76aaece0ecf4">damage_multiplier</a> != 1.0f ) {</div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span>                    <span class="keywordtype">float</span> dam_amt = du.<a class="code hl_variable" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a>;</div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span>                    row += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;| %-3d*%3d%% &quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( dam_amt ),</div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span>                                          <a class="code hl_function" href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( du.<a class="code hl_variable" href="structdamage__unit.html#a8c5cf76dd074bd5dac9b76aaece0ecf4">damage_multiplier</a> * 100 ), 0, 999 ) );</div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span>                    <span class="keywordtype">float</span> dam_amt = dam.<a class="code hl_function" href="structdamage__instance.html#a96f6f6d008ed8744ce549cefcfec3951">total_damage</a>();</div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>                    row += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;| %-8d &quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( dam_amt ) );</div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>                }</div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>                <span class="keywordflow">if</span>( du.<a class="code hl_variable" href="structdamage__unit.html#af0a5ce1c282d7ed1a783fd4315404ec3">res_mult</a> != 1.0f ) {</div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span>                    row += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;| %-3d/%3d%%&quot;</span>,</div>
<div class="line"><a id="l02263" name="l02263"></a><span class="lineno"> 2263</span>                                          <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( du.<a class="code hl_variable" href="structdamage__unit.html#ab4d1b13f7ebe2f16a43038e1441ec2b5">res_pen</a> ), <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( 100 * du.<a class="code hl_variable" href="structdamage__unit.html#af0a5ce1c282d7ed1a783fd4315404ec3">res_mult</a> ) );</div>
<div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>                    row += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;| %-8d&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( du.<a class="code hl_variable" href="structdamage__unit.html#ab4d1b13f7ebe2f16a43038e1441ec2b5">res_pen</a> ) );</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span>                }</div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span>                row += <span class="stringliteral">&quot;|          |          &quot;</span>;</div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span>            }</div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span>        }</div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span>        <span class="keywordflow">return</span> row;</div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span>    };</div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span> </div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span>    <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> base_ammotype( base.<a class="code hl_function" href="classitem.html#ab07d96e30c441a84435972df842f4c77">ammo_default</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"> 2275</span>    <a class="code hl_class" href="classstring__id.html">itype_id</a> <a class="code hl_enumvalue" href="achievement_8h.html#a4c2771ccaad822c94aee3786288bb112a98bd1c45684cf587ac2347a92dd7bb51">last</a> = <a class="code hl_variable" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code hl_variable" href="classuistatedata.html#a8b8f01f78f680b54f71cd02745682440">lastreload</a>[ base_ammotype ];</div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span>    <span class="comment">// We keep the last key so that pressing the key twice (for example, r-r for reload)</span></div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span>    <span class="comment">// will always pick the first option on the list.</span></div>
<div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span>    <span class="keywordtype">int</span> last_key = <a class="code hl_variable" href="input_8cpp.html#af16c50890fa8503efa899fc3b6de56d7">inp_mngr</a>.<a class="code hl_function" href="classinput__manager.html#adac068207a89179b89e95d31422c9991">get_previously_pressed_key</a>();</div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span>    <span class="keywordtype">bool</span> last_key_bound = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"> 2280</span>    <span class="comment">// This is the entry that has out default</span></div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span>    <span class="keywordtype">int</span> default_to = 0;</div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span> </div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span>    <span class="comment">// If last_key is RETURN, don&#39;t use that to override hotkey</span></div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span>    <span class="keywordflow">if</span>( last_key == <span class="charliteral">&#39;\n&#39;</span> ) {</div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"> 2285</span>        last_key_bound = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span>        default_to = -1;</div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span>    }</div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span> </div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> i = 0; i &lt; static_cast&lt;int&gt;( opts.size() ); ++i ) {</div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span>        <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;ammo = opts[ i ].<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;is_ammo_container() ? opts[ i ].ammo-&gt;contents.front() :</div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span>                           *opts[ i ].ammo;</div>
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"> 2292</span> </div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span>        <span class="keywordtype">char</span> hotkey = -1;</div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( ammo ) ) {</div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span>            <span class="comment">// if ammo in player possession and either it or any container has a valid invlet use this</span></div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"> 2296</span>            <span class="keywordflow">if</span>( ammo.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> ) {</div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span>                hotkey = ammo.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a>;</div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> obj : <a class="code hl_function" href="classvisitable.html#a91f3c0f8e439b0ffda17e613fda94d04">parents</a>( ammo ) ) {</div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span>                    <span class="keywordflow">if</span>( obj-&gt;invlet ) {</div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span>                        hotkey = obj-&gt;invlet;</div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span>                    }</div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"> 2304</span>                }</div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"> 2305</span>            }</div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span>        }</div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="achievement_8h.html#a4c2771ccaad822c94aee3786288bb112a98bd1c45684cf587ac2347a92dd7bb51">last</a> == ammo.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() ) {</div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span>            <span class="keywordflow">if</span>( !last_key_bound &amp;&amp; hotkey == -1 ) {</div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span>                <span class="comment">// If this is the first occurrence of the most recently used type of ammo and the hotkey</span></div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span>                <span class="comment">// was not already set above then set it to the keypress that opened this prompt</span></div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span>                hotkey = last_key;</div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span>                last_key_bound = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>            }</div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span>            <span class="keywordflow">if</span>( !last_key_bound ) {</div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span>                <span class="comment">// Pressing the last key defaults to the first entry of compatible type</span></div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>                default_to = i;</div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span>                last_key_bound = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span>            }</div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span>        }</div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span>        <span class="keywordflow">if</span>( hotkey == last_key ) {</div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span>            last_key_bound = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span>            <span class="comment">// Prevent the default from being used: key is bound to something already</span></div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span>            default_to = -1;</div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span>        }</div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span> </div>
<div class="line"><a id="l02326" name="l02326"></a><span class="lineno"> 2326</span>        menu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( i, <span class="keyword">true</span>, hotkey, draw_row( i ) );</div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span>    }</div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span> </div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"> 2329</span>    <span class="keyword">struct </span>reload_callback : <span class="keyword">public</span> <a class="code hl_class" href="classuilist__callback.html">uilist_callback</a> {</div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"> 2330</span>        <span class="keyword">public</span>:</div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span>            std::vector&lt;item::reload_option&gt; &amp;opts;</div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span>            <span class="keyword">const</span> std::function&lt;std::string( <span class="keywordtype">int</span> )&gt; draw_row;</div>
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"> 2333</span>            <span class="keywordtype">int</span> last_key;</div>
<div class="line"><a id="l02334" name="l02334"></a><span class="lineno"> 2334</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> default_to;</div>
<div class="line"><a id="l02335" name="l02335"></a><span class="lineno"> 2335</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> can_partial_reload;</div>
<div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span> </div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>            reload_callback( std::vector&lt;item::reload_option&gt; &amp;_opts,</div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span>                             std::function&lt;std::string( <span class="keywordtype">int</span> )&gt; _draw_row,</div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"> 2339</span>                             <span class="keywordtype">int</span> _last_key, <span class="keywordtype">int</span> _default_to, <span class="keywordtype">bool</span> _can_partial_reload ) :</div>
<div class="line"><a id="l02340" name="l02340"></a><span class="lineno"> 2340</span>                opts( _opts ), draw_row( _draw_row ),</div>
<div class="line"><a id="l02341" name="l02341"></a><span class="lineno"> 2341</span>                last_key( _last_key ), default_to( _default_to ),</div>
<div class="line"><a id="l02342" name="l02342"></a><span class="lineno"> 2342</span>                can_partial_reload( _can_partial_reload )</div>
<div class="line"><a id="l02343" name="l02343"></a><span class="lineno"> 2343</span>            {}</div>
<div class="line"><a id="l02344" name="l02344"></a><span class="lineno"> 2344</span> </div>
<div class="line"><a id="l02345" name="l02345"></a><span class="lineno"> 2345</span>            <span class="keywordtype">bool</span> key( <span class="keyword">const</span> <a class="code hl_class" href="classinput__context.html">input_context</a> &amp;, <span class="keyword">const</span> <a class="code hl_struct" href="structinput__event.html">input_event</a> &amp;event, <span class="keywordtype">int</span> idx, <a class="code hl_class" href="classuilist.html">uilist</a> *menu )<span class="keyword"> override </span>{</div>
<div class="line"><a id="l02346" name="l02346"></a><span class="lineno"> 2346</span>                <span class="keyword">auto</span> cur_key = <span class="keyword">event</span>.get_first_input();</div>
<div class="line"><a id="l02347" name="l02347"></a><span class="lineno"> 2347</span>                <span class="keywordflow">if</span>( default_to != -1 &amp;&amp; cur_key == last_key ) {</div>
<div class="line"><a id="l02348" name="l02348"></a><span class="lineno"> 2348</span>                    <span class="comment">// Select the first entry on the list</span></div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"> 2349</span>                    menu-&gt;<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> = default_to;</div>
<div class="line"><a id="l02350" name="l02350"></a><span class="lineno"> 2350</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02351" name="l02351"></a><span class="lineno"> 2351</span>                }</div>
<div class="line"><a id="l02352" name="l02352"></a><span class="lineno"> 2352</span>                <span class="keywordflow">if</span>( idx &lt; 0 || idx &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( opts.size() ) ) {</div>
<div class="line"><a id="l02353" name="l02353"></a><span class="lineno"> 2353</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02354" name="l02354"></a><span class="lineno"> 2354</span>                }</div>
<div class="line"><a id="l02355" name="l02355"></a><span class="lineno"> 2355</span>                <span class="keyword">auto</span> &amp;sel = opts[ idx ];</div>
<div class="line"><a id="l02356" name="l02356"></a><span class="lineno"> 2356</span>                <span class="keywordflow">switch</span>( cur_key ) {</div>
<div class="line"><a id="l02357" name="l02357"></a><span class="lineno"> 2357</span>                    <span class="keywordflow">case</span> <a class="code hl_variable" href="input_8h.html#a7f98a32a40edbfcb172d2b4dde581f2c">KEY_LEFT</a>:</div>
<div class="line"><a id="l02358" name="l02358"></a><span class="lineno"> 2358</span>                        <span class="keywordflow">if</span>( can_partial_reload ) {</div>
<div class="line"><a id="l02359" name="l02359"></a><span class="lineno"> 2359</span>                            sel.qty( sel.qty() - 1 );</div>
<div class="line"><a id="l02360" name="l02360"></a><span class="lineno"> 2360</span>                            menu-&gt;<a class="code hl_variable" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>[ idx ].txt = draw_row( idx );</div>
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"> 2361</span>                        }</div>
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"> 2362</span>                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span> </div>
<div class="line"><a id="l02364" name="l02364"></a><span class="lineno"> 2364</span>                    <span class="keywordflow">case</span> <a class="code hl_variable" href="input_8h.html#aef82d50d6bc11e0fa4b39c47c2129952">KEY_RIGHT</a>:</div>
<div class="line"><a id="l02365" name="l02365"></a><span class="lineno"> 2365</span>                        <span class="keywordflow">if</span>( can_partial_reload ) {</div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span>                            sel.qty( sel.qty() + 1 );</div>
<div class="line"><a id="l02367" name="l02367"></a><span class="lineno"> 2367</span>                            menu-&gt;<a class="code hl_variable" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>[ idx ].txt = draw_row( idx );</div>
<div class="line"><a id="l02368" name="l02368"></a><span class="lineno"> 2368</span>                        }</div>
<div class="line"><a id="l02369" name="l02369"></a><span class="lineno"> 2369</span>                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02370" name="l02370"></a><span class="lineno"> 2370</span>                }</div>
<div class="line"><a id="l02371" name="l02371"></a><span class="lineno"> 2371</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02372" name="l02372"></a><span class="lineno"> 2372</span>            }</div>
<div class="line"><a id="l02373" name="l02373"></a><span class="lineno"> 2373</span>    } cb( opts, draw_row, last_key, default_to, !base.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;RELOAD_ONE&quot;</span> ) );</div>
<div class="line"><a id="l02374" name="l02374"></a><span class="lineno"> 2374</span>    menu.<a class="code hl_variable" href="classuilist.html#ad4f5806d1d8ab3de3af8e3285faf47d6">callback</a> = &amp;cb;</div>
<div class="line"><a id="l02375" name="l02375"></a><span class="lineno"> 2375</span> </div>
<div class="line"><a id="l02376" name="l02376"></a><span class="lineno"> 2376</span>    menu.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l02377" name="l02377"></a><span class="lineno"> 2377</span>    <span class="keywordflow">if</span>( menu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> &lt; 0 || <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( menu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> ) &gt;= opts.size() ) {</div>
<div class="line"><a id="l02378" name="l02378"></a><span class="lineno"> 2378</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Never mind.&quot;</span> ) );</div>
<div class="line"><a id="l02379" name="l02379"></a><span class="lineno"> 2379</span>        <span class="keywordflow">return</span> <a class="code hl_class" href="classitem_1_1reload__option.html">item::reload_option</a>();</div>
<div class="line"><a id="l02380" name="l02380"></a><span class="lineno"> 2380</span>    }</div>
<div class="line"><a id="l02381" name="l02381"></a><span class="lineno"> 2381</span> </div>
<div class="line"><a id="l02382" name="l02382"></a><span class="lineno"> 2382</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem__location.html">item_location</a> &amp;sel = opts[ menu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> ].ammo;</div>
<div class="line"><a id="l02383" name="l02383"></a><span class="lineno"> 2383</span>    <a class="code hl_variable" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code hl_variable" href="classuistatedata.html#a8b8f01f78f680b54f71cd02745682440">lastreload</a>[ <a class="code hl_typedef" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( base.<a class="code hl_function" href="classitem.html#ab07d96e30c441a84435972df842f4c77">ammo_default</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() ) ] = sel-&gt;<a class="code hl_function" href="classitem.html#a187a2679361c6546be613657dbad3b3f">is_ammo_container</a>() ?</div>
<div class="line"><a id="l02384" name="l02384"></a><span class="lineno"> 2384</span>            sel-&gt;<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() :</div>
<div class="line"><a id="l02385" name="l02385"></a><span class="lineno"> 2385</span>            sel-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>();</div>
<div class="line"><a id="l02386" name="l02386"></a><span class="lineno"> 2386</span>    <span class="keywordflow">return</span> opts[ menu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> ];</div>
<div class="line"><a id="l02387" name="l02387"></a><span class="lineno"> 2387</span>}</div>
<div class="ttc" id="aachievement_8h_html_a4c2771ccaad822c94aee3786288bb112a98bd1c45684cf587ac2347a92dd7bb51"><div class="ttname"><a href="achievement_8h.html#a4c2771ccaad822c94aee3786288bb112a98bd1c45684cf587ac2347a92dd7bb51">achievement_comparison::last</a></div><div class="ttdeci">@ last</div></div>
<div class="ttc" id="aclassinput__manager_html_adac068207a89179b89e95d31422c9991"><div class="ttname"><a href="classinput__manager.html#adac068207a89179b89e95d31422c9991">input_manager::get_previously_pressed_key</a></div><div class="ttdeci">int get_previously_pressed_key() const</div><div class="ttdoc">Return the previously pressed key, or 0 if there is no previous input or the previous input wasn't a ...</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l01304">input.cpp:1304</a></div></div>
<div class="ttc" id="aclassitem_1_1reload__option_html_afec3eb8ab3dff71940912db4a84ae7ea"><div class="ttname"><a href="classitem_1_1reload__option.html#afec3eb8ab3dff71940912db4a84ae7ea">item::reload_option::ammo</a></div><div class="ttdeci">item_location ammo</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00483">item.h:483</a></div></div>
<div class="ttc" id="aclassitem__location_html_abc2ca6a2e19f2a5e7e92e000117bf3d7"><div class="ttname"><a href="classitem__location.html#abc2ca6a2e19f2a5e7e92e000117bf3d7">item_location::describe</a></div><div class="ttdeci">std::string describe(const Character *ch=nullptr) const</div><div class="ttdoc">Describes the item location.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00739">item_location.cpp:739</a></div></div>
<div class="ttc" id="aclassuilist__callback_html"><div class="ttname"><a href="classuilist__callback.html">uilist_callback</a></div><div class="ttdoc">uilist::query() handles most input events first, and then passes the event to the callback if it can'...</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00166">ui.h:167</a></div></div>
<div class="ttc" id="aclassuilist_html_ad4f5806d1d8ab3de3af8e3285faf47d6"><div class="ttname"><a href="classuilist.html#ad4f5806d1d8ab3de3af8e3285faf47d6">uilist::callback</a></div><div class="ttdeci">uilist_callback * callback</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00335">ui.h:335</a></div></div>
<div class="ttc" id="aclassuilist_html_af5fc2972d43a795c49a632dbcf58132b"><div class="ttname"><a href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">uilist::entries</a></div><div class="ttdeci">std::vector&lt; uilist_entry &gt; entries</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00323">ui.h:323</a></div></div>
<div class="ttc" id="aclassuistatedata_html_a8b8f01f78f680b54f71cd02745682440"><div class="ttname"><a href="classuistatedata.html#a8b8f01f78f680b54f71cd02745682440">uistatedata::lastreload</a></div><div class="ttdeci">std::map&lt; ammotype, itype_id &gt; lastreload</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00146">uistate.h:146</a></div></div>
<div class="ttc" id="aclassvisitable_html_a91f3c0f8e439b0ffda17e613fda94d04"><div class="ttname"><a href="classvisitable.html#a91f3c0f8e439b0ffda17e613fda94d04">visitable&lt; Character &gt;::parents</a></div><div class="ttdeci">std::vector&lt; item * &gt; parents(const item &amp;it)</div><div class="ttdoc">Returns vector of parent containers (if any) starting with the innermost.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00057">visitable.cpp:74</a></div></div>
<div class="ttc" id="ainput_8cpp_html_af16c50890fa8503efa899fc3b6de56d7"><div class="ttname"><a href="input_8cpp.html#af16c50890fa8503efa899fc3b6de56d7">inp_mngr</a></div><div class="ttdeci">input_manager inp_mngr</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00109">input.cpp:109</a></div></div>
<div class="ttc" id="ainput_8h_html_a7f98a32a40edbfcb172d2b4dde581f2c"><div class="ttname"><a href="input_8h.html#a7f98a32a40edbfcb172d2b4dde581f2c">KEY_LEFT</a></div><div class="ttdeci">static constexpr int KEY_LEFT</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00039">input.h:39</a></div></div>
<div class="ttc" id="ainput_8h_html_aef82d50d6bc11e0fa4b39c47c2129952"><div class="ttname"><a href="input_8h.html#aef82d50d6bc11e0fa4b39c47c2129952">KEY_RIGHT</a></div><div class="ttdeci">static constexpr int KEY_RIGHT</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00040">input.h:40</a></div></div>
<div class="ttc" id="anamespaceName_html_a305934c1ed39204d620efdee7dbec154"><div class="ttname"><a href="namespaceName.html#a305934c1ed39204d620efdee7dbec154">Name::names</a></div><div class="ttdeci">static std::map&lt; nameFlags, std::vector&lt; std::string &gt; &gt; names</div><div class="ttdef"><b>Definition:</b> <a href="name_8cpp_source.html#l00018">name.cpp:18</a></div></div>
<div class="ttc" id="anamespaceiexamine_html_ab9103bcb0e9cb4755b445e5395a0a62f"><div class="ttname"><a href="namespaceiexamine.html#ab9103bcb0e9cb4755b445e5395a0a62f">iexamine::transform</a></div><div class="ttdeci">void transform(player &amp;p, const tripoint &amp;pos)</div><div class="ttdoc">Transform the examined object into the object specified by its transforms_into property.</div><div class="ttdef"><b>Definition:</b> <a href="iexamine_8cpp_source.html#l01576">iexamine.cpp:1576</a></div></div>
<div class="ttc" id="astructdamage__unit_html"><div class="ttname"><a href="structdamage__unit.html">damage_unit</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00035">damage.h:35</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a8c5cf76dd074bd5dac9b76aaece0ecf4"><div class="ttname"><a href="structdamage__unit.html#a8c5cf76dd074bd5dac9b76aaece0ecf4">damage_unit::damage_multiplier</a></div><div class="ttdeci">float damage_multiplier</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00040">damage.h:40</a></div></div>
<div class="ttc" id="astructdamage__unit_html_ab4d1b13f7ebe2f16a43038e1441ec2b5"><div class="ttname"><a href="structdamage__unit.html#ab4d1b13f7ebe2f16a43038e1441ec2b5">damage_unit::res_pen</a></div><div class="ttdeci">float res_pen</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00038">damage.h:38</a></div></div>
<div class="ttc" id="astructdamage__unit_html_af0a5ce1c282d7ed1a783fd4315404ec3"><div class="ttname"><a href="structdamage__unit.html#af0a5ce1c282d7ed1a783fd4315404ec3">damage_unit::res_mult</a></div><div class="ttdeci">float res_mult</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00039">damage.h:39</a></div></div>
<div class="ttc" id="atype__id_8h_html_a4a240e1107e45f10d64b78f1b5f58d59"><div class="ttname"><a href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a></div><div class="ttdeci">string_id&lt; ammunition_type &gt; ammotype</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00012">type_id.h:12</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="item_8h_source.html#l00483">item::reload_option::ammo</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06512">item::is_ammo_container()</a>, <a class="el" href="item_8cpp_source.html#l06574">item::is_watertight_container()</a>, <a class="el" href="character_8h_source.html#l01142">Character::is_worn()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="name_8cpp_source.html#l00018">Name::names</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="ui_8h_source.html#l00320">uilist::text</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, and <a class="el" href="iexamine_8cpp_source.html#l01576">iexamine::transform()</a>.</p>

</div>
</div>
<a id="a1b2038d8060c04bb5bfa88204ff5d82a" name="a1b2038d8060c04bb5bfa88204ff5d82a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b2038d8060c04bb5bfa88204ff5d82a">&#9670;&nbsp;</a></span>select_item_component()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcomp__selection.html">comp_selection</a>&lt; <a class="el" href="structitem__comp.html">item_comp</a> &gt; player::select_item_component </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structitem__comp.html">item_comp</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>components</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td>
          <td class="paramname"><em>map_inv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>can_cancel</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em> = <code><a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt;<a class="el" href="classitem.html">item</a>&gt;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>player_inv</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l01299">1299</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>{</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>    std::vector&lt;item_comp&gt; player_has;</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>    std::vector&lt;item_comp&gt; map_has;</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>    std::vector&lt;item_comp&gt; mixed;</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span> </div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>    <a class="code hl_struct" href="structcomp__selection.html">comp_selection&lt;item_comp&gt;</a> selected;</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span> </div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_struct" href="structcomponent.html">component</a> : components ) {</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>        <a class="code hl_class" href="classstring__id.html">itype_id</a> <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = <a class="code hl_struct" href="structcomponent.html">component</a>.<a class="code hl_variable" href="structcomponent.html#a9c114293306257abbc1db25073fc0492">type</a>;</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> = ( <a class="code hl_struct" href="structcomponent.html">component</a>.<a class="code hl_variable" href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">count</a> &gt; 0 ) ? <a class="code hl_struct" href="structcomponent.html">component</a>.<a class="code hl_variable" href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">count</a> * batch : std::abs( <a class="code hl_struct" href="structcomponent.html">component</a>.<a class="code hl_variable" href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">count</a> );</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span> </div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> ) &amp;&amp; <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> &gt; 0 ) {</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>            <span class="keywordtype">int</span> map_charges = map_inv.<a class="code hl_function" href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">charges_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, INT_MAX, filter );</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span> </div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>            <span class="comment">// If map has infinite charges, just use them</span></div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>            <span class="keywordflow">if</span>( map_charges == <a class="code hl_variable" href="classitem.html#a109dfb20d6dac296bab6c44db0f8ab1a">item::INFINITE_CHARGES</a> ) {</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>                selected.<a class="code hl_variable" href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">use_from</a> = <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726ae0cfa7503d9e51c0f908fe4f210a56cb">use_from_map</a>;</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>                selected.<a class="code hl_variable" href="structcomp__selection.html#abdc3989f1177b3c794be9c679cdefaec">comp</a> = <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a700c216fb376666eaeda0c892e8bdc09">component</a>;</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>                <span class="keywordflow">return</span> selected;</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>            }</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>            <span class="keywordflow">if</span>( player_inv ) {</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>                <span class="keywordtype">int</span> player_charges = <a class="code hl_function" href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">charges_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, INT_MAX, filter );</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>                <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>                <span class="keywordflow">if</span>( player_charges &gt;= <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> ) {</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>                    player_has.push_back( <a class="code hl_struct" href="structcomponent.html">component</a> );</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>                    found = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>                }</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>                <span class="keywordflow">if</span>( map_charges &gt;= <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> ) {</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>                    map_has.push_back( <a class="code hl_struct" href="structcomponent.html">component</a> );</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>                    found = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>                }</div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>                <span class="keywordflow">if</span>( !found &amp;&amp; player_charges + map_charges &gt;= <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> ) {</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>                    mixed.push_back( <a class="code hl_struct" href="structcomponent.html">component</a> );</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>                }</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>                <span class="keywordflow">if</span>( map_charges &gt;= <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> ) {</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>                    map_has.push_back( <a class="code hl_struct" href="structcomponent.html">component</a> );</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>                }</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>            }</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>        } <span class="keywordflow">else</span> { <span class="comment">// Counting by units, not charges</span></div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span> </div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>            <span class="comment">// Can&#39;t use pseudo items as components</span></div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>            <span class="keywordflow">if</span>( player_inv ) {</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>                <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">has_amount</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a>, <span class="keyword">false</span>, filter ) ) {</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>                    player_has.push_back( <a class="code hl_struct" href="structcomponent.html">component</a> );</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>                    found = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>                }</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>                <span class="keywordflow">if</span>( map_inv.<a class="code hl_function" href="classinventory.html#ab1e13a56c04c80db6cf19da33bd0b3e3">has_components</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a>, filter ) ) {</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>                    map_has.push_back( <a class="code hl_struct" href="structcomponent.html">component</a> );</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>                    found = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>                }</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>                <span class="keywordflow">if</span>( !found &amp;&amp;</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>                    <a class="code hl_function" href="classvisitable.html#a0f314e4c2cf16dde306d92b73a60ff9f">amount_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">false</span>, std::numeric_limits&lt;int&gt;::max(), filter ) +</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>                    map_inv.<a class="code hl_function" href="classvisitable.html#a0f314e4c2cf16dde306d92b73a60ff9f">amount_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">false</span>, std::numeric_limits&lt;int&gt;::max(), filter ) &gt;= <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> ) {</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>                    mixed.push_back( <a class="code hl_struct" href="structcomponent.html">component</a> );</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>                }</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>                <span class="keywordflow">if</span>( map_inv.<a class="code hl_function" href="classinventory.html#ab1e13a56c04c80db6cf19da33bd0b3e3">has_components</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a>, filter ) ) {</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>                    map_has.push_back( <a class="code hl_struct" href="structcomponent.html">component</a> );</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>                }</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>            }</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>        }</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>    }</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span> </div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>    <span class="comment">/* select 1 component to use */</span></div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>    <span class="keywordflow">if</span>( player_has.size() + map_has.size() + mixed.size() == 1 ) { <span class="comment">// Only 1 choice</span></div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>        <span class="keywordflow">if</span>( player_has.size() == 1 ) {</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>            selected.<a class="code hl_variable" href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">use_from</a> = <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726a3d96eab6e691ab4aea5cdad7a15dd08f">use_from_player</a>;</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>            selected.<a class="code hl_variable" href="structcomp__selection.html#abdc3989f1177b3c794be9c679cdefaec">comp</a> = player_has[0];</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( map_has.size() == 1 ) {</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>            selected.<a class="code hl_variable" href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">use_from</a> = <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726ae0cfa7503d9e51c0f908fe4f210a56cb">use_from_map</a>;</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>            selected.<a class="code hl_variable" href="structcomp__selection.html#abdc3989f1177b3c794be9c679cdefaec">comp</a> = map_has[0];</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>            selected.<a class="code hl_variable" href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">use_from</a> = <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726a36367df8f9785058d22d022dbd8e5fae">use_from_both</a>;</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>            selected.<a class="code hl_variable" href="structcomp__selection.html#abdc3989f1177b3c794be9c679cdefaec">comp</a> = mixed[0];</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>        }</div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>        <span class="keywordflow">if</span>( !player_has.empty() ) {</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>            selected.<a class="code hl_variable" href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">use_from</a> = <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726a3d96eab6e691ab4aea5cdad7a15dd08f">use_from_player</a>;</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>            selected.<a class="code hl_variable" href="structcomp__selection.html#abdc3989f1177b3c794be9c679cdefaec">comp</a> = player_has[0];</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !map_has.empty() ) {</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>            selected.<a class="code hl_variable" href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">use_from</a> = <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726ae0cfa7503d9e51c0f908fe4f210a56cb">use_from_map</a>;</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>            selected.<a class="code hl_variable" href="structcomp__selection.html#abdc3989f1177b3c794be9c679cdefaec">comp</a> = map_has[0];</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Attempted a recipe with no available components!&quot;</span> );</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>            selected.<a class="code hl_variable" href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">use_from</a> = <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726afa28df73c87d81742155531f0f36dc71">cancel</a>;</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>            <span class="keywordflow">return</span> selected;</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>        }</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>    } <span class="keywordflow">else</span> { <span class="comment">// Let the player pick which component they want to use</span></div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>        <a class="code hl_class" href="classuilist.html">uilist</a> cmenu;</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>        <span class="comment">// Populate options with the names of the items</span></div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;map_ha : map_has ) { <span class="comment">// Index 0-(map_has.size()-1)</span></div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>            std::string tmpStr = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s (%d/%d nearby)&quot;</span> ),</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>                                                <a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( map_ha.type ),</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>                                                ( map_ha.count * batch ),</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>                                                <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a>( map_ha.type ) ?</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>                                                map_inv.<a class="code hl_function" href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">charges_of</a>( map_ha.type, INT_MAX, filter ) :</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>                                                map_inv.<a class="code hl_function" href="classvisitable.html#a0f314e4c2cf16dde306d92b73a60ff9f">amount_of</a>( map_ha.type, <span class="keyword">false</span>, INT_MAX, filter ) );</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>            cmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( tmpStr );</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>        }</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;player_ha : player_has ) { <span class="comment">// Index map_has.size()-(map_has.size()+player_has.size()-1)</span></div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>            std::string tmpStr = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s (%d/%d on person)&quot;</span> ),</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>                                                <a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( player_ha.type ),</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>                                                ( player_ha.count * batch ),</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>                                                <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a>( player_ha.type ) ?</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>                                                <a class="code hl_function" href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">charges_of</a>( player_ha.type, INT_MAX, filter ) :</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>                                                <a class="code hl_function" href="classvisitable.html#a0f314e4c2cf16dde306d92b73a60ff9f">amount_of</a>( player_ha.type, <span class="keyword">false</span>, INT_MAX, filter ) );</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>            cmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( tmpStr );</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>        }</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;<a class="code hl_struct" href="structcomponent.html">component</a> : mixed ) {</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>            <span class="comment">// Index player_has.size()-(map_has.size()+player_has.size()+mixed.size()-1)</span></div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>            <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="vehicle_8h.html#ad9a221cee9ae7a69d6f09d4de701f02cae4894ca167b08880bfc35862f18575eb">available</a> = <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a>( <a class="code hl_struct" href="structcomponent.html">component</a>.<a class="code hl_variable" href="structcomponent.html#a9c114293306257abbc1db25073fc0492">type</a> ) ?</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>                            map_inv.<a class="code hl_function" href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">charges_of</a>( <a class="code hl_struct" href="structcomponent.html">component</a>.<a class="code hl_variable" href="structcomponent.html#a9c114293306257abbc1db25073fc0492">type</a>, INT_MAX, filter ) +</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>                            <a class="code hl_function" href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">charges_of</a>( <a class="code hl_struct" href="structcomponent.html">component</a>.<a class="code hl_variable" href="structcomponent.html#a9c114293306257abbc1db25073fc0492">type</a>, INT_MAX, filter ) :</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>                            map_inv.<a class="code hl_function" href="classvisitable.html#a0f314e4c2cf16dde306d92b73a60ff9f">amount_of</a>( <a class="code hl_struct" href="structcomponent.html">component</a>.<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, false, INT_MAX, filter ) +</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>                            <a class="code hl_function" href="classvisitable.html#a0f314e4c2cf16dde306d92b73a60ff9f">amount_of</a>( <a class="code hl_struct" href="structcomponent.html">component</a>.<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, false, INT_MAX, filter );</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>            std::string tmpStr = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s (%d/%d nearby &amp; on person)&quot;</span> ),</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>                                                <a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( <a class="code hl_struct" href="structcomponent.html">component</a>.<a class="code hl_variable" href="structcomponent.html#a9c114293306257abbc1db25073fc0492">type</a> ),</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>                                                <a class="code hl_struct" href="structcomponent.html">component</a>.<a class="code hl_variable" href="structcomponent.html#aa6596b552ee2f19c2440c5a6aed9ecf4">count</a> * batch,</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>                                                <a class="code hl_enumvalue" href="vehicle_8h.html#ad9a221cee9ae7a69d6f09d4de701f02cae4894ca167b08880bfc35862f18575eb">available</a> );</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>            cmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( tmpStr );</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>        }</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span> </div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>        <span class="comment">// Unlike with tools, it&#39;s a bad thing if there aren&#39;t any components available</span></div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>        <span class="keywordflow">if</span>( cmenu.<a class="code hl_variable" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>.empty() ) {</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>            <span class="keywordflow">if</span>( player_inv ) {</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="crafting_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a> ) ) {</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>                    selected.<a class="code hl_variable" href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">use_from</a> = <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726a3d96eab6e691ab4aea5cdad7a15dd08f">use_from_player</a>;</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>                    <span class="keywordflow">return</span> selected;</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>                }</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>            }</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Attempted a recipe with no available components!&quot;</span> );</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>            selected.<a class="code hl_variable" href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">use_from</a> = <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726afa28df73c87d81742155531f0f36dc71">cancel</a>;</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>            <span class="keywordflow">return</span> selected;</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>        }</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span> </div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>        cmenu.<a class="code hl_variable" href="classuilist.html#a55ee0f9e08269bd6e8116b67f4c39836">allow_cancel</a> = can_cancel;</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span> </div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>        <span class="comment">// Get the selection via a menu popup</span></div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>        cmenu.<a class="code hl_variable" href="classuilist.html#a53ff5990a6abb4e7da837db31afea4b8">title</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Use which component?&quot;</span> );</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>        cmenu.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span> </div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>        <span class="keywordflow">if</span>( cmenu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> &lt; 0 ||</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>            <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( cmenu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> ) &gt;= map_has.size() + player_has.size() + mixed.size() ) {</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>            selected.<a class="code hl_variable" href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">use_from</a> = <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726afa28df73c87d81742155531f0f36dc71">cancel</a>;</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>            <span class="keywordflow">return</span> selected;</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>        }</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span> </div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>        <span class="keywordtype">size_t</span> uselection = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( cmenu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> );</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>        <span class="keywordflow">if</span>( uselection &lt; map_has.size() ) {</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>            selected.<a class="code hl_variable" href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">use_from</a> = <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726ae0cfa7503d9e51c0f908fe4f210a56cb">usage::use_from_map</a>;</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>            selected.<a class="code hl_variable" href="structcomp__selection.html#abdc3989f1177b3c794be9c679cdefaec">comp</a> = map_has[uselection];</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( uselection &lt; map_has.size() + player_has.size() ) {</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>            uselection -= map_has.size();</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>            selected.<a class="code hl_variable" href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">use_from</a> = <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726a3d96eab6e691ab4aea5cdad7a15dd08f">usage::use_from_player</a>;</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>            selected.<a class="code hl_variable" href="structcomp__selection.html#abdc3989f1177b3c794be9c679cdefaec">comp</a> = player_has[uselection];</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>            uselection -= map_has.size() + player_has.size();</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>            selected.<a class="code hl_variable" href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">use_from</a> = <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726a36367df8f9785058d22d022dbd8e5fae">usage::use_from_both</a>;</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>            selected.<a class="code hl_variable" href="structcomp__selection.html#abdc3989f1177b3c794be9c679cdefaec">comp</a> = mixed[uselection];</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>        }</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>    }</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span> </div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>    <span class="keywordflow">return</span> selected;</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>}</div>
<div class="ttc" id="aclassinventory_html_ab1e13a56c04c80db6cf19da33bd0b3e3"><div class="ttname"><a href="classinventory.html#ab1e13a56c04c80db6cf19da33bd0b3e3">inventory::has_components</a></div><div class="ttdeci">bool has_components(const itype_id &amp;it, int quantity, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00877">inventory.cpp:877</a></div></div>
<div class="ttc" id="aclassitem_html_a109dfb20d6dac296bab6c44db0f8ab1a"><div class="ttname"><a href="classitem.html#a109dfb20d6dac296bab6c44db0f8ab1a">item::INFINITE_CHARGES</a></div><div class="ttdeci">static const int INFINITE_CHARGES</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02154">item.h:2154</a></div></div>
<div class="ttc" id="aclassuilist_html_a53ff5990a6abb4e7da837db31afea4b8"><div class="ttname"><a href="classuilist.html#a53ff5990a6abb4e7da837db31afea4b8">uilist::title</a></div><div class="ttdeci">std::string title</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00319">ui.h:319</a></div></div>
<div class="ttc" id="aclassuilist_html_a55ee0f9e08269bd6e8116b67f4c39836"><div class="ttname"><a href="classuilist.html#a55ee0f9e08269bd6e8116b67f4c39836">uilist::allow_cancel</a></div><div class="ttdeci">bool allow_cancel</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00362">ui.h:362</a></div></div>
<div class="ttc" id="aclassvisitable_html_a0f314e4c2cf16dde306d92b73a60ff9f"><div class="ttname"><a href="classvisitable.html#a0f314e4c2cf16dde306d92b73a60ff9f">visitable&lt; Character &gt;::amount_of</a></div><div class="ttdeci">int amount_of(const itype_id &amp;what, bool pseudo=true, int limit=INT_MAX, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const</div><div class="ttdoc">Count items matching id including both this instance and any contained items.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00091">visitable.cpp:1048</a></div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab52b3b592a42745385edcf8d90c690a1a700c216fb376666eaeda0c892e8bdc09"><div class="ttname"><a href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a700c216fb376666eaeda0c892e8bdc09">item_consumption_t::component</a></div><div class="ttdeci">@ component</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="ui_8cpp_source.html#l00932">uilist::addentry()</a>, <a class="el" href="ui_8h_source.html#l00362">uilist::allow_cancel</a>, <a class="el" href="visitable_8cpp_source.html#l01048">visitable&lt; Character &gt;::amount_of()</a>, <a class="el" href="visitable_8cpp_source.html#l01048">visitable&lt; T &gt;::amount_of()</a>, <a class="el" href="vehicle_8h.html#ad9a221cee9ae7a69d6f09d4de701f02cae4894ca167b08880bfc35862f18575eb">available</a>, <a class="el" href="craft__command_8h_source.html#l00028">cancel</a>, <a class="el" href="visitable_8cpp_source.html#l00943">visitable&lt; T &gt;::charges_of()</a>, <a class="el" href="visitable_8cpp_source.html#l00943">visitable&lt; Character &gt;::charges_of()</a>, <a class="el" href="craft__command_8h_source.html#l00050">comp_selection&lt; CompType &gt;::comp</a>, <a class="el" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a700c216fb376666eaeda0c892e8bdc09">component</a>, <a class="el" href="fmtlib__core_8h_source.html#l01073">detail::count()</a>, <a class="el" href="requirements_8h_source.html#l00059">component::count</a>, <a class="el" href="item_8cpp_source.html#l05855">item::count_by_charges()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="ui_8h_source.html#l00323">uilist::entries</a>, <a class="el" href="visitable_8cpp_source.html#l01108">visitable&lt; Character &gt;::has_amount()</a>, <a class="el" href="inventory_8cpp_source.html#l00877">inventory::has_components()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="item_8h_source.html#l02154">item::INFINITE_CHARGES</a>, <a class="el" href="player_8h_source.html#l00131">is_npc()</a>, <a class="el" href="item_8cpp_source.html#l09749">item::nname()</a>, <a class="el" href="ui_8cpp_source.html#l00828">uilist::query()</a>, <a class="el" href="ui_8h_source.html#l00412">uilist::ret</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="ui_8h_source.html#l00319">uilist::title</a>, <a class="el" href="crafting_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a>, <a class="el" href="enums_8h_source.html#l00075">type</a>, <a class="el" href="requirements_8h_source.html#l00058">component::type</a>, <a class="el" href="craft__command_8h_source.html#l00049">comp_selection&lt; CompType &gt;::use_from</a>, <a class="el" href="craft__command_8h_source.html#l00027">use_from_both</a>, <a class="el" href="craft__command_8h_source.html#l00025">use_from_map</a>, and <a class="el" href="craft__command_8h_source.html#l00026">use_from_player</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l01147">can_continue_craft()</a>, <a class="el" href="crafting_8cpp_source.html#l01548">consume_items()</a>, <a class="el" href="craft__command_8cpp_source.html#l00097">craft_command::execute()</a>, <a class="el" href="iexamine_8cpp_source.html#l05493">mill_load_food()</a>, <a class="el" href="veh__utils_8cpp_source.html#l00109">veh_utils::repair_part()</a>, and <a class="el" href="iexamine_8cpp_source.html#l05385">smoker_load_food()</a>.</p>

</div>
</div>
<a id="ac4a36bf0591e40b36cc470758ff0340a" name="ac4a36bf0591e40b36cc470758ff0340a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4a36bf0591e40b36cc470758ff0340a">&#9670;&nbsp;</a></span>select_requirements()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structrequirement__data.html">requirement_data</a> * player::select_requirements </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; const <a class="el" href="structrequirement__data.html">requirement_data</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>alternatives</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td>
          <td class="paramname"><em>inv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l01266">1266</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>{</div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>    assert( !alternatives.empty() );</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>    <span class="keywordflow">if</span>( alternatives.size() == 1 || !<a class="code hl_function" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) {</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>        <span class="keywordflow">return</span> alternatives.front();</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>    }</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span> </div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>    <a class="code hl_class" href="classuilist.html">uilist</a> menu;</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span> </div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structrequirement__data.html">requirement_data</a> *req : alternatives ) {</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>        <span class="comment">// Write with a large width and then just re-join the lines, because</span></div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>        <span class="comment">// uilist does its own wrapping and we want to rely on that.</span></div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>        std::vector&lt;std::string&gt; component_lines =</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>            req-&gt;get_folded_components_list( <a class="code hl_variable" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - 4, <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>, filter, batch, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>                                             <a class="code hl_enumvalue" href="requirements_8h.html#a135131316dcc177615e359bf3f061809a7a6b99110032cd9eae5cdc46d3931522">requirement_display_flags::no_unavailable</a> );</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>        menu.<a class="code hl_function" href="classuilist.html#ae186aa01767463de50315306c6c51479">addentry_desc</a>( <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_function" href="fmtlib__format_8h.html#ac4a20080719606048585fc60047693d5">join</a>( component_lines, <span class="stringliteral">&quot;\n&quot;</span> ) );</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>    }</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span> </div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>    menu.<a class="code hl_variable" href="classuilist.html#a55ee0f9e08269bd6e8116b67f4c39836">allow_cancel</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>    menu.<a class="code hl_variable" href="classuilist.html#a1a7ee6e719a4f1bba45fc94e29a19166">desc_enabled</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>    menu.<a class="code hl_variable" href="classuilist.html#a53ff5990a6abb4e7da837db31afea4b8">title</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Use which selection of components?&quot;</span> );</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>    menu.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span> </div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>    <span class="keywordflow">if</span>( menu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> &lt; 0 || <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( menu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> ) &gt;= alternatives.size() ) {</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>    }</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span> </div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>    <span class="keywordflow">return</span> alternatives[menu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>];</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>}</div>
<div class="ttc" id="afmtlib__format_8h_html_ac4a20080719606048585fc60047693d5"><div class="ttname"><a href="fmtlib__format_8h.html#ac4a20080719606048585fc60047693d5">join</a></div><div class="ttdeci">arg_join&lt; It, Sentinel, char &gt; join(It begin, Sentinel end, string_view sep)</div><div class="ttdoc">Returns an object that formats the iterator range [begin, end) with elements separated by sep.</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format_8h_source.html#l04184">fmtlib_format.h:4184</a></div></div>
<div class="ttc" id="arequirements_8h_html_a135131316dcc177615e359bf3f061809a7a6b99110032cd9eae5cdc46d3931522"><div class="ttname"><a href="requirements_8h.html#a135131316dcc177615e359bf3f061809a7a6b99110032cd9eae5cdc46d3931522">requirement_display_flags::no_unavailable</a></div><div class="ttdeci">@ no_unavailable</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="ui_8cpp_source.html#l00942">uilist::addentry_desc()</a>, <a class="el" href="ui_8h_source.html#l00362">uilist::allow_cancel</a>, <a class="el" href="color_8h_source.html#l00019">c_light_gray</a>, <a class="el" href="ui_8h_source.html#l00352">uilist::desc_enabled</a>, <a class="el" href="character_8h_source.html#l01583">Character::inv</a>, <a class="el" href="creature_8h_source.html#l00095">Creature::is_avatar()</a>, <a class="el" href="fmtlib__format_8h_source.html#l04184">join()</a>, <a class="el" href="requirements_8h.html#a135131316dcc177615e359bf3f061809a7a6b99110032cd9eae5cdc46d3931522">no_unavailable</a>, <a class="el" href="ui_8cpp_source.html#l00828">uilist::query()</a>, <a class="el" href="ui_8h_source.html#l00412">uilist::ret</a>, <a class="el" href="output_8cpp_source.html#l00047">TERMX</a>, and <a class="el" href="ui_8h_source.html#l00319">uilist::title</a>.</p>

<p class="reference">Referenced by <a class="el" href="requirements_8cpp_source.html#l01514">deduped_requirement_data::select_alternative()</a>.</p>

</div>
</div>
<a id="aaf7d0efffb4514ae3831252059b9e593" name="aaf7d0efffb4514ae3831252059b9e593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf7d0efffb4514ae3831252059b9e593">&#9670;&nbsp;</a></span>serialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void player::serialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonOut.html">JsonOut</a> &amp;&#160;</td>
          <td class="paramname"><em>jsout</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="classavatar.html#a1f4dc315a81d2ad927296f136ec0de9e">avatar</a>, and <a class="el" href="classnpc.html#acaa01ca40165aed3a7f31b9b3c365d7c">npc</a>.</p>

</div>
</div>
<a id="af7af2288294fdf27ae72f02e214df878" name="af7af2288294fdf27ae72f02e214df878"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7af2288294fdf27ae72f02e214df878">&#9670;&nbsp;</a></span>set_pain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void player::set_pain </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>npain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets new intensity of pain an reacts to it. </p>

<p>Reimplemented from <a class="el" href="classCreature.html#a0c2a2ea33a8193bb0779e87f4f67617b">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01119">1119</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>{</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> prev_pain = <a class="code hl_function" href="classplayer.html#a866f12c5891fa0a43d837669fc52706b">get_perceived_pain</a>();</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>    <a class="code hl_function" href="classCreature.html#a0c2a2ea33a8193bb0779e87f4f67617b">Creature::set_pain</a>( npain );</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> cur_pain = <a class="code hl_function" href="classplayer.html#a866f12c5891fa0a43d837669fc52706b">get_perceived_pain</a>();</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span> </div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>    <span class="keywordflow">if</span>( cur_pain != prev_pain ) {</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>        <a class="code hl_function" href="classCharacter.html#ae4ec92e564e84508af434393884fd139">react_to_felt_pain</a>( cur_pain - prev_pain );</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>        <a class="code hl_function" href="classCharacter.html#a18182a6307b6430dacfc7a83b2636c9d">on_stat_change</a>( <span class="stringliteral">&quot;perceived_pain&quot;</span>, cur_pain );</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>    }</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>}</div>
<div class="ttc" id="aclassCharacter_html_a18182a6307b6430dacfc7a83b2636c9d"><div class="ttname"><a href="classCharacter.html#a18182a6307b6430dacfc7a83b2636c9d">Character::on_stat_change</a></div><div class="ttdeci">void on_stat_change(const std::string &amp;stat, int value) override</div><div class="ttdoc">Called when a stat is changed.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09879">character.cpp:9879</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae4ec92e564e84508af434393884fd139"><div class="ttname"><a href="classCharacter.html#ae4ec92e564e84508af434393884fd139">Character::react_to_felt_pain</a></div><div class="ttdeci">void react_to_felt_pain(int intensity)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00844">character.cpp:844</a></div></div>
<div class="ttc" id="aclassCreature_html_a0c2a2ea33a8193bb0779e87f4f67617b"><div class="ttname"><a href="classCreature.html#a0c2a2ea33a8193bb0779e87f4f67617b">Creature::set_pain</a></div><div class="ttdeci">virtual void set_pain(int npain)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01351">creature.cpp:1351</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player_8cpp_source.html#l01131">get_perceived_pain()</a>, <a class="el" href="character_8cpp_source.html#l09879">Character::on_stat_change()</a>, <a class="el" href="character_8cpp_source.html#l00844">Character::react_to_felt_pain()</a>, and <a class="el" href="creature_8cpp_source.html#l01351">Creature::set_pain()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l04346">environmental_revert_effect()</a>, and <a class="el" href="game_8cpp_source.html#l02677">game::is_game_over()</a>.</p>

</div>
</div>
<a id="ae2fbd86dfd2406eeca14185fdf1c2868" name="ae2fbd86dfd2406eeca14185fdf1c2868"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2fbd86dfd2406eeca14185fdf1c2868">&#9670;&nbsp;</a></span>set_underwater()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::set_underwater </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>u</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00588">588</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>{</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a> != u ) {</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>        <a class="code hl_variable" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a> = u;</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>        <a class="code hl_function" href="classCharacter.html#aa0d1b26c15ad4a52973774bf6a7610c1">recalc_sight_limits</a>();</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>    }</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l01692">Character::recalc_sight_limits()</a>, and <a class="el" href="creature_8h_source.html#l00570">Creature::underwater</a>.</p>

<p class="reference">Referenced by <a class="el" href="avatar__action_8cpp_source.html#l00489">avatar_action::swim()</a>, <a class="el" href="game_8cpp_source.html#l10492">game::vertical_move()</a>, and <a class="el" href="game_8cpp_source.html#l09307">game::walk_move()</a>.</p>

</div>
</div>
<a id="ae620c56d3dc1a9c856d9c10bb6681c28" name="ae620c56d3dc1a9c856d9c10bb6681c28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae620c56d3dc1a9c856d9c10bb6681c28">&#9670;&nbsp;</a></span>siphon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::siphon </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classvehicle.html">vehicle</a> &amp;&#160;</td>
          <td class="paramname"><em>veh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>desired_liquid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Siphons fuel (if available) from the specified vehicle into container or similar via game::handle_liquid. </p>
<p >May start a player activity. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01380">1380</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>{</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>    <span class="keyword">auto</span> qty = veh.<a class="code hl_function" href="classvehicle.html#a5b3c37a197c21cdd469e7779f8c1db50">fuel_left</a>( desired_liquid );</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>    <span class="keywordflow">if</span>( qty &lt;= 0 ) {</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;There is not enough %s left to siphon it.&quot;</span> ),</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>                 <a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( desired_liquid ) );</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>    }</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span> </div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>    <a class="code hl_class" href="classitem.html">item</a> liquid( desired_liquid, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, qty );</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="namespaceliquid__handler.html#a30393ea5ae789bd91dc85e09f7c504e2">liquid_handler::handle_liquid</a>( liquid, <span class="keyword">nullptr</span>, 1, <span class="keyword">nullptr</span>, &amp;veh ) ) {</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>        veh.<a class="code hl_function" href="classvehicle.html#a2b28d63a4879b75d5a186289c54f6330">drain</a>( desired_liquid, qty - liquid.charges );</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>    }</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>}</div>
<div class="ttc" id="aclassvehicle_html_a2b28d63a4879b75d5a186289c54f6330"><div class="ttname"><a href="classvehicle.html#a2b28d63a4879b75d5a186289c54f6330">vehicle::drain</a></div><div class="ttdeci">int drain(const itype_id &amp;ftype, int amount)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03246">vehicle.cpp:3246</a></div></div>
<div class="ttc" id="aclassvehicle_html_a5b3c37a197c21cdd469e7779f8c1db50"><div class="ttname"><a href="classvehicle.html#a5b3c37a197c21cdd469e7779f8c1db50">vehicle::fuel_left</a></div><div class="ttdeci">int fuel_left(const itype_id &amp;ftype, bool recurse=false) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03179">vehicle.cpp:3179</a></div></div>
<div class="ttc" id="anamespaceliquid__handler_html_a30393ea5ae789bd91dc85e09f7c504e2"><div class="ttname"><a href="namespaceliquid__handler.html#a30393ea5ae789bd91dc85e09f7c504e2">liquid_handler::handle_liquid</a></div><div class="ttdeci">bool handle_liquid(item &amp;liquid, item *const source, const int radius, const tripoint *const source_pos, const vehicle *const source_veh, const int part_num, const monster *const source_mon)</div><div class="ttdoc">This may start a player activity if either source_pos or source_veh is not null.</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8cpp_source.html#l00398">handle_liquid.cpp:398</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="vehicle_8cpp_source.html#l03246">vehicle::drain()</a>, <a class="el" href="vehicle_8cpp_source.html#l03179">vehicle::fuel_left()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00398">liquid_handler::handle_liquid()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="item_8cpp_source.html#l09749">item::nname()</a>, and <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>.</p>

</div>
</div>
<a id="ab3398f0b9e51eef761822407a686378c" name="ab3398f0b9e51eef761822407a686378c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3398f0b9e51eef761822407a686378c">&#9670;&nbsp;</a></span>sleep_spot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::sleep_spot </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rate point's ability to serve as a bed. </p>
<p >Takes all mutations, fatigue and stimulants into account. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03889">3889</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03890" name="l03890"></a><span class="lineno"> 3890</span>{</div>
<div class="line"><a id="l03891" name="l03891"></a><span class="lineno"> 3891</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> current_stim = <a class="code hl_function" href="classCharacter.html#a7335f053c5874081211552623fa625c5">get_stim</a>();</div>
<div class="line"><a id="l03892" name="l03892"></a><span class="lineno"> 3892</span>    <span class="keyword">const</span> comfort_response_t comfort_info = <a class="code hl_function" href="classCharacter.html#a019f8df7afe648fcccc9473d7d7a2ca8">base_comfort_value</a>( p );</div>
<div class="line"><a id="l03893" name="l03893"></a><span class="lineno"> 3893</span>    <span class="keywordflow">if</span>( comfort_info.aid != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l03894" name="l03894"></a><span class="lineno"> 3894</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You use your %s for comfort.&quot;</span> ), comfort_info.aid-&gt;tname() );</div>
<div class="line"><a id="l03895" name="l03895"></a><span class="lineno"> 3895</span>    }</div>
<div class="line"><a id="l03896" name="l03896"></a><span class="lineno"> 3896</span> </div>
<div class="line"><a id="l03897" name="l03897"></a><span class="lineno"> 3897</span>    <span class="keywordtype">int</span> sleepy = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( comfort_info.level );</div>
<div class="line"><a id="l03898" name="l03898"></a><span class="lineno"> 3898</span>    <span class="keywordtype">bool</span> watersleep = <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#abf29a0f9f2b03dbf9baa8dd6af688d41">trait_WATERSLEEP</a> );</div>
<div class="line"><a id="l03899" name="l03899"></a><span class="lineno"> 3899</span> </div>
<div class="line"><a id="l03900" name="l03900"></a><span class="lineno"> 3900</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#afe055a629e5f9afdb201cd9a8749283c">has_addiction</a>( <a class="code hl_enumvalue" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295bab32bd403b93dc6deffdab7af55e82596">add_type::SLEEP</a> ) ) {</div>
<div class="line"><a id="l03901" name="l03901"></a><span class="lineno"> 3901</span>        sleepy -= 4;</div>
<div class="line"><a id="l03902" name="l03902"></a><span class="lineno"> 3902</span>    }</div>
<div class="line"><a id="l03903" name="l03903"></a><span class="lineno"> 3903</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a01725f3a1c7d4a3c718b4a395b5ae41d">trait_INSOMNIA</a> ) ) {</div>
<div class="line"><a id="l03904" name="l03904"></a><span class="lineno"> 3904</span>        <span class="comment">// 12.5 points is the difference between &quot;tired&quot; and &quot;dead tired&quot;</span></div>
<div class="line"><a id="l03905" name="l03905"></a><span class="lineno"> 3905</span>        sleepy -= 12;</div>
<div class="line"><a id="l03906" name="l03906"></a><span class="lineno"> 3906</span>    }</div>
<div class="line"><a id="l03907" name="l03907"></a><span class="lineno"> 3907</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a5e899e783cee2462a5571083c6abe22f">trait_EASYSLEEPER</a> ) ) {</div>
<div class="line"><a id="l03908" name="l03908"></a><span class="lineno"> 3908</span>        <span class="comment">// Low fatigue (being rested) has a much stronger effect than high fatigue</span></div>
<div class="line"><a id="l03909" name="l03909"></a><span class="lineno"> 3909</span>        <span class="comment">// so it&#39;s OK for the value to be that much higher</span></div>
<div class="line"><a id="l03910" name="l03910"></a><span class="lineno"> 3910</span>        sleepy += 40;</div>
<div class="line"><a id="l03911" name="l03911"></a><span class="lineno"> 3911</span>    }</div>
<div class="line"><a id="l03912" name="l03912"></a><span class="lineno"> 3912</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af9c7419575e23d52745c94009929fafb">has_active_bionic</a>( <a class="code hl_variable" href="player_8cpp.html#a978adf30232e0bcf1b9d38a73b8dd30e">bio_soporific</a> ) ) {</div>
<div class="line"><a id="l03913" name="l03913"></a><span class="lineno"> 3913</span>        sleepy += 30;</div>
<div class="line"><a id="l03914" name="l03914"></a><span class="lineno"> 3914</span>    }</div>
<div class="line"><a id="l03915" name="l03915"></a><span class="lineno"> 3915</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a21395d70727e0cc20a2417b6aaea56e3">trait_EASYSLEEPER2</a> ) ) {</div>
<div class="line"><a id="l03916" name="l03916"></a><span class="lineno"> 3916</span>        <span class="comment">// At this point, the only limit to sleep is tiredness</span></div>
<div class="line"><a id="l03917" name="l03917"></a><span class="lineno"> 3917</span>        sleepy += 100;</div>
<div class="line"><a id="l03918" name="l03918"></a><span class="lineno"> 3918</span>    }</div>
<div class="line"><a id="l03919" name="l03919"></a><span class="lineno"> 3919</span>    <span class="keywordflow">if</span>( watersleep &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag_ter( <span class="stringliteral">&quot;SWIMMABLE&quot;</span>, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l03920" name="l03920"></a><span class="lineno"> 3920</span>        sleepy += 10; <span class="comment">//comfy water!</span></div>
<div class="line"><a id="l03921" name="l03921"></a><span class="lineno"> 3921</span>    }</div>
<div class="line"><a id="l03922" name="l03922"></a><span class="lineno"> 3922</span> </div>
<div class="line"><a id="l03923" name="l03923"></a><span class="lineno"> 3923</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() &lt; <a class="code hl_enumvalue" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137a287f44f35ecb230e8b997abaad077f46">fatigue_levels::tired</a> + 1 ) {</div>
<div class="line"><a id="l03924" name="l03924"></a><span class="lineno"> 3924</span>        sleepy -= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( ( <a class="code hl_enumvalue" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137a287f44f35ecb230e8b997abaad077f46">fatigue_levels::tired</a> + 1 - <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() ) / 4 );</div>
<div class="line"><a id="l03925" name="l03925"></a><span class="lineno"> 3925</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03926" name="l03926"></a><span class="lineno"> 3926</span>        sleepy += <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( ( <a class="code hl_function" href="classCharacter.html#a31c20b0d370fef88fefe520ff046daf5">get_fatigue</a>() - <a class="code hl_enumvalue" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137a287f44f35ecb230e8b997abaad077f46">fatigue_levels::tired</a> + 1 ) / 16 );</div>
<div class="line"><a id="l03927" name="l03927"></a><span class="lineno"> 3927</span>    }</div>
<div class="line"><a id="l03928" name="l03928"></a><span class="lineno"> 3928</span> </div>
<div class="line"><a id="l03929" name="l03929"></a><span class="lineno"> 3929</span>    <span class="keywordflow">if</span>( current_stim &gt; 0 || !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a01725f3a1c7d4a3c718b4a395b5ae41d">trait_INSOMNIA</a> ) ) {</div>
<div class="line"><a id="l03930" name="l03930"></a><span class="lineno"> 3930</span>        sleepy -= 2 * current_stim;</div>
<div class="line"><a id="l03931" name="l03931"></a><span class="lineno"> 3931</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03932" name="l03932"></a><span class="lineno"> 3932</span>        <span class="comment">// Make it harder for insomniac to get around the trait</span></div>
<div class="line"><a id="l03933" name="l03933"></a><span class="lineno"> 3933</span>        sleepy -= current_stim;</div>
<div class="line"><a id="l03934" name="l03934"></a><span class="lineno"> 3934</span>    }</div>
<div class="line"><a id="l03935" name="l03935"></a><span class="lineno"> 3935</span> </div>
<div class="line"><a id="l03936" name="l03936"></a><span class="lineno"> 3936</span>    <span class="keywordflow">return</span> sleepy;</div>
<div class="line"><a id="l03937" name="l03937"></a><span class="lineno"> 3937</span>}</div>
<div class="ttc" id="aclassCharacter_html_a019f8df7afe648fcccc9473d7d7a2ca8"><div class="ttname"><a href="classCharacter.html#a019f8df7afe648fcccc9473d7d7a2ca8">Character::base_comfort_value</a></div><div class="ttdeci">comfort_response_t base_comfort_value(const tripoint &amp;p) const</div><div class="ttdoc">Rate point's ability to serve as a bed.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l05670">character.cpp:5670</a></div></div>
<div class="ttc" id="aclassCharacter_html_afe055a629e5f9afdb201cd9a8749283c"><div class="ttname"><a href="classCharacter.html#afe055a629e5f9afdb201cd9a8749283c">Character::has_addiction</a></div><div class="ttdeci">bool has_addiction(add_type type) const</div><div class="ttdoc">Returns true if the player has an addiction of the specified type.</div><div class="ttdef"><b>Definition:</b> <a href="suffer_8cpp_source.html#l01938">suffer.cpp:1938</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a01725f3a1c7d4a3c718b4a395b5ae41d"><div class="ttname"><a href="player_8cpp.html#a01725f3a1c7d4a3c718b4a395b5ae41d">trait_INSOMNIA</a></div><div class="ttdeci">static const trait_id trait_INSOMNIA(&quot;INSOMNIA&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a21395d70727e0cc20a2417b6aaea56e3"><div class="ttname"><a href="player_8cpp.html#a21395d70727e0cc20a2417b6aaea56e3">trait_EASYSLEEPER2</a></div><div class="ttdeci">static const trait_id trait_EASYSLEEPER2(&quot;EASYSLEEPER2&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a5e899e783cee2462a5571083c6abe22f"><div class="ttname"><a href="player_8cpp.html#a5e899e783cee2462a5571083c6abe22f">trait_EASYSLEEPER</a></div><div class="ttdeci">static const trait_id trait_EASYSLEEPER(&quot;EASYSLEEPER&quot;)</div></div>
<div class="ttc" id="apldata_8h_html_abffc2f52fa6cfeac2e388c6de0ac295bab32bd403b93dc6deffdab7af55e82596"><div class="ttname"><a href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295bab32bd403b93dc6deffdab7af55e82596">add_type::SLEEP</a></div><div class="ttdeci">@ SLEEP</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="character_8h_source.html#l00509">Character::comfort_response_t::aid</a>, <a class="el" href="character_8cpp_source.html#l05670">Character::base_comfort_value()</a>, <a class="el" href="player_8cpp.html#a978adf30232e0bcf1b9d38a73b8dd30e">bio_soporific</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l04439">Character::get_fatigue()</a>, <a class="el" href="character_8cpp_source.html#l07142">Character::get_stim()</a>, <a class="el" href="character_8cpp_source.html#l01876">Character::has_active_bionic()</a>, <a class="el" href="suffer_8cpp_source.html#l01938">Character::has_addiction()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8h_source.html#l00508">Character::comfort_response_t::level</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295bab32bd403b93dc6deffdab7af55e82596">SLEEP</a>, <a class="el" href="character_8h.html#abf088072c9ca5b676f7f7545bac9a137a287f44f35ecb230e8b997abaad077f46">tired</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="player_8cpp.html#a5e899e783cee2462a5571083c6abe22f">trait_EASYSLEEPER</a>, <a class="el" href="player_8cpp.html#a21395d70727e0cc20a2417b6aaea56e3">trait_EASYSLEEPER2</a>, <a class="el" href="player_8cpp.html#a01725f3a1c7d4a3c718b4a395b5ae41d">trait_INSOMNIA</a>, and <a class="el" href="player_8cpp.html#abf29a0f9f2b03dbf9baa8dd6af688d41">trait_WATERSLEEP</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l03939">can_sleep()</a>, and <a class="el" href="npcmove_8cpp_source.html#l00952">npc::execute_action()</a>.</p>

</div>
</div>
<a id="aa0f5d7ccefd81bd82dd35bb1c498edc9" name="aa0f5d7ccefd81bd82dd35bb1c498edc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0f5d7ccefd81bd82dd35bb1c498edc9">&#9670;&nbsp;</a></span>sort_armor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::sort_armor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws the UI and handles player input for the armor re-ordering window. </p>

<p class="definition">Definition at line <a class="el" href="armor__layers_8cpp_source.html#l00438">438</a> of file <a class="el" href="armor__layers_8cpp_source.html">armor_layers.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>{</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>    <span class="comment">/* Define required height of the right pane:</span></div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span><span class="comment">    * + 3 - horizontal lines;</span></div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span><span class="comment">    * + 1 - caption line;</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span><span class="comment">    * + 2 - innermost/outermost string lines;</span></div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span><span class="comment">    * + num_bp - sub-categories (torso, head, eyes, etc.);</span></div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span><span class="comment">    * + 1 - gap;</span></div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span><span class="comment">    * number of lines required for displaying all items is calculated dynamically,</span></div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span><span class="comment">    * because some items can have multiple entries (i.e. cover a few parts of body).</span></div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span><span class="comment">    */</span></div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span> </div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>    <span class="keywordtype">int</span> req_right_h = 3 + 1 + 2 + <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> + 1;</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> cover : <a class="code hl_variable" href="bodypart_8h.html#a089a199d69623f528a3883672f0a084e">all_body_parts</a> ) {</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;elem : <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a> ) {</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>            <span class="keywordflow">if</span>( elem.covers( cover ) ) {</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>                req_right_h++;</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>            }</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>        }</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    }</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span> </div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>    <span class="comment">/* Define required height of the mid pane:</span></div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span><span class="comment">    * + 3 - horizontal lines;</span></div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span><span class="comment">    * + 1 - caption line;</span></div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span><span class="comment">    * + 8 - general properties</span></div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span><span class="comment">    * + 13 - ASSUMPTION: max possible number of flags @ item</span></div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span><span class="comment">    * + num_bp+1 - warmth &amp; enc block</span></div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span><span class="comment">    */</span></div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> req_mid_h = 3 + 1 + 8 + 13 + <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> + 1;</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span> </div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>    <span class="keywordtype">int</span> win_h = 0;</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>    <span class="keywordtype">int</span> win_w = 0;</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    <a class="code hl_struct" href="structpoint.html">point</a> win;</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span> </div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>    <span class="keywordtype">int</span> cont_h   = 0;</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    <span class="keywordtype">int</span> left_w   = 0;</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>    <span class="keywordtype">int</span> right_w  = 0;</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>    <span class="keywordtype">int</span> middle_w = 0;</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span> </div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>    <span class="keywordtype">int</span> tabindex = <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a>;</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> tabcount = <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> + 1;</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span> </div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>    <span class="keywordtype">int</span> leftListIndex  = 0;</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>    <span class="keywordtype">int</span> leftListOffset = 0;</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>    <span class="keywordtype">int</span> selected       = -1;</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span> </div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>    <span class="keywordtype">int</span> rightListOffset = 0;</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span> </div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>    <span class="keywordtype">int</span> leftListLines = 0;</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>    <span class="keywordtype">int</span> rightListLines = 0;</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span> </div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>    std::vector&lt;std::list&lt;item&gt;::iterator&gt; tmp_worn;</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>    std::array&lt;std::string, 13&gt; armor_cat = {{</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Torso&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Head&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Eyes&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Mouth&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;L. Arm&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;R. Arm&quot;</span> ),</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;L. Hand&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;R. Hand&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;L. Leg&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;R. Leg&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;L. Foot&quot;</span> ),</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;R. Foot&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;All&quot;</span> )</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>        }</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>    };</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span> </div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>    <span class="comment">// Layout window</span></div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_sort_armor;</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>    <span class="comment">// Subwindows (between lines)</span></div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_sort_cat;</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_sort_left;</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_sort_middle;</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_sort_right;</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_encumb;</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span> </div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>    <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> <a class="code hl_namespace" href="namespaceui.html">ui</a>;</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>    <a class="code hl_namespace" href="namespaceui.html">ui</a>.on_screen_resize( [&amp;]( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code hl_namespace" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>        win_h = std::min( <a class="code hl_variable" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a>, std::max( { <a class="code hl_variable" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a>, req_right_h, req_mid_h } ) );</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>        win_w = <a class="code hl_variable" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> + ( <a class="code hl_variable" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - <a class="code hl_variable" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> ) * 3 / 4;</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>        win.<a class="code hl_variable" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> = <a class="code hl_variable" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> / 2 - win_w / 2;</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>        win.<a class="code hl_variable" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> = <a class="code hl_variable" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> / 2 - win_h / 2;</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>        cont_h = win_h - 4;</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>        left_w = ( win_w - 4 ) / 3;</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>        right_w = left_w;</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>        middle_w = ( win_w - 4 ) - left_w - right_w;</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>        leftListLines = rightListLines = cont_h - 2;</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>        w_sort_armor = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( win_h, win_w, win );</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>        w_sort_cat = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( 1, win_w - 4, win + <a class="code hl_struct" href="structpoint.html">point</a>( 2, 1 ) );</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>        w_sort_left = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( cont_h, left_w, win + <a class="code hl_struct" href="structpoint.html">point</a>( 1, 3 ) );</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>        w_sort_middle = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( cont_h - <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> - 1, middle_w,</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>                                            win + <a class="code hl_struct" href="structpoint.html">point</a>( 2 + left_w, 3 ) );</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>        w_sort_right = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( cont_h, right_w,</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>                                           win + <a class="code hl_struct" href="structpoint.html">point</a>( 3 + left_w + middle_w, 3 ) );</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>        w_encumb = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> + 1, middle_w,</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>                                       win + <a class="code hl_struct" href="structpoint.html">point</a>( 2 + left_w, -1 + 3 + cont_h - <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> ) );</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>        <a class="code hl_namespace" href="namespaceui.html">ui</a>.position_from_window( w_sort_armor );</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>    } );</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>    <a class="code hl_namespace" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span> </div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>    <a class="code hl_class" href="classinput__context.html">input_context</a> ctxt( <span class="stringliteral">&quot;SORT_ARMOR&quot;</span> );</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>    ctxt.register_cardinal();</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    ctxt.register_action( <span class="stringliteral">&quot;QUIT&quot;</span> );</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    ctxt.register_action( <span class="stringliteral">&quot;PREV_TAB&quot;</span> );</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>    ctxt.register_action( <span class="stringliteral">&quot;NEXT_TAB&quot;</span> );</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>    ctxt.register_action( <span class="stringliteral">&quot;MOVE_ARMOR&quot;</span> );</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    ctxt.register_action( <span class="stringliteral">&quot;CHANGE_SIDE&quot;</span> );</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>    ctxt.register_action( <span class="stringliteral">&quot;ASSIGN_INVLETS&quot;</span> );</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    ctxt.register_action( <span class="stringliteral">&quot;SORT_ARMOR&quot;</span> );</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>    ctxt.register_action( <span class="stringliteral">&quot;EQUIP_ARMOR&quot;</span> );</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>    ctxt.register_action( <span class="stringliteral">&quot;EQUIP_ARMOR_HERE&quot;</span> );</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    ctxt.register_action( <span class="stringliteral">&quot;REMOVE_ARMOR&quot;</span> );</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>    ctxt.register_action( <span class="stringliteral">&quot;USAGE_HELP&quot;</span> );</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>    ctxt.register_action( <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> );</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span> </div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>    <span class="keyword">auto</span> do_return_entry = []() {</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.assign_activity( <a class="code hl_variable" href="armor__layers_8cpp.html#ae518095eb6fc2c44425fb0796e548c1a">ACT_ARMOR_LAYERS</a>, 0 );</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.activity.auto_resume = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.activity.moves_left = INT_MAX;</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>    };</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span> </div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>    <span class="keywordtype">int</span> leftListSize = 0;</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>    <span class="keywordtype">int</span> rightListSize = 0;</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span> </div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>    <a class="code hl_namespace" href="namespaceui.html">ui</a>.on_redraw( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>        <a class="code hl_function" href="armor__layers_8cpp.html#a87a64470cab77bcdb6200de14f208655">draw_grid</a>( w_sort_armor, left_w, middle_w );</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span> </div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>        <a class="code hl_function" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w_sort_cat );</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>        <a class="code hl_function" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w_sort_left );</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>        <a class="code hl_function" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w_sort_middle );</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>        <a class="code hl_function" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w_sort_right );</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>        <a class="code hl_function" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w_encumb );</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span> </div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>        <span class="comment">// top bar</span></div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>        <a class="code hl_function" href="output_8cpp.html#aedec608a42edd33ec812f7769a9ed0c9">wprintz</a>( w_sort_cat, <a class="code hl_define" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Sort Armor&quot;</span> ) );</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>        <a class="code hl_function" href="output_8cpp.html#aedec608a42edd33ec812f7769a9ed0c9">wprintz</a>( w_sort_cat, <a class="code hl_define" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>, <span class="stringliteral">&quot;  &lt;&lt; %s &gt;&gt;&quot;</span>, armor_cat[tabindex] );</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>        <a class="code hl_function" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w_sort_cat, 0, 0, <a class="code hl_define" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>(</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>                         <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Press [&lt;color_yellow&gt;%s&lt;/color&gt;] for help.  &quot;</span></div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>                            <span class="stringliteral">&quot;Press [&lt;color_yellow&gt;%s&lt;/color&gt;] to change keybindings.&quot;</span> ),</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>                         ctxt.get_desc( <span class="stringliteral">&quot;USAGE_HELP&quot;</span> ),</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>                         ctxt.get_desc( <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> ) ) );</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span> </div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>        <span class="keywordflow">if</span>( leftListLines &gt; leftListSize ) {</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>            leftListOffset = 0;</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( leftListOffset + leftListLines &gt; leftListSize ) {</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>            leftListOffset = leftListSize - leftListLines;</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>        }</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>        <span class="keywordflow">if</span>( leftListOffset &gt; leftListIndex ) {</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>            leftListOffset = leftListIndex;</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( leftListOffset + leftListLines &lt;= leftListIndex ) {</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>            leftListOffset = leftListIndex + 1 - leftListLines;</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>        }</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span> </div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>        <span class="comment">// Left header</span></div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>        <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_sort_left, <a class="code hl_variable" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;(Innermost)&quot;</span> ) );</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>        <a class="code hl_function" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w_sort_left, 0, 0, <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Storage (%s)&quot;</span> ),</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>                     <a class="code hl_function" href="units__utility_8cpp.html#a5c2697027e2386941cdc4f6adbe8faac">volume_units_abbr</a>() ) );</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>        <span class="comment">// Left list</span></div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> max_drawindex = std::min( leftListSize - leftListOffset, leftListLines );</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> drawindex = 0; drawindex &lt; max_drawindex; drawindex++ ) {</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>            <span class="keywordtype">int</span> itemindex = leftListOffset + drawindex;</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span> </div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>            <span class="keywordflow">if</span>( itemindex == leftListIndex ) {</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>                <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_sort_left, <a class="code hl_struct" href="structpoint.html">point</a>( 0, drawindex + 1 ), <a class="code hl_define" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>, <span class="stringliteral">&quot;&gt;&gt;&quot;</span> );</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>            }</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span> </div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>            std::string worn_armor_name = tmp_worn[itemindex]-&gt;tname();</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>            item_penalties <span class="keyword">const</span> penalties =</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>                <a class="code hl_function" href="namespaceanonymous__namespace_02armor__layers_8cpp_03.html#a2e94b6058062109e294a70310b442785">get_item_penalties</a>( tmp_worn[itemindex], *<span class="keyword">this</span>, tabindex );</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span> </div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> offset_x = ( itemindex == selected ) ? 3 : 2;</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>            <a class="code hl_function" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( w_sort_left, <a class="code hl_struct" href="structpoint.html">point</a>( offset_x, drawindex + 1 ), left_w - offset_x - 3,</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>                            penalties.color_for_stacking_badness(), worn_armor_name );</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>            <a class="code hl_function" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w_sort_left, drawindex + 1, 0, <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>                         <a class="code hl_function" href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a>( tmp_worn[itemindex]-&gt;get_storage() ) );</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>        }</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span> </div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>        <span class="comment">// Left footer</span></div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>        <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_sort_left, <a class="code hl_struct" href="structpoint.html">point</a>( 0, cont_h - 1 ), <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;(Outermost)&quot;</span> ) );</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>        <span class="keywordflow">if</span>( leftListOffset + leftListLines &lt; leftListSize ) {</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>            <span class="comment">// TODO: replace it by right_print()</span></div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>            <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_sort_left, <a class="code hl_struct" href="structpoint.html">point</a>( left_w - <a class="code hl_function" href="catacharset_8cpp.html#a7616a48a4b48437c60b6683439a8f3e2">utf8_width</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;more&gt;&quot;</span> ) ), cont_h - 1 ),</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>                       <a class="code hl_define" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;more&gt;&quot;</span> ) );</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>        }</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>        <span class="keywordflow">if</span>( leftListSize == 0 ) {</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>            <span class="comment">// TODO: replace it by right_print()</span></div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>            <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_sort_left, <a class="code hl_struct" href="structpoint.html">point</a>( left_w - <a class="code hl_function" href="catacharset_8cpp.html#a7616a48a4b48437c60b6683439a8f3e2">utf8_width</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;empty&gt;&quot;</span> ) ), cont_h - 1 ),</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>                       <a class="code hl_define" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;empty&gt;&quot;</span> ) );</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>        }</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span> </div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>        <span class="comment">// Items stats</span></div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>        <span class="keywordflow">if</span>( leftListSize &gt; 0 ) {</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>            <a class="code hl_function" href="namespaceanonymous__namespace_02armor__layers_8cpp_03.html#a693ca1203a93c5063785654e4299b0f7">draw_mid_pane</a>( w_sort_middle, tmp_worn[leftListIndex], *<span class="keyword">this</span>, tabindex );</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>            <span class="comment">// NOLINTNEXTLINE(cata-use-named-point-constants)</span></div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>            <a class="code hl_function" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( w_sort_middle, <a class="code hl_struct" href="structpoint.html">point</a>( 1, 0 ), middle_w - 1, <a class="code hl_define" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>                            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Nothing to see here!&quot;</span> ) );</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>        }</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span> </div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>        <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_encumb, <a class="code hl_variable" href="point_8h.html#aff73fd5bf470a3db5291c5dec855bb71">point_east</a>, <a class="code hl_define" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Encumbrance and Warmth&quot;</span> ) );</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>        <a class="code hl_function" href="classplayer.html#a63f4a05fec27ce5d58d750f273ddf4ea">print_encumbrance</a>( w_encumb, -1, ( leftListSize &gt; 0 ) ? &amp;*tmp_worn[leftListIndex] : <span class="keyword">nullptr</span> );</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span> </div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>        <span class="comment">// Right header</span></div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>        <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_sort_right, <a class="code hl_variable" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;(Innermost)&quot;</span> ) );</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>        <a class="code hl_function" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w_sort_right, 0, 0, <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Encumbrance&quot;</span> ) );</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span> </div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;combine_bp = [<span class="keyword">this</span>]( <span class="keyword">const</span> <span class="keywordtype">int</span> cover ) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>            <span class="keywordflow">return</span> cover &gt; 3 &amp;&amp; cover % 2 == 0 &amp;&amp;</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>            <a class="code hl_function" href="armor__layers_8cpp.html#ad04de11efcd4e6e4f19cda10ada6068a">items_cover_bp</a>( *<span class="keyword">this</span>, cover ) == <a class="code hl_function" href="armor__layers_8cpp.html#ad04de11efcd4e6e4f19cda10ada6068a">items_cover_bp</a>( *<span class="keyword">this</span>, cover + 1 );</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>        };</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span> </div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>        <span class="comment">// Right list</span></div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>        rightListSize = 0;</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> cover = 0; cover &lt; <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a>; cover++ ) {</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>            rightListSize += <a class="code hl_function" href="armor__layers_8cpp.html#ad04de11efcd4e6e4f19cda10ada6068a">items_cover_bp</a>( *<span class="keyword">this</span>, cover ).size() + 1;</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>            <span class="keywordflow">if</span>( combine_bp( cover ) ) {</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>                cover++;</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>            }</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>        }</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>        <span class="keywordflow">if</span>( rightListLines &gt; rightListSize ) {</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>            rightListOffset = 0;</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( rightListOffset + rightListLines &gt; rightListSize ) {</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>            rightListOffset = rightListSize - rightListLines;</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>        }</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> cover = 0, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a> = 1, curr = 0; cover &lt; <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a>; cover++ ) {</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>            <span class="keywordtype">bool</span> combined = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>            <span class="keywordflow">if</span>( combine_bp( cover ) ) {</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>                combined = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>            }</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>            <span class="keywordflow">if</span>( curr &gt;= rightListOffset &amp;&amp; <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a> &lt;= rightListLines ) {</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>                <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_sort_right, <a class="code hl_struct" href="structpoint.html">point</a>( 1, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a> ), ( cover == tabindex ? <a class="code hl_define" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a> : <a class="code hl_define" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a> ),</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>                           <span class="stringliteral">&quot;%s:&quot;</span>, <a class="code hl_function" href="bodypart_8cpp.html#aeadf2675d36776a1f685d1d2dfa06e78">body_part_name_as_heading</a>( <a class="code hl_variable" href="bodypart_8h.html#a089a199d69623f528a3883672f0a084e">all_body_parts</a>[cover], combined ? 2 : 1 ) );</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>                <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>++;</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>            }</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>            curr++;</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>            <span class="keywordflow">for</span>( <a class="code hl_struct" href="structlayering__item__info.html">layering_item_info</a> &amp;elem : <a class="code hl_function" href="armor__layers_8cpp.html#ad04de11efcd4e6e4f19cda10ada6068a">items_cover_bp</a>( *<span class="keyword">this</span>, cover ) ) {</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>                <span class="keywordflow">if</span>( curr &gt;= rightListOffset &amp;&amp; <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a> &lt;= rightListLines ) {</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>                    <a class="code hl_class" href="classnc__color.html">nc_color</a> <a class="code hl_function" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> = elem.penalties.color_for_stacking_badness();</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>                    <a class="code hl_function" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( w_sort_right, <a class="code hl_struct" href="structpoint.html">point</a>( 2, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a> ), right_w - 5, <a class="code hl_function" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a>,</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>                                    elem.name );</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>                    <span class="keywordtype">char</span> <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a0dfb6f25f723da9360584c01aee74389">plus</a> = elem.penalties.badness() &gt; 0 ? <span class="charliteral">&#39;+&#39;</span> : <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>                    <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_sort_right, <a class="code hl_struct" href="structpoint.html">point</a>( right_w - 4, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a> ), <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <span class="stringliteral">&quot;%3d%c&quot;</span>,</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>                               elem.encumber, <a class="code hl_enumvalue" href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a0dfb6f25f723da9360584c01aee74389">plus</a> );</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>                    <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>++;</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>                }</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>                curr++;</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>            }</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>            <span class="keywordflow">if</span>( combined ) {</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>                cover++;</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>            }</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>        }</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span> </div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>        <span class="comment">// Right footer</span></div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>        <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_sort_right, <a class="code hl_struct" href="structpoint.html">point</a>( 0, cont_h - 1 ), <a class="code hl_define" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;(Outermost)&quot;</span> ) );</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>        <span class="keywordflow">if</span>( rightListOffset + rightListLines &lt; rightListSize ) {</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>            <span class="comment">// TODO: replace it by right_print()</span></div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>            <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_sort_right, <a class="code hl_struct" href="structpoint.html">point</a>( right_w - <a class="code hl_function" href="catacharset_8cpp.html#a7616a48a4b48437c60b6683439a8f3e2">utf8_width</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;more&gt;&quot;</span> ) ), cont_h - 1 ), <a class="code hl_define" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>,</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>                       <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;more&gt;&quot;</span> ) );</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>        }</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>        <span class="comment">// F5</span></div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_sort_cat );</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_sort_left );</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_sort_middle );</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_sort_right );</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_encumb );</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    } );</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span> </div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>    <span class="keywordtype">bool</span> exit = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>    <span class="keywordflow">while</span>( !exit ) {</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() ) {</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>            <span class="comment">// Totally hoisted this from advanced_inv</span></div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.moves &lt; 0 ) {</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>                do_return_entry();</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>            }</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>            <span class="comment">// Player is sorting NPC&#39;s armor here</span></div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos(), <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) &gt; 1 ) {</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>                <a class="code hl_function" href="classCreature.html#aa5da3a2470cbe9db76174216826307c1">add_msg_if_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s is too far to sort armor.&quot;</span> ), <a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a> );</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>            }</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a6b6a4fc8bbec9e138f0e3922bdbf2ce9">attitude_to</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u ) != <a class="code hl_enumvalue" href="classCreature.html#a8a475630b3289c468bd06cf114008217ac45ee12dee5d3dc56de7fe86e4484bea">Creature::A_FRIENDLY</a> ) {</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>                <a class="code hl_function" href="classCreature.html#aa5da3a2470cbe9db76174216826307c1">add_msg_if_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s is not friendly!&quot;</span> ), <a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a> );</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>            }</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>        }</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span> </div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>        <span class="comment">// Create ptr list of items to display</span></div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>        tmp_worn.clear();</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>        <span class="keywordflow">if</span>( tabindex == <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> ) {</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>            <span class="comment">// All</span></div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>.begin(); it != <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>.end(); ++it ) {</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>                tmp_worn.push_back( it );</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>            }</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>            <span class="comment">// bp_*</span></div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>            <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp = <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a><span class="keyword">&gt;</span>( tabindex );</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>.begin(); it != <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>.end(); ++it ) {</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>                <span class="keywordflow">if</span>( it-&gt;covers( bp ) ) {</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>                    tmp_worn.push_back( it );</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>                }</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>            }</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>        }</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>        leftListSize = tmp_worn.size();</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span> </div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>        <span class="comment">// Ensure leftListIndex is in bounds</span></div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>        <span class="keywordtype">int</span> new_index_upper_bound = std::max( 0, leftListSize - 1 );</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>        leftListIndex = std::min( leftListIndex, new_index_upper_bound );</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span> </div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>        <a class="code hl_function" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>        <span class="keyword">const</span> std::string <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = ctxt.handle_input();</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() &amp;&amp; <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;ASSIGN_INVLETS&quot;</span> ) {</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>            <span class="comment">// It doesn&#39;t make sense to assign invlets to NPC items</span></div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>        }</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span> </div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>        <span class="comment">// Helper function for moving items in the list</span></div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>        <span class="keyword">auto</span> shift_selected_item = [&amp;]() {</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>            <span class="keywordflow">if</span>( selected &gt;= 0 ) {</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>                std::list&lt;item&gt;::iterator to = tmp_worn[leftListIndex];</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>                <span class="keywordflow">if</span>( leftListIndex &gt; selected ) {</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>                    ++to;</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>                }</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>                <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>.splice( to, <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>, tmp_worn[selected] );</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>                selected = leftListIndex;</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>                <a class="code hl_function" href="classCharacter.html#ad67a790400ac88405241f279b566b89e">reset_encumbrance</a>();</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>            }</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>        };</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span> </div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;UP&quot;</span> &amp;&amp; leftListSize &gt; 0 ) {</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>            <span class="keywordflow">if</span>( leftListIndex &gt; 0 ) {</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>                leftListIndex--;</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>                <span class="keywordflow">if</span>( leftListIndex &lt; leftListOffset ) {</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>                    leftListOffset = leftListIndex;</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>                }</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>                leftListIndex = leftListSize - 1;</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>                <span class="keywordflow">if</span>( leftListLines &gt;= leftListSize ) {</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>                    leftListOffset = 0;</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>                    leftListOffset = leftListSize - leftListLines;</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>                }</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>            }</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span> </div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>            shift_selected_item();</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;DOWN&quot;</span> &amp;&amp; leftListSize &gt; 0 ) {</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>            <span class="keywordflow">if</span>( leftListIndex + 1 &lt; leftListSize ) {</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>                leftListIndex++;</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>                <span class="keywordflow">if</span>( leftListIndex &gt;= leftListOffset + leftListLines ) {</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>                    leftListOffset = leftListIndex + 1 - leftListLines;</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>                }</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>                leftListIndex = 0;</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>                leftListOffset = 0;</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>            }</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span> </div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>            shift_selected_item();</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;LEFT&quot;</span> ) {</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>            tabindex--;</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>            <span class="keywordflow">if</span>( tabindex &lt; 0 ) {</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>                tabindex = tabcount - 1;</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>            }</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>            leftListIndex = leftListOffset = 0;</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>            selected = -1;</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;RIGHT&quot;</span> ) {</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>            tabindex = ( tabindex + 1 ) % tabcount;</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>            leftListIndex = leftListOffset = 0;</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>            selected = -1;</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;NEXT_TAB&quot;</span> ) {</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>            <span class="keywordflow">if</span>( rightListOffset + rightListLines &lt; rightListSize ) {</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>                rightListOffset++;</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>            }</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;PREV_TAB&quot;</span> ) {</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>            <span class="keywordflow">if</span>( rightListOffset &gt; 0 ) {</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>                rightListOffset--;</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>            }</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;MOVE_ARMOR&quot;</span> ) {</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>            <span class="keywordflow">if</span>( selected &gt;= 0 ) {</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>                selected = -1;</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>                selected = leftListIndex;</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>            }</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CHANGE_SIDE&quot;</span> ) {</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>            <span class="keywordflow">if</span>( leftListIndex &lt; leftListSize &amp;&amp; tmp_worn[leftListIndex]-&gt;is_sided() ) {</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>                <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.query_yn( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Swap side for %s?&quot;</span> ),</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>                                   <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( tmp_worn[leftListIndex]-&gt;tname(),</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>                                             tmp_worn[leftListIndex]-&gt;color_in_inventory() ) ) ) {</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>                    <a class="code hl_function" href="classCharacter.html#a8c67a9a553e858645037e7a5abe6a41a">change_side</a>( *tmp_worn[leftListIndex] );</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>                }</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>            }</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SORT_ARMOR&quot;</span> ) {</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>            <span class="comment">// Copy to a vector because stable_sort requires random-access</span></div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>            <span class="comment">// iterators</span></div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>            std::vector&lt;item&gt; worn_copy( <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>.begin(), <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>.end() );</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>            std::stable_sort( worn_copy.begin(), worn_copy.end(),</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>            []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; l, <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; r ) {</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>                return l.get_layer() &lt; r.get_layer();</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>            }</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>                            );</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>            std::copy( worn_copy.begin(), worn_copy.end(), <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>.begin() );</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>            <a class="code hl_function" href="classCharacter.html#ad67a790400ac88405241f279b566b89e">reset_encumbrance</a>();</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;EQUIP_ARMOR&quot;</span> ) {</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>            <span class="comment">// filter inventory for all items that are armor/clothing</span></div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>            <a class="code hl_class" href="classitem__location.html">item_location</a> loc = <a class="code hl_function" href="namespacegame__menus_1_1inv.html#af2bce96088c12c8ef1fe5b7037ce4710">game_menus::inv::wear</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span> </div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>            <span class="comment">// only equip if something valid selected!</span></div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>            <span class="keywordflow">if</span>( loc ) {</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>                <span class="comment">// wear the item</span></div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>                <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;std::list&lt;item&gt;::iterator</a>&gt; new_equip_it =</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>                    <a class="code hl_function" href="classplayer.html#a149e1926d7fef1471ff7c47d6347ec92">wear</a>( *loc.<a class="code hl_function" href="classitem__location.html#a61b090f9b4c37858e4a7b85e9265f34d">obtain</a>( *<span class="keyword">this</span> ) );</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>                <span class="keywordflow">if</span>( new_equip_it ) {</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>                    <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp = <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a><span class="keyword">&gt;</span>( tabindex );</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>                    <span class="keywordflow">if</span>( tabindex == <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> || ( **new_equip_it ).covers( bp ) ) {</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>                        <span class="comment">// Set ourselves up to be pointing at the new item</span></div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>                        <span class="comment">// TODO: This doesn&#39;t work yet because we don&#39;t save our</span></div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>                        <span class="comment">// state through other activities, but that&#39;s a thing</span></div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>                        <span class="comment">// that would be nice to do.</span></div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>                        leftListIndex =</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>                            std::count_if( <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>.begin(), *new_equip_it,</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>                        [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; i ) {</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>                            return tabindex == num_bp || i.covers( bp );</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>                        } );</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>                    }</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>                    <span class="comment">// TODO: Pass the reason here</span></div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>                    <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Can&#39;t put this on!&quot;</span> ) );</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>                }</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>            }</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;EQUIP_ARMOR_HERE&quot;</span> ) {</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>            <span class="comment">// filter inventory for all items that are armor/clothing</span></div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>            <a class="code hl_class" href="classitem__location.html">item_location</a> loc = <a class="code hl_function" href="namespacegame__menus_1_1inv.html#af2bce96088c12c8ef1fe5b7037ce4710">game_menus::inv::wear</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span> </div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>            <span class="comment">// only equip if something valid selected!</span></div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>            <span class="keywordflow">if</span>( loc ) {</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>                <span class="comment">// wear the item</span></div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>                <span class="keywordflow">if</span>( <a class="code hl_class" href="classcata_1_1optional.html">cata::optional</a>&lt;std::list&lt;item&gt;::iterator&gt; new_equip_it =</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>                        <a class="code hl_function" href="classplayer.html#a149e1926d7fef1471ff7c47d6347ec92">wear</a>( *loc.<a class="code hl_function" href="classitem__location.html#a61b090f9b4c37858e4a7b85e9265f34d">obtain</a>( *<span class="keyword">this</span> ) ) ) {</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>                    <span class="comment">// save iterator to cursor&#39;s position</span></div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>                    std::list&lt;item&gt;::iterator cursor_it = tmp_worn[leftListIndex];</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>                    <span class="comment">// reorder `worn` vector to place new item at cursor</span></div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>                    <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>.splice( cursor_it, <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>, *new_equip_it );</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>                    <span class="comment">// TODO: Pass the reason here</span></div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>                    <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Can&#39;t put this on!&quot;</span> ) );</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>                }</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>            }</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;REMOVE_ARMOR&quot;</span> ) {</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>            <span class="comment">// query (for now)</span></div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>            <span class="keywordflow">if</span>( leftListIndex &lt; leftListSize ) {</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>                <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.query_yn( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Remove selected armor?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>                    do_return_entry();</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>                    <span class="comment">// remove the item, asking to drop it if necessary</span></div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>                    <a class="code hl_function" href="classplayer.html#ad39c9459b63bca24dc3c3d68b41c0e87">takeoff</a>( *tmp_worn[leftListIndex] );</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>                    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_activity( <a class="code hl_variable" href="armor__layers_8cpp.html#ae518095eb6fc2c44425fb0796e548c1a">ACT_ARMOR_LAYERS</a> ) ) {</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>                        <span class="comment">// An activity has been created to take off the item;</span></div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>                        <span class="comment">// we must surrender control until it is done.</span></div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>                    }</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.cancel_activity();</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>                    selected = -1;</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>                }</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>            }</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;ASSIGN_INVLETS&quot;</span> ) {</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>            <span class="comment">// prompt first before doing this (yes, yes, more popups...)</span></div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Reassign invlets for armor?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>                <span class="comment">// Start with last armor (the most unimportant one?)</span></div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>                <span class="keyword">auto</span> iiter = <a class="code hl_variable" href="inventory_8h.html#a30cdf5c616c63b894825e5e92a5b1e5c">inv_chars</a>.rbegin();</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>                <span class="keyword">auto</span> witer = <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>.rbegin();</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>                <span class="keywordflow">while</span>( witer != <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>.rend() &amp;&amp; iiter != <a class="code hl_variable" href="inventory_8h.html#a30cdf5c616c63b894825e5e92a5b1e5c">inv_chars</a>.rend() ) {</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>                    <span class="keyword">const</span> <span class="keywordtype">char</span> invlet = *iiter;</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>                    <a class="code hl_class" href="classitem.html">item</a> &amp;w = *witer;</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>                    <span class="keywordflow">if</span>( invlet == w.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> ) {</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>                        ++witer;</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a9a5d53916ea06db1f64575e4c91a1653">invlet_to_item</a>( invlet ) != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>                        ++iiter;</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>                        <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#aa6048276bd408eea6a3229705bffc4c0">reassign_item</a>( w, invlet );</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>                        ++witer;</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>                        ++iiter;</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>                    }</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>                }</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>            }</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;USAGE_HELP&quot;</span> ) {</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>            <a class="code hl_function" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>(</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Use the [&lt;color_yellow&gt;arrow- or keypad keys&lt;/color&gt;] to navigate the left list.\n&quot;</span></div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>                   <span class="stringliteral">&quot;[&lt;color_yellow&gt;%s&lt;/color&gt;] to select highlighted armor for reordering.\n&quot;</span></div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>                   <span class="stringliteral">&quot;[&lt;color_yellow&gt;%s&lt;/color&gt;] / [&lt;color_yellow&gt;%s&lt;/color&gt;] to scroll the right list.\n&quot;</span></div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>                   <span class="stringliteral">&quot;[&lt;color_yellow&gt;%s&lt;/color&gt;] to assign special inventory letters to clothing.\n&quot;</span></div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>                   <span class="stringliteral">&quot;[&lt;color_yellow&gt;%s&lt;/color&gt;] to change the side on which item is worn.\n&quot;</span></div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>                   <span class="stringliteral">&quot;[&lt;color_yellow&gt;%s&lt;/color&gt;] to sort armor into natural layer order.\n&quot;</span></div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>                   <span class="stringliteral">&quot;[&lt;color_yellow&gt;%s&lt;/color&gt;] to equip a new item.\n&quot;</span></div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>                   <span class="stringliteral">&quot;[&lt;color_yellow&gt;%s&lt;/color&gt;] to equip a new item at the currently selected position.\n&quot;</span></div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>                   <span class="stringliteral">&quot;[&lt;color_yellow&gt;%s&lt;/color&gt;] to remove selected armor from oneself.\n&quot;</span></div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>                   <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>                   <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>                   <span class="stringliteral">&quot;Encumbrance explanation:\n&quot;</span></div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>                   <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>                   <span class="stringliteral">&quot;&lt;color_light_gray&gt;The first number is the summed encumbrance from all clothing &quot;</span></div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>                   <span class="stringliteral">&quot;on that bodypart.  The second number is an additional encumbrance penalty &quot;</span></div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>                   <span class="stringliteral">&quot;caused by wearing either multiple items on one of the bodypart&#39;s layers or &quot;</span></div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>                   <span class="stringliteral">&quot;wearing items the wrong way (e.g. a shirt over a backpack).  &quot;</span></div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>                   <span class="stringliteral">&quot;The sum of these values is the effective encumbrance value &quot;</span></div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>                   <span class="stringliteral">&quot;your character has for that bodypart.&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>                ctxt.get_desc( <span class="stringliteral">&quot;MOVE_ARMOR&quot;</span> ),</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>                ctxt.get_desc( <span class="stringliteral">&quot;PREV_TAB&quot;</span> ),</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>                ctxt.get_desc( <span class="stringliteral">&quot;NEXT_TAB&quot;</span> ),</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>                ctxt.get_desc( <span class="stringliteral">&quot;ASSIGN_INVLETS&quot;</span> ),</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>                ctxt.get_desc( <span class="stringliteral">&quot;CHANGE_SIDE&quot;</span> ),</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>                ctxt.get_desc( <span class="stringliteral">&quot;SORT_ARMOR&quot;</span> ),</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>                ctxt.get_desc( <span class="stringliteral">&quot;EQUIP_ARMOR&quot;</span> ),</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>                ctxt.get_desc( <span class="stringliteral">&quot;EQUIP_ARMOR_HERE&quot;</span> ),</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>                ctxt.get_desc( <span class="stringliteral">&quot;REMOVE_ARMOR&quot;</span> )</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>            );</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>            exit = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>        }</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>    }</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>}</div>
<div class="ttc" id="aarmor__layers_8cpp_html_a87a64470cab77bcdb6200de14f208655"><div class="ttname"><a href="armor__layers_8cpp.html#a87a64470cab77bcdb6200de14f208655">draw_grid</a></div><div class="ttdeci">static void draw_grid(const catacurses::window &amp;w, int left_pane_w, int mid_pane_w)</div><div class="ttdef"><b>Definition:</b> <a href="armor__layers_8cpp_source.html#l00417">armor_layers.cpp:417</a></div></div>
<div class="ttc" id="aarmor__layers_8cpp_html_ad04de11efcd4e6e4f19cda10ada6068a"><div class="ttname"><a href="armor__layers_8cpp.html#ad04de11efcd4e6e4f19cda10ada6068a">items_cover_bp</a></div><div class="ttdeci">static std::vector&lt; layering_item_info &gt; items_cover_bp(const Character &amp;c, int bp)</div><div class="ttdef"><b>Definition:</b> <a href="armor__layers_8cpp_source.html#l00403">armor_layers.cpp:403</a></div></div>
<div class="ttc" id="aarmor__layers_8cpp_html_ae518095eb6fc2c44425fb0796e548c1a"><div class="ttname"><a href="armor__layers_8cpp.html#ae518095eb6fc2c44425fb0796e548c1a">ACT_ARMOR_LAYERS</a></div><div class="ttdeci">static const activity_id ACT_ARMOR_LAYERS(&quot;ACT_ARMOR_LAYERS&quot;)</div></div>
<div class="ttc" id="aclassCharacter_html_a6b6a4fc8bbec9e138f0e3922bdbf2ce9"><div class="ttname"><a href="classCharacter.html#a6b6a4fc8bbec9e138f0e3922bdbf2ce9">Character::attitude_to</a></div><div class="ttdeci">Attitude attitude_to(const Creature &amp;other) const override</div><div class="ttdoc">Attitude (of this creature) towards another creature.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l10339">character.cpp:10339</a></div></div>
<div class="ttc" id="aclassCharacter_html_a8c67a9a553e858645037e7a5abe6a41a"><div class="ttname"><a href="classCharacter.html#a8c67a9a553e858645037e7a5abe6a41a">Character::change_side</a></div><div class="ttdeci">bool change_side(item &amp;it, bool interactive=true)</div><div class="ttdoc">Swap side on which item is worn; returns false on fail.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03679">character.cpp:3679</a></div></div>
<div class="ttc" id="aclassCreature_html_a8a475630b3289c468bd06cf114008217ac45ee12dee5d3dc56de7fe86e4484bea"><div class="ttname"><a href="classCreature.html#a8a475630b3289c468bd06cf114008217ac45ee12dee5d3dc56de7fe86e4484bea">Creature::A_FRIENDLY</a></div><div class="ttdeci">@ A_FRIENDLY</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00171">creature.h:171</a></div></div>
<div class="ttc" id="aclassCreature_html_aa5da3a2470cbe9db76174216826307c1"><div class="ttname"><a href="classCreature.html#aa5da3a2470cbe9db76174216826307c1">Creature::add_msg_if_npc</a></div><div class="ttdeci">virtual void add_msg_if_npc(const std::string &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00635">creature.h:635</a></div></div>
<div class="ttc" id="aclassitem__location_html_a61b090f9b4c37858e4a7b85e9265f34d"><div class="ttname"><a href="classitem__location.html#a61b090f9b4c37858e4a7b85e9265f34d">item_location::obtain</a></div><div class="ttdeci">item_location obtain(Character &amp;ch, int qty=-1)</div><div class="ttdoc">Move an item from the location to the character inventory.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00744">item_location.cpp:744</a></div></div>
<div class="ttc" id="aclassplayer_html_a149e1926d7fef1471ff7c47d6347ec92"><div class="ttname"><a href="classplayer.html#a149e1926d7fef1471ff7c47d6347ec92">player::wear</a></div><div class="ttdeci">cata::optional&lt; std::list&lt; item &gt;::iterator &gt; wear(int pos, bool interactive=true)</div><div class="ttdoc">Wear item; returns false on fail.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l02873">player.cpp:2873</a></div></div>
<div class="ttc" id="aclassplayer_html_a63f4a05fec27ce5d58d750f273ddf4ea"><div class="ttname"><a href="classplayer.html#a63f4a05fec27ce5d58d750f273ddf4ea">player::print_encumbrance</a></div><div class="ttdeci">void print_encumbrance(const catacurses::window &amp;win, int line=-1, const item *selected_clothing=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="player__display_8cpp_source.html#l00094">player_display.cpp:94</a></div></div>
<div class="ttc" id="aclassplayer_html_ad39c9459b63bca24dc3c3d68b41c0e87"><div class="ttname"><a href="classplayer.html#ad39c9459b63bca24dc3c3d68b41c0e87">player::takeoff</a></div><div class="ttdeci">bool takeoff(item &amp;it, std::list&lt; item &gt; *res=nullptr)</div><div class="ttdoc">Takes off an item, returning false on fail.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l02977">player.cpp:2977</a></div></div>
<div class="ttc" id="aeditmap_8cpp_html_a025a5c063205294df20818edc4cfe355"><div class="ttname"><a href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a></div><div class="ttdeci">static nc_color color(const T_t &amp;t)</div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02armor__layers_8cpp_03_html_a2e94b6058062109e294a70310b442785"><div class="ttname"><a href="namespaceanonymous__namespace_02armor__layers_8cpp_03.html#a2e94b6058062109e294a70310b442785">anonymous_namespace{armor_layers.cpp}::get_item_penalties</a></div><div class="ttdeci">item_penalties get_item_penalties(std::list&lt; item &gt;::const_iterator worn_item_it, const Character &amp;c, int tabindex)</div><div class="ttdef"><b>Definition:</b> <a href="armor__layers_8cpp_source.html#l00083">armor_layers.cpp:83</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02armor__layers_8cpp_03_html_a693ca1203a93c5063785654e4299b0f7"><div class="ttname"><a href="namespaceanonymous__namespace_02armor__layers_8cpp_03.html#a693ca1203a93c5063785654e4299b0f7">anonymous_namespace{armor_layers.cpp}::draw_mid_pane</a></div><div class="ttdeci">void draw_mid_pane(const catacurses::window &amp;w_sort_middle, std::list&lt; item &gt;::const_iterator const worn_item_it, const Character &amp;c, int tabindex)</div><div class="ttdef"><b>Definition:</b> <a href="armor__layers_8cpp_source.html#l00166">armor_layers.cpp:166</a></div></div>
<div class="ttc" id="anamespacegame__menus_1_1inv_html_af2bce96088c12c8ef1fe5b7037ce4710"><div class="ttname"><a href="namespacegame__menus_1_1inv.html#af2bce96088c12c8ef1fe5b7037ce4710">game_menus::inv::wear</a></div><div class="ttdeci">item_location wear(player &amp;p)</div><div class="ttdoc">Choose item to wear.</div><div class="ttdef"><b>Definition:</b> <a href="game__inventory_8cpp_source.html#l00358">game_inventory.cpp:358</a></div></div>
<div class="ttc" id="anamespacesign_html_a15b7528752011adf8078cdaf330a21a8a0dfb6f25f723da9360584c01aee74389"><div class="ttname"><a href="namespacesign.html#a15b7528752011adf8078cdaf330a21a8a0dfb6f25f723da9360584c01aee74389">sign::plus</a></div><div class="ttdeci">@ plus</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format_8h_source.html#l01362">fmtlib_format.h:1362</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a297635a05a44e1f896fb829a0474f586"><div class="ttname"><a href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a></div><div class="ttdeci">std::string format_volume(const units::volume &amp;volume)</div><div class="ttdoc">Convert, round up and format a volume.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01974">output.cpp:1974</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_aa6093ccb0ebc7f7ee1f11edd5cc2711c"><div class="ttname"><a href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a></div><div class="ttdeci">int right_print(const catacurses::window &amp;w, const int line, const int right_indent, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00461">output.cpp:461</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_aedec608a42edd33ec812f7769a9ed0c9"><div class="ttname"><a href="output_8cpp.html#aedec608a42edd33ec812f7769a9ed0c9">wprintz</a></div><div class="ttdeci">void wprintz(const catacurses::window &amp;w, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l02043">output.cpp:2043</a></div></div>
<div class="ttc" id="astructlayering__item__info_html"><div class="ttname"><a href="structlayering__item__info.html">layering_item_info</a></div><div class="ttdef"><b>Definition:</b> <a href="armor__layers_8cpp_source.html#l00385">armor_layers.cpp:385</a></div></div>
<div class="ttc" id="astructpoint_html_a9a82ca9504acabb1e30569f89c805471"><div class="ttname"><a href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">point::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00039">point.h:39</a></div></div>
<div class="ttc" id="astructpoint_html_ad679b07fb69d55f5ad454d0f1f2891d5"><div class="ttname"><a href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">point::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00038">point.h:38</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_a5c2697027e2386941cdc4f6adbe8faac"><div class="ttname"><a href="units__utility_8cpp.html#a5c2697027e2386941cdc4f6adbe8faac">volume_units_abbr</a></div><div class="ttdeci">const char * volume_units_abbr()</div><div class="ttdoc">Create an abbreviated units label for a volume value.</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00037">units_utility.cpp:37</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="creature_8h_source.html#l00171">Creature::A_FRIENDLY</a>, <a class="el" href="armor__layers_8cpp.html#ae518095eb6fc2c44425fb0796e548c1a">ACT_ARMOR_LAYERS</a>, <a class="el" href="dialogue_8h_source.html#l00036">action</a>, <a class="el" href="creature_8h_source.html#l00635">Creature::add_msg_if_npc()</a>, <a class="el" href="bodypart_8h_source.html#l00082">all_body_parts</a>, <a class="el" href="character_8cpp_source.html#l10339">Character::attitude_to()</a>, <a class="el" href="bodypart_8cpp_source.html#l00341">body_part_name_as_heading()</a>, <a class="el" href="color_8h_source.html#l00029">c_light_blue</a>, <a class="el" href="color_8h_source.html#l00019">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00018">c_white</a>, <a class="el" href="color_8h_source.html#l00032">c_yellow</a>, <a class="el" href="character_8cpp_source.html#l03679">Character::change_side()</a>, <a class="el" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color()</a>, <a class="el" href="color_8cpp_source.html#l00669">colorize()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00417">draw_grid()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00166">anonymous_namespace{armor_layers.cpp}::draw_mid_pane()</a>, <a class="el" href="output_8cpp_source.html#l00299">fold_and_print()</a>, <a class="el" href="output_8cpp_source.html#l01974">format_volume()</a>, <a class="el" href="output_8cpp_source.html#l00056">FULL_SCREEN_HEIGHT</a>, <a class="el" href="output_8cpp_source.html#l00055">FULL_SCREEN_WIDTH</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="input_8cpp_source.html#l00756">input_context::get_desc()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00083">anonymous_namespace{armor_layers.cpp}::get_item_penalties()</a>, <a class="el" href="input_8cpp_source.html#l00854">input_context::handle_input()</a>, <a class="el" href="character_8h_source.html#l01583">Character::inv</a>, <a class="el" href="inventory_8h.html#a30cdf5c616c63b894825e5e92a5b1e5c">inv_chars</a>, <a class="el" href="item_8h_source.html#l02232">item::invlet</a>, <a class="el" href="character_8cpp_source.html#l02350">Character::invlet_to_item()</a>, <a class="el" href="player_8h_source.html#l00131">is_npc()</a>, <a class="el" href="player_8h_source.html#l00114">is_player()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00403">items_cover_bp()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="output_8cpp_source.html#l02035">mvwprintz()</a>, <a class="el" href="character_8h_source.html#l01568">Character::name</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00034">catacurses::newwin()</a>, <a class="el" href="bodypart_8h_source.html#l00052">num_bp</a>, <a class="el" href="item__location_8cpp_source.html#l00744">item_location::obtain()</a>, <a class="el" href="fmtlib__format_8h_source.html#l01362">sign::plus</a>, <a class="el" href="point_8h_source.html#l00278">point_east</a>, <a class="el" href="point_8h_source.html#l00274">point_zero</a>, <a class="el" href="output_8cpp_source.html#l00764">popup()</a>, <a class="el" href="output_8h_source.html#l00500">popup_getkey()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="player__display_8cpp_source.html#l00094">print_encumbrance()</a>, <a class="el" href="player_8cpp_source.html#l04405">query_yn()</a>, <a class="el" href="inventory_8cpp_source.html#l01195">inventory::reassign_item()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00285">ui_manager::redraw()</a>, <a class="el" href="input_8cpp_source.html#l00676">input_context::register_action()</a>, <a class="el" href="input_8cpp_source.html#l00936">input_context::register_cardinal()</a>, <a class="el" href="character_8cpp_source.html#l03614">Character::reset_encumbrance()</a>, <a class="el" href="output_8cpp_source.html#l00461">right_print()</a>, <a class="el" href="coordinates_8h_source.html#l00519">rl_dist()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="player_8cpp_source.html#l02977">takeoff()</a>, <a class="el" href="output_8cpp_source.html#l00047">TERMX</a>, <a class="el" href="output_8cpp_source.html#l00048">TERMY</a>, <a class="el" href="output_8cpp_source.html#l00214">trim_and_print()</a>, <a class="el" href="catacharset_8cpp_source.html#l00142">utf8_width()</a>, <a class="el" href="units__utility_8cpp_source.html#l00037">volume_units_abbr()</a>, <a class="el" href="player_8cpp_source.html#l02873">wear()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00358">game_menus::inv::wear()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00053">catacurses::werase()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00043">catacurses::wnoutrefresh()</a>, <a class="el" href="character_8h_source.html#l01571">Character::worn</a>, <a class="el" href="output_8cpp_source.html#l02043">wprintz()</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__handlers_8cpp_source.html#l03201">activity_handlers::armor_layers_do_turn()</a>, <a class="el" href="handle__action_8cpp_source.html#l01514">game::handle_action()</a>, and <a class="el" href="game_8cpp_source.html#l05543">game::npc_menu()</a>.</p>

</div>
</div>
<a id="ade9f2154bc9711f924fc216a46162a74" name="ade9f2154bc9711f924fc216a46162a74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade9f2154bc9711f924fc216a46162a74">&#9670;&nbsp;</a></span>stability_roll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float player::stability_roll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns value of player's stable footing. </p>
Strength improves player stability roll Perception slightly improves player stability roll Dexterity slightly improves player stability roll Melee improves player stability roll 
<p>Implements <a class="el" href="classCreature.html#a5410043563487884142ddc5b6706f8ae">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00571">571</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>{<span class="comment"></span></div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span><span class="comment">    /** @EFFECT_STR improves player stability roll */</span></div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span><span class="comment"></span> </div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span><span class="comment">    /** @EFFECT_PER slightly improves player stability roll */</span></div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span><span class="comment"></span> </div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span><span class="comment">    /** @EFFECT_DEX slightly improves player stability roll */</span></div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span><span class="comment"></span> </div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span><span class="comment">    /** @EFFECT_MELEE improves player stability roll */</span></div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classplayer.html#a9d3f175e2fc15015c26e0e28a8678c52">get_melee</a>() + <a class="code hl_function" href="classCharacter.html#a5aba683ccf77cb560a0a932308289bd9">get_str</a>() + ( <a class="code hl_function" href="classCharacter.html#abb0a1847902e6db0bd3c923ee8187702">get_per</a>() / 3.0f ) + ( <a class="code hl_function" href="classCharacter.html#a34a927d0f161ac92ab0d462397828bd5">get_dex</a>() / 4.0f );</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>}</div>
<div class="ttc" id="aclassplayer_html_a9d3f175e2fc15015c26e0e28a8678c52"><div class="ttname"><a href="classplayer.html#a9d3f175e2fc15015c26e0e28a8678c52">player::get_melee</a></div><div class="ttdeci">float get_melee() const override</div><div class="ttdoc">Returns melee skill level, to be used to throttle dodge practice.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04297">player.cpp:4297</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l04052">Character::get_dex()</a>, <a class="el" href="player_8cpp_source.html#l04297">get_melee()</a>, <a class="el" href="character_8cpp_source.html#l04056">Character::get_per()</a>, and <a class="el" href="character_8cpp_source.html#l04048">Character::get_str()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l00964">on_hit()</a>.</p>

</div>
</div>
<a id="aff69a2ab90c5c4c209d40ddaa5f345f2" name="aff69a2ab90c5c4c209d40ddaa5f345f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff69a2ab90c5c4c209d40ddaa5f345f2">&#9670;&nbsp;</a></span>start_craft()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem__location.html">item_location</a> player::start_craft </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcraft__command.html">craft_command</a> &amp;&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>loc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>consume components and create an active, in progress craft containing them </p>

<p class="definition">Definition at line <a class="el" href="crafting_8cpp_source.html#l00718">718</a> of file <a class="el" href="crafting_8cpp_source.html">crafting.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>{</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>    <span class="keywordflow">if</span>( command.<a class="code hl_function" href="classcraft__command.html#a101533401af890cacd42f2b625e82f81">empty</a>() ) {</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Attempted to start craft with empty command&quot;</span> );</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>        <span class="keywordflow">return</span> <a class="code hl_class" href="classitem__location.html">item_location</a>();</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>    }</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span> </div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>    <a class="code hl_class" href="classitem.html">item</a> <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a> = command.<a class="code hl_function" href="classcraft__command.html#a054bdeb5ecdf9586a0d4242742de45a7">create_in_progress_craft</a>();</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>    <span class="keyword">const</span> <a class="code hl_class" href="classrecipe.html">recipe</a> &amp;making = <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.get_making();</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( command.<a class="code hl_function" href="classcraft__command.html#ad20604aef3405745c0d8dc3818a86a09">get_skill_id</a>() ) &gt; making.<a class="code hl_variable" href="classrecipe.html#a10e4e7582e7174825ead3d07c3e4fca1">difficulty</a> * 1.25 ) {</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>        <a class="code hl_function" href="classplayer.html#a38b184076f4431dd9f0a2b5a2ef42544">handle_skill_warning</a>( command.<a class="code hl_function" href="classcraft__command.html#ad20604aef3405745c0d8dc3818a86a09">get_skill_id</a>(), <span class="keyword">true</span> );</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>    }</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span> </div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>    <span class="comment">// In case we were wearing something just consumed</span></div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.components.empty() ) {</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>        <a class="code hl_function" href="classCharacter.html#ad67a790400ac88405241f279b566b89e">reset_encumbrance</a>();</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>    }</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span> </div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>    <a class="code hl_struct" href="structbench__location.html">bench_location</a> bench = <a class="code hl_function" href="crafting_8cpp.html#a1d2a7cb3089df9947e11010194801609">find_best_bench</a>( *<span class="keyword">this</span>, <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a> );</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>    std::pair&lt;bench_type, float&gt; best_found_bench = <a class="code hl_function" href="crafting_8cpp.html#a6ef89b8a3dd653ead46ace741f2a272b">best_bench_here</a>( <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>, bench.<a class="code hl_variable" href="structbench__location.html#aea91597de713d6272ac0482a778a49ef">position</a>,</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>            bench.<a class="code hl_variable" href="structbench__location.html#a798af50900ad9c46f5fe40d3b5367416">type</a> == <a class="code hl_enumvalue" href="crafting_8h.html#aa5f7f30378264d4adcf8b4a0ceb3b207a6c8d61508321ac444175370124200350">bench_type::hands</a> );</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>    <span class="keywordflow">if</span>( best_found_bench.second &lt; 1.0f ) {</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;in progress craft&quot;</span>,</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>                                             <span class="stringliteral">&quot;You can&#39;t hold %s in your hands and there is no good work surface nearby.&quot;</span> ), <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.tname() );</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>    }</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span> </div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>    <span class="comment">// Regardless of whether a workbench exists or not,</span></div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>    <span class="comment">// we still craft in inventory or under player, because QoL.</span></div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>    <a class="code hl_class" href="classitem__location.html">item_location</a> craft_in_world = <a class="code hl_function" href="crafting_8cpp.html#a10d830fe02dce42ca9a526543c0956c1">set_item_inventory</a>( *<span class="keyword">this</span>, <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a> );</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span> </div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>    <a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="crafting_8cpp.html#a998c1f0ad926f40dc54ed31ef34e105e">ACT_CRAFT</a> );</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.push_back( craft_in_world );</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a13afed9baf3755048523a4ba9b896216">coords</a>.push_back( bench.<a class="code hl_variable" href="structbench__location.html#aea91597de713d6272ac0482a778a49ef">position</a> );</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.push_back( command.<a class="code hl_function" href="classcraft__command.html#a02ecc7bd198aad709e91a39897aca28a">is_long</a>() );</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>    <span class="comment">// Ugly</span></div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.push_back( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( bench.<a class="code hl_variable" href="structbench__location.html#a798af50900ad9c46f5fe40d3b5367416">type</a> ) );</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span> </div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>    <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>(</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>        <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;in progress craft&quot;</span>, <span class="stringliteral">&quot;You start working on the %s.&quot;</span> ),</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>        <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;in progress craft&quot;</span>, <span class="stringliteral">&quot;&lt;npcname&gt; starts working on the %s.&quot;</span> ),</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>        <a class="code hl_function" href="classplayer.html#a7aa852d005e0aea1715af75ba518c489">craft</a>.tname() );</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>    <span class="keywordflow">return</span> craft_in_world;</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>}</div>
<div class="ttc" id="aclasscraft__command_html_a02ecc7bd198aad709e91a39897aca28a"><div class="ttname"><a href="classcraft__command.html#a02ecc7bd198aad709e91a39897aca28a">craft_command::is_long</a></div><div class="ttdeci">bool is_long() const</div><div class="ttdef"><b>Definition:</b> <a href="craft__command_8h_source.html#l00082">craft_command.h:82</a></div></div>
<div class="ttc" id="aclasscraft__command_html_a054bdeb5ecdf9586a0d4242742de45a7"><div class="ttname"><a href="classcraft__command.html#a054bdeb5ecdf9586a0d4242742de45a7">craft_command::create_in_progress_craft</a></div><div class="ttdeci">item create_in_progress_craft()</div><div class="ttdoc">Consumes the selected components and returns the resulting in progress craft item.</div><div class="ttdef"><b>Definition:</b> <a href="craft__command_8cpp_source.html#l00223">craft_command.cpp:223</a></div></div>
<div class="ttc" id="aclasscraft__command_html_a101533401af890cacd42f2b625e82f81"><div class="ttname"><a href="classcraft__command.html#a101533401af890cacd42f2b625e82f81">craft_command::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="craft__command_8h_source.html#l00090">craft_command.h:90</a></div></div>
<div class="ttc" id="aclasscraft__command_html_ad20604aef3405745c0d8dc3818a86a09"><div class="ttname"><a href="classcraft__command.html#ad20604aef3405745c0d8dc3818a86a09">craft_command::get_skill_id</a></div><div class="ttdeci">skill_id get_skill_id()</div><div class="ttdef"><b>Definition:</b> <a href="craft__command_8cpp_source.html#l00282">craft_command.cpp:282</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a13afed9baf3755048523a4ba9b896216"><div class="ttname"><a href="classplayer__activity.html#a13afed9baf3755048523a4ba9b896216">player_activity::coords</a></div><div class="ttdeci">std::vector&lt; tripoint &gt; coords</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00059">player_activity.h:59</a></div></div>
<div class="ttc" id="acrafting_8cpp_html_a10d830fe02dce42ca9a526543c0956c1"><div class="ttname"><a href="crafting_8cpp.html#a10d830fe02dce42ca9a526543c0956c1">set_item_inventory</a></div><div class="ttdeci">static item_location set_item_inventory(player &amp;p, item &amp;newit)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00703">crafting.cpp:703</a></div></div>
<div class="ttc" id="acrafting_8cpp_html_a1d2a7cb3089df9947e11010194801609"><div class="ttname"><a href="crafting_8cpp.html#a1d2a7cb3089df9947e11010194801609">find_best_bench</a></div><div class="ttdeci">bench_location find_best_bench(const player &amp;p, const item &amp;craft)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l02372">crafting.cpp:2372</a></div></div>
<div class="ttc" id="acrafting_8cpp_html_a6ef89b8a3dd653ead46ace741f2a272b"><div class="ttname"><a href="crafting_8cpp.html#a6ef89b8a3dd653ead46ace741f2a272b">best_bench_here</a></div><div class="ttdeci">static std::pair&lt; bench_type, float &gt; best_bench_here(const item &amp;craft, const tripoint &amp;loc, bool can_lift)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l02340">crafting.cpp:2340</a></div></div>
<div class="ttc" id="acrafting_8cpp_html_a998c1f0ad926f40dc54ed31ef34e105e"><div class="ttname"><a href="crafting_8cpp.html#a998c1f0ad926f40dc54ed31ef34e105e">ACT_CRAFT</a></div><div class="ttdeci">static const activity_id ACT_CRAFT(&quot;ACT_CRAFT&quot;)</div></div>
<div class="ttc" id="acrafting_8h_html_aa5f7f30378264d4adcf8b4a0ceb3b207a6c8d61508321ac444175370124200350"><div class="ttname"><a href="crafting_8h.html#aa5f7f30378264d4adcf8b4a0ceb3b207a6c8d61508321ac444175370124200350">bench_type::hands</a></div><div class="ttdeci">@ hands</div></div>
<div class="ttc" id="astructbench__location_html"><div class="ttname"><a href="structbench__location.html">bench_location</a></div><div class="ttdef"><b>Definition:</b> <a href="crafting_8h_source.html#l00027">crafting.h:27</a></div></div>
<div class="ttc" id="astructbench__location_html_a798af50900ad9c46f5fe40d3b5367416"><div class="ttname"><a href="structbench__location.html#a798af50900ad9c46f5fe40d3b5367416">bench_location::type</a></div><div class="ttdeci">bench_type type</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8h_source.html#l00031">crafting.h:31</a></div></div>
<div class="ttc" id="astructbench__location_html_aea91597de713d6272ac0482a778a49ef"><div class="ttname"><a href="structbench__location.html#aea91597de713d6272ac0482a778a49ef">bench_location::position</a></div><div class="ttdeci">tripoint position</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8h_source.html#l00032">crafting.h:32</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="crafting_8cpp.html#a998c1f0ad926f40dc54ed31ef34e105e">ACT_CRAFT</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l04373">add_msg_player_or_npc()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="crafting_8cpp_source.html#l02340">best_bench_here()</a>, <a class="el" href="player__activity_8h_source.html#l00059">player_activity::coords</a>, <a class="el" href="crafting_8cpp_source.html#l00334">craft()</a>, <a class="el" href="craft__command_8cpp_source.html#l00223">craft_command::create_in_progress_craft()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="recipe_8h_source.html#l00060">recipe::difficulty</a>, <a class="el" href="craft__command_8h_source.html#l00090">craft_command::empty()</a>, <a class="el" href="crafting_8cpp_source.html#l02372">find_best_bench()</a>, <a class="el" href="craft__command_8cpp_source.html#l00282">craft_command::get_skill_id()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="player_8cpp_source.html#l04087">handle_skill_warning()</a>, <a class="el" href="crafting_8h.html#aa5f7f30378264d4adcf8b4a0ceb3b207a6c8d61508321ac444175370124200350">hands</a>, <a class="el" href="craft__command_8h_source.html#l00082">craft_command::is_long()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="translations_8cpp_source.html#l00041">pgettext()</a>, <a class="el" href="crafting_8h_source.html#l00032">bench_location::position</a>, <a class="el" href="character_8cpp_source.html#l03614">Character::reset_encumbrance()</a>, <a class="el" href="crafting_8cpp_source.html#l00703">set_item_inventory()</a>, <a class="el" href="player__activity_8h_source.html#l00056">player_activity::targets</a>, <a class="el" href="crafting_8h_source.html#l00031">bench_location::type</a>, and <a class="el" href="player__activity_8h_source.html#l00057">player_activity::values</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l01730">craft_consume_tools()</a>, and <a class="el" href="craft__command_8cpp_source.html#l00097">craft_command::execute()</a>.</p>

</div>
</div>
<a id="affc70ebfa60eb6ecd1350a4f2035c4b4" name="affc70ebfa60eb6ecd1350a4f2035c4b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affc70ebfa60eb6ecd1350a4f2035c4b4">&#9670;&nbsp;</a></span>store() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::store </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>put</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>penalties</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>base_cost</em> = <code><a class="el" href="game__constants_8h.html#aa5931cb2f162c829bae20f0df39ae014">INVENTORY_HANDLING_PENALTY</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores an item inside another consuming moves proportional to weapon skill and volume. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container</td><td>Container in which to store the item </td></tr>
    <tr><td class="paramname">put</td><td>Item to add to the container </td></tr>
    <tr><td class="paramname">penalties</td><td>Whether item volume and temporary effects (e.g. GRABBED, DOWNED) should be considered. </td></tr>
    <tr><td class="paramname">base_cost</td><td>Cost due to storage type. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04273">4273</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04274" name="l04274"></a><span class="lineno"> 4274</span>{</div>
<div class="line"><a id="l04275" name="l04275"></a><span class="lineno"> 4275</span>    <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= <a class="code hl_function" href="classCharacter.html#aa93e1d185933bc96b038c4844b38ca90">item_store_cost</a>( put, container, penalties, base_cost );</div>
<div class="line"><a id="l04276" name="l04276"></a><span class="lineno"> 4276</span>    container.<a class="code hl_function" href="classitem.html#a3841e9e250af73e45b14d5bb3cc7a043">put_in</a>( <a class="code hl_function" href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">i_rem</a>( &amp;put ) );</div>
<div class="line"><a id="l04277" name="l04277"></a><span class="lineno"> 4277</span>    <a class="code hl_function" href="classCharacter.html#ad67a790400ac88405241f279b566b89e">reset_encumbrance</a>();</div>
<div class="line"><a id="l04278" name="l04278"></a><span class="lineno"> 4278</span>}</div>
<div class="ttc" id="aclassCharacter_html_aa93e1d185933bc96b038c4844b38ca90"><div class="ttname"><a href="classCharacter.html#aa93e1d185933bc96b038c4844b38ca90">Character::item_store_cost</a></div><div class="ttdeci">int item_store_cost(const item &amp;it, const item &amp;container, bool penalties=true, int base_cost=INVENTORY_HANDLING_PENALTY) const</div><div class="ttdoc">Calculate (but do not deduct) the number of moves required when storing an item in a container.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07577">character.cpp:7577</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l02413">Character::i_rem()</a>, <a class="el" href="character_8cpp_source.html#l07577">Character::item_store_cost()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="item_8cpp_source.html#l00987">item::put_in()</a>, and <a class="el" href="character_8cpp_source.html#l03614">Character::reset_encumbrance()</a>.</p>

<p class="reference">Referenced by <a class="el" href="savegame__json_8cpp_source.html#l00936">avatar::store()</a>, <a class="el" href="savegame__json_8cpp_source.html#l01629">npc::store()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l02665">holster_actor::store()</a>.</p>

</div>
</div>
<a id="a430f9d3b1dd617e32824ac1eea65b258" name="a430f9d3b1dd617e32824ac1eea65b258"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a430f9d3b1dd617e32824ac1eea65b258">&#9670;&nbsp;</a></span>store() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void player::store </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonOut.html">JsonOut</a> &amp;&#160;</td>
          <td class="paramname"><em>json</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gather variables for saving. </p>
<p >These variables are common to both the avatar and npcs. </p>

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l00765">765</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>{</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>    <a class="code hl_function" href="classCharacter.html#ac41a59a1ff1d8efa22a615a5432a6243">Character::store</a>( json );</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span> </div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>    <span class="comment">// energy</span></div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;last_sleep_check&quot;</span>, <a class="code hl_variable" href="classplayer.html#a7aecb79fe7868dceee1ee1e363eebe12">last_sleep_check</a> );</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>    <span class="comment">// misc levels</span></div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;tank_plut&quot;</span>, <a class="code hl_variable" href="classCharacter.html#ade57fb8b6f705040f097ff6419d8c9d7">tank_plut</a> );</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;reactor_plut&quot;</span>, <a class="code hl_variable" href="classCharacter.html#a9c4f44ebcb052bfb5ee707a3c757c6e3">reactor_plut</a> );</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;slow_rad&quot;</span>, <a class="code hl_variable" href="classCharacter.html#ad1c06ca8134b6e7e1b5818c11eb8284d">slow_rad</a> );</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;scent&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="classplayer.html#a76eb82fb9b97610362c542a79393995b">scent</a> ) );</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span> </div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>    <span class="comment">// gender</span></div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;male&quot;</span>, <a class="code hl_variable" href="classCharacter.html#a8e6a78e6c4497a9aa7b8cc127dcdd4e3">male</a> );</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span> </div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;cash&quot;</span>, <a class="code hl_variable" href="classplayer.html#a38b455927fe69f32a4a0f9a4fba7cc0f">cash</a> );</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;recoil&quot;</span>, <a class="code hl_variable" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> );</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;in_vehicle&quot;</span>, <a class="code hl_variable" href="classCharacter.html#a61bc9422c35b63128532af268e52cb71">in_vehicle</a> );</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;id&quot;</span>, <a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() );</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span> </div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>    <span class="comment">// potential incompatibility with future expansion</span></div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;damage_bandaged&quot;</span>, <a class="code hl_variable" href="classCharacter.html#a88578f080f1a6ae7c1ea4a058f1a911a">damage_bandaged</a> );</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;damage_disinfected&quot;</span>, <a class="code hl_variable" href="classCharacter.html#afd6f62953be83e3bd242aa1a134a03c7">damage_disinfected</a> );</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>    <span class="comment">// &quot;Looks like I picked the wrong week to quit smoking.&quot; - Steve McCroskey</span></div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;addictions&quot;</span>, <a class="code hl_variable" href="classCharacter.html#a86ad83bf21de1c90b69ad5188d03e59c">addictions</a> );</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;followers&quot;</span>, <a class="code hl_variable" href="classplayer.html#ad17195b9d0af08f6bdf9894b1ebeb8f6">follower_ids</a> );</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span> </div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;worn&quot;</span>, <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a> ); <span class="comment">// also saves contents</span></div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;inv&quot;</span> );</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>    <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a97a8cf709ff16fce9850547d68b34dbe">json_save_items</a>( json );</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span> </div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;weapon&quot;</span>, <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> ); <span class="comment">// also saves contents</span></div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>    }</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span> </div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>    <span class="keywordflow">if</span>( <span class="keyword">const</span> <span class="keyword">auto</span> lt_ptr = <a class="code hl_variable" href="classplayer.html#ab679d40f5584e38a6af33bcd7e3c102d">last_target</a>.lock() ) {</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>        <span class="keywordflow">if</span>( <span class="keyword">const</span> <a class="code hl_class" href="classnpc.html">npc</a> *<span class="keyword">const</span> guy = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classnpc.html">npc</a> *<span class="keyword">&gt;</span>( lt_ptr.get() ) ) {</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>            json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;last_target&quot;</span>, guy-&gt;getID() );</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>            json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;last_target_type&quot;</span>, +1 );</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keyword">const</span> <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">&gt;</span>( lt_ptr.get() ) ) {</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>            <span class="comment">// monsters don&#39;t have IDs, so get its index in the Creature_tracker instead</span></div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>            json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;last_target&quot;</span>, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_tracker-&gt;temporary_id( *mon ) );</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>            json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;last_target_type&quot;</span>, -1 );</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>        }</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;last_target_pos&quot;</span>, <a class="code hl_variable" href="classplayer.html#a9aac4afb832dc4762430b0b3545cbfea">last_target_pos</a> );</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>    }</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span> </div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;destination_point&quot;</span>, <a class="code hl_variable" href="classCharacter.html#a0c397a21d94e276f4eb523bcf4a9e808">destination_point</a> );</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span> </div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    <span class="comment">// faction warnings</span></div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;faction_warnings&quot;</span> );</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>    json.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classplayer.html#a3da8cabad8655c681d26fbb1be26f92a">warning_record</a> ) {</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>        json.<a class="code hl_function" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;fac_warning_id&quot;</span>, elem.first );</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;fac_warning_num&quot;</span>, elem.second.first );</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;fac_warning_time&quot;</span>, elem.second.second );</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>        json.<a class="code hl_function" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>    }</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>    json.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span> </div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;ammo_location&quot;</span>, <a class="code hl_variable" href="classplayer.html#a5f1ee4ce958fda62c4766dd8762529c2">ammo_location</a> );</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span> </div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>    <span class="comment">// TODO: move to Character</span></div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;camps&quot;</span> );</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>    json.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;bcpt : <a class="code hl_variable" href="classCharacter.html#a2aa50df39ac7262f946b9d2a4d152e31">camps</a> ) {</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>        json.<a class="code hl_function" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;pos&quot;</span>, bcpt );</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>        json.<a class="code hl_function" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>    }</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>    json.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>}</div>
<div class="ttc" id="aclassCharacter_html_a88578f080f1a6ae7c1ea4a058f1a911a"><div class="ttname"><a href="classCharacter.html#a88578f080f1a6ae7c1ea4a058f1a911a">Character::damage_bandaged</a></div><div class="ttdeci">std::array&lt; int, num_hp_parts &gt; damage_bandaged</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01572">character.h:1572</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac41a59a1ff1d8efa22a615a5432a6243"><div class="ttname"><a href="classCharacter.html#ac41a59a1ff1d8efa22a615a5432a6243">Character::store</a></div><div class="ttdeci">void store(JsonOut &amp;json) const</div><div class="ttdoc">Load variables from json into object.</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l00626">savegame_json.cpp:626</a></div></div>
<div class="ttc" id="aclassCharacter_html_afd6f62953be83e3bd242aa1a134a03c7"><div class="ttname"><a href="classCharacter.html#afd6f62953be83e3bd242aa1a134a03c7">Character::damage_disinfected</a></div><div class="ttdeci">std::array&lt; int, num_hp_parts &gt; damage_disinfected</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01572">character.h:1572</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a44cdd853d4c6913b37caa9f0131eeff2"><div class="ttname"><a href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">JsonOut::end_array</a></div><div class="ttdeci">void end_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01961">json.cpp:1961</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4550e2036b904c4d4a90e440dd41c684"><div class="ttname"><a href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">JsonOut::start_array</a></div><div class="ttdeci">void start_array(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01950">json.cpp:1950</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4756f9a569adbfc60de127f7c335d82f"><div class="ttname"><a href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">JsonOut::start_object</a></div><div class="ttdeci">void start_object(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01931">json.cpp:1931</a></div></div>
<div class="ttc" id="aclassJsonOut_html_aa38d37840ed6ba168b78a43570e98681"><div class="ttname"><a href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">JsonOut::end_object</a></div><div class="ttdeci">void end_object()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01942">json.cpp:1942</a></div></div>
<div class="ttc" id="aclassJsonOut_html_adb3c899f0ad7fc4f25cd3357c51a2c42"><div class="ttname"><a href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">JsonOut::member</a></div><div class="ttdeci">void member(const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02046">json.cpp:2046</a></div></div>
<div class="ttc" id="aclassinventory_html_a97a8cf709ff16fce9850547d68b34dbe"><div class="ttname"><a href="classinventory.html#a97a8cf709ff16fce9850547d68b34dbe">inventory::json_save_items</a></div><div class="ttdeci">void json_save_items(JsonOut &amp;json) const</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l01738">savegame_json.cpp:1738</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8h_source.html#l01610">Character::addictions</a>, <a class="el" href="character_8h_source.html#l01605">Character::ammo_location</a>, <a class="el" href="character_8h_source.html#l01606">Character::camps</a>, <a class="el" href="character_8h_source.html#l01600">Character::cash</a>, <a class="el" href="character_8h_source.html#l01572">Character::damage_bandaged</a>, <a class="el" href="character_8h_source.html#l01572">Character::damage_disinfected</a>, <a class="el" href="character_8h_source.html#l01582">Character::destination_point</a>, <a class="el" href="json_8cpp_source.html#l01961">JsonOut::end_array()</a>, <a class="el" href="json_8cpp_source.html#l01942">JsonOut::end_object()</a>, <a class="el" href="character_8h_source.html#l01601">Character::follower_ids</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l00470">Character::getID()</a>, <a class="el" href="character_8h_source.html#l01575">Character::in_vehicle</a>, <a class="el" href="character_8h_source.html#l01583">Character::inv</a>, <a class="el" href="item_8cpp_source.html#l00729">item::is_null()</a>, <a class="el" href="savegame__json_8cpp_source.html#l01738">inventory::json_save_items()</a>, <a class="el" href="character_8h_source.html#l02138">Character::last_sleep_check</a>, <a class="el" href="character_8h_source.html#l01602">Character::last_target</a>, <a class="el" href="character_8h_source.html#l01603">Character::last_target_pos</a>, <a class="el" href="character_8h_source.html#l01569">Character::male</a>, <a class="el" href="json_8cpp_source.html#l02046">JsonOut::member()</a>, <a class="el" href="character_8h_source.html#l01596">Character::reactor_plut</a>, <a class="el" href="character_8h_source.html#l00618">Character::recoil</a>, <a class="el" href="character_8h_source.html#l01587">Character::scent</a>, <a class="el" href="character_8h_source.html#l01597">Character::slow_rad</a>, <a class="el" href="json_8cpp_source.html#l01950">JsonOut::start_array()</a>, <a class="el" href="json_8cpp_source.html#l01931">JsonOut::start_object()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00626">Character::store()</a>, <a class="el" href="character_8h_source.html#l01595">Character::tank_plut</a>, <a class="el" href="character_8h_source.html#l02140">Character::warning_record</a>, <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>, and <a class="el" href="character_8h_source.html#l01571">Character::worn</a>.</p>

</div>
</div>
<a id="a5c7fb735b20f0ca0fa641c0f990a67b0" name="a5c7fb735b20f0ca0fa641c0f990a67b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c7fb735b20f0ca0fa641c0f990a67b0">&#9670;&nbsp;</a></span>studied_all_recipes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::studied_all_recipes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structitype.html">itype</a> &amp;&#160;</td>
          <td class="paramname"><em>book</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03687">3687</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03688" name="l03688"></a><span class="lineno"> 3688</span>{</div>
<div class="line"><a id="l03689" name="l03689"></a><span class="lineno"> 3689</span>    <span class="keywordflow">if</span>( !book.<a class="code hl_variable" href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">book</a> ) {</div>
<div class="line"><a id="l03690" name="l03690"></a><span class="lineno"> 3690</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03691" name="l03691"></a><span class="lineno"> 3691</span>    }</div>
<div class="line"><a id="l03692" name="l03692"></a><span class="lineno"> 3692</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : book.<a class="code hl_variable" href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">book</a>-&gt;recipes ) {</div>
<div class="line"><a id="l03693" name="l03693"></a><span class="lineno"> 3693</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#abc8b110d8e655cfc6d27b7bdc67fab3b">knows_recipe</a>( elem.recipe ) ) {</div>
<div class="line"><a id="l03694" name="l03694"></a><span class="lineno"> 3694</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03695" name="l03695"></a><span class="lineno"> 3695</span>        }</div>
<div class="line"><a id="l03696" name="l03696"></a><span class="lineno"> 3696</span>    }</div>
<div class="line"><a id="l03697" name="l03697"></a><span class="lineno"> 3697</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03698" name="l03698"></a><span class="lineno"> 3698</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="itype_8h_source.html#l00852">itype::book</a>, and <a class="el" href="player_8cpp_source.html#l04118">knows_recipe()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l04022">item::color_in_inventory()</a>.</p>

</div>
</div>
<a id="a99f107aadec1c27a7cf37746d9cb7e28" name="a99f107aadec1c27a7cf37746d9cb7e28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99f107aadec1c27a7cf37746d9cb7e28">&#9670;&nbsp;</a></span>takeoff() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::takeoff </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03021">3021</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03022" name="l03022"></a><span class="lineno"> 3022</span>{</div>
<div class="line"><a id="l03023" name="l03023"></a><span class="lineno"> 3023</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classplayer.html#ad39c9459b63bca24dc3c3d68b41c0e87">takeoff</a>( <a class="code hl_function" href="classCharacter.html#a654ed96afe759517e0bf1a31c7a3ea11">i_at</a>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a> ) );</div>
<div class="line"><a id="l03024" name="l03024"></a><span class="lineno"> 3024</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l02391">Character::i_at()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, and <a class="el" href="player_8cpp_source.html#l02977">takeoff()</a>.</p>

</div>
</div>
<a id="ad39c9459b63bca24dc3c3d68b41c0e87" name="ad39c9459b63bca24dc3c3d68b41c0e87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad39c9459b63bca24dc3c3d68b41c0e87">&#9670;&nbsp;</a></span>takeoff() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::takeoff </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::list&lt; <a class="el" href="classitem.html">item</a> &gt; *&#160;</td>
          <td class="paramname"><em>res</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Takes off an item, returning false on fail. </p>
<p >The taken off item is processed in the interact </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02977">2977</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02978" name="l02978"></a><span class="lineno"> 2978</span>{</div>
<div class="line"><a id="l02979" name="l02979"></a><span class="lineno"> 2979</span>    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_function" href="classplayer.html#acc7afd68c20908fba93feaf5cc28e8cd">can_takeoff</a>( it, res );</div>
<div class="line"><a id="l02980" name="l02980"></a><span class="lineno"> 2980</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.success() ) {</div>
<div class="line"><a id="l02981" name="l02981"></a><span class="lineno"> 2981</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.c_str() );</div>
<div class="line"><a id="l02982" name="l02982"></a><span class="lineno"> 2982</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02983" name="l02983"></a><span class="lineno"> 2983</span>    }</div>
<div class="line"><a id="l02984" name="l02984"></a><span class="lineno"> 2984</span> </div>
<div class="line"><a id="l02985" name="l02985"></a><span class="lineno"> 2985</span>    <span class="keyword">auto</span> iter = std::find_if( <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>.begin(), <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>.end(), [ &amp;it ]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; wit ) {</div>
<div class="line"><a id="l02986" name="l02986"></a><span class="lineno"> 2986</span>        return &amp;it == &amp;wit;</div>
<div class="line"><a id="l02987" name="l02987"></a><span class="lineno"> 2987</span>    } );</div>
<div class="line"><a id="l02988" name="l02988"></a><span class="lineno"> 2988</span> </div>
<div class="line"><a id="l02989" name="l02989"></a><span class="lineno"> 2989</span>    <span class="keywordflow">if</span>( res == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l02990" name="l02990"></a><span class="lineno"> 2990</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#ab3a5a1cd76002a3e9903b7e09b77bb3f">volume_carried</a>() + it.<a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>() &gt; <a class="code hl_function" href="classCharacter.html#a6ea22d049916c0c66d7aec36efd981dd">volume_capacity_reduced_by</a>( it.<a class="code hl_function" href="classitem.html#a9653264e34fbb2b99737e09e0a207df4">get_storage</a>() ) ) {</div>
<div class="line"><a id="l02991" name="l02991"></a><span class="lineno"> 2991</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() || <a class="code hl_function" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;No room in inventory for your %s.  Drop it?&quot;</span> ),</div>
<div class="line"><a id="l02992" name="l02992"></a><span class="lineno"> 2992</span>                                      <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(), it.<a class="code hl_function" href="classitem.html#a6bc022aab35ecd1f591a065aa4006eff">color_in_inventory</a>() ) ) ) {</div>
<div class="line"><a id="l02993" name="l02993"></a><span class="lineno"> 2993</span>                <a class="code hl_class" href="classitem__location.html">item_location</a> loc( *<span class="keyword">this</span>, &amp;it );</div>
<div class="line"><a id="l02994" name="l02994"></a><span class="lineno"> 2994</span>                <a class="code hl_function" href="classCharacter.html#a87b6cc35ac98456d6141a208dd650ee4">drop</a>( loc, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l02995" name="l02995"></a><span class="lineno"> 2995</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// the drop activity ends up taking off the item anyway so shouldn&#39;t try to do it again here</span></div>
<div class="line"><a id="l02996" name="l02996"></a><span class="lineno"> 2996</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02997" name="l02997"></a><span class="lineno"> 2997</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02998" name="l02998"></a><span class="lineno"> 2998</span>            }</div>
<div class="line"><a id="l02999" name="l02999"></a><span class="lineno"> 2999</span>        }</div>
<div class="line"><a id="l03000" name="l03000"></a><span class="lineno"> 3000</span>        iter-&gt;on_takeoff( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l03001" name="l03001"></a><span class="lineno"> 3001</span>        <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#ae740eb6f53c202a7fc67997355145ed1">add_item_keep_invlet</a>( it );</div>
<div class="line"><a id="l03002" name="l03002"></a><span class="lineno"> 3002</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03003" name="l03003"></a><span class="lineno"> 3003</span>        iter-&gt;on_takeoff( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l03004" name="l03004"></a><span class="lineno"> 3004</span>        res-&gt;push_back( it );</div>
<div class="line"><a id="l03005" name="l03005"></a><span class="lineno"> 3005</span>    }</div>
<div class="line"><a id="l03006" name="l03006"></a><span class="lineno"> 3006</span> </div>
<div class="line"><a id="l03007" name="l03007"></a><span class="lineno"> 3007</span>    <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You take off your %s.&quot;</span> ),</div>
<div class="line"><a id="l03008" name="l03008"></a><span class="lineno"> 3008</span>                           <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; takes off their %s.&quot;</span> ),</div>
<div class="line"><a id="l03009" name="l03009"></a><span class="lineno"> 3009</span>                           it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03010" name="l03010"></a><span class="lineno"> 3010</span> </div>
<div class="line"><a id="l03011" name="l03011"></a><span class="lineno"> 3011</span>    <span class="comment">// TODO: Make this variable</span></div>
<div class="line"><a id="l03012" name="l03012"></a><span class="lineno"> 3012</span>    <a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -250 );</div>
<div class="line"><a id="l03013" name="l03013"></a><span class="lineno"> 3013</span>    <a class="code hl_variable" href="classCharacter.html#a4c3defc0d53472077cb7577b30b1605f">worn</a>.erase( iter );</div>
<div class="line"><a id="l03014" name="l03014"></a><span class="lineno"> 3014</span> </div>
<div class="line"><a id="l03015" name="l03015"></a><span class="lineno"> 3015</span>    <a class="code hl_function" href="classCharacter.html#aa0d1b26c15ad4a52973774bf6a7610c1">recalc_sight_limits</a>();</div>
<div class="line"><a id="l03016" name="l03016"></a><span class="lineno"> 3016</span>    <a class="code hl_function" href="classCharacter.html#ad67a790400ac88405241f279b566b89e">reset_encumbrance</a>();</div>
<div class="line"><a id="l03017" name="l03017"></a><span class="lineno"> 3017</span> </div>
<div class="line"><a id="l03018" name="l03018"></a><span class="lineno"> 3018</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03019" name="l03019"></a><span class="lineno"> 3019</span>}</div>
<div class="ttc" id="aclassCharacter_html_a6ea22d049916c0c66d7aec36efd981dd"><div class="ttname"><a href="classCharacter.html#a6ea22d049916c0c66d7aec36efd981dd">Character::volume_capacity_reduced_by</a></div><div class="ttdeci">units::volume volume_capacity_reduced_by(const units::volume &amp;mod, const excluded_stacks &amp;without={}) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02837">character.cpp:2837</a></div></div>
<div class="ttc" id="aclassCharacter_html_a87b6cc35ac98456d6141a208dd650ee4"><div class="ttname"><a href="classCharacter.html#a87b6cc35ac98456d6141a208dd650ee4">Character::drop</a></div><div class="ttdeci">void drop(item_location loc, const tripoint &amp;where)</div><div class="ttdoc">Drops an item to the specified location.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02493">character.cpp:2493</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab3a5a1cd76002a3e9903b7e09b77bb3f"><div class="ttname"><a href="classCharacter.html#ab3a5a1cd76002a3e9903b7e09b77bb3f">Character::volume_carried</a></div><div class="ttdeci">units::volume volume_carried() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02705">character.cpp:2705</a></div></div>
<div class="ttc" id="aclassinventory_html_ae740eb6f53c202a7fc67997355145ed1"><div class="ttname"><a href="classinventory.html#ae740eb6f53c202a7fc67997355145ed1">inventory::add_item_keep_invlet</a></div><div class="ttdeci">void add_item_keep_invlet(item newit)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00384">inventory.cpp:384</a></div></div>
<div class="ttc" id="aclassitem_html_a9653264e34fbb2b99737e09e0a207df4"><div class="ttname"><a href="classitem.html#a9653264e34fbb2b99737e09e0a207df4">item::get_storage</a></div><div class="ttdeci">units::volume get_storage() const</div><div class="ttdoc">Returns the storage amount (islot_armor::storage) that this item provides when worn.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05582">item.cpp:5582</a></div></div>
<div class="ttc" id="aclassplayer_html_acc7afd68c20908fba93feaf5cc28e8cd"><div class="ttname"><a href="classplayer.html#acc7afd68c20908fba93feaf5cc28e8cd">player::can_takeoff</a></div><div class="ttdeci">ret_val&lt; bool &gt; can_takeoff(const item &amp;it, const std::list&lt; item &gt; *res=nullptr)</div><div class="ttdoc">Check player capable of taking off an item.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l02953">player.cpp:2953</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="inventory_8cpp_source.html#l00384">inventory::add_item_keep_invlet()</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04373">add_msg_player_or_npc()</a>, <a class="el" href="player_8cpp_source.html#l02953">can_takeoff()</a>, <a class="el" href="item_8cpp_source.html#l04017">item::color_in_inventory()</a>, <a class="el" href="color_8cpp_source.html#l00669">colorize()</a>, <a class="el" href="character_8cpp_source.html#l02493">Character::drop()</a>, <a class="el" href="item_8cpp_source.html#l05582">item::get_storage()</a>, <a class="el" href="character_8h_source.html#l01583">Character::inv</a>, <a class="el" href="player_8h_source.html#l00131">is_npc()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="creature_8cpp_source.html#l01402">Creature::mod_moves()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="player_8cpp_source.html#l04405">query_yn()</a>, <a class="el" href="character_8cpp_source.html#l01692">Character::recalc_sight_limits()</a>, <a class="el" href="character_8cpp_source.html#l03614">Character::reset_encumbrance()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="item_8cpp_source.html#l04991">item::volume()</a>, <a class="el" href="character_8cpp_source.html#l02837">Character::volume_capacity_reduced_by()</a>, <a class="el" href="character_8cpp_source.html#l02705">Character::volume_carried()</a>, and <a class="el" href="character_8h_source.html#l01571">Character::worn</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l04585">npc::adjust_worn()</a>, <a class="el" href="game_8cpp_source.html#l02086">game::inventory_item_menu()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00584">pickup::obtain_and_tokenize_items()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00438">sort_armor()</a>, <a class="el" href="handle__action_8cpp_source.html#l01276">takeoff()</a>, <a class="el" href="player_8cpp_source.html#l03021">takeoff()</a>, and <a class="el" href="npc_8cpp_source.html#l01045">npc::wear_if_wanted()</a>.</p>

</div>
</div>
<a id="a7cf34b604818377fbb17c0815da1eb9e" name="a7cf34b604818377fbb17c0815da1eb9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cf34b604818377fbb17c0815da1eb9e">&#9670;&nbsp;</a></span>talk_skill()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::talk_skill </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a value used when attempting to convince NPC's of something. </p>
Intelligence slightly increases talking skill Perception slightly increases talking skill Speech increases talking skill 
<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00890">890</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>{<span class="comment"></span></div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span><span class="comment">    /** @EFFECT_INT slightly increases talking skill */</span></div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span><span class="comment"></span> </div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span><span class="comment">    /** @EFFECT_PER slightly increases talking skill */</span></div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span><span class="comment"></span> </div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span><span class="comment">    /** @EFFECT_SPEECH increases talking skill */</span></div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_function" href="classCharacter.html#a588d5cc1d729490552fe03b006685ae5">get_int</a>() + <a class="code hl_function" href="classCharacter.html#abb0a1847902e6db0bd3c923ee8187702">get_per</a>() + <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d">skill_id</a>( <span class="stringliteral">&quot;speech&quot;</span> ) ) * 3;</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l04060">Character::get_int()</a>, <a class="el" href="character_8cpp_source.html#l04056">Character::get_per()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, and <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d">skill_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01399">talk_trial::calc_chance()</a>.</p>

</div>
</div>
<a id="a73b63d394d7beabffc445d4c364f5c19" name="a73b63d394d7beabffc445d4c364f5c19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73b63d394d7beabffc445d4c364f5c19">&#9670;&nbsp;</a></span>thirst_speed_penalty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int player::thirst_speed_penalty </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>thirst</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the penalty to speed from thirst. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l00487">487</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>{</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>    <span class="comment">// We die at 1200 thirst</span></div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>    <span class="comment">// Start by dropping speed really fast, but then level it off a bit</span></div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::vector&lt;std::pair&lt;float, float&gt;&gt; thirst_thresholds = {{</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>            std::make_pair( <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( <a class="code hl_enumvalue" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa780f1db7fbc188c7154e8bbd5c14fb02">thirst_levels::very_thirsty</a> ), 0.0f ),</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>            std::make_pair( <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( <a class="code hl_enumvalue" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aaf8a3fd80bfeb8e8456d63862cb71da83">thirst_levels::dehydrated</a> ), -25.0f ),</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>            std::make_pair( <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( <a class="code hl_enumvalue" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa3b356d31d3a9a7950bffbe2790f8e1c2">thirst_levels::parched</a> ), -50.0f ),</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>            std::make_pair( <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( <a class="code hl_enumvalue" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aaf58e6a506c76fc2c90a7d29cbc631c2f">thirst_levels::dead</a> ), -75.0f )</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>        }</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>    };</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_function" href="cata__utility_8cpp.html#ac49c7bae3c3ac926a5501ffb127c1e97">multi_lerp</a>( thirst_thresholds, <a class="code hl_variable" href="classCharacter.html#aecc359ee26a1e81fd03d778be68ae2de">thirst</a> ) );</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>}</div>
<div class="ttc" id="acharacter_8h_html_a2e6af65e94e820564fb484840378cf4aa3b356d31d3a9a7950bffbe2790f8e1c2"><div class="ttname"><a href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa3b356d31d3a9a7950bffbe2790f8e1c2">thirst_levels::parched</a></div><div class="ttdeci">@ parched</div></div>
<div class="ttc" id="acharacter_8h_html_a2e6af65e94e820564fb484840378cf4aaf58e6a506c76fc2c90a7d29cbc631c2f"><div class="ttname"><a href="character_8h.html#a2e6af65e94e820564fb484840378cf4aaf58e6a506c76fc2c90a7d29cbc631c2f">thirst_levels::dead</a></div><div class="ttdeci">@ dead</div></div>
<div class="ttc" id="acharacter_8h_html_a2e6af65e94e820564fb484840378cf4aaf8a3fd80bfeb8e8456d63862cb71da83"><div class="ttname"><a href="character_8h.html#a2e6af65e94e820564fb484840378cf4aaf8a3fd80bfeb8e8456d63862cb71da83">thirst_levels::dehydrated</a></div><div class="ttdeci">@ dehydrated</div></div>
<div class="ttc" id="aclassCharacter_html_aecc359ee26a1e81fd03d778be68ae2de"><div class="ttname"><a href="classCharacter.html#aecc359ee26a1e81fd03d778be68ae2de">Character::thirst</a></div><div class="ttdeci">int thirst</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02238">character.h:2238</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aaf58e6a506c76fc2c90a7d29cbc631c2f">dead</a>, <a class="el" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aaf8a3fd80bfeb8e8456d63862cb71da83">dehydrated</a>, <a class="el" href="cata__utility_8cpp_source.html#l00156">multi_lerp()</a>, <a class="el" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa3b356d31d3a9a7950bffbe2790f8e1c2">parched</a>, <a class="el" href="character_8h_source.html#l02238">Character::thirst</a>, and <a class="el" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa780f1db7fbc188c7154e8bbd5c14fb02">very_thirsty</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__display_8cpp_source.html#l00759">draw_speed_tab()</a>, and <a class="el" href="player_8cpp_source.html#l00501">recalc_speed_bonus()</a>.</p>

</div>
</div>
<a id="a347590f5f5ca932d3ffc5c5cc5cdc723" name="a347590f5f5ca932d3ffc5c5cc5cdc723"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a347590f5f5ca932d3ffc5c5cc5cdc723">&#9670;&nbsp;</a></span>throw_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdealt__projectile__attack.html">dealt_projectile_attack</a> player::throw_item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>to_throw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>blind_throw_from_pos</em> = <code><a class="el" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute a throw. </p>
Strength increases throwing damage Strength increases chance of shattering thrown glass items (NEGATIVE) 
<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01108">1108</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>{</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>    <span class="comment">// Copy the item, we may alter it before throwing</span></div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>    <a class="code hl_class" href="classitem.html">item</a> thrown = to_throw;</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span> </div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_function" href="activity__item__handling_8cpp.html#a0572000ec0976f2d095ae0cd9d20e78b">move_cost</a> = <a class="code hl_function" href="namespaceranged.html#a581c5c797384eeec8c7e3ffe10a82d26">ranged::throw_cost</a>( *<span class="keyword">this</span>, to_throw );</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>    <a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -<a class="code hl_function" href="activity__item__handling_8cpp.html#a0572000ec0976f2d095ae0cd9d20e78b">move_cost</a> );</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span> </div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> throwing_skill = <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="ranged_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a> );</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>    <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> <a class="code hl_variable" href="classplayer.html#a20589432777baec94c204b4f5efbfcfb">volume</a> = to_throw.<a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>();</div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>    <a class="code hl_class" href="classunits_1_1quantity.html">units::mass</a> weight = to_throw.<a class="code hl_function" href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">weight</a>();</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span> </div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>    <span class="comment">// Previously calculated as 2_gram * std::max( 1, str_cur )</span></div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>    <span class="comment">// using 16_gram normalizes it to 8 str. Same effort expenditure</span></div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>    <span class="comment">// for being able to throw farther.</span></div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> weight_cost = weight / ( 16_gram );</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> encumbrance_cost = <a class="code hl_function" href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a>( ( <a class="code hl_function" href="classCharacter.html#adc1fd84a88722a905e57fea8bfd5b6b0">encumb</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a441080ba1d3930d38f635658d9b28e01">bp_arm_l</a> ) + <a class="code hl_function" href="classCharacter.html#adc1fd84a88722a905e57fea8bfd5b6b0">encumb</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ae5f21c7494ad730a0c6abf6957976cb3">bp_arm_r</a> ) ) * 2.0f );</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> stamina_cost = ( weight_cost + encumbrance_cost - throwing_skill + 50 ) * -1;</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span> </div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>    <span class="keywordtype">bool</span> throw_assist = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>    <span class="keywordtype">int</span> throw_assist_str = 0;</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>        <span class="keyword">auto</span> mons = <a class="code hl_variable" href="classCharacter.html#ac3d46549b7cdaac1f98991167ad5f1b3">mounted_creature</a>.get();</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>        <span class="keywordflow">if</span>( mons-&gt;mech_str_addition() != 0 ) {</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>            throw_assist = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>            throw_assist_str = mons-&gt;mech_str_addition();</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>            mons-&gt;use_mech_power( -3 );</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>        }</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>    }</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>    <span class="keywordflow">if</span>( !throw_assist ) {</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>        <a class="code hl_function" href="classCharacter.html#ac29de3d2bc90dd1c8d921b539fb05cfb">mod_stamina</a>( stamina_cost );</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>    }</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span> </div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>    <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">skill_id</a> &amp;skill_used = <a class="code hl_variable" href="ranged_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a>;</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>    <span class="keywordtype">int</span> skill_level = std::min( <a class="code hl_variable" href="game__constants_8h.html#ae9c0ec5b4724c15132efddb8862ca652">MAX_SKILL</a>, <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="ranged_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a> ) );</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>    <span class="comment">// if you are lying on the floor, you can&#39;t really throw that well</span></div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="ranged_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a> ) ) {</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>        skill_level = std::max( 0, skill_level - 5 );</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>    }</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>    <span class="comment">// We&#39;ll be constructing a projectile</span></div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>    <a class="code hl_struct" href="structprojectile.html">projectile</a> proj;</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>    proj.<a class="code hl_variable" href="structprojectile.html#a82d8f657f8cfc4e180c15bfab8ca8a6e">impact</a> = thrown.<a class="code hl_function" href="classitem.html#a13b2b008995a2f2f2daa63be578b27c8">base_damage_thrown</a>();</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>    proj.<a class="code hl_variable" href="structprojectile.html#aa2af53bce63feecb719ef1edba54689e">speed</a> = 10 + skill_level;</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>    <span class="keyword">auto</span> &amp;<a class="code hl_function" href="classplayer.html#ae1d6e52d9fb8fdf08eecb74890a28342">impact</a> = proj.<a class="code hl_variable" href="structprojectile.html#a82d8f657f8cfc4e180c15bfab8ca8a6e">impact</a>;</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span> </div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::set&lt;material_id&gt; ferric = { <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;iron&quot;</span> ), <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;steel&quot;</span> ) };</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span> </div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>    <span class="keywordtype">bool</span> do_railgun = <a class="code hl_function" href="classCharacter.html#af9c7419575e23d52745c94009929fafb">has_active_bionic</a>( <a class="code hl_variable" href="ranged_8cpp.html#a738f726f320c7f5b5edca445777a14fa">bio_railgun</a> ) &amp;&amp; thrown.<a class="code hl_function" href="classitem.html#a9e2c24734b538e61e186fb6777b62c25">made_of_any</a>( ferric ) &amp;&amp;</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>                      !throw_assist;</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span> </div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>    <span class="comment">// The damage dealt due to item&#39;s weight, player&#39;s strength, and skill level</span></div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>    <span class="comment">// Up to str/2 or weight/100g (lower), so 10 str is 5 damage before multipliers</span></div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>    <span class="comment">// Railgun doubles the effective strength</span><span class="comment"></span></div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span><span class="comment">    ///\EFFECT_STR increases throwing damage</span></div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span><span class="comment"></span>    <span class="keywordtype">double</span> stats_mod = do_railgun ? <a class="code hl_function" href="classCharacter.html#a5aba683ccf77cb560a0a932308289bd9">get_str</a>() : ( <a class="code hl_function" href="classCharacter.html#a5aba683ccf77cb560a0a932308289bd9">get_str</a>() / 2.0 );</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>    stats_mod = throw_assist ? throw_assist_str / 2.0 : stats_mod;</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>    <span class="comment">// modify strength impact based on skill level, clamped to [0.15 - 1]</span></div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>    <span class="comment">// mod = mod * [ ( ( skill / max_skill ) * 0.85 ) + 0.15 ]</span></div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>    stats_mod *= ( std::min( <a class="code hl_variable" href="game__constants_8h.html#ae9c0ec5b4724c15132efddb8862ca652">MAX_SKILL</a>,</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>                             <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="ranged_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a> ) ) /</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>                   <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="game__constants_8h.html#ae9c0ec5b4724c15132efddb8862ca652">MAX_SKILL</a> ) ) * 0.85 + 0.15;</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>    <a class="code hl_function" href="classplayer.html#ae1d6e52d9fb8fdf08eecb74890a28342">impact</a>.add_damage( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a>, std::min( weight / 100.0_gram, stats_mod ) );</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span> </div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>    <span class="keywordflow">if</span>( thrown.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;ACT_ON_RANGED_HIT&quot;</span> ) ) {</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>        proj.<a class="code hl_function" href="structprojectile.html#a05d90cbb1c83669dd7c23477c8f35963">add_effect</a>( <a class="code hl_variable" href="ranged_8cpp.html#a4832c47fe321946202cd17b211b27862">ammo_effect_ACT_ON_RANGED_HIT</a> );</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>        thrown.<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>    }</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span> </div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>    <span class="comment">// Item will shatter upon landing, destroying the item, dealing damage, and making noise</span><span class="comment"></span></div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span><span class="comment">    /** @EFFECT_STR increases chance of shattering thrown glass items (NEGATIVE) */</span></div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> shatter = !thrown.<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> &amp;&amp; thrown.<a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;glass&quot;</span> ) ) &amp;&amp;</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>                         <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, <a class="code hl_function" href="namespaceunits.html#a144476d36f26d6e1916493c3636d54dc">units::to_milliliter</a>( 2_liter - <a class="code hl_variable" href="classplayer.html#a20589432777baec94c204b4f5efbfcfb">volume</a> ) ) &lt; <a class="code hl_function" href="classCharacter.html#a5aba683ccf77cb560a0a932308289bd9">get_str</a>() * 100;</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span> </div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>    <span class="comment">// Item will burst upon landing, destroying the item, and spilling its contents</span></div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> burst = thrown.<a class="code hl_function" href="classitem.html#aeb49bb1b64eba3731e606ffe83e95b4f">has_property</a>( <span class="stringliteral">&quot;burst_when_filled&quot;</span> ) &amp;&amp; thrown.<a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() &amp;&amp;</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>                       thrown.<a class="code hl_function" href="classitem.html#a19e6dd5afd4bada41c8d97792fd0815d">get_property_int64_t</a>( <span class="stringliteral">&quot;burst_when_filled&quot;</span> ) &lt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span></div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>                       ( thrown.<a class="code hl_function" href="classitem.html#aeb62f6d93e37bf01af71f795cc39f4f1">get_contained</a>().<a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>().<a class="code hl_function" href="classunits_1_1quantity.html#a239e9b238064a23fab11ff2094537958">value</a>() ) / thrown.<a class="code hl_function" href="classitem.html#acbc651b09ebafad57974d0cfa04b8e5d">get_container_capacity</a>().<a class="code hl_function" href="classunits_1_1quantity.html#a239e9b238064a23fab11ff2094537958">value</a>() * 100;</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span> </div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>    <span class="comment">// Add some flags to the projectile</span></div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>    <span class="keywordflow">if</span>( weight &gt; 500_gram ) {</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>        proj.<a class="code hl_function" href="structprojectile.html#a05d90cbb1c83669dd7c23477c8f35963">add_effect</a>( <a class="code hl_variable" href="ranged_8cpp.html#a56ca2e5cfeec3ed46b11661ab0d4a51d">ammo_effect_HEAVY_HIT</a> );</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>    }</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span> </div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>    proj.<a class="code hl_function" href="structprojectile.html#a05d90cbb1c83669dd7c23477c8f35963">add_effect</a>( <a class="code hl_variable" href="ranged_8cpp.html#aa3f58e0db88c98c686cbce467d25fd94">ammo_effect_NO_ITEM_DAMAGE</a> );</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span> </div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>    <span class="keywordflow">if</span>( thrown.<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> ) {</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>        <span class="comment">// Can&#39;t have Molotovs embed into monsters</span></div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>        <span class="comment">// Monsters don&#39;t have inventory processing</span></div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>        proj.<a class="code hl_function" href="structprojectile.html#a05d90cbb1c83669dd7c23477c8f35963">add_effect</a>( <a class="code hl_variable" href="ranged_8cpp.html#a8f6e1a41d7fec5aac1acdc98363c8cc4">ammo_effect_NO_EMBED</a> );</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>    }</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span> </div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>    <span class="keywordflow">if</span>( do_railgun ) {</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>        proj.<a class="code hl_function" href="structprojectile.html#a05d90cbb1c83669dd7c23477c8f35963">add_effect</a>( <a class="code hl_variable" href="ranged_8cpp.html#a17d7acb18d1ef9119106898d678fac76">ammo_effect_LIGHTNING</a> );</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>    }</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span> </div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer.html#a20589432777baec94c204b4f5efbfcfb">volume</a> &gt; 500_ml ) {</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>        proj.<a class="code hl_function" href="structprojectile.html#a05d90cbb1c83669dd7c23477c8f35963">add_effect</a>( <a class="code hl_variable" href="ranged_8cpp.html#ad2f60bde7290b0993994d14fad34a3e9">ammo_effect_WIDE</a> );</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>    }</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span> </div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>    <span class="comment">// Deal extra cut damage if the item breaks</span></div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>    <span class="keywordflow">if</span>( shatter ) {</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>        <a class="code hl_function" href="classplayer.html#ae1d6e52d9fb8fdf08eecb74890a28342">impact</a>.add_damage( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8ff698c0509e78ff65c7c7ec899b4f51">DT_CUT</a>, <a class="code hl_function" href="namespaceunits.html#a144476d36f26d6e1916493c3636d54dc">units::to_milliliter</a>( <a class="code hl_variable" href="classplayer.html#a20589432777baec94c204b4f5efbfcfb">volume</a> ) / 500.0f );</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>        proj.<a class="code hl_function" href="structprojectile.html#a05d90cbb1c83669dd7c23477c8f35963">add_effect</a>( <a class="code hl_variable" href="ranged_8cpp.html#a7037269f2b6a941bc0e3f2e659450f32">ammo_effect_SHATTER_SELF</a> );</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>    }</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span> </div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>    <span class="comment">// TODO: Add wet effect if other things care about that</span></div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>    <span class="keywordflow">if</span>( burst ) {</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>        proj.<a class="code hl_function" href="structprojectile.html#a05d90cbb1c83669dd7c23477c8f35963">add_effect</a>( <a class="code hl_variable" href="ranged_8cpp.html#a336ae362f6bd28ffde9cd73ccf9be4ae">ammo_effect_BURST</a> );</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>    }</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span> </div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>    <span class="comment">// Some minor (skill/2) armor piercing for skillful throws</span></div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>    <span class="comment">// Not as much as in melee, though</span></div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>    <span class="keywordflow">for</span>( <a class="code hl_struct" href="structdamage__unit.html">damage_unit</a> &amp;du : <a class="code hl_function" href="classplayer.html#ae1d6e52d9fb8fdf08eecb74890a28342">impact</a>.damage_units ) {</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>        du.<a class="code hl_variable" href="structdamage__unit.html#ab4d1b13f7ebe2f16a43038e1441ec2b5">res_pen</a> += skill_level / 2.0f;</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>    }</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>    <span class="comment">// handling for tangling thrown items</span></div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>    <span class="keywordflow">if</span>( thrown.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;TANGLE&quot;</span> ) ) {</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>        proj.<a class="code hl_function" href="structprojectile.html#a05d90cbb1c83669dd7c23477c8f35963">add_effect</a>( <a class="code hl_variable" href="ranged_8cpp.html#aa629b07204a26cf4e57eabe425b3d5c4">ammo_effect_TANGLE</a> );</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>    }</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span> </div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>    <a class="code hl_class" href="classCreature.html">Creature</a> *critter = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at( target, <span class="keyword">true</span> );</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>    <span class="keyword">const</span> <a class="code hl_class" href="classdispersion__sources.html">dispersion_sources</a> dispersion( <a class="code hl_function" href="namespaceranged.html#a54895869f69a00b4a74df15057a9a780">ranged::throwing_dispersion</a>( *<span class="keyword">this</span>, thrown, critter,</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>                                         blind_throw_from_pos.<a class="code hl_function" href="classcata_1_1optional.html#ad5b847e0e2f1db1387a10bac3751ccf4">has_value</a>() ) );</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *thrown_type = thrown.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>;</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span> </div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>    <span class="comment">// Put the item into the projectile</span></div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>    proj.<a class="code hl_function" href="structprojectile.html#a2bbf20562006058aa939aa5339860ba7">set_drop</a>( <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( thrown ) );</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>    <span class="keywordflow">if</span>( thrown_type-&gt;<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <span class="stringliteral">&quot;CUSTOM_EXPLOSION&quot;</span> ) ) {</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>        proj.<a class="code hl_function" href="structprojectile.html#a3eb9cbe946d6bf2131eeae97d2d1230d">set_custom_explosion</a>( thrown_type-&gt;<a class="code hl_variable" href="structitype.html#a15ce9f3914d2afb7992e4683a0996791">explosion</a> );</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>    }</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span> </div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>    <span class="comment">// Throw from the player&#39;s position, unless we&#39;re blind throwing, in which case</span></div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>    <span class="comment">// throw from the the blind throw position instead.</span></div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> throw_from = blind_throw_from_pos ? *blind_throw_from_pos : <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>();</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span> </div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>    <span class="keywordtype">float</span> range = <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( throw_from, target );</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>    proj.<a class="code hl_variable" href="structprojectile.html#a312bc9a78fe7a5fdefb44e3755154db3">range</a> = range;</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>    <span class="keywordtype">int</span> skill_lvl = <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( skill_used );</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>    <span class="comment">// Avoid awarding tons of xp for lucky throws against hard to hit targets</span></div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> range_factor = std::min&lt;float&gt;( range, skill_lvl + 3 );</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>    <span class="comment">// We&#39;re aiming to get a damaging hit, not just an accurate one - reward proper weapons</span></div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> damage_factor = 5.0f * std::sqrt( proj.<a class="code hl_variable" href="structprojectile.html#a82d8f657f8cfc4e180c15bfab8ca8a6e">impact</a>.<a class="code hl_function" href="structdamage__instance.html#a96f6f6d008ed8744ce549cefcfec3951">total_damage</a>() / 5.0f );</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>    <span class="comment">// This should generally have values below ~20*sqrt(skill_lvl)</span></div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> final_xp_mult = range_factor * damage_factor;</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span> </div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>    <span class="keyword">auto</span> dealt_attack = <a class="code hl_function" href="ballistics_8cpp.html#aeded5f16540ef8f873a7d9eb5edca240">projectile_attack</a>( proj, throw_from, target, dispersion, <span class="keyword">this</span> );</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span> </div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> missed_by = dealt_attack.missed_by;</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>    <span class="keywordflow">if</span>( missed_by &lt;= 0.1 &amp;&amp; dealt_attack.hit_critter != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>        <a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( skill_used, final_xp_mult, <a class="code hl_variable" href="game__constants_8h.html#ae9c0ec5b4724c15132efddb8862ca652">MAX_SKILL</a> );</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>        <span class="comment">// TODO: Check target for existence of head</span></div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea365dbc32084e314b4788756b6fa66ecb">event_type::character_gets_headshot</a>&gt;( <a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() );</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( dealt_attack.hit_critter != <span class="keyword">nullptr</span> &amp;&amp; missed_by &gt; 0.0f ) {</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>        <a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( skill_used, final_xp_mult / ( 1.0f + missed_by ), <a class="code hl_variable" href="game__constants_8h.html#ae9c0ec5b4724c15132efddb8862ca652">MAX_SKILL</a> );</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>        <span class="comment">// Pure grindy practice - cap gain at lvl 2</span></div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>        <a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( skill_used, 5, 2 );</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>    }</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>    <span class="comment">// Reset last target pos</span></div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>    <a class="code hl_variable" href="classplayer.html#a9aac4afb832dc4762430b0b3545cbfea">last_target_pos</a> = <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>    <a class="code hl_variable" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> = <a class="code hl_variable" href="game__constants_8h.html#a8226e8a134603e5bc06df05efd13d8d1">MAX_RECOIL</a>;</div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span> </div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>    <span class="keywordflow">return</span> dealt_attack;</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>}</div>
<div class="ttc" id="aclassitem_html_a13b2b008995a2f2f2daa63be578b27c8"><div class="ttname"><a href="classitem.html#a13b2b008995a2f2f2daa63be578b27c8">item::base_damage_thrown</a></div><div class="ttdeci">damage_instance base_damage_thrown() const</div><div class="ttdoc">All damage types this item deals when thrown (no skill modifiers etc.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05148">item.cpp:5148</a></div></div>
<div class="ttc" id="aclassitem_html_a19e6dd5afd4bada41c8d97792fd0815d"><div class="ttname"><a href="classitem.html#a19e6dd5afd4bada41c8d97792fd0815d">item::get_property_int64_t</a></div><div class="ttdeci">int64_t get_property_int64_t(const std::string &amp;prop, int64_t def=0) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05258">item.cpp:5258</a></div></div>
<div class="ttc" id="aclassitem_html_a2993eb10a5ae589e6bb1be0a74cb65c1"><div class="ttname"><a href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">item::active</a></div><div class="ttdeci">bool active</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02233">item.h:2233</a></div></div>
<div class="ttc" id="aclassitem_html_a3157f01f1da6fe89bdbc87db2605afb9"><div class="ttname"><a href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">item::weight</a></div><div class="ttdeci">units::mass weight(bool include_contents=true, bool integral=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04844">item.cpp:4844</a></div></div>
<div class="ttc" id="aclassitem_html_a9e2c24734b538e61e186fb6777b62c25"><div class="ttname"><a href="classitem.html#a9e2c24734b538e61e186fb6777b62c25">item::made_of_any</a></div><div class="ttdeci">bool made_of_any(const std::set&lt; material_id &gt; &amp;mat_idents) const</div><div class="ttdoc">Check we are made of at least one of a set (e.g.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06285">item.cpp:6285</a></div></div>
<div class="ttc" id="aclassitem_html_acbc651b09ebafad57974d0cfa04b8e5d"><div class="ttname"><a href="classitem.html#acbc651b09ebafad57974d0cfa04b8e5d">item::get_container_capacity</a></div><div class="ttdeci">units::volume get_container_capacity() const</div><div class="ttdoc">It returns the total capacity (volume) of the container for liquids.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08239">item.cpp:8239</a></div></div>
<div class="ttc" id="aclassitem_html_aeb49bb1b64eba3731e606ffe83e95b4f"><div class="ttname"><a href="classitem.html#aeb49bb1b64eba3731e606ffe83e95b4f">item::has_property</a></div><div class="ttdeci">bool has_property(const std::string &amp;prop) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05247">item.cpp:5247</a></div></div>
<div class="ttc" id="aclassplayer_html_ae1d6e52d9fb8fdf08eecb74890a28342"><div class="ttname"><a href="classplayer.html#ae1d6e52d9fb8fdf08eecb74890a28342">player::impact</a></div><div class="ttdeci">int impact(int force, const tripoint &amp;pos) override</div><div class="ttdoc">Deals falling/collision damage with terrain/creature at pos.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l01169">player.cpp:1169</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units__def_8h_source.html#l00014">units_def.h:15</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html_a239e9b238064a23fab11ff2094537958"><div class="ttname"><a href="classunits_1_1quantity.html#a239e9b238064a23fab11ff2094537958">units::quantity::value</a></div><div class="ttdeci">constexpr const value_type &amp; value() const</div><div class="ttdoc">Access the raw dimensionless value.</div><div class="ttdef"><b>Definition:</b> <a href="units__def_8h_source.html#l00044">units_def.h:44</a></div></div>
<div class="ttc" id="anamespaceranged_html_a54895869f69a00b4a74df15057a9a780"><div class="ttname"><a href="namespaceranged.html#a54895869f69a00b4a74df15057a9a780">ranged::throwing_dispersion</a></div><div class="ttdeci">int throwing_dispersion(const Character &amp;c, const item &amp;to_throw, Creature *critter, bool is_blind_throw)</div><div class="ttdoc">Dispersion of a thrown item, against a given target, taking into account whether or not the throw was...</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01061">ranged.cpp:1061</a></div></div>
<div class="ttc" id="anamespaceranged_html_a581c5c797384eeec8c7e3ffe10a82d26"><div class="ttname"><a href="namespaceranged.html#a581c5c797384eeec8c7e3ffe10a82d26">ranged::throw_cost</a></div><div class="ttdeci">int throw_cost(const player &amp;c, const item &amp;to_throw)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l00966">ranged.cpp:966</a></div></div>
<div class="ttc" id="anamespaceunits_html_a144476d36f26d6e1916493c3636d54dc"><div class="ttname"><a href="namespaceunits.html#a144476d36f26d6e1916493c3636d54dc">units::to_milliliter</a></div><div class="ttdeci">constexpr value_type to_milliliter(const quantity&lt; value_type, volume_in_milliliter_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units__volume_8h_source.html#l00038">units_volume.h:38</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a08481f62adb6937636ea44b855311037"><div class="ttname"><a href="ranged_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a></div><div class="ttdeci">static const efftype_id effect_downed(&quot;downed&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a17d7acb18d1ef9119106898d678fac76"><div class="ttname"><a href="ranged_8cpp.html#a17d7acb18d1ef9119106898d678fac76">ammo_effect_LIGHTNING</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_LIGHTNING(&quot;LIGHTNING&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a336ae362f6bd28ffde9cd73ccf9be4ae"><div class="ttname"><a href="ranged_8cpp.html#a336ae362f6bd28ffde9cd73ccf9be4ae">ammo_effect_BURST</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_BURST(&quot;BURST&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a4832c47fe321946202cd17b211b27862"><div class="ttname"><a href="ranged_8cpp.html#a4832c47fe321946202cd17b211b27862">ammo_effect_ACT_ON_RANGED_HIT</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_ACT_ON_RANGED_HIT(&quot;ACT_ON_RANGED_HIT&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a56ca2e5cfeec3ed46b11661ab0d4a51d"><div class="ttname"><a href="ranged_8cpp.html#a56ca2e5cfeec3ed46b11661ab0d4a51d">ammo_effect_HEAVY_HIT</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_HEAVY_HIT(&quot;HEAVY_HIT&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a7037269f2b6a941bc0e3f2e659450f32"><div class="ttname"><a href="ranged_8cpp.html#a7037269f2b6a941bc0e3f2e659450f32">ammo_effect_SHATTER_SELF</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_SHATTER_SELF(&quot;SHATTER_SELF&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a738f726f320c7f5b5edca445777a14fa"><div class="ttname"><a href="ranged_8cpp.html#a738f726f320c7f5b5edca445777a14fa">bio_railgun</a></div><div class="ttdeci">static const bionic_id bio_railgun(&quot;bio_railgun&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a8f6e1a41d7fec5aac1acdc98363c8cc4"><div class="ttname"><a href="ranged_8cpp.html#a8f6e1a41d7fec5aac1acdc98363c8cc4">ammo_effect_NO_EMBED</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_NO_EMBED(&quot;NO_EMBED&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_aa3f58e0db88c98c686cbce467d25fd94"><div class="ttname"><a href="ranged_8cpp.html#aa3f58e0db88c98c686cbce467d25fd94">ammo_effect_NO_ITEM_DAMAGE</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_NO_ITEM_DAMAGE(&quot;NO_ITEM_DAMAGE&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_aa629b07204a26cf4e57eabe425b3d5c4"><div class="ttname"><a href="ranged_8cpp.html#aa629b07204a26cf4e57eabe425b3d5c4">ammo_effect_TANGLE</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_TANGLE(&quot;TANGLE&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_aca8ae2b9cbc86602a56a3885b72a4ed1"><div class="ttname"><a href="ranged_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a></div><div class="ttdeci">static const skill_id skill_throw(&quot;throw&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_ad2f60bde7290b0993994d14fad34a3e9"><div class="ttname"><a href="ranged_8cpp.html#ad2f60bde7290b0993994d14fad34a3e9">ammo_effect_WIDE</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_WIDE(&quot;WIDE&quot;)</div></div>
<div class="ttc" id="astructitype_html_a15ce9f3914d2afb7992e4683a0996791"><div class="ttname"><a href="structitype.html#a15ce9f3914d2afb7992e4683a0996791">itype::explosion</a></div><div class="ttdeci">explosion_data explosion</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00945">itype.h:945</a></div></div>
<div class="ttc" id="astructitype_html_ab8196084d50fd9a33d6d93c290501b4f"><div class="ttname"><a href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">itype::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00071">itype.cpp:71</a></div></div>
<div class="ttc" id="astructprojectile_html_a2bbf20562006058aa939aa5339860ba7"><div class="ttname"><a href="structprojectile.html#a2bbf20562006058aa939aa5339860ba7">projectile::set_drop</a></div><div class="ttdeci">void set_drop(const item &amp;it)</div><div class="ttdoc">Copies item it as a drop for this projectile.</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8cpp_source.html#l00053">projectile.cpp:53</a></div></div>
<div class="ttc" id="astructprojectile_html_a312bc9a78fe7a5fdefb44e3755154db3"><div class="ttname"><a href="structprojectile.html#a312bc9a78fe7a5fdefb44e3755154db3">projectile::range</a></div><div class="ttdeci">int range</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00026">projectile.h:26</a></div></div>
<div class="ttc" id="astructprojectile_html_a3eb9cbe946d6bf2131eeae97d2d1230d"><div class="ttname"><a href="structprojectile.html#a3eb9cbe946d6bf2131eeae97d2d1230d">projectile::set_custom_explosion</a></div><div class="ttdeci">void set_custom_explosion(const explosion_data &amp;ex)</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8cpp_source.html#l00086">projectile.cpp:86</a></div></div>
<div class="ttc" id="astructprojectile_html_aa2af53bce63feecb719ef1edba54689e"><div class="ttname"><a href="structprojectile.html#aa2af53bce63feecb719ef1edba54689e">projectile::speed</a></div><div class="ttdeci">int speed</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00025">projectile.h:25</a></div></div>
<div class="ttc" id="atype__id_8h_html_a569ce0271cf4ab170e63bb05658be142"><div class="ttname"><a href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a></div><div class="ttdeci">string_id&lt; material_type &gt; material_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00085">type_id.h:85</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="projectile_8h_source.html#l00058">projectile::add_effect()</a>, <a class="el" href="ranged_8cpp.html#a4832c47fe321946202cd17b211b27862">ammo_effect_ACT_ON_RANGED_HIT</a>, <a class="el" href="ranged_8cpp.html#a336ae362f6bd28ffde9cd73ccf9be4ae">ammo_effect_BURST</a>, <a class="el" href="ranged_8cpp.html#a56ca2e5cfeec3ed46b11661ab0d4a51d">ammo_effect_HEAVY_HIT</a>, <a class="el" href="ranged_8cpp.html#a17d7acb18d1ef9119106898d678fac76">ammo_effect_LIGHTNING</a>, <a class="el" href="ranged_8cpp.html#a8f6e1a41d7fec5aac1acdc98363c8cc4">ammo_effect_NO_EMBED</a>, <a class="el" href="ranged_8cpp.html#aa3f58e0db88c98c686cbce467d25fd94">ammo_effect_NO_ITEM_DAMAGE</a>, <a class="el" href="ranged_8cpp.html#a7037269f2b6a941bc0e3f2e659450f32">ammo_effect_SHATTER_SELF</a>, <a class="el" href="ranged_8cpp.html#aa629b07204a26cf4e57eabe425b3d5c4">ammo_effect_TANGLE</a>, <a class="el" href="ranged_8cpp.html#ad2f60bde7290b0993994d14fad34a3e9">ammo_effect_WIDE</a>, <a class="el" href="item_8cpp_source.html#l05148">item::base_damage_thrown()</a>, <a class="el" href="ranged_8cpp.html#a738f726f320c7f5b5edca445777a14fa">bio_railgun</a>, <a class="el" href="bodypart_8h_source.html#l00044">bp_arm_l</a>, <a class="el" href="bodypart_8h_source.html#l00045">bp_arm_r</a>, <a class="el" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea365dbc32084e314b4788756b6fa66ecb">character_gets_headshot</a>, <a class="el" href="damage_8h_source.html#l00024">DT_BASH</a>, <a class="el" href="damage_8h_source.html#l00025">DT_CUT</a>, <a class="el" href="ranged_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, <a class="el" href="character_8cpp_source.html#l03985">Character::encumb()</a>, <a class="el" href="itype_8h_source.html#l00945">itype::explosion</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="item_8cpp_source.html#l06890">item::get_contained()</a>, <a class="el" href="item_8cpp_source.html#l08239">item::get_container_capacity()</a>, <a class="el" href="item_8cpp_source.html#l05258">item::get_property_int64_t()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="character_8cpp_source.html#l04048">Character::get_str()</a>, <a class="el" href="character_8cpp_source.html#l00470">Character::getID()</a>, <a class="el" href="character_8cpp_source.html#l01876">Character::has_active_bionic()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="itype_8cpp_source.html#l00071">itype::has_flag()</a>, <a class="el" href="item_8cpp_source.html#l05247">item::has_property()</a>, <a class="el" href="optional_8h_source.html#l00120">cata::optional&lt; T &gt;::has_value()</a>, <a class="el" href="player_8cpp_source.html#l01169">impact()</a>, <a class="el" href="projectile_8h_source.html#l00021">projectile::impact</a>, <a class="el" href="item_8cpp_source.html#l06569">item::is_container()</a>, <a class="el" href="character_8cpp_source.html#l01133">Character::is_mounted()</a>, <a class="el" href="player_8h_source.html#l00691">last_target_pos</a>, <a class="el" href="item_8cpp_source.html#l06263">item::made_of()</a>, <a class="el" href="item_8cpp_source.html#l06285">item::made_of_any()</a>, <a class="el" href="game__constants_8h_source.html#l00128">MAX_RECOIL</a>, <a class="el" href="game__constants_8h_source.html#l00111">MAX_SKILL</a>, <a class="el" href="creature_8cpp_source.html#l01402">Creature::mod_moves()</a>, <a class="el" href="character_8cpp_source.html#l07194">Character::mod_stamina()</a>, <a class="el" href="character_8h_source.html#l01620">Character::mounted_creature</a>, <a class="el" href="avatar__action_8cpp_source.html#l00090">avatar_action::move()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00888">move_cost()</a>, <a class="el" href="optional_8h_source.html#l00022">cata::nullopt</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="player_8cpp_source.html#l04005">practice()</a>, <a class="el" href="ballistics_8cpp_source.html#l00201">projectile_attack()</a>, <a class="el" href="projectile_8h_source.html#l00026">projectile::range</a>, <a class="el" href="character_8h_source.html#l00618">Character::recoil</a>, <a class="el" href="damage_8h_source.html#l00038">damage_unit::res_pen</a>, <a class="el" href="coordinates_8h_source.html#l00519">rl_dist()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="rng_8cpp_source.html#l00096">roll_remainder()</a>, <a class="el" href="projectile_8cpp_source.html#l00086">projectile::set_custom_explosion()</a>, <a class="el" href="projectile_8cpp_source.html#l00053">projectile::set_drop()</a>, <a class="el" href="ranged_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a>, <a class="el" href="projectile_8h_source.html#l00025">projectile::speed</a>, <a class="el" href="ranged_8cpp_source.html#l00966">ranged::throw_cost()</a>, <a class="el" href="ranged_8cpp_source.html#l01061">ranged::throwing_dispersion()</a>, <a class="el" href="units__volume_8h_source.html#l00038">units::to_milliliter()</a>, <a class="el" href="damage_8cpp_source.html#l00075">damage_instance::total_damage()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="units__def_8h_source.html#l00044">units::quantity&lt; V, U &gt;::value()</a>, <a class="el" href="item_8cpp_source.html#l04991">item::volume()</a>, <a class="el" href="player_8h_source.html#l00684">volume</a>, and <a class="el" href="item_8cpp_source.html#l04844">item::weight()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l03467">npc_throw()</a>, and <a class="el" href="avatar__action_8cpp_source.html#l00845">avatar_action::plthrow()</a>.</p>

</div>
</div>
<a id="af5e3009e1ccad19cbbc7c54500c98090" name="af5e3009e1ccad19cbbc7c54500c98090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5e3009e1ccad19cbbc7c54500c98090">&#9670;&nbsp;</a></span>toolmod_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::toolmod_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem__location.html">item_location</a>&#160;</td>
          <td class="paramname"><em>tool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem__location.html">item_location</a>&#160;</td>
          <td class="paramname"><em>mod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts activity to install toolmod. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03622">3622</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03623" name="l03623"></a><span class="lineno"> 3623</span>{</div>
<div class="line"><a id="l03624" name="l03624"></a><span class="lineno"> 3624</span>    <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a> &amp;&amp; !<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) {</div>
<div class="line"><a id="l03625" name="l03625"></a><span class="lineno"> 3625</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried toolmod installation but mod/tool not available&quot;</span> );</div>
<div class="line"><a id="l03626" name="l03626"></a><span class="lineno"> 3626</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03627" name="l03627"></a><span class="lineno"> 3627</span>    }</div>
<div class="line"><a id="l03628" name="l03628"></a><span class="lineno"> 3628</span>    <span class="comment">// first check at least the minimum requirements are met</span></div>
<div class="line"><a id="l03629" name="l03629"></a><span class="lineno"> 3629</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#a4eddeb86babf626e7869882079b40651">can_use</a>( *<a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>, *<a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a> ) ) {</div>
<div class="line"><a id="l03630" name="l03630"></a><span class="lineno"> 3630</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03631" name="l03631"></a><span class="lineno"> 3631</span>    }</div>
<div class="line"><a id="l03632" name="l03632"></a><span class="lineno"> 3632</span> </div>
<div class="line"><a id="l03633" name="l03633"></a><span class="lineno"> 3633</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a341f7f0dc2d439c0aa12e55fb29d87a6">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Permanently install your %1$s in your %2$s?&quot;</span> ),</div>
<div class="line"><a id="l03634" name="l03634"></a><span class="lineno"> 3634</span>                   <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;tname(), <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>-&gt;color_in_inventory() ),</div>
<div class="line"><a id="l03635" name="l03635"></a><span class="lineno"> 3635</span>                   <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>-&gt;tname(), <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>-&gt;color_in_inventory() ) ) ) {</div>
<div class="line"><a id="l03636" name="l03636"></a><span class="lineno"> 3636</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Never mind.&quot;</span> ) );</div>
<div class="line"><a id="l03637" name="l03637"></a><span class="lineno"> 3637</span>        <span class="keywordflow">return</span>; <span class="comment">// player canceled installation</span></div>
<div class="line"><a id="l03638" name="l03638"></a><span class="lineno"> 3638</span>    }</div>
<div class="line"><a id="l03639" name="l03639"></a><span class="lineno"> 3639</span> </div>
<div class="line"><a id="l03640" name="l03640"></a><span class="lineno"> 3640</span>    <a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_TOOLMOD_ADD&quot;</span> ), 1, -1 );</div>
<div class="line"><a id="l03641" name="l03641"></a><span class="lineno"> 3641</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.emplace_back( <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a> ) );</div>
<div class="line"><a id="l03642" name="l03642"></a><span class="lineno"> 3642</span>    <a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.emplace_back( <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> ) );</div>
<div class="line"><a id="l03643" name="l03643"></a><span class="lineno"> 3643</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="character_8cpp_source.html#l02898">Character::can_use()</a>, <a class="el" href="color_8cpp_source.html#l00669">colorize()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00090">avatar_action::move()</a>, <a class="el" href="player_8cpp_source.html#l04405">query_yn()</a>, <a class="el" href="player__activity_8h_source.html#l00056">player_activity::targets</a>, <a class="el" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>, and <a class="el" href="player_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l05936">iuse::toolmod_attach()</a>.</p>

</div>
</div>
<a id="a755c8e77aeb786765909fcdea856aea5" name="a755c8e77aeb786765909fcdea856aea5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a755c8e77aeb786765909fcdea856aea5">&#9670;&nbsp;</a></span>try_to_sleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::try_to_sleep </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtime__duration.html">time_duration</a> &amp;&#160;</td>
          <td class="paramname"><em>dur</em> = <code>30_minutes</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles sleep attempts by the player, starts ACT_TRY_SLEEP activity. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03766">3766</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03767" name="l03767"></a><span class="lineno"> 3767</span>{</div>
<div class="line"><a id="l03768" name="l03768"></a><span class="lineno"> 3768</span>    <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.veh_at( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l03769" name="l03769"></a><span class="lineno"> 3769</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtrap.html">trap</a> &amp;trap_at_pos = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.tr_at( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l03770" name="l03770"></a><span class="lineno"> 3770</span>    <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> ter_at_pos = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.ter( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l03771" name="l03771"></a><span class="lineno"> 3771</span>    <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">furn_id</a> furn_at_pos = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.furn( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l03772" name="l03772"></a><span class="lineno"> 3772</span>    <span class="keywordtype">bool</span> plantsleep = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03773" name="l03773"></a><span class="lineno"> 3773</span>    <span class="keywordtype">bool</span> fungaloid_cosplay = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03774" name="l03774"></a><span class="lineno"> 3774</span>    <span class="keywordtype">bool</span> websleep = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03775" name="l03775"></a><span class="lineno"> 3775</span>    <span class="keywordtype">bool</span> webforce = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03776" name="l03776"></a><span class="lineno"> 3776</span>    <span class="keywordtype">bool</span> websleeping = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03777" name="l03777"></a><span class="lineno"> 3777</span>    <span class="keywordtype">bool</span> in_shell = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03778" name="l03778"></a><span class="lineno"> 3778</span>    <span class="keywordtype">bool</span> watersleep = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03779" name="l03779"></a><span class="lineno"> 3779</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#aba25188f1c6479109ff8fb4004f03ebb">trait_CHLOROMORPH</a> ) ) {</div>
<div class="line"><a id="l03780" name="l03780"></a><span class="lineno"> 3780</span>        plantsleep = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03781" name="l03781"></a><span class="lineno"> 3781</span>        <span class="keywordflow">if</span>( ( ter_at_pos == <a class="code hl_variable" href="mapdata_8cpp.html#aa4573ce2c594834a8ced806a5099f3e3">t_dirt</a> || ter_at_pos == <a class="code hl_variable" href="mapdata_8cpp.html#ae6822029506d9cb25c5077dfec866b86">t_pit</a> ||</div>
<div class="line"><a id="l03782" name="l03782"></a><span class="lineno"> 3782</span>              ter_at_pos == <a class="code hl_variable" href="mapdata_8cpp.html#af636f3d89f77cfd0ebb47c3d4ecac0c1">t_dirtmound</a> || ter_at_pos == <a class="code hl_variable" href="mapdata_8cpp.html#acde4690b771efe403c3c6b972e839df7">t_pit_shallow</a> ||</div>
<div class="line"><a id="l03783" name="l03783"></a><span class="lineno"> 3783</span>              ter_at_pos == <a class="code hl_variable" href="mapdata_8cpp.html#a32dc54d9fe56e71bbb905cbb67a782eb">t_grass</a> ) &amp;&amp; !vp &amp;&amp;</div>
<div class="line"><a id="l03784" name="l03784"></a><span class="lineno"> 3784</span>            furn_at_pos == <a class="code hl_variable" href="mapdata_8cpp.html#a98423a935af4b918d68f206e63f6cf7f">f_null</a> ) {</div>
<div class="line"><a id="l03785" name="l03785"></a><span class="lineno"> 3785</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You relax as your roots embrace the soil.&quot;</span> ) );</div>
<div class="line"><a id="l03786" name="l03786"></a><span class="lineno"> 3786</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( vp ) {</div>
<div class="line"><a id="l03787" name="l03787"></a><span class="lineno"> 3787</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It&#39;s impossible to sleep in this wheeled pot!&quot;</span> ) );</div>
<div class="line"><a id="l03788" name="l03788"></a><span class="lineno"> 3788</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( furn_at_pos != <a class="code hl_variable" href="mapdata_8cpp.html#a98423a935af4b918d68f206e63f6cf7f">f_null</a> ) {</div>
<div class="line"><a id="l03789" name="l03789"></a><span class="lineno"> 3789</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a id="l03790" name="l03790"></a><span class="lineno"> 3790</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The humans&#39; furniture blocks your roots.  You can&#39;t get comfortable.&quot;</span> ) );</div>
<div class="line"><a id="l03791" name="l03791"></a><span class="lineno"> 3791</span>        } <span class="keywordflow">else</span> { <span class="comment">// Floor problems</span></div>
<div class="line"><a id="l03792" name="l03792"></a><span class="lineno"> 3792</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your roots scrabble ineffectively at the unyielding surface.&quot;</span> ) );</div>
<div class="line"><a id="l03793" name="l03793"></a><span class="lineno"> 3793</span>        }</div>
<div class="line"><a id="l03794" name="l03794"></a><span class="lineno"> 3794</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a039c3379527621f928cbc2e62686108c">trait_M_SKIN3</a> ) ) {</div>
<div class="line"><a id="l03795" name="l03795"></a><span class="lineno"> 3795</span>        fungaloid_cosplay = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03796" name="l03796"></a><span class="lineno"> 3796</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag_ter_or_furn( <span class="stringliteral">&quot;FUNGUS&quot;</span>, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l03797" name="l03797"></a><span class="lineno"> 3797</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a id="l03798" name="l03798"></a><span class="lineno"> 3798</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Our fibers meld with the ground beneath us.  The gills on our neck begin to seed the air with spores as our awareness fades.&quot;</span> ) );</div>
<div class="line"><a id="l03799" name="l03799"></a><span class="lineno"> 3799</span>        }</div>
<div class="line"><a id="l03800" name="l03800"></a><span class="lineno"> 3800</span>    }</div>
<div class="line"><a id="l03801" name="l03801"></a><span class="lineno"> 3801</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a0e02f772574a897b72bd8fc3c48e7f3d">trait_WEB_WALKER</a> ) ) {</div>
<div class="line"><a id="l03802" name="l03802"></a><span class="lineno"> 3802</span>        websleep = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03803" name="l03803"></a><span class="lineno"> 3803</span>    }</div>
<div class="line"><a id="l03804" name="l03804"></a><span class="lineno"> 3804</span>    <span class="comment">// Not sure how one would get Arachnid w/o web-making, but Just In Case</span></div>
<div class="line"><a id="l03805" name="l03805"></a><span class="lineno"> 3805</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#af9f531764978ce897647a8b151bebfef">trait_THRESH_SPIDER</a> ) &amp;&amp; ( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a81b633e679725d3a23cfed0548dd0a17">trait_WEB_SPINNER</a> ) ||</div>
<div class="line"><a id="l03806" name="l03806"></a><span class="lineno"> 3806</span>            ( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a6d71b37c506e3143c525c4021a580366">trait_WEB_WEAVER</a> ) ) ) ) {</div>
<div class="line"><a id="l03807" name="l03807"></a><span class="lineno"> 3807</span>        webforce = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03808" name="l03808"></a><span class="lineno"> 3808</span>    }</div>
<div class="line"><a id="l03809" name="l03809"></a><span class="lineno"> 3809</span>    <span class="keywordflow">if</span>( websleep || webforce ) {</div>
<div class="line"><a id="l03810" name="l03810"></a><span class="lineno"> 3810</span>        <span class="keywordtype">int</span> web = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.get_field_intensity( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_variable" href="field__type_8cpp.html#afca1ca43633c0fc76d866752559218d4">fd_web</a> );</div>
<div class="line"><a id="l03811" name="l03811"></a><span class="lineno"> 3811</span>        <span class="keywordflow">if</span>( !webforce ) {</div>
<div class="line"><a id="l03812" name="l03812"></a><span class="lineno"> 3812</span>            <span class="comment">// At this point, it&#39;s kinda weird, but surprisingly comfy...</span></div>
<div class="line"><a id="l03813" name="l03813"></a><span class="lineno"> 3813</span>            <span class="keywordflow">if</span>( web &gt;= 3 ) {</div>
<div class="line"><a id="l03814" name="l03814"></a><span class="lineno"> 3814</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a id="l03815" name="l03815"></a><span class="lineno"> 3815</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;These thick webs support your weight, and are strangely comfortable…&quot;</span> ) );</div>
<div class="line"><a id="l03816" name="l03816"></a><span class="lineno"> 3816</span>                websleeping = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03817" name="l03817"></a><span class="lineno"> 3817</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( web &gt; 0 ) {</div>
<div class="line"><a id="l03818" name="l03818"></a><span class="lineno"> 3818</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l03819" name="l03819"></a><span class="lineno"> 3819</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You try to sleep, but the webs get in the way.  You brush them aside.&quot;</span> ) );</div>
<div class="line"><a id="l03820" name="l03820"></a><span class="lineno"> 3820</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.remove_field( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_variable" href="field__type_8cpp.html#afca1ca43633c0fc76d866752559218d4">fd_web</a> );</div>
<div class="line"><a id="l03821" name="l03821"></a><span class="lineno"> 3821</span>            }</div>
<div class="line"><a id="l03822" name="l03822"></a><span class="lineno"> 3822</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03823" name="l03823"></a><span class="lineno"> 3823</span>            <span class="comment">// Here, you&#39;re just not comfortable outside a nice thick web.</span></div>
<div class="line"><a id="l03824" name="l03824"></a><span class="lineno"> 3824</span>            <span class="keywordflow">if</span>( web &gt;= 3 ) {</div>
<div class="line"><a id="l03825" name="l03825"></a><span class="lineno"> 3825</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You relax into your web.&quot;</span> ) );</div>
<div class="line"><a id="l03826" name="l03826"></a><span class="lineno"> 3826</span>                websleeping = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03827" name="l03827"></a><span class="lineno"> 3827</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03828" name="l03828"></a><span class="lineno"> 3828</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a id="l03829" name="l03829"></a><span class="lineno"> 3829</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You try to sleep, but you feel exposed and your spinnerets keep twitching.&quot;</span> ) );</div>
<div class="line"><a id="l03830" name="l03830"></a><span class="lineno"> 3830</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Maybe a nice thick web would help you sleep.&quot;</span> ) );</div>
<div class="line"><a id="l03831" name="l03831"></a><span class="lineno"> 3831</span>            }</div>
<div class="line"><a id="l03832" name="l03832"></a><span class="lineno"> 3832</span>        }</div>
<div class="line"><a id="l03833" name="l03833"></a><span class="lineno"> 3833</span>    }</div>
<div class="line"><a id="l03834" name="l03834"></a><span class="lineno"> 3834</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a225de862f8875f9ff96ec8a303213404">has_active_mutation</a>( <a class="code hl_variable" href="player_8cpp.html#a930a7d3aa631d14eb81c3f2fa9a6863e">trait_SHELL2</a> ) ) {</div>
<div class="line"><a id="l03835" name="l03835"></a><span class="lineno"> 3835</span>        <span class="comment">// Your shell&#39;s interior is a comfortable place to sleep.</span></div>
<div class="line"><a id="l03836" name="l03836"></a><span class="lineno"> 3836</span>        in_shell = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03837" name="l03837"></a><span class="lineno"> 3837</span>    }</div>
<div class="line"><a id="l03838" name="l03838"></a><span class="lineno"> 3838</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#abf29a0f9f2b03dbf9baa8dd6af688d41">trait_WATERSLEEP</a> ) ) {</div>
<div class="line"><a id="l03839" name="l03839"></a><span class="lineno"> 3839</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a> ) {</div>
<div class="line"><a id="l03840" name="l03840"></a><span class="lineno"> 3840</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a id="l03841" name="l03841"></a><span class="lineno"> 3841</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You lay beneath the waves&#39; embrace, gazing up through the water&#39;s surface…&quot;</span> ) );</div>
<div class="line"><a id="l03842" name="l03842"></a><span class="lineno"> 3842</span>            watersleep = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03843" name="l03843"></a><span class="lineno"> 3843</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.has_flag_ter( <span class="stringliteral">&quot;SWIMMABLE&quot;</span>, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l03844" name="l03844"></a><span class="lineno"> 3844</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You settle into the water and begin to drowse…&quot;</span> ) );</div>
<div class="line"><a id="l03845" name="l03845"></a><span class="lineno"> 3845</span>            watersleep = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03846" name="l03846"></a><span class="lineno"> 3846</span>        }</div>
<div class="line"><a id="l03847" name="l03847"></a><span class="lineno"> 3847</span>    }</div>
<div class="line"><a id="l03848" name="l03848"></a><span class="lineno"> 3848</span>    <span class="keywordflow">if</span>( !plantsleep &amp;&amp; ( furn_at_pos.<a class="code hl_function" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code hl_variable" href="structfurn__t.html#af40d2527bd923a4829e7077904c53e69">comfort</a> &gt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_enumvalue" href="classCharacter.html#a764126d3e4c9f9450d6d9e40ec00d946a5da248ea6840aca1ae2b417b17982a89">comfort_level::neutral</a> ) ||</div>
<div class="line"><a id="l03849" name="l03849"></a><span class="lineno"> 3849</span>                         ter_at_pos == <a class="code hl_variable" href="mapdata_8cpp.html#a2c6e2bf4cee22b3ff74d7e69a18795af">t_improvised_shelter</a> ||</div>
<div class="line"><a id="l03850" name="l03850"></a><span class="lineno"> 3850</span>                         trap_at_pos.<a class="code hl_variable" href="structtrap.html#a9e32dc8e92c961fb52b3086421c62b8e">comfort</a> &gt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_enumvalue" href="classCharacter.html#a764126d3e4c9f9450d6d9e40ec00d946a5da248ea6840aca1ae2b417b17982a89">comfort_level::neutral</a> ) ||</div>
<div class="line"><a id="l03851" name="l03851"></a><span class="lineno"> 3851</span>                         in_shell || websleeping || watersleep ||</div>
<div class="line"><a id="l03852" name="l03852"></a><span class="lineno"> 3852</span>                         vp.<a class="code hl_function" href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">part_with_feature</a>( <span class="stringliteral">&quot;SEAT&quot;</span>, <span class="keyword">true</span> ) ||</div>
<div class="line"><a id="l03853" name="l03853"></a><span class="lineno"> 3853</span>                         vp.<a class="code hl_function" href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">part_with_feature</a>( <span class="stringliteral">&quot;BED&quot;</span>, <span class="keyword">true</span> ) ) ) {</div>
<div class="line"><a id="l03854" name="l03854"></a><span class="lineno"> 3854</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This is a comfortable place to sleep.&quot;</span> ) );</div>
<div class="line"><a id="l03855" name="l03855"></a><span class="lineno"> 3855</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !plantsleep &amp;&amp; !fungaloid_cosplay &amp;&amp; !watersleep ) {</div>
<div class="line"><a id="l03856" name="l03856"></a><span class="lineno"> 3856</span>        <span class="keywordflow">if</span>( !vp &amp;&amp; ter_at_pos != <a class="code hl_variable" href="mapdata_8cpp.html#aa4d82f7bb5458062f399e93bc5c3b275">t_floor</a> ) {</div>
<div class="line"><a id="l03857" name="l03857"></a><span class="lineno"> 3857</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( ter_at_pos.<a class="code hl_function" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code hl_variable" href="structmap__data__common__t.html#aa6eb23c1a5d8e89d877880f9aaf32eb6">movecost</a> &lt;= 2 ?</div>
<div class="line"><a id="l03858" name="l03858"></a><span class="lineno"> 3858</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It&#39;s a little hard to get to sleep on this %s.&quot;</span> ) :</div>
<div class="line"><a id="l03859" name="l03859"></a><span class="lineno"> 3859</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It&#39;s hard to get to sleep on this %s.&quot;</span> ),</div>
<div class="line"><a id="l03860" name="l03860"></a><span class="lineno"> 3860</span>                               ter_at_pos.<a class="code hl_function" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code hl_function" href="structmap__data__common__t.html#a1e749bfdff8adff5829dc013dcac0cc1">name</a>() );</div>
<div class="line"><a id="l03861" name="l03861"></a><span class="lineno"> 3861</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( vp ) {</div>
<div class="line"><a id="l03862" name="l03862"></a><span class="lineno"> 3862</span>            <span class="keywordflow">if</span>( vp-&gt;<a class="code hl_function" href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">part_with_feature</a>( <a class="code hl_enumvalue" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea827ce264aff5ea40d24e0be152420ef4">VPFLAG_AISLE</a>, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l03863" name="l03863"></a><span class="lineno"> 3863</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>(</div>
<div class="line"><a id="l03864" name="l03864"></a><span class="lineno"> 3864</span>                    <span class="comment">//~ %1$s: vehicle name, %2$s: vehicle part name</span></div>
<div class="line"><a id="l03865" name="l03865"></a><span class="lineno"> 3865</span>                    <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It&#39;s a little hard to get to sleep on this %2$s in %1$s.&quot;</span> ),</div>
<div class="line"><a id="l03866" name="l03866"></a><span class="lineno"> 3866</span>                    vp-&gt;vehicle().disp_name(),</div>
<div class="line"><a id="l03867" name="l03867"></a><span class="lineno"> 3867</span>                    vp-&gt;<a class="code hl_function" href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">part_with_feature</a>( <a class="code hl_enumvalue" href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea827ce264aff5ea40d24e0be152420ef4">VPFLAG_AISLE</a>, <span class="keyword">true</span> )-&gt;part().name( <span class="keyword">false</span> ) );</div>
<div class="line"><a id="l03868" name="l03868"></a><span class="lineno"> 3868</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03869" name="l03869"></a><span class="lineno"> 3869</span>                <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>(</div>
<div class="line"><a id="l03870" name="l03870"></a><span class="lineno"> 3870</span>                    <span class="comment">//~ %1$s: vehicle name</span></div>
<div class="line"><a id="l03871" name="l03871"></a><span class="lineno"> 3871</span>                    <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It&#39;s hard to get to sleep in %1$s.&quot;</span> ),</div>
<div class="line"><a id="l03872" name="l03872"></a><span class="lineno"> 3872</span>                    vp-&gt;vehicle().disp_name() );</div>
<div class="line"><a id="l03873" name="l03873"></a><span class="lineno"> 3873</span>            }</div>
<div class="line"><a id="l03874" name="l03874"></a><span class="lineno"> 3874</span>        }</div>
<div class="line"><a id="l03875" name="l03875"></a><span class="lineno"> 3875</span>    }</div>
<div class="line"><a id="l03876" name="l03876"></a><span class="lineno"> 3876</span>    <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You start trying to fall asleep.&quot;</span> ) );</div>
<div class="line"><a id="l03877" name="l03877"></a><span class="lineno"> 3877</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af9c7419575e23d52745c94009929fafb">has_active_bionic</a>( <a class="code hl_variable" href="player_8cpp.html#a978adf30232e0bcf1b9d38a73b8dd30e">bio_soporific</a> ) ) {</div>
<div class="line"><a id="l03878" name="l03878"></a><span class="lineno"> 3878</span>        <a class="code hl_variable" href="classplayer.html#a1c39a85115cfe10b149ed518a08d2e31">bio_soporific_powered_at_last_sleep_check</a> = <a class="code hl_function" href="classCharacter.html#ad33fda9a7f9d4c8529cff2bbaea675ae">has_power</a>();</div>
<div class="line"><a id="l03879" name="l03879"></a><span class="lineno"> 3879</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer.html#a1c39a85115cfe10b149ed518a08d2e31">bio_soporific_powered_at_last_sleep_check</a> ) {</div>
<div class="line"><a id="l03880" name="l03880"></a><span class="lineno"> 3880</span>            <span class="comment">// The actual bonus is applied in sleep_spot( p ).</span></div>
<div class="line"><a id="l03881" name="l03881"></a><span class="lineno"> 3881</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your soporific inducer starts working its magic.&quot;</span> ) );</div>
<div class="line"><a id="l03882" name="l03882"></a><span class="lineno"> 3882</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03883" name="l03883"></a><span class="lineno"> 3883</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your soporific inducer doesn&#39;t have enough power to operate.&quot;</span> ) );</div>
<div class="line"><a id="l03884" name="l03884"></a><span class="lineno"> 3884</span>        }</div>
<div class="line"><a id="l03885" name="l03885"></a><span class="lineno"> 3885</span>    }</div>
<div class="line"><a id="l03886" name="l03886"></a><span class="lineno"> 3886</span>    <a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_TRY_SLEEP&quot;</span> ), to_moves&lt;int&gt;( dur ) );</div>
<div class="line"><a id="l03887" name="l03887"></a><span class="lineno"> 3887</span>}</div>
<div class="ttc" id="aclassCharacter_html_a764126d3e4c9f9450d6d9e40ec00d946a5da248ea6840aca1ae2b417b17982a89"><div class="ttname"><a href="classCharacter.html#a764126d3e4c9f9450d6d9e40ec00d946a5da248ea6840aca1ae2b417b17982a89">Character::comfort_level::neutral</a></div><div class="ttdeci">@ neutral</div></div>
<div class="ttc" id="aclassint__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">int_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00026">ammo_effect.cpp:26</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html_a2f0829fa83c2c4d3007e26b91af11856"><div class="ttname"><a href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">optional_vpart_position::part_with_feature</a></div><div class="ttdeci">cata::optional&lt; vpart_reference &gt; part_with_feature(const std::string &amp;f, bool unbroken) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02479">vehicle.cpp:2479</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_afca1ca43633c0fc76d866752559218d4"><div class="ttname"><a href="field__type_8cpp.html#afca1ca43633c0fc76d866752559218d4">fd_web</a></div><div class="ttdeci">field_type_id fd_web</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00340">field_type.cpp:340</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a2c6e2bf4cee22b3ff74d7e69a18795af"><div class="ttname"><a href="mapdata_8cpp.html#a2c6e2bf4cee22b3ff74d7e69a18795af">t_improvised_shelter</a></div><div class="ttdeci">ter_id t_improvised_shelter</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00716">mapdata.cpp:716</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a32dc54d9fe56e71bbb905cbb67a782eb"><div class="ttname"><a href="mapdata_8cpp.html#a32dc54d9fe56e71bbb905cbb67a782eb">t_grass</a></div><div class="ttdeci">ter_id t_grass</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00628">mapdata.cpp:628</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a98423a935af4b918d68f206e63f6cf7f"><div class="ttname"><a href="mapdata_8cpp.html#a98423a935af4b918d68f206e63f6cf7f">f_null</a></div><div class="ttdeci">furn_id f_null</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l01095">mapdata.cpp:1095</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_aa4573ce2c594834a8ced806a5099f3e3"><div class="ttname"><a href="mapdata_8cpp.html#aa4573ce2c594834a8ced806a5099f3e3">t_dirt</a></div><div class="ttdeci">ter_id t_dirt</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00625">mapdata.cpp:625</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_aa4d82f7bb5458062f399e93bc5c3b275"><div class="ttname"><a href="mapdata_8cpp.html#aa4d82f7bb5458062f399e93bc5c3b275">t_floor</a></div><div class="ttdeci">ter_id t_floor</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00632">mapdata.cpp:632</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_acde4690b771efe403c3c6b972e839df7"><div class="ttname"><a href="mapdata_8cpp.html#acde4690b771efe403c3c6b972e839df7">t_pit_shallow</a></div><div class="ttdeci">ter_id t_pit_shallow</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00625">mapdata.cpp:625</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_ae6822029506d9cb25c5077dfec866b86"><div class="ttname"><a href="mapdata_8cpp.html#ae6822029506d9cb25c5077dfec866b86">t_pit</a></div><div class="ttdeci">ter_id t_pit</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00625">mapdata.cpp:625</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_af636f3d89f77cfd0ebb47c3d4ecac0c1"><div class="ttname"><a href="mapdata_8cpp.html#af636f3d89f77cfd0ebb47c3d4ecac0c1">t_dirtmound</a></div><div class="ttdeci">ter_id t_dirtmound</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00625">mapdata.cpp:625</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a039c3379527621f928cbc2e62686108c"><div class="ttname"><a href="player_8cpp.html#a039c3379527621f928cbc2e62686108c">trait_M_SKIN3</a></div><div class="ttdeci">static const trait_id trait_M_SKIN3(&quot;M_SKIN3&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a0e02f772574a897b72bd8fc3c48e7f3d"><div class="ttname"><a href="player_8cpp.html#a0e02f772574a897b72bd8fc3c48e7f3d">trait_WEB_WALKER</a></div><div class="ttdeci">static const trait_id trait_WEB_WALKER(&quot;WEB_WALKER&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a6d71b37c506e3143c525c4021a580366"><div class="ttname"><a href="player_8cpp.html#a6d71b37c506e3143c525c4021a580366">trait_WEB_WEAVER</a></div><div class="ttdeci">static const trait_id trait_WEB_WEAVER(&quot;WEB_WEAVER&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a81b633e679725d3a23cfed0548dd0a17"><div class="ttname"><a href="player_8cpp.html#a81b633e679725d3a23cfed0548dd0a17">trait_WEB_SPINNER</a></div><div class="ttdeci">static const trait_id trait_WEB_SPINNER(&quot;WEB_SPINNER&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a930a7d3aa631d14eb81c3f2fa9a6863e"><div class="ttname"><a href="player_8cpp.html#a930a7d3aa631d14eb81c3f2fa9a6863e">trait_SHELL2</a></div><div class="ttdeci">static const trait_id trait_SHELL2(&quot;SHELL2&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_aba25188f1c6479109ff8fb4004f03ebb"><div class="ttname"><a href="player_8cpp.html#aba25188f1c6479109ff8fb4004f03ebb">trait_CHLOROMORPH</a></div><div class="ttdeci">static const trait_id trait_CHLOROMORPH(&quot;CHLOROMORPH&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_af9f531764978ce897647a8b151bebfef"><div class="ttname"><a href="player_8cpp.html#af9f531764978ce897647a8b151bebfef">trait_THRESH_SPIDER</a></div><div class="ttdeci">static const trait_id trait_THRESH_SPIDER(&quot;THRESH_SPIDER&quot;)</div></div>
<div class="ttc" id="astructfurn__t_html_af40d2527bd923a4829e7077904c53e69"><div class="ttname"><a href="structfurn__t.html#af40d2527bd923a4829e7077904c53e69">furn_t::comfort</a></div><div class="ttdeci">int comfort</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00497">mapdata.h:497</a></div></div>
<div class="ttc" id="astructmap__data__common__t_html_a1e749bfdff8adff5829dc013dcac0cc1"><div class="ttname"><a href="structmap__data__common__t.html#a1e749bfdff8adff5829dc013dcac0cc1">map_data_common_t::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00511">mapdata.cpp:511</a></div></div>
<div class="ttc" id="astructmap__data__common__t_html_aa6eb23c1a5d8e89d877880f9aaf32eb6"><div class="ttname"><a href="structmap__data__common__t.html#aa6eb23c1a5d8e89d877880f9aaf32eb6">map_data_common_t::movecost</a></div><div class="ttdeci">int movecost</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00381">mapdata.h:381</a></div></div>
<div class="ttc" id="astructtrap_html_a9e32dc8e92c961fb52b3086421c62b8e"><div class="ttname"><a href="structtrap.html#a9e32dc8e92c961fb52b3086421c62b8e">trap::comfort</a></div><div class="ttdeci">int comfort</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00119">trap.h:119</a></div></div>
<div class="ttc" id="aveh__type_8h_html_aa3ff66a8c100c3deb40dfa70f1eb307ea827ce264aff5ea40d24e0be152420ef4"><div class="ttname"><a href="veh__type_8h.html#aa3ff66a8c100c3deb40dfa70f1eb307ea827ce264aff5ea40d24e0be152420ef4">VPFLAG_AISLE</a></div><div class="ttdeci">@ VPFLAG_AISLE</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00040">veh_type.h:40</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="player_8cpp.html#a978adf30232e0bcf1b9d38a73b8dd30e">bio_soporific</a>, <a class="el" href="player_8h_source.html#l00482">bio_soporific_powered_at_last_sleep_check</a>, <a class="el" href="mapdata_8h_source.html#l00497">furn_t::comfort</a>, <a class="el" href="trap_8h_source.html#l00119">trap::comfort</a>, <a class="el" href="mapdata_8cpp_source.html#l01095">f_null</a>, <a class="el" href="field__type_8cpp_source.html#l00340">fd_web</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l01876">Character::has_active_bionic()</a>, <a class="el" href="mutation_8cpp_source.html#l00367">Character::has_active_mutation()</a>, <a class="el" href="character_8cpp_source.html#l01998">Character::has_power()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, <a class="el" href="enums_8h_source.html#l00253">m_good</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="mapdata_8h_source.html#l00381">map_data_common_t::movecost</a>, <a class="el" href="mapdata_8cpp_source.html#l00511">map_data_common_t::name()</a>, <a class="el" href="classCharacter.html#a764126d3e4c9f9450d6d9e40ec00d946a5da248ea6840aca1ae2b417b17982a89">Character::neutral</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00026">int_id&lt; T &gt;::obj()</a>, <a class="el" href="vehicle_8cpp_source.html#l02479">optional_vpart_position::part_with_feature()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="mapdata_8cpp_source.html#l00625">t_dirt</a>, <a class="el" href="mapdata_8cpp_source.html#l00625">t_dirtmound</a>, <a class="el" href="mapdata_8cpp_source.html#l00632">t_floor</a>, <a class="el" href="mapdata_8cpp_source.html#l00628">t_grass</a>, <a class="el" href="mapdata_8cpp_source.html#l00716">t_improvised_shelter</a>, <a class="el" href="mapdata_8cpp_source.html#l00625">t_pit</a>, <a class="el" href="mapdata_8cpp_source.html#l00625">t_pit_shallow</a>, <a class="el" href="player_8cpp.html#aba25188f1c6479109ff8fb4004f03ebb">trait_CHLOROMORPH</a>, <a class="el" href="player_8cpp.html#a039c3379527621f928cbc2e62686108c">trait_M_SKIN3</a>, <a class="el" href="player_8cpp.html#a930a7d3aa631d14eb81c3f2fa9a6863e">trait_SHELL2</a>, <a class="el" href="player_8cpp.html#af9f531764978ce897647a8b151bebfef">trait_THRESH_SPIDER</a>, <a class="el" href="player_8cpp.html#abf29a0f9f2b03dbf9baa8dd6af688d41">trait_WATERSLEEP</a>, <a class="el" href="player_8cpp.html#a81b633e679725d3a23cfed0548dd0a17">trait_WEB_SPINNER</a>, <a class="el" href="player_8cpp.html#a0e02f772574a897b72bd8fc3c48e7f3d">trait_WEB_WALKER</a>, <a class="el" href="player_8cpp.html#a6d71b37c506e3143c525c4021a580366">trait_WEB_WEAVER</a>, <a class="el" href="creature_8h_source.html#l00570">Creature::underwater</a>, and <a class="el" href="veh__type_8h_source.html#l00040">VPFLAG_AISLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="handle__action_8cpp_source.html#l01000">sleep()</a>.</p>

</div>
</div>
<a id="a9d29f3f8b0db12ee6efc61d476bb8326" name="a9d29f3f8b0db12ee6efc61d476bb8326"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d29f3f8b0db12ee6efc61d476bb8326">&#9670;&nbsp;</a></span>unarmed_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double player::unarmed_value </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="melee_8cpp_source.html#l02258">2258</a> of file <a class="el" href="melee_8cpp_source.html">melee.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>{</div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>    <span class="comment">// TODO: Martial arts</span></div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classplayer.html#a7e5ce206cc070d81475a4fbaeaef852d">melee_value</a>( <a class="code hl_class" href="classitem.html">item</a>() );</div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span>}</div>
<div class="ttc" id="aclassplayer_html_a7e5ce206cc070d81475a4fbaeaef852d"><div class="ttname"><a href="classplayer.html#a7e5ce206cc070d81475a4fbaeaef852d">player::melee_value</a></div><div class="ttdeci">double melee_value(const item &amp;weap) const</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l02233">melee.cpp:2233</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="melee_8cpp_source.html#l02233">melee_value()</a>.</p>

</div>
</div>
<a id="a8ef167aef3a35a062b56c8905f59b133" name="a8ef167aef3a35a062b56c8905f59b133"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ef167aef3a35a062b56c8905f59b133">&#9670;&nbsp;</a></span>uncanny_dodge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool player::uncanny_dodge </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles the uncanny dodge bionic and effects, returns true if the player successfully dodges. </p>

<p>Reimplemented from <a class="el" href="classCreature.html#afd2f1b1e5bafdef20afddbb704b1d5a5">Creature</a>.</p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04302">4302</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04303" name="l04303"></a><span class="lineno"> 4303</span>{</div>
<div class="line"><a id="l04304" name="l04304"></a><span class="lineno"> 4304</span>    <span class="keywordtype">bool</span> is_u = <span class="keyword">this</span> == &amp;<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u;</div>
<div class="line"><a id="l04305" name="l04305"></a><span class="lineno"> 4305</span>    <span class="keywordtype">bool</span> seen = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l04306" name="l04306"></a><span class="lineno"> 4306</span>    <span class="keywordflow">if</span>( this-&gt;<a class="code hl_function" href="classCharacter.html#add22510ff2fa20a662868b4dd86e030e">get_power_level</a>() &lt; 74_kJ || !this-&gt;<a class="code hl_function" href="classCharacter.html#af9c7419575e23d52745c94009929fafb">has_active_bionic</a>( <a class="code hl_variable" href="player_8cpp.html#a798aca7aaa95fcd49a98b52c7be9b3cc">bio_uncanny_dodge</a> ) ) {</div>
<div class="line"><a id="l04307" name="l04307"></a><span class="lineno"> 4307</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04308" name="l04308"></a><span class="lineno"> 4308</span>    }</div>
<div class="line"><a id="l04309" name="l04309"></a><span class="lineno"> 4309</span>    <a class="code hl_struct" href="structtripoint.html">tripoint</a> adjacent = <a class="code hl_function" href="classCharacter.html#a7db38cfe9df5a59341ed2008089df3f9">adjacent_tile</a>();</div>
<div class="line"><a id="l04310" name="l04310"></a><span class="lineno"> 4310</span>    <a class="code hl_function" href="classCharacter.html#a17446e14fd6046648a505c4aaec3d976">mod_power_level</a>( -75_kJ );</div>
<div class="line"><a id="l04311" name="l04311"></a><span class="lineno"> 4311</span>    <span class="keywordflow">if</span>( adjacent.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> != <a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>() || adjacent.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> != <a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() ) {</div>
<div class="line"><a id="l04312" name="l04312"></a><span class="lineno"> 4312</span>        <a class="code hl_variable" href="classCharacter.html#a637149a8ac278a0533a6bb36f31e947e">position</a>.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> = adjacent.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a>;</div>
<div class="line"><a id="l04313" name="l04313"></a><span class="lineno"> 4313</span>        <a class="code hl_variable" href="classCharacter.html#a637149a8ac278a0533a6bb36f31e947e">position</a>.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> = adjacent.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a>;</div>
<div class="line"><a id="l04314" name="l04314"></a><span class="lineno"> 4314</span>        <span class="keywordflow">if</span>( is_u ) {</div>
<div class="line"><a id="l04315" name="l04315"></a><span class="lineno"> 4315</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Time seems to slow down and you instinctively dodge!&quot;</span> ) );</div>
<div class="line"><a id="l04316" name="l04316"></a><span class="lineno"> 4316</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( seen ) {</div>
<div class="line"><a id="l04317" name="l04317"></a><span class="lineno"> 4317</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s dodges… so fast!&quot;</span> ), this-&gt;<a class="code hl_function" href="classCharacter.html#a1e1996b6d6fc0a86d917cd155e1656d8">disp_name</a>() );</div>
<div class="line"><a id="l04318" name="l04318"></a><span class="lineno"> 4318</span> </div>
<div class="line"><a id="l04319" name="l04319"></a><span class="lineno"> 4319</span>        }</div>
<div class="line"><a id="l04320" name="l04320"></a><span class="lineno"> 4320</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l04321" name="l04321"></a><span class="lineno"> 4321</span>    }</div>
<div class="line"><a id="l04322" name="l04322"></a><span class="lineno"> 4322</span>    <span class="keywordflow">if</span>( is_u ) {</div>
<div class="line"><a id="l04323" name="l04323"></a><span class="lineno"> 4323</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You try to dodge but there&#39;s no room!&quot;</span> ) );</div>
<div class="line"><a id="l04324" name="l04324"></a><span class="lineno"> 4324</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( seen ) {</div>
<div class="line"><a id="l04325" name="l04325"></a><span class="lineno"> 4325</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s tries to dodge but there&#39;s no room!&quot;</span> ), this-&gt;<a class="code hl_function" href="classCharacter.html#a1e1996b6d6fc0a86d917cd155e1656d8">disp_name</a>() );</div>
<div class="line"><a id="l04326" name="l04326"></a><span class="lineno"> 4326</span>    }</div>
<div class="line"><a id="l04327" name="l04327"></a><span class="lineno"> 4327</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04328" name="l04328"></a><span class="lineno"> 4328</span>}</div>
<div class="ttc" id="aclassCharacter_html_a7db38cfe9df5a59341ed2008089df3f9"><div class="ttname"><a href="classCharacter.html#a7db38cfe9df5a59341ed2008089df3f9">Character::adjacent_tile</a></div><div class="ttdeci">tripoint adjacent_tile() const</div><div class="ttdoc">Returns an unoccupied, safe adjacent point.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07822">character.cpp:7822</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a798aca7aaa95fcd49a98b52c7be9b3cc"><div class="ttname"><a href="player_8cpp.html#a798aca7aaa95fcd49a98b52c7be9b3cc">bio_uncanny_dodge</a></div><div class="ttdeci">static const bionic_id bio_uncanny_dodge(&quot;bio_uncanny_dodge&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="character_8cpp_source.html#l07822">Character::adjacent_tile()</a>, <a class="el" href="player_8cpp.html#a798aca7aaa95fcd49a98b52c7be9b3cc">bio_uncanny_dodge</a>, <a class="el" href="character_8cpp_source.html#l00539">Character::disp_name()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="character_8cpp_source.html#l01956">Character::get_power_level()</a>, <a class="el" href="character_8cpp_source.html#l01876">Character::has_active_bionic()</a>, <a class="el" href="character_8cpp_source.html#l01976">Character::mod_power_level()</a>, <a class="el" href="character_8h_source.html#l02114">Character::position</a>, <a class="el" href="character_8h_source.html#l00838">Character::posx()</a>, <a class="el" href="character_8h_source.html#l00841">Character::posy()</a>, <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>, and <a class="el" href="point_8h_source.html#l00151">tripoint::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="monattack_8cpp_source.html#l02649">mattack::grab()</a>, and <a class="el" href="monattack_8cpp_source.html#l01182">mattack::science()</a>.</p>

</div>
</div>
<a id="a354106a089a5ddf51b5ecd81c75369db" name="a354106a089a5ddf51b5ecd81c75369db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a354106a089a5ddf51b5ecd81c75369db">&#9670;&nbsp;</a></span>unload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::unload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem__location.html">item_location</a>&#160;</td>
          <td class="paramname"><em>loc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03047">3047</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03048" name="l03048"></a><span class="lineno"> 3048</span>{</div>
<div class="line"><a id="l03049" name="l03049"></a><span class="lineno"> 3049</span>    <a class="code hl_class" href="classitem.html">item</a> &amp;it = *loc.<a class="code hl_function" href="classitem__location.html#a350bb267073f30205f780b394324a32c">get_item</a>();</div>
<div class="line"><a id="l03050" name="l03050"></a><span class="lineno"> 3050</span>    <span class="comment">// Unload a container consuming moves per item successfully removed</span></div>
<div class="line"><a id="l03051" name="l03051"></a><span class="lineno"> 3051</span>    <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() || it.<a class="code hl_function" href="classitem.html#a916a4a16b33de5c257fff71d9e579578">is_bandolier</a>() ) {</div>
<div class="line"><a id="l03052" name="l03052"></a><span class="lineno"> 3052</span>        <span class="keywordflow">if</span>( it.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() ) {</div>
<div class="line"><a id="l03053" name="l03053"></a><span class="lineno"> 3053</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s is already empty!&quot;</span> ), it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03054" name="l03054"></a><span class="lineno"> 3054</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03055" name="l03055"></a><span class="lineno"> 3055</span>        }</div>
<div class="line"><a id="l03056" name="l03056"></a><span class="lineno"> 3056</span>        <span class="keywordflow">if</span>( !it.<a class="code hl_function" href="classitem.html#a54fe4917d343209ae2fdb9b163bd967a">can_unload_liquid</a>() ) {</div>
<div class="line"><a id="l03057" name="l03057"></a><span class="lineno"> 3057</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The liquid can&#39;t be unloaded in its current state!&quot;</span> ) );</div>
<div class="line"><a id="l03058" name="l03058"></a><span class="lineno"> 3058</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03059" name="l03059"></a><span class="lineno"> 3059</span>        }</div>
<div class="line"><a id="l03060" name="l03060"></a><span class="lineno"> 3060</span> </div>
<div class="line"><a id="l03061" name="l03061"></a><span class="lineno"> 3061</span>        <span class="keywordtype">bool</span> changed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03062" name="l03062"></a><span class="lineno"> 3062</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> *contained : it.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a7f56c09b0d592bdc425a578d02b4b44d">all_items_top</a>() ) {</div>
<div class="line"><a id="l03063" name="l03063"></a><span class="lineno"> 3063</span>            <span class="keywordtype">int</span> old_charges = contained-&gt;charges;</div>
<div class="line"><a id="l03064" name="l03064"></a><span class="lineno"> 3064</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> consumed = this-&gt;<a class="code hl_function" href="classplayer.html#a9b9bfe7bf07eeec92c3879e63b84cecb">add_or_drop_with_msg</a>( *contained, <span class="keyword">true</span> );</div>
<div class="line"><a id="l03065" name="l03065"></a><span class="lineno"> 3065</span>            changed = changed || consumed || contained-&gt;charges != old_charges;</div>
<div class="line"><a id="l03066" name="l03066"></a><span class="lineno"> 3066</span>            <span class="keywordflow">if</span>( consumed ) {</div>
<div class="line"><a id="l03067" name="l03067"></a><span class="lineno"> 3067</span>                this-&gt;<a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -this-&gt;<a class="code hl_function" href="classCharacter.html#a33b54fd8799f4b1c9f6b0af42dbf33f8">item_handling_cost</a>( *contained ) );</div>
<div class="line"><a id="l03068" name="l03068"></a><span class="lineno"> 3068</span>                it.<a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *contained );</div>
<div class="line"><a id="l03069" name="l03069"></a><span class="lineno"> 3069</span>            }</div>
<div class="line"><a id="l03070" name="l03070"></a><span class="lineno"> 3070</span>        }</div>
<div class="line"><a id="l03071" name="l03071"></a><span class="lineno"> 3071</span> </div>
<div class="line"><a id="l03072" name="l03072"></a><span class="lineno"> 3072</span>        <span class="keywordflow">if</span>( changed ) {</div>
<div class="line"><a id="l03073" name="l03073"></a><span class="lineno"> 3073</span>            it.<a class="code hl_function" href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">on_contents_changed</a>();</div>
<div class="line"><a id="l03074" name="l03074"></a><span class="lineno"> 3074</span>        }</div>
<div class="line"><a id="l03075" name="l03075"></a><span class="lineno"> 3075</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03076" name="l03076"></a><span class="lineno"> 3076</span>    }</div>
<div class="line"><a id="l03077" name="l03077"></a><span class="lineno"> 3077</span> </div>
<div class="line"><a id="l03078" name="l03078"></a><span class="lineno"> 3078</span>    <span class="comment">// If item can be unloaded more than once (currently only guns) prompt user to choose</span></div>
<div class="line"><a id="l03079" name="l03079"></a><span class="lineno"> 3079</span>    std::vector&lt;std::string&gt; msgs( 1, it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03080" name="l03080"></a><span class="lineno"> 3080</span>    std::vector&lt;item *&gt; opts( 1, &amp;it );</div>
<div class="line"><a id="l03081" name="l03081"></a><span class="lineno"> 3081</span> </div>
<div class="line"><a id="l03082" name="l03082"></a><span class="lineno"> 3082</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> e : it.<a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>() ) {</div>
<div class="line"><a id="l03083" name="l03083"></a><span class="lineno"> 3083</span>        <span class="keywordflow">if</span>( e-&gt;is_gun() &amp;&amp; !e-&gt;has_flag( <span class="stringliteral">&quot;NO_UNLOAD&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l03084" name="l03084"></a><span class="lineno"> 3084</span>            ( e-&gt;magazine_current() || e-&gt;ammo_remaining() &gt; 0 || e-&gt;casings_count() &gt; 0 ) ) {</div>
<div class="line"><a id="l03085" name="l03085"></a><span class="lineno"> 3085</span>            msgs.emplace_back( e-&gt;tname() );</div>
<div class="line"><a id="l03086" name="l03086"></a><span class="lineno"> 3086</span>            opts.emplace_back( e );</div>
<div class="line"><a id="l03087" name="l03087"></a><span class="lineno"> 3087</span>        }</div>
<div class="line"><a id="l03088" name="l03088"></a><span class="lineno"> 3088</span>    }</div>
<div class="line"><a id="l03089" name="l03089"></a><span class="lineno"> 3089</span> </div>
<div class="line"><a id="l03090" name="l03090"></a><span class="lineno"> 3090</span>    <a class="code hl_class" href="classitem.html">item</a> *target = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l03091" name="l03091"></a><span class="lineno"> 3091</span>    <span class="keywordflow">if</span>( opts.size() &gt; 1 ) {</div>
<div class="line"><a id="l03092" name="l03092"></a><span class="lineno"> 3092</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_class" href="classuilist.html">uilist</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Unload what?&quot;</span> ), msgs );</div>
<div class="line"><a id="l03093" name="l03093"></a><span class="lineno"> 3093</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> &gt;= 0 ) {</div>
<div class="line"><a id="l03094" name="l03094"></a><span class="lineno"> 3094</span>            target = opts[<a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>];</div>
<div class="line"><a id="l03095" name="l03095"></a><span class="lineno"> 3095</span>        }</div>
<div class="line"><a id="l03096" name="l03096"></a><span class="lineno"> 3096</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03097" name="l03097"></a><span class="lineno"> 3097</span>        target = &amp;it;</div>
<div class="line"><a id="l03098" name="l03098"></a><span class="lineno"> 3098</span>    }</div>
<div class="line"><a id="l03099" name="l03099"></a><span class="lineno"> 3099</span> </div>
<div class="line"><a id="l03100" name="l03100"></a><span class="lineno"> 3100</span>    <span class="keywordflow">if</span>( target == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l03101" name="l03101"></a><span class="lineno"> 3101</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03102" name="l03102"></a><span class="lineno"> 3102</span>    }</div>
<div class="line"><a id="l03103" name="l03103"></a><span class="lineno"> 3103</span> </div>
<div class="line"><a id="l03104" name="l03104"></a><span class="lineno"> 3104</span>    <span class="comment">// Next check for any reasons why the item cannot be unloaded</span></div>
<div class="line"><a id="l03105" name="l03105"></a><span class="lineno"> 3105</span>    <span class="keywordflow">if</span>( target-&gt;<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>().empty() || target-&gt;<a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() &lt;= 0 ) {</div>
<div class="line"><a id="l03106" name="l03106"></a><span class="lineno"> 3106</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t unload a %s!&quot;</span> ), target-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03107" name="l03107"></a><span class="lineno"> 3107</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03108" name="l03108"></a><span class="lineno"> 3108</span>    }</div>
<div class="line"><a id="l03109" name="l03109"></a><span class="lineno"> 3109</span> </div>
<div class="line"><a id="l03110" name="l03110"></a><span class="lineno"> 3110</span>    <span class="keywordflow">if</span>( target-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;NO_UNLOAD&quot;</span> ) ) {</div>
<div class="line"><a id="l03111" name="l03111"></a><span class="lineno"> 3111</span>        <span class="keywordflow">if</span>( target-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;RECHARGE&quot;</span> ) || target-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;USE_UPS&quot;</span> ) ) {</div>
<div class="line"><a id="l03112" name="l03112"></a><span class="lineno"> 3112</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t unload a rechargeable %s!&quot;</span> ), target-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03113" name="l03113"></a><span class="lineno"> 3113</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03114" name="l03114"></a><span class="lineno"> 3114</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t unload a %s!&quot;</span> ), target-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03115" name="l03115"></a><span class="lineno"> 3115</span>        }</div>
<div class="line"><a id="l03116" name="l03116"></a><span class="lineno"> 3116</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03117" name="l03117"></a><span class="lineno"> 3117</span>    }</div>
<div class="line"><a id="l03118" name="l03118"></a><span class="lineno"> 3118</span> </div>
<div class="line"><a id="l03119" name="l03119"></a><span class="lineno"> 3119</span>    <span class="keywordflow">if</span>( !target-&gt;<a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>() &amp;&amp; target-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() &lt;= 0 &amp;&amp; target-&gt;<a class="code hl_function" href="classitem.html#af80e153fc97fb09df58a5be7302ae898">casings_count</a>() &lt;= 0 ) {</div>
<div class="line"><a id="l03120" name="l03120"></a><span class="lineno"> 3120</span>        <span class="keywordflow">if</span>( target-&gt;<a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() ) {</div>
<div class="line"><a id="l03121" name="l03121"></a><span class="lineno"> 3121</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s isn&#39;t charged.&quot;</span> ), target-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03122" name="l03122"></a><span class="lineno"> 3122</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03123" name="l03123"></a><span class="lineno"> 3123</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s isn&#39;t loaded.&quot;</span> ), target-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03124" name="l03124"></a><span class="lineno"> 3124</span>        }</div>
<div class="line"><a id="l03125" name="l03125"></a><span class="lineno"> 3125</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03126" name="l03126"></a><span class="lineno"> 3126</span>    }</div>
<div class="line"><a id="l03127" name="l03127"></a><span class="lineno"> 3127</span> </div>
<div class="line"><a id="l03128" name="l03128"></a><span class="lineno"> 3128</span>    target-&gt;<a class="code hl_function" href="classitem.html#a9f29e8940a146016690f2776939a2980">casings_handle</a>( [&amp;]( <a class="code hl_class" href="classitem.html">item</a> &amp; e ) {</div>
<div class="line"><a id="l03129" name="l03129"></a><span class="lineno"> 3129</span>        <span class="keywordflow">return</span> this-&gt;<a class="code hl_function" href="classCharacter.html#ab80b4bcd5228af487bb1a26c14864e5d">i_add_or_drop</a>( e );</div>
<div class="line"><a id="l03130" name="l03130"></a><span class="lineno"> 3130</span>    } );</div>
<div class="line"><a id="l03131" name="l03131"></a><span class="lineno"> 3131</span> </div>
<div class="line"><a id="l03132" name="l03132"></a><span class="lineno"> 3132</span>    <span class="keywordflow">if</span>( target-&gt;<a class="code hl_function" href="classitem.html#adce43f2490a85e2dc212a26ce5ded4fc">is_magazine</a>() ) {</div>
<div class="line"><a id="l03133" name="l03133"></a><span class="lineno"> 3133</span>        <span class="comment">// Calculate the time to remove the contained ammo (consuming half as much time as required to load the magazine)</span></div>
<div class="line"><a id="l03134" name="l03134"></a><span class="lineno"> 3134</span>        <span class="keywordtype">int</span> mv = 0;</div>
<div class="line"><a id="l03135" name="l03135"></a><span class="lineno"> 3135</span>        <span class="keywordtype">int</span> qty = 0;</div>
<div class="line"><a id="l03136" name="l03136"></a><span class="lineno"> 3136</span>        std::vector&lt;item *&gt; remove_contained;</div>
<div class="line"><a id="l03137" name="l03137"></a><span class="lineno"> 3137</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> *contained : it.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a7f56c09b0d592bdc425a578d02b4b44d">all_items_top</a>() ) {</div>
<div class="line"><a id="l03138" name="l03138"></a><span class="lineno"> 3138</span>            mv += this-&gt;<a class="code hl_function" href="classplayer.html#ae4e12c748135487720e2fd1baadaf55b">item_reload_cost</a>( it, *contained, contained-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> ) / 2;</div>
<div class="line"><a id="l03139" name="l03139"></a><span class="lineno"> 3139</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer.html#a9b9bfe7bf07eeec92c3879e63b84cecb">add_or_drop_with_msg</a>( *contained, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l03140" name="l03140"></a><span class="lineno"> 3140</span>                qty += contained-&gt;charges;</div>
<div class="line"><a id="l03141" name="l03141"></a><span class="lineno"> 3141</span>                remove_contained.push_back( contained );</div>
<div class="line"><a id="l03142" name="l03142"></a><span class="lineno"> 3142</span>            }</div>
<div class="line"><a id="l03143" name="l03143"></a><span class="lineno"> 3143</span>        }</div>
<div class="line"><a id="l03144" name="l03144"></a><span class="lineno"> 3144</span>        <span class="comment">// remove the ammo leads in the belt</span></div>
<div class="line"><a id="l03145" name="l03145"></a><span class="lineno"> 3145</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> *remove : remove_contained ) {</div>
<div class="line"><a id="l03146" name="l03146"></a><span class="lineno"> 3146</span>            it.<a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *remove );</div>
<div class="line"><a id="l03147" name="l03147"></a><span class="lineno"> 3147</span>        }</div>
<div class="line"><a id="l03148" name="l03148"></a><span class="lineno"> 3148</span> </div>
<div class="line"><a id="l03149" name="l03149"></a><span class="lineno"> 3149</span>        <span class="comment">// remove the belt linkage</span></div>
<div class="line"><a id="l03150" name="l03150"></a><span class="lineno"> 3150</span>        <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#a44a8bb6387c8f43fa1040ded39d5b776">is_ammo_belt</a>() ) {</div>
<div class="line"><a id="l03151" name="l03151"></a><span class="lineno"> 3151</span>            <span class="keywordflow">if</span>( it.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;linkage ) {</div>
<div class="line"><a id="l03152" name="l03152"></a><span class="lineno"> 3152</span>                <a class="code hl_class" href="classitem.html">item</a> link( *it.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;linkage, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, qty );</div>
<div class="line"><a id="l03153" name="l03153"></a><span class="lineno"> 3153</span>                <a class="code hl_function" href="classplayer.html#a9b9bfe7bf07eeec92c3879e63b84cecb">add_or_drop_with_msg</a>( link, <span class="keyword">true</span> );</div>
<div class="line"><a id="l03154" name="l03154"></a><span class="lineno"> 3154</span>            }</div>
<div class="line"><a id="l03155" name="l03155"></a><span class="lineno"> 3155</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You disassemble your %s.&quot;</span> ), it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03156" name="l03156"></a><span class="lineno"> 3156</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03157" name="l03157"></a><span class="lineno"> 3157</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You unload your %s.&quot;</span> ), it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03158" name="l03158"></a><span class="lineno"> 3158</span>        }</div>
<div class="line"><a id="l03159" name="l03159"></a><span class="lineno"> 3159</span> </div>
<div class="line"><a id="l03160" name="l03160"></a><span class="lineno"> 3160</span>        <a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -std::min( 200, mv ) );</div>
<div class="line"><a id="l03161" name="l03161"></a><span class="lineno"> 3161</span>        <span class="keywordflow">if</span>( loc-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;MAG_DESTROY&quot;</span> ) &amp;&amp; loc-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() == 0 ) {</div>
<div class="line"><a id="l03162" name="l03162"></a><span class="lineno"> 3162</span>            loc.<a class="code hl_function" href="classitem__location.html#a41e90133672d99aa1cecde670e37c23c">remove_item</a>();</div>
<div class="line"><a id="l03163" name="l03163"></a><span class="lineno"> 3163</span>        }</div>
<div class="line"><a id="l03164" name="l03164"></a><span class="lineno"> 3164</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03165" name="l03165"></a><span class="lineno"> 3165</span> </div>
<div class="line"><a id="l03166" name="l03166"></a><span class="lineno"> 3166</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( target-&gt;<a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>() ) {</div>
<div class="line"><a id="l03167" name="l03167"></a><span class="lineno"> 3167</span>        <span class="keywordflow">if</span>( !this-&gt;<a class="code hl_function" href="classplayer.html#a9b9bfe7bf07eeec92c3879e63b84cecb">add_or_drop_with_msg</a>( *target-&gt;<a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>(), <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l03168" name="l03168"></a><span class="lineno"> 3168</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03169" name="l03169"></a><span class="lineno"> 3169</span>        }</div>
<div class="line"><a id="l03170" name="l03170"></a><span class="lineno"> 3170</span>        <span class="comment">// Eject magazine consuming half as much time as required to insert it</span></div>
<div class="line"><a id="l03171" name="l03171"></a><span class="lineno"> 3171</span>        this-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= this-&gt;<a class="code hl_function" href="classplayer.html#ae4e12c748135487720e2fd1baadaf55b">item_reload_cost</a>( *target, *target-&gt;<a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>(), -1 ) / 2;</div>
<div class="line"><a id="l03172" name="l03172"></a><span class="lineno"> 3172</span> </div>
<div class="line"><a id="l03173" name="l03173"></a><span class="lineno"> 3173</span>        target-&gt;<a class="code hl_function" href="classvisitable.html#a82d5eb61d79aa5a1ff06375288600796">remove_items_with</a>( [&amp;target]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; e ) {</div>
<div class="line"><a id="l03174" name="l03174"></a><span class="lineno"> 3174</span>            <span class="keywordflow">return</span> target-&gt;<a class="code hl_function" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>() == &amp;e;</div>
<div class="line"><a id="l03175" name="l03175"></a><span class="lineno"> 3175</span>        } );</div>
<div class="line"><a id="l03176" name="l03176"></a><span class="lineno"> 3176</span> </div>
<div class="line"><a id="l03177" name="l03177"></a><span class="lineno"> 3177</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( target-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() ) {</div>
<div class="line"><a id="l03178" name="l03178"></a><span class="lineno"> 3178</span>        <span class="keywordtype">int</span> qty = target-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>();</div>
<div class="line"><a id="l03179" name="l03179"></a><span class="lineno"> 3179</span> </div>
<div class="line"><a id="l03180" name="l03180"></a><span class="lineno"> 3180</span>        <span class="keywordflow">if</span>( target-&gt;<a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>() == <a class="code hl_variable" href="player_8cpp.html#ae0a6efc65dd587028e5fbf37af06bdfc">itype_plut_cell</a> ) {</div>
<div class="line"><a id="l03181" name="l03181"></a><span class="lineno"> 3181</span>            qty = target-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() / <a class="code hl_variable" href="game__constants_8h.html#a48b9330c21bc6a0b8f99d7a3414cfe9f">PLUTONIUM_CHARGES</a>;</div>
<div class="line"><a id="l03182" name="l03182"></a><span class="lineno"> 3182</span>            <span class="keywordflow">if</span>( qty &gt; 0 ) {</div>
<div class="line"><a id="l03183" name="l03183"></a><span class="lineno"> 3183</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You recover %i unused plutonium.&quot;</span> ), qty );</div>
<div class="line"><a id="l03184" name="l03184"></a><span class="lineno"> 3184</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03185" name="l03185"></a><span class="lineno"> 3185</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t remove partially depleted plutonium!&quot;</span> ) );</div>
<div class="line"><a id="l03186" name="l03186"></a><span class="lineno"> 3186</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03187" name="l03187"></a><span class="lineno"> 3187</span>            }</div>
<div class="line"><a id="l03188" name="l03188"></a><span class="lineno"> 3188</span>        }</div>
<div class="line"><a id="l03189" name="l03189"></a><span class="lineno"> 3189</span> </div>
<div class="line"><a id="l03190" name="l03190"></a><span class="lineno"> 3190</span>        <span class="comment">// Construct a new ammo item and try to drop it</span></div>
<div class="line"><a id="l03191" name="l03191"></a><span class="lineno"> 3191</span>        <a class="code hl_class" href="classitem.html">item</a> ammo( target-&gt;<a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>(), <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, qty );</div>
<div class="line"><a id="l03192" name="l03192"></a><span class="lineno"> 3192</span>        <span class="keywordflow">if</span>( target-&gt;<a class="code hl_function" href="classitem.html#a5093379156498b4d523b3ac1f733adc4">is_filthy</a>() ) {</div>
<div class="line"><a id="l03193" name="l03193"></a><span class="lineno"> 3193</span>            ammo.set_flag( <span class="stringliteral">&quot;FILTHY&quot;</span> );</div>
<div class="line"><a id="l03194" name="l03194"></a><span class="lineno"> 3194</span>        }</div>
<div class="line"><a id="l03195" name="l03195"></a><span class="lineno"> 3195</span> </div>
<div class="line"><a id="l03196" name="l03196"></a><span class="lineno"> 3196</span>        <span class="keywordflow">if</span>( ammo.made_of( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l03197" name="l03197"></a><span class="lineno"> 3197</span>            <span class="keywordflow">if</span>( !this-&gt;<a class="code hl_function" href="classplayer.html#a9b9bfe7bf07eeec92c3879e63b84cecb">add_or_drop_with_msg</a>( ammo ) ) {</div>
<div class="line"><a id="l03198" name="l03198"></a><span class="lineno"> 3198</span>                qty -= ammo.charges; <span class="comment">// only handled part (or none) of the liquid</span></div>
<div class="line"><a id="l03199" name="l03199"></a><span class="lineno"> 3199</span>            }</div>
<div class="line"><a id="l03200" name="l03200"></a><span class="lineno"> 3200</span>            <span class="keywordflow">if</span>( qty &lt;= 0 ) {</div>
<div class="line"><a id="l03201" name="l03201"></a><span class="lineno"> 3201</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// no liquid was moved</span></div>
<div class="line"><a id="l03202" name="l03202"></a><span class="lineno"> 3202</span>            }</div>
<div class="line"><a id="l03203" name="l03203"></a><span class="lineno"> 3203</span> </div>
<div class="line"><a id="l03204" name="l03204"></a><span class="lineno"> 3204</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !this-&gt;<a class="code hl_function" href="classplayer.html#a9b9bfe7bf07eeec92c3879e63b84cecb">add_or_drop_with_msg</a>( ammo, qty &gt; 1 ) ) {</div>
<div class="line"><a id="l03205" name="l03205"></a><span class="lineno"> 3205</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03206" name="l03206"></a><span class="lineno"> 3206</span>        }</div>
<div class="line"><a id="l03207" name="l03207"></a><span class="lineno"> 3207</span> </div>
<div class="line"><a id="l03208" name="l03208"></a><span class="lineno"> 3208</span>        <span class="comment">// If successful remove appropriate qty of ammo consuming half as much time as required to load it</span></div>
<div class="line"><a id="l03209" name="l03209"></a><span class="lineno"> 3209</span>        this-&gt;<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= this-&gt;<a class="code hl_function" href="classplayer.html#ae4e12c748135487720e2fd1baadaf55b">item_reload_cost</a>( *target, ammo, qty ) / 2;</div>
<div class="line"><a id="l03210" name="l03210"></a><span class="lineno"> 3210</span> </div>
<div class="line"><a id="l03211" name="l03211"></a><span class="lineno"> 3211</span>        <span class="keywordflow">if</span>( target-&gt;<a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>() == <a class="code hl_variable" href="player_8cpp.html#ae0a6efc65dd587028e5fbf37af06bdfc">itype_plut_cell</a> ) {</div>
<div class="line"><a id="l03212" name="l03212"></a><span class="lineno"> 3212</span>            qty *= <a class="code hl_variable" href="game__constants_8h.html#a48b9330c21bc6a0b8f99d7a3414cfe9f">PLUTONIUM_CHARGES</a>;</div>
<div class="line"><a id="l03213" name="l03213"></a><span class="lineno"> 3213</span>        }</div>
<div class="line"><a id="l03214" name="l03214"></a><span class="lineno"> 3214</span> </div>
<div class="line"><a id="l03215" name="l03215"></a><span class="lineno"> 3215</span>        target-&gt;<a class="code hl_function" href="classitem.html#a6a3f16444c412bce4b75a7d600d6a3fe">ammo_set</a>( target-&gt;<a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>(), target-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() - qty );</div>
<div class="line"><a id="l03216" name="l03216"></a><span class="lineno"> 3216</span>    }</div>
<div class="line"><a id="l03217" name="l03217"></a><span class="lineno"> 3217</span> </div>
<div class="line"><a id="l03218" name="l03218"></a><span class="lineno"> 3218</span>    <span class="comment">// Turn off any active tools</span></div>
<div class="line"><a id="l03219" name="l03219"></a><span class="lineno"> 3219</span>    <span class="keywordflow">if</span>( target-&gt;<a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() &amp;&amp; target-&gt;<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> &amp;&amp; target-&gt;<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>() == 0 ) {</div>
<div class="line"><a id="l03220" name="l03220"></a><span class="lineno"> 3220</span>        target-&gt;<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a9df22ea5b5b6e19d18f730d4a8625cfa">invoke</a>( *<span class="keyword">this</span>, *target, this-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l03221" name="l03221"></a><span class="lineno"> 3221</span>    }</div>
<div class="line"><a id="l03222" name="l03222"></a><span class="lineno"> 3222</span> </div>
<div class="line"><a id="l03223" name="l03223"></a><span class="lineno"> 3223</span>    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You unload your %s.&quot;</span> ), target-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03224" name="l03224"></a><span class="lineno"> 3224</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03225" name="l03225"></a><span class="lineno"> 3225</span> </div>
<div class="line"><a id="l03226" name="l03226"></a><span class="lineno"> 3226</span>}</div>
<div class="ttc" id="aclassitem__contents_html_a7f56c09b0d592bdc425a578d02b4b44d"><div class="ttname"><a href="classitem__contents.html#a7f56c09b0d592bdc425a578d02b4b44d">item_contents::all_items_top</a></div><div class="ttdeci">std::list&lt; item * &gt; all_items_top()</div><div class="ttdoc">returns a list of pointers to all top-level items</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00128">item_contents.cpp:128</a></div></div>
<div class="ttc" id="aclassitem__location_html_a350bb267073f30205f780b394324a32c"><div class="ttname"><a href="classitem__location.html#a350bb267073f30205f780b394324a32c">item_location::get_item</a></div><div class="ttdeci">item * get_item()</div><div class="ttdoc">Gets the selected item or nullptr.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00768">item_location.cpp:768</a></div></div>
<div class="ttc" id="aclassplayer_html_a9b9bfe7bf07eeec92c3879e63b84cecb"><div class="ttname"><a href="classplayer.html#a9b9bfe7bf07eeec92c3879e63b84cecb">player::add_or_drop_with_msg</a></div><div class="ttdeci">bool add_or_drop_with_msg(item &amp;it, bool unloading=false)</div><div class="ttdoc">So far only called by unload() from game.cpp.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03026">player.cpp:3026</a></div></div>
<div class="ttc" id="aclassplayer_html_ae4e12c748135487720e2fd1baadaf55b"><div class="ttname"><a href="classplayer.html#ae4e12c748135487720e2fd1baadaf55b">player::item_reload_cost</a></div><div class="ttdeci">int item_reload_cost(const item &amp;it, const item &amp;ammo, int qty) const</div><div class="ttdoc">Calculate (but do not deduct) the number of moves required to reload an item with specified quantity ...</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l02821">player.cpp:2821</a></div></div>
<div class="ttc" id="aclassvisitable_html_a82d5eb61d79aa5a1ff06375288600796"><div class="ttname"><a href="classvisitable.html#a82d5eb61d79aa5a1ff06375288600796">visitable::remove_items_with</a></div><div class="ttdeci">std::list&lt; item &gt; remove_items_with(const std::function&lt; bool(const item &amp;)&gt; &amp;filter, int count=INT_MAX)</div><div class="ttdoc">Removes items contained by this instance which match the filter.</div></div>
<div class="ttc" id="agame__constants_8h_html_a48b9330c21bc6a0b8f99d7a3414cfe9f"><div class="ttname"><a href="game__constants_8h.html#a48b9330c21bc6a0b8f99d7a3414cfe9f">PLUTONIUM_CHARGES</a></div><div class="ttdeci">static constexpr int PLUTONIUM_CHARGES</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00077">game_constants.h:77</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_ae0a6efc65dd587028e5fbf37af06bdfc"><div class="ttname"><a href="player_8cpp.html#ae0a6efc65dd587028e5fbf37af06bdfc">itype_plut_cell</a></div><div class="ttdeci">static const itype_id itype_plut_cell(&quot;plut_cell&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02233">item::active</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l03026">add_or_drop_with_msg()</a>, <a class="el" href="item__contents_8cpp_source.html#l00128">item_contents::all_items_top()</a>, <a class="el" href="item_8cpp_source.html#l07253">item::ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07402">item::ammo_current()</a>, <a class="el" href="item_8cpp_source.html#l07226">item::ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l00587">item::ammo_set()</a>, <a class="el" href="item_8cpp_source.html#l07408">item::ammo_types()</a>, <a class="el" href="item_8cpp_source.html#l06700">item::can_unload_liquid()</a>, <a class="el" href="item_8cpp_source.html#l07928">item::casings_count()</a>, <a class="el" href="item_8cpp_source.html#l07940">item::casings_handle()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="item_8h_source.html#l02157">item::contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item__location_8cpp_source.html#l00768">item_location::get_item()</a>, <a class="el" href="item_8cpp_source.html#l07578">item::gunmods()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="character_8cpp_source.html#l02448">Character::i_add_or_drop()</a>, <a class="el" href="itype_8cpp_source.html#l00105">itype::invoke()</a>, <a class="el" href="item_8cpp_source.html#l06417">item::is_ammo_belt()</a>, <a class="el" href="item_8cpp_source.html#l06422">item::is_bandolier()</a>, <a class="el" href="item_8cpp_source.html#l06569">item::is_container()</a>, <a class="el" href="item_8cpp_source.html#l09808">item::is_filthy()</a>, <a class="el" href="item_8cpp_source.html#l06407">item::is_magazine()</a>, <a class="el" href="item_8cpp_source.html#l06803">item::is_tool()</a>, <a class="el" href="character_8cpp_source.html#l07553">Character::item_handling_cost()</a>, <a class="el" href="player_8cpp_source.html#l02821">item_reload_cost()</a>, <a class="el" href="player_8cpp.html#ae0a6efc65dd587028e5fbf37af06bdfc">itype_plut_cell</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="item_8cpp_source.html#l06263">item::made_of()</a>, <a class="el" href="itype_8h_source.html#l00859">itype::magazine</a>, <a class="el" href="item_8cpp_source.html#l07565">item::magazine_current()</a>, <a class="el" href="creature_8cpp_source.html#l01402">Creature::mod_moves()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="item_8cpp_source.html#l04424">item::on_contents_changed()</a>, <a class="el" href="game__constants_8h_source.html#l00077">PLUTONIUM_CHARGES</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="item__location_8cpp_source.html#l00758">item_location::remove_item()</a>, <a class="el" href="visitable_8cpp_source.html#l00564">visitable&lt; T &gt;::remove_item()</a>, <a class="el" href="classvisitable.html#a82d5eb61d79aa5a1ff06375288600796">visitable&lt; T &gt;::remove_items_with()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="item_8cpp_source.html#l05221">item::set_flag()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="avatar__action_8cpp_source.html#l01035">avatar_action::unload()</a>, <a class="el" href="game_8cpp_source.html#l09003">game::unload()</a>, and <a class="el" href="activity__actor_8cpp_source.html#l00297">aim_activity_actor::unload_RAS_weapon()</a>.</p>

</div>
</div>
<a id="a9a4073343b5776cab794313c9a7e4cfb" name="a9a4073343b5776cab794313c9a7e4cfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a4073343b5776cab794313c9a7e4cfb">&#9670;&nbsp;</a></span>unwield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::unwield </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02530">2530</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02531" name="l02531"></a><span class="lineno"> 2531</span>{</div>
<div class="line"><a id="l02532" name="l02532"></a><span class="lineno"> 2532</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l02533" name="l02533"></a><span class="lineno"> 2533</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02534" name="l02534"></a><span class="lineno"> 2534</span>    }</div>
<div class="line"><a id="l02535" name="l02535"></a><span class="lineno"> 2535</span> </div>
<div class="line"><a id="l02536" name="l02536"></a><span class="lineno"> 2536</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#aa4824e66a8c00b7334c41fb5262d8148">can_unwield</a>( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> ).<a class="code hl_enumvalue" href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">success</a>() ) {</div>
<div class="line"><a id="l02537" name="l02537"></a><span class="lineno"> 2537</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02538" name="l02538"></a><span class="lineno"> 2538</span>    }</div>
<div class="line"><a id="l02539" name="l02539"></a><span class="lineno"> 2539</span> </div>
<div class="line"><a id="l02540" name="l02540"></a><span class="lineno"> 2540</span>    <span class="keyword">const</span> std::string query = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Stop wielding %s?&quot;</span> ), <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l02541" name="l02541"></a><span class="lineno"> 2541</span> </div>
<div class="line"><a id="l02542" name="l02542"></a><span class="lineno"> 2542</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#abb844c65a8e171ccb4bb088edeb72f8d">dispose_item</a>( <a class="code hl_class" href="classitem__location.html">item_location</a>( *<span class="keyword">this</span>, &amp;<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> ), query ) ) {</div>
<div class="line"><a id="l02543" name="l02543"></a><span class="lineno"> 2543</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02544" name="l02544"></a><span class="lineno"> 2544</span>    }</div>
<div class="line"><a id="l02545" name="l02545"></a><span class="lineno"> 2545</span> </div>
<div class="line"><a id="l02546" name="l02546"></a><span class="lineno"> 2546</span>    <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a14ac26748e30d2d0f6c137734d55b2b5">unsort</a>();</div>
<div class="line"><a id="l02547" name="l02547"></a><span class="lineno"> 2547</span> </div>
<div class="line"><a id="l02548" name="l02548"></a><span class="lineno"> 2548</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02549" name="l02549"></a><span class="lineno"> 2549</span>}</div>
<div class="ttc" id="aclassCharacter_html_aa4824e66a8c00b7334c41fb5262d8148"><div class="ttname"><a href="classCharacter.html#aa4824e66a8c00b7334c41fb5262d8148">Character::can_unwield</a></div><div class="ttdeci">ret_val&lt; bool &gt; can_unwield(const item &amp;it) const</div><div class="ttdoc">Check player capable of unwielding an item.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03136">character.cpp:3136</a></div></div>
<div class="ttc" id="aclassCharacter_html_abb844c65a8e171ccb4bb088edeb72f8d"><div class="ttname"><a href="classCharacter.html#abb844c65a8e171ccb4bb088edeb72f8d">Character::dispose_item</a></div><div class="ttdeci">virtual bool dispose_item(item_location &amp;&amp;obj, const std::string &amp;prompt=std::string())</div><div class="ttdoc">Drop, wear, stash or otherwise try to dispose of an item consuming appropriate moves.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07347">character.cpp:7347</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="character_8cpp_source.html#l03136">Character::can_unwield()</a>, <a class="el" href="character_8cpp_source.html#l07347">Character::dispose_item()</a>, <a class="el" href="character_8h_source.html#l01583">Character::inv</a>, <a class="el" href="item_8cpp_source.html#l00729">item::is_null()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="behavior_8h_source.html#l00020">behavior::success</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="inventory_8cpp_source.html#l00226">inventory::unsort()</a>, and <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>.</p>

<p class="reference">Referenced by <a class="el" href="avatar_8cpp_source.html#l01226">avatar::wield()</a>, <a class="el" href="game_8cpp_source.html#l09008">game::wield()</a>, and <a class="el" href="player_8cpp_source.html#l04203">wield_contents()</a>.</p>

</div>
</div>
<a id="a8318429326b62d514d8923bc9f5708b3" name="a8318429326b62d514d8923bc9f5708b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8318429326b62d514d8923bc9f5708b3">&#9670;&nbsp;</a></span>update_body_wetness()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::update_body_wetness </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structw__point.html">w_point</a> &amp;&#160;</td>
          <td class="paramname"><em>weather</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maintains body wetness and handles the rate at which the player dries. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01711">1711</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span>{</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>    <span class="comment">// Average number of turns to go from completely soaked to fully dry</span></div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span>    <span class="comment">// assuming average temperature and humidity</span></div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>    <span class="keyword">constexpr</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> average_drying = 2_hours;</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span> </div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>    <span class="comment">// A modifier on drying time</span></div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>    <span class="keywordtype">double</span> delay = 1.0;</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>    <span class="comment">// Weather slows down drying</span></div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>    delay += ( ( <a class="code hl_namespace" href="namespaceweather.html">weather</a>.humidity - 66 ) - ( <a class="code hl_function" href="namespaceunits.html#a375816854bc926ebda4d9240e7d6cf64">units::to_fahrenheit</a>( <a class="code hl_namespace" href="namespaceweather.html">weather</a>.temperature ) - 65 ) ) / 100;</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>    delay = std::max( 0.1, delay );</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span>    <span class="comment">// Fur/slime retains moisture</span></div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a80c61d54a8759044f6c7c841469ee11d">trait_LIGHTFUR</a> ) || <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#aa9c71c27aec3d6c98d982792f15e613c">trait_FUR</a> ) || <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a83afbd8e4dbefc1f99df9624fd9d7824">trait_FELINE_FUR</a> ) ||</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>        <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#aeced506658f24495d18152830064a45f">trait_LUPINE_FUR</a> ) || <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a328aaa21f9e64c2d22a68b9764a6a550">trait_CHITIN_FUR</a> ) || <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#afeabd53c61defabb9ba3721de6b91280">trait_CHITIN_FUR2</a> ) ||</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>        <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a7b9b5dc5aace58de30f3602e0413cfb8">trait_CHITIN_FUR3</a> ) ) {</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>        delay = delay * 6 / 5;</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>    }</div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#af83add4ee97cce1fc50812e5c46f73cc">trait_URSINE_FUR</a> ) || <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a0651a103f4530a625fc7defcd7372b37">trait_SLIMY</a> ) ) {</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>        delay *= 1.5;</div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>    }</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span> </div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( 1, to_turns&lt;int&gt;( average_drying * delay / 100.0 ) ) ) {</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>        <span class="comment">// No drying this turn</span></div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>    }</div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span> </div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>    <span class="comment">// Now per-body-part stuff</span></div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>    <span class="comment">// To make drying uniform, make just one roll and reuse it</span></div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> drying_roll = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 80 );</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span> </div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp : <a class="code hl_variable" href="bodypart_8h.html#a089a199d69623f528a3883672f0a084e">all_body_parts</a> ) {</div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a66520fe7648d455282596ead87701655">body_wetness</a>[bp] == 0 ) {</div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>        }</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>        <span class="comment">// This is to normalize drying times</span></div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span>        <span class="keywordtype">int</span> drying_chance = <a class="code hl_variable" href="classCharacter.html#ab7700517fb07e9155e559b3c2e427a65">drench_capacity</a>[bp];</div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>        <span class="comment">// Body temperature affects duration of wetness</span></div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>        <span class="comment">// Note: Using temp_conv rather than temp_cur, to better approximate environment</span></div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a450ed42503c02c36c04faa550a5b8f70">temp_conv</a>[bp] &gt;= <a class="code hl_variable" href="weather_8h.html#a353f46362b1fd4a5eb685d5f7b271079">BODYTEMP_SCORCHING</a> ) {</div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>            drying_chance *= 2;</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a450ed42503c02c36c04faa550a5b8f70">temp_conv</a>[bp] &gt;= <a class="code hl_variable" href="weather_8h.html#a8220ffde7e07de66ab06bdeba262a2c3">BODYTEMP_VERY_HOT</a> ) {</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>            drying_chance = drying_chance * 3 / 2;</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a450ed42503c02c36c04faa550a5b8f70">temp_conv</a>[bp] &gt;= <a class="code hl_variable" href="weather_8h.html#aa69b18b562ac33b8688ca8e3e95a9205">BODYTEMP_HOT</a> ) {</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>            drying_chance = drying_chance * 4 / 3;</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a450ed42503c02c36c04faa550a5b8f70">temp_conv</a>[bp] &gt; <a class="code hl_variable" href="weather_8h.html#a08fc0049be5212458556d07723095141">BODYTEMP_COLD</a> ) {</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>            <span class="comment">// Comfortable, doesn&#39;t need any changes</span></div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>            <span class="comment">// Evaporation doesn&#39;t change that much at lower temp</span></div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>            drying_chance = drying_chance * 3 / 4;</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>        }</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span> </div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>        <span class="keywordflow">if</span>( drying_chance &lt; 1 ) {</div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>            drying_chance = 1;</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>        }</div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span> </div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>        <span class="comment">// TODO: Make evaporation reduce body heat</span></div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>        <span class="keywordflow">if</span>( drying_chance &gt;= drying_roll ) {</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>            <a class="code hl_variable" href="classCharacter.html#a66520fe7648d455282596ead87701655">body_wetness</a>[bp] -= 1;</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#a66520fe7648d455282596ead87701655">body_wetness</a>[bp] &lt; 0 ) {</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>                <a class="code hl_variable" href="classCharacter.html#a66520fe7648d455282596ead87701655">body_wetness</a>[bp] = 0;</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>            }</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>        }</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>    }</div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>    <span class="comment">// TODO: Make clothing slow down drying</span></div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>}</div>
<div class="ttc" id="aclassCharacter_html_a66520fe7648d455282596ead87701655"><div class="ttname"><a href="classCharacter.html#a66520fe7648d455282596ead87701655">Character::body_wetness</a></div><div class="ttdeci">std::array&lt; int, num_bp &gt; body_wetness</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02272">character.h:2272</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab7700517fb07e9155e559b3c2e427a65"><div class="ttname"><a href="classCharacter.html#ab7700517fb07e9155e559b3c2e427a65">Character::drench_capacity</a></div><div class="ttdeci">std::array&lt; int, num_bp &gt; drench_capacity</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02273">character.h:2273</a></div></div>
<div class="ttc" id="anamespaceunits_html_a375816854bc926ebda4d9240e7d6cf64"><div class="ttname"><a href="namespaceunits.html#a375816854bc926ebda4d9240e7d6cf64">units::to_fahrenheit</a></div><div class="ttdeci">constexpr value_type to_fahrenheit(const quantity&lt; value_type, temperature_in_millidegree_celsius_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units__temperature_8h_source.html#l00124">units_temperature.h:124</a></div></div>
<div class="ttc" id="anamespaceweather_html"><div class="ttname"><a href="namespaceweather.html">weather</a></div><div class="ttdef"><b>Definition:</b> <a href="weather_8cpp_source.html#l01150">weather.cpp:1151</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a0651a103f4530a625fc7defcd7372b37"><div class="ttname"><a href="player_8cpp.html#a0651a103f4530a625fc7defcd7372b37">trait_SLIMY</a></div><div class="ttdeci">static const trait_id trait_SLIMY(&quot;SLIMY&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a328aaa21f9e64c2d22a68b9764a6a550"><div class="ttname"><a href="player_8cpp.html#a328aaa21f9e64c2d22a68b9764a6a550">trait_CHITIN_FUR</a></div><div class="ttdeci">static const trait_id trait_CHITIN_FUR(&quot;CHITIN_FUR&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a80c61d54a8759044f6c7c841469ee11d"><div class="ttname"><a href="player_8cpp.html#a80c61d54a8759044f6c7c841469ee11d">trait_LIGHTFUR</a></div><div class="ttdeci">static const trait_id trait_LIGHTFUR(&quot;LIGHTFUR&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a83afbd8e4dbefc1f99df9624fd9d7824"><div class="ttname"><a href="player_8cpp.html#a83afbd8e4dbefc1f99df9624fd9d7824">trait_FELINE_FUR</a></div><div class="ttdeci">static const trait_id trait_FELINE_FUR(&quot;FELINE_FUR&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_aa9c71c27aec3d6c98d982792f15e613c"><div class="ttname"><a href="player_8cpp.html#aa9c71c27aec3d6c98d982792f15e613c">trait_FUR</a></div><div class="ttdeci">static const trait_id trait_FUR(&quot;FUR&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_aeced506658f24495d18152830064a45f"><div class="ttname"><a href="player_8cpp.html#aeced506658f24495d18152830064a45f">trait_LUPINE_FUR</a></div><div class="ttdeci">static const trait_id trait_LUPINE_FUR(&quot;LUPINE_FUR&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_af83add4ee97cce1fc50812e5c46f73cc"><div class="ttname"><a href="player_8cpp.html#af83add4ee97cce1fc50812e5c46f73cc">trait_URSINE_FUR</a></div><div class="ttdeci">static const trait_id trait_URSINE_FUR(&quot;URSINE_FUR&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_afeabd53c61defabb9ba3721de6b91280"><div class="ttname"><a href="player_8cpp.html#afeabd53c61defabb9ba3721de6b91280">trait_CHITIN_FUR2</a></div><div class="ttdeci">static const trait_id trait_CHITIN_FUR2(&quot;CHITIN_FUR2&quot;)</div></div>
<div class="ttc" id="aweather_8h_html_a08fc0049be5212458556d07723095141"><div class="ttname"><a href="weather_8h.html#a08fc0049be5212458556d07723095141">BODYTEMP_COLD</a></div><div class="ttdeci">static constexpr int BODYTEMP_COLD</div><div class="ttdoc">Do not change this value, it is an arbitrary anchor on which other calculations are made.</div><div class="ttdef"><b>Definition:</b> <a href="weather_8h_source.html#l00034">weather.h:34</a></div></div>
<div class="ttc" id="aweather_8h_html_aa69b18b562ac33b8688ca8e3e95a9205"><div class="ttname"><a href="weather_8h.html#aa69b18b562ac33b8688ca8e3e95a9205">BODYTEMP_HOT</a></div><div class="ttdeci">static constexpr int BODYTEMP_HOT</div><div class="ttdoc">Level 2 hotness.</div><div class="ttdef"><b>Definition:</b> <a href="weather_8h_source.html#l00038">weather.h:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bodypart_8h_source.html#l00082">all_body_parts</a>, <a class="el" href="character_8h_source.html#l02272">Character::body_wetness</a>, <a class="el" href="weather_8h_source.html#l00034">BODYTEMP_COLD</a>, <a class="el" href="weather_8h_source.html#l00038">BODYTEMP_HOT</a>, <a class="el" href="weather_8h_source.html#l00042">BODYTEMP_SCORCHING</a>, <a class="el" href="weather_8h_source.html#l00040">BODYTEMP_VERY_HOT</a>, <a class="el" href="character_8h_source.html#l02273">Character::drench_capacity</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="character_8h_source.html#l02271">Character::temp_conv</a>, <a class="el" href="units__temperature_8h_source.html#l00124">units::to_fahrenheit()</a>, <a class="el" href="player_8cpp.html#a328aaa21f9e64c2d22a68b9764a6a550">trait_CHITIN_FUR</a>, <a class="el" href="player_8cpp.html#afeabd53c61defabb9ba3721de6b91280">trait_CHITIN_FUR2</a>, <a class="el" href="player_8cpp.html#a7b9b5dc5aace58de30f3602e0413cfb8">trait_CHITIN_FUR3</a>, <a class="el" href="player_8cpp.html#a83afbd8e4dbefc1f99df9624fd9d7824">trait_FELINE_FUR</a>, <a class="el" href="player_8cpp.html#aa9c71c27aec3d6c98d982792f15e613c">trait_FUR</a>, <a class="el" href="player_8cpp.html#a80c61d54a8759044f6c7c841469ee11d">trait_LIGHTFUR</a>, <a class="el" href="player_8cpp.html#aeced506658f24495d18152830064a45f">trait_LUPINE_FUR</a>, <a class="el" href="player_8cpp.html#a0651a103f4530a625fc7defcd7372b37">trait_SLIMY</a>, <a class="el" href="player_8cpp.html#af83add4ee97cce1fc50812e5c46f73cc">trait_URSINE_FUR</a>, and <a class="el" href="calendar_8cpp_source.html#l00521">x_in_y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l01434">game::do_turn()</a>.</p>

</div>
</div>
<a id="a99160178bdf4e469221ab392a7ed0820" name="a99160178bdf4e469221ab392a7ed0820"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99160178bdf4e469221ab392a7ed0820">&#9670;&nbsp;</a></span>update_mental_focus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::update_mental_focus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uses calc_focus_change to update the player's current focus. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04506">4506</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04507" name="l04507"></a><span class="lineno"> 4507</span>{</div>
<div class="line"><a id="l04508" name="l04508"></a><span class="lineno"> 4508</span>    <a class="code hl_variable" href="classCharacter.html#a1a22be593582c9aef166a12777bb79a8">focus_pool</a> += <a class="code hl_function" href="classplayer.html#a6d8d8980786115dc4783f61002cae7a5">calc_focus_change</a>();</div>
<div class="line"><a id="l04509" name="l04509"></a><span class="lineno"> 4509</span>}</div>
<div class="ttc" id="aclassplayer_html_a6d8d8980786115dc4783f61002cae7a5"><div class="ttname"><a href="classplayer.html#a6d8d8980786115dc4783f61002cae7a5">player::calc_focus_change</a></div><div class="ttdeci">int calc_focus_change() const</div><div class="ttdoc">Calculates actual focus gain/loss value from focus equilibrium.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04475">player.cpp:4475</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player_8cpp_source.html#l04475">calc_focus_change()</a>, and <a class="el" href="character_8h_source.html#l01599">Character::focus_pool</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l04511">reset_stats()</a>.</p>

</div>
</div>
<a id="ad107606402421d519f2cb6403afc9eb3" name="ad107606402421d519f2cb6403afc9eb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad107606402421d519f2cb6403afc9eb3">&#9670;&nbsp;</a></span>use() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::use </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inventory_position</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uses a tool. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03341">3341</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03342" name="l03342"></a><span class="lineno"> 3342</span>{</div>
<div class="line"><a id="l03343" name="l03343"></a><span class="lineno"> 3343</span>    <a class="code hl_class" href="classitem.html">item</a> &amp;used = <a class="code hl_function" href="classCharacter.html#a654ed96afe759517e0bf1a31c7a3ea11">i_at</a>( inventory_position );</div>
<div class="line"><a id="l03344" name="l03344"></a><span class="lineno"> 3344</span>    <span class="keyword">auto</span> loc = <a class="code hl_class" href="classitem__location.html">item_location</a>( *<span class="keyword">this</span>, &amp;used );</div>
<div class="line"><a id="l03345" name="l03345"></a><span class="lineno"> 3345</span> </div>
<div class="line"><a id="l03346" name="l03346"></a><span class="lineno"> 3346</span>    <a class="code hl_function" href="classplayer.html#ad107606402421d519f2cb6403afc9eb3">use</a>( loc );</div>
<div class="line"><a id="l03347" name="l03347"></a><span class="lineno"> 3347</span>}</div>
<div class="ttc" id="aclassplayer_html_ad107606402421d519f2cb6403afc9eb3"><div class="ttname"><a href="classplayer.html#ad107606402421d519f2cb6403afc9eb3">player::use</a></div><div class="ttdeci">void use(int inventory_position)</div><div class="ttdoc">Uses a tool.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03341">player.cpp:3341</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l02391">Character::i_at()</a>, and <a class="el" href="player_8cpp_source.html#l03341">use()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l00307">npc::find_dangerous_explosives()</a>, <a class="el" href="npc_8cpp_source.html#l01891">npc::get_healing_item()</a>, <a class="el" href="npc_8cpp_source.html#l01849">npc::has_healing_options()</a>, <a class="el" href="player_8cpp_source.html#l03341">use()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00991">avatar_action::use_item()</a>, and <a class="el" href="player_8cpp_source.html#l03229">use_wielded()</a>.</p>

</div>
</div>
<a id="ad0fce8ec3a86cee2acc24bd17cea338f" name="ad0fce8ec3a86cee2acc24bd17cea338f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0fce8ec3a86cee2acc24bd17cea338f">&#9670;&nbsp;</a></span>use() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::use </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem__location.html">item_location</a>&#160;</td>
          <td class="paramname"><em>loc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uses a tool at location. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03349">3349</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03350" name="l03350"></a><span class="lineno"> 3350</span>{</div>
<div class="line"><a id="l03351" name="l03351"></a><span class="lineno"> 3351</span>    <a class="code hl_class" href="classitem.html">item</a> &amp;used = *loc.<a class="code hl_function" href="classitem__location.html#a350bb267073f30205f780b394324a32c">get_item</a>();</div>
<div class="line"><a id="l03352" name="l03352"></a><span class="lineno"> 3352</span> </div>
<div class="line"><a id="l03353" name="l03353"></a><span class="lineno"> 3353</span>    <span class="keywordflow">if</span>( used.<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l03354" name="l03354"></a><span class="lineno"> 3354</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You do not have that item.&quot;</span> ) );</div>
<div class="line"><a id="l03355" name="l03355"></a><span class="lineno"> 3355</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03356" name="l03356"></a><span class="lineno"> 3356</span>    }</div>
<div class="line"><a id="l03357" name="l03357"></a><span class="lineno"> 3357</span> </div>
<div class="line"><a id="l03358" name="l03358"></a><span class="lineno"> 3358</span>    <a class="code hl_variable" href="classCharacter.html#a1819679d2d4e9f8ba5d62ae26737f34c">last_item</a> = used.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>();</div>
<div class="line"><a id="l03359" name="l03359"></a><span class="lineno"> 3359</span> </div>
<div class="line"><a id="l03360" name="l03360"></a><span class="lineno"> 3360</span>    <span class="keywordflow">if</span>( used.<a class="code hl_function" href="classitem.html#a59a03649a0636c70e776054db688564a">is_tool</a>() ) {</div>
<div class="line"><a id="l03361" name="l03361"></a><span class="lineno"> 3361</span>        <span class="keywordflow">if</span>( !used.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a7ff45d94507fdbf7369ae269a0f1e52b">has_use</a>() ) {</div>
<div class="line"><a id="l03362" name="l03362"></a><span class="lineno"> 3362</span>            <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do anything interesting with your %s.&quot;</span> ), used.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03363" name="l03363"></a><span class="lineno"> 3363</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03364" name="l03364"></a><span class="lineno"> 3364</span>        }</div>
<div class="line"><a id="l03365" name="l03365"></a><span class="lineno"> 3365</span>        <a class="code hl_function" href="classCharacter.html#a4dbec601ddf5ba1b6059b20785dfc329">invoke_item</a>( &amp;used, loc.<a class="code hl_function" href="classitem__location.html#a7c2a92227d0946b673eb95b0a53c766c">position</a>() );</div>
<div class="line"><a id="l03366" name="l03366"></a><span class="lineno"> 3366</span> </div>
<div class="line"><a id="l03367" name="l03367"></a><span class="lineno"> 3367</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( used.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;DOGFOOD&quot;</span> ) ||</div>
<div class="line"><a id="l03368" name="l03368"></a><span class="lineno"> 3368</span>               used.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;CATFOOD&quot;</span> ) ||</div>
<div class="line"><a id="l03369" name="l03369"></a><span class="lineno"> 3369</span>               used.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;BIRDFOOD&quot;</span> ) ||</div>
<div class="line"><a id="l03370" name="l03370"></a><span class="lineno"> 3370</span>               used.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;CATTLEFODDER&quot;</span> ) ) {</div>
<div class="line"><a id="l03371" name="l03371"></a><span class="lineno"> 3371</span>        <a class="code hl_function" href="classCharacter.html#a4dbec601ddf5ba1b6059b20785dfc329">invoke_item</a>( &amp;used, loc.<a class="code hl_function" href="classitem__location.html#a7c2a92227d0946b673eb95b0a53c766c">position</a>() );</div>
<div class="line"><a id="l03372" name="l03372"></a><span class="lineno"> 3372</span> </div>
<div class="line"><a id="l03373" name="l03373"></a><span class="lineno"> 3373</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !used.<a class="code hl_function" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() &amp;&amp; ( used.<a class="code hl_function" href="classitem.html#aa344ad5d3082d7a56b1c902fbafb6347">is_medication</a>() || ( !used.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a7ff45d94507fdbf7369ae269a0f1e52b">has_use</a>() &amp;&amp;</div>
<div class="line"><a id="l03374" name="l03374"></a><span class="lineno"> 3374</span>                                     ( used.<a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() ||</div>
<div class="line"><a id="l03375" name="l03375"></a><span class="lineno"> 3375</span>                                       used.<a class="code hl_function" href="classitem.html#aeb62f6d93e37bf01af71f795cc39f4f1">get_contained</a>().<a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() ||</div>
<div class="line"><a id="l03376" name="l03376"></a><span class="lineno"> 3376</span>                                       used.<a class="code hl_function" href="classitem.html#aeb62f6d93e37bf01af71f795cc39f4f1">get_contained</a>().<a class="code hl_function" href="classitem.html#aa344ad5d3082d7a56b1c902fbafb6347">is_medication</a>() ) ) ) ) {</div>
<div class="line"><a id="l03377" name="l03377"></a><span class="lineno"> 3377</span>        <a class="code hl_function" href="classplayer.html#a46e60f36a469120e2afde88426732a8f">consume</a>( loc );</div>
<div class="line"><a id="l03378" name="l03378"></a><span class="lineno"> 3378</span> </div>
<div class="line"><a id="l03379" name="l03379"></a><span class="lineno"> 3379</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( used.<a class="code hl_function" href="classitem.html#a980b9e48afd103973a201fc487d0af8b">is_book</a>() ) {</div>
<div class="line"><a id="l03380" name="l03380"></a><span class="lineno"> 3380</span>        <span class="comment">// TODO: Handle this with dynamic dispatch.</span></div>
<div class="line"><a id="l03381" name="l03381"></a><span class="lineno"> 3381</span>        <span class="keywordflow">if</span>( <a class="code hl_class" href="classavatar.html">avatar</a> *u = <a class="code hl_function" href="classCreature.html#aff1d211fe3b960fc3046db5f3dfcf793">as_avatar</a>() ) {</div>
<div class="line"><a id="l03382" name="l03382"></a><span class="lineno"> 3382</span>            u-&gt;read( loc );</div>
<div class="line"><a id="l03383" name="l03383"></a><span class="lineno"> 3383</span>        }</div>
<div class="line"><a id="l03384" name="l03384"></a><span class="lineno"> 3384</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( used.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a7ff45d94507fdbf7369ae269a0f1e52b">has_use</a>() ) {</div>
<div class="line"><a id="l03385" name="l03385"></a><span class="lineno"> 3385</span>        <a class="code hl_function" href="classCharacter.html#a4dbec601ddf5ba1b6059b20785dfc329">invoke_item</a>( &amp;used, loc.<a class="code hl_function" href="classitem__location.html#a7c2a92227d0946b673eb95b0a53c766c">position</a>() );</div>
<div class="line"><a id="l03386" name="l03386"></a><span class="lineno"> 3386</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( used.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="player_8cpp.html#ac515c71f173b6c81dbc78f60ce2b89d2">flag_SPLINT</a> ) ) {</div>
<div class="line"><a id="l03387" name="l03387"></a><span class="lineno"> 3387</span>        <a class="code hl_class" href="classret__val.html">ret_val&lt;bool&gt;</a> need_splint = <a class="code hl_function" href="classCharacter.html#add7c18c1ff4186fa02862a1fef9cdbe1">can_wear</a>( used );</div>
<div class="line"><a id="l03388" name="l03388"></a><span class="lineno"> 3388</span>        <span class="keywordflow">if</span>( need_splint.<a class="code hl_function" href="classret__val.html#afe534a279647e88c4ab321d0c338d9d5">success</a>() ) {</div>
<div class="line"><a id="l03389" name="l03389"></a><span class="lineno"> 3389</span>            <a class="code hl_function" href="classCharacter.html#a298ce5c5382920e7bffb8f146a18cce1">wear_item</a>( used );</div>
<div class="line"><a id="l03390" name="l03390"></a><span class="lineno"> 3390</span>            loc.<a class="code hl_function" href="classitem__location.html#a41e90133672d99aa1cecde670e37c23c">remove_item</a>();</div>
<div class="line"><a id="l03391" name="l03391"></a><span class="lineno"> 3391</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03392" name="l03392"></a><span class="lineno"> 3392</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, need_splint.<a class="code hl_function" href="classret__val.html#a21a7086f33223dff3431b16c7abbd58c">str</a>() );</div>
<div class="line"><a id="l03393" name="l03393"></a><span class="lineno"> 3393</span>        }</div>
<div class="line"><a id="l03394" name="l03394"></a><span class="lineno"> 3394</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03395" name="l03395"></a><span class="lineno"> 3395</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do anything interesting with your %s.&quot;</span> ),</div>
<div class="line"><a id="l03396" name="l03396"></a><span class="lineno"> 3396</span>                 used.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03397" name="l03397"></a><span class="lineno"> 3397</span>    }</div>
<div class="line"><a id="l03398" name="l03398"></a><span class="lineno"> 3398</span>    <a class="code hl_function" href="classCharacter.html#aa6396870f289f9c3b1dc4ea91f7a65f0">recalculate_enchantment_cache</a>();</div>
<div class="line"><a id="l03399" name="l03399"></a><span class="lineno"> 3399</span>}</div>
<div class="ttc" id="aclassCharacter_html_a298ce5c5382920e7bffb8f146a18cce1"><div class="ttname"><a href="classCharacter.html#a298ce5c5382920e7bffb8f146a18cce1">Character::wear_item</a></div><div class="ttdeci">cata::optional&lt; std::list&lt; item &gt;::iterator &gt; wear_item(const item &amp;to_wear, bool interactive=true)</div><div class="ttdoc">Wear item; returns nullopt on fail, or pointer to newly worn item on success.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02170">character.cpp:2170</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4dbec601ddf5ba1b6059b20785dfc329"><div class="ttname"><a href="classCharacter.html#a4dbec601ddf5ba1b6059b20785dfc329">Character::invoke_item</a></div><div class="ttdeci">virtual bool invoke_item(item *, const tripoint &amp;pt)</div><div class="ttdoc">Asks how to use the item (if it has more than one use_method) and uses it.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07308">character.cpp:7308</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa6396870f289f9c3b1dc4ea91f7a65f0"><div class="ttname"><a href="classCharacter.html#aa6396870f289f9c3b1dc4ea91f7a65f0">Character::recalculate_enchantment_cache</a></div><div class="ttdeci">void recalculate_enchantment_cache()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07965">character.cpp:7965</a></div></div>
<div class="ttc" id="aclassCreature_html_aff1d211fe3b960fc3046db5f3dfcf793"><div class="ttname"><a href="classCreature.html#aff1d211fe3b960fc3046db5f3dfcf793">Creature::as_avatar</a></div><div class="ttdeci">virtual avatar * as_avatar()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00128">creature.h:128</a></div></div>
<div class="ttc" id="aclassavatar_html"><div class="ttname"><a href="classavatar.html">avatar</a></div><div class="ttdef"><b>Definition:</b> <a href="avatar_8h_source.html#l00053">avatar.h:54</a></div></div>
<div class="ttc" id="aclassitem__location_html_a7c2a92227d0946b673eb95b0a53c766c"><div class="ttname"><a href="classitem__location.html#a7c2a92227d0946b673eb95b0a53c766c">item_location::position</a></div><div class="ttdeci">tripoint position() const</div><div class="ttdoc">Returns the position where the item is found.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00734">item_location.cpp:734</a></div></div>
<div class="ttc" id="aclassplayer_html_a46e60f36a469120e2afde88426732a8f"><div class="ttname"><a href="classplayer.html#a46e60f36a469120e2afde88426732a8f">player::consume</a></div><div class="ttdeci">bool consume(item_location loc)</div><div class="ttdoc">Used for eating object at pos, returns true if object is removed from inventory (last charge was cons...</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l02052">player.cpp:2052</a></div></div>
<div class="ttc" id="aclassret__val_html"><div class="ttname"><a href="classret__val.html">ret_val</a></div><div class="ttdoc">The class represents a composite return value of an arbitrary function (result).</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00020">ret_val.h:21</a></div></div>
<div class="ttc" id="aclassret__val_html_a21a7086f33223dff3431b16c7abbd58c"><div class="ttname"><a href="classret__val.html#a21a7086f33223dff3431b16c7abbd58c">ret_val::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00078">ret_val.h:78</a></div></div>
<div class="ttc" id="aclassret__val_html_afe534a279647e88c4ab321d0c338d9d5"><div class="ttname"><a href="classret__val.html#afe534a279647e88c4ab321d0c338d9d5">ret_val::success</a></div><div class="ttdeci">bool success() const</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00070">ret_val.h:70</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_ac515c71f173b6c81dbc78f60ce2b89d2"><div class="ttname"><a href="player_8cpp.html#ac515c71f173b6c81dbc78f60ce2b89d2">flag_SPLINT</a></div><div class="ttdeci">static const std::string flag_SPLINT(&quot;SPLINT&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="creature_8h_source.html#l00128">Creature::as_avatar()</a>, <a class="el" href="itype_8cpp_source.html#l00086">itype::can_use()</a>, <a class="el" href="character_8cpp_source.html#l02923">Character::can_wear()</a>, <a class="el" href="player_8cpp_source.html#l02052">consume()</a>, <a class="el" href="player_8cpp.html#ac515c71f173b6c81dbc78f60ce2b89d2">flag_SPLINT()</a>, <a class="el" href="item_8cpp_source.html#l06890">item::get_contained()</a>, <a class="el" href="item__location_8cpp_source.html#l00768">item_location::get_item()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="itype_8cpp_source.html#l00066">itype::has_use()</a>, <a class="el" href="character_8cpp_source.html#l07308">Character::invoke_item()</a>, <a class="el" href="item_8cpp_source.html#l06559">item::is_book()</a>, <a class="el" href="item_8cpp_source.html#l06768">item::is_craft()</a>, <a class="el" href="item_8cpp_source.html#l06442">item::is_food()</a>, <a class="el" href="item_8cpp_source.html#l06448">item::is_medication()</a>, <a class="el" href="item_8cpp_source.html#l00729">item::is_null()</a>, <a class="el" href="item_8cpp_source.html#l06803">item::is_tool()</a>, <a class="el" href="character_8h_source.html#l01584">Character::last_item</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="item__location_8cpp_source.html#l00734">item_location::position()</a>, <a class="el" href="character_8cpp_source.html#l07965">Character::recalculate_enchantment_cache()</a>, <a class="el" href="item__location_8cpp_source.html#l00758">item_location::remove_item()</a>, <a class="el" href="ret__val_8h_source.html#l00078">ret_val&lt; T &gt;::str()</a>, <a class="el" href="ret__val_8h_source.html#l00070">ret_val&lt; T &gt;::success()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="item_8h_source.html#l02156">item::type</a>, <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>, and <a class="el" href="character_8cpp_source.html#l02170">Character::wear_item()</a>.</p>

</div>
</div>
<a id="ac02b378fd254e8a0fbea2476a45d2e94" name="ac02b378fd254e8a0fbea2476a45d2e94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac02b378fd254e8a0fbea2476a45d2e94">&#9670;&nbsp;</a></span>use_wielded()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player::use_wielded </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uses the current wielded weapon. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l03229">3229</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03230" name="l03230"></a><span class="lineno"> 3230</span>{</div>
<div class="line"><a id="l03231" name="l03231"></a><span class="lineno"> 3231</span>    <a class="code hl_function" href="classplayer.html#ad107606402421d519f2cb6403afc9eb3">use</a>( -1 );</div>
<div class="line"><a id="l03232" name="l03232"></a><span class="lineno"> 3232</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player_8cpp_source.html#l03341">use()</a>.</p>

<p class="reference">Referenced by <a class="el" href="handle__action_8cpp_source.html#l01514">game::handle_action()</a>.</p>

</div>
</div>
<a id="aafc274c41799c1d77e81e52ee9a723bb" name="aafc274c41799c1d77e81e52ee9a723bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafc274c41799c1d77e81e52ee9a723bb">&#9670;&nbsp;</a></span>vomit_mod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double player::vomit_mod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the modifier value used for vomiting effects. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l01685">1685</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span>{</div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>    <span class="keywordtype">double</span> <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> = 1;</div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#a07c1990d0d8dd3b8a3305dca2429de8a">effect_weed_high</a> ) ) {</div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> *= .1;</div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span>    }</div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a1701b9ed8931bbfdbc2fd35170e314eb">trait_STRONGSTOMACH</a> ) ) {</div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> *= .5;</div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>    }</div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#a959d4c791c4b43d445bffa31557fbaba">trait_WEAKSTOMACH</a> ) ) {</div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> *= 2;</div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>    }</div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#addc0f0bc080e93241210930eefb37cba">trait_NAUSEA</a> ) ) {</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> *= 3;</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>    }</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="player_8cpp.html#aaa3553ccaea50aeb81e66b12f455a97e">trait_VOMITOUS</a> ) ) {</div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> *= 3;</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>    }</div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span>    <span class="comment">// If you&#39;re already nauseous, any food in your stomach greatly</span></div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>    <span class="comment">// increases chance of vomiting. Water doesn&#39;t provoke vomiting, though.</span></div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#aa4ecfee35839a07be48afccbe582023e">stomach</a>.<a class="code hl_function" href="classstomach__contents.html#aa5cf12fa92df9630e78c4cf5af74d616">get_calories</a>() &gt; 0 &amp;&amp; <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="player_8cpp.html#ac00dfe681a5a2f2b03bfe2ad27df1721">effect_nausea</a> ) ) {</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>        <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> *= 5 * <a class="code hl_function" href="classCreature.html#a70ba05a0184ff83095f639eac18f24fe">get_effect_int</a>( <a class="code hl_variable" href="player_8cpp.html#ac00dfe681a5a2f2b03bfe2ad27df1721">effect_nausea</a> );</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>    }</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a>;</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>}</div>
<div class="ttc" id="aclassCharacter_html_aa4ecfee35839a07be48afccbe582023e"><div class="ttname"><a href="classCharacter.html#aa4ecfee35839a07be48afccbe582023e">Character::stomach</a></div><div class="ttdeci">stomach_contents stomach</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01591">character.h:1591</a></div></div>
<div class="ttc" id="aclassstomach__contents_html_aa5cf12fa92df9630e78c4cf5af74d616"><div class="ttname"><a href="classstomach__contents.html#aa5cf12fa92df9630e78c4cf5af74d616">stomach_contents::get_calories</a></div><div class="ttdeci">int get_calories() const</div><div class="ttdef"><b>Definition:</b> <a href="stomach_8cpp_source.html#l00179">stomach.cpp:179</a></div></div>
<div class="ttc" id="aplayer_8cpp_html_a07c1990d0d8dd3b8a3305dca2429de8a"><div class="ttname"><a href="player_8cpp.html#a07c1990d0d8dd3b8a3305dca2429de8a">effect_weed_high</a></div><div class="ttdeci">static const efftype_id effect_weed_high(&quot;weed_high&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a1701b9ed8931bbfdbc2fd35170e314eb"><div class="ttname"><a href="player_8cpp.html#a1701b9ed8931bbfdbc2fd35170e314eb">trait_STRONGSTOMACH</a></div><div class="ttdeci">static const trait_id trait_STRONGSTOMACH(&quot;STRONGSTOMACH&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_a959d4c791c4b43d445bffa31557fbaba"><div class="ttname"><a href="player_8cpp.html#a959d4c791c4b43d445bffa31557fbaba">trait_WEAKSTOMACH</a></div><div class="ttdeci">static const trait_id trait_WEAKSTOMACH(&quot;WEAKSTOMACH&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_aaa3553ccaea50aeb81e66b12f455a97e"><div class="ttname"><a href="player_8cpp.html#aaa3553ccaea50aeb81e66b12f455a97e">trait_VOMITOUS</a></div><div class="ttdeci">static const trait_id trait_VOMITOUS(&quot;VOMITOUS&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_ac00dfe681a5a2f2b03bfe2ad27df1721"><div class="ttname"><a href="player_8cpp.html#ac00dfe681a5a2f2b03bfe2ad27df1721">effect_nausea</a></div><div class="ttdeci">static const efftype_id effect_nausea(&quot;nausea&quot;)</div></div>
<div class="ttc" id="aplayer_8cpp_html_addc0f0bc080e93241210930eefb37cba"><div class="ttname"><a href="player_8cpp.html#addc0f0bc080e93241210930eefb37cba">trait_NAUSEA</a></div><div class="ttdeci">static const trait_id trait_NAUSEA(&quot;NAUSEA&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player_8cpp.html#ac00dfe681a5a2f2b03bfe2ad27df1721">effect_nausea</a>, <a class="el" href="player_8cpp.html#a07c1990d0d8dd3b8a3305dca2429de8a">effect_weed_high</a>, <a class="el" href="stomach_8cpp_source.html#l00179">stomach_contents::get_calories()</a>, <a class="el" href="creature_8cpp_source.html#l01244">Creature::get_effect_int()</a>, <a class="el" href="creature_8cpp_source.html#l01173">Creature::has_effect()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8h_source.html#l01591">Character::stomach</a>, <a class="el" href="player_8cpp.html#addc0f0bc080e93241210930eefb37cba">trait_NAUSEA</a>, <a class="el" href="player_8cpp.html#a1701b9ed8931bbfdbc2fd35170e314eb">trait_STRONGSTOMACH</a>, <a class="el" href="player_8cpp.html#aaa3553ccaea50aeb81e66b12f455a97e">trait_VOMITOUS</a>, and <a class="el" href="player_8cpp.html#a959d4c791c4b43d445bffa31557fbaba">trait_WEAKSTOMACH</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00125">eff_fun_fungus()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00217">eff_fun_hallu()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00464">hardcoded_effects()</a>, and <a class="el" href="player_8cpp_source.html#l01432">process_one_effect()</a>.</p>

</div>
</div>
<a id="a4cbe3da3a5ba447b31ba5f00faf40c26" name="a4cbe3da3a5ba447b31ba5f00faf40c26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cbe3da3a5ba447b31ba5f00faf40c26">&#9670;&nbsp;</a></span>weapname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string player::weapname </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the formatted name of the currently wielded item (if any) with current gun mode (if gun) </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04165">4165</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04166" name="l04166"></a><span class="lineno"> 4166</span>{</div>
<div class="line"><a id="l04167" name="l04167"></a><span class="lineno"> 4167</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l04168" name="l04168"></a><span class="lineno"> 4168</span>        std::string str = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;(%d) [%s] %s&quot;</span>, <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a26c025fd4909bd31c8e91ed87905507b">ammo_remaining</a>(),</div>
<div class="line"><a id="l04169" name="l04169"></a><span class="lineno"> 4169</span>                                         <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a1a94ea108d695febf7f2bcf090f097fa">gun_current_mode</a>().<a class="code hl_function" href="classgun__mode.html#a583a586a605731dbd36af20553c0e51d">tname</a>(), <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a70359b9e831ed97023891631058595b6">type_name</a>() );</div>
<div class="line"><a id="l04170" name="l04170"></a><span class="lineno"> 4170</span>        <span class="comment">// Is either the base item or at least one auxiliary gunmod loaded (includes empty magazines)</span></div>
<div class="line"><a id="l04171" name="l04171"></a><span class="lineno"> 4171</span>        <span class="keywordtype">bool</span> base = <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a5d89f04a2a08245ec865db0865e8a6c1">ammo_capacity</a>() &gt; 0 &amp;&amp; !<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;RELOAD_AND_SHOOT&quot;</span> );</div>
<div class="line"><a id="l04172" name="l04172"></a><span class="lineno"> 4172</span> </div>
<div class="line"><a id="l04173" name="l04173"></a><span class="lineno"> 4173</span>        <span class="keyword">const</span> <span class="keyword">auto</span> mods = <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#acd78321ba4d5c09d39f1d58d20b68484">gunmods</a>();</div>
<div class="line"><a id="l04174" name="l04174"></a><span class="lineno"> 4174</span>        <span class="keywordtype">bool</span> aux = std::any_of( mods.begin(), mods.end(), [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> * e ) {</div>
<div class="line"><a id="l04175" name="l04175"></a><span class="lineno"> 4175</span>            return e-&gt;is_gun() &amp;&amp; e-&gt;ammo_capacity() &gt; 0 &amp;&amp; !e-&gt;has_flag( <span class="stringliteral">&quot;RELOAD_AND_SHOOT&quot;</span> );</div>
<div class="line"><a id="l04176" name="l04176"></a><span class="lineno"> 4176</span>        } );</div>
<div class="line"><a id="l04177" name="l04177"></a><span class="lineno"> 4177</span> </div>
<div class="line"><a id="l04178" name="l04178"></a><span class="lineno"> 4178</span>        <span class="keywordflow">if</span>( base || aux ) {</div>
<div class="line"><a id="l04179" name="l04179"></a><span class="lineno"> 4179</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> e : mods ) {</div>
<div class="line"><a id="l04180" name="l04180"></a><span class="lineno"> 4180</span>                <span class="keywordflow">if</span>( e-&gt;is_gun() &amp;&amp; e-&gt;ammo_capacity() &gt; 0 &amp;&amp; !e-&gt;has_flag( <span class="stringliteral">&quot;RELOAD_AND_SHOOT&quot;</span> ) ) {</div>
<div class="line"><a id="l04181" name="l04181"></a><span class="lineno"> 4181</span>                    str += <span class="stringliteral">&quot; (&quot;</span> + <a class="code hl_function" href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">std::to_string</a>( e-&gt;ammo_remaining() );</div>
<div class="line"><a id="l04182" name="l04182"></a><span class="lineno"> 4182</span>                    <span class="keywordflow">if</span>( e-&gt;magazine_integral() ) {</div>
<div class="line"><a id="l04183" name="l04183"></a><span class="lineno"> 4183</span>                        str += <span class="stringliteral">&quot;/&quot;</span> + <a class="code hl_function" href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">std::to_string</a>( e-&gt;ammo_capacity() );</div>
<div class="line"><a id="l04184" name="l04184"></a><span class="lineno"> 4184</span>                    }</div>
<div class="line"><a id="l04185" name="l04185"></a><span class="lineno"> 4185</span>                    str += <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a id="l04186" name="l04186"></a><span class="lineno"> 4186</span>                }</div>
<div class="line"><a id="l04187" name="l04187"></a><span class="lineno"> 4187</span>            }</div>
<div class="line"><a id="l04188" name="l04188"></a><span class="lineno"> 4188</span>        }</div>
<div class="line"><a id="l04189" name="l04189"></a><span class="lineno"> 4189</span>        <span class="keywordflow">return</span> str;</div>
<div class="line"><a id="l04190" name="l04190"></a><span class="lineno"> 4190</span> </div>
<div class="line"><a id="l04191" name="l04191"></a><span class="lineno"> 4191</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() &amp;&amp; <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#aa744f662499b0a03029ea58389cc260a">num_item_stacks</a>() == 1 ) {</div>
<div class="line"><a id="l04192" name="l04192"></a><span class="lineno"> 4192</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%s (%d)&quot;</span>, <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(),</div>
<div class="line"><a id="l04193" name="l04193"></a><span class="lineno"> 4193</span>                              <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>().<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> );</div>
<div class="line"><a id="l04194" name="l04194"></a><span class="lineno"> 4194</span> </div>
<div class="line"><a id="l04195" name="l04195"></a><span class="lineno"> 4195</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#ad79464264cb8a2061f5888d092f5cd86">is_armed</a>() ) {</div>
<div class="line"><a id="l04196" name="l04196"></a><span class="lineno"> 4196</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;fists&quot;</span> );</div>
<div class="line"><a id="l04197" name="l04197"></a><span class="lineno"> 4197</span> </div>
<div class="line"><a id="l04198" name="l04198"></a><span class="lineno"> 4198</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04199" name="l04199"></a><span class="lineno"> 4199</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>();</div>
<div class="line"><a id="l04200" name="l04200"></a><span class="lineno"> 4200</span>    }</div>
<div class="line"><a id="l04201" name="l04201"></a><span class="lineno"> 4201</span>}</div>
<div class="ttc" id="acalendar_8cpp_html_aeb989652ea2bf7fd03b07a74fd30bd7a"><div class="ttname"><a href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">to_string</a></div><div class="ttdeci">std::string to_string(const time_duration &amp;d)</div><div class="ttdoc">Returns a string showing a duration.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00327">calendar.cpp:327</a></div></div>
<div class="ttc" id="aclassgun__mode_html_a583a586a605731dbd36af20553c0e51d"><div class="ttname"><a href="classgun__mode.html#a583a586a605731dbd36af20553c0e51d">gun_mode::tname</a></div><div class="ttdeci">std::string tname() const</div><div class="ttdef"><b>Definition:</b> <a href="gun__mode_8h_source.html#l00059">gun_mode.h:59</a></div></div>
<div class="ttc" id="aclassitem__contents_html_aa744f662499b0a03029ea58389cc260a"><div class="ttname"><a href="classitem__contents.html#aa744f662499b0a03029ea58389cc260a">item_contents::num_item_stacks</a></div><div class="ttdeci">size_t num_item_stacks() const</div><div class="ttdoc">returns the number of items stacks in contents each item that is not count_by_charges,...</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00027">item_contents.cpp:27</a></div></div>
<div class="ttc" id="aclassitem_html_a1a94ea108d695febf7f2bcf090f097fa"><div class="ttname"><a href="classitem.html#a1a94ea108d695febf7f2bcf090f097fa">item::gun_current_mode</a></div><div class="ttdeci">gun_mode gun_current_mode() const</div><div class="ttdoc">Get the current mode for this gun (or an invalid mode if item is not a gun)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07736">item.cpp:7736</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l07253">item::ammo_capacity()</a>, <a class="el" href="item_8cpp_source.html#l07226">item::ammo_remaining()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="item_8h_source.html#l02157">item::contents</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item_8cpp_source.html#l07736">item::gun_current_mode()</a>, <a class="el" href="item_8cpp_source.html#l07578">item::gunmods()</a>, <a class="el" href="item_8cpp_source.html#l05192">item::has_flag()</a>, <a class="el" href="melee_8cpp_source.html#l00145">Character::is_armed()</a>, <a class="el" href="item_8cpp_source.html#l06569">item::is_container()</a>, <a class="el" href="item_8cpp_source.html#l06367">item::is_gun()</a>, <a class="el" href="item_8cpp_source.html#l07503">item::magazine_integral()</a>, <a class="el" href="item__contents_8cpp_source.html#l00027">item_contents::num_item_stacks()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="gun__mode_8h_source.html#l00059">gun_mode::tname()</a>, <a class="el" href="item_8cpp_source.html#l04440">item::tname()</a>, <a class="el" href="calendar_8cpp_source.html#l00327">to_string()</a>, <a class="el" href="item_8cpp_source.html#l09678">item::type_name()</a>, and <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l02491">can_wield()</a>, <a class="el" href="panels_8cpp_source.html#l01588">draw_env_compact()</a>, <a class="el" href="panels_8cpp_source.html#l01971">draw_weapon_classic()</a>, <a class="el" href="panels_8cpp_source.html#l01990">draw_weapon_classic_alt()</a>, and <a class="el" href="panels_8cpp_source.html#l01475">draw_weapon_labels()</a>.</p>

</div>
</div>
<a id="a8c7623c11f37f370c8675385ef15566c" name="a8c7623c11f37f370c8675385ef15566c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c7623c11f37f370c8675385ef15566c">&#9670;&nbsp;</a></span>weapon_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double player::weapon_value </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>weap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ammo</em> = <code>10</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>NPC-related item rating functions. </p>

<p class="definition">Definition at line <a class="el" href="melee_8cpp_source.html#l02205">2205</a> of file <a class="el" href="melee_8cpp_source.html">melee.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>{</div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a81864eee5b75943bd4222b696117a52a">is_wielding</a>( weap ) ) {</div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>        <span class="keyword">auto</span> cached_value = <a class="code hl_variable" href="classCharacter.html#a28028d965c0eaed38c5e132f52bf41cf">cached_info</a>.find( <span class="stringliteral">&quot;weapon_value&quot;</span> );</div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span>        <span class="keywordflow">if</span>( cached_value != <a class="code hl_variable" href="classCharacter.html#a28028d965c0eaed38c5e132f52bf41cf">cached_info</a>.end() ) {</div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span>            <span class="keywordflow">return</span> cached_value-&gt;second;</div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span>        }</div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span>    }</div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> val_gun = <a class="code hl_function" href="classplayer.html#ad7cc78075e6defac1a555615a4a0451a">gun_value</a>( weap, ammo );</div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> val_melee = <a class="code hl_function" href="classplayer.html#a7e5ce206cc070d81475a4fbaeaef852d">melee_value</a>( weap );</div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code hl_enumvalue" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5aea74589f67c5fc9945d7dde9d16aecda3a">more</a> = std::max( val_gun, val_melee );</div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> less = std::min( val_gun, val_melee );</div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span> </div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>    <span class="comment">// discourage wielding helmets, but not worn firearms</span></div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>    <span class="keywordtype">int</span> armor_penalty = 1;</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>    <span class="keywordflow">if</span>( weap.<a class="code hl_function" href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">is_armor</a>() &amp;&amp; !weap.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span>        armor_penalty = 0;</div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span>    }</div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span> </div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span>    <span class="comment">// A small bonus for guns you can also use to hit stuff with (bayonets etc.)</span></div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> my_val = ( <a class="code hl_enumvalue" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5aea74589f67c5fc9945d7dde9d16aecda3a">more</a> + ( less / 2.0 ) ) * armor_penalty;</div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span>    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a>, <span class="stringliteral">&quot;%s (%ld ammo) sum value: %.1f&quot;</span>, weap.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">get_id</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>(), ammo, my_val );</div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a81864eee5b75943bd4222b696117a52a">is_wielding</a>( weap ) ) {</div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span>        <a class="code hl_variable" href="classCharacter.html#a28028d965c0eaed38c5e132f52bf41cf">cached_info</a>.emplace( <span class="stringliteral">&quot;weapon_value&quot;</span>, my_val );</div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span>    }</div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>    <span class="keywordflow">return</span> my_val;</div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span>}</div>
<div class="ttc" id="aclassCharacter_html_a28028d965c0eaed38c5e132f52bf41cf"><div class="ttname"><a href="classCharacter.html#a28028d965c0eaed38c5e132f52bf41cf">Character::cached_info</a></div><div class="ttdeci">std::map&lt; std::string, double &gt; cached_info</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02135">character.h:2135</a></div></div>
<div class="ttc" id="anamespacedetail_1_1digits_html_aad69d2373aa047bdd9e81494bf3da5aea74589f67c5fc9945d7dde9d16aecda3a"><div class="ttname"><a href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5aea74589f67c5fc9945d7dde9d16aecda3a">detail::digits::more</a></div><div class="ttdeci">@ more</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format-inl_8h_source.html#l01627">fmtlib_format-inl.h:1627</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="character_8h_source.html#l02135">Character::cached_info</a>, <a class="el" href="itype_8h_source.html#l01070">itype::get_id()</a>, <a class="el" href="ranged_8cpp_source.html#l01931">gun_value()</a>, <a class="el" href="item_8cpp_source.html#l06554">item::is_armor()</a>, <a class="el" href="item_8cpp_source.html#l06367">item::is_gun()</a>, <a class="el" href="character_8cpp_source.html#l03216">Character::is_wielding()</a>, <a class="el" href="enums_8h_source.html#l00264">m_debug</a>, <a class="el" href="melee_8cpp_source.html#l02233">melee_value()</a>, <a class="el" href="fmtlib__format-inl_8h_source.html#l01627">detail::digits::more</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, and <a class="el" href="item_8h_source.html#l02156">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l00629">npc::character_danger()</a>, <a class="el" href="bionics_8cpp_source.html#l00463">npc::check_or_use_weapon_cbm()</a>, <a class="el" href="npc_8cpp_source.html#l01483">npc::decide_needs()</a>, <a class="el" href="npc_8cpp_source.html#l01210">npc::form_opinion()</a>, <a class="el" href="npctalk_8cpp_source.html#l03328">give_item_to()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00568">rate_critter()</a>, <a class="el" href="npcmove_8cpp_source.html#l00653">npc::regen_ai_cache()</a>, <a class="el" href="npc_8cpp_source.html#l01741">npc::value()</a>, and <a class="el" href="npcmove_8cpp_source.html#l03381">npc::wield_better_weapon()</a>.</p>

</div>
</div>
<a id="a149e1926d7fef1471ff7c47d6347ec92" name="a149e1926d7fef1471ff7c47d6347ec92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a149e1926d7fef1471ff7c47d6347ec92">&#9670;&nbsp;</a></span>wear() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; std::list&lt; <a class="el" href="classitem.html">item</a> &gt;::iterator &gt; player::wear </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>interactive</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wear item; returns false on fail. </p>
<p >If interactive is false, don't alert the player or drain moves on completion. </p>

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02873">2873</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02874" name="l02874"></a><span class="lineno"> 2874</span>{</div>
<div class="line"><a id="l02875" name="l02875"></a><span class="lineno"> 2875</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classplayer.html#a149e1926d7fef1471ff7c47d6347ec92">wear</a>( <a class="code hl_function" href="classCharacter.html#a654ed96afe759517e0bf1a31c7a3ea11">i_at</a>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a> ), interactive );</div>
<div class="line"><a id="l02876" name="l02876"></a><span class="lineno"> 2876</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l02391">Character::i_at()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, and <a class="el" href="player_8cpp_source.html#l02873">wear()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l02086">game::inventory_item_menu()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00438">sort_armor()</a>, <a class="el" href="handle__action_8cpp_source.html#l01264">wear()</a>, and <a class="el" href="player_8cpp_source.html#l02873">wear()</a>.</p>

</div>
</div>
<a id="a2408ec64223ab7855a60c92ef95323af" name="a2408ec64223ab7855a60c92ef95323af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2408ec64223ab7855a60c92ef95323af">&#9670;&nbsp;</a></span>wear() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; std::list&lt; <a class="el" href="classitem.html">item</a> &gt;::iterator &gt; player::wear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>to_wear</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>interactive</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l02879">2879</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02880" name="l02880"></a><span class="lineno"> 2880</span>{</div>
<div class="line"><a id="l02881" name="l02881"></a><span class="lineno"> 2881</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">is_worn</a>( to_wear ) ) {</div>
<div class="line"><a id="l02882" name="l02882"></a><span class="lineno"> 2882</span>        <span class="keywordflow">if</span>( interactive ) {</div>
<div class="line"><a id="l02883" name="l02883"></a><span class="lineno"> 2883</span>            <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l02884" name="l02884"></a><span class="lineno"> 2884</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You are already wearing that.&quot;</span> ),</div>
<div class="line"><a id="l02885" name="l02885"></a><span class="lineno"> 2885</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; is already wearing that.&quot;</span> )</div>
<div class="line"><a id="l02886" name="l02886"></a><span class="lineno"> 2886</span>                                 );</div>
<div class="line"><a id="l02887" name="l02887"></a><span class="lineno"> 2887</span>        }</div>
<div class="line"><a id="l02888" name="l02888"></a><span class="lineno"> 2888</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l02889" name="l02889"></a><span class="lineno"> 2889</span>    }</div>
<div class="line"><a id="l02890" name="l02890"></a><span class="lineno"> 2890</span>    <span class="keywordflow">if</span>( to_wear.<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l02891" name="l02891"></a><span class="lineno"> 2891</span>        <span class="keywordflow">if</span>( interactive ) {</div>
<div class="line"><a id="l02892" name="l02892"></a><span class="lineno"> 2892</span>            <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l02893" name="l02893"></a><span class="lineno"> 2893</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You don&#39;t have that item.&quot;</span> ),</div>
<div class="line"><a id="l02894" name="l02894"></a><span class="lineno"> 2894</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; doesn&#39;t have that item.&quot;</span> ) );</div>
<div class="line"><a id="l02895" name="l02895"></a><span class="lineno"> 2895</span>        }</div>
<div class="line"><a id="l02896" name="l02896"></a><span class="lineno"> 2896</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l02897" name="l02897"></a><span class="lineno"> 2897</span>    }</div>
<div class="line"><a id="l02898" name="l02898"></a><span class="lineno"> 2898</span> </div>
<div class="line"><a id="l02899" name="l02899"></a><span class="lineno"> 2899</span>    <span class="keywordtype">bool</span> was_weapon;</div>
<div class="line"><a id="l02900" name="l02900"></a><span class="lineno"> 2900</span>    <a class="code hl_class" href="classitem.html">item</a> to_wear_copy( to_wear );</div>
<div class="line"><a id="l02901" name="l02901"></a><span class="lineno"> 2901</span>    <span class="keywordflow">if</span>( &amp;to_wear == &amp;<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> ) {</div>
<div class="line"><a id="l02902" name="l02902"></a><span class="lineno"> 2902</span>        <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> = <a class="code hl_class" href="classitem.html">item</a>();</div>
<div class="line"><a id="l02903" name="l02903"></a><span class="lineno"> 2903</span>        was_weapon = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02904" name="l02904"></a><span class="lineno"> 2904</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02905" name="l02905"></a><span class="lineno"> 2905</span>        <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a36e4b99300e1fe64920ce52911c04127">remove_item</a>( &amp;to_wear );</div>
<div class="line"><a id="l02906" name="l02906"></a><span class="lineno"> 2906</span>        <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a02827fc3d19c675083f0ddee201a1549">restack</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l02907" name="l02907"></a><span class="lineno"> 2907</span>        was_weapon = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02908" name="l02908"></a><span class="lineno"> 2908</span>    }</div>
<div class="line"><a id="l02909" name="l02909"></a><span class="lineno"> 2909</span> </div>
<div class="line"><a id="l02910" name="l02910"></a><span class="lineno"> 2910</span>    <span class="keyword">auto</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = <a class="code hl_function" href="classCharacter.html#a298ce5c5382920e7bffb8f146a18cce1">wear_item</a>( to_wear_copy, interactive );</div>
<div class="line"><a id="l02911" name="l02911"></a><span class="lineno"> 2911</span>    <span class="keywordflow">if</span>( !<a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> ) {</div>
<div class="line"><a id="l02912" name="l02912"></a><span class="lineno"> 2912</span>        <span class="keywordflow">if</span>( was_weapon ) {</div>
<div class="line"><a id="l02913" name="l02913"></a><span class="lineno"> 2913</span>            <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> = to_wear_copy;</div>
<div class="line"><a id="l02914" name="l02914"></a><span class="lineno"> 2914</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02915" name="l02915"></a><span class="lineno"> 2915</span>            <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( to_wear_copy, <span class="keyword">true</span> );</div>
<div class="line"><a id="l02916" name="l02916"></a><span class="lineno"> 2916</span>        }</div>
<div class="line"><a id="l02917" name="l02917"></a><span class="lineno"> 2917</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l02918" name="l02918"></a><span class="lineno"> 2918</span>    }</div>
<div class="line"><a id="l02919" name="l02919"></a><span class="lineno"> 2919</span> </div>
<div class="line"><a id="l02920" name="l02920"></a><span class="lineno"> 2920</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l02921" name="l02921"></a><span class="lineno"> 2921</span>}</div>
<div class="ttc" id="aclassinventory_html_a3840801d19b8b8b3ae4be0e832bd1c7d"><div class="ttname"><a href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">inventory::add_item</a></div><div class="ttdeci">item &amp; add_item(item newit, bool keep_invlet=false, bool assign_invlet=true, bool should_stack=true)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00285">inventory.cpp:285</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="inventory_8cpp_source.html#l00285">inventory::add_item()</a>, <a class="el" href="player_8cpp_source.html#l04373">add_msg_player_or_npc()</a>, <a class="el" href="character_8h_source.html#l01583">Character::inv</a>, <a class="el" href="item_8cpp_source.html#l00729">item::is_null()</a>, <a class="el" href="character_8h_source.html#l01142">Character::is_worn()</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="optional_8h_source.html#l00022">cata::nullopt</a>, <a class="el" href="inventory_8cpp_source.html#l00708">inventory::remove_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00398">inventory::restack()</a>, <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>, and <a class="el" href="character_8cpp_source.html#l02170">Character::wear_item()</a>.</p>

</div>
</div>
<a id="ab6dc9128184b67ca03057f8d19c066c2" name="ab6dc9128184b67ca03057f8d19c066c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6dc9128184b67ca03057f8d19c066c2">&#9670;&nbsp;</a></span>wield_contents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::wield_contents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>internal_item</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>penalties</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>base_cost</em> = <code><a class="el" href="game__constants_8h.html#aa5931cb2f162c829bae20f0df39ae014">INVENTORY_HANDLING_PENALTY</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to wield a contained item consuming moves proportional to weapon skill and volume. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container</td><td>Container containing the item to be wielded </td></tr>
    <tr><td class="paramname">internal_item</td><td>reference to contained item to wield. </td></tr>
    <tr><td class="paramname">penalties</td><td>Whether item volume and temporary effects (e.g. GRABBED, DOWNED) should be considered. </td></tr>
    <tr><td class="paramname">base_cost</td><td>Cost due to storage type. </td></tr>
  </table>
  </dd>
</dl>
Pistol decreases time taken to draw pistols from holsters Smg decreases time taken to draw smgs from holsters Rifle decreases time taken to draw rifles from holsters Shotgun decreases time taken to draw shotguns from holsters Launcher decreases time taken to draw launchers from holsters Stabbing decreases time taken to draw stabbing weapons from sheathes Cutting decreases time taken to draw cutting weapons from scabbards Bashing decreases time taken to draw bashing weapons from holsters 
<p class="definition">Definition at line <a class="el" href="player_8cpp_source.html#l04203">4203</a> of file <a class="el" href="player_8cpp_source.html">player.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04205" name="l04205"></a><span class="lineno"> 4205</span>{</div>
<div class="line"><a id="l04206" name="l04206"></a><span class="lineno"> 4206</span>    <span class="comment">// if index not specified and container has multiple items then ask the player to choose one</span></div>
<div class="line"><a id="l04207" name="l04207"></a><span class="lineno"> 4207</span>    <span class="keywordflow">if</span>( internal_item == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l04208" name="l04208"></a><span class="lineno"> 4208</span>        std::vector&lt;std::string&gt; opts;</div>
<div class="line"><a id="l04209" name="l04209"></a><span class="lineno"> 4209</span>        std::list&lt;item *&gt; container_contents = container.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a7f56c09b0d592bdc425a578d02b4b44d">all_items_top</a>();</div>
<div class="line"><a id="l04210" name="l04210"></a><span class="lineno"> 4210</span>        <a class="code hl_function" href="namespaceiexamine.html#ab9103bcb0e9cb4755b445e5395a0a62f">std::transform</a>( container_contents.begin(), container_contents.end(),</div>
<div class="line"><a id="l04211" name="l04211"></a><span class="lineno"> 4211</span>        std::back_inserter( opts ), []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> * elem ) {</div>
<div class="line"><a id="l04212" name="l04212"></a><span class="lineno"> 4212</span>            return elem-&gt;display_name();</div>
<div class="line"><a id="l04213" name="l04213"></a><span class="lineno"> 4213</span>        } );</div>
<div class="line"><a id="l04214" name="l04214"></a><span class="lineno"> 4214</span>        <span class="keywordflow">if</span>( opts.size() &gt; 1 ) {</div>
<div class="line"><a id="l04215" name="l04215"></a><span class="lineno"> 4215</span>            <span class="keywordtype">int</span> <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a> = <a class="code hl_class" href="classuilist.html">uilist</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Wield what?&quot;</span> ), opts );</div>
<div class="line"><a id="l04216" name="l04216"></a><span class="lineno"> 4216</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a> &lt; 0 ) {</div>
<div class="line"><a id="l04217" name="l04217"></a><span class="lineno"> 4217</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04218" name="l04218"></a><span class="lineno"> 4218</span>            }</div>
<div class="line"><a id="l04219" name="l04219"></a><span class="lineno"> 4219</span>            internal_item = *std::next( container_contents.begin(), <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a> );</div>
<div class="line"><a id="l04220" name="l04220"></a><span class="lineno"> 4220</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l04221" name="l04221"></a><span class="lineno"> 4221</span>            internal_item = &amp;container.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>();</div>
<div class="line"><a id="l04222" name="l04222"></a><span class="lineno"> 4222</span>        }</div>
<div class="line"><a id="l04223" name="l04223"></a><span class="lineno"> 4223</span>    }</div>
<div class="line"><a id="l04224" name="l04224"></a><span class="lineno"> 4224</span> </div>
<div class="line"><a id="l04225" name="l04225"></a><span class="lineno"> 4225</span>    <span class="keywordflow">if</span>( !container.<a class="code hl_function" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( *internal_item ) ) {</div>
<div class="line"><a id="l04226" name="l04226"></a><span class="lineno"> 4226</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to wield non-existent item from container (player::wield_contents)&quot;</span> );</div>
<div class="line"><a id="l04227" name="l04227"></a><span class="lineno"> 4227</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04228" name="l04228"></a><span class="lineno"> 4228</span>    }</div>
<div class="line"><a id="l04229" name="l04229"></a><span class="lineno"> 4229</span> </div>
<div class="line"><a id="l04230" name="l04230"></a><span class="lineno"> 4230</span>    <span class="keyword">const</span> <a class="code hl_class" href="classret__val.html">ret_val&lt;bool&gt;</a> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_function" href="classplayer.html#a0a7027632b8f86717dd34d64d3015dda">can_wield</a>( *internal_item );</div>
<div class="line"><a id="l04231" name="l04231"></a><span class="lineno"> 4231</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.success() ) {</div>
<div class="line"><a id="l04232" name="l04232"></a><span class="lineno"> 4232</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.c_str() );</div>
<div class="line"><a id="l04233" name="l04233"></a><span class="lineno"> 4233</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04234" name="l04234"></a><span class="lineno"> 4234</span>    }</div>
<div class="line"><a id="l04235" name="l04235"></a><span class="lineno"> 4235</span> </div>
<div class="line"><a id="l04236" name="l04236"></a><span class="lineno"> 4236</span>    <span class="keywordtype">int</span> mv = 0;</div>
<div class="line"><a id="l04237" name="l04237"></a><span class="lineno"> 4237</span> </div>
<div class="line"><a id="l04238" name="l04238"></a><span class="lineno"> 4238</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#ad79464264cb8a2061f5888d092f5cd86">is_armed</a>() ) {</div>
<div class="line"><a id="l04239" name="l04239"></a><span class="lineno"> 4239</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classplayer.html#a9a4073343b5776cab794313c9a7e4cfb">unwield</a>() ) {</div>
<div class="line"><a id="l04240" name="l04240"></a><span class="lineno"> 4240</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04241" name="l04241"></a><span class="lineno"> 4241</span>        }</div>
<div class="line"><a id="l04242" name="l04242"></a><span class="lineno"> 4242</span>        <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a14ac26748e30d2d0f6c137734d55b2b5">unsort</a>();</div>
<div class="line"><a id="l04243" name="l04243"></a><span class="lineno"> 4243</span>    }</div>
<div class="line"><a id="l04244" name="l04244"></a><span class="lineno"> 4244</span> </div>
<div class="line"><a id="l04245" name="l04245"></a><span class="lineno"> 4245</span>    <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> = <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( *internal_item );</div>
<div class="line"><a id="l04246" name="l04246"></a><span class="lineno"> 4246</span>    container.<a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *internal_item );</div>
<div class="line"><a id="l04247" name="l04247"></a><span class="lineno"> 4247</span>    container.<a class="code hl_function" href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">on_contents_changed</a>();</div>
<div class="line"><a id="l04248" name="l04248"></a><span class="lineno"> 4248</span> </div>
<div class="line"><a id="l04249" name="l04249"></a><span class="lineno"> 4249</span>    <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a4814b0d8a4fe394998ba690fb19a1d16">update_invlet</a>( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> );</div>
<div class="line"><a id="l04250" name="l04250"></a><span class="lineno"> 4250</span>    <a class="code hl_variable" href="classCharacter.html#a3d69eddc0a03b21378fc68cc08d32c7f">inv</a>.<a class="code hl_function" href="classinventory.html#a6632e04576710c1d9ee979850958e63c">update_cache_with_item</a>( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> );</div>
<div class="line"><a id="l04251" name="l04251"></a><span class="lineno"> 4251</span>    <a class="code hl_variable" href="classCharacter.html#a1819679d2d4e9f8ba5d62ae26737f34c">last_item</a> = <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>();</div>
<div class="line"><a id="l04252" name="l04252"></a><span class="lineno"> 4252</span><span class="comment"></span> </div>
<div class="line"><a id="l04253" name="l04253"></a><span class="lineno"> 4253</span><span class="comment">    /**</span></div>
<div class="line"><a id="l04254" name="l04254"></a><span class="lineno"> 4254</span><span class="comment">     * @EFFECT_PISTOL decreases time taken to draw pistols from holsters</span></div>
<div class="line"><a id="l04255" name="l04255"></a><span class="lineno"> 4255</span><span class="comment">     * @EFFECT_SMG decreases time taken to draw smgs from holsters</span></div>
<div class="line"><a id="l04256" name="l04256"></a><span class="lineno"> 4256</span><span class="comment">     * @EFFECT_RIFLE decreases time taken to draw rifles from holsters</span></div>
<div class="line"><a id="l04257" name="l04257"></a><span class="lineno"> 4257</span><span class="comment">     * @EFFECT_SHOTGUN decreases time taken to draw shotguns from holsters</span></div>
<div class="line"><a id="l04258" name="l04258"></a><span class="lineno"> 4258</span><span class="comment">     * @EFFECT_LAUNCHER decreases time taken to draw launchers from holsters</span></div>
<div class="line"><a id="l04259" name="l04259"></a><span class="lineno"> 4259</span><span class="comment">     * @EFFECT_STABBING decreases time taken to draw stabbing weapons from sheathes</span></div>
<div class="line"><a id="l04260" name="l04260"></a><span class="lineno"> 4260</span><span class="comment">     * @EFFECT_CUTTING decreases time taken to draw cutting weapons from scabbards</span></div>
<div class="line"><a id="l04261" name="l04261"></a><span class="lineno"> 4261</span><span class="comment">     * @EFFECT_BASHING decreases time taken to draw bashing weapons from holsters</span></div>
<div class="line"><a id="l04262" name="l04262"></a><span class="lineno"> 4262</span><span class="comment">     */</span></div>
<div class="line"><a id="l04263" name="l04263"></a><span class="lineno"> 4263</span>    <span class="keywordtype">int</span> lvl = <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ? <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3">gun_skill</a>() : <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a634166a0674bcf69eb3874c7e7789344">melee_skill</a>() );</div>
<div class="line"><a id="l04264" name="l04264"></a><span class="lineno"> 4264</span>    mv += <a class="code hl_function" href="classCharacter.html#a33b54fd8799f4b1c9f6b0af42dbf33f8">item_handling_cost</a>( <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>, penalties, base_cost ) / ( ( lvl + 10.0f ) / 10.0f );</div>
<div class="line"><a id="l04265" name="l04265"></a><span class="lineno"> 4265</span> </div>
<div class="line"><a id="l04266" name="l04266"></a><span class="lineno"> 4266</span>    <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= mv;</div>
<div class="line"><a id="l04267" name="l04267"></a><span class="lineno"> 4267</span> </div>
<div class="line"><a id="l04268" name="l04268"></a><span class="lineno"> 4268</span>    <a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a435e1e28dc59e71f8cb985dd5c7db42c">on_wield</a>( *<span class="keyword">this</span>, mv );</div>
<div class="line"><a id="l04269" name="l04269"></a><span class="lineno"> 4269</span> </div>
<div class="line"><a id="l04270" name="l04270"></a><span class="lineno"> 4270</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l04271" name="l04271"></a><span class="lineno"> 4271</span>}</div>
<div class="ttc" id="aclassinventory_html_a4814b0d8a4fe394998ba690fb19a1d16"><div class="ttname"><a href="classinventory.html#a4814b0d8a4fe394998ba690fb19a1d16">inventory::update_invlet</a></div><div class="ttdeci">void update_invlet(item &amp;it, bool assign_invlet=true)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l01207">inventory.cpp:1207</a></div></div>
<div class="ttc" id="aclassinventory_html_a6632e04576710c1d9ee979850958e63c"><div class="ttname"><a href="classinventory.html#a6632e04576710c1d9ee979850958e63c">inventory::update_cache_with_item</a></div><div class="ttdeci">void update_cache_with_item(item &amp;newit)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00252">inventory.cpp:252</a></div></div>
<div class="ttc" id="aclassitem_html_a435e1e28dc59e71f8cb985dd5c7db42c"><div class="ttname"><a href="classitem.html#a435e1e28dc59e71f8cb985dd5c7db42c">item::on_wield</a></div><div class="ttdeci">void on_wield(player &amp;p, int mv=0)</div><div class="ttdoc">Callback when a player starts wielding the item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04303">item.cpp:4303</a></div></div>
<div class="ttc" id="aclassitem_html_a634166a0674bcf69eb3874c7e7789344"><div class="ttname"><a href="classitem.html#a634166a0674bcf69eb3874c7e7789344">item::melee_skill</a></div><div class="ttdeci">skill_id melee_skill() const</div><div class="ttdoc">The most relevant skill used with this melee weapon.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07047">item.cpp:7047</a></div></div>
<div class="ttc" id="aclassplayer_html_a0a7027632b8f86717dd34d64d3015dda"><div class="ttname"><a href="classplayer.html#a0a7027632b8f86717dd34d64d3015dda">player::can_wield</a></div><div class="ttdeci">ret_val&lt; bool &gt; can_wield(const item &amp;it) const</div><div class="ttdoc">Check player capable of wielding an item.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l02491">player.cpp:2491</a></div></div>
<div class="ttc" id="aclassplayer_html_a9a4073343b5776cab794313c9a7e4cfb"><div class="ttname"><a href="classplayer.html#a9a4073343b5776cab794313c9a7e4cfb">player::unwield</a></div><div class="ttdeci">bool unwield()</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l02530">player.cpp:2530</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l04368">add_msg_if_player()</a>, <a class="el" href="item__contents_8cpp_source.html#l00128">item_contents::all_items_top()</a>, <a class="el" href="player_8cpp_source.html#l02491">can_wield()</a>, <a class="el" href="item_8h_source.html#l02157">item::contents</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="item_8cpp_source.html#l07026">item::gun_skill()</a>, <a class="el" href="visitable_8cpp_source.html#l00096">visitable&lt; T &gt;::has_item()</a>, <a class="el" href="character_8h_source.html#l01583">Character::inv</a>, <a class="el" href="melee_8cpp_source.html#l00145">Character::is_armed()</a>, <a class="el" href="item_8cpp_source.html#l06367">item::is_gun()</a>, <a class="el" href="character_8cpp_source.html#l07553">Character::item_handling_cost()</a>, <a class="el" href="character_8h_source.html#l01584">Character::last_item</a>, <a class="el" href="enums_8h_source.html#l00258">m_info</a>, <a class="el" href="item_8cpp_source.html#l07047">item::melee_skill()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00090">avatar_action::move()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="item_8cpp_source.html#l04424">item::on_contents_changed()</a>, <a class="el" href="item_8cpp_source.html#l04303">item::on_wield()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="visitable_8cpp_source.html#l00564">visitable&lt; T &gt;::remove_item()</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="iexamine_8cpp_source.html#l01576">iexamine::transform()</a>, <a class="el" href="item_8cpp_source.html#l08196">item::typeId()</a>, <a class="el" href="inventory_8cpp_source.html#l00226">inventory::unsort()</a>, <a class="el" href="player_8cpp_source.html#l02530">unwield()</a>, <a class="el" href="inventory_8cpp_source.html#l00252">inventory::update_cache_with_item()</a>, <a class="el" href="inventory_8cpp_source.html#l01207">inventory::update_invlet()</a>, and <a class="el" href="character_8h_source.html#l01585">Character::weapon</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l02714">holster_actor::use()</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a42dcd18aa62c2796aeffd6b12c0049d7" name="a42dcd18aa62c2796aeffd6b12c0049d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42dcd18aa62c2796aeffd6b12c0049d7">&#9670;&nbsp;</a></span>operator()() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool operator() </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classscenario.html">scenario</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classscenario.html">scenario</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="newcharacter_8cpp_source.html#l01928">1928</a> of file <a class="el" href="newcharacter_8cpp_source.html">newcharacter.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span>                                                            {</div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="newcharacter_8cpp.html#a62fb4fda0f83c31b218b67de28925251">cities_enabled</a> ) {</div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span>            <span class="comment">// The generic (&quot;Unemployed&quot;) profession should be listed first.</span></div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>            <span class="keyword">const</span> <a class="code hl_class" href="classscenario.html">scenario</a> *gen = <a class="code hl_function" href="classscenario.html#a532f5d22d4a2ae62a2309af685aa1c0b">scenario::generic</a>();</div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> == gen ) {</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> == gen ) {</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>            }</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>        }</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span> </div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="newcharacter_8cpp.html#a62fb4fda0f83c31b218b67de28925251">cities_enabled</a> &amp;&amp; <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;has_flag( <span class="stringliteral">&quot;CITY_START&quot;</span> ) != <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>-&gt;has_flag( <span class="stringliteral">&quot;CITY_START&quot;</span> ) ) {</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;has_flag( <span class="stringliteral">&quot;CITY_START&quot;</span> ) &lt; <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>-&gt;has_flag( <span class="stringliteral">&quot;CITY_START&quot;</span> );</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="newcharacter_8cpp.html#aa5dc8aa72d851a4f627e09a9bca1d37c">sort_by_points</a> ) {</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;point_cost() &lt; <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>-&gt;point_cost();</div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="translations_8h.html#aa323a1324b9ad3f0c7dc65690aed09c6">localized_compare</a>( <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;gender_appropriate_name( <a class="code hl_variable" href="classCharacter.html#a8e6a78e6c4497a9aa7b8cc127dcdd4e3">male</a> ),</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>                                      <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>-&gt;gender_appropriate_name( <a class="code hl_variable" href="classCharacter.html#a8e6a78e6c4497a9aa7b8cc127dcdd4e3">male</a> ) );</div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span>        }</div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>    }</div>
<div class="ttc" id="aclassscenario_html"><div class="ttname"><a href="classscenario.html">scenario</a></div><div class="ttdef"><b>Definition:</b> <a href="scenario_8h_source.html#l00018">scenario.h:19</a></div></div>
<div class="ttc" id="aclassscenario_html_a532f5d22d4a2ae62a2309af685aa1c0b"><div class="ttname"><a href="classscenario.html#a532f5d22d4a2ae62a2309af685aa1c0b">scenario::generic</a></div><div class="ttdeci">static const scenario * generic()</div><div class="ttdef"><b>Definition:</b> <a href="scenario_8cpp_source.html#l00099">scenario.cpp:99</a></div></div>
<div class="ttc" id="anewcharacter_8cpp_html_a62fb4fda0f83c31b218b67de28925251"><div class="ttname"><a href="newcharacter_8cpp.html#a62fb4fda0f83c31b218b67de28925251">cities_enabled</a></div><div class="ttdeci">bool cities_enabled</div><div class="ttdef"><b>Definition:</b> <a href="newcharacter_8cpp_source.html#l01926">newcharacter.cpp:1926</a></div></div>
<div class="ttc" id="anewcharacter_8cpp_html_aa5dc8aa72d851a4f627e09a9bca1d37c"><div class="ttname"><a href="newcharacter_8cpp.html#aa5dc8aa72d851a4f627e09a9bca1d37c">sort_by_points</a></div><div class="ttdeci">bool sort_by_points</div><div class="ttdef"><b>Definition:</b> <a href="newcharacter_8cpp_source.html#l01311">newcharacter.cpp:1311</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01029">a</a>, <a class="el" href="magic_8cpp_source.html#l01030">b</a>, <a class="el" href="newcharacter_8cpp_source.html#l01926">cities_enabled</a>, <a class="el" href="scenario_8cpp_source.html#l00099">scenario::generic()</a>, <a class="el" href="translations_8h_source.html#l00342">localized_compare</a>, <a class="el" href="newcharacter_8cpp_source.html#l01312">male</a>, and <a class="el" href="newcharacter_8cpp_source.html#l01311">sort_by_points</a>.</p>

</div>
</div>
<a id="ae91f2bec148cebd7a065cfdef11ab201" name="ae91f2bec148cebd7a065cfdef11ab201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae91f2bec148cebd7a065cfdef11ab201">&#9670;&nbsp;</a></span>operator()() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool operator() </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstring__id.html">string_id</a>&lt; <a class="el" href="classprofession.html">profession</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classstring__id.html">string_id</a>&lt; <a class="el" href="classprofession.html">profession</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="newcharacter_8cpp_source.html#l01314">1314</a> of file <a class="el" href="newcharacter_8cpp_source.html">newcharacter.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>                                                                                      {</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>        <span class="comment">// The generic (&quot;Unemployed&quot;) profession should be listed first.</span></div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>        <span class="keyword">const</span> <a class="code hl_class" href="classprofession.html">profession</a> *gen = <a class="code hl_function" href="classprofession.html#a30863aff05431320802058dee4113a6d">profession::generic</a>();</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>        <span class="keywordflow">if</span>( &amp;<a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>.obj() == gen ) {</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( &amp;<a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>.obj() == gen ) {</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>        }</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span> </div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="newcharacter_8cpp.html#aa5dc8aa72d851a4f627e09a9bca1d37c">sort_by_points</a> ) {</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;point_cost() &lt; <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>-&gt;point_cost();</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="translations_8h.html#aa323a1324b9ad3f0c7dc65690aed09c6">localized_compare</a>( <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>-&gt;gender_appropriate_name( <a class="code hl_variable" href="classCharacter.html#a8e6a78e6c4497a9aa7b8cc127dcdd4e3">male</a> ),</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>                                      <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>-&gt;gender_appropriate_name( <a class="code hl_variable" href="classCharacter.html#a8e6a78e6c4497a9aa7b8cc127dcdd4e3">male</a> ) );</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>        }</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>    }</div>
<div class="ttc" id="aclassprofession_html"><div class="ttname"><a href="classprofession.html">profession</a></div><div class="ttdef"><b>Definition:</b> <a href="profession_8h_source.html#l00025">profession.h:26</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01029">a</a>, <a class="el" href="magic_8cpp_source.html#l01030">b</a>, <a class="el" href="profession_8cpp_source.html#l00251">profession::generic()</a>, <a class="el" href="translations_8h_source.html#l00342">localized_compare</a>, <a class="el" href="newcharacter_8cpp_source.html#l01312">male</a>, and <a class="el" href="newcharacter_8cpp_source.html#l01311">sort_by_points</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5f1ee4ce958fda62c4766dd8762529c2" name="a5f1ee4ce958fda62c4766dd8762529c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f1ee4ce958fda62c4766dd8762529c2">&#9670;&nbsp;</a></span>ammo_location</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem__location.html">item_location</a> player::ammo_location</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00693">693</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l08812">favorite_ammo_or_select()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00251">aim_activity_actor::load_RAS_weapon()</a>, <a class="el" href="ranged_8cpp_source.html#l03742">ranged::prompt_select_default_ammo_for()</a>, and <a class="el" href="game_8cpp_source.html#l08831">game::reload()</a>.</p>

</div>
</div>
<a id="a1c39a85115cfe10b149ed518a08d2e31" name="a1c39a85115cfe10b149ed518a08d2e31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c39a85115cfe10b149ed518a08d2e31">&#9670;&nbsp;</a></span>bio_soporific_powered_at_last_sleep_check</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool player::bio_soporific_powered_at_last_sleep_check = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00482">482</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l03939">can_sleep()</a>, and <a class="el" href="player_8cpp_source.html#l03766">try_to_sleep()</a>.</p>

</div>
</div>
<a id="a38b455927fe69f32a4a0f9a4fba7cc0f" name="a38b455927fe69f32a4a0f9a4fba7cc0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38b455927fe69f32a4a0f9a4fba7cc0f">&#9670;&nbsp;</a></span>cash</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::cash = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00695">695</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="newcharacter_8cpp_source.html#l00376">avatar::create()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00731">talk_function::follow()</a>, <a class="el" href="npcmove_8cpp_source.html#l03903">npc::mug_player()</a>, <a class="el" href="player_8cpp_source.html#l00254">player()</a>, <a class="el" href="npc_8cpp_source.html#l00316">npc::randomize()</a>, <a class="el" href="iexamine_8cpp_source.html#l01353">iexamine::slot_machine()</a>, and <a class="el" href="memorial__logger_8cpp_source.html#l00150">memorial_logger::write()</a>.</p>

</div>
</div>
<a id="ad17195b9d0af08f6bdf9894b1ebeb8f6" name="ad17195b9d0af08f6bdf9894b1ebeb8f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad17195b9d0af08f6bdf9894b1ebeb8f6">&#9670;&nbsp;</a></span>follower_ids</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="classcharacter__id.html">character_id</a>&gt; player::follower_ids</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00710">710</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l01957">game::add_npc_follower()</a>, <a class="el" href="game_8cpp_source.html#l01963">game::remove_npc_follower()</a>, and <a class="el" href="game_8cpp_source.html#l02011">game::validate_npc_followers()</a>.</p>

</div>
</div>
<a id="a1888b03b4841e39fbd3633b95dfe81de" name="a1888b03b4841e39fbd3633b95dfe81de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1888b03b4841e39fbd3633b95dfe81de">&#9670;&nbsp;</a></span>grab_point</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtripoint.html">tripoint</a> player::grab_point</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00683">683</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l01028">map::board_vehicle()</a>, <a class="el" href="handle__action_8cpp_source.html#l00599">grab()</a>, <a class="el" href="avatar_8cpp_source.html#l00639">avatar::grab()</a>, <a class="el" href="game_8cpp_source.html#l10060">game::grabbed_furn_move()</a>, <a class="el" href="game_8cpp_source.html#l10232">game::grabbed_move()</a>, <a class="el" href="grab_8cpp_source.html#l00021">game::grabbed_veh_move()</a>, <a class="el" href="player_8cpp_source.html#l00254">player()</a>, <a class="el" href="game_8cpp_source.html#l10492">game::vertical_move()</a>, and <a class="el" href="game_8cpp_source.html#l09307">game::walk_move()</a>.</p>

</div>
</div>
<a id="a01a997f2f36602a5adff48c8df16a357" name="a01a997f2f36602a5adff48c8df16a357"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01a997f2f36602a5adff48c8df16a357">&#9670;&nbsp;</a></span>last_batch</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::last_batch = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00707">707</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="craft__command_8cpp_source.html#l00097">craft_command::execute()</a>, <a class="el" href="player_8cpp_source.html#l00254">player()</a>, and <a class="el" href="crafting_8cpp_source.html#l00345">recraft()</a>.</p>

</div>
</div>
<a id="a771107232106a2afa16d80907365ef1f" name="a771107232106a2afa16d80907365ef1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a771107232106a2afa16d80907365ef1f">&#9670;&nbsp;</a></span>last_craft</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpimpl.html">pimpl</a>&lt;<a class="el" href="classcraft__command.html">craft_command</a>&gt; player::last_craft</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00704">704</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__handlers_8cpp_source.html#l03867">activity_handlers::craft_do_turn()</a>, <a class="el" href="crafting_8cpp_source.html#l00603">make_craft_with_command()</a>, and <a class="el" href="crafting_8cpp_source.html#l00345">recraft()</a>.</p>

</div>
</div>
<a id="a7aecb79fe7868dceee1ee1e363eebe12" name="a7aecb79fe7868dceee1ee1e363eebe12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7aecb79fe7868dceee1ee1e363eebe12">&#9670;&nbsp;</a></span>last_sleep_check</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__point.html">time_point</a> player::last_sleep_check = <a class="el" href="namespacecalendar.html#a2ad145a605c70358e73fdd4a802ba21a">calendar::turn_zero</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>last time we checked for sleep </p>

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00481">481</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l03939">can_sleep()</a>.</p>

</div>
</div>
<a id="ab679d40f5584e38a6af33bcd7e3c102d" name="ab679d40f5584e38a6af33bcd7e3c102d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab679d40f5584e38a6af33bcd7e3c102d">&#9670;&nbsp;</a></span>last_target</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory__fast_8h.html#ab8afe5baa726add2054cce385cad8855">weak_ptr_fast</a>&lt;<a class="el" href="classCreature.html">Creature</a>&gt; player::last_target</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00690">690</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l02679">target_ui::choose_initial_target()</a>, <a class="el" href="game_8cpp_source.html#l07972">game::list_monsters()</a>, <a class="el" href="ranged_8cpp_source.html#l03630">target_ui::on_target_accepted()</a>, <a class="el" href="ranged_8cpp_source.html#l02914">target_ui::recalc_aim_turning_penalty()</a>, <a class="el" href="ranged_8cpp_source.html#l02769">target_ui::set_last_target()</a>, and <a class="el" href="ranged_8cpp_source.html#l02707">target_ui::try_reacquire_target()</a>.</p>

</div>
</div>
<a id="a9aac4afb832dc4762430b0b3545cbfea" name="a9aac4afb832dc4762430b0b3545cbfea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aac4afb832dc4762430b0b3545cbfea">&#9670;&nbsp;</a></span>last_target_pos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt;<a class="el" href="structtripoint.html">tripoint</a>&gt; player::last_target_pos</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00691">691</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="melee_8cpp_source.html#l00622">reach_attack()</a>, <a class="el" href="ranged_8cpp_source.html#l02914">target_ui::recalc_aim_turning_penalty()</a>, <a class="el" href="ranged_8cpp_source.html#l02769">target_ui::set_last_target()</a>, <a class="el" href="ranged_8cpp_source.html#l01108">throw_item()</a>, <a class="el" href="ranged_8cpp_source.html#l02707">target_ui::try_reacquire_target()</a>, and <a class="el" href="game_8cpp_source.html#l09307">game::walk_move()</a>.</p>

</div>
</div>
<a id="af5812ab4dd02135ef80a99a81fc5b64d" name="af5812ab4dd02135ef80a99a81fc5b64d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5812ab4dd02135ef80a99a81fc5b64d">&#9670;&nbsp;</a></span>lastconsumed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> player::lastconsumed</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00708">708</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l01493">consume_items()</a>, <a class="el" href="construction_8cpp_source.html#l01219">construct::done_vehicle()</a>, and <a class="el" href="player_8cpp_source.html#l00254">player()</a>.</p>

</div>
</div>
<a id="a58c783354e25fb7e52ceaedef7114c8d" name="a58c783354e25fb7e52ceaedef7114c8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58c783354e25fb7e52ceaedef7114c8d">&#9670;&nbsp;</a></span>lastrecipe</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a> player::lastrecipe</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00706">706</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__handlers_8cpp_source.html#l03867">activity_handlers::craft_do_turn()</a>, <a class="el" href="craft__command_8cpp_source.html#l00097">craft_command::execute()</a>, and <a class="el" href="crafting_8cpp_source.html#l00345">recraft()</a>.</p>

</div>
</div>
<a id="ae02e3074363fa28982a0f7e08f4cc8ad" name="ae02e3074363fa28982a0f7e08f4cc8ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae02e3074363fa28982a0f7e08f4cc8ad">&#9670;&nbsp;</a></span>learned_recipes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpimpl.html">pimpl</a>&lt;<a class="el" href="classrecipe__subset.html">recipe_subset</a>&gt; player::learned_recipes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subset of learned recipes. </p>
<p >Needs to be mutable for lazy initialization. </p>

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00774">774</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="newcharacter_8cpp_source.html#l00376">avatar::create()</a>, <a class="el" href="player_8cpp_source.html#l03700">get_learned_recipes()</a>, and <a class="el" href="player_8cpp_source.html#l04138">learn_recipe()</a>.</p>

</div>
</div>
<a id="a473d0cec0851e4e60ce5f93ed24895b8" name="a473d0cec0851e4e60ce5f93ed24895b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a473d0cec0851e4e60ce5f93ed24895b8">&#9670;&nbsp;</a></span>manual_examine</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::manual_examine = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00698">698</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l05652">game::examine()</a>, and <a class="el" href="iexamine_8cpp_source.html#l01941">harvest_common()</a>.</p>

</div>
</div>
<a id="ac29e9e4642520f72b174a77e142d9bfb" name="ac29e9e4642520f72b174a77e142d9bfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac29e9e4642520f72b174a77e142d9bfb">&#9670;&nbsp;</a></span>movecounter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::movecounter = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00696">696</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="panels_8cpp_source.html#l01264">draw_char_narrow()</a>, <a class="el" href="panels_8cpp_source.html#l01305">draw_char_wide()</a>, <a class="el" href="panels_8cpp_source.html#l01651">draw_health_classic()</a>, <a class="el" href="panels_8cpp_source.html#l01014">draw_stealth()</a>, <a class="el" href="handle__action_8cpp_source.html#l01514">game::handle_action()</a>, and <a class="el" href="player_8cpp_source.html#l00254">player()</a>.</p>

</div>
</div>
<a id="a5bf3ea246ca971ed56f87e3b75253e57" name="a5bf3ea246ca971ed56f87e3b75253e57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bf3ea246ca971ed56f87e3b75253e57">&#9670;&nbsp;</a></span>prof</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classprofession.html">profession</a>* player::prof = nullptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00685">685</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="profession_8cpp_source.html#l00504">profession::can_pick()</a>, <a class="el" href="newcharacter_8cpp_source.html#l00376">avatar::create()</a>, <a class="el" href="player__display_8cpp_source.html#l00892">draw_tip()</a>, <a class="el" href="player_8cpp_source.html#l00254">player()</a>, <a class="el" href="newcharacter_8cpp_source.html#l00178">avatar::randomize()</a>, <a class="el" href="newcharacter_8cpp_source.html#l02993">reset_scenario()</a>, <a class="el" href="newcharacter_8cpp_source.html#l02316">set_description()</a>, <a class="el" href="newcharacter_8cpp_source.html#l01333">set_profession()</a>, <a class="el" href="newcharacter_8cpp_source.html#l01950">set_scenario()</a>, <a class="el" href="newcharacter_8cpp_source.html#l01708">set_skills()</a>, <a class="el" href="newcharacter_8cpp_source.html#l01002">set_traits()</a>, and <a class="el" href="memorial__logger_8cpp_source.html#l00150">memorial_logger::write()</a>.</p>

</div>
</div>
<a id="a319483384bba2d004e1bb7b9a01985cb" name="a319483384bba2d004e1bb7b9a01985cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a319483384bba2d004e1bb7b9a01985cb">&#9670;&nbsp;</a></span>random_start_location</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player::random_start_location = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00687">687</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="newcharacter_8cpp_source.html#l02943">avatar::load_template()</a>, <a class="el" href="newcharacter_8cpp_source.html#l00178">avatar::randomize()</a>, <a class="el" href="newcharacter_8cpp_source.html#l02993">reset_scenario()</a>, <a class="el" href="newcharacter_8cpp_source.html#l02918">avatar::save_template()</a>, <a class="el" href="newcharacter_8cpp_source.html#l02316">set_description()</a>, and <a class="el" href="game_8cpp_source.html#l00645">game::start_game()</a>.</p>

</div>
</div>
<a id="a76eb82fb9b97610362c542a79393995b" name="a76eb82fb9b97610362c542a79393995b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76eb82fb9b97610362c542a79393995b">&#9670;&nbsp;</a></span>scent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::scent = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00694">694</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="newcharacter_8cpp_source.html#l00376">avatar::create()</a>, <a class="el" href="game_8cpp_source.html#l01434">game::do_turn()</a>, <a class="el" href="player_8cpp_source.html#l00254">player()</a>, and <a class="el" href="player_8cpp_source.html#l00319">process_turn()</a>.</p>

</div>
</div>
<a id="aef3733747407c83ffaa0b568c95a5644" name="aef3733747407c83ffaa0b568c95a5644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef3733747407c83ffaa0b568c95a5644">&#9670;&nbsp;</a></span>start_location</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a99f94880c7460be6d61e94749dcaab2d">start_location_id</a> player::start_location</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00688">688</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="newcharacter_8cpp_source.html#l02316">set_description()</a>, and <a class="el" href="game_8cpp_source.html#l00645">game::start_game()</a>.</p>

</div>
</div>
<a id="adcf1ae5bd35fac62f911dc5c4f752e50" name="adcf1ae5bd35fac62f911dc5c4f752e50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcf1ae5bd35fac62f911dc5c4f752e50">&#9670;&nbsp;</a></span>starting_pets</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a>&gt; player::starting_pets</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00700">700</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="newcharacter_8cpp_source.html#l00376">avatar::create()</a>, and <a class="el" href="game_8cpp_source.html#l00645">game::start_game()</a>.</p>

</div>
</div>
<a id="aa5337a4253f6cea77f3d15bfe4f7f3f8" name="aa5337a4253f6cea77f3d15bfe4f7f3f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5337a4253f6cea77f3d15bfe4f7f3f8">&#9670;&nbsp;</a></span>starting_vehicle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a64efc8ab51816a59711440d464136eda">vproto_id</a> player::starting_vehicle</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00699">699</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="newcharacter_8cpp_source.html#l00376">avatar::create()</a>, and <a class="el" href="game_8cpp_source.html#l00645">game::start_game()</a>.</p>

</div>
</div>
<a id="ad3cfe44b653e65db3aac5bd4e309164c" name="ad3cfe44b653e65db3aac5bd4e309164c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3cfe44b653e65db3aac5bd4e309164c">&#9670;&nbsp;</a></span>valid_autolearn_skills</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">decltype( <a class="el" href="classCharacter.html#a173170e7cdceddff68d980d8ced2c6f8">_skills</a> ) player::valid_autolearn_skills</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stamp of skills. </p>
<p ><a class="el" href="classplayer.html#ae02e3074363fa28982a0f7e08f4cc8ad">learned_recipes</a> are valid only with this set of skills. </p>

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00777">777</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l03700">get_learned_recipes()</a>.</p>

</div>
</div>
<a id="a625b6dd5247589902251e845d07a2154" name="a625b6dd5247589902251e845d07a2154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a625b6dd5247589902251e845d07a2154">&#9670;&nbsp;</a></span>view_offset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtripoint.html">tripoint</a> player::view_offset</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00681">681</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__actor_8cpp_source.html#l00064">aim_activity_actor::aim_activity_actor()</a>, <a class="el" href="game_8cpp_source.html#l07258">centerlistview()</a>, <a class="el" href="debug__menu_8cpp_source.html#l00491">debug_menu::character_edit_menu()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02986">veh_interact::complete_vehicle()</a>, <a class="el" href="debug__menu_8cpp_source.html#l01325">debug_menu::debug()</a>, <a class="el" href="game_8cpp_source.html#l11644">game::display_scent()</a>, <a class="el" href="game_8cpp_source.html#l03449">game::draw()</a>, <a class="el" href="animation_8cpp_source.html#l01027">draw_cone_aoe_curses()</a>, <a class="el" href="game_8cpp_source.html#l05950">game::draw_look_around_cursor()</a>, <a class="el" href="game_8cpp_source.html#l03590">game::draw_ter()</a>, <a class="el" href="ranged_8cpp_source.html#l03119">target_ui::draw_terrain_overlay()</a>, <a class="el" href="game_8cpp_source.html#l03642">game::draw_veh_dir_indicator()</a>, <a class="el" href="handle__action_8cpp_source.html#l00177">generate_weather_anim_frame()</a>, <a class="el" href="handle__action_8cpp_source.html#l01514">game::handle_action()</a>, <a class="el" href="ranged_8cpp_source.html#l02463">target_ui::handle_cursor_movement()</a>, <a class="el" href="game_8cpp_source.html#l03582">game::is_in_viewport()</a>, <a class="el" href="game_8cpp_source.html#l07526">game::list_items()</a>, <a class="el" href="game_8cpp_source.html#l07972">game::list_monsters()</a>, <a class="el" href="game_8cpp_source.html#l06837">game::look_around()</a>, <a class="el" href="game_8cpp_source.html#l04168">game::mon_info_update()</a>, <a class="el" href="debug__menu_8cpp_source.html#l00460">debug_menu::pick_character()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00240">aim_activity_actor::restore_view()</a>, <a class="el" href="ranged_8cpp_source.html#l02139">target_ui::run()</a>, <a class="el" href="game_8cpp_source.html#l01689">game::set_driving_view_offset()</a>, <a class="el" href="ranged_8cpp_source.html#l02888">target_ui::set_view_offset()</a>, and <a class="el" href="game_8cpp_source.html#l06362">game::zones_manager()</a>.</p>

</div>
</div>
<a id="a20589432777baec94c204b4f5efbfcfb" name="a20589432777baec94c204b4f5efbfcfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20589432777baec94c204b4f5efbfcfb">&#9670;&nbsp;</a></span>volume</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player::volume = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00684">684</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l01434">game::do_turn()</a>, <a class="el" href="panels_8cpp_source.html#l01264">draw_char_narrow()</a>, <a class="el" href="panels_8cpp_source.html#l01305">draw_char_wide()</a>, <a class="el" href="panels_8cpp_source.html#l01953">draw_lighting_classic()</a>, <a class="el" href="panels_8cpp_source.html#l01562">draw_sound_labels()</a>, <a class="el" href="panels_8cpp_source.html#l01575">draw_sound_narrow()</a>, <a class="el" href="panels_8cpp_source.html#l01014">draw_stealth()</a>, <a class="el" href="player_8cpp_source.html#l00254">player()</a>, <a class="el" href="sounds_8cpp_source.html#l00386">sounds::process_sound_markers()</a>, and <a class="el" href="ranged_8cpp_source.html#l01108">throw_item()</a>.</p>

</div>
</div>
<a id="a3da8cabad8655c681d26fbb1be26f92a" name="a3da8cabad8655c681d26fbb1be26f92a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3da8cabad8655c681d26fbb1be26f92a">&#9670;&nbsp;</a></span>warning_record</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>, std::pair&lt;int, <a class="el" href="classtime__point.html">time_point</a>&gt; &gt; player::warning_record</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>warnings from a faction about bad behavior </p>

<p class="definition">Definition at line <a class="el" href="player_8h_source.html#l00769">769</a> of file <a class="el" href="player_8h_source.html">player.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l02107">add_faction_warning()</a>, <a class="el" href="player_8cpp_source.html#l02143">beyond_final_warning()</a>, and <a class="el" href="player_8cpp_source.html#l02130">current_warnings_fac()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="player_8h_source.html">player.h</a></li>
<li>src/<a class="el" href="armor__layers_8cpp_source.html">armor_layers.cpp</a></li>
<li>src/<a class="el" href="bionics__ui_8cpp_source.html">bionics_ui.cpp</a></li>
<li>src/<a class="el" href="consumption_8cpp_source.html">consumption.cpp</a></li>
<li>src/<a class="el" href="crafting_8cpp_source.html">crafting.cpp</a></li>
<li>src/<a class="el" href="martialarts_8cpp_source.html">martialarts.cpp</a></li>
<li>src/<a class="el" href="melee_8cpp_source.html">melee.cpp</a></li>
<li>src/<a class="el" href="mutation__ui_8cpp_source.html">mutation_ui.cpp</a></li>
<li>src/<a class="el" href="newcharacter_8cpp_source.html">newcharacter.cpp</a></li>
<li>src/<a class="el" href="player_8cpp_source.html">player.cpp</a></li>
<li>src/<a class="el" href="player__display_8cpp_source.html">player_display.cpp</a></li>
<li>src/<a class="el" href="player__hardcoded__effects_8cpp_source.html">player_hardcoded_effects.cpp</a></li>
<li>src/<a class="el" href="ranged_8cpp_source.html">ranged.cpp</a></li>
<li>src/<a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classplayer.html">player</a></li>
    <li class="footer">Generated on Sat Nov 12 2022 15:15:59 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
