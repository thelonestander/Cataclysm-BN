<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: grid_furn_transform_queue Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classgrid__furn__transform__queue.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classgrid__furn__transform__queue-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">grid_furn_transform_queue Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Represents queued active tile / furniture transformations.  
 <a href="classgrid__furn__transform__queue.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="distribution__grid_8h_source.html">distribution_grid.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab793e155f5041fcfb9bf55c5a7fe94ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrid__furn__transform__queue.html#ab793e155f5041fcfb9bf55c5a7fe94ba">add</a> (const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;p, const <a class="el" href="type__id_8h.html#a13fd56b9ac506b2517d4889040e0ef66">furn_str_id</a> &amp;id, const std::string &amp;msg)</td></tr>
<tr class="separator:ab793e155f5041fcfb9bf55c5a7fe94ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d46552bd49627faddf9d803349195a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrid__furn__transform__queue.html#a5d46552bd49627faddf9d803349195a6">apply</a> (<a class="el" href="classmapbuffer.html">mapbuffer</a> &amp;mb, <a class="el" href="classdistribution__grid__tracker.html">distribution_grid_tracker</a> &amp;grid_tracker, <a class="el" href="classCharacter.html">Character</a> &amp;u, <a class="el" href="classmap.html">map</a> &amp;m)</td></tr>
<tr class="separator:a5d46552bd49627faddf9d803349195a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7238720bdf1ea149f18e7a482e9d2720"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrid__furn__transform__queue.html#a7238720bdf1ea149f18e7a482e9d2720">clear</a> ()</td></tr>
<tr class="separator:a7238720bdf1ea149f18e7a482e9d2720"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a135c5784c69ad2381e054d9ff5a6acc3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrid__furn__transform__queue.html#a135c5784c69ad2381e054d9ff5a6acc3">operator==</a> (const <a class="el" href="classgrid__furn__transform__queue.html">grid_furn_transform_queue</a> &amp;l) const</td></tr>
<tr class="separator:a135c5784c69ad2381e054d9ff5a6acc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa1c9306fa48fb36986ea37958ae891a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrid__furn__transform__queue.html#afa1c9306fa48fb36986ea37958ae891a">to_string</a> () const</td></tr>
<tr class="separator:afa1c9306fa48fb36986ea37958ae891a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aa2710c9c5652fbbdc4b7e629a3811968"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structtransform__queue__entry.html">transform_queue_entry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrid__furn__transform__queue.html#aa2710c9c5652fbbdc4b7e629a3811968">queue</a></td></tr>
<tr class="separator:aa2710c9c5652fbbdc4b7e629a3811968"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Represents queued active tile / furniture transformations. </p>
<p >Some active tiles can turn into other active tiles, or even inactive tiles, as a result of an update. If such transformation is applied immediately, it could trigger recalculation of the grid that's being updated, which would require additional code to handle.</p>
<p >As a simpler alternative, we queue active tile transformations and apply them only after all grids have been updated. The transformations are applied according to FIFO method, so if some tile has multiple competing transforms queued, the last one will win out. </p>

<p class="definition">Definition at line <a class="el" href="distribution__grid_8h_source.html#l00088">88</a> of file <a class="el" href="distribution__grid_8h_source.html">distribution_grid.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ab793e155f5041fcfb9bf55c5a7fe94ba" name="ab793e155f5041fcfb9bf55c5a7fe94ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab793e155f5041fcfb9bf55c5a7fe94ba">&#9670;&nbsp;</a></span>add()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void grid_furn_transform_queue::add </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a13fd56b9ac506b2517d4889040e0ef66">furn_str_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="distribution__grid_8h_source.html#l00094">94</a> of file <a class="el" href="distribution__grid_8h_source.html">distribution_grid.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>                                                                                          {</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>            <a class="code hl_variable" href="classgrid__furn__transform__queue.html#aa2710c9c5652fbbdc4b7e629a3811968">queue</a>.emplace_back( <a class="code hl_struct" href="structtransform__queue__entry.html">transform_queue_entry</a>{ p, <a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>, msg } );</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>        }</div>
<div class="ttc" id="aclassgrid__furn__transform__queue_html_aa2710c9c5652fbbdc4b7e629a3811968"><div class="ttname"><a href="classgrid__furn__transform__queue.html#aa2710c9c5652fbbdc4b7e629a3811968">grid_furn_transform_queue::queue</a></div><div class="ttdeci">std::vector&lt; transform_queue_entry &gt; queue</div><div class="ttdef"><b>Definition:</b> <a href="distribution__grid_8h_source.html#l00091">distribution_grid.h:91</a></div></div>
<div class="ttc" id="anamespacebase__camps_html_a04fa69b1c0952a34dc4a7d26b3f9f786"><div class="ttname"><a href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">base_camps::id</a></div><div class="ttdeci">const std::string id</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00087">basecamp.h:87</a></div></div>
<div class="ttc" id="astructtransform__queue__entry_html"><div class="ttname"><a href="structtransform__queue__entry.html">transform_queue_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="distribution__grid_8h_source.html#l00067">distribution_grid.h:67</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00087">base_camps::id</a>, and <a class="el" href="distribution__grid_8h_source.html#l00091">queue</a>.</p>

<p class="reference">Referenced by <a class="el" href="active__tile__data_8cpp_source.html#l00213">charge_watcher_tile::update_internal()</a>, and <a class="el" href="active__tile__data_8cpp_source.html#l00307">steady_consumer_tile::update_internal()</a>.</p>

</div>
</div>
<a id="a5d46552bd49627faddf9d803349195a6" name="a5d46552bd49627faddf9d803349195a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d46552bd49627faddf9d803349195a6">&#9670;&nbsp;</a></span>apply()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void grid_furn_transform_queue::apply </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmapbuffer.html">mapbuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>mb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdistribution__grid__tracker.html">distribution_grid_tracker</a> &amp;&#160;</td>
          <td class="paramname"><em>grid_tracker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="distribution__grid_8cpp_source.html#l00293">293</a> of file <a class="el" href="distribution__grid_8cpp_source.html">distribution_grid.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>{</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;qt : <a class="code hl_variable" href="classgrid__furn__transform__queue.html#aa2710c9c5652fbbdc4b7e629a3811968">queue</a> ) {</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>        <a class="code hl_class" href="classcoords_1_1coord__point.html">tripoint_abs_sm</a> p_abs_sm;</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>        <a class="code hl_class" href="classcoords_1_1coord__point.html">point_sm_ms</a> p_within_sm;</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>        std::tie( p_abs_sm, p_within_sm ) = project_remain&lt;coords::sm&gt;( qt.p );</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span> </div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>        <a class="code hl_class" href="classsubmap.html">submap</a> *<a class="code hl_variable" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a> = mb.<a class="code hl_function" href="classmapbuffer.html#a84df91661b328060eb44b4e4eaba0dcd">lookup_submap</a>( p_abs_sm );</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a> == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>        }</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span> </div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structfurn__t.html">furn_t</a> &amp;old_t = <a class="code hl_variable" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>-&gt;get_furn( p_within_sm.<a class="code hl_function" href="classcoords_1_1coord__point.html#a3f9a44403c08f2eaf0d605b1d034c048">raw</a>() ).obj();</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structfurn__t.html">furn_t</a> &amp;new_t = qt.<a class="code hl_variable" href="structfurn__t.html#a90af2d486432fed3a9d006bf1d47ab76">id</a>.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span> </div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>        <a class="code hl_variable" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>-&gt;set_furn( p_within_sm.<a class="code hl_function" href="classcoords_1_1coord__point.html#a3f9a44403c08f2eaf0d605b1d034c048">raw</a>(), qt.id );</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span> </div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>        <span class="keywordflow">if</span>( !qt.msg.empty() ) {</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> pos_local = m.<a class="code hl_function" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( qt.p.raw() );</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>            <span class="keywordflow">if</span>( u.<a class="code hl_function" href="classCharacter.html#aba9bd7517b334e6ed4149889ed32377a">sees</a>( pos_local ) ) {</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( qt.msg ) );</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>            }</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>        }</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span> </div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>        <span class="comment">// TODO: this is copy-pasted from map.cpp</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>        <span class="keywordflow">if</span>( old_t.<a class="code hl_variable" href="structfurn__t.html#ae1ea7e54c14dfb76dae56ed24907b91b">active</a> ) {</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>            <a class="code hl_variable" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>-&gt;active_furniture.erase( p_within_sm );</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>            <span class="comment">// TODO: Only for g-&gt;m? Observer pattern?</span></div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>            grid_tracker.<a class="code hl_function" href="classdistribution__grid__tracker.html#a9a69634f2c545ee4e3c0ec1f1174985e">on_changed</a>( qt.p );</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>        }</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>        <span class="keywordflow">if</span>( new_t.<a class="code hl_variable" href="structfurn__t.html#ae1ea7e54c14dfb76dae56ed24907b91b">active</a> ) {</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>            <a class="code hl_class" href="classactive__tile__data.html">active_tile_data</a> *atd = new_t.<a class="code hl_variable" href="structfurn__t.html#ae1ea7e54c14dfb76dae56ed24907b91b">active</a>-&gt;clone();</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>            atd-&gt;<a class="code hl_function" href="classactive__tile__data.html#a5c2ffd91d85542065f9167dd0d80dcdf">set_last_updated</a>( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>            <a class="code hl_variable" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>-&gt;active_furniture[p_within_sm].reset( atd );</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>            grid_tracker.<a class="code hl_function" href="classdistribution__grid__tracker.html#a9a69634f2c545ee4e3c0ec1f1174985e">on_changed</a>( qt.p );</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>        }</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    }</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>}</div>
<div class="ttc" id="aclassCharacter_html_aba9bd7517b334e6ed4149889ed32377a"><div class="ttname"><a href="classCharacter.html#aba9bd7517b334e6ed4149889ed32377a">Character::sees</a></div><div class="ttdeci">bool sees(const tripoint &amp;t, bool is_player=false, int range_mod=0) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l10384">character.cpp:10384</a></div></div>
<div class="ttc" id="aclassactive__tile__data_html"><div class="ttname"><a href="classactive__tile__data.html">active_tile_data</a></div><div class="ttdef"><b>Definition:</b> <a href="active__tile__data_8h_source.html#l00014">active_tile_data.h:15</a></div></div>
<div class="ttc" id="aclassactive__tile__data_html_a5c2ffd91d85542065f9167dd0d80dcdf"><div class="ttname"><a href="classactive__tile__data.html#a5c2ffd91d85542065f9167dd0d80dcdf">active_tile_data::set_last_updated</a></div><div class="ttdeci">void set_last_updated(time_point t)</div><div class="ttdef"><b>Definition:</b> <a href="active__tile__data_8h_source.html#l00040">active_tile_data.h:40</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; tripoint, coords::origin::abs, coords::sm &gt;</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html_a3f9a44403c08f2eaf0d605b1d034c048"><div class="ttname"><a href="classcoords_1_1coord__point.html#a3f9a44403c08f2eaf0d605b1d034c048">coords::coord_point::raw</a></div><div class="ttdeci">constexpr Point &amp; raw()</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00111">coordinates.h:111</a></div></div>
<div class="ttc" id="aclassdistribution__grid__tracker_html_a9a69634f2c545ee4e3c0ec1f1174985e"><div class="ttname"><a href="classdistribution__grid__tracker.html#a9a69634f2c545ee4e3c0ec1f1174985e">distribution_grid_tracker::on_changed</a></div><div class="ttdeci">void on_changed(const tripoint_abs_ms &amp;p)</div><div class="ttdoc">Updates grid at given global map square coordinate.</div><div class="ttdef"><b>Definition:</b> <a href="distribution__grid_8cpp_source.html#l00247">distribution_grid.cpp:247</a></div></div>
<div class="ttc" id="aclassmap_html_a426c21f7244ff80a61685a89e9146fec"><div class="ttname"><a href="classmap.html#a426c21f7244ff80a61685a89e9146fec">map::getlocal</a></div><div class="ttdeci">tripoint getlocal(const tripoint &amp;p) const</div><div class="ttdoc">Inverse of getabs.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08053">map.cpp:8053</a></div></div>
<div class="ttc" id="aclassmapbuffer_html_a84df91661b328060eb44b4e4eaba0dcd"><div class="ttname"><a href="classmapbuffer.html#a84df91661b328060eb44b4e4eaba0dcd">mapbuffer::lookup_submap</a></div><div class="ttdeci">submap * lookup_submap(const tripoint &amp;p)</div><div class="ttdoc">Get a submap stored in this buffer.</div><div class="ttdef"><b>Definition:</b> <a href="mapbuffer_8cpp_source.html#l00088">mapbuffer.cpp:88</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00058">achievement.cpp:58</a></div></div>
<div class="ttc" id="aclasssubmap_html"><div class="ttname"><a href="classsubmap.html">submap</a></div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00064">submap.h:65</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00884">messages.cpp:884</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00036">calendar.cpp:36</a></div></div>
<div class="ttc" id="anamespacecoords_html_a7457d0a4e8c8e6407a2c0ee89d275962"><div class="ttname"><a href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">coords::sm</a></div><div class="ttdeci">constexpr scale sm</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00031">coordinates.h:31</a></div></div>
<div class="ttc" id="astructfurn__t_html"><div class="ttname"><a href="structfurn__t.html">furn_t</a></div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00489">mapdata.h:489</a></div></div>
<div class="ttc" id="astructfurn__t_html_a90af2d486432fed3a9d006bf1d47ab76"><div class="ttname"><a href="structfurn__t.html#a90af2d486432fed3a9d006bf1d47ab76">furn_t::id</a></div><div class="ttdeci">furn_str_id id</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00490">mapdata.h:490</a></div></div>
<div class="ttc" id="astructfurn__t_html_ae1ea7e54c14dfb76dae56ed24907b91b"><div class="ttname"><a href="structfurn__t.html#ae1ea7e54c14dfb76dae56ed24907b91b">furn_t::active</a></div><div class="ttdeci">cata::poly_serialized&lt; active_tile_data &gt; active</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00513">mapdata.h:513</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00147">point.h:147</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="mapdata_8h_source.html#l00513">furn_t::active</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="map_8cpp_source.html#l08053">map::getlocal()</a>, <a class="el" href="mapdata_8h_source.html#l00490">furn_t::id</a>, <a class="el" href="mapbuffer_8cpp_source.html#l00088">mapbuffer::lookup_submap()</a>, <a class="el" href="achievement_8cpp_source.html#l00058">string_id&lt; T &gt;::obj()</a>, <a class="el" href="distribution__grid_8cpp_source.html#l00247">distribution_grid_tracker::on_changed()</a>, <a class="el" href="distribution__grid_8h_source.html#l00091">queue</a>, <a class="el" href="coordinates_8h_source.html#l00111">coords::coord_point&lt; Point, Origin, Scale &gt;::raw()</a>, <a class="el" href="character_8cpp_source.html#l10384">Character::sees()</a>, <a class="el" href="active__tile__data_8h_source.html#l00040">active_tile_data::set_last_updated()</a>, <a class="el" href="coordinates_8h_source.html#l00031">coords::sm</a>, and <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="distribution__grid_8cpp_source.html#l00344">distribution_grid_tracker::update()</a>.</p>

</div>
</div>
<a id="a7238720bdf1ea149f18e7a482e9d2720" name="a7238720bdf1ea149f18e7a482e9d2720"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7238720bdf1ea149f18e7a482e9d2720">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void grid_furn_transform_queue::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="distribution__grid_8h_source.html#l00100">100</a> of file <a class="el" href="distribution__grid_8h_source.html">distribution_grid.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>                     {</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>            <a class="code hl_variable" href="classgrid__furn__transform__queue.html#aa2710c9c5652fbbdc4b7e629a3811968">queue</a>.clear();</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="distribution__grid_8h_source.html#l00091">queue</a>.</p>

<p class="reference">Referenced by <a class="el" href="distribution__grid_8cpp_source.html#l00344">distribution_grid_tracker::update()</a>.</p>

</div>
</div>
<a id="a135c5784c69ad2381e054d9ff5a6acc3" name="a135c5784c69ad2381e054d9ff5a6acc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a135c5784c69ad2381e054d9ff5a6acc3">&#9670;&nbsp;</a></span>operator==()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool grid_furn_transform_queue::operator== </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgrid__furn__transform__queue.html">grid_furn_transform_queue</a> &amp;&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="distribution__grid_8h_source.html#l00104">104</a> of file <a class="el" href="distribution__grid_8h_source.html">distribution_grid.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>                                                                    {</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="classgrid__furn__transform__queue.html#aa2710c9c5652fbbdc4b7e629a3811968">queue</a> == l.<a class="code hl_variable" href="classgrid__furn__transform__queue.html#aa2710c9c5652fbbdc4b7e629a3811968">queue</a>;</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="distribution__grid_8h_source.html#l00091">queue</a>.</p>

</div>
</div>
<a id="afa1c9306fa48fb36986ea37958ae891a" name="afa1c9306fa48fb36986ea37958ae891a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa1c9306fa48fb36986ea37958ae891a">&#9670;&nbsp;</a></span>to_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string grid_furn_transform_queue::to_string </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="distribution__grid_8cpp_source.html#l00333">333</a> of file <a class="el" href="distribution__grid_8cpp_source.html">distribution_grid.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>{</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    std::string <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    <span class="keywordtype">size_t</span> i = 0;</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtransform__queue__entry.html">transform_queue_entry</a> &amp;q : <a class="code hl_variable" href="classgrid__furn__transform__queue.html#aa2710c9c5652fbbdc4b7e629a3811968">queue</a> ) {</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;% 2d: %s %s \&quot;%s\&quot;\n&quot;</span>, i, q.p.to_string(), q.id, q.msg );</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>        i++;</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    }</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>}</div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00097">hash_utils.h:97</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a9b089d0b697443b096063219dab08ef5"><div class="ttname"><a href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a></div><div class="ttdeci">std::string string_format(std::string format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00418">string_formatter.h:418</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="distribution__grid_8h_source.html#l00091">queue</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, and <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aa2710c9c5652fbbdc4b7e629a3811968" name="aa2710c9c5652fbbdc4b7e629a3811968"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2710c9c5652fbbdc4b7e629a3811968">&#9670;&nbsp;</a></span>queue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structtransform__queue__entry.html">transform_queue_entry</a>&gt; grid_furn_transform_queue::queue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="distribution__grid_8h_source.html#l00091">91</a> of file <a class="el" href="distribution__grid_8h_source.html">distribution_grid.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="distribution__grid_8h_source.html#l00094">add()</a>, <a class="el" href="distribution__grid_8cpp_source.html#l00293">apply()</a>, <a class="el" href="distribution__grid_8h_source.html#l00100">clear()</a>, <a class="el" href="distribution__grid_8h_source.html#l00104">operator==()</a>, and <a class="el" href="distribution__grid_8cpp_source.html#l00333">to_string()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="distribution__grid_8h_source.html">distribution_grid.h</a></li>
<li>src/<a class="el" href="distribution__grid_8cpp_source.html">distribution_grid.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classgrid__furn__transform__queue.html">grid_furn_transform_queue</a></li>
    <li class="footer">Generated on Sat Nov 12 2022 15:15:49 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
