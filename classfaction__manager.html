<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: faction_manager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classfaction__manager.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classfaction__manager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">faction_manager Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="faction_8h_source.html">faction.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adc46ee0a0e0f8f2487d385da7f0eaef2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__manager.html#adc46ee0a0e0f8f2487d385da7f0eaef2">deserialize</a> (<a class="el" href="classJsonIn.html">JsonIn</a> &amp;jsin)</td></tr>
<tr class="separator:adc46ee0a0e0f8f2487d385da7f0eaef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af128819b019519851d65e0f0bf24df8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__manager.html#af128819b019519851d65e0f0bf24df8e">serialize</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;jsout) const</td></tr>
<tr class="separator:af128819b019519851d65e0f0bf24df8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86bed9f1fe628dba39c39f93ae2273c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__manager.html#a86bed9f1fe628dba39c39f93ae2273c9">clear</a> ()</td></tr>
<tr class="separator:a86bed9f1fe628dba39c39f93ae2273c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc40a9cbe1eea87b36f36c64bc5d1094"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__manager.html#afc40a9cbe1eea87b36f36c64bc5d1094">create_if_needed</a> ()</td></tr>
<tr class="separator:afc40a9cbe1eea87b36f36c64bc5d1094"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44db44244c068cf6e8426849776abec7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__manager.html#a44db44244c068cf6e8426849776abec7">display</a> () const</td></tr>
<tr class="separator:a44db44244c068cf6e8426849776abec7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a6eba783a01abfecc348178d4e869e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfaction.html">faction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__manager.html#a2a6eba783a01abfecc348178d4e869e9">add_new_faction</a> (const std::string &amp;name_new, const <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;id_new, const <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;template_id)</td></tr>
<tr class="separator:a2a6eba783a01abfecc348178d4e869e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5e2433763bb4832fd9eab223dbad0ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__manager.html#ac5e2433763bb4832fd9eab223dbad0ec">remove_faction</a> (const <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;id)</td></tr>
<tr class="separator:ac5e2433763bb4832fd9eab223dbad0ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02528ed0646490339be7c0cf3922cc7a"><td class="memItemLeft" align="right" valign="top">const std::map&lt; <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>, <a class="el" href="classfaction.html">faction</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__manager.html#a02528ed0646490339be7c0cf3922cc7a">all</a> () const</td></tr>
<tr class="separator:a02528ed0646490339be7c0cf3922cc7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b548103cb8db244748d7df4282ecdcd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfaction.html">faction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__manager.html#a5b548103cb8db244748d7df4282ecdcd">get</a> (const <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;id, bool complain=true)</td></tr>
<tr class="separator:a5b548103cb8db244748d7df4282ecdcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a4ae57d2e75f7c1a915abfa58a295c6b7"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>, <a class="el" href="classfaction.html">faction</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__manager.html#a4ae57d2e75f7c1a915abfa58a295c6b7">factions</a></td></tr>
<tr class="separator:a4ae57d2e75f7c1a915abfa58a295c6b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="faction_8h_source.html#l00119">119</a> of file <a class="el" href="faction_8h_source.html">faction.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a2a6eba783a01abfecc348178d4e869e9" name="a2a6eba783a01abfecc348178d4e869e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a6eba783a01abfecc348178d4e869e9">&#9670;&nbsp;</a></span>add_new_faction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfaction.html">faction</a> * faction_manager::add_new_faction </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name_new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id_new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;&#160;</td>
          <td class="paramname"><em>template_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8cpp_source.html#l00400">400</a> of file <a class="el" href="faction_8cpp_source.html">faction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>{</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classfaction__template.html">faction_template</a> &amp;fac_temp : <a class="code hl_variable" href="namespacenpc__factions.html#a0cfe595c2dd834c99b01b9b883177f93">npc_factions::all_templates</a> ) {</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>        <span class="keywordflow">if</span>( template_id == fac_temp.id ) {</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>            <a class="code hl_class" href="classfaction.html">faction</a> fac( fac_temp );</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>            fac.name = name_new;</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>            fac.id = id_new;</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>            <a class="code hl_variable" href="classfaction__manager.html#a4ae57d2e75f7c1a915abfa58a295c6b7">factions</a>[fac.id] = fac;</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>            <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="classfaction__manager.html#a4ae57d2e75f7c1a915abfa58a295c6b7">factions</a>[fac.id];</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>        }</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>    }</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>}</div>
<div class="ttc" id="aclassfaction__manager_html_a4ae57d2e75f7c1a915abfa58a295c6b7"><div class="ttname"><a href="classfaction__manager.html#a4ae57d2e75f7c1a915abfa58a295c6b7">faction_manager::factions</a></div><div class="ttdeci">std::map&lt; faction_id, faction &gt; factions</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00122">faction.h:122</a></div></div>
<div class="ttc" id="aclassfaction__template_html"><div class="ttname"><a href="classfaction__template.html">faction_template</a></div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00062">faction.h:63</a></div></div>
<div class="ttc" id="aclassfaction_html"><div class="ttname"><a href="classfaction.html">faction</a></div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00095">faction.h:96</a></div></div>
<div class="ttc" id="anamespacenpc__factions_html_a0cfe595c2dd834c99b01b9b883177f93"><div class="ttname"><a href="namespacenpc__factions.html#a0cfe595c2dd834c99b01b9b883177f93">npc_factions::all_templates</a></div><div class="ttdeci">std::vector&lt; faction_template &gt; all_templates</div><div class="ttdef"><b>Definition:</b> <a href="faction_8cpp_source.html#l00038">faction.cpp:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction_8cpp_source.html#l00038">npc_factions::all_templates</a>, <a class="el" href="faction_8h_source.html#l00122">factions</a>, <a class="el" href="faction_8h_source.html#l00082">faction_template::id</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00054">string_id&lt; T &gt;::id()</a>, and <a class="el" href="faction_8h_source.html#l00078">faction_template::name</a>.</p>

</div>
</div>
<a id="a02528ed0646490339be7c0cf3922cc7a" name="a02528ed0646490339be7c0cf3922cc7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02528ed0646490339be7c0cf3922cc7a">&#9670;&nbsp;</a></span>all()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::map&lt; <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>, <a class="el" href="classfaction.html">faction</a> &gt; &amp; faction_manager::all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8h_source.html#l00134">134</a> of file <a class="el" href="faction_8h_source.html">faction.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>                                                       {</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="classfaction__manager.html#a4ae57d2e75f7c1a915abfa58a295c6b7">factions</a>;</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction_8h_source.html#l00122">factions</a>.</p>

</div>
</div>
<a id="a86bed9f1fe628dba39c39f93ae2273c9" name="a86bed9f1fe628dba39c39f93ae2273c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86bed9f1fe628dba39c39f93ae2273c9">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void faction_manager::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8cpp_source.html#l00371">371</a> of file <a class="el" href="faction_8cpp_source.html">faction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>{</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <a class="code hl_variable" href="classfaction__manager.html#a4ae57d2e75f7c1a915abfa58a295c6b7">factions</a>.clear();</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction_8h_source.html#l00122">factions</a>.</p>

</div>
</div>
<a id="afc40a9cbe1eea87b36f36c64bc5d1094" name="afc40a9cbe1eea87b36f36c64bc5d1094"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc40a9cbe1eea87b36f36c64bc5d1094">&#9670;&nbsp;</a></span>create_if_needed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void faction_manager::create_if_needed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8cpp_source.html#l00390">390</a> of file <a class="el" href="faction_8cpp_source.html">faction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>{</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classfaction__manager.html#a4ae57d2e75f7c1a915abfa58a295c6b7">factions</a>.empty() ) {</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    }</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;fac_temp : <a class="code hl_variable" href="namespacenpc__factions.html#a0cfe595c2dd834c99b01b9b883177f93">npc_factions::all_templates</a> ) {</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>        <a class="code hl_variable" href="classfaction__manager.html#a4ae57d2e75f7c1a915abfa58a295c6b7">factions</a>[fac_temp.id] = fac_temp;</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    }</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction_8cpp_source.html#l00038">npc_factions::all_templates</a>, and <a class="el" href="faction_8h_source.html#l00122">factions</a>.</p>

</div>
</div>
<a id="adc46ee0a0e0f8f2487d385da7f0eaef2" name="adc46ee0a0e0f8f2487d385da7f0eaef2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc46ee0a0e0f8f2487d385da7f0eaef2">&#9670;&nbsp;</a></span>deserialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void faction_manager::deserialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonIn.html">JsonIn</a> &amp;&#160;</td>
          <td class="paramname"><em>jsin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame_8cpp_source.html#l01295">1295</a> of file <a class="el" href="savegame_8cpp_source.html">savegame.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>{</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>    <span class="keywordflow">if</span>( jsin.<a class="code hl_function" href="classJsonIn.html#ae41dde30fea19bf2f707e9a297077d5f">test_object</a>() ) {</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>        <span class="comment">// whoops - this recovers factions saved under the wrong format.</span></div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>        jsin.<a class="code hl_function" href="classJsonIn.html#afb107941614a64343cc1e69550f7b24b">start_object</a>();</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>        <span class="keywordflow">while</span>( !jsin.<a class="code hl_function" href="classJsonIn.html#ad7e26ee4c8931e4a7bd7375a0a77595a">end_object</a>() ) {</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>            <a class="code hl_class" href="classfaction.html">faction</a> add_fac;</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>            add_fac.<a class="code hl_variable" href="classfaction__template.html#a649fcecca332d594911fed59607d4ee7">id</a> = <a class="code hl_typedef" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>( jsin.<a class="code hl_function" href="classJsonIn.html#a6794f25357d307de007a31ba4f1a09a0">get_member_name</a>() );</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>            jsin.<a class="code hl_function" href="classJsonIn.html#aa8f42d396d9e62f0401b71ccf579c111">read</a>( add_fac );</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>            <a class="code hl_class" href="classfaction.html">faction</a> *old_fac = <a class="code hl_function" href="classfaction__manager.html#a5b548103cb8db244748d7df4282ecdcd">get</a>( add_fac.<a class="code hl_variable" href="classfaction__template.html#a649fcecca332d594911fed59607d4ee7">id</a>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>            <span class="keywordflow">if</span>( old_fac ) {</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>                *old_fac = add_fac;</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>                <span class="comment">// force a revalidation of add_fac</span></div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>                <a class="code hl_function" href="classfaction__manager.html#a5b548103cb8db244748d7df4282ecdcd">get</a>( add_fac.<a class="code hl_variable" href="classfaction__template.html#a649fcecca332d594911fed59607d4ee7">id</a>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>                <a class="code hl_variable" href="classfaction__manager.html#a4ae57d2e75f7c1a915abfa58a295c6b7">factions</a>[add_fac.<a class="code hl_variable" href="classfaction__template.html#a649fcecca332d594911fed59607d4ee7">id</a>] = add_fac;</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>            }</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>        }</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jsin.<a class="code hl_function" href="classJsonIn.html#a1893a4495869a8bbf150fecc20bc99d3">test_array</a>() ) {</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>        <span class="comment">// how it should have been serialized.</span></div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>        jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>        <span class="keywordflow">while</span>( !jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>() ) {</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>            <a class="code hl_class" href="classfaction.html">faction</a> add_fac;</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>            jsin.<a class="code hl_function" href="classJsonIn.html#aa8f42d396d9e62f0401b71ccf579c111">read</a>( add_fac );</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>            <a class="code hl_class" href="classfaction.html">faction</a> *old_fac = <a class="code hl_function" href="classfaction__manager.html#a5b548103cb8db244748d7df4282ecdcd">get</a>( add_fac.<a class="code hl_variable" href="classfaction__template.html#a649fcecca332d594911fed59607d4ee7">id</a>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>            <span class="keywordflow">if</span>( old_fac ) {</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>                *old_fac = add_fac;</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>                <span class="comment">// force a revalidation of add_fac</span></div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>                <a class="code hl_function" href="classfaction__manager.html#a5b548103cb8db244748d7df4282ecdcd">get</a>( add_fac.<a class="code hl_variable" href="classfaction__template.html#a649fcecca332d594911fed59607d4ee7">id</a>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>                <a class="code hl_variable" href="classfaction__manager.html#a4ae57d2e75f7c1a915abfa58a295c6b7">factions</a>[add_fac.<a class="code hl_variable" href="classfaction__template.html#a649fcecca332d594911fed59607d4ee7">id</a>] = add_fac;</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>            }</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>        }</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>    }</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>}</div>
<div class="ttc" id="aclassJsonIn_html_a1893a4495869a8bbf150fecc20bc99d3"><div class="ttname"><a href="classJsonIn.html#a1893a4495869a8bbf150fecc20bc99d3">JsonIn::test_array</a></div><div class="ttdeci">bool test_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01471">json.cpp:1471</a></div></div>
<div class="ttc" id="aclassJsonIn_html_a6794f25357d307de007a31ba4f1a09a0"><div class="ttname"><a href="classJsonIn.html#a6794f25357d307de007a31ba4f1a09a0">JsonIn::get_member_name</a></div><div class="ttdeci">std::string get_member_name()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00955">json.cpp:955</a></div></div>
<div class="ttc" id="aclassJsonIn_html_a70443f07b40c2a0ab1aee1e0418a1faf"><div class="ttname"><a href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">JsonIn::start_array</a></div><div class="ttdeci">void start_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01373">json.cpp:1373</a></div></div>
<div class="ttc" id="aclassJsonIn_html_aa8f42d396d9e62f0401b71ccf579c111"><div class="ttname"><a href="classJsonIn.html#aa8f42d396d9e62f0401b71ccf579c111">JsonIn::read</a></div><div class="ttdeci">bool read(bool &amp;b, bool throw_on_error=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01485">json.cpp:1485</a></div></div>
<div class="ttc" id="aclassJsonIn_html_ad7e26ee4c8931e4a7bd7375a0a77595a"><div class="ttname"><a href="classJsonIn.html#ad7e26ee4c8931e4a7bd7375a0a77595a">JsonIn::end_object</a></div><div class="ttdeci">bool end_object()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01422">json.cpp:1422</a></div></div>
<div class="ttc" id="aclassJsonIn_html_adb53515d72e6e0457ae3266ace12d5e5"><div class="ttname"><a href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">JsonIn::end_array</a></div><div class="ttdeci">bool end_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01389">json.cpp:1389</a></div></div>
<div class="ttc" id="aclassJsonIn_html_ae41dde30fea19bf2f707e9a297077d5f"><div class="ttname"><a href="classJsonIn.html#ae41dde30fea19bf2f707e9a297077d5f">JsonIn::test_object</a></div><div class="ttdeci">bool test_object()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01477">json.cpp:1477</a></div></div>
<div class="ttc" id="aclassJsonIn_html_afb107941614a64343cc1e69550f7b24b"><div class="ttname"><a href="classJsonIn.html#afb107941614a64343cc1e69550f7b24b">JsonIn::start_object</a></div><div class="ttdeci">void start_object()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01406">json.cpp:1406</a></div></div>
<div class="ttc" id="aclassfaction__manager_html_a5b548103cb8db244748d7df4282ecdcd"><div class="ttname"><a href="classfaction__manager.html#a5b548103cb8db244748d7df4282ecdcd">faction_manager::get</a></div><div class="ttdeci">faction * get(const faction_id &amp;id, bool complain=true)</div><div class="ttdef"><b>Definition:</b> <a href="faction_8cpp_source.html#l00415">faction.cpp:415</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a649fcecca332d594911fed59607d4ee7"><div class="ttname"><a href="classfaction__template.html#a649fcecca332d594911fed59607d4ee7">faction_template::id</a></div><div class="ttdeci">faction_id id</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00082">faction.h:82</a></div></div>
<div class="ttc" id="aclzones_8h_html_ab899db7b87cf958f079fe0f14793625b"><div class="ttname"><a href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a></div><div class="ttdeci">string_id&lt; faction &gt; faction_id</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8h_source.html#l00030">clzones.h:30</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json_8cpp_source.html#l01389">JsonIn::end_array()</a>, <a class="el" href="json_8cpp_source.html#l01422">JsonIn::end_object()</a>, <a class="el" href="faction_8h_source.html#l00122">factions</a>, <a class="el" href="faction_8cpp_source.html#l00415">get()</a>, <a class="el" href="json_8cpp_source.html#l00955">JsonIn::get_member_name()</a>, <a class="el" href="faction_8h_source.html#l00082">faction_template::id</a>, <a class="el" href="json_8cpp_source.html#l01485">JsonIn::read()</a>, <a class="el" href="json_8cpp_source.html#l01373">JsonIn::start_array()</a>, <a class="el" href="json_8cpp_source.html#l01406">JsonIn::start_object()</a>, <a class="el" href="json_8cpp_source.html#l01471">JsonIn::test_array()</a>, and <a class="el" href="json_8cpp_source.html#l01477">JsonIn::test_object()</a>.</p>

</div>
</div>
<a id="a44db44244c068cf6e8426849776abec7" name="a44db44244c068cf6e8426849776abec7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44db44244c068cf6e8426849776abec7">&#9670;&nbsp;</a></span>display()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void faction_manager::display </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8cpp_source.html#l00668">668</a> of file <a class="el" href="faction_8cpp_source.html">faction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>{</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>    <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> w_missions;</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>    <span class="keywordtype">int</span> entries_per_page = 0;</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span> </div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>    <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> <a class="code hl_namespace" href="namespaceui.html">ui</a>;</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>    <a class="code hl_namespace" href="namespaceui.html">ui</a>.on_screen_resize( [&amp;]( <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code hl_namespace" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> term( <a class="code hl_variable" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> &gt; <a class="code hl_variable" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a> ? ( <a class="code hl_variable" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> - <a class="code hl_variable" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a> ) / 2 : 0,</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>                          <a class="code hl_variable" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> &gt; <a class="code hl_variable" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> ? ( <a class="code hl_variable" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - <a class="code hl_variable" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a> ) / 2 : 0 );</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span> </div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>        w_missions = <a class="code hl_function" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code hl_variable" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a>, <a class="code hl_variable" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a>,</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>                                         <a class="code hl_struct" href="structpoint.html">point</a>( term.y, term.x ) );</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span> </div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>        entries_per_page = <a class="code hl_variable" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a> - 4;</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span> </div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>        <a class="code hl_namespace" href="namespaceui.html">ui</a>.position_from_window( w_missions );</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>    } );</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>    <a class="code hl_namespace" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span> </div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    <span class="keyword">enum class</span> <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> : int {</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>        TAB_MYFACTION = 0,</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>        TAB_FOLLOWERS,</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>        TAB_OTHERFACTIONS,</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>        NUM_TABS,</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>        FIRST_TAB = 0,</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>        LAST_TAB = NUM_TABS - 1</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>    };</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;validate_camps();</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;validate_npc_followers();</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>    <a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a> tab = tab_mode::FIRST_TAB;</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>    <span class="keywordtype">size_t</span> selection = 0;</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>    <a class="code hl_class" href="classinput__context.html">input_context</a> ctxt( <span class="stringliteral">&quot;FACTION MANAGER&quot;</span> );</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>    ctxt.register_cardinal();</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>    ctxt.register_updown();</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>    ctxt.register_action( <span class="stringliteral">&quot;ANY_INPUT&quot;</span> );</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    ctxt.register_action( <span class="stringliteral">&quot;NEXT_TAB&quot;</span> );</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>    ctxt.register_action( <span class="stringliteral">&quot;PREV_TAB&quot;</span> );</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>    ctxt.register_action( <span class="stringliteral">&quot;CONFIRM&quot;</span> );</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>    ctxt.register_action( <span class="stringliteral">&quot;QUIT&quot;</span> );</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>    ctxt.register_action( <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> );</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span> </div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    std::vector&lt;npc *&gt; followers;</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>    std::vector&lt;const faction *&gt; valfac; <span class="comment">// Factions that we know of.</span></div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>    <a class="code hl_class" href="classnpc.html">npc</a> *guy = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>    <span class="keyword">const</span> <a class="code hl_class" href="classfaction.html">faction</a> *cur_fac = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>    <span class="keywordtype">bool</span> interactable = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>    <span class="keywordtype">bool</span> radio_interactable = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>    <a class="code hl_class" href="classbasecamp.html">basecamp</a> *camp = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>    std::vector&lt;basecamp *&gt; camps;</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>    <span class="keywordtype">size_t</span> active_vec_size = 0;</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span> </div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>    <a class="code hl_namespace" href="namespaceui.html">ui</a>.on_redraw( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>        <a class="code hl_function" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w_missions );</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span> </div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 3; i &lt; <a class="code hl_variable" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a> - 1; i++ ) {</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>            <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w_missions, <a class="code hl_struct" href="structpoint.html">point</a>( 30, i ), <a class="code hl_define" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code hl_define" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a> );</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>        }</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span> </div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>        <span class="keyword">const</span> std::vector&lt;std::pair&lt;tab_mode, std::string&gt;&gt; tabs = {</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>            { tab_mode::TAB_MYFACTION, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;YOUR FACTION&quot;</span> ) },</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>            { tab_mode::TAB_FOLLOWERS, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;YOUR FOLLOWERS&quot;</span> ) },</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>            { tab_mode::TAB_OTHERFACTIONS, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;OTHER FACTIONS&quot;</span> ) },</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>        };</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>        <a class="code hl_function" href="output_8cpp.html#a00c7a12a57454e84799503200a721f0c">draw_tabs</a>( w_missions, tabs, tab );</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>        <a class="code hl_function" href="output_8cpp.html#a25cb31c67f54e686b0979af74dc94665">draw_border_below_tabs</a>( w_missions );</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span> </div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>        <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w_missions, <a class="code hl_struct" href="structpoint.html">point</a>( 30, 2 ), <a class="code hl_define" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>,</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>                  tab == tab_mode::TAB_FOLLOWERS ? <span class="charliteral">&#39; &#39;</span> : <a class="code hl_define" href="output_8h.html#a4a3bfadbe7ec0abb14ff53e5e2f8983e">LINE_OXXX</a> ); <span class="comment">// ^|^</span></div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>        <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w_missions, <a class="code hl_struct" href="structpoint.html">point</a>( 30, <a class="code hl_variable" href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a> - 1 ), <a class="code hl_define" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a>, <a class="code hl_define" href="output_8h.html#a612d0d0728e93276b2b7de1fc57b096b">LINE_XXOX</a> ); <span class="comment">// _|_</span></div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>        <span class="keyword">const</span> <a class="code hl_class" href="classnc__color.html">nc_color</a> col = <a class="code hl_define" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>;</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span> </div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>        <span class="comment">// entries_per_page * page number</span></div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> top_of_page = entries_per_page * ( selection / entries_per_page );</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span> </div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>        <span class="keywordflow">switch</span>( tab ) {</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>            <span class="keywordflow">case</span> tab_mode::TAB_MYFACTION: {</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>                <span class="keyword">const</span> std::string no_camp = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You have no camps&quot;</span> );</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>                <span class="keywordflow">if</span>( active_vec_size &gt; 0 ) {</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>                    <a class="code hl_function" href="output_8cpp.html#a37db5c581b2a20faa11b14164de305df">draw_scrollbar</a>( w_missions, selection, entries_per_page, active_vec_size,</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>                                    <a class="code hl_struct" href="structpoint.html">point</a>( 0, 3 ) );</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>                    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = top_of_page; i &lt; active_vec_size; i++ ) {</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>                        <span class="keyword">const</span> <span class="keywordtype">int</span> y = i - top_of_page + 3;</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>                        <a class="code hl_function" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( w_missions, <a class="code hl_struct" href="structpoint.html">point</a>( 1, y ), 28, selection == i ? <a class="code hl_function" href="color_8cpp.html#a99e42a5de98370aab8662d4423cf4a4d">hilite</a>( col ) : col,</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>                                        camps[i]-&gt;camp_name() );</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>                    }</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>                    <span class="keywordflow">if</span>( camp ) {</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>                        camp-&gt;<a class="code hl_function" href="classbasecamp.html#ab4e7201ff6c8844744f37f4afded6579">faction_display</a>( w_missions, 31 );</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>                        <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_missions, <a class="code hl_struct" href="structpoint.html">point</a>( 31, 4 ), <a class="code hl_define" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a>, no_camp );</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>                    }</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>                    <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_missions, <a class="code hl_struct" href="structpoint.html">point</a>( 31, 4 ), <a class="code hl_define" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a>, no_camp );</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>                }</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>            }</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>            <span class="keywordflow">case</span> tab_mode::TAB_FOLLOWERS: {</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>                <span class="keyword">const</span> std::string no_ally = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You have no followers&quot;</span> );</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>                <span class="keywordflow">if</span>( !followers.empty() ) {</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>                    <a class="code hl_function" href="output_8cpp.html#a37db5c581b2a20faa11b14164de305df">draw_scrollbar</a>( w_missions, selection, entries_per_page, active_vec_size,</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>                                    <a class="code hl_struct" href="structpoint.html">point</a>( 0, 3 ) );</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>                    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = top_of_page; i &lt; active_vec_size; i++ ) {</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>                        <span class="keyword">const</span> <span class="keywordtype">int</span> y = i - top_of_page + 3;</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>                        <a class="code hl_function" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( w_missions, <a class="code hl_struct" href="structpoint.html">point</a>( 1, y ), 28, selection == i ? <a class="code hl_function" href="color_8cpp.html#a99e42a5de98370aab8662d4423cf4a4d">hilite</a>( col ) : col,</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>                                        followers[i]-&gt;disp_name() );</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>                    }</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>                    <span class="keywordflow">if</span>( guy ) {</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>                        <span class="keywordtype">int</span> retval = guy-&gt;<a class="code hl_function" href="classnpc.html#aded90f781b16b64cb4357dba634c82cb">faction_display</a>( w_missions, 31 );</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>                        <span class="keywordflow">if</span>( retval == 2 ) {</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>                            radio_interactable = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( retval == 1 ) {</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>                            interactable = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>                        }</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>                        <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_missions, <a class="code hl_struct" href="structpoint.html">point</a>( 31, 4 ), <a class="code hl_define" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a>, no_ally );</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>                    }</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>                    <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_missions, <a class="code hl_struct" href="structpoint.html">point</a>( 31, 4 ), <a class="code hl_define" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a>, no_ally );</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>                }</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>            }</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>            <span class="keywordflow">case</span> tab_mode::TAB_OTHERFACTIONS: {</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>                <span class="keyword">const</span> std::string no_fac = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You don&#39;t know of any factions.&quot;</span> );</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>                <span class="keywordflow">if</span>( active_vec_size &gt; 0 ) {</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>                    <a class="code hl_function" href="output_8cpp.html#a37db5c581b2a20faa11b14164de305df">draw_scrollbar</a>( w_missions, selection, entries_per_page, active_vec_size,</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>                                    <a class="code hl_struct" href="structpoint.html">point</a>( 0, 3 ) );</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>                    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = top_of_page; i &lt; active_vec_size; i++ ) {</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>                        <span class="keyword">const</span> <span class="keywordtype">int</span> y = i - top_of_page + 3;</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>                        <a class="code hl_function" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( w_missions, <a class="code hl_struct" href="structpoint.html">point</a>( 1, y ), 28, selection == i ? <a class="code hl_function" href="color_8cpp.html#a99e42a5de98370aab8662d4423cf4a4d">hilite</a>( col ) : col,</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>                                        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( valfac[i]-&gt;<a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> ) );</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>                    }</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>                    <span class="keywordflow">if</span>( cur_fac ) {</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>                        cur_fac-&gt;<a class="code hl_function" href="classfaction.html#a612e2c6d9931ae18c7bca553e81a210a">faction_display</a>( w_missions, 31 );</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>                        <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_missions, <a class="code hl_struct" href="structpoint.html">point</a>( 31, 4 ), <a class="code hl_define" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a>, no_fac );</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>                    }</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>                    <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_missions, <a class="code hl_struct" href="structpoint.html">point</a>( 31, 4 ), <a class="code hl_define" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a>, no_fac );</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>                }</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>            }</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>        }</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>        <a class="code hl_function" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_missions );</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    } );</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span> </div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>        <span class="comment">// create a list of NPCs, visible and the ones on overmapbuffer</span></div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>        followers.clear();</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_follower_list() ) {</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>            <a class="code hl_typedef" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;npc&gt;</a> npc_to_get = <a class="code hl_variable" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code hl_function" href="classovermapbuffer.html#abe3397983bdf2419ede84ee43bdf587f">find_npc</a>( elem );</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>            <span class="keywordflow">if</span>( !npc_to_get ) {</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>            }</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>            <a class="code hl_class" href="classnpc.html">npc</a> *npc_to_add = npc_to_get.get();</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>            followers.push_back( npc_to_add );</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>        }</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>        valfac.clear();</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;faction_manager_ptr-&gt;all() ) {</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>            <span class="keywordflow">if</span>( elem.second.known_by_u &amp;&amp; elem.second.id != <a class="code hl_class" href="classstring__id.html">faction_id</a>( <span class="stringliteral">&quot;your_followers&quot;</span> ) ) {</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>                valfac.push_back( &amp;elem.second );</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>            }</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>        }</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>        guy = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>        cur_fac = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>        interactable = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>        radio_interactable = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>        camp = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>        <span class="comment">// create a list of faction camps</span></div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>        camps.clear();</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> elem : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.camps ) {</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>            <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;basecamp *&gt;</a> p = <a class="code hl_variable" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code hl_function" href="classovermapbuffer.html#a8ae537183826f3e295ca509b1d709bf2">find_camp</a>( elem.<a class="code hl_function" href="classcoords_1_1coord__point.html#acb7438b5f344b6841e64b56100761783">xy</a>() );</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>            <span class="keywordflow">if</span>( !p ) {</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>            }</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>            <a class="code hl_class" href="classbasecamp.html">basecamp</a> *temp_camp = *p;</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>            camps.push_back( temp_camp );</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>        }</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>        <span class="keywordflow">if</span>( tab &lt; tab_mode::FIRST_TAB || tab &gt;= tab_mode::NUM_TABS ) {</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;The sanity check failed because tab=%d&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( tab ) );</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>            tab = tab_mode::FIRST_TAB;</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>        }</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>        active_vec_size = camps.size();</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>        <span class="keywordflow">if</span>( tab == tab_mode::TAB_FOLLOWERS ) {</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>            <span class="keywordflow">if</span>( selection &lt; followers.size() ) {</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>                guy = followers[selection];</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>            }</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>            active_vec_size = followers.size();</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tab == tab_mode::TAB_MYFACTION ) {</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>            <span class="keywordflow">if</span>( selection &lt; camps.size() ) {</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>                camp = camps[selection];</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>            }</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>            active_vec_size = camps.size();</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tab == tab_mode::TAB_OTHERFACTIONS ) {</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>            <span class="keywordflow">if</span>( selection &lt; valfac.size() ) {</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>                cur_fac = valfac[selection];</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>            }</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>            active_vec_size = valfac.<a class="code hl_variable" href="classfaction__template.html#a46ce16367a6224fc2579540f2561a2fe">size</a>();</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>        }</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span> </div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>        <a class="code hl_function" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>        <span class="keyword">const</span> std::string <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = ctxt.handle_input();</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;NEXT_TAB&quot;</span> || <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;RIGHT&quot;</span> ) {</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>            tab = <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a><span class="keyword">&gt;</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( tab ) + 1 );</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>            <span class="keywordflow">if</span>( tab &gt;= tab_mode::NUM_TABS ) {</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>                tab = tab_mode::FIRST_TAB;</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>            }</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>            selection = 0;</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;PREV_TAB&quot;</span> || <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;LEFT&quot;</span> ) {</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>            tab = <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">tab_mode</a><span class="keyword">&gt;</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( tab ) - 1 );</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>            <span class="keywordflow">if</span>( tab &lt; tab_mode::FIRST_TAB ) {</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>                tab = tab_mode::LAST_TAB;</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>            }</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>            selection = 0;</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;DOWN&quot;</span> ) {</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>            selection++;</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>            <span class="keywordflow">if</span>( selection &gt;= active_vec_size ) {</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>                selection = 0;</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>            }</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;UP&quot;</span> ) {</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>            <span class="keywordflow">if</span>( selection == 0 ) {</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>                selection = active_vec_size == 0 ? 0 : active_vec_size - 1;</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>                selection--;</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>            }</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CONFIRM&quot;</span> &amp;&amp; guy ) {</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>            <span class="keywordflow">if</span>( guy-&gt;<a class="code hl_function" href="classnpc.html#ae82b429999cb57ce0f828f068df07710">has_companion_mission</a>() ) {</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>                guy-&gt;<a class="code hl_function" href="classnpc.html#acaf166db9bec3717fd7a372c71879a3e">reset_companion_mission</a>();</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>                <a class="code hl_function" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s returns from their mission&quot;</span> ), guy-&gt;<a class="code hl_function" href="classCharacter.html#a1e1996b6d6fc0a86d917cd155e1656d8">disp_name</a>() );</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>                <span class="keywordflow">if</span>( tab == tab_mode::TAB_FOLLOWERS &amp;&amp; guy &amp;&amp; ( interactable || radio_interactable ) ) {</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>                    guy-&gt;<a class="code hl_function" href="classnpc.html#a5b9451df6fec39e4d0b753e59352aa5d">talk_to_u</a>( radio_interactable );</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tab == tab_mode::TAB_MYFACTION &amp;&amp; camp ) {</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>                    camp-&gt;<a class="code hl_function" href="classbasecamp.html#a3593fb306b2a5521825808b2633540aa">query_new_name</a>();</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>                }</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>            }</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>        }</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>    }</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>}</div>
<div class="ttc" id="aclassCharacter_html_a1e1996b6d6fc0a86d917cd155e1656d8"><div class="ttname"><a href="classCharacter.html#a1e1996b6d6fc0a86d917cd155e1656d8">Character::disp_name</a></div><div class="ttdeci">std::string disp_name(bool possessive=false, bool capitalize_first=false) const override</div><div class="ttdoc">Returns either &quot;you&quot; or the player's name.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00539">character.cpp:539</a></div></div>
<div class="ttc" id="aclassbasecamp_html"><div class="ttname"><a href="classbasecamp.html">basecamp</a></div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00116">basecamp.h:117</a></div></div>
<div class="ttc" id="aclassbasecamp_html_a3593fb306b2a5521825808b2633540aa"><div class="ttname"><a href="classbasecamp.html#a3593fb306b2a5521825808b2633540aa">basecamp::query_new_name</a></div><div class="ttdeci">void query_new_name()</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8cpp_source.html#l00558">basecamp.cpp:558</a></div></div>
<div class="ttc" id="aclassbasecamp_html_ab4e7201ff6c8844744f37f4afded6579"><div class="ttname"><a href="classbasecamp.html#ab4e7201ff6c8844744f37f4afded6579">basecamp::faction_display</a></div><div class="ttdeci">void faction_display(const catacurses::window &amp;fac_w, int width) const</div><div class="ttdef"><b>Definition:</b> <a href="faction_8cpp_source.html#l00461">faction.cpp:461</a></div></div>
<div class="ttc" id="aclasscata_1_1optional_html"><div class="ttname"><a href="classcata_1_1optional.html">cata::optional</a></div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00030">optional.h:31</a></div></div>
<div class="ttc" id="aclasscatacurses_1_1window_html"><div class="ttname"><a href="classcatacurses_1_1window.html">catacurses::window</a></div><div class="ttdoc">A wrapper over a pointer to a curses window.</div><div class="ttdef"><b>Definition:</b> <a href="cursesdef_8h_source.html#l00054">cursesdef.h:55</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; tripoint, coords::origin::abs, coords::omt &gt;</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html_acb7438b5f344b6841e64b56100761783"><div class="ttname"><a href="classcoords_1_1coord__point.html#acb7438b5f344b6841e64b56100761783">coords::coord_point::xy</a></div><div class="ttdeci">constexpr auto xy() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00130">coordinates.h:130</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a46ce16367a6224fc2579540f2561a2fe"><div class="ttname"><a href="classfaction__template.html#a46ce16367a6224fc2579540f2561a2fe">faction_template::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00084">faction.h:84</a></div></div>
<div class="ttc" id="aclassfaction_html_a612e2c6d9931ae18c7bca553e81a210a"><div class="ttname"><a href="classfaction.html#a612e2c6d9931ae18c7bca553e81a210a">faction::faction_display</a></div><div class="ttdeci">void faction_display(const catacurses::window &amp;fac_w, int width) const</div><div class="ttdef"><b>Definition:</b> <a href="faction_8cpp_source.html#l00486">faction.cpp:486</a></div></div>
<div class="ttc" id="aclassinput__context_html"><div class="ttname"><a href="classinput__context.html">input_context</a></div><div class="ttdoc">Represents a context in which a set of actions can be performed.</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00381">input.h:382</a></div></div>
<div class="ttc" id="aclassnc__color_html"><div class="ttname"><a href="classnc__color.html">nc_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00348">color.h:349</a></div></div>
<div class="ttc" id="aclassnpc_html"><div class="ttname"><a href="classnpc.html">npc</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00780">npc.h:781</a></div></div>
<div class="ttc" id="aclassnpc_html_a5b9451df6fec39e4d0b753e59352aa5d"><div class="ttname"><a href="classnpc.html#a5b9451df6fec39e4d0b753e59352aa5d">npc::talk_to_u</a></div><div class="ttdeci">void talk_to_u(bool radio_contact=false)</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00730">npctalk.cpp:730</a></div></div>
<div class="ttc" id="aclassnpc_html_acaf166db9bec3717fd7a372c71879a3e"><div class="ttname"><a href="classnpc.html#acaf166db9bec3717fd7a372c71879a3e">npc::reset_companion_mission</a></div><div class="ttdeci">void reset_companion_mission()</div><div class="ttdoc">Unset a companion mission. Precondition: !has_companion_mission()</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03071">npc.cpp:3071</a></div></div>
<div class="ttc" id="aclassnpc_html_aded90f781b16b64cb4357dba634c82cb"><div class="ttname"><a href="classnpc.html#aded90f781b16b64cb4357dba634c82cb">npc::faction_display</a></div><div class="ttdeci">int faction_display(const catacurses::window &amp;fac_w, int width) const</div><div class="ttdef"><b>Definition:</b> <a href="faction_8cpp_source.html#l00494">faction.cpp:494</a></div></div>
<div class="ttc" id="aclassnpc_html_ae82b429999cb57ce0f828f068df07710"><div class="ttname"><a href="classnpc.html#ae82b429999cb57ce0f828f068df07710">npc::has_companion_mission</a></div><div class="ttdeci">bool has_companion_mission() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03090">npc.cpp:3090</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a8ae537183826f3e295ca509b1d709bf2"><div class="ttname"><a href="classovermapbuffer.html#a8ae537183826f3e295ca509b1d709bf2">overmapbuffer::find_camp</a></div><div class="ttdeci">cata::optional&lt; basecamp * &gt; find_camp(const point_abs_omt &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01136">overmapbuffer.cpp:1136</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_abe3397983bdf2419ede84ee43bdf587f"><div class="ttname"><a href="classovermapbuffer.html#abe3397983bdf2419ede84ee43bdf587f">overmapbuffer::find_npc</a></div><div class="ttdeci">shared_ptr_fast&lt; npc &gt; find_npc(character_id id)</div><div class="ttdoc">Find the npc with the given ID.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01126">overmapbuffer.cpp:1126</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; faction &gt;</a></div></div>
<div class="ttc" id="aclassui__adaptor_html"><div class="ttname"><a href="classui__adaptor.html">ui_adaptor</a></div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00015">ui_manager.h:16</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a99e42a5de98370aab8662d4423cf4a4d"><div class="ttname"><a href="color_8cpp.html#a99e42a5de98370aab8662d4423cf4a4d">hilite</a></div><div class="ttdeci">nc_color hilite(const nc_color &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00509">color.cpp:509</a></div></div>
<div class="ttc" id="acolor_8h_html_a0d06dc49b9761bbc54607397213728bb"><div class="ttname"><a href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a></div><div class="ttdeci">#define c_white</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00018">color.h:18</a></div></div>
<div class="ttc" id="acolor_8h_html_aab11865a3631a7ce78da82b7fb386b71"><div class="ttname"><a href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a></div><div class="ttdeci">#define c_light_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00027">color.h:27</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="adialogue_8h_html_abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8"><div class="ttname"><a href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a></div><div class="ttdeci">@ action</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00037">dialogue.h:36</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00267">game.cpp:267</a></div></div>
<div class="ttc" id="amemory__fast_8h_html_ada897699f31fc8b37c5af09d95d45840"><div class="ttname"><a href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast</a></div><div class="ttdeci">std::shared_ptr&lt; T &gt; shared_ptr_fast</div><div class="ttdef"><b>Definition:</b> <a href="memory__fast_8h_source.html#l00016">memory_fast.h:16</a></div></div>
<div class="ttc" id="anamespacebase__camps_html_a7355c36e3472cb0ef0668630f341773f"><div class="ttname"><a href="namespacebase__camps.html#a7355c36e3472cb0ef0668630f341773f">base_camps::tab_mode</a></div><div class="ttdeci">tab_mode</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00057">basecamp.h:57</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a576fd20080b8f49e27acf97af45b374b"><div class="ttname"><a href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a></div><div class="ttdeci">window newwin(int nlines, int ncols, const point &amp;begin)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00034">ncurses_def.cpp:34</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_aa9823d249c21fa50daf277957fabb175"><div class="ttname"><a href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">catacurses::wnoutrefresh</a></div><div class="ttdeci">void wnoutrefresh(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00043">ncurses_def.cpp:43</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_ace2ce3990cb812fb83adf6e4ea1f9e8e"><div class="ttname"><a href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">catacurses::werase</a></div><div class="ttdeci">void werase(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00053">ncurses_def.cpp:53</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a8ba958ccfad28c0a5572a04dd1428f32"><div class="ttname"><a href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">om_direction::name</a></div><div class="ttdeci">std::string name(type dir)</div><div class="ttdoc">Get Human readable name of a direction.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l04051">overmap.cpp:4051</a></div></div>
<div class="ttc" id="anamespaceui__manager_html_ae38f3a918052ef286ee60daac47f52d4"><div class="ttname"><a href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a></div><div class="ttdeci">void redraw()</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00285">ui_manager.cpp:285</a></div></div>
<div class="ttc" id="anamespaceui_html"><div class="ttname"><a href="namespaceui.html">ui</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00016">overmap_ui.h:17</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a000abea6447dfafd5f9b787aa6753609"><div class="ttname"><a href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a></div><div class="ttdeci">int TERMX</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00047">output.cpp:47</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a00c7a12a57454e84799503200a721f0c"><div class="ttname"><a href="output_8cpp.html#a00c7a12a57454e84799503200a721f0c">draw_tabs</a></div><div class="ttdeci">void draw_tabs(const catacurses::window &amp;w, const std::vector&lt; std::string &gt; &amp;tab_texts, size_t current_tab)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01274">output.cpp:1274</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1184e3eda011b110d09bf2dcf08228f5"><div class="ttname"><a href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a></div><div class="ttdeci">void mvwprintz(const catacurses::window &amp;w, const point &amp;p, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l02035">output.cpp:2035</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1e645471d321d71b235fb285da5c08ff"><div class="ttname"><a href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a></div><div class="ttdeci">int popup(const std::string &amp;text, PopupFlags flags)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00764">output.cpp:764</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a25cb31c67f54e686b0979af74dc94665"><div class="ttname"><a href="output_8cpp.html#a25cb31c67f54e686b0979af74dc94665">draw_border_below_tabs</a></div><div class="ttdeci">void draw_border_below_tabs(const catacurses::window &amp;w, nc_color border_color)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00587">output.cpp:587</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a32bc92e8282b63d800068ce8e182b269"><div class="ttname"><a href="output_8cpp.html#a32bc92e8282b63d800068ce8e182b269">FULL_SCREEN_HEIGHT</a></div><div class="ttdeci">int FULL_SCREEN_HEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00056">output.cpp:56</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a37db5c581b2a20faa11b14164de305df"><div class="ttname"><a href="output_8cpp.html#a37db5c581b2a20faa11b14164de305df">draw_scrollbar</a></div><div class="ttdeci">void draw_scrollbar(const catacurses::window &amp;window, const int iCurrentLine, const int iContentHeight, const int iNumLines, const point &amp;offset, nc_color bar_color, const bool bDoNotScrollToEnd)</div><div class="ttdoc">Draw a scrollbar (Legacy function, use class scrollbar instead!)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01314">output.cpp:1314</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a567a63be8cb70cc3eb47bf8affced8e5"><div class="ttname"><a href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a></div><div class="ttdeci">int TERMY</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00048">output.cpp:48</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab7abbbd98907f496533db9bc2a02cf4a"><div class="ttname"><a href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a></div><div class="ttdeci">void trim_and_print(const catacurses::window &amp;w, const point &amp;begin, const int width, const nc_color &amp;base_color, const std::string &amp;text, const report_color_error color_error)</div><div class="ttdoc">Prints a single line of text.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00214">output.cpp:214</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_af24921c70e875c1d0888315b9452b562"><div class="ttname"><a href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a></div><div class="ttdeci">int FULL_SCREEN_WIDTH</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00055">output.cpp:55</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afb5597c87a5847c7d64b878ab3a77d5b"><div class="ttname"><a href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a></div><div class="ttdeci">void mvwputch(const catacurses::window &amp;w, const point &amp;p, nc_color FG, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00477">output.cpp:477</a></div></div>
<div class="ttc" id="aoutput_8h_html_a33ab4e0193402fed8f74590a30fadc3c"><div class="ttname"><a href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a></div><div class="ttdeci">#define LINE_XOXO</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00039">output.h:39</a></div></div>
<div class="ttc" id="aoutput_8h_html_a4a3bfadbe7ec0abb14ff53e5e2f8983e"><div class="ttname"><a href="output_8h.html#a4a3bfadbe7ec0abb14ff53e5e2f8983e">LINE_OXXX</a></div><div class="ttdeci">#define LINE_OXXX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00048">output.h:48</a></div></div>
<div class="ttc" id="aoutput_8h_html_a612d0d0728e93276b2b7de1fc57b096b"><div class="ttname"><a href="output_8h.html#a612d0d0728e93276b2b7de1fc57b096b">LINE_XXOX</a></div><div class="ttdeci">#define LINE_XXOX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00046">output.h:46</a></div></div>
<div class="ttc" id="aoutput_8h_html_a966901ace2cf6cba3fc9cec310150860"><div class="ttname"><a href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a></div><div class="ttdeci">#define BORDER_COLOR</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00135">output.h:135</a></div></div>
<div class="ttc" id="aovermapbuffer_8cpp_html_ab3cf8344ec3e473f9ce96a33dc3425af"><div class="ttname"><a href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a></div><div class="ttdeci">overmapbuffer overmap_buffer</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00046">overmapbuffer.cpp:44</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00035">point.h:35</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="dialogue_8h_source.html#l00036">action</a>, <a class="el" href="output_8h_source.html#l00135">BORDER_COLOR</a>, <a class="el" href="color_8h_source.html#l00027">c_light_red</a>, <a class="el" href="color_8h_source.html#l00018">c_white</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="character_8cpp_source.html#l00539">Character::disp_name()</a>, <a class="el" href="output_8cpp_source.html#l00587">draw_border_below_tabs()</a>, <a class="el" href="output_8cpp_source.html#l01314">draw_scrollbar()</a>, <a class="el" href="output_8cpp_source.html#l01274">draw_tabs()</a>, <a class="el" href="faction_8cpp_source.html#l00461">basecamp::faction_display()</a>, <a class="el" href="faction_8cpp_source.html#l00486">faction::faction_display()</a>, <a class="el" href="faction_8cpp_source.html#l00494">npc::faction_display()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01136">overmapbuffer::find_camp()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l01126">overmapbuffer::find_npc()</a>, <a class="el" href="output_8cpp_source.html#l00056">FULL_SCREEN_HEIGHT</a>, <a class="el" href="output_8cpp_source.html#l00055">FULL_SCREEN_WIDTH</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="input_8cpp_source.html#l00854">input_context::handle_input()</a>, <a class="el" href="npc_8cpp_source.html#l03090">npc::has_companion_mission()</a>, <a class="el" href="color_8cpp_source.html#l00509">hilite()</a>, <a class="el" href="output_8h_source.html#l00048">LINE_OXXX</a>, <a class="el" href="output_8h_source.html#l00039">LINE_XOXO</a>, <a class="el" href="output_8h_source.html#l00046">LINE_XXOX</a>, <a class="el" href="output_8cpp_source.html#l02035">mvwprintz()</a>, <a class="el" href="output_8cpp_source.html#l00477">mvwputch()</a>, <a class="el" href="overmap_8cpp_source.html#l04051">om_direction::name()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00034">catacurses::newwin()</a>, <a class="el" href="overmapbuffer_8cpp_source.html#l00044">overmap_buffer</a>, <a class="el" href="output_8cpp_source.html#l00764">popup()</a>, <a class="el" href="basecamp_8cpp_source.html#l00558">basecamp::query_new_name()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00285">ui_manager::redraw()</a>, <a class="el" href="input_8cpp_source.html#l00676">input_context::register_action()</a>, <a class="el" href="input_8cpp_source.html#l00936">input_context::register_cardinal()</a>, <a class="el" href="input_8cpp_source.html#l00924">input_context::register_updown()</a>, <a class="el" href="npc_8cpp_source.html#l03071">npc::reset_companion_mission()</a>, <a class="el" href="faction_8h_source.html#l00084">faction_template::size</a>, <a class="el" href="npctalk_8cpp_source.html#l00730">npc::talk_to_u()</a>, <a class="el" href="output_8cpp_source.html#l00047">TERMX</a>, <a class="el" href="output_8cpp_source.html#l00048">TERMY</a>, <a class="el" href="output_8cpp_source.html#l00214">trim_and_print()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00053">catacurses::werase()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00043">catacurses::wnoutrefresh()</a>, <a class="el" href="point_8h_source.html#l00038">point::x</a>, <a class="el" href="coordinates_8h_source.html#l00130">coords::coord_point&lt; Point, Origin, Scale &gt;::xy()</a>, and <a class="el" href="point_8h_source.html#l00039">point::y</a>.</p>

</div>
</div>
<a id="a5b548103cb8db244748d7df4282ecdcd" name="a5b548103cb8db244748d7df4282ecdcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b548103cb8db244748d7df4282ecdcd">&#9670;&nbsp;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfaction.html">faction</a> * faction_manager::get </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>complain</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8cpp_source.html#l00415">415</a> of file <a class="el" href="faction_8cpp_source.html">faction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>{</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>    <span class="keywordflow">if</span>( <span class="keywordtype">id</span>.is_null() ) {</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classfaction__manager.html#a5b548103cb8db244748d7df4282ecdcd">get</a>( <a class="code hl_typedef" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>( <span class="stringliteral">&quot;no_faction&quot;</span> ) );</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>    }</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classfaction__manager.html#a4ae57d2e75f7c1a915abfa58a295c6b7">factions</a> ) {</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>        <span class="keywordflow">if</span>( elem.first == <span class="keywordtype">id</span> ) {</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>            <span class="keywordflow">if</span>( !elem.second.validated ) {</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classfaction__template.html">faction_template</a> &amp;fac_temp : <a class="code hl_variable" href="namespacenpc__factions.html#a0cfe595c2dd834c99b01b9b883177f93">npc_factions::all_templates</a> ) {</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>                    <span class="keywordflow">if</span>( fac_temp.id == <span class="keywordtype">id</span> ) {</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>                        elem.second.currency = fac_temp.currency;</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>                        elem.second.lone_wolf_faction = fac_temp.lone_wolf_faction;</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>                        elem.second.name = fac_temp.name;</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>                        elem.second.desc = fac_temp.desc;</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>                        elem.second.mon_faction = fac_temp.mon_faction;</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>                        elem.second.epilogue_data = fac_temp.epilogue_data;</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>                        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;rel_data : fac_temp.relations ) {</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>                            <span class="keywordflow">if</span>( elem.second.relations.find( rel_data.first ) == elem.second.relations.end() ) {</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>                                elem.second.relations[rel_data.first] = rel_data.second;</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>                            }</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>                        }</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>                    }</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>                }</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>                elem.second.validated = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>            }</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>            <span class="keywordflow">return</span> &amp;elem.second;</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>        }</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>    }</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classfaction__template.html">faction_template</a> &amp;elem : <a class="code hl_variable" href="namespacenpc__factions.html#a0cfe595c2dd834c99b01b9b883177f93">npc_factions::all_templates</a> ) {</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>        <span class="comment">// id isn&#39;t already in factions map, so load in the template.</span></div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>        <span class="keywordflow">if</span>( elem.id == <span class="keywordtype">id</span> ) {</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>            <a class="code hl_variable" href="classfaction__manager.html#a4ae57d2e75f7c1a915abfa58a295c6b7">factions</a>[elem.id] = elem;</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>            <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classfaction__manager.html#a4ae57d2e75f7c1a915abfa58a295c6b7">factions</a>.empty() ) {</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>                <a class="code hl_variable" href="classfaction__manager.html#a4ae57d2e75f7c1a915abfa58a295c6b7">factions</a>[elem.id].validated = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>            }</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>            <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="classfaction__manager.html#a4ae57d2e75f7c1a915abfa58a295c6b7">factions</a>[elem.id];</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>        }</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>    }</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>    <span class="comment">// Sometimes we add new IDs to the map, sometimes we want to check if its already there.</span></div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>    <span class="keywordflow">if</span>( complain ) {</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Requested non-existing faction &#39;%s&#39;&quot;</span>, <span class="keywordtype">id</span>.str() );</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    }</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction_8cpp_source.html#l00038">npc_factions::all_templates</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="faction_8h_source.html#l00122">factions</a>, and <a class="el" href="faction_8cpp_source.html#l00415">get()</a>.</p>

<p class="reference">Referenced by <a class="el" href="savegame_8cpp_source.html#l01295">deserialize()</a>, and <a class="el" href="faction_8cpp_source.html#l00415">get()</a>.</p>

</div>
</div>
<a id="ac5e2433763bb4832fd9eab223dbad0ec" name="ac5e2433763bb4832fd9eab223dbad0ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5e2433763bb4832fd9eab223dbad0ec">&#9670;&nbsp;</a></span>remove_faction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void faction_manager::remove_faction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8cpp_source.html#l00376">376</a> of file <a class="el" href="faction_8cpp_source.html">faction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>{</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    <span class="keywordflow">if</span>( <span class="keywordtype">id</span>.str().empty() || <span class="keywordtype">id</span> == <a class="code hl_typedef" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>( <span class="stringliteral">&quot;no_faction&quot;</span> ) ) {</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    }</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = <a class="code hl_variable" href="classfaction__manager.html#a4ae57d2e75f7c1a915abfa58a295c6b7">factions</a>.cbegin(), next_it = it; it != <a class="code hl_variable" href="classfaction__manager.html#a4ae57d2e75f7c1a915abfa58a295c6b7">factions</a>.cend(); it = next_it ) {</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>        ++next_it;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>        <span class="keywordflow">if</span>( <span class="keywordtype">id</span> == it-&gt;first ) {</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>            <a class="code hl_variable" href="classfaction__manager.html#a4ae57d2e75f7c1a915abfa58a295c6b7">factions</a>.erase( it );</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>        }</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    }</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction_8h_source.html#l00122">factions</a>.</p>

</div>
</div>
<a id="af128819b019519851d65e0f0bf24df8e" name="af128819b019519851d65e0f0bf24df8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af128819b019519851d65e0f0bf24df8e">&#9670;&nbsp;</a></span>serialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void faction_manager::serialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonOut.html">JsonOut</a> &amp;&#160;</td>
          <td class="paramname"><em>jsout</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame_8cpp_source.html#l01286">1286</a> of file <a class="el" href="savegame_8cpp_source.html">savegame.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>{</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>    std::vector&lt;faction&gt; local_facs;</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classfaction__manager.html#a4ae57d2e75f7c1a915abfa58a295c6b7">factions</a> ) {</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>        local_facs.push_back( elem.second );</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>    }</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>    jsout.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( local_facs );</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>}</div>
<div class="ttc" id="aclassJsonOut_html_a4b8c8e50e3be57e737ae971ecf2c3fd5"><div class="ttname"><a href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">JsonOut::write</a></div><div class="ttdeci">void write(T val)</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00620">json.h:620</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction_8h_source.html#l00122">factions</a>, and <a class="el" href="json_8h_source.html#l00620">JsonOut::write()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a4ae57d2e75f7c1a915abfa58a295c6b7" name="a4ae57d2e75f7c1a915abfa58a295c6b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ae57d2e75f7c1a915abfa58a295c6b7">&#9670;&nbsp;</a></span>factions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="clzones_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>, <a class="el" href="classfaction.html">faction</a>&gt; faction_manager::factions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8h_source.html#l00122">122</a> of file <a class="el" href="faction_8h_source.html">faction.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction_8cpp_source.html#l00400">add_new_faction()</a>, <a class="el" href="faction_8h_source.html#l00134">all()</a>, <a class="el" href="faction_8cpp_source.html#l00371">clear()</a>, <a class="el" href="faction_8cpp_source.html#l00390">create_if_needed()</a>, <a class="el" href="savegame_8cpp_source.html#l01295">deserialize()</a>, <a class="el" href="faction_8cpp_source.html#l00415">get()</a>, <a class="el" href="faction_8cpp_source.html#l00376">remove_faction()</a>, and <a class="el" href="savegame_8cpp_source.html#l01286">serialize()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="faction_8h_source.html">faction.h</a></li>
<li>src/<a class="el" href="faction_8cpp_source.html">faction.cpp</a></li>
<li>src/<a class="el" href="savegame_8cpp_source.html">savegame.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classfaction__manager.html">faction_manager</a></li>
    <li class="footer">Generated on Sat Nov 12 2022 15:15:47 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
