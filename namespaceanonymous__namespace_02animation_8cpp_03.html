<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: anonymous_namespace{animation.cpp} Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespaceanonymous__namespace_02animation_8cpp_03.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">anonymous_namespace{animation.cpp} Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanonymous__namespace_02animation_8cpp_03_1_1basic__animation.html">basic_animation</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanonymous__namespace_02animation_8cpp_03_1_1bullet__animation.html">bullet_animation</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanonymous__namespace_02animation_8cpp_03_1_1explosion__animation.html">explosion_animation</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanonymous__namespace_02animation_8cpp_03_1_1wave__animation.html">wave_animation</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9d3fbd2d49b9955d5e302a03994eaacd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a9d3fbd2d49b9955d5e302a03994eaacd">is_point_visible</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p, int margin=0)</td></tr>
<tr class="separator:a9d3fbd2d49b9955d5e302a03994eaacd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac82c57522200ee34145b4d5598d87157"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#ac82c57522200ee34145b4d5598d87157">is_radius_visible</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;center, int radius)</td></tr>
<tr class="separator:ac82c57522200ee34145b4d5598d87157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f06b673f9eaa2ed24738e4de3855981"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a7f06b673f9eaa2ed24738e4de3855981">is_layer_visible</a> (const std::map&lt; <a class="el" href="structtripoint.html">tripoint</a>, <a class="el" href="structexplosion__tile.html">explosion_tile</a> &gt; &amp;layer)</td></tr>
<tr class="separator:a7f06b673f9eaa2ed24738e4de3855981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4475da76d1c26e5b891f4b57277b598"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtripoint.html">tripoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#ae4475da76d1c26e5b891f4b57277b598">relative_view_pos</a> (const <a class="el" href="classplayer.html">player</a> &amp;u, const <a class="el" href="structtripoint.html">tripoint</a> &amp;p) noexcept</td></tr>
<tr class="separator:ae4475da76d1c26e5b891f4b57277b598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a969b3608caea7d2243aaae720383cbf1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtripoint.html">tripoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a969b3608caea7d2243aaae720383cbf1">relative_view_pos</a> (const <a class="el" href="classgame.html">game</a> &amp;<a class="el" href="game_8h.html#abeb98e93502d73818b4a73fabe191bc1">g</a>, const <a class="el" href="structtripoint.html">tripoint</a> &amp;p) noexcept</td></tr>
<tr class="separator:a969b3608caea7d2243aaae720383cbf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b0efafac10ab3e71a3cc1bca498c240"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a9b0efafac10ab3e71a3cc1bca498c240">draw_explosion_curses</a> (<a class="el" href="classgame.html">game</a> &amp;<a class="el" href="game_8h.html#abeb98e93502d73818b4a73fabe191bc1">g</a>, const <a class="el" href="structtripoint.html">tripoint</a> &amp;center, const int r, const <a class="el" href="classnc__color.html">nc_color</a> &amp;col)</td></tr>
<tr class="separator:a9b0efafac10ab3e71a3cc1bca498c240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98dee93c997ae0c4a02d0f35206866e1"><td class="memItemLeft" align="right" valign="top">constexpr <a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a98dee93c997ae0c4a02d0f35206866e1">operator|</a> (<a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a> lhs, <a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a> rhs)</td></tr>
<tr class="separator:a98dee93c997ae0c4a02d0f35206866e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c245e53b1d717bd30afc1629532bd05"><td class="memItemLeft" align="right" valign="top">constexpr <a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a2c245e53b1d717bd30afc1629532bd05">operator^</a> (<a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a> lhs, <a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a> rhs)</td></tr>
<tr class="separator:a2c245e53b1d717bd30afc1629532bd05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac782629e3afab2499c6128a603239820"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#ac782629e3afab2499c6128a603239820">draw_custom_explosion_curses</a> (<a class="el" href="classgame.html">game</a> &amp;<a class="el" href="game_8h.html#abeb98e93502d73818b4a73fabe191bc1">g</a>, const std::list&lt; std::map&lt; <a class="el" href="structtripoint.html">tripoint</a>, <a class="el" href="structexplosion__tile.html">explosion_tile</a> &gt; &gt; &amp;layers)</td></tr>
<tr class="separator:ac782629e3afab2499c6128a603239820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac07d7350591e9095b0d65a4229b46d2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#ac07d7350591e9095b0d65a4229b46d2b">draw_bullet_curses</a> (<a class="el" href="classmap.html">map</a> &amp;m, const <a class="el" href="structtripoint.html">tripoint</a> &amp;t, const char bullet, const <a class="el" href="structtripoint.html">tripoint</a> *const p)</td></tr>
<tr class="separator:ac07d7350591e9095b0d65a4229b46d2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a435db1e54f7dcf9fb3043cbc425fb6ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a435db1e54f7dcf9fb3043cbc425fb6ad">hit_animation</a> (const <a class="el" href="classplayer.html">player</a> &amp;u, const <a class="el" href="structtripoint.html">tripoint</a> &amp;center, <a class="el" href="classnc__color.html">nc_color</a> cColor, const std::string &amp;cTile)</td></tr>
<tr class="separator:a435db1e54f7dcf9fb3043cbc425fb6ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a372a99b383ab88c864e045751c5b61b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a372a99b383ab88c864e045751c5b61b2">draw_hit_mon_curses</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;center, const <a class="el" href="classmonster.html">monster</a> &amp;m, const <a class="el" href="classplayer.html">player</a> &amp;u, const bool dead)</td></tr>
<tr class="separator:a372a99b383ab88c864e045751c5b61b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f6a87c38cca440d81f918250de183a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#ac2f6a87c38cca440d81f918250de183a">draw_hit_player_curses</a> (const <a class="el" href="classgame.html">game</a> &amp;<a class="el" href="game_8h.html#abeb98e93502d73818b4a73fabe191bc1">g</a>, const <a class="el" href="classCharacter.html">Character</a> &amp;p, const int dam)</td></tr>
<tr class="separator:ac2f6a87c38cca440d81f918250de183a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29da75b2e4c59316b658df853b6dc446"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a29da75b2e4c59316b658df853b6dc446">draw_line_curses</a> (<a class="el" href="classgame.html">game</a> &amp;<a class="el" href="game_8h.html#abeb98e93502d73818b4a73fabe191bc1">g</a>, const <a class="el" href="structtripoint.html">tripoint</a> &amp;center, const std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;ret, bool noreveal)</td></tr>
<tr class="separator:a29da75b2e4c59316b658df853b6dc446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f369a30d468e3610be549a2020c90eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a1f369a30d468e3610be549a2020c90eb">draw_line_curses</a> (<a class="el" href="classgame.html">game</a> &amp;<a class="el" href="game_8h.html#abeb98e93502d73818b4a73fabe191bc1">g</a>, const std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;points)</td></tr>
<tr class="separator:a1f369a30d468e3610be549a2020c90eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54bd42df50120a0f2d37b8e104db87d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a54bd42df50120a0f2d37b8e104db87d4">draw_weather_curses</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;win, const <a class="el" href="structweather__printable.html">weather_printable</a> &amp;w)</td></tr>
<tr class="separator:a54bd42df50120a0f2d37b8e104db87d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a271a2d2b71ba0e37131ddeee69aee517"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a271a2d2b71ba0e37131ddeee69aee517">draw_sct_curses</a> (const <a class="el" href="classgame.html">game</a> &amp;<a class="el" href="game_8h.html#abeb98e93502d73818b4a73fabe191bc1">g</a>)</td></tr>
<tr class="separator:a271a2d2b71ba0e37131ddeee69aee517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87af8ceec56e11835b1772a19ee7cf6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a87af8ceec56e11835b1772a19ee7cf6c">draw_zones_curses</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, const <a class="el" href="structtripoint.html">tripoint</a> &amp;start, const <a class="el" href="structtripoint.html">tripoint</a> &amp;end, const <a class="el" href="structtripoint.html">tripoint</a> &amp;offset)</td></tr>
<tr class="separator:a87af8ceec56e11835b1772a19ee7cf6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac07d7350591e9095b0d65a4229b46d2b" name="ac07d7350591e9095b0d65a4229b46d2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac07d7350591e9095b0d65a4229b46d2b">&#9670;&nbsp;</a></span>draw_bullet_curses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_bullet_curses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char&#160;</td>
          <td class="paramname"><em>bullet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> *const&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00451">451</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>{</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a9d3fbd2d49b9955d5e302a03994eaacd">is_point_visible</a>( t ) ) {</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>    }</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span> </div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> vp = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() + <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.view_offset;</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span> </div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>    <span class="keywordflow">if</span>( vp.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> != t.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) {</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>    }</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span> </div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>    <a class="code hl_typedef" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;game::draw_callback_t&gt;</a> bullet_cb = make_shared_fast&lt;game::draw_callback_t&gt;( [&amp;]() {</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>        <span class="keywordflow">if</span>( p != <span class="keyword">nullptr</span> &amp;&amp; p-&gt;<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> == vp.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) {</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>            m.drawsq( g-&gt;w_terrain, *p, drawsq_params().center( vp ) );</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>        }</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>        <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;w_terrain, t.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() - vp.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() + <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_variable" href="output_8cpp.html#a852bcaf15ef9b08c80dfa899078baa3d">POSX</a>, <a class="code hl_variable" href="output_8cpp.html#ab911c8aec787739bcd40d1d3d620ad44">POSY</a> ), <a class="code hl_define" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>, bullet );</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>    } );</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;add_draw_callback( bullet_cb );</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    bullet_animation().progress();</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>}</div>
<div class="ttc" id="acolor_8h_html_af0a87eaef36305269f4506dfa34d94c0"><div class="ttname"><a href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a></div><div class="ttdeci">#define c_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00021">color.h:21</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00267">game.cpp:267</a></div></div>
<div class="ttc" id="amemory__fast_8h_html_ada897699f31fc8b37c5af09d95d45840"><div class="ttname"><a href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast</a></div><div class="ttdeci">std::shared_ptr&lt; T &gt; shared_ptr_fast</div><div class="ttdef"><b>Definition:</b> <a href="memory__fast_8h_source.html#l00016">memory_fast.h:16</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02animation_8cpp_03_html_a9d3fbd2d49b9955d5e302a03994eaacd"><div class="ttname"><a href="namespaceanonymous__namespace_02animation_8cpp_03.html#a9d3fbd2d49b9955d5e302a03994eaacd">anonymous_namespace{animation.cpp}::is_point_visible</a></div><div class="ttdeci">bool is_point_visible(const tripoint &amp;p, int margin=0)</div><div class="ttdef"><b>Definition:</b> <a href="animation_8cpp_source.html#l00094">animation.cpp:94</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a852bcaf15ef9b08c80dfa899078baa3d"><div class="ttname"><a href="output_8cpp.html#a852bcaf15ef9b08c80dfa899078baa3d">POSX</a></div><div class="ttdeci">int POSX</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00049">output.cpp:49</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab911c8aec787739bcd40d1d3d620ad44"><div class="ttname"><a href="output_8cpp.html#ab911c8aec787739bcd40d1d3d620ad44">POSY</a></div><div class="ttdeci">int POSY</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00050">output.cpp:50</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afb5597c87a5847c7d64b878ab3a77d5b"><div class="ttname"><a href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a></div><div class="ttdeci">void mvwputch(const catacurses::window &amp;w, const point &amp;p, nc_color FG, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00477">output.cpp:477</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00035">point.h:35</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00147">point.h:147</a></div></div>
<div class="ttc" id="astructtripoint_html_ac944c0e329b5eba2602f7a52f66bbbb9"><div class="ttname"><a href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">tripoint::z</a></div><div class="ttdeci">int z</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00152">point.h:152</a></div></div>
<div class="ttc" id="astructtripoint_html_accc0725c936dbebb2486f969f39e2e5f"><div class="ttname"><a href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">tripoint::xy</a></div><div class="ttdeci">constexpr point xy() const</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00220">point.h:220</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="color_8h_source.html#l00021">c_red</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="animation_8cpp_source.html#l00094">is_point_visible()</a>, <a class="el" href="output_8cpp_source.html#l00477">mvwputch()</a>, <a class="el" href="output_8cpp_source.html#l00049">POSX</a>, <a class="el" href="output_8cpp_source.html#l00050">POSY</a>, <a class="el" href="animation_8cpp_source.html#l00060">anonymous_namespace{animation.cpp}::basic_animation::progress()</a>, <a class="el" href="point_8h_source.html#l00220">tripoint::xy()</a>, and <a class="el" href="point_8h_source.html#l00152">tripoint::z</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00510">game::draw_bullet()</a>.</p>

</div>
</div>
<a id="ac782629e3afab2499c6128a603239820" name="ac782629e3afab2499c6128a603239820"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac782629e3afab2499c6128a603239820">&#9670;&nbsp;</a></span>draw_custom_explosion_curses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_custom_explosion_curses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgame.html">game</a> &amp;&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::list&lt; std::map&lt; <a class="el" href="structtripoint.html">tripoint</a>, <a class="el" href="structexplosion__tile.html">explosion_tile</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>layers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00180">180</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>{</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <span class="comment">// calculate screen offset relative to player + view offset position</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> <a class="code hl_enumvalue" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.u.pos() + <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.u.view_offset;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> topleft( <a class="code hl_enumvalue" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.x - <a class="code hl_function" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain ) / 2,</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>                            <a class="code hl_enumvalue" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.y - <a class="code hl_function" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain ) / 2, 0 );</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span> </div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    <a class="code hl_class" href="classanonymous__namespace_02animation_8cpp_03_1_1explosion__animation.html">explosion_animation</a> anim;</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span> </div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>    <span class="keyword">auto</span> last_layer_it = layers.begin();</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    <a class="code hl_typedef" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;game::draw_callback_t&gt;</a> explosion_cb =</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    make_shared_fast&lt;game::draw_callback_t&gt;( [&amp;]() {</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = layers.begin(); it != std::next( last_layer_it ); ++it ) {</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>            for( const auto &amp;pr : *it ) {</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>                <span class="comment">// update tripoint in relation to top left corner of curses window</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>                <span class="comment">// mvwputch already filters out of bounds coordinates</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>                const tripoint p = pr.first - topleft;</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>                const explosion_neighbors ngh = pr.second.neighborhood;</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>                const nc_color col = pr.second.color;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span> </div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>                switch( ngh ) {</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>                    <span class="comment">// &#39;^&#39;, &#39;v&#39;, &#39;&lt;&#39;, &#39;&gt;&#39;</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>                    case N_NORTH:</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>                        mvwputch( g.w_terrain, p.xy(), col, <span class="stringliteral">&#39;^&#39;</span> );</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>                        break;</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>                    case N_SOUTH:</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>                        mvwputch( g.w_terrain, p.xy(), col, <span class="stringliteral">&#39;v&#39;</span> );</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>                        break;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>                    case N_WEST:</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>                        mvwputch( g.w_terrain, p.xy(), col, <span class="stringliteral">&#39;&lt;&#39;</span> );</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>                        break;</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>                    case N_EAST:</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>                        mvwputch( g.w_terrain, p.xy(), col, <span class="stringliteral">&#39;&gt;&#39;</span> );</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>                        break;</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>                    <span class="comment">// &#39;|&#39; and &#39;-&#39;</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>                    case N_NORTH | N_SOUTH:</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>                    case N_NORTH | N_SOUTH | N_WEST:</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>                    case N_NORTH | N_SOUTH | N_EAST:</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>                        mvwputch( g.w_terrain, p.xy(), col, <span class="stringliteral">&#39;|&#39;</span> );</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>                        break;</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>                    case N_WEST | N_EAST:</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>                    case N_WEST | N_EAST | N_NORTH:</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>                    case N_WEST | N_EAST | N_SOUTH:</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>                        mvwputch( g.w_terrain, p.xy(), col, <span class="stringliteral">&#39;-&#39;</span> );</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>                        break;</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>                    <span class="comment">// &#39;/&#39; and &#39;\&#39;</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>                    case N_NORTH | N_WEST:</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>                    case N_SOUTH | N_EAST:</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>                        mvwputch( g.w_terrain, p.xy(), col, <span class="stringliteral">&#39;/&#39;</span> );</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>                        break;</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>                    case N_SOUTH | N_WEST:</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>                    case N_NORTH | N_EAST:</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>                        mvwputch( g.w_terrain, p.xy(), col, <span class="stringliteral">&#39;\\&#39;</span> );</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>                        break;</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>                    case N_NO_NEIGHBORS:</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>                        mvwputch( g.w_terrain, p.xy(), col, <span class="stringliteral">&#39;*&#39;</span> );</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>                        break;</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>                    case N_WEST | N_EAST | N_NORTH | N_SOUTH:</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>                        break;</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>                }</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>            }</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>        }</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    } );</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.add_draw_callback( explosion_cb );</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span> </div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    <span class="keywordflow">for</span>( last_layer_it = layers.begin(); last_layer_it != layers.end(); ++last_layer_it ) {</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a7f06b673f9eaa2ed24738e4de3855981">is_layer_visible</a>( *last_layer_it ) ) {</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>            anim.<a class="code hl_function" href="classanonymous__namespace_02animation_8cpp_03_1_1basic__animation.html#aec658b2315fe0a76273c31620085d1f8">progress</a>();</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>        }</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    }</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>}</div>
<div class="ttc" id="aclassanonymous__namespace_02animation_8cpp_03_1_1basic__animation_html_aec658b2315fe0a76273c31620085d1f8"><div class="ttname"><a href="classanonymous__namespace_02animation_8cpp_03_1_1basic__animation.html#aec658b2315fe0a76273c31620085d1f8">anonymous_namespace{animation.cpp}::basic_animation::progress</a></div><div class="ttdeci">void progress() const</div><div class="ttdef"><b>Definition:</b> <a href="animation_8cpp_source.html#l00060">animation.cpp:60</a></div></div>
<div class="ttc" id="aclassanonymous__namespace_02animation_8cpp_03_1_1explosion__animation_html"><div class="ttname"><a href="classanonymous__namespace_02animation_8cpp_03_1_1explosion__animation.html">anonymous_namespace{animation.cpp}::explosion_animation</a></div><div class="ttdef"><b>Definition:</b> <a href="animation_8cpp_source.html#l00072">animation.cpp:73</a></div></div>
<div class="ttc" id="aenums_8h_html_a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b"><div class="ttname"><a href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a></div><div class="ttdeci">@ center</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00316">enums.h:316</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02animation_8cpp_03_html_a7f06b673f9eaa2ed24738e4de3855981"><div class="ttname"><a href="namespaceanonymous__namespace_02animation_8cpp_03.html#a7f06b673f9eaa2ed24738e4de3855981">anonymous_namespace{animation.cpp}::is_layer_visible</a></div><div class="ttdeci">bool is_layer_visible(const std::map&lt; tripoint, explosion_tile &gt; &amp;layer)</div><div class="ttdef"><b>Definition:</b> <a href="animation_8cpp_source.html#l00104">animation.cpp:104</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a929fe85d472028f52d8a5cdfc0d35017"><div class="ttname"><a href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">catacurses::getmaxx</a></div><div class="ttdeci">int getmaxx(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00058">ncurses_def.cpp:58</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_adc81ca40445dc062af12fb6d7a4793d0"><div class="ttname"><a href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">catacurses::getmaxy</a></div><div class="ttdeci">int getmaxy(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00063">ncurses_def.cpp:63</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="enums_8h_source.html#l00316">center</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00058">catacurses::getmaxx()</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00063">catacurses::getmaxy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00301">explosion_handler::draw_custom_explosion()</a>.</p>

</div>
</div>
<a id="a9b0efafac10ab3e71a3cc1bca498c240" name="a9b0efafac10ab3e71a3cc1bca498c240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b0efafac10ab3e71a3cc1bca498c240">&#9670;&nbsp;</a></span>draw_explosion_curses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_explosion_curses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgame.html">game</a> &amp;&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>center</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classnc__color.html">nc_color</a> &amp;&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00124">124</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>{</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="namespaceanonymous__namespace_02animation_8cpp_03.html#ac82c57522200ee34145b4d5598d87157">is_radius_visible</a>( <a class="code hl_enumvalue" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>, r ) ) {</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    }</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="comment">// TODO: Make it look different from above/below</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> p = <a class="code hl_function" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a969b3608caea7d2243aaae720383cbf1">relative_view_pos</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.u, <a class="code hl_enumvalue" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span> </div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    explosion_animation anim;</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span> </div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="keywordtype">int</span> frame = 0;</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <a class="code hl_typedef" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;game::draw_callback_t&gt;</a> explosion_cb =</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    make_shared_fast&lt;game::draw_callback_t&gt;( [&amp;]() {</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>        <span class="keywordflow">if</span>( r == 0 ) {</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>            <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, <a class="code hl_struct" href="structpoint.html">point</a>( p.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a>, p.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> ), col, <span class="charliteral">&#39;*&#39;</span> );</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>        }</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span> </div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 1; i &lt;= frame; ++i ) {</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>            <span class="comment">// corner: top left</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>            <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() + <a class="code hl_struct" href="structpoint.html">point</a>( -i, -i ), col, <span class="charliteral">&#39;/&#39;</span> );</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>            <span class="comment">// corner: top right</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>            <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() + <a class="code hl_struct" href="structpoint.html">point</a>( i, -i ), col, <span class="charliteral">&#39;\\&#39;</span> );</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>            <span class="comment">// corner: bottom left</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>            <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() + <a class="code hl_struct" href="structpoint.html">point</a>( -i, i ), col, <span class="charliteral">&#39;\\&#39;</span> );</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>            <span class="comment">// corner: bottom right</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>            <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() + <a class="code hl_struct" href="structpoint.html">point</a>( i, i ), col, <span class="charliteral">&#39;/&#39;</span> );</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 1 - i; j &lt; 0 + i; j++ ) {</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>                <span class="comment">// edge: top</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>                <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() + <a class="code hl_struct" href="structpoint.html">point</a>( j, -i ), col, <span class="charliteral">&#39;-&#39;</span> );</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>                <span class="comment">// edge: bottom</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>                <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() + <a class="code hl_struct" href="structpoint.html">point</a>( j, i ), col, <span class="charliteral">&#39;-&#39;</span> );</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>                <span class="comment">// edge: left</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>                <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() + <a class="code hl_struct" href="structpoint.html">point</a>( -i, j ), col, <span class="charliteral">&#39;|&#39;</span> );</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>                <span class="comment">// edge: right</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>                <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() + <a class="code hl_struct" href="structpoint.html">point</a>( i, j ), col, <span class="charliteral">&#39;|&#39;</span> );</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>            }</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>        }</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    } );</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.add_draw_callback( explosion_cb );</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span> </div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    <span class="keywordflow">for</span>( frame = 1; frame &lt;= r; ++frame ) {</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>        anim.progress();</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    }</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>}</div>
<div class="ttc" id="anamespaceanonymous__namespace_02animation_8cpp_03_html_a969b3608caea7d2243aaae720383cbf1"><div class="ttname"><a href="namespaceanonymous__namespace_02animation_8cpp_03.html#a969b3608caea7d2243aaae720383cbf1">anonymous_namespace{animation.cpp}::relative_view_pos</a></div><div class="ttdeci">tripoint relative_view_pos(const game &amp;g, const tripoint &amp;p) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="animation_8cpp_source.html#l00119">animation.cpp:119</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02animation_8cpp_03_html_ac82c57522200ee34145b4d5598d87157"><div class="ttname"><a href="namespaceanonymous__namespace_02animation_8cpp_03.html#ac82c57522200ee34145b4d5598d87157">anonymous_namespace{animation.cpp}::is_radius_visible</a></div><div class="ttdeci">bool is_radius_visible(const tripoint &amp;center, int radius)</div><div class="ttdef"><b>Definition:</b> <a href="animation_8cpp_source.html#l00099">animation.cpp:99</a></div></div>
<div class="ttc" id="astructtripoint_html_a89f6c0a16e2bfd7ce4f1f1d20404c4d7"><div class="ttname"><a href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">tripoint::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00151">point.h:151</a></div></div>
<div class="ttc" id="astructtripoint_html_affdc0d5b75024cbfacd208a495def3dc"><div class="ttname"><a href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">tripoint::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00150">point.h:150</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="enums_8h_source.html#l00316">center</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="animation_8cpp_source.html#l00099">is_radius_visible()</a>, <a class="el" href="output_8cpp_source.html#l00477">mvwputch()</a>, <a class="el" href="animation_8cpp_source.html#l00060">anonymous_namespace{animation.cpp}::basic_animation::progress()</a>, <a class="el" href="animation_8cpp_source.html#l00119">relative_view_pos()</a>, <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>, <a class="el" href="point_8h_source.html#l00220">tripoint::xy()</a>, and <a class="el" href="point_8h_source.html#l00151">tripoint::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00294">explosion_handler::draw_explosion()</a>.</p>

</div>
</div>
<a id="a372a99b383ab88c864e045751c5b61b2" name="a372a99b383ab88c864e045751c5b61b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a372a99b383ab88c864e045751c5b61b2">&#9670;&nbsp;</a></span>draw_hit_mon_curses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_hit_mon_curses </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>center</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmonster.html">monster</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>dead</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00544">544</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>{</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>    <a class="code hl_function" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a435db1e54f7dcf9fb3043cbc425fb6ad">hit_animation</a>( u, <a class="code hl_enumvalue" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>, <a class="code hl_function" href="color_8cpp.html#a8c9d398d812c546baae9a55dbfd22d21">red_background</a>( m.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#a6ad4c76593c4cd6423492169733885a1">color</a> ), dead ? <span class="stringliteral">&quot;%&quot;</span> : m.<a class="code hl_function" href="classmonster.html#a75545ec99050815b0c30d93a2152319b">symbol</a>() );</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>}</div>
<div class="ttc" id="aclassmonster_html_a75545ec99050815b0c30d93a2152319b"><div class="ttname"><a href="classmonster.html#a75545ec99050815b0c30d93a2152319b">monster::symbol</a></div><div class="ttdeci">const std::string &amp; symbol() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00821">monster.cpp:821</a></div></div>
<div class="ttc" id="aclassmonster_html_aa30f973bf524ba275ada847f6118b048"><div class="ttname"><a href="classmonster.html#aa30f973bf524ba275ada847f6118b048">monster::type</a></div><div class="ttdeci">const mtype * type</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00478">monster.h:478</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a8c9d398d812c546baae9a55dbfd22d21"><div class="ttname"><a href="color_8cpp.html#a8c9d398d812c546baae9a55dbfd22d21">red_background</a></div><div class="ttdeci">nc_color red_background(const nc_color &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00515">color.cpp:515</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02animation_8cpp_03_html_a435db1e54f7dcf9fb3043cbc425fb6ad"><div class="ttname"><a href="namespaceanonymous__namespace_02animation_8cpp_03.html#a435db1e54f7dcf9fb3043cbc425fb6ad">anonymous_namespace{animation.cpp}::hit_animation</a></div><div class="ttdeci">void hit_animation(const player &amp;u, const tripoint &amp;center, nc_color cColor, const std::string &amp;cTile)</div><div class="ttdef"><b>Definition:</b> <a href="animation_8cpp_source.html#l00521">animation.cpp:521</a></div></div>
<div class="ttc" id="astructmtype_html_a6ad4c76593c4cd6423492169733885a1"><div class="ttname"><a href="structmtype.html#a6ad4c76593c4cd6423492169733885a1">mtype::color</a></div><div class="ttdeci">nc_color color</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00258">mtype.h:258</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="enums_8h_source.html#l00316">center</a>, <a class="el" href="mtype_8h_source.html#l00258">mtype::color</a>, <a class="el" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aaf58e6a506c76fc2c90a7d29cbc631c2f">dead</a>, <a class="el" href="animation_8cpp_source.html#l00521">hit_animation()</a>, <a class="el" href="color_8cpp_source.html#l00515">red_background()</a>, <a class="el" href="monster_8cpp_source.html#l00821">monster::symbol()</a>, and <a class="el" href="monster_8h_source.html#l00478">monster::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00573">game::draw_hit_mon()</a>.</p>

</div>
</div>
<a id="ac2f6a87c38cca440d81f918250de183a" name="ac2f6a87c38cca440d81f918250de183a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2f6a87c38cca440d81f918250de183a">&#9670;&nbsp;</a></span>draw_hit_player_curses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_hit_player_curses </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgame.html">game</a> &amp;&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>dam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00581">581</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>{</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>    <a class="code hl_class" href="classnc__color.html">nc_color</a> <span class="keyword">const</span> col = !dam ? <a class="code hl_function" href="color_8cpp.html#ae0ee2377027b6a971db8f3341ab8be76">yellow_background</a>( p.<a class="code hl_function" href="classCharacter.html#ad00f56641a33efb961a32f1651b83541">symbol_color</a>() ) : <a class="code hl_function" href="color_8cpp.html#a8c9d398d812c546baae9a55dbfd22d21">red_background</a>(</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>                             p.symbol_color() );</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>    <a class="code hl_function" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a435db1e54f7dcf9fb3043cbc425fb6ad">hit_animation</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.u, p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), col, p.<a class="code hl_function" href="classCharacter.html#ad19243d81ad7ecca4e08055128f11f70">symbol</a>() );</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>}</div>
<div class="ttc" id="aclassCharacter_html_ad00f56641a33efb961a32f1651b83541"><div class="ttname"><a href="classCharacter.html#ad00f56641a33efb961a32f1651b83541">Character::symbol_color</a></div><div class="ttdeci">nc_color symbol_color() const override</div><div class="ttdoc">Color's character's tile's background.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06091">character.cpp:6091</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad19243d81ad7ecca4e08055128f11f70"><div class="ttname"><a href="classCharacter.html#ad19243d81ad7ecca4e08055128f11f70">Character::symbol</a></div><div class="ttdeci">const std::string &amp; symbol() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00507">character.cpp:507</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad24859164517ed6e392e21df69527199"><div class="ttname"><a href="classCharacter.html#ad24859164517ed6e392e21df69527199">Character::pos</a></div><div class="ttdeci">const tripoint &amp; pos() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00707">character.cpp:707</a></div></div>
<div class="ttc" id="aclassnc__color_html"><div class="ttname"><a href="classnc__color.html">nc_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00348">color.h:349</a></div></div>
<div class="ttc" id="acolor_8cpp_html_ae0ee2377027b6a971db8f3341ab8be76"><div class="ttname"><a href="color_8cpp.html#ae0ee2377027b6a971db8f3341ab8be76">yellow_background</a></div><div class="ttdeci">nc_color yellow_background(const nc_color &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00533">color.cpp:533</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="animation_8cpp_source.html#l00521">hit_animation()</a>, <a class="el" href="character_8cpp_source.html#l00707">Character::pos()</a>, <a class="el" href="color_8cpp_source.html#l00515">red_background()</a>, <a class="el" href="character_8cpp_source.html#l00507">Character::symbol()</a>, <a class="el" href="character_8cpp_source.html#l06091">Character::symbol_color()</a>, and <a class="el" href="color_8cpp_source.html#l00533">yellow_background()</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00618">game::draw_hit_player()</a>.</p>

</div>
</div>
<a id="a1f369a30d468e3610be549a2020c90eb" name="a1f369a30d468e3610be549a2020c90eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f369a30d468e3610be549a2020c90eb">&#9670;&nbsp;</a></span>draw_line_curses() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_line_curses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgame.html">game</a> &amp;&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>points</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00682">682</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>{</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p : points ) {</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>        here.<a class="code hl_function" href="classmap.html#ad189f4216a9eaacbf9c5aa0ceedaea18">drawsq</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p, <a class="code hl_struct" href="structdrawsq__params.html">drawsq_params</a>().highlight( <span class="keyword">true</span> ) );</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    }</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span> </div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> p = points.empty() ? <a class="code hl_struct" href="structtripoint.html">tripoint</a> {<a class="code hl_variable" href="output_8cpp.html#a852bcaf15ef9b08c80dfa899078baa3d">POSX</a>, <a class="code hl_variable" href="output_8cpp.html#ab911c8aec787739bcd40d1d3d620ad44">POSY</a>, 0} :</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>                       <a class="code hl_function" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a969b3608caea7d2243aaae720383cbf1">relative_view_pos</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.u, points.back() );</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>    <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>(), <a class="code hl_define" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <span class="charliteral">&#39;X&#39;</span> );</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>}</div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00371">map.h:372</a></div></div>
<div class="ttc" id="aclassmap_html_ad189f4216a9eaacbf9c5aa0ceedaea18"><div class="ttname"><a href="classmap.html#ad189f4216a9eaacbf9c5aa0ceedaea18">map::drawsq</a></div><div class="ttdeci">void drawsq(const catacurses::window &amp;w, const tripoint &amp;p, const drawsq_params &amp;params) const</div><div class="ttdoc">Draw the map tile at the given coordinate.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05818">map.cpp:5818</a></div></div>
<div class="ttc" id="acolor_8h_html_a0d06dc49b9761bbc54607397213728bb"><div class="ttname"><a href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a></div><div class="ttdeci">#define c_white</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00018">color.h:18</a></div></div>
<div class="ttc" id="amap_8cpp_html_acb0b34be6e497bdd2f9f40ae6929d562"><div class="ttname"><a href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00141">map.cpp:141</a></div></div>
<div class="ttc" id="astructdrawsq__params_html"><div class="ttname"><a href="structdrawsq__params.html">drawsq_params</a></div><div class="ttdoc">Draw parameters used by map::drawsq() and similar methods.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00176">map.h:176</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="color_8h_source.html#l00018">c_white</a>, <a class="el" href="map_8cpp_source.html#l05818">map::drawsq()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="map_8cpp_source.html#l00141">get_map()</a>, <a class="el" href="output_8cpp_source.html#l00477">mvwputch()</a>, <a class="el" href="output_8cpp_source.html#l00049">POSX</a>, <a class="el" href="output_8cpp_source.html#l00050">POSY</a>, <a class="el" href="animation_8cpp_source.html#l00119">relative_view_pos()</a>, and <a class="el" href="point_8h_source.html#l00220">tripoint::xy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00669">game::draw_line()</a>.</p>

</div>
</div>
<a id="a29da75b2e4c59316b658df853b6dc446" name="a29da75b2e4c59316b658df853b6dc446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29da75b2e4c59316b658df853b6dc446">&#9670;&nbsp;</a></span>draw_line_curses() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_line_curses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgame.html">game</a> &amp;&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>center</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>noreveal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00627">627</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>{</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>    <a class="code hl_struct" href="structdrawsq__params.html">drawsq_params</a> params = <a class="code hl_struct" href="structdrawsq__params.html">drawsq_params</a>().<a class="code hl_function" href="structdrawsq__params.html#a07e0031d80c902338e81e0625215c8ee">highlight</a>( <span class="keyword">true</span> ).<a class="code hl_function" href="structdrawsq__params.html#a62c9449e7c7cf3d1a7828e2c65100ac8">center</a>( <a class="code hl_enumvalue" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p : <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> ) {</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>        <span class="keyword">const</span> <span class="keyword">auto</span> critter = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.critter_at( p, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span> </div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>        <span class="comment">// NPCs and monsters get drawn with inverted colors</span></div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>        <span class="keywordflow">if</span>( critter &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.u.sees( *critter ) ) {</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>            critter-&gt;draw( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, <a class="code hl_enumvalue" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( noreveal &amp;&amp; !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.u.sees( p ) ) {</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>            <span class="comment">// Draw a meaningless symbol. Avoids revealing tile, but keeps feedback</span></div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> sym = <span class="charliteral">&#39;?&#39;</span>;</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>            <span class="keyword">const</span> <a class="code hl_class" href="classnc__color.html">nc_color</a> col = <a class="code hl_define" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>;</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>            <span class="keyword">const</span> <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain;</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> k = p.x + <a class="code hl_function" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ) / 2 - <a class="code hl_enumvalue" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.x;</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> j = p.y + <a class="code hl_function" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( w ) / 2 - <a class="code hl_enumvalue" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.y;</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>            <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code hl_struct" href="structpoint.html">point</a>( k, j ), col, sym );</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>            <span class="comment">// This function reveals tile at p and writes it to the player&#39;s memory</span></div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>            <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().<a class="code hl_function" href="classmap.html#ad189f4216a9eaacbf9c5aa0ceedaea18">drawsq</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, p, params );</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>        }</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>    }</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>}</div>
<div class="ttc" id="aclasscatacurses_1_1window_html"><div class="ttname"><a href="classcatacurses_1_1window.html">catacurses::window</a></div><div class="ttdoc">A wrapper over a pointer to a curses window.</div><div class="ttdef"><b>Definition:</b> <a href="cursesdef_8h_source.html#l00054">cursesdef.h:55</a></div></div>
<div class="ttc" id="acolor_8h_html_a5738d18ff9e165cca088a623cb1883ae"><div class="ttname"><a href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a></div><div class="ttdeci">#define c_dark_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00020">color.h:20</a></div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00097">hash_utils.h:97</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_a07e0031d80c902338e81e0625215c8ee"><div class="ttname"><a href="structdrawsq__params.html#a07e0031d80c902338e81e0625215c8ee">drawsq_params::highlight</a></div><div class="ttdeci">constexpr drawsq_params &amp; highlight(bool v)</div><div class="ttdoc">Highlight the tile.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00194">map.h:194</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_a62c9449e7c7cf3d1a7828e2c65100ac8"><div class="ttname"><a href="structdrawsq__params.html#a62c9449e7c7cf3d1a7828e2c65100ac8">drawsq_params::center</a></div><div class="ttdeci">constexpr drawsq_params &amp; center(const tripoint &amp;p)</div><div class="ttdoc">Set view center.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00279">map.h:279</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="color_8h_source.html#l00020">c_dark_gray</a>, <a class="el" href="enums_8h_source.html#l00316">center</a>, <a class="el" href="map_8h_source.html#l00279">drawsq_params::center()</a>, <a class="el" href="map_8cpp_source.html#l05818">map::drawsq()</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="map_8cpp_source.html#l00141">get_map()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00058">catacurses::getmaxx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00063">catacurses::getmaxy()</a>, <a class="el" href="map_8h_source.html#l00194">drawsq_params::highlight()</a>, <a class="el" href="output_8cpp_source.html#l00477">mvwputch()</a>, and <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>.</p>

</div>
</div>
<a id="a271a2d2b71ba0e37131ddeee69aee517" name="a271a2d2b71ba0e37131ddeee69aee517"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a271a2d2b71ba0e37131ddeee69aee517">&#9670;&nbsp;</a></span>draw_sct_curses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_sct_curses </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgame.html">game</a> &amp;&#160;</td>
          <td class="paramname"><em>g</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00764">764</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>{</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> off = <a class="code hl_function" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a969b3608caea7d2243aaae720383cbf1">relative_view_pos</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.u, <a class="code hl_variable" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a> );</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span> </div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;text : <a class="code hl_variable" href="output_8cpp.html#ac8f1d6275ee49732d8988e5e671b1776">SCT</a>.<a class="code hl_variable" href="classscrollingcombattext.html#a01ace3538aa0d57253df538dd7723343">vSCT</a> ) {</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> dy = off.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> + text.getPosY();</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> dx = off.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> + text.getPosX();</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span> </div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="game_8cpp.html#a541d90b15c3e7b433927c44e01e5a48f">is_valid_in_w_terrain</a>( <a class="code hl_struct" href="structpoint.html">point</a>( dx, dy ) ) ) {</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>        }</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span> </div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_old = text.getStep() &gt;= <a class="code hl_variable" href="output_8cpp.html#ac8f1d6275ee49732d8988e5e671b1776">SCT</a>.<a class="code hl_enumvalue" href="classscrollingcombattext.html#aaf1f6d9e6ace308d25c0d29df454059baba005cccb901543ab7ccfdd1a05d4d67">iMaxSteps</a> / 2;</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span> </div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>        <a class="code hl_class" href="classnc__color.html">nc_color</a> <span class="keyword">const</span> col1 = <a class="code hl_function" href="output_8cpp.html#afd01233212502346122ff9651f80e970">msgtype_to_color</a>( text.getMsgType( <span class="stringliteral">&quot;first&quot;</span> ),  is_old );</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>        <a class="code hl_class" href="classnc__color.html">nc_color</a> <span class="keyword">const</span> col2 = <a class="code hl_function" href="output_8cpp.html#afd01233212502346122ff9651f80e970">msgtype_to_color</a>( text.getMsgType( <span class="stringliteral">&quot;second&quot;</span> ), is_old );</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span> </div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>        <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, <a class="code hl_struct" href="structpoint.html">point</a>( dx, dy ), col1, text.getText( <span class="stringliteral">&quot;first&quot;</span> ) );</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>        <a class="code hl_function" href="output_8cpp.html#aedec608a42edd33ec812f7769a9ed0c9">wprintz</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.w_terrain, col2, text.getText( <span class="stringliteral">&quot;second&quot;</span> ) );</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>    }</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>}</div>
<div class="ttc" id="aclassscrollingcombattext_html_a01ace3538aa0d57253df538dd7723343"><div class="ttname"><a href="classscrollingcombattext.html#a01ace3538aa0d57253df538dd7723343">scrollingcombattext::vSCT</a></div><div class="ttdeci">std::vector&lt; cSCT &gt; vSCT</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00947">output.h:947</a></div></div>
<div class="ttc" id="aclassscrollingcombattext_html_aaf1f6d9e6ace308d25c0d29df454059baba005cccb901543ab7ccfdd1a05d4d67"><div class="ttname"><a href="classscrollingcombattext.html#aaf1f6d9e6ace308d25c0d29df454059baba005cccb901543ab7ccfdd1a05d4d67">scrollingcombattext::iMaxSteps</a></div><div class="ttdeci">@ iMaxSteps</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00884">output.h:884</a></div></div>
<div class="ttc" id="agame_8cpp_html_a541d90b15c3e7b433927c44e01e5a48f"><div class="ttname"><a href="game_8cpp.html#a541d90b15c3e7b433927c44e01e5a48f">is_valid_in_w_terrain</a></div><div class="ttdeci">bool is_valid_in_w_terrain(const point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00272">game.cpp:272</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1184e3eda011b110d09bf2dcf08228f5"><div class="ttname"><a href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a></div><div class="ttdeci">void mvwprintz(const catacurses::window &amp;w, const point &amp;p, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l02035">output.cpp:2035</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ac8f1d6275ee49732d8988e5e671b1776"><div class="ttname"><a href="output_8cpp.html#ac8f1d6275ee49732d8988e5e671b1776">SCT</a></div><div class="ttdeci">scrollingcombattext SCT</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00065">output.cpp:65</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_aedec608a42edd33ec812f7769a9ed0c9"><div class="ttname"><a href="output_8cpp.html#aedec608a42edd33ec812f7769a9ed0c9">wprintz</a></div><div class="ttdeci">void wprintz(const catacurses::window &amp;w, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l02043">output.cpp:2043</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afd01233212502346122ff9651f80e970"><div class="ttname"><a href="output_8cpp.html#afd01233212502346122ff9651f80e970">msgtype_to_color</a></div><div class="ttdeci">nc_color msgtype_to_color(const game_message_type type, const bool bOldMsg)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01948">output.cpp:1948</a></div></div>
<div class="ttc" id="apoint_8h_html_a4b1a6bcaa42d2c06ecc3afc63305bfdf"><div class="ttname"><a href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></div><div class="ttdeci">static constexpr tripoint tripoint_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00273">point.h:273</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="output_8h_source.html#l00884">scrollingcombattext::iMaxSteps</a>, <a class="el" href="game_8cpp_source.html#l00272">is_valid_in_w_terrain()</a>, <a class="el" href="output_8cpp_source.html#l01948">msgtype_to_color()</a>, <a class="el" href="output_8cpp_source.html#l02035">mvwprintz()</a>, <a class="el" href="animation_8cpp_source.html#l00119">relative_view_pos()</a>, <a class="el" href="output_8cpp_source.html#l00065">SCT</a>, <a class="el" href="point_8h_source.html#l00273">tripoint_zero</a>, <a class="el" href="output_8h_source.html#l00947">scrollingcombattext::vSCT</a>, <a class="el" href="output_8cpp_source.html#l02043">wprintz()</a>, <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>, and <a class="el" href="point_8h_source.html#l00151">tripoint::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00797">game::draw_sct()</a>.</p>

</div>
</div>
<a id="a54bd42df50120a0f2d37b8e104db87d4" name="a54bd42df50120a0f2d37b8e104db87d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54bd42df50120a0f2d37b8e104db87d4">&#9670;&nbsp;</a></span>draw_weather_curses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_weather_curses </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>win</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structweather__printable.html">weather_printable</a> &amp;&#160;</td>
          <td class="paramname"><em>w</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00737">737</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>{</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;drop : w.<a class="code hl_variable" href="structweather__printable.html#a16fe5f5120468c33aba9440a99d7aa04">vdrops</a> ) {</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>        <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( win, <a class="code hl_struct" href="structpoint.html">point</a>( drop.first, drop.second ), w.<a class="code hl_variable" href="structweather__printable.html#a14f0e28a253a88e076cb316a037c5165">colGlyph</a>, w.<a class="code hl_function" href="structweather__printable.html#a29ee80f4c7fa13eca0cf70b0685474d0">get_symbol</a>() );</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>    }</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>}</div>
<div class="ttc" id="astructweather__printable_html_a14f0e28a253a88e076cb316a037c5165"><div class="ttname"><a href="structweather__printable.html#a14f0e28a253a88e076cb316a037c5165">weather_printable::colGlyph</a></div><div class="ttdeci">nc_color colGlyph</div><div class="ttdoc">Glyph to draw this animation frame.</div><div class="ttdef"><b>Definition:</b> <a href="weather_8h_source.html#l00065">weather.h:65</a></div></div>
<div class="ttc" id="astructweather__printable_html_a16fe5f5120468c33aba9440a99d7aa04"><div class="ttname"><a href="structweather__printable.html#a16fe5f5120468c33aba9440a99d7aa04">weather_printable::vdrops</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; int, int &gt; &gt; vdrops</div><div class="ttdoc">Color to draw glyph this animation frame.</div><div class="ttdef"><b>Definition:</b> <a href="weather_8h_source.html#l00063">weather.h:63</a></div></div>
<div class="ttc" id="astructweather__printable_html_a29ee80f4c7fa13eca0cf70b0685474d0"><div class="ttname"><a href="structweather__printable.html#a29ee80f4c7fa13eca0cf70b0685474d0">weather_printable::get_symbol</a></div><div class="ttdeci">std::string get_symbol() const</div><div class="ttdef"><b>Definition:</b> <a href="weather_8h_source.html#l00068">weather.h:68</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="weather_8h_source.html#l00065">weather_printable::colGlyph</a>, <a class="el" href="weather_8h_source.html#l00068">weather_printable::get_symbol()</a>, <a class="el" href="output_8cpp_source.html#l00477">mvwputch()</a>, and <a class="el" href="weather_8h_source.html#l00063">weather_printable::vdrops</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00756">game::draw_weather()</a>.</p>

</div>
</div>
<a id="a87af8ceec56e11835b1772a19ee7cf6c" name="a87af8ceec56e11835b1772a19ee7cf6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87af8ceec56e11835b1772a19ee7cf6c">&#9670;&nbsp;</a></span>draw_zones_curses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::draw_zones_curses </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00805">805</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>{</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>    <span class="keywordflow">if</span>( end.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> &lt; start.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> || end.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> &lt; start.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> || end.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> &lt; start.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) {</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>    }</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span> </div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>    <a class="code hl_class" href="classnc__color.html">nc_color</a>    <span class="keyword">const</span> col = <a class="code hl_function" href="color_8cpp.html#a4306eceb07389bb063f39894f4af0503">invert_color</a>( <a class="code hl_define" href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a> );</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>    <span class="keyword">const</span> std::string <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a>( end.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> - start.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> + 1, <span class="charliteral">&#39;~&#39;</span> );</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>    <span class="keywordtype">int</span>         <span class="keyword">const</span> x = start.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> - offset.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a>;</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span> </div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> y = start.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a>; y &lt;= end.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a>; ++y ) {</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>        <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w, <a class="code hl_struct" href="structpoint.html">point</a>( x, y - offset.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> ), col, <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> );</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>    }</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>}</div>
<div class="ttc" id="acolor_8cpp_html_a4306eceb07389bb063f39894f4af0503"><div class="ttname"><a href="color_8cpp.html#a4306eceb07389bb063f39894f4af0503">invert_color</a></div><div class="ttdeci">nc_color invert_color(const nc_color &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00503">color.cpp:503</a></div></div>
<div class="ttc" id="acolor_8h_html_a2236aa1fe66b707a104f19ad45c23230"><div class="ttname"><a href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a></div><div class="ttdeci">#define c_light_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00028">color.h:28</a></div></div>
<div class="ttc" id="amapgen_8cpp_html_a90f1f53dc044e93e7f7f9314cef1bd45"><div class="ttname"><a href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a></div><div class="ttdeci">void line(map *m, const ter_id &amp;type, const point &amp;p1, const point &amp;p2)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l06454">mapgen.cpp:6454</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="color_8h_source.html#l00028">c_light_green</a>, <a class="el" href="color_8cpp_source.html#l00503">invert_color()</a>, <a class="el" href="mapgen_8cpp_source.html#l06454">line()</a>, <a class="el" href="output_8cpp_source.html#l02035">mvwprintz()</a>, <a class="el" href="point_8h_source.html#l00150">tripoint::x</a>, <a class="el" href="point_8h_source.html#l00151">tripoint::y</a>, and <a class="el" href="point_8h_source.html#l00152">tripoint::z</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00832">game::draw_zones()</a>.</p>

</div>
</div>
<a id="a435db1e54f7dcf9fb3043cbc425fb6ad" name="a435db1e54f7dcf9fb3043cbc425fb6ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a435db1e54f7dcf9fb3043cbc425fb6ad">&#9670;&nbsp;</a></span>hit_animation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{animation.cpp}::hit_animation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>center</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classnc__color.html">nc_color</a>&#160;</td>
          <td class="paramname"><em>cColor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>cTile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00521">521</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>{</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> init_pos = <a class="code hl_function" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a969b3608caea7d2243aaae720383cbf1">relative_view_pos</a>( u, <a class="code hl_enumvalue" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>    <span class="comment">// Only show animation if initially visible</span></div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>    <span class="keywordflow">if</span>( init_pos.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> == 0 &amp;&amp; <a class="code hl_function" href="game_8cpp.html#a541d90b15c3e7b433927c44e01e5a48f">is_valid_in_w_terrain</a>( init_pos.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() ) ) {</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>        <a class="code hl_typedef" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;game::draw_callback_t&gt;</a> hit_cb = make_shared_fast&lt;game::draw_callback_t&gt;( [&amp;]() {</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>            <span class="comment">// In case the window is resized during waiting, we always re-calculate the animation position</span></div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> pos = <a class="code hl_function" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a969b3608caea7d2243aaae720383cbf1">relative_view_pos</a>( u, <a class="code hl_enumvalue" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>            <span class="keywordflow">if</span>( pos.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> == 0 &amp;&amp; <a class="code hl_function" href="game_8cpp.html#a541d90b15c3e7b433927c44e01e5a48f">is_valid_in_w_terrain</a>( pos.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() ) ) {</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>                <a class="code hl_function" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;w_terrain, pos.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>(), cColor, cTile );</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>            }</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>        } );</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;add_draw_callback( hit_cb );</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span> </div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>        <a class="code hl_function" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>        <a class="code hl_variable" href="input_8cpp.html#af16c50890fa8503efa899fc3b6de56d7">inp_mngr</a>.<a class="code hl_function" href="classinput__manager.html#a71fe921eef2db73b8a665a187eb7e526">set_timeout</a>( get_option&lt;int&gt;( <span class="stringliteral">&quot;ANIMATION_DELAY&quot;</span> ) );</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>        <span class="comment">// Skip input (if any), because holding down a key with nanosleep can get yourself killed</span></div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>        <a class="code hl_variable" href="input_8cpp.html#af16c50890fa8503efa899fc3b6de56d7">inp_mngr</a>.<a class="code hl_function" href="classinput__manager.html#ad550fec9aad772e44f497bf29f845739">get_input_event</a>();</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>        <a class="code hl_variable" href="input_8cpp.html#af16c50890fa8503efa899fc3b6de56d7">inp_mngr</a>.<a class="code hl_function" href="classinput__manager.html#a50b6cecac4efcad8792187f159c953f9">reset_timeout</a>();</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    }</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>}</div>
<div class="ttc" id="aclassinput__manager_html_a50b6cecac4efcad8792187f159c953f9"><div class="ttname"><a href="classinput__manager.html#a50b6cecac4efcad8792187f159c953f9">input_manager::reset_timeout</a></div><div class="ttdeci">void reset_timeout()</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00291">input.h:291</a></div></div>
<div class="ttc" id="aclassinput__manager_html_a71fe921eef2db73b8a665a187eb7e526"><div class="ttname"><a href="classinput__manager.html#a71fe921eef2db73b8a665a187eb7e526">input_manager::set_timeout</a></div><div class="ttdeci">void set_timeout(int t)</div><div class="ttdoc">Sets global input polling timeout as appropriate for the current interface system.</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00349">ncurses_def.cpp:349</a></div></div>
<div class="ttc" id="aclassinput__manager_html_ad550fec9aad772e44f497bf29f845739"><div class="ttname"><a href="classinput__manager.html#ad550fec9aad772e44f497bf29f845739">input_manager::get_input_event</a></div><div class="ttdeci">input_event get_input_event()</div><div class="ttdoc">curses getch() replacement.</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00251">ncurses_def.cpp:251</a></div></div>
<div class="ttc" id="ainput_8cpp_html_af16c50890fa8503efa899fc3b6de56d7"><div class="ttname"><a href="input_8cpp.html#af16c50890fa8503efa899fc3b6de56d7">inp_mngr</a></div><div class="ttdeci">input_manager inp_mngr</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00109">input.cpp:109</a></div></div>
<div class="ttc" id="anamespaceui__manager_html_ae38f3a918052ef286ee60daac47f52d4"><div class="ttname"><a href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a></div><div class="ttdeci">void redraw()</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00285">ui_manager.cpp:285</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="enums_8h_source.html#l00316">center</a>, <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00251">input_manager::get_input_event()</a>, <a class="el" href="input_8cpp_source.html#l00109">inp_mngr</a>, <a class="el" href="game_8cpp_source.html#l00272">is_valid_in_w_terrain()</a>, <a class="el" href="output_8cpp_source.html#l02035">mvwprintz()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00285">ui_manager::redraw()</a>, <a class="el" href="animation_8cpp_source.html#l00119">relative_view_pos()</a>, <a class="el" href="input_8h_source.html#l00291">input_manager::reset_timeout()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00349">input_manager::set_timeout()</a>, <a class="el" href="point_8h_source.html#l00220">tripoint::xy()</a>, and <a class="el" href="point_8h_source.html#l00152">tripoint::z</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00544">draw_hit_mon_curses()</a>, and <a class="el" href="animation_8cpp_source.html#l00581">draw_hit_player_curses()</a>.</p>

</div>
</div>
<a id="a7f06b673f9eaa2ed24738e4de3855981" name="a7f06b673f9eaa2ed24738e4de3855981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f06b673f9eaa2ed24738e4de3855981">&#9670;&nbsp;</a></span>is_layer_visible()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool anonymous_namespace{animation.cpp}::is_layer_visible </td>
          <td>(</td>
          <td class="paramtype">const std::map&lt; <a class="el" href="structtripoint.html">tripoint</a>, <a class="el" href="structexplosion__tile.html">explosion_tile</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>layer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00104">104</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>{</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    <span class="keywordflow">return</span> std::any_of( layer.begin(), layer.end(),</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    []( <span class="keyword">const</span> std::pair&lt;tripoint, explosion_tile&gt; &amp;element ) {</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>        return is_point_visible( element.first );</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    } );</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00301">explosion_handler::draw_custom_explosion()</a>.</p>

</div>
</div>
<a id="a9d3fbd2d49b9955d5e302a03994eaacd" name="a9d3fbd2d49b9955d5e302a03994eaacd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d3fbd2d49b9955d5e302a03994eaacd">&#9670;&nbsp;</a></span>is_point_visible()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool anonymous_namespace{animation.cpp}::is_point_visible </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>margin</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00094">94</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>{</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_in_viewport( p, margin ) &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( p );</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00267">g</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00451">draw_bullet_curses()</a>, and <a class="el" href="animation_8cpp_source.html#l00099">is_radius_visible()</a>.</p>

</div>
</div>
<a id="ac82c57522200ee34145b4d5598d87157" name="ac82c57522200ee34145b4d5598d87157"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac82c57522200ee34145b4d5598d87157">&#9670;&nbsp;</a></span>is_radius_visible()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool anonymous_namespace{animation.cpp}::is_radius_visible </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>center</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>radius</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00099">99</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>{</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespaceanonymous__namespace_02animation_8cpp_03.html#a9d3fbd2d49b9955d5e302a03994eaacd">is_point_visible</a>( <a class="code hl_enumvalue" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>, -radius );</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="enums_8h_source.html#l00316">center</a>, and <a class="el" href="animation_8cpp_source.html#l00094">is_point_visible()</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00124">draw_explosion_curses()</a>.</p>

</div>
</div>
<a id="a2c245e53b1d717bd30afc1629532bd05" name="a2c245e53b1d717bd30afc1629532bd05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c245e53b1d717bd30afc1629532bd05">&#9670;&nbsp;</a></span>operator^()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a> anonymous_namespace{animation.cpp}::operator^ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a>&#160;</td>
          <td class="paramname"><em>lhs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a>&#160;</td>
          <td class="paramname"><em>rhs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00175">175</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>{</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a><span class="keyword">&gt;</span>( <span class="keyword">static_cast&lt;</span> <span class="keywordtype">int</span> <span class="keyword">&gt;</span>( lhs ) ^ <span class="keyword">static_cast&lt;</span> <span class="keywordtype">int</span> <span class="keyword">&gt;</span>( rhs ) );</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>}</div>
<div class="ttc" id="aanimation_8h_html_a45cb12f33098d8a53ed80ed4db49e340"><div class="ttname"><a href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a></div><div class="ttdeci">explosion_neighbors</div><div class="ttdef"><b>Definition:</b> <a href="animation_8h_source.html#l00012">animation.h:12</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a98dee93c997ae0c4a02d0f35206866e1" name="a98dee93c997ae0c4a02d0f35206866e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98dee93c997ae0c4a02d0f35206866e1">&#9670;&nbsp;</a></span>operator|()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a> anonymous_namespace{animation.cpp}::operator| </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a>&#160;</td>
          <td class="paramname"><em>lhs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a>&#160;</td>
          <td class="paramname"><em>rhs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00170">170</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>{</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="animation_8h.html#a45cb12f33098d8a53ed80ed4db49e340">explosion_neighbors</a><span class="keyword">&gt;</span>( <span class="keyword">static_cast&lt;</span> <span class="keywordtype">int</span> <span class="keyword">&gt;</span>( lhs ) | <span class="keyword">static_cast&lt;</span> <span class="keywordtype">int</span> <span class="keyword">&gt;</span>( rhs ) );</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a969b3608caea7d2243aaae720383cbf1" name="a969b3608caea7d2243aaae720383cbf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a969b3608caea7d2243aaae720383cbf1">&#9670;&nbsp;</a></span>relative_view_pos() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtripoint.html">tripoint</a> anonymous_namespace{animation.cpp}::relative_view_pos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgame.html">game</a> &amp;&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00119">119</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>{</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <span class="keywordflow">return</span> p - <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.ter_view_p + <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_variable" href="output_8cpp.html#a852bcaf15ef9b08c80dfa899078baa3d">POSX</a>, <a class="code hl_variable" href="output_8cpp.html#ab911c8aec787739bcd40d1d3d620ad44">POSY</a> );</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00267">g</a>, <a class="el" href="output_8cpp_source.html#l00049">POSX</a>, and <a class="el" href="output_8cpp_source.html#l00050">POSY</a>.</p>

<p class="reference">Referenced by <a class="el" href="animation_8cpp_source.html#l00716">game::draw_cursor()</a>, <a class="el" href="animation_8cpp_source.html#l00301">explosion_handler::draw_custom_explosion()</a>, <a class="el" href="animation_8cpp_source.html#l00124">draw_explosion_curses()</a>, <a class="el" href="animation_8cpp_source.html#l00682">draw_line_curses()</a>, <a class="el" href="animation_8cpp_source.html#l00764">draw_sct_curses()</a>, and <a class="el" href="animation_8cpp_source.html#l00521">hit_animation()</a>.</p>

</div>
</div>
<a id="ae4475da76d1c26e5b891f4b57277b598" name="ae4475da76d1c26e5b891f4b57277b598"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4475da76d1c26e5b891f4b57277b598">&#9670;&nbsp;</a></span>relative_view_pos() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtripoint.html">tripoint</a> anonymous_namespace{animation.cpp}::relative_view_pos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="animation_8cpp_source.html#l00113">113</a> of file <a class="el" href="animation_8cpp_source.html">animation.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>{</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <span class="keywordflow">return</span> p - ( u.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() + u.<a class="code hl_variable" href="classplayer.html#a625b6dd5247589902251e845d07a2154">view_offset</a> ) + <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_variable" href="output_8cpp.html#a852bcaf15ef9b08c80dfa899078baa3d">POSX</a>, <a class="code hl_variable" href="output_8cpp.html#ab911c8aec787739bcd40d1d3d620ad44">POSY</a> );</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>}</div>
<div class="ttc" id="aclassplayer_html_a625b6dd5247589902251e845d07a2154"><div class="ttname"><a href="classplayer.html#a625b6dd5247589902251e845d07a2154">player::view_offset</a></div><div class="ttdeci">tripoint view_offset</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00681">player.h:681</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="output_8cpp_source.html#l00049">POSX</a>, and <a class="el" href="output_8cpp_source.html#l00050">POSY</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceanonymous__namespace_02animation_8cpp_03.html">anonymous_namespace{animation.cpp}</a></li>
    <li class="footer">Generated on Sat Nov 12 2022 15:16:05 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
