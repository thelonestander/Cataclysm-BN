<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: talk_trial Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('structtalk__trial.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structtalk__trial-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">talk_trial Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>If not TALK_TRIAL_NONE, it defines how to decide whether the responses succeeds (e.g.  
 <a href="structtalk__trial.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dialogue_8h_source.html">dialogue.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a18e35838a09c8fe6c706c68399198422"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtalk__trial.html#a18e35838a09c8fe6c706c68399198422">calc_chance</a> (const <a class="el" href="structdialogue.html">dialogue</a> &amp;d) const</td></tr>
<tr class="separator:a18e35838a09c8fe6c706c68399198422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69873ec2e42fb15bbd2d2944cb266f37"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtalk__trial.html#a69873ec2e42fb15bbd2d2944cb266f37">name</a> () const</td></tr>
<tr class="memdesc:a69873ec2e42fb15bbd2d2944cb266f37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a user-friendly representation of <a class="el" href="structtalk__trial.html#a3e3b199420567f6ac7d69137d741e740">type</a>.  <a href="structtalk__trial.html#a69873ec2e42fb15bbd2d2944cb266f37">More...</a><br /></td></tr>
<tr class="separator:a69873ec2e42fb15bbd2d2944cb266f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bb996c2d6adc3ac181f44291ba31639"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtalk__trial.html#a0bb996c2d6adc3ac181f44291ba31639">operator bool</a> () const</td></tr>
<tr class="separator:a0bb996c2d6adc3ac181f44291ba31639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e9846caf634471cac79d911ae9d9177"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtalk__trial.html#a8e9846caf634471cac79d911ae9d9177">roll</a> (<a class="el" href="structdialogue.html">dialogue</a> &amp;d) const</td></tr>
<tr class="memdesc:a8e9846caf634471cac79d911ae9d9177"><td class="mdescLeft">&#160;</td><td class="mdescRight">Roll for success or failure of this trial.  <a href="structtalk__trial.html#a8e9846caf634471cac79d911ae9d9177">More...</a><br /></td></tr>
<tr class="separator:a8e9846caf634471cac79d911ae9d9177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1343fed60f5982eabb0a72c4b21cbf9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtalk__trial.html#ab1343fed60f5982eabb0a72c4b21cbf9">talk_trial</a> ()=default</td></tr>
<tr class="separator:ab1343fed60f5982eabb0a72c4b21cbf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1a793ac8bb7e8252d7aebc8e4080314"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtalk__trial.html#ad1a793ac8bb7e8252d7aebc8e4080314">talk_trial</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;)</td></tr>
<tr class="separator:ad1a793ac8bb7e8252d7aebc8e4080314"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a3e3b199420567f6ac7d69137d741e740"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dialogue_8h.html#a16887758465982f757c27730065bfd9a">talk_trial_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtalk__trial.html#a3e3b199420567f6ac7d69137d741e740">type</a> = <a class="el" href="dialogue_8h.html#a16887758465982f757c27730065bfd9aa9c2d2db9d7aa60b33a07e54ae6e0e2dc">TALK_TRIAL_NONE</a></td></tr>
<tr class="separator:a3e3b199420567f6ac7d69137d741e740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bea935282a6f93162a7050d18bf992e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtalk__trial.html#a1bea935282a6f93162a7050d18bf992e">difficulty</a> = 0</td></tr>
<tr class="separator:a1bea935282a6f93162a7050d18bf992e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab977ca6b839c86d10c3012a2a982b54c"><td class="memItemLeft" align="right" valign="top">std::function&lt; bool(const <a class="el" href="structdialogue.html">dialogue</a> &amp;)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtalk__trial.html#ab977ca6b839c86d10c3012a2a982b54c">condition</a></td></tr>
<tr class="separator:ab977ca6b839c86d10c3012a2a982b54c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd332d53d67013befb0bd90548af7684"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="dialogue_8h.html#a71377f676c10f31d05ba78a9331980b6">trial_mod</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtalk__trial.html#afd332d53d67013befb0bd90548af7684">modifiers</a></td></tr>
<tr class="separator:afd332d53d67013befb0bd90548af7684"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >If not TALK_TRIAL_NONE, it defines how to decide whether the responses succeeds (e.g. </p>
<p >the NPC believes the lie). The difficulty is a 0...100 percent chance of success (!), 100 means always success, 0 means never. It is however affected by mutations/traits/bionics/etc. of the player character. </p>

<p class="definition">Definition at line <a class="el" href="dialogue_8h_source.html#l00050">50</a> of file <a class="el" href="dialogue_8h_source.html">dialogue.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab1343fed60f5982eabb0a72c4b21cbf9" name="ab1343fed60f5982eabb0a72c4b21cbf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1343fed60f5982eabb0a72c4b21cbf9">&#9670;&nbsp;</a></span>talk_trial() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">talk_trial::talk_trial </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad1a793ac8bb7e8252d7aebc8e4080314" name="ad1a793ac8bb7e8252d7aebc8e4080314"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1a793ac8bb7e8252d7aebc8e4080314">&#9670;&nbsp;</a></span>talk_trial() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">talk_trial::talk_trial </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>jo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01847">1847</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>{</div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::unordered_map&lt;std::string, talk_trial_type&gt; types_map = { {</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span><span class="preprocessor">#define WRAP(value) { #value, TALK_TRIAL_##value }</span></div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>            <a class="code hl_define" href="npctalk_8cpp.html#a0aade5ead77b80032af2a15aaa43c7ab">WRAP</a>( <a class="code hl_enumvalue" href="bonuses_8h.html#a8a71e4c938813e7a3a838701482dd3a3ab50339a10e1de285ac99d4c3990b8693">NONE</a> ),</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>            <a class="code hl_define" href="npctalk_8cpp.html#a0aade5ead77b80032af2a15aaa43c7ab">WRAP</a>( LIE ),</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>            <a class="code hl_define" href="npctalk_8cpp.html#a0aade5ead77b80032af2a15aaa43c7ab">WRAP</a>( PERSUADE ),</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>            <a class="code hl_define" href="npctalk_8cpp.html#a0aade5ead77b80032af2a15aaa43c7ab">WRAP</a>( INTIMIDATE ),</div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>            <a class="code hl_define" href="npctalk_8cpp.html#a0aade5ead77b80032af2a15aaa43c7ab">WRAP</a>( CONDITION )</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span><span class="preprocessor">#undef WRAP</span></div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>        }</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>    };</div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>    <span class="keyword">const</span> <span class="keyword">auto</span> iter = types_map.find( jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;type&quot;</span>, <span class="stringliteral">&quot;NONE&quot;</span> ) );</div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>    <span class="keywordflow">if</span>( iter == types_map.end() ) {</div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>        jo.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <span class="stringliteral">&quot;invalid talk trial type&quot;</span>, <span class="stringliteral">&quot;type&quot;</span> );</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span>    }</div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>    <a class="code hl_variable" href="structtalk__trial.html#a3e3b199420567f6ac7d69137d741e740">type</a> = iter-&gt;second;</div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>    <span class="keywordflow">if</span>( !( <a class="code hl_variable" href="structtalk__trial.html#a3e3b199420567f6ac7d69137d741e740">type</a> == <a class="code hl_enumvalue" href="dialogue_8h.html#a16887758465982f757c27730065bfd9aa9c2d2db9d7aa60b33a07e54ae6e0e2dc">TALK_TRIAL_NONE</a> || <a class="code hl_variable" href="structtalk__trial.html#a3e3b199420567f6ac7d69137d741e740">type</a> == <a class="code hl_enumvalue" href="dialogue_8h.html#a16887758465982f757c27730065bfd9aabb937af327c6a09a65cfd2b98e37e911">TALK_TRIAL_CONDITION</a> ) ) {</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>        <a class="code hl_variable" href="structtalk__trial.html#a1bea935282a6f93162a7050d18bf992e">difficulty</a> = jo.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;difficulty&quot;</span> );</div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>    }</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span> </div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>    <a class="code hl_function" href="condition_8cpp.html#aa406c98ae2aa5b7954c10085c09e0bd6">read_condition&lt;dialogue&gt;</a>( jo, <span class="stringliteral">&quot;condition&quot;</span>, <a class="code hl_variable" href="structtalk__trial.html#ab977ca6b839c86d10c3012a2a982b54c">condition</a>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span> </div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;mod&quot;</span> ) ) {</div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classJsonArray.html">JsonArray</a> jmod : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;mod&quot;</span> ) ) {</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>            <a class="code hl_typedef" href="dialogue_8h.html#a71377f676c10f31d05ba78a9331980b6">trial_mod</a> this_modifier;</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>            this_modifier.first = jmod.next_string();</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>            this_modifier.second = jmod.next_int();</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>            <a class="code hl_variable" href="structtalk__trial.html#afd332d53d67013befb0bd90548af7684">modifiers</a>.push_back( this_modifier );</div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>        }</div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>    }</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>}</div>
<div class="ttc" id="abonuses_8h_html_a8a71e4c938813e7a3a838701482dd3a3ab50339a10e1de285ac99d4c3990b8693"><div class="ttname"><a href="bonuses_8h.html#a8a71e4c938813e7a3a838701482dd3a3ab50339a10e1de285ac99d4c3990b8693">affected_stat::NONE</a></div><div class="ttdeci">@ NONE</div></div>
<div class="ttc" id="aclassJsonArray_html"><div class="ttname"><a href="classJsonArray.html">JsonArray</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l01028">json.h:1029</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a69f62f59b5e39da6059b7c3cf8b12421"><div class="ttname"><a href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">JsonObject::get_array</a></div><div class="ttdeci">JsonArray get_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00332">json.cpp:332</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a887d230c6a42ef2a6cf72c0e040cd4e3"><div class="ttname"><a href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">JsonObject::has_member</a></div><div class="ttdeci">bool has_member(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00181">json.cpp:181</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a96b6d1b9cf7bda4fc9cd177a99e0631c"><div class="ttname"><a href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">JsonObject::get_string</a></div><div class="ttdeci">std::string get_string(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00314">json.cpp:314</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a99e64f59bc5e72e7572125064b68da29"><div class="ttname"><a href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">JsonObject::get_int</a></div><div class="ttdeci">int get_int(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00282">json.cpp:282</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae7bcdb4ec8ab2c64e607b411cb98d00c"><div class="ttname"><a href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">JsonObject::throw_error</a></div><div class="ttdeci">void throw_error(std::string err) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00233">json.cpp:233</a></div></div>
<div class="ttc" id="acondition_8cpp_html_aa406c98ae2aa5b7954c10085c09e0bd6"><div class="ttname"><a href="condition_8cpp.html#aa406c98ae2aa5b7954c10085c09e0bd6">read_condition&lt; dialogue &gt;</a></div><div class="ttdeci">template void read_condition&lt; dialogue &gt;(const JsonObject &amp;jo, const std::string &amp;member_name, std::function&lt; bool(const dialogue &amp;)&gt; &amp;condition, bool default_val)</div></div>
<div class="ttc" id="adialogue_8h_html_a16887758465982f757c27730065bfd9aa9c2d2db9d7aa60b33a07e54ae6e0e2dc"><div class="ttname"><a href="dialogue_8h.html#a16887758465982f757c27730065bfd9aa9c2d2db9d7aa60b33a07e54ae6e0e2dc">TALK_TRIAL_NONE</a></div><div class="ttdeci">@ TALK_TRIAL_NONE</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00024">dialogue.h:24</a></div></div>
<div class="ttc" id="adialogue_8h_html_a16887758465982f757c27730065bfd9aabb937af327c6a09a65cfd2b98e37e911"><div class="ttname"><a href="dialogue_8h.html#a16887758465982f757c27730065bfd9aabb937af327c6a09a65cfd2b98e37e911">TALK_TRIAL_CONDITION</a></div><div class="ttdeci">@ TALK_TRIAL_CONDITION</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00028">dialogue.h:28</a></div></div>
<div class="ttc" id="adialogue_8h_html_a71377f676c10f31d05ba78a9331980b6"><div class="ttname"><a href="dialogue_8h.html#a71377f676c10f31d05ba78a9331980b6">trial_mod</a></div><div class="ttdeci">std::pair&lt; std::string, int &gt; trial_mod</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00042">dialogue.h:42</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_a0aade5ead77b80032af2a15aaa43c7ab"><div class="ttname"><a href="npctalk_8cpp.html#a0aade5ead77b80032af2a15aaa43c7ab">WRAP</a></div><div class="ttdeci">#define WRAP(value)</div></div>
<div class="ttc" id="astructtalk__trial_html_a1bea935282a6f93162a7050d18bf992e"><div class="ttname"><a href="structtalk__trial.html#a1bea935282a6f93162a7050d18bf992e">talk_trial::difficulty</a></div><div class="ttdeci">int difficulty</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00052">dialogue.h:52</a></div></div>
<div class="ttc" id="astructtalk__trial_html_a3e3b199420567f6ac7d69137d741e740"><div class="ttname"><a href="structtalk__trial.html#a3e3b199420567f6ac7d69137d741e740">talk_trial::type</a></div><div class="ttdeci">talk_trial_type type</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00051">dialogue.h:51</a></div></div>
<div class="ttc" id="astructtalk__trial_html_ab977ca6b839c86d10c3012a2a982b54c"><div class="ttname"><a href="structtalk__trial.html#ab977ca6b839c86d10c3012a2a982b54c">talk_trial::condition</a></div><div class="ttdeci">std::function&lt; bool(const dialogue &amp;)&gt; condition</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00053">dialogue.h:53</a></div></div>
<div class="ttc" id="astructtalk__trial_html_afd332d53d67013befb0bd90548af7684"><div class="ttname"><a href="structtalk__trial.html#afd332d53d67013befb0bd90548af7684">talk_trial::modifiers</a></div><div class="ttdeci">std::vector&lt; trial_mod &gt; modifiers</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00060">dialogue.h:60</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dialogue_8h_source.html#l00053">condition</a>, <a class="el" href="dialogue_8h_source.html#l00052">difficulty</a>, <a class="el" href="json_8cpp_source.html#l00332">JsonObject::get_array()</a>, <a class="el" href="json_8cpp_source.html#l00282">JsonObject::get_int()</a>, <a class="el" href="json_8cpp_source.html#l00314">JsonObject::get_string()</a>, <a class="el" href="json_8cpp_source.html#l00181">JsonObject::has_member()</a>, <a class="el" href="dialogue_8h_source.html#l00060">modifiers</a>, <a class="el" href="bonuses_8h.html#a8a71e4c938813e7a3a838701482dd3a3ab50339a10e1de285ac99d4c3990b8693">NONE</a>, <a class="el" href="condition_8cpp.html#aa406c98ae2aa5b7954c10085c09e0bd6">read_condition&lt; dialogue &gt;()</a>, <a class="el" href="dialogue_8h_source.html#l00028">TALK_TRIAL_CONDITION</a>, <a class="el" href="dialogue_8h_source.html#l00024">TALK_TRIAL_NONE</a>, <a class="el" href="json_8cpp_source.html#l00233">JsonObject::throw_error()</a>, <a class="el" href="dialogue_8h_source.html#l00051">type</a>, and <a class="el" href="npctalk_8cpp.html#a0aade5ead77b80032af2a15aaa43c7ab">WRAP</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a18e35838a09c8fe6c706c68399198422" name="a18e35838a09c8fe6c706c68399198422"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18e35838a09c8fe6c706c68399198422">&#9670;&nbsp;</a></span>calc_chance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int talk_trial::calc_chance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdialogue.html">dialogue</a> &amp;&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01399">1399</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>{</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>    <a class="code hl_class" href="classplayer.html">player</a> &amp;u = *d.<a class="code hl_variable" href="structdialogue.html#a42afe2cf929fea970dc6b74a8bec4bd7">alpha</a>;</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>    <span class="keywordflow">if</span>( u.<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="npctalk_8cpp.html#a37a1fab8c4f17e009841e255f68b5733">trait_DEBUG_MIND_CONTROL</a> ) ) {</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>        <span class="keywordflow">return</span> 100;</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>    }</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structsocial__modifiers.html">social_modifiers</a> &amp;u_mods = u.<a class="code hl_function" href="classCharacter.html#a15405aed8682db1e7c090822ba84785d">get_mutation_social_mods</a>();</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span> </div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>    <a class="code hl_class" href="classnpc.html">npc</a> &amp;p = *d.<a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>;</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>    <span class="keywordtype">int</span> chance = <a class="code hl_variable" href="structtalk__trial.html#a1bea935282a6f93162a7050d18bf992e">difficulty</a>;</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>    <span class="keywordflow">switch</span>( <a class="code hl_variable" href="structtalk__trial.html#a3e3b199420567f6ac7d69137d741e740">type</a> ) {</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="dialogue_8h.html#a16887758465982f757c27730065bfd9aa387080896a3bf69e92d5ff64b2f76c53">NUM_TALK_TRIALS</a>:</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Called calc_chance with invalid talk_trial value %d&quot;</span>, <a class="code hl_variable" href="structtalk__trial.html#a3e3b199420567f6ac7d69137d741e740">type</a> );</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="dialogue_8h.html#a16887758465982f757c27730065bfd9aa3cf3ff2e2ce3318e0a1607749839fdbd">TALK_TRIAL_LIE</a>:</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>            chance += u.<a class="code hl_function" href="classplayer.html#a7cf34b604818377fbb17c0815da1eb9e">talk_skill</a>() - p.<a class="code hl_function" href="classplayer.html#a7cf34b604818377fbb17c0815da1eb9e">talk_skill</a>() + p.<a class="code hl_variable" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code hl_variable" href="structnpc__opinion.html#a3dd84c1d61aba9d6486853542c43dd42">trust</a> * 3;</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>            chance += u_mods.<a class="code hl_variable" href="structsocial__modifiers.html#a9812d8adb1701480a878506e1dbe9932">lie</a>;</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span> </div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>            <span class="comment">//come on, who would suspect a robot of lying?</span></div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>            <span class="keywordflow">if</span>( u.<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="npctalk_8cpp.html#a1ba574c2d134f64bc7118bcd7634c931">bio_voice</a> ) ) {</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>                chance += 10;</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>            }</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>            <span class="keywordflow">if</span>( u.<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="npctalk_8cpp.html#a87d40dfaf83b2333d9b4bb5519b47290">bio_face_mask</a> ) ) {</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>                chance += 20;</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>            }</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="dialogue_8h.html#a16887758465982f757c27730065bfd9aa03f22ec68c05e39a217e2ba313027475">TALK_TRIAL_PERSUADE</a>:</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>            chance += u.<a class="code hl_function" href="classplayer.html#a7cf34b604818377fbb17c0815da1eb9e">talk_skill</a>() - <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( p.<a class="code hl_function" href="classplayer.html#a7cf34b604818377fbb17c0815da1eb9e">talk_skill</a>() / 2 ) +</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>                      p.<a class="code hl_variable" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code hl_variable" href="structnpc__opinion.html#a3dd84c1d61aba9d6486853542c43dd42">trust</a> * 2 + p.<a class="code hl_variable" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code hl_variable" href="structnpc__opinion.html#a33fc4533430debe24fb3a9a38acfabbe">value</a>;</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>            chance += u_mods.<a class="code hl_variable" href="structsocial__modifiers.html#a1133fc2155fb62215db59a795583191a">persuade</a>;</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span> </div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>            <span class="keywordflow">if</span>( u.<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="npctalk_8cpp.html#a87d40dfaf83b2333d9b4bb5519b47290">bio_face_mask</a> ) ) {</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>                chance += 10;</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>            }</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>            <span class="keywordflow">if</span>( u.<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="npctalk_8cpp.html#a9ce5c55101a5bf44ac5ad0a4606bc787">bio_deformity</a> ) ) {</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>                chance -= 50;</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>            }</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>            <span class="keywordflow">if</span>( u.<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="npctalk_8cpp.html#a1ba574c2d134f64bc7118bcd7634c931">bio_voice</a> ) ) {</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>                chance -= 20;</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>            }</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="dialogue_8h.html#a16887758465982f757c27730065bfd9aae61aa49867e38ca7816698a5bcdd0ca1">TALK_TRIAL_INTIMIDATE</a>:</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>            chance += u.<a class="code hl_function" href="classplayer.html#a3eab8f8fdf3915abd37edddb25510530">intimidation</a>() - p.<a class="code hl_function" href="classplayer.html#a3eab8f8fdf3915abd37edddb25510530">intimidation</a>() + p.<a class="code hl_variable" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code hl_variable" href="structnpc__opinion.html#ac3e3687fbefeca03878ed52f641d4bf7">fear</a> * 2 -</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>                      p.<a class="code hl_variable" href="classnpc.html#a21a2c9d7a8bebc596239365fb6aff1c5">personality</a>.<a class="code hl_variable" href="structnpc__personality.html#ac70a63afb254214ac7a82bd01972ec72">bravery</a> * 2;</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>            chance += u_mods.<a class="code hl_variable" href="structsocial__modifiers.html#a840fb4d8f6996ba120f889bd192dfd31">intimidate</a>;</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span> </div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>            <span class="keywordflow">if</span>( u.<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="npctalk_8cpp.html#a87d40dfaf83b2333d9b4bb5519b47290">bio_face_mask</a> ) ) {</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>                chance += 10;</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>            }</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>            <span class="keywordflow">if</span>( u.<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="npctalk_8cpp.html#a60156c3be7e9ad975f66d84becc7a6e1">bio_armor_eyes</a> ) ) {</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>                chance += 10;</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>            }</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>            <span class="keywordflow">if</span>( u.<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="npctalk_8cpp.html#a9ce5c55101a5bf44ac5ad0a4606bc787">bio_deformity</a> ) ) {</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>                chance += 20;</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>            }</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>            <span class="keywordflow">if</span>( u.<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="npctalk_8cpp.html#a1ba574c2d134f64bc7118bcd7634c931">bio_voice</a> ) ) {</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>                chance += 20;</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>            }</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="dialogue_8h.html#a16887758465982f757c27730065bfd9aa9c2d2db9d7aa60b33a07e54ae6e0e2dc">TALK_TRIAL_NONE</a>:</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>            chance = 100;</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="dialogue_8h.html#a16887758465982f757c27730065bfd9aabb937af327c6a09a65cfd2b98e37e911">TALK_TRIAL_CONDITION</a>:</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>            chance = <a class="code hl_variable" href="structtalk__trial.html#ab977ca6b839c86d10c3012a2a982b54c">condition</a>( d ) ? 100 : 0;</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>    }</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;this_mod : <a class="code hl_variable" href="structtalk__trial.html#afd332d53d67013befb0bd90548af7684">modifiers</a> ) {</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>        chance += <a class="code hl_function" href="npctalk_8cpp.html#a05e853e2a3a944f51b0fcdb39df6f083">parse_mod</a>( d, this_mod.first, this_mod.second );</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>    }</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span> </div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>    <span class="keywordflow">return</span> std::max( 0, std::min( 100, chance ) );</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>}</div>
<div class="ttc" id="aclassCharacter_html_a15405aed8682db1e7c090822ba84785d"><div class="ttname"><a href="classCharacter.html#a15405aed8682db1e7c090822ba84785d">Character::get_mutation_social_mods</a></div><div class="ttdeci">social_modifiers get_mutation_social_mods() const</div><div class="ttdoc">Goes over all mutations, returning the sum of the social modifiers.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06650">character.cpp:6650</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5751b689e5a4ecd43b6de5c3e2d31541"><div class="ttname"><a href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">Character::has_bionic</a></div><div class="ttdeci">bool has_bionic(const bionic_id &amp;b) const</div><div class="ttdoc">Returns true if the player has the entered bionic id.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01866">character.cpp:1866</a></div></div>
<div class="ttc" id="aclassCharacter_html_af06dd97724f4f05df782e7a4b4f9cfe1"><div class="ttname"><a href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">Character::has_trait</a></div><div class="ttdeci">bool has_trait(const trait_id &amp;b) const override</div><div class="ttdoc">Returns true if the player has the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00103">mutation.cpp:103</a></div></div>
<div class="ttc" id="aclassnpc_html"><div class="ttname"><a href="classnpc.html">npc</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00780">npc.h:781</a></div></div>
<div class="ttc" id="aclassnpc_html_a21a2c9d7a8bebc596239365fb6aff1c5"><div class="ttname"><a href="classnpc.html#a21a2c9d7a8bebc596239365fb6aff1c5">npc::personality</a></div><div class="ttdeci">npc_personality personality</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01327">npc.h:1327</a></div></div>
<div class="ttc" id="aclassnpc_html_ae17fa770d3d2ecbb89371e334c21ea6b"><div class="ttname"><a href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">npc::op_of_u</a></div><div class="ttdeci">npc_opinion op_of_u</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01328">npc.h:1328</a></div></div>
<div class="ttc" id="aclassplayer_html"><div class="ttname"><a href="classplayer.html">player</a></div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00098">player.h:99</a></div></div>
<div class="ttc" id="aclassplayer_html_a3eab8f8fdf3915abd37edddb25510530"><div class="ttname"><a href="classplayer.html#a3eab8f8fdf3915abd37edddb25510530">player::intimidation</a></div><div class="ttdeci">int intimidation() const</div><div class="ttdoc">Returns a value used when attempting to intimidate NPC's.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00901">player.cpp:901</a></div></div>
<div class="ttc" id="aclassplayer_html_a7cf34b604818377fbb17c0815da1eb9e"><div class="ttname"><a href="classplayer.html#a7cf34b604818377fbb17c0815da1eb9e">player::talk_skill</a></div><div class="ttdeci">int talk_skill() const</div><div class="ttdoc">Returns a value used when attempting to convince NPC's of something.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00890">player.cpp:890</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="adialogue_8h_html_a16887758465982f757c27730065bfd9aa03f22ec68c05e39a217e2ba313027475"><div class="ttname"><a href="dialogue_8h.html#a16887758465982f757c27730065bfd9aa03f22ec68c05e39a217e2ba313027475">TALK_TRIAL_PERSUADE</a></div><div class="ttdeci">@ TALK_TRIAL_PERSUADE</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00026">dialogue.h:26</a></div></div>
<div class="ttc" id="adialogue_8h_html_a16887758465982f757c27730065bfd9aa387080896a3bf69e92d5ff64b2f76c53"><div class="ttname"><a href="dialogue_8h.html#a16887758465982f757c27730065bfd9aa387080896a3bf69e92d5ff64b2f76c53">NUM_TALK_TRIALS</a></div><div class="ttdeci">@ NUM_TALK_TRIALS</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00030">dialogue.h:29</a></div></div>
<div class="ttc" id="adialogue_8h_html_a16887758465982f757c27730065bfd9aa3cf3ff2e2ce3318e0a1607749839fdbd"><div class="ttname"><a href="dialogue_8h.html#a16887758465982f757c27730065bfd9aa3cf3ff2e2ce3318e0a1607749839fdbd">TALK_TRIAL_LIE</a></div><div class="ttdeci">@ TALK_TRIAL_LIE</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00025">dialogue.h:25</a></div></div>
<div class="ttc" id="adialogue_8h_html_a16887758465982f757c27730065bfd9aae61aa49867e38ca7816698a5bcdd0ca1"><div class="ttname"><a href="dialogue_8h.html#a16887758465982f757c27730065bfd9aae61aa49867e38ca7816698a5bcdd0ca1">TALK_TRIAL_INTIMIDATE</a></div><div class="ttdeci">@ TALK_TRIAL_INTIMIDATE</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00027">dialogue.h:27</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_a05e853e2a3a944f51b0fcdb39df6f083"><div class="ttname"><a href="npctalk_8cpp.html#a05e853e2a3a944f51b0fcdb39df6f083">parse_mod</a></div><div class="ttdeci">static int parse_mod(const dialogue &amp;d, const std::string &amp;attribute, const int factor)</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l01365">npctalk.cpp:1365</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_a1ba574c2d134f64bc7118bcd7634c931"><div class="ttname"><a href="npctalk_8cpp.html#a1ba574c2d134f64bc7118bcd7634c931">bio_voice</a></div><div class="ttdeci">static const bionic_id bio_voice(&quot;bio_voice&quot;)</div></div>
<div class="ttc" id="anpctalk_8cpp_html_a37a1fab8c4f17e009841e255f68b5733"><div class="ttname"><a href="npctalk_8cpp.html#a37a1fab8c4f17e009841e255f68b5733">trait_DEBUG_MIND_CONTROL</a></div><div class="ttdeci">static const trait_id trait_DEBUG_MIND_CONTROL(&quot;DEBUG_MIND_CONTROL&quot;)</div></div>
<div class="ttc" id="anpctalk_8cpp_html_a60156c3be7e9ad975f66d84becc7a6e1"><div class="ttname"><a href="npctalk_8cpp.html#a60156c3be7e9ad975f66d84becc7a6e1">bio_armor_eyes</a></div><div class="ttdeci">static const bionic_id bio_armor_eyes(&quot;bio_armor_eyes&quot;)</div></div>
<div class="ttc" id="anpctalk_8cpp_html_a87d40dfaf83b2333d9b4bb5519b47290"><div class="ttname"><a href="npctalk_8cpp.html#a87d40dfaf83b2333d9b4bb5519b47290">bio_face_mask</a></div><div class="ttdeci">static const bionic_id bio_face_mask(&quot;bio_face_mask&quot;)</div></div>
<div class="ttc" id="anpctalk_8cpp_html_a9ce5c55101a5bf44ac5ad0a4606bc787"><div class="ttname"><a href="npctalk_8cpp.html#a9ce5c55101a5bf44ac5ad0a4606bc787">bio_deformity</a></div><div class="ttdeci">static const bionic_id bio_deformity(&quot;bio_deformity&quot;)</div></div>
<div class="ttc" id="astructdialogue_html_a2edd4e78d06b37dafd34284a48b82720"><div class="ttname"><a href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">dialogue::beta</a></div><div class="ttdeci">npc * beta</div><div class="ttdoc">The NPC we talk to.</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00231">dialogue.h:231</a></div></div>
<div class="ttc" id="astructdialogue_html_a42afe2cf929fea970dc6b74a8bec4bd7"><div class="ttname"><a href="structdialogue.html#a42afe2cf929fea970dc6b74a8bec4bd7">dialogue::alpha</a></div><div class="ttdeci">player * alpha</div><div class="ttdoc">The player character that speaks (always g-&gt;u).</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00226">dialogue.h:226</a></div></div>
<div class="ttc" id="astructnpc__opinion_html_a33fc4533430debe24fb3a9a38acfabbe"><div class="ttname"><a href="structnpc__opinion.html#a33fc4533430debe24fb3a9a38acfabbe">npc_opinion::value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00242">npc.h:242</a></div></div>
<div class="ttc" id="astructnpc__opinion_html_a3dd84c1d61aba9d6486853542c43dd42"><div class="ttname"><a href="structnpc__opinion.html#a3dd84c1d61aba9d6486853542c43dd42">npc_opinion::trust</a></div><div class="ttdeci">int trust</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00240">npc.h:240</a></div></div>
<div class="ttc" id="astructnpc__opinion_html_ac3e3687fbefeca03878ed52f641d4bf7"><div class="ttname"><a href="structnpc__opinion.html#ac3e3687fbefeca03878ed52f641d4bf7">npc_opinion::fear</a></div><div class="ttdeci">int fear</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00241">npc.h:241</a></div></div>
<div class="ttc" id="astructnpc__personality_html_ac70a63afb254214ac7a82bd01972ec72"><div class="ttname"><a href="structnpc__personality.html#ac70a63afb254214ac7a82bd01972ec72">npc_personality::bravery</a></div><div class="ttdeci">signed char bravery</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00225">npc.h:225</a></div></div>
<div class="ttc" id="astructsocial__modifiers_html"><div class="ttname"><a href="structsocial__modifiers.html">social_modifiers</a></div><div class="ttdef"><b>Definition:</b> <a href="pldata_8h_source.html#l00061">pldata.h:61</a></div></div>
<div class="ttc" id="astructsocial__modifiers_html_a1133fc2155fb62215db59a795583191a"><div class="ttname"><a href="structsocial__modifiers.html#a1133fc2155fb62215db59a795583191a">social_modifiers::persuade</a></div><div class="ttdeci">int persuade</div><div class="ttdef"><b>Definition:</b> <a href="pldata_8h_source.html#l00063">pldata.h:63</a></div></div>
<div class="ttc" id="astructsocial__modifiers_html_a840fb4d8f6996ba120f889bd192dfd31"><div class="ttname"><a href="structsocial__modifiers.html#a840fb4d8f6996ba120f889bd192dfd31">social_modifiers::intimidate</a></div><div class="ttdeci">int intimidate</div><div class="ttdef"><b>Definition:</b> <a href="pldata_8h_source.html#l00064">pldata.h:64</a></div></div>
<div class="ttc" id="astructsocial__modifiers_html_a9812d8adb1701480a878506e1dbe9932"><div class="ttname"><a href="structsocial__modifiers.html#a9812d8adb1701480a878506e1dbe9932">social_modifiers::lie</a></div><div class="ttdeci">int lie</div><div class="ttdef"><b>Definition:</b> <a href="pldata_8h_source.html#l00062">pldata.h:62</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dialogue_8h_source.html#l00226">dialogue::alpha</a>, <a class="el" href="dialogue_8h_source.html#l00231">dialogue::beta</a>, <a class="el" href="npctalk_8cpp.html#a60156c3be7e9ad975f66d84becc7a6e1">bio_armor_eyes</a>, <a class="el" href="npctalk_8cpp.html#a9ce5c55101a5bf44ac5ad0a4606bc787">bio_deformity</a>, <a class="el" href="npctalk_8cpp.html#a87d40dfaf83b2333d9b4bb5519b47290">bio_face_mask</a>, <a class="el" href="npctalk_8cpp.html#a1ba574c2d134f64bc7118bcd7634c931">bio_voice</a>, <a class="el" href="npc_8h_source.html#l00225">npc_personality::bravery</a>, <a class="el" href="dialogue_8h_source.html#l00053">condition</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="dialogue_8h_source.html#l00052">difficulty</a>, <a class="el" href="npc_8h_source.html#l00241">npc_opinion::fear</a>, <a class="el" href="character_8cpp_source.html#l06650">Character::get_mutation_social_mods()</a>, <a class="el" href="character_8cpp_source.html#l01866">Character::has_bionic()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="pldata_8h_source.html#l00064">social_modifiers::intimidate</a>, <a class="el" href="player_8cpp_source.html#l00901">player::intimidation()</a>, <a class="el" href="pldata_8h_source.html#l00062">social_modifiers::lie</a>, <a class="el" href="dialogue_8h_source.html#l00060">modifiers</a>, <a class="el" href="dialogue_8h_source.html#l00029">NUM_TALK_TRIALS</a>, <a class="el" href="npc_8h_source.html#l01328">npc::op_of_u</a>, <a class="el" href="npctalk_8cpp_source.html#l01365">parse_mod()</a>, <a class="el" href="npc_8h_source.html#l01327">npc::personality</a>, <a class="el" href="pldata_8h_source.html#l00063">social_modifiers::persuade</a>, <a class="el" href="player_8cpp_source.html#l00890">player::talk_skill()</a>, <a class="el" href="dialogue_8h_source.html#l00028">TALK_TRIAL_CONDITION</a>, <a class="el" href="dialogue_8h_source.html#l00027">TALK_TRIAL_INTIMIDATE</a>, <a class="el" href="dialogue_8h_source.html#l00025">TALK_TRIAL_LIE</a>, <a class="el" href="dialogue_8h_source.html#l00024">TALK_TRIAL_NONE</a>, <a class="el" href="dialogue_8h_source.html#l00026">TALK_TRIAL_PERSUADE</a>, <a class="el" href="npctalk_8cpp.html#a37a1fab8c4f17e009841e255f68b5733">trait_DEBUG_MIND_CONTROL</a>, <a class="el" href="npc_8h_source.html#l00240">npc_opinion::trust</a>, <a class="el" href="dialogue_8h_source.html#l00051">type</a>, and <a class="el" href="npc_8h_source.html#l00242">npc_opinion::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01658">talk_response::create_option_line()</a>, <a class="el" href="npctalk_8cpp_source.html#l01689">talk_response::get_consequences()</a>, and <a class="el" href="npctalk_8cpp_source.html#l01472">roll()</a>.</p>

</div>
</div>
<a id="a69873ec2e42fb15bbd2d2944cb266f37" name="a69873ec2e42fb15bbd2d2944cb266f37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69873ec2e42fb15bbd2d2944cb266f37">&#9670;&nbsp;</a></span>name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string talk_trial::name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a user-friendly representation of <a class="el" href="structtalk__trial.html#a3e3b199420567f6ac7d69137d741e740">type</a>. </p>

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l00123">123</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>{</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::array&lt;std::string, NUM_TALK_TRIALS&gt; texts = { {</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>            <span class="stringliteral">&quot;&quot;</span>, <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;LIE&quot;</span> ), <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;PERSUADE&quot;</span> ), <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;INTIMIDATE&quot;</span> ), <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>        }</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    };</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <span class="keywordflow">if</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="structtalk__trial.html#a3e3b199420567f6ac7d69137d741e740">type</a> ) &gt;= texts.size() ) {</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;invalid trial type %d&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="structtalk__trial.html#a3e3b199420567f6ac7d69137d741e740">type</a> ) );</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>        <span class="keywordflow">return</span> std::string();</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    }</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="keywordflow">return</span> texts[<a class="code hl_variable" href="structtalk__trial.html#a3e3b199420567f6ac7d69137d741e740">type</a>].empty() ? std::string() : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( texts[<a class="code hl_variable" href="structtalk__trial.html#a3e3b199420567f6ac7d69137d741e740">type</a>] );</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>}</div>
<div class="ttc" id="atranslations_8h_html_a0b3ab525ec6b450b2487e7644255fa7c"><div class="ttname"><a href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a></div><div class="ttdeci">#define translate_marker(x)</div><div class="ttdoc">Marks a string literal to be extracted for translation.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00030">translations.h:30</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="translations_8h_source.html#l00030">translate_marker</a>, and <a class="el" href="dialogue_8h_source.html#l00051">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01658">talk_response::create_option_line()</a>.</p>

</div>
</div>
<a id="a0bb996c2d6adc3ac181f44291ba31639" name="a0bb996c2d6adc3ac181f44291ba31639"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bb996c2d6adc3ac181f44291ba31639">&#9670;&nbsp;</a></span>operator bool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">talk_trial::operator bool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dialogue_8h_source.html#l00061">61</a> of file <a class="el" href="dialogue_8h_source.html">dialogue.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>                          {</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="structtalk__trial.html#a3e3b199420567f6ac7d69137d741e740">type</a> != <a class="code hl_enumvalue" href="dialogue_8h.html#a16887758465982f757c27730065bfd9aa9c2d2db9d7aa60b33a07e54ae6e0e2dc">TALK_TRIAL_NONE</a>;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dialogue_8h_source.html#l00024">TALK_TRIAL_NONE</a>, and <a class="el" href="dialogue_8h_source.html#l00051">type</a>.</p>

</div>
</div>
<a id="a8e9846caf634471cac79d911ae9d9177" name="a8e9846caf634471cac79d911ae9d9177"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e9846caf634471cac79d911ae9d9177">&#9670;&nbsp;</a></span>roll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool talk_trial::roll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdialogue.html">dialogue</a> &amp;&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Roll for success or failure of this trial. </p>

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01472">1472</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>{</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>    <a class="code hl_class" href="classplayer.html">player</a> &amp;u = *d.<a class="code hl_variable" href="structdialogue.html#a42afe2cf929fea970dc6b74a8bec4bd7">alpha</a>;</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="structtalk__trial.html#a3e3b199420567f6ac7d69137d741e740">type</a> == <a class="code hl_enumvalue" href="dialogue_8h.html#a16887758465982f757c27730065bfd9aa9c2d2db9d7aa60b33a07e54ae6e0e2dc">TALK_TRIAL_NONE</a> || u.<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="npctalk_8cpp.html#a37a1fab8c4f17e009841e255f68b5733">trait_DEBUG_MIND_CONTROL</a> ) ) {</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>    }</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> chance = <a class="code hl_function" href="structtalk__trial.html#a18e35838a09c8fe6c706c68399198422">calc_chance</a>( d );</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">success</a> = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 99 ) &lt; chance;</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">success</a> ) {</div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>        u.<a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( <a class="code hl_variable" href="npctalk_8cpp.html#add6bff65f422cff2a7ede6c7b904d982">skill_speech</a>, ( 100 - chance ) / 10 );</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>        u.<a class="code hl_function" href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">practice</a>( <a class="code hl_variable" href="npctalk_8cpp.html#add6bff65f422cff2a7ede6c7b904d982">skill_speech</a>, ( 100 - chance ) / 7 );</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>    }</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">success</a>;</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span>}</div>
<div class="ttc" id="aartifact_8cpp_html_a70800e95389f34dd34186fafaea2a840"><div class="ttname"><a href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a></div><div class="ttdeci">units::quantity&lt; V, B &gt; rng(const units::quantity&lt; V, B &gt; &amp;min, const units::quantity&lt; V, B &gt; &amp;max)</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8cpp_source.html#l00032">artifact.cpp:32</a></div></div>
<div class="ttc" id="aclassplayer_html_aa57c61de29a5e410c100aee07798b9b1"><div class="ttname"><a href="classplayer.html#aa57c61de29a5e410c100aee07798b9b1">player::practice</a></div><div class="ttdeci">void practice(const skill_id &amp;id, int amount, int cap=99, bool suppress_warning=false)</div><div class="ttdoc">This handles giving xp for a skill.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04005">player.cpp:4005</a></div></div>
<div class="ttc" id="anamespacebehavior_html_af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b"><div class="ttname"><a href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">behavior::success</a></div><div class="ttdeci">@ success</div><div class="ttdef"><b>Definition:</b> <a href="behavior_8h_source.html#l00020">behavior.h:20</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_add6bff65f422cff2a7ede6c7b904d982"><div class="ttname"><a href="npctalk_8cpp.html#add6bff65f422cff2a7ede6c7b904d982">skill_speech</a></div><div class="ttdeci">static const skill_id skill_speech(&quot;speech&quot;)</div></div>
<div class="ttc" id="astructtalk__trial_html_a18e35838a09c8fe6c706c68399198422"><div class="ttname"><a href="structtalk__trial.html#a18e35838a09c8fe6c706c68399198422">talk_trial::calc_chance</a></div><div class="ttdeci">int calc_chance(const dialogue &amp;d) const</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l01399">npctalk.cpp:1399</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dialogue_8h_source.html#l00226">dialogue::alpha</a>, <a class="el" href="npctalk_8cpp_source.html#l01399">calc_chance()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="player_8cpp_source.html#l04005">player::practice()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="npctalk_8cpp.html#add6bff65f422cff2a7ede6c7b904d982">skill_speech</a>, <a class="el" href="behavior_8h_source.html#l00020">behavior::success</a>, <a class="el" href="dialogue_8h_source.html#l00024">TALK_TRIAL_NONE</a>, <a class="el" href="npctalk_8cpp.html#a37a1fab8c4f17e009841e255f68b5733">trait_DEBUG_MIND_CONTROL</a>, and <a class="el" href="dialogue_8h_source.html#l00051">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01728">dialogue::opt()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ab977ca6b839c86d10c3012a2a982b54c" name="ab977ca6b839c86d10c3012a2a982b54c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab977ca6b839c86d10c3012a2a982b54c">&#9670;&nbsp;</a></span>condition</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::function&lt;bool( const <a class="el" href="structdialogue.html">dialogue</a> &amp; )&gt; talk_trial::condition</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dialogue_8h_source.html#l00053">53</a> of file <a class="el" href="dialogue_8h_source.html">dialogue.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01399">calc_chance()</a>, and <a class="el" href="npctalk_8cpp_source.html#l01847">talk_trial()</a>.</p>

</div>
</div>
<a id="a1bea935282a6f93162a7050d18bf992e" name="a1bea935282a6f93162a7050d18bf992e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bea935282a6f93162a7050d18bf992e">&#9670;&nbsp;</a></span>difficulty</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int talk_trial::difficulty = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dialogue_8h_source.html#l00052">52</a> of file <a class="el" href="dialogue_8h_source.html">dialogue.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01399">calc_chance()</a>, and <a class="el" href="npctalk_8cpp_source.html#l01847">talk_trial()</a>.</p>

</div>
</div>
<a id="afd332d53d67013befb0bd90548af7684" name="afd332d53d67013befb0bd90548af7684"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd332d53d67013befb0bd90548af7684">&#9670;&nbsp;</a></span>modifiers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="dialogue_8h.html#a71377f676c10f31d05ba78a9331980b6">trial_mod</a>&gt; talk_trial::modifiers</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dialogue_8h_source.html#l00060">60</a> of file <a class="el" href="dialogue_8h_source.html">dialogue.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01399">calc_chance()</a>, and <a class="el" href="npctalk_8cpp_source.html#l01847">talk_trial()</a>.</p>

</div>
</div>
<a id="a3e3b199420567f6ac7d69137d741e740" name="a3e3b199420567f6ac7d69137d741e740"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e3b199420567f6ac7d69137d741e740">&#9670;&nbsp;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dialogue_8h.html#a16887758465982f757c27730065bfd9a">talk_trial_type</a> talk_trial::type = <a class="el" href="dialogue_8h.html#a16887758465982f757c27730065bfd9aa9c2d2db9d7aa60b33a07e54ae6e0e2dc">TALK_TRIAL_NONE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dialogue_8h_source.html#l00051">51</a> of file <a class="el" href="dialogue_8h_source.html">dialogue.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01399">calc_chance()</a>, <a class="el" href="npctalk_8cpp_source.html#l01658">talk_response::create_option_line()</a>, <a class="el" href="npctalk_8cpp_source.html#l00123">name()</a>, <a class="el" href="dialogue_8h_source.html#l00061">operator bool()</a>, <a class="el" href="npctalk_8cpp_source.html#l01472">roll()</a>, and <a class="el" href="npctalk_8cpp_source.html#l01847">talk_trial()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>src/<a class="el" href="dialogue_8h_source.html">dialogue.h</a></li>
<li>src/<a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structtalk__trial.html">talk_trial</a></li>
    <li class="footer">Generated on Sat Nov 12 2022 15:16:02 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
