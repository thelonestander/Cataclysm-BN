<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: src/map.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('map_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">map.h</div></div>
</div><!--header-->
<div class="contents">
<a href="map_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="preprocessor">#ifndef CATA_SRC_MAP_H</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno"><a class="line" href="map_8h.html#ab6d4519b1a8dbb99a253de0fe2429f69">    3</a></span><span class="preprocessor">#define CATA_SRC_MAP_H</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &lt;bitset&gt;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &lt;climits&gt;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;cstddef&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;list&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="bodypart_8h.html">bodypart.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="calendar_8h.html">calendar.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="colony_8h.html">colony.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="coordinate__conversions_8h.html">coordinate_conversions.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="coordinates_8h.html">coordinates.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="enums_8h.html">enums.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="filter__utils_8h.html">filter_utils.h</a>&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="game__constants_8h.html">game_constants.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="item_8h.html">item.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="item__stack_8h.html">item_stack.h</a>&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &quot;<a class="code" href="lightmap_8h.html">lightmap.h</a>&quot;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &quot;<a class="code" href="line_8h.html">line.h</a>&quot;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &quot;<a class="code" href="lru__cache_8h.html">lru_cache.h</a>&quot;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &quot;<a class="code" href="mapdata_8h.html">mapdata.h</a>&quot;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &quot;<a class="code" href="memory__fast_8h.html">memory_fast.h</a>&quot;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &quot;<a class="code" href="point_8h.html">point.h</a>&quot;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &quot;<a class="code" href="shadowcasting_8h.html">shadowcasting.h</a>&quot;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#include &quot;<a class="code" href="type__id_8h.html">type_id.h</a>&quot;</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &quot;<a class="code" href="units_8h.html">units.h</a>&quot;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span> </div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="keyword">struct </span><a class="code hl_struct" href="structscent__block.html">scent_block</a>;</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class </span><a class="code hl_class" href="classstring__id.html">string_id</a>;</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span> </div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacecatacurses.html">catacurses</a></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>{</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="keyword">class </span>window;</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>} <span class="comment">// namespace catacurses</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="keyword">class </span><a class="code hl_class" href="classactive__tile__data.html">active_tile_data</a>;</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="keyword">class </span><a class="code hl_class" href="classCharacter.html">Character</a>;</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="keyword">class </span><a class="code hl_class" href="classCreature.html">Creature</a>;</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="keyword">class </span><a class="code hl_class" href="classbasecamp.html">basecamp</a>;</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="keyword">class </span><a class="code hl_class" href="classcharacter__id.html">character_id</a>;</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="keyword">class </span><a class="code hl_class" href="classcomputer.html">computer</a>;</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="keyword">class </span><a class="code hl_class" href="classfield.html">field</a>;</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="keyword">class </span><a class="code hl_class" href="classfield__entry.html">field_entry</a>;</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="keyword">class </span><a class="code hl_class" href="classitem__location.html">item_location</a>;</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="keyword">class </span><a class="code hl_class" href="classmap__cursor.html">map_cursor</a>;</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="keyword">class </span><a class="code hl_class" href="classmapgendata.html">mapgendata</a>;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="keyword">class </span><a class="code hl_class" href="classmonster.html">monster</a>;</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="keyword">class </span><a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a>;</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span><span class="keyword">class </span><a class="code hl_class" href="classplayer.html">player</a>;</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="keyword">class </span><a class="code hl_class" href="classsubmap.html">submap</a>;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> Tripo<span class="keywordtype">int</span>&gt;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="keyword">class </span><a class="code hl_class" href="classtripoint__range.html">tripoint_range</a>;</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="keyword">class </span><a class="code hl_class" href="classvehicle.html">vehicle</a>;</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="keyword">class </span><a class="code hl_class" href="classzone__data.html">zone_data</a>;</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="keyword">struct </span><a class="code hl_struct" href="structmaptile.html">maptile</a>;</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="keyword">struct </span><a class="code hl_struct" href="structpartial__con.html">partial_con</a>;</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><span class="keyword">struct </span><a class="code hl_struct" href="structtrap.html">trap</a>;</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span> </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="keyword">enum class</span> <a class="code hl_enumeration" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5">special_item_type</a> : int;</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>class <a class="code hl_class" href="classnpc__template.html">npc_template</a>;</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>class <a class="code hl_class" href="classtileray.html">tileray</a>;</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>class <a class="code hl_class" href="classvpart__reference.html">vpart_reference</a>;</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>struct <a class="code hl_struct" href="structmongroup.html">mongroup</a>;</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>struct <a class="code hl_struct" href="structprojectile.html">projectile</a>;</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>struct <a class="code hl_struct" href="structveh__collision.html">veh_collision</a>;</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>template&lt;typename T&gt;</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>class <a class="code hl_class" href="classvisitable.html">visitable</a>;</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span> </div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno"><a class="line" href="structwrapped__vehicle.html">   80</a></span>struct <a class="code hl_struct" href="structwrapped__vehicle.html">wrapped_vehicle</a> {</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno"><a class="line" href="structwrapped__vehicle.html#a388df284c0b682fb74c4c67fd14c12e6">   81</a></span>    <a class="code hl_struct" href="structtripoint.html">tripoint</a> <a class="code hl_variable" href="structwrapped__vehicle.html#a388df284c0b682fb74c4c67fd14c12e6">pos</a>;</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="structwrapped__vehicle.html#a3ccd9b33c1b712d26939aa4ad0d1816e">   82</a></span>    <a class="code hl_class" href="classvehicle.html">vehicle</a> *<a class="code hl_variable" href="structwrapped__vehicle.html#a3ccd9b33c1b712d26939aa4ad0d1816e">v</a>;</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>};</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span> </div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno"><a class="line" href="map_8h.html#ae705edb5469cf2668ca5bc3297d75ebb">   85</a></span><span class="keyword">using</span> <a class="code hl_typedef" href="map_8h.html#ae705edb5469cf2668ca5bc3297d75ebb">VehicleList</a> = std::vector&lt;wrapped_vehicle&gt;;</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="keyword">class </span><a class="code hl_class" href="classmap.html">map</a>;</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span> </div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="keyword">enum</span> <a class="code hl_enumeration" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258">ter_bitflags</a> : int;</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="keyword">struct </span><a class="code hl_struct" href="structpathfinding__cache.html">pathfinding_cache</a>;</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span><span class="keyword">struct </span><a class="code hl_struct" href="structpathfinding__settings.html">pathfinding_settings</a>;</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span><span class="keyword">struct </span><a class="code hl_struct" href="structweighted__int__list.html">weighted_int_list</a>;</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="keyword">struct </span><a class="code hl_struct" href="structrl__vec2d.html">rl_vec2d</a>;</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span> </div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacecata.html">cata</a></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>{</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span><span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span>poly_serialized;</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>} <span class="comment">// namespace cata</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span> </div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno"><a class="line" href="classmap__stack.html">  100</a></span><span class="keyword">class </span><a class="code hl_class" href="classmap__stack.html">map_stack</a> : <span class="keyword">public</span> <a class="code hl_class" href="classitem__stack.html">item_stack</a></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>{</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <span class="keyword">private</span>:</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno"><a class="line" href="classmap__stack.html#abc143c9a61bbaa4f45b164029f857b61">  103</a></span>        <a class="code hl_struct" href="structtripoint.html">tripoint</a> <a class="code hl_variable" href="classmap__stack.html#abc143c9a61bbaa4f45b164029f857b61">location</a>;</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno"><a class="line" href="classmap__stack.html#aa4d2ae0e4cb92bd812a27a05ba96c395">  104</a></span>        <a class="code hl_class" href="classmap.html">map</a> *<a class="code hl_variable" href="classmap__stack.html#aa4d2ae0e4cb92bd812a27a05ba96c395">myorigin</a>;</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="classmap__stack.html#a2af44345dd3047c16b16493d5b98f006">  106</a></span>        <a class="code hl_function" href="classmap__stack.html#a2af44345dd3047c16b16493d5b98f006">map_stack</a>( <a class="code hl_class" href="classcata_1_1colony.html">cata::colony&lt;item&gt;</a> *newstack, <a class="code hl_struct" href="structtripoint.html">tripoint</a> newloc, <a class="code hl_class" href="classmap.html">map</a> *neworigin ) :</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>            <a class="code hl_class" href="classitem__stack.html">item_stack</a>( newstack ), <a class="code hl_variable" href="classmap__stack.html#abc143c9a61bbaa4f45b164029f857b61">location</a>( newloc ), <a class="code hl_variable" href="classmap__stack.html#aa4d2ae0e4cb92bd812a27a05ba96c395">myorigin</a>( neworigin ) {}</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap__stack.html#abbc2e2342baf6a35d2f6422a6bc78bbb">insert</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;newitem ) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>        <a class="code hl_typedef" href="classitem__stack.html#a711217cbaded7f3f13b4b54f9ef617af">iterator</a> <a class="code hl_function" href="classmap__stack.html#ab58ec66a7ca2e476c6d90967dccc8062">erase</a>( <a class="code hl_typedef" href="classitem__stack.html#a4fc307204e23390ef6790b99439d4475">const_iterator</a> it ) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno"><a class="line" href="classmap__stack.html#a80f7eb3e4fae05a90c710e25ebbfa084">  110</a></span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap__stack.html#a80f7eb3e4fae05a90c710e25ebbfa084">count_limit</a>()<span class="keyword"> const override </span>{</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="game__constants_8h.html#aee38c8a585c0020fc8ade031dab65393">MAX_ITEM_IN_SQUARE</a>;</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>        }</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>        <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> <a class="code hl_function" href="classmap__stack.html#aa4c1241946ae2733a70133ace0162a24">max_volume</a>() <span class="keyword">const override</span>;</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>};</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span> </div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno"><a class="line" href="structvisibility__variables.html">  116</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structvisibility__variables.html">visibility_variables</a> {</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="comment">// Is this struct initialized for current z-level</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno"><a class="line" href="structvisibility__variables.html#a819f1ebdf308308df688f63d810e2c06">  118</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structvisibility__variables.html#a819f1ebdf308308df688f63d810e2c06">variables_set</a>;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno"><a class="line" href="structvisibility__variables.html#ac72fc56d2bf35dfde2b01ec10dcdf727">  119</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structvisibility__variables.html#ac72fc56d2bf35dfde2b01ec10dcdf727">u_sight_impaired</a>;</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno"><a class="line" href="structvisibility__variables.html#a1c7e65e8b8105ef486b2b9874b674d97">  120</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structvisibility__variables.html#a1c7e65e8b8105ef486b2b9874b674d97">u_is_boomered</a>;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <span class="comment">// Cached values for map visibility calculations</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno"><a class="line" href="structvisibility__variables.html#ae5bfa91f710dbe6eec585beecda8a7b4">  122</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structvisibility__variables.html#ae5bfa91f710dbe6eec585beecda8a7b4">g_light_level</a>;</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno"><a class="line" href="structvisibility__variables.html#a727d3a75517818a82fea93e7d776ed19">  123</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structvisibility__variables.html#a727d3a75517818a82fea93e7d776ed19">u_clairvoyance</a>;</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno"><a class="line" href="structvisibility__variables.html#a29009b81b8bdd36630c42f3b8773934d">  124</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structvisibility__variables.html#a29009b81b8bdd36630c42f3b8773934d">vision_threshold</a>;</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>};</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span> </div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno"><a class="line" href="structbash__params.html">  127</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structbash__params.html">bash_params</a> {</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno"><a class="line" href="structbash__params.html#a1d288562b7a6e93aa2953ef283d5e5ef">  128</a></span>    <a class="code hl_function" href="structbash__params.html#a1d288562b7a6e93aa2953ef283d5e5ef">bash_params</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <span class="comment">// Initial strength</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno"><a class="line" href="structbash__params.html#aaf7748c3a501452b81278fd277468655">  130</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="structbash__params.html#aaf7748c3a501452b81278fd277468655">strength</a>;</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <span class="comment">// Make a sound?</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno"><a class="line" href="structbash__params.html#af468c3e85f965ec2c3cd221a57109241">  132</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structbash__params.html#af468c3e85f965ec2c3cd221a57109241">silent</a>;</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="comment">// Essentially infinite bash strength + some</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno"><a class="line" href="structbash__params.html#a93df5793726ccd72cbaa46ed96c0b33d">  134</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structbash__params.html#a93df5793726ccd72cbaa46ed96c0b33d">destroy</a>;</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="comment">// Do we want to bash floor if no furn/wall exists?</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno"><a class="line" href="structbash__params.html#a3b3229b5ce009b595dc82bfed95e7fcb">  136</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structbash__params.html#a3b3229b5ce009b595dc82bfed95e7fcb">bash_floor</a>;<span class="comment"></span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span><span class="comment">    /**</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span><span class="comment">     * Value from 0.0 to 1.0 that affects interpolation between str_min and str_max</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span><span class="comment">     * At 0.0, the bash is against str_min of targeted objects</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span><span class="comment">     * This is required for proper &quot;piercing&quot; bashing, so that one strong hit</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span><span class="comment">     * can destroy a wall and a floor under it rather than only one at a time.</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span><span class="comment">     */</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno"><a class="line" href="structbash__params.html#a0165ea77e4f907309af720e5d2c1a237">  143</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structbash__params.html#a0165ea77e4f907309af720e5d2c1a237">roll</a>;</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span><span class="comment">     * Are we bashing this location from above?</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span><span class="comment">     * Used in determining what sort of terrain the location will turn into,</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span><span class="comment">     * since if we bashed from above and destroyed it, it probably shouldn&#39;t</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span><span class="comment">     * have a roof either.</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span><span class="comment">    */</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno"><a class="line" href="structbash__params.html#a671251d575df9c4f407a3c62fea7575d">  150</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structbash__params.html#a671251d575df9c4f407a3c62fea7575d">bashing_from_above</a>;<span class="comment"></span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span><span class="comment">    /**</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span><span class="comment">     * Hack to prevent infinite recursion.</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span><span class="comment">     * TODO: Remove, properly unwrap the calls instead</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span><span class="comment">     */</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno"><a class="line" href="structbash__params.html#a23e57435b411801b07da42606f2e2d12">  155</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structbash__params.html#a23e57435b411801b07da42606f2e2d12">do_recurse</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>};</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span> </div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno"><a class="line" href="structbash__results.html">  158</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structbash__results.html">bash_results</a> {</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno"><a class="line" href="structbash__results.html#a212628d9c99fd430df1a609da3427ee7">  159</a></span>    <a class="code hl_function" href="structbash__results.html#a212628d9c99fd430df1a609da3427ee7">bash_results</a>( <span class="keywordtype">bool</span> <a class="code hl_variable" href="structbash__results.html#a48c2a9a4e6818114ae5506cf3eee1083">did_bash</a>, <span class="keywordtype">bool</span> <a class="code hl_variable" href="structbash__results.html#aca607ab5e6884fe03b2119ffecd88419">success</a>, <span class="keywordtype">bool</span> <a class="code hl_variable" href="structbash__results.html#afe659e698646174add3359fbb95e9309">bashed_solid</a> )</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>        : <a class="code hl_variable" href="structbash__results.html#a48c2a9a4e6818114ae5506cf3eee1083">did_bash</a>( <a class="code hl_variable" href="structbash__results.html#a48c2a9a4e6818114ae5506cf3eee1083">did_bash</a> ), <a class="code hl_variable" href="structbash__results.html#aca607ab5e6884fe03b2119ffecd88419">success</a>( <a class="code hl_variable" href="structbash__results.html#aca607ab5e6884fe03b2119ffecd88419">success</a> ), <a class="code hl_variable" href="structbash__results.html#afe659e698646174add3359fbb95e9309">bashed_solid</a>( <a class="code hl_variable" href="structbash__results.html#afe659e698646174add3359fbb95e9309">bashed_solid</a> )</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    {}</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno"><a class="line" href="structbash__results.html#a73ff68ed8a80ac1c7e4a5b50fc8fc5e5">  162</a></span>    <a class="code hl_function" href="structbash__results.html#a73ff68ed8a80ac1c7e4a5b50fc8fc5e5">bash_results</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="comment">// Was anything hit?</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno"><a class="line" href="structbash__results.html#a48c2a9a4e6818114ae5506cf3eee1083">  164</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structbash__results.html#a48c2a9a4e6818114ae5506cf3eee1083">did_bash</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    <span class="comment">// Was anything destroyed?</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno"><a class="line" href="structbash__results.html#aca607ab5e6884fe03b2119ffecd88419">  166</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structbash__results.html#aca607ab5e6884fe03b2119ffecd88419">success</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="comment">// Did we bash furniture, terrain or vehicle</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno"><a class="line" href="structbash__results.html#afe659e698646174add3359fbb95e9309">  168</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structbash__results.html#afe659e698646174add3359fbb95e9309">bashed_solid</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <span class="comment">// If there was recurrent bashing, it will be here</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno"><a class="line" href="structbash__results.html#a06ab05bdb5bc8081c7c6b324862aeb10">  170</a></span>    std::vector&lt;bash_results&gt; <a class="code hl_variable" href="structbash__results.html#a06ab05bdb5bc8081c7c6b324862aeb10">subresults</a>;</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span> </div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <a class="code hl_struct" href="structbash__results.html">bash_results</a> &amp;<a class="code hl_function" href="structbash__results.html#a7b4071c6742fab2f9aa93c9275c26b92">operator|=</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structbash__results.html">bash_results</a> &amp;<a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> );</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>};</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span><span class="comment"></span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span><span class="comment">/** Draw parameters used by map::drawsq() and similar methods. */</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno"><a class="line" href="structdrawsq__params.html">  176</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structdrawsq__params.html">drawsq_params</a> {</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    <span class="keyword">private</span>:</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#a57a10508ab63236e853c498ef0569dd7">  178</a></span>        <a class="code hl_struct" href="structtripoint.html">tripoint</a> <a class="code hl_variable" href="structdrawsq__params.html#a57a10508ab63236e853c498ef0569dd7">view_center</a> = <a class="code hl_variable" href="point_8h.html#afa8693bb804568b71fece8ab73d959bf">tripoint_min</a>;</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#ad2daef9ac32afb87bb654c4a24ea55ed">  179</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structdrawsq__params.html#ad2daef9ac32afb87bb654c4a24ea55ed">do_highlight</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#aa1f5053e75daac9a717b5121f2ec6680">  180</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structdrawsq__params.html#aa1f5053e75daac9a717b5121f2ec6680">do_show_items</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#a45c2dd16f8e773f6bf5fe1e75003e5c4">  181</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structdrawsq__params.html#a45c2dd16f8e773f6bf5fe1e75003e5c4">do_low_light</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#a5e8a2d599e28f7b51e70697c0ef63908">  182</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structdrawsq__params.html#a5e8a2d599e28f7b51e70697c0ef63908">do_bright_light</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#ad93d9fda9626f875b7c869f80112605e">  183</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structdrawsq__params.html#ad93d9fda9626f875b7c869f80112605e">do_memorize</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#a93d0b3025f413faa84e7b5a162d3c78e">  184</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structdrawsq__params.html#a93d0b3025f413faa84e7b5a162d3c78e">do_output</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span> </div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#a9636fcbae9c656f3600c2597a87e1ffc">  187</a></span>        <span class="keyword">constexpr</span> <a class="code hl_function" href="structdrawsq__params.html#a9636fcbae9c656f3600c2597a87e1ffc">drawsq_params</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span><span class="comment"></span> </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span><span class="comment">         * Highlight the tile. On TILES, draws an overlay; on CURSES, inverts color.</span></div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span><span class="comment">         * Default: false.</span></div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span><span class="comment">         */</span><span class="comment"></span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span><span class="comment">        //@{</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#a07e0031d80c902338e81e0625215c8ee">  194</a></span><span class="comment"></span>        <span class="keyword">constexpr</span> <a class="code hl_struct" href="structdrawsq__params.html">drawsq_params</a> &amp;<a class="code hl_function" href="structdrawsq__params.html#a07e0031d80c902338e81e0625215c8ee">highlight</a>( <span class="keywordtype">bool</span> v ) {</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>            <a class="code hl_variable" href="structdrawsq__params.html#ad2daef9ac32afb87bb654c4a24ea55ed">do_highlight</a> = v;</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>            <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>        }</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#a4eac1f2803404297e656a201f399ea4d">  198</a></span>        <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structdrawsq__params.html#a4eac1f2803404297e656a201f399ea4d">highlight</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structdrawsq__params.html#ad2daef9ac32afb87bb654c4a24ea55ed">do_highlight</a>;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>        }<span class="comment"></span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span><span class="comment">        //@}</span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span><span class="comment"></span><span class="comment"></span> </div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span><span class="comment">         * Whether to draw items on the tile.</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span><span class="comment">         * Default: true.</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span><span class="comment">         */</span><span class="comment"></span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span><span class="comment">        //@{</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#aec60dd738bbba7cdc8148d2e6039210a">  208</a></span><span class="comment"></span>        <span class="keyword">constexpr</span> <a class="code hl_struct" href="structdrawsq__params.html">drawsq_params</a> &amp;<a class="code hl_function" href="structdrawsq__params.html#aec60dd738bbba7cdc8148d2e6039210a">show_items</a>( <span class="keywordtype">bool</span> v ) {</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>            <a class="code hl_variable" href="structdrawsq__params.html#aa1f5053e75daac9a717b5121f2ec6680">do_show_items</a> = v;</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>            <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>        }</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#a51debed89297fe92ab6e33e20da23027">  212</a></span>        <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structdrawsq__params.html#a51debed89297fe92ab6e33e20da23027">show_items</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structdrawsq__params.html#aa1f5053e75daac9a717b5121f2ec6680">do_show_items</a>;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>        }<span class="comment"></span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span><span class="comment">        //@}</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span><span class="comment"></span><span class="comment"></span> </div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span><span class="comment">         * Whether tile is low light, and should be drawn with muted color.</span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span><span class="comment">         * Default: false.</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span><span class="comment">         */</span><span class="comment"></span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span><span class="comment">        //@{</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#aef10e6e767f6b4c50d09b07b51579642">  222</a></span><span class="comment"></span>        <span class="keyword">constexpr</span> <a class="code hl_struct" href="structdrawsq__params.html">drawsq_params</a> &amp;<a class="code hl_function" href="structdrawsq__params.html#aef10e6e767f6b4c50d09b07b51579642">low_light</a>( <span class="keywordtype">bool</span> v ) {</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>            <a class="code hl_variable" href="structdrawsq__params.html#a45c2dd16f8e773f6bf5fe1e75003e5c4">do_low_light</a> = v;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>            <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>        }</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#a8e475f98647ecc186ceef593e256e458">  226</a></span>        <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structdrawsq__params.html#a8e475f98647ecc186ceef593e256e458">low_light</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structdrawsq__params.html#a45c2dd16f8e773f6bf5fe1e75003e5c4">do_low_light</a>;</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>        }<span class="comment"></span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span><span class="comment">        //@}</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span><span class="comment"></span><span class="comment"></span> </div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span><span class="comment">         * Whether tile is in bright light. Affects NV overlay, and nothing else.</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span><span class="comment">         * Default: false;</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span><span class="comment">         */</span><span class="comment"></span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span><span class="comment">        //@{</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#a3589f58cf06ea91bb8bfda355f6ab123">  236</a></span><span class="comment"></span>        <span class="keyword">constexpr</span> <a class="code hl_struct" href="structdrawsq__params.html">drawsq_params</a> &amp;<a class="code hl_function" href="structdrawsq__params.html#a3589f58cf06ea91bb8bfda355f6ab123">bright_light</a>( <span class="keywordtype">bool</span> v ) {</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>            <a class="code hl_variable" href="structdrawsq__params.html#a5e8a2d599e28f7b51e70697c0ef63908">do_bright_light</a> = v;</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>            <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>        }</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#a9cdc4238e5d02c4c875ef71e557f290e">  240</a></span>        <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structdrawsq__params.html#a9cdc4238e5d02c4c875ef71e557f290e">bright_light</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structdrawsq__params.html#a5e8a2d599e28f7b51e70697c0ef63908">do_bright_light</a>;</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>        }<span class="comment"></span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span><span class="comment">        //@}</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span><span class="comment"></span><span class="comment"></span> </div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span><span class="comment">         * Whether the tile should be memorized. Used only in map::draw().</span></div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span><span class="comment">         * Default: false.</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span><span class="comment">         */</span><span class="comment"></span></div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span><span class="comment">        //@{</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#ade6ae5245d19a1d0b1a3528b26ca3eb9">  250</a></span><span class="comment"></span>        <span class="keyword">constexpr</span> <a class="code hl_struct" href="structdrawsq__params.html">drawsq_params</a> &amp;<a class="code hl_function" href="structdrawsq__params.html#ade6ae5245d19a1d0b1a3528b26ca3eb9">memorize</a>( <span class="keywordtype">bool</span> v ) {</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>            <a class="code hl_variable" href="structdrawsq__params.html#ad93d9fda9626f875b7c869f80112605e">do_memorize</a> = v;</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>            <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>        }</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#a428d49afdfcc51ecdc020957048066da">  254</a></span>        <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structdrawsq__params.html#a428d49afdfcc51ecdc020957048066da">memorize</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structdrawsq__params.html#ad93d9fda9626f875b7c869f80112605e">do_memorize</a>;</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>        }<span class="comment"></span></div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span><span class="comment">        //@}</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span><span class="comment"></span><span class="comment"></span> </div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span><span class="comment">         * HACK: Whether the tile should be printed. Used only in map::draw()</span></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span><span class="comment">         * as a hack for memorizing off-screen tiles.</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span><span class="comment">         * Default: true.</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span><span class="comment">         */</span><span class="comment"></span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span><span class="comment">        //@{</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#ab0e480cbaf3820a8db148b33168b0c8c">  265</a></span><span class="comment"></span>        <span class="keyword">constexpr</span> <a class="code hl_struct" href="structdrawsq__params.html">drawsq_params</a> &amp;<a class="code hl_function" href="structdrawsq__params.html#ab0e480cbaf3820a8db148b33168b0c8c">output</a>( <span class="keywordtype">bool</span> v ) {</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>            <a class="code hl_variable" href="structdrawsq__params.html#a93d0b3025f413faa84e7b5a162d3c78e">do_output</a> = v;</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>            <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>        }</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#aa033428159f5951773478d013287ab55">  269</a></span>        <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structdrawsq__params.html#aa033428159f5951773478d013287ab55">output</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structdrawsq__params.html#a93d0b3025f413faa84e7b5a162d3c78e">do_output</a>;</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>        }<span class="comment"></span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span><span class="comment">        //@}</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span><span class="comment"></span><span class="comment"></span> </div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span><span class="comment">         * Set view center.</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span><span class="comment">         * Default: uses avatar&#39;s current view center.</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span><span class="comment">         */</span><span class="comment"></span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span><span class="comment">        //@{</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#a62c9449e7c7cf3d1a7828e2c65100ac8">  279</a></span><span class="comment"></span>        <span class="keyword">constexpr</span> <a class="code hl_struct" href="structdrawsq__params.html">drawsq_params</a> &amp;<a class="code hl_function" href="structdrawsq__params.html#a62c9449e7c7cf3d1a7828e2c65100ac8">center</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) {</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>            <a class="code hl_variable" href="structdrawsq__params.html#a57a10508ab63236e853c498ef0569dd7">view_center</a> = p;</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>            <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>        }</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno"><a class="line" href="structdrawsq__params.html#a85a865bd29411c9fe01a0faf3ffcc9af">  283</a></span>        <span class="keyword">constexpr</span> <a class="code hl_struct" href="structdrawsq__params.html">drawsq_params</a> &amp;<a class="code hl_function" href="structdrawsq__params.html#a85a865bd29411c9fe01a0faf3ffcc9af">center_at_avatar</a>() {</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>            <a class="code hl_variable" href="structdrawsq__params.html#a57a10508ab63236e853c498ef0569dd7">view_center</a> = <a class="code hl_variable" href="point_8h.html#afa8693bb804568b71fece8ab73d959bf">tripoint_min</a>;</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>            <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>        }</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>        <a class="code hl_struct" href="structtripoint.html">tripoint</a> <a class="code hl_function" href="structdrawsq__params.html#a207196316483ad82ae1f8dfaa313f1f2">center</a>() <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span><span class="comment">        //@}</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span><span class="comment"></span>};</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span> </div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno"><a class="line" href="structlevel__cache.html">  291</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structlevel__cache.html">level_cache</a> {</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    <span class="comment">// Zeros all relevant values</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    <a class="code hl_function" href="structlevel__cache.html#a9a4ea1fae01f7663677734507557ba8f">level_cache</a>();</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno"><a class="line" href="structlevel__cache.html#ab2cdaa15a42d7ab408b8ab4d368c5bf2">  294</a></span>    <a class="code hl_function" href="structlevel__cache.html#ab2cdaa15a42d7ab408b8ab4d368c5bf2">level_cache</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structlevel__cache.html">level_cache</a> &amp;<a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> ) = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span> </div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno"><a class="line" href="structlevel__cache.html#a5442c23fc714c659faac43bfd17bc2f4">  296</a></span>    std::bitset&lt;MAPSIZE *MAPSIZE&gt; <a class="code hl_variable" href="structlevel__cache.html#a5442c23fc714c659faac43bfd17bc2f4">transparency_cache_dirty</a>;</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno"><a class="line" href="structlevel__cache.html#a09608233136cae79d2bd94c3d1d9ffdd">  297</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structlevel__cache.html#a09608233136cae79d2bd94c3d1d9ffdd">outside_cache_dirty</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno"><a class="line" href="structlevel__cache.html#a24b1fdeb40834e94a75234743cc2948d">  298</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structlevel__cache.html#a24b1fdeb40834e94a75234743cc2948d">floor_cache_dirty</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno"><a class="line" href="structlevel__cache.html#ac4600f4173f4f10c4ed8f015877f5288">  299</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structlevel__cache.html#ac4600f4173f4f10c4ed8f015877f5288">seen_cache_dirty</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno"><a class="line" href="structlevel__cache.html#a9f85fb15dc9bf14c0134cb07bdf5db60">  300</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structlevel__cache.html#a9f85fb15dc9bf14c0134cb07bdf5db60">suspension_cache_initialized</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno"><a class="line" href="structlevel__cache.html#aa6b0ffa35becad0f59623507be05abf7">  301</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structlevel__cache.html#aa6b0ffa35becad0f59623507be05abf7">suspension_cache_dirty</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno"><a class="line" href="structlevel__cache.html#aa548a971fec11c3cb30e0f5eba367056">  302</a></span>    std::list&lt;point&gt; <a class="code hl_variable" href="structlevel__cache.html#aa548a971fec11c3cb30e0f5eba367056">suspension_cache</a>;</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span> </div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno"><a class="line" href="structlevel__cache.html#a1d3856892a7a5815f09ea7e8e502c2e5">  304</a></span>    <a class="code hl_struct" href="structfour__quadrants.html">four_quadrants</a> <a class="code hl_variable" href="structlevel__cache.html#a1d3856892a7a5815f09ea7e8e502c2e5">lm</a>[<a class="code hl_variable" href="game__constants_8h.html#a2f229f6ae9b3affb78ec8139ccdbf18e">MAPSIZE_X</a>][<a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a>];</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno"><a class="line" href="structlevel__cache.html#aae5b10f8c81f98cfcba26167bf800df7">  305</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structlevel__cache.html#aae5b10f8c81f98cfcba26167bf800df7">sm</a>[<a class="code hl_variable" href="game__constants_8h.html#a2f229f6ae9b3affb78ec8139ccdbf18e">MAPSIZE_X</a>][<a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a>];</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>    <span class="comment">// To prevent redundant ray casting into neighbors: precalculate bulk light source positions.</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>    <span class="comment">// This is only valid for the duration of generate_lightmap</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno"><a class="line" href="structlevel__cache.html#a109f086036f662c196589200b972f8a4">  308</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structlevel__cache.html#a109f086036f662c196589200b972f8a4">light_source_buffer</a>[<a class="code hl_variable" href="game__constants_8h.html#a2f229f6ae9b3affb78ec8139ccdbf18e">MAPSIZE_X</a>][<a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a>];</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span> </div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>    <span class="comment">// if false, means tile is under the roof (&quot;inside&quot;), true means tile is &quot;outside&quot;</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    <span class="comment">// &quot;inside&quot; tiles are protected from sun, rain, etc. (see &quot;INDOORS&quot; flag)</span></div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno"><a class="line" href="structlevel__cache.html#aaf488243c97a59afbd63a9f9e2972afc">  312</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structlevel__cache.html#aaf488243c97a59afbd63a9f9e2972afc">outside_cache</a>[<a class="code hl_variable" href="game__constants_8h.html#a2f229f6ae9b3affb78ec8139ccdbf18e">MAPSIZE_X</a>][<a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a>];</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span> </div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    <span class="comment">// true when vehicle below has &quot;ROOF&quot; or &quot;OPAQUE&quot; part, furniture below has &quot;SUN_ROOF_ABOVE&quot;</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    <span class="comment">//      or terrain doesn&#39;t have &quot;NO_FLOOR&quot; flag</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    <span class="comment">// false otherwise</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <span class="comment">// i.e. true == has floor</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno"><a class="line" href="structlevel__cache.html#a588b0269e8b90fbaaf314abf1ed85f55">  318</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structlevel__cache.html#a588b0269e8b90fbaaf314abf1ed85f55">floor_cache</a>[<a class="code hl_variable" href="game__constants_8h.html#a2f229f6ae9b3affb78ec8139ccdbf18e">MAPSIZE_X</a>][<a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a>];</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span> </div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    <span class="comment">// stores cached transparency of the tiles</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <span class="comment">// units: &quot;transparency&quot; (see LIGHT_TRANSPARENCY_OPEN_AIR)</span></div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno"><a class="line" href="structlevel__cache.html#ad1be36035ce00b2c64dd1b73528f4975">  322</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structlevel__cache.html#ad1be36035ce00b2c64dd1b73528f4975">transparency_cache</a>[<a class="code hl_variable" href="game__constants_8h.html#a2f229f6ae9b3affb78ec8139ccdbf18e">MAPSIZE_X</a>][<a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a>];</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span> </div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>    <span class="comment">// stores &quot;adjusted transparency&quot; of the tiles</span></div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>    <span class="comment">// initial values derived from transparency_cache, uses same units</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>    <span class="comment">// examples of adjustment: changed transparency on player&#39;s tile and special case for crouching</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno"><a class="line" href="structlevel__cache.html#ae679f104e906364a8b4bfce502d99b67">  327</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structlevel__cache.html#ae679f104e906364a8b4bfce502d99b67">vision_transparency_cache</a>[<a class="code hl_variable" href="game__constants_8h.html#a2f229f6ae9b3affb78ec8139ccdbf18e">MAPSIZE_X</a>][<a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a>];</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span> </div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>    <span class="comment">// stores &quot;visibility&quot; of the tiles to the player</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    <span class="comment">// values range from 1 (fully visible to player) to 0 (not visible)</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno"><a class="line" href="structlevel__cache.html#a0d5b0df13e2b5fe817a458be44546219">  331</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structlevel__cache.html#a0d5b0df13e2b5fe817a458be44546219">seen_cache</a>[<a class="code hl_variable" href="game__constants_8h.html#a2f229f6ae9b3affb78ec8139ccdbf18e">MAPSIZE_X</a>][<a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a>];</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span> </div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    <span class="comment">// same as `seen_cache` (same units) but contains values for cameras and mirrors</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <span class="comment">// effective &quot;visibility_cache&quot; is calculated as &quot;max(seen_cache, camera_cache)&quot;</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno"><a class="line" href="structlevel__cache.html#af70ab849b23746d4c7758a6d7dc34ca8">  335</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structlevel__cache.html#af70ab849b23746d4c7758a6d7dc34ca8">camera_cache</a>[<a class="code hl_variable" href="game__constants_8h.html#a2f229f6ae9b3affb78ec8139ccdbf18e">MAPSIZE_X</a>][<a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a>];</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span> </div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    <span class="comment">// stores resulting apparent brightness to player, calculated by map::apparent_light_at</span></div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno"><a class="line" href="structlevel__cache.html#afc09df9c0144ecc9c0fb47a2131506eb">  338</a></span>    <a class="code hl_enumeration" href="lightmap_8h.html#aeb9bbbd65db85e3561729666fb6c7b38">lit_level</a> <a class="code hl_variable" href="structlevel__cache.html#afc09df9c0144ecc9c0fb47a2131506eb">visibility_cache</a>[<a class="code hl_variable" href="game__constants_8h.html#a2f229f6ae9b3affb78ec8139ccdbf18e">MAPSIZE_X</a>][<a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a>];</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno"><a class="line" href="structlevel__cache.html#a9a900fe87f376efd5c76ac14d03ce62b">  339</a></span>    std::bitset&lt;MAPSIZE_X *MAPSIZE_Y&gt; <a class="code hl_variable" href="structlevel__cache.html#a9a900fe87f376efd5c76ac14d03ce62b">map_memory_seen_cache</a>;</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno"><a class="line" href="structlevel__cache.html#a2af0622caf0c878e166015f22e2add9e">  340</a></span>    std::bitset&lt;MAPSIZE *MAPSIZE&gt; <a class="code hl_variable" href="structlevel__cache.html#a2af0622caf0c878e166015f22e2add9e">field_cache</a>;</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span> </div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno"><a class="line" href="structlevel__cache.html#a89601d2fa12cacb02a3c347a11c63162">  342</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structlevel__cache.html#a89601d2fa12cacb02a3c347a11c63162">veh_in_active_range</a>;</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno"><a class="line" href="structlevel__cache.html#abc05173a201b92434aa76b9548e8c5db">  343</a></span>    <span class="keywordtype">bool</span> <a class="code hl_variable" href="structlevel__cache.html#abc05173a201b92434aa76b9548e8c5db">veh_exists_at</a>[<a class="code hl_variable" href="game__constants_8h.html#a2f229f6ae9b3affb78ec8139ccdbf18e">MAPSIZE_X</a>][<a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a>];</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno"><a class="line" href="structlevel__cache.html#add0cbb5f55e168b6555aebc425bab1c6">  344</a></span>    std::map&lt; tripoint, std::pair&lt;vehicle *, int&gt; &gt; <a class="code hl_variable" href="structlevel__cache.html#add0cbb5f55e168b6555aebc425bab1c6">veh_cached_parts</a>;</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno"><a class="line" href="structlevel__cache.html#a98e6882301ee3fd356e840dc466bfc45">  345</a></span>    std::set&lt;vehicle *&gt; <a class="code hl_variable" href="structlevel__cache.html#a98e6882301ee3fd356e840dc466bfc45">vehicle_list</a>;</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno"><a class="line" href="structlevel__cache.html#a8e9aa1e28e9e616a972ac6cb5353d104">  346</a></span>    std::set&lt;vehicle *&gt; <a class="code hl_variable" href="structlevel__cache.html#a8e9aa1e28e9e616a972ac6cb5353d104">zone_vehicles</a>;</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span> </div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>};</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span><span class="comment"></span> </div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span><span class="comment">/**</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span><span class="comment"> * Manage and cache data about a part of the map.</span></div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span><span class="comment"> *</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span><span class="comment"> * Despite the name, this class isn&#39;t actually responsible for managing the map as a whole. For that function,</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span><span class="comment"> * see \ref mapbuffer. Instead, this class loads a part of the mapbuffer into a cache, and adds certain temporary</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span><span class="comment"> * information such as lighting calculations to it.</span></div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span><span class="comment"> *</span></div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span><span class="comment"> * To understand the following descriptions better, you should also read \ref map_management</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span><span class="comment"> *</span></div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span><span class="comment"> * The map coordinates always start at (0, 0) for the top-left and end at (map_width-1, map_height-1) for the bottom-right.</span></div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span><span class="comment"> *</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span><span class="comment"> * The actual map data is stored in `submap` instances. These instances are managed by `mapbuffer`.</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span><span class="comment"> * References to the currently active submaps are stored in `map::grid`:</span></div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span><span class="comment"> *     0 1 2</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span><span class="comment"> *     3 4 5</span></div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span><span class="comment"> *     6 7 8</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span><span class="comment"> * In this example, the top-right submap would be at `grid[2]`.</span></div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span><span class="comment"> *</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span><span class="comment"> * When the player moves between submaps, the whole map is shifted, so that if the player moves one submap to the right,</span></div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span><span class="comment"> * (0, 0) now points to a tile one submap to the right from before</span></div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span><span class="comment"> */</span></div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno"><a class="line" href="classmap.html">  371</a></span><span class="keyword">class </span><a class="code hl_class" href="classmap.html">map</a></div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>{</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno"><a class="line" href="classmap.html#a61f882783d55204dfb52502ca1d5d9db">  373</a></span>        <span class="keyword">friend</span> <span class="keyword">class </span><a class="code hl_class" href="classeditmap.html">editmap</a>;</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>        <span class="keyword">friend</span> <span class="keyword">class </span><a class="code hl_class" href="classvisitable.html">visitable</a>&lt;<a class="code hl_class" href="classmap__cursor.html">map_cursor</a>&gt;;</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>        <span class="comment">// Constructors &amp; Initialization</span></div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>        <a class="code hl_function" href="classmap.html#aa3646717fd2a2a35fa554503ff4918f8">map</a>( <span class="keywordtype">int</span> mapsize = <a class="code hl_variable" href="game__constants_8h.html#ad277b12d7860c613865a85a2cc383c17">MAPSIZE</a>, <span class="keywordtype">bool</span> zlev = <span class="keyword">false</span> );</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno"><a class="line" href="classmap.html#a950d661eae6e1f5c7c501473331e5c84">  379</a></span>        <span class="keyword">explicit</span> <a class="code hl_function" href="classmap.html#a950d661eae6e1f5c7c501473331e5c84">map</a>( <span class="keywordtype">bool</span> zlev ) : <a class="code hl_class" href="classmap.html">map</a>( <a class="code hl_variable" href="game__constants_8h.html#ad277b12d7860c613865a85a2cc383c17">MAPSIZE</a>, zlev ) { }</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno"><a class="line" href="classmap.html#a0cc22df7b44f7835fa10ed241848b041">  380</a></span>        <span class="keyword">virtual</span> <a class="code hl_function" href="classmap.html#a0cc22df7b44f7835fa10ed241848b041">~map</a>();</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span> </div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno"><a class="line" href="classmap.html#ab020e57342f622ba55131fbd8ac31c6f">  382</a></span>        <a class="code hl_class" href="classmap.html">map</a> &amp;<a class="code hl_function" href="classmap.html#ab020e57342f622ba55131fbd8ac31c6f">operator=</a>( <span class="keyword">const</span> <a class="code hl_class" href="classmap.html">map</a> &amp; ) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno"><a class="line" href="classmap.html#a756c0c0b5bef35566e82a8caa22379fc">  383</a></span>        <a class="code hl_class" href="classmap.html">map</a> &amp;<a class="code hl_function" href="classmap.html#a756c0c0b5bef35566e82a8caa22379fc">operator=</a>( <a class="code hl_class" href="classmap.html">map</a> &amp;&amp; );</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span><span class="comment"></span> </div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span><span class="comment">         * Sets a dirty flag on the a given cache.</span></div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span><span class="comment">         *</span></div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span><span class="comment">         * If this isn&#39;t set, it&#39;s just assumed that</span></div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span><span class="comment">         * the cache hasn&#39;t changed and</span></div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span><span class="comment">         * doesn&#39;t need to be updated.</span></div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span><span class="comment">         */</span><span class="comment"></span></div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span><span class="comment">        /*@{*/</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno"><a class="line" href="classmap.html#a0ecdaa7f32bcc5dbcb162ae76ad863c9">  393</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a0ecdaa7f32bcc5dbcb162ae76ad863c9">set_transparency_cache_dirty</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> zlev ) {</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classmap.html#aa00000bc092d452f60dc532532d58232">inbounds_z</a>( zlev ) ) {</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>                <a class="code hl_function" href="classmap.html#a2c2523e489f73c84e7a77a138e60ba25">get_cache</a>( zlev ).<a class="code hl_variable" href="structlevel__cache.html#a5442c23fc714c659faac43bfd17bc2f4">transparency_cache_dirty</a>.set();</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>            }</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>        }</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span> </div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>        <span class="comment">// more granular version of the transparency cache invalidation</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>        <span class="comment">// preferred over map::set_transparency_cache_dirty( const int zlev )</span></div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>        <span class="comment">// p is in local coords (&quot;ms&quot;)</span></div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno"><a class="line" href="classmap.html#a68add3c10cb6f193d09612a726c35bef">  402</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a68add3c10cb6f193d09612a726c35bef">set_transparency_cache_dirty</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) {</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classmap.html#a46608709f68358365d0734b1063fed73">inbounds</a>( p ) ) {</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> smp = <a class="code hl_function" href="coordinate__conversions_8cpp.html#aab2861adbce30d229bf852df21a98c1a">ms_to_sm_copy</a>( p );</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>                <a class="code hl_function" href="classmap.html#a2c2523e489f73c84e7a77a138e60ba25">get_cache</a>( smp.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ).<a class="code hl_variable" href="structlevel__cache.html#a5442c23fc714c659faac43bfd17bc2f4">transparency_cache_dirty</a>.set( smp.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> * <a class="code hl_variable" href="game__constants_8h.html#ad277b12d7860c613865a85a2cc383c17">MAPSIZE</a> + smp.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> );</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>            }</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>        }</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span> </div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno"><a class="line" href="classmap.html#abfe32fc67ef91fe15105c31b5ef884ab">  409</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#abfe32fc67ef91fe15105c31b5ef884ab">set_seen_cache_dirty</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> change_location ) {</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classmap.html#a46608709f68358365d0734b1063fed73">inbounds</a>( change_location ) ) {</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>                <a class="code hl_struct" href="structlevel__cache.html">level_cache</a> &amp;cache = <a class="code hl_function" href="classmap.html#a2c2523e489f73c84e7a77a138e60ba25">get_cache</a>( change_location.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> );</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>                <span class="keywordflow">if</span>( cache.<a class="code hl_variable" href="structlevel__cache.html#ac4600f4173f4f10c4ed8f015877f5288">seen_cache_dirty</a> ) {</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>                }</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>                <span class="keywordflow">if</span>( cache.<a class="code hl_variable" href="structlevel__cache.html#a0d5b0df13e2b5fe817a458be44546219">seen_cache</a>[change_location.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a>][change_location.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a>] != 0.0 ||</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>                    cache.<a class="code hl_variable" href="structlevel__cache.html#af70ab849b23746d4c7758a6d7dc34ca8">camera_cache</a>[change_location.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a>][change_location.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a>] != 0.0 ) {</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>                    cache.<a class="code hl_variable" href="structlevel__cache.html#ac4600f4173f4f10c4ed8f015877f5288">seen_cache_dirty</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>                }</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>            }</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>        }</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span> </div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>        <span class="comment">// invalidates seen cache for the whole zlevel unconditionally</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno"><a class="line" href="classmap.html#a24aa8ce2d47ee346d3e3e11003757fca">  423</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a24aa8ce2d47ee346d3e3e11003757fca">set_seen_cache_dirty</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> zlevel ) {</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classmap.html#aa00000bc092d452f60dc532532d58232">inbounds_z</a>( zlevel ) ) {</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>                <a class="code hl_struct" href="structlevel__cache.html">level_cache</a> &amp;cache = <a class="code hl_function" href="classmap.html#a2c2523e489f73c84e7a77a138e60ba25">get_cache</a>( zlevel );</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>                cache.<a class="code hl_variable" href="structlevel__cache.html#ac4600f4173f4f10c4ed8f015877f5288">seen_cache_dirty</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>            }</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>        }</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span> </div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno"><a class="line" href="classmap.html#a2a5095bdf837336c48fbbbd2571151dc">  430</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a2a5095bdf837336c48fbbbd2571151dc">set_outside_cache_dirty</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> zlev ) {</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classmap.html#aa00000bc092d452f60dc532532d58232">inbounds_z</a>( zlev ) ) {</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>                <a class="code hl_function" href="classmap.html#a2c2523e489f73c84e7a77a138e60ba25">get_cache</a>( zlev ).<a class="code hl_variable" href="structlevel__cache.html#a09608233136cae79d2bd94c3d1d9ffdd">outside_cache_dirty</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>            }</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>        }</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span> </div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno"><a class="line" href="classmap.html#a04043fae77ccf354fa62e60354beb547">  436</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a04043fae77ccf354fa62e60354beb547">set_floor_cache_dirty</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> zlev ) {</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classmap.html#aa00000bc092d452f60dc532532d58232">inbounds_z</a>( zlev ) ) {</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>                <a class="code hl_function" href="classmap.html#a2c2523e489f73c84e7a77a138e60ba25">get_cache</a>( zlev ).<a class="code hl_variable" href="structlevel__cache.html#a24b1fdeb40834e94a75234743cc2948d">floor_cache_dirty</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>            }</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>        }</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span> </div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno"><a class="line" href="classmap.html#aa3103fc24e5eb83380766809334b2ac6">  442</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#aa3103fc24e5eb83380766809334b2ac6">set_suspension_cache_dirty</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> zlev ) {</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classmap.html#aa00000bc092d452f60dc532532d58232">inbounds_z</a>( zlev ) ) {</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>                <a class="code hl_function" href="classmap.html#a2c2523e489f73c84e7a77a138e60ba25">get_cache</a>( zlev ).<a class="code hl_variable" href="structlevel__cache.html#aa6b0ffa35becad0f59623507be05abf7">suspension_cache_dirty</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>            }</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>        }</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span> </div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a5d33742e90766904990440df9f0cceab">set_pathfinding_cache_dirty</a>( <span class="keywordtype">int</span> zlev );<span class="comment"></span></div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span><span class="comment">        /*@}*/</span></div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span> </div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno"><a class="line" href="classmap.html#a49d42535b664b5a6e4e8a02e3e773f4d">  451</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a49d42535b664b5a6e4e8a02e3e773f4d">set_memory_seen_cache_dirty</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) {</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> offset = p.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> + p.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> * <a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a>;</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>            <span class="keywordflow">if</span>( offset &gt;= 0 &amp;&amp; offset &lt; <a class="code hl_variable" href="game__constants_8h.html#a2f229f6ae9b3affb78ec8139ccdbf18e">MAPSIZE_X</a> * <a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a> ) {</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>                <a class="code hl_function" href="classmap.html#a2c2523e489f73c84e7a77a138e60ba25">get_cache</a>( p.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ).<a class="code hl_variable" href="structlevel__cache.html#a9a900fe87f376efd5c76ac14d03ce62b">map_memory_seen_cache</a>.reset( offset );</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>            }</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>        }</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span> </div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno"><a class="line" href="classmap.html#af839ef9ba53f51b09259e0af06881fe6">  458</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#af839ef9ba53f51b09259e0af06881fe6">invalidate_map_cache</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> zlev ) {</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classmap.html#aa00000bc092d452f60dc532532d58232">inbounds_z</a>( zlev ) ) {</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>                <a class="code hl_struct" href="structlevel__cache.html">level_cache</a> &amp;ch = <a class="code hl_function" href="classmap.html#a2c2523e489f73c84e7a77a138e60ba25">get_cache</a>( zlev );</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>                ch.<a class="code hl_variable" href="structlevel__cache.html#a24b1fdeb40834e94a75234743cc2948d">floor_cache_dirty</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>                ch.<a class="code hl_variable" href="structlevel__cache.html#a5442c23fc714c659faac43bfd17bc2f4">transparency_cache_dirty</a>.set();</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>                ch.<a class="code hl_variable" href="structlevel__cache.html#ac4600f4173f4f10c4ed8f015877f5288">seen_cache_dirty</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>                ch.<a class="code hl_variable" href="structlevel__cache.html#a09608233136cae79d2bd94c3d1d9ffdd">outside_cache_dirty</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>                ch.<a class="code hl_variable" href="structlevel__cache.html#aa6b0ffa35becad0f59623507be05abf7">suspension_cache_dirty</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>            }</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>        }</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span> </div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno"><a class="line" href="classmap.html#a045c4ad0d7f973fe996d3936086504c6">  469</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a045c4ad0d7f973fe996d3936086504c6">check_seen_cache</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>            std::bitset&lt;MAPSIZE_X *MAPSIZE_Y&gt; &amp;memory_seen_cache =</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>                <a class="code hl_function" href="classmap.html#a2c2523e489f73c84e7a77a138e60ba25">get_cache</a>( p.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ).<a class="code hl_variable" href="structlevel__cache.html#a9a900fe87f376efd5c76ac14d03ce62b">map_memory_seen_cache</a>;</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>            <span class="keywordflow">return</span> !memory_seen_cache[ <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( p.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> + p.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> * <a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a> ) ];</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>        }</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno"><a class="line" href="classmap.html#a466c11349ea9c7fc52079c7e407b1744">  474</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a466c11349ea9c7fc52079c7e407b1744">check_and_set_seen_cache</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>            std::bitset&lt;MAPSIZE_X *MAPSIZE_Y&gt; &amp;memory_seen_cache =</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>                <a class="code hl_function" href="classmap.html#a2c2523e489f73c84e7a77a138e60ba25">get_cache</a>( p.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ).<a class="code hl_variable" href="structlevel__cache.html#a9a900fe87f376efd5c76ac14d03ce62b">map_memory_seen_cache</a>;</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>            <span class="keywordflow">if</span>( !memory_seen_cache[ <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( p.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> + p.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> * <a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a> ) ] ) {</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>                memory_seen_cache.set( <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( p.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> + p.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> * <a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a> ) );</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>            }</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>        }</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span><span class="comment"></span> </div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span><span class="comment">         * Callback invoked when a vehicle has moved.</span></div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span><span class="comment">         */</span></div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#aac63fb28872f612df34a7f9a86898ed7">on_vehicle_moved</a>( <span class="keywordtype">int</span> smz );</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span> </div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno"><a class="line" href="structmap_1_1apparent__light__info.html">  489</a></span>        <span class="keyword">struct </span><a class="code hl_struct" href="structmap_1_1apparent__light__info.html">apparent_light_info</a> {</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno"><a class="line" href="structmap_1_1apparent__light__info.html#ab1ec00d9260f395d3643939cac3225e3">  490</a></span>            <span class="keywordtype">bool</span> <a class="code hl_variable" href="structmap_1_1apparent__light__info.html#ab1ec00d9260f395d3643939cac3225e3">obstructed</a>;</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno"><a class="line" href="structmap_1_1apparent__light__info.html#ac8afbae318626e5c260383f34f3e46ec">  491</a></span>            <span class="keywordtype">float</span> <a class="code hl_variable" href="structmap_1_1apparent__light__info.html#ac8afbae318626e5c260383f34f3e46ec">apparent_light</a>;</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>        };<span class="comment"></span></div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span><span class="comment">        /** Helper function for light claculation; exposed here for map editor</span></div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span><span class="comment">         */</span></div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>        <span class="keyword">static</span> <a class="code hl_struct" href="structmap_1_1apparent__light__info.html">apparent_light_info</a> <a class="code hl_function" href="classmap.html#a18ecc805eaa201e9a852d1087a95b4e7">apparent_light_helper</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structlevel__cache.html">level_cache</a> &amp;map_cache,</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );<span class="comment"></span></div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span><span class="comment">        /** Determine the visible light level for a tile, based on light_at</span></div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span><span class="comment">         * for the tile, vision distance, etc</span></div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span><span class="comment">         *</span></div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span><span class="comment">         * @param p The tile on this map to draw.</span></div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span><span class="comment">         * @param cache Currently cached visibility parameters</span></div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span><span class="comment">         */</span></div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>        <a class="code hl_enumeration" href="lightmap_8h.html#aeb9bbbd65db85e3561729666fb6c7b38">lit_level</a> <a class="code hl_function" href="classmap.html#aac3b3cde4ebfa3bc6e4af70c6418be71">apparent_light_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_struct" href="structvisibility__variables.html">visibility_variables</a> &amp;cache ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>        <a class="code hl_enumeration" href="enums_8h.html#a098f2c63abf2d51d89c2b3e8db8b313b">visibility_type</a> <a class="code hl_function" href="classmap.html#a9ca9495068efebbdf83d185e0845cc54">get_visibility</a>( <a class="code hl_enumeration" href="lightmap_8h.html#aeb9bbbd65db85e3561729666fb6c7b38">lit_level</a> ll,</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>                                        <span class="keyword">const</span> <a class="code hl_struct" href="structvisibility__variables.html">visibility_variables</a> &amp;cache ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span> </div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>        <span class="comment">// See field.cpp</span></div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>        std::tuple&lt;maptile, maptile, maptile&gt; <a class="code hl_function" href="classmap.html#a2583b85e82d40e942e950351c1670deb">get_wind_blockers</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> &amp;winddirection,</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pos );</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span><span class="comment"></span> </div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span><span class="comment">        /** Draw a visible part of the map into `w`.</span></div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span><span class="comment">         *</span></div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span><span class="comment">         * This method uses `g-&gt;u.posx()/posy()` for visibility calculations, so it can</span></div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span><span class="comment">         * not be used for anything but the player&#39;s viewport. Likewise, only</span></div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span><span class="comment">         * `g-&gt;m` and maps with equivalent coordinates can be used, as other maps</span></div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span><span class="comment">         * would have coordinate systems incompatible with `g-&gt;u.posx()`</span></div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span><span class="comment">         *</span></div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span><span class="comment">         * @param w Window we are drawing in</span></div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span><span class="comment">         * @param center The coordinate of the center of the viewport, this can</span></div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span><span class="comment">         *               be different from the player coordinate.</span></div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span><span class="comment">         */</span></div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a091e78df9647c7c8a468a33886a097c5">draw</a>( <span class="keyword">const</span> <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_enumvalue" href="cata__tiles_8h.html#affa90804269b044a43867f93746f8f8eaadb115059e28d960fa8badfac5516667">center</a> );</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span><span class="comment"></span> </div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span><span class="comment">         * Draw the map tile at the given coordinate. Called by `map::draw()`.</span></div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span><span class="comment">         *</span></div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span><span class="comment">         * @param w The window we are drawing in</span></div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span><span class="comment">         * @param p The tile on this map to draw.</span></div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span><span class="comment">         * @param params Draw parameters.</span></div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span><span class="comment">         */</span></div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ad189f4216a9eaacbf9c5aa0ceedaea18">drawsq</a>( <span class="keyword">const</span> <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_struct" href="structdrawsq__params.html">drawsq_params</a> &amp;params ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span><span class="comment"></span> </div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span><span class="comment">         * Add currently loaded submaps (in @ref grid) to the @ref mapbuffer.</span></div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span><span class="comment">         * They will than be stored by that class and can be loaded from that class.</span></div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span><span class="comment">         * This can be called several times, the mapbuffer takes care of adding</span></div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span><span class="comment">         * the same submap several times. It should only be called after the map has</span></div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span><span class="comment">         * been loaded.</span></div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span><span class="comment">         * Submaps that have been loaded from the mapbuffer (and not generated) are</span></div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span><span class="comment">         * already stored in the mapbuffer.</span></div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span><span class="comment">         * TODO: determine if this is really needed? Submaps are already in the mapbuffer</span></div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span><span class="comment">         * if they have been loaded from disc and the are added by map::generate, too.</span></div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span><span class="comment">         * So when do they not appear in the mapbuffer?</span></div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span><span class="comment">         */</span></div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a6bc669c8915ae41469ef8f0b5e925c3e">save</a>();<span class="comment"></span></div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span><span class="comment">         * Load submaps into @ref grid. This might create new submaps if</span></div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span><span class="comment">         * the @ref mapbuffer can not deliver the requested submap (as it does</span></div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span><span class="comment">         * not exist on disc).</span></div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span><span class="comment">         * This must be called before the map can be used at all!</span></div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span><span class="comment">         * @param w global coordinates of the submap at grid[0]. This</span></div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span><span class="comment">         * is in submap coordinates.</span></div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span><span class="comment">         * @param update_vehicles If true, add vehicles to the vehicle cache.</span></div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span><span class="comment">         */</span></div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#acba271f09a3ee19d230806f70a97856b">load</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;w, <span class="keywordtype">bool</span> update_vehicles );</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#acba271f09a3ee19d230806f70a97856b">load</a>( <span class="keyword">const</span> <a class="code hl_class" href="classcoords_1_1coord__point.html">tripoint_abs_sm</a> &amp;w, <span class="keywordtype">bool</span> update_vehicles );<span class="comment"></span></div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span><span class="comment">         * Shift the map along the vector s.</span></div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span><span class="comment">         * This is like loading the map with coordinates derived from the current</span></div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span><span class="comment">         * position of the map (@ref abs_sub) plus the shift vector.</span></div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span><span class="comment">         * Note: the map must have been loaded before this can be called.</span></div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span><span class="comment">         */</span></div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a2d8a816bd0b73e0fdfaa9793e93ad623">shift</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;s );<span class="comment"></span></div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span><span class="comment">         * Moves the map vertically to (not by!) newz.</span></div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span><span class="comment">         * Does not actually shift anything, only forces cache updates.</span></div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span><span class="comment">         * In the future, it will either actually shift the map or it will get removed</span></div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span><span class="comment">         *  after 3D migration is complete.</span></div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span><span class="comment">         */</span></div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#aa28280d14d55eb7b912b9d2e14acd025">vertical_shift</a>( <span class="keywordtype">int</span> newz );</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span> </div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ab118e42361f7efce62fdf46df19c9994">clear_spawns</a>();</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a3d3299337a809f5b5d4c435a199cd82c">clear_traps</a>();</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span> </div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>        <a class="code hl_struct" href="structmaptile.html">maptile</a> <a class="code hl_function" href="classmap.html#a267286ed64b9685c23cf335b2bd225bb">maptile_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>        <a class="code hl_struct" href="structmaptile.html">maptile</a> <a class="code hl_function" href="classmap.html#a267286ed64b9685c23cf335b2bd225bb">maptile_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    <span class="keyword">private</span>:</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>        <span class="comment">// Versions of the above that don&#39;t do bounds checks</span></div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>        <a class="code hl_struct" href="structmaptile.html">maptile</a> <a class="code hl_function" href="classmap.html#aef5205f2179c538caf9901871d434462">maptile_at_internal</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>        <a class="code hl_struct" href="structmaptile.html">maptile</a> <a class="code hl_function" href="classmap.html#aef5205f2179c538caf9901871d434462">maptile_at_internal</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>        std::pair&lt;tripoint, maptile&gt; <a class="code hl_function" href="classmap.html#a91bb6418064c2a4c142e9410c3c661ef">maptile_has_bounds</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">bool</span> bounds_checked );</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>        std::array&lt;std::pair&lt;tripoint, maptile&gt;, 8&gt; <a class="code hl_function" href="classmap.html#a11dbf59db7e4322c15b4aab9dfef5a91">get_neighbors</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a535690d28a08b8397a7a002c5c4c74af">spread_gas</a>( <a class="code hl_class" href="classfield__entry.html">field_entry</a> &amp;cur, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">int</span> percent_spread,</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>                         <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> &amp;outdoor_age_speedup, <a class="code hl_struct" href="structscent__block.html">scent_block</a> &amp;sblk );</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a46a11e492059459bbf26ba0f44ad951a">create_hot_air</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">int</span> intensity );</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#af4227f2341fcd97f9dab44741bdb0a84">gas_can_spread_to</a>( <a class="code hl_class" href="classfield__entry.html">field_entry</a> &amp;cur, <span class="keyword">const</span> <a class="code hl_struct" href="structmaptile.html">maptile</a> &amp;dst );</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#aa7959ae0022b6910c744d14d8cc218ed">gas_spread_to</a>( <a class="code hl_class" href="classfield__entry.html">field_entry</a> &amp;cur, <a class="code hl_struct" href="structmaptile.html">maptile</a> &amp;dst, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#ab42c106bfff9e18e1767421be6e9e72c">burn_body_part</a>( <a class="code hl_class" href="classplayer.html">player</a> &amp;u, <a class="code hl_class" href="classfield__entry.html">field_entry</a> &amp;cur, <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp, <span class="keywordtype">int</span> <a class="code hl_enumeration" href="namespacecoords.html#aefed5186be640da17dc0e723c536715a">scale</a> );</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span> </div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>        <span class="comment">// Movement and LOS</span><span class="comment"></span></div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span><span class="comment">        * Calculate the cost to move past the tile at p.</span></div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span><span class="comment">        *</span></div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span><span class="comment">        * The move cost is determined by various obstacles, such</span></div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span><span class="comment">        * as terrain, vehicles and furniture.</span></div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span><span class="comment">        *</span></div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span><span class="comment">        * @note Movement costs for players and zombies both use this function.</span></div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span><span class="comment">        *</span></div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span><span class="comment">        * @return The return value is interpreted as follows:</span></div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span><span class="comment">        * Move Cost | Meaning</span></div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span><span class="comment">        * --------- | -------</span></div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span><span class="comment">        * 0         | Impassable. Use `passable`/`impassable` to check for this.</span></div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span><span class="comment">        * n &gt; 0     | x*n turns to move past this</span></div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span><span class="comment">        */</span></div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#abe9e7b93cf8ee15c370ad55c3138c4f6">move_cost</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classvehicle.html">vehicle</a> *ignored_vehicle = <span class="keyword">nullptr</span> ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno"><a class="line" href="classmap.html#a45fa684aaebe5689e9c9ebdc29868420">  607</a></span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#a45fa684aaebe5689e9c9ebdc29868420">move_cost</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classvehicle.html">vehicle</a> *ignored_vehicle = <span class="keyword">nullptr</span> )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#abe9e7b93cf8ee15c370ad55c3138c4f6">move_cost</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ), ignored_vehicle );</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>        }</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a802cc11379d4be61f4e2b13a50f6390e">impassable</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno"><a class="line" href="classmap.html#aaaa6ba11a5354111acb19e60a5f566ce">  611</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#aaaa6ba11a5354111acb19e60a5f566ce">impassable</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>            <span class="keywordflow">return</span> !<a class="code hl_function" href="classmap.html#af563dc2397e71a053569cb45c6bb7e77">passable</a>( p );</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>        }</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#af563dc2397e71a053569cb45c6bb7e77">passable</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno"><a class="line" href="classmap.html#ae04fa29257df29a4c346f6af8af1a72c">  615</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#ae04fa29257df29a4c346f6af8af1a72c">passable</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#af563dc2397e71a053569cb45c6bb7e77">passable</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>        }</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a2a5ac15baf0b9a2d7d871db5c738b84f">is_wall_adjacent</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_enumvalue" href="cata__tiles_8h.html#affa90804269b044a43867f93746f8f8eaadb115059e28d960fa8badfac5516667">center</a> ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span><span class="comment"></span> </div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span><span class="comment">        * Similar behavior to `move_cost()`, but ignores vehicles.</span></div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span><span class="comment">        */</span></div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#ab3329218e47ef1729d54bbf27622c1ba">move_cost_ter_furn</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno"><a class="line" href="classmap.html#a36f4343f19c891a6bbeb32499ff5d9d3">  624</a></span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#a36f4343f19c891a6bbeb32499ff5d9d3">move_cost_ter_furn</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#ab3329218e47ef1729d54bbf27622c1ba">move_cost_ter_furn</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>        }</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a82534d8752a0be6bbb000928d1f1978b">impassable_ter_furn</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a2d734f291c46db96540c27b8fc8bd487">passable_ter_furn</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span><span class="comment"></span> </div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span><span class="comment">        * Cost to move out of one tile and into the next.</span></div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span><span class="comment">        *</span></div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span><span class="comment">        * @return The cost in turns to move out of tripoint `from` and into `to`</span></div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span><span class="comment">        */</span></div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#a728d97469f08da32ae2108d30d2a51ca">combined_movecost</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;from, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;to,</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>                               <span class="keyword">const</span> <a class="code hl_class" href="classvehicle.html">vehicle</a> *ignored_vehicle = <span class="keyword">nullptr</span>,</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>                               <span class="keywordtype">int</span> modifier = 0, <span class="keywordtype">bool</span> flying = <span class="keyword">false</span>, <span class="keywordtype">bool</span> via_ramp = <span class="keyword">false</span> ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span><span class="comment"></span> </div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span><span class="comment">         * Returns true if a creature could walk from `from` to `to` in one step.</span></div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span><span class="comment">         * That is, if the tiles are adjacent and either on the same z-level or connected</span></div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span><span class="comment">         * by stairs or (in case of flying monsters) open air with no floors.</span></div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span><span class="comment">         */</span></div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a3188771064ca49d4798c6a80bfad0fcd">valid_move</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;from, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;to,</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>                         <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a2266f21420ae2a1b44e8df9a028764e4">bash</a> = <span class="keyword">false</span>, <span class="keywordtype">bool</span> flying = <span class="keyword">false</span>, <span class="keywordtype">bool</span> via_ramp = <span class="keyword">false</span> ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span><span class="comment"></span> </div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span><span class="comment">         * Size of map objects at `p` for purposes of ranged combat.</span></div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span><span class="comment">         * Size is in percentage of tile: if 1.0, all attacks going through tile</span></div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span><span class="comment">         * should hit map objects on it, if 0.0 there is nothing to be hit (air/water).</span></div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span><span class="comment">         */</span></div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>        <span class="keywordtype">double</span> <a class="code hl_function" href="classmap.html#a34187b9eff71461437403611d0d122a7">ranged_target_size</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span> </div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>        <span class="comment">// Sees:</span><span class="comment"></span></div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span><span class="comment">        * Returns whether `F` sees `T` with a view range of `range`.</span></div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span><span class="comment">        */</span></div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a291e3c90746d24dabba01954fde977d7">sees</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;F, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;T, <span class="keywordtype">int</span> range ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>    <span class="keyword">private</span>:<span class="comment"></span></div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span><span class="comment">         * Don&#39;t expose the slope adjust outside map functions.</span></div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span><span class="comment">         *</span></div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span><span class="comment">         * @param F Thing doing the seeing</span></div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span><span class="comment">         * @param T Thing being seen</span></div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span><span class="comment">         * @param range Vision range of F</span></div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span><span class="comment">         * @param bresenham_slope Indicates the start offset of Bresenham line used to connect</span></div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span><span class="comment">         * the two points, and may subsequently be used to form a path between them.</span></div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span><span class="comment">         * Set to zero if the function returns false.</span></div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span><span class="comment">        **/</span></div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a291e3c90746d24dabba01954fde977d7">sees</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;F, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;T, <span class="keywordtype">int</span> range, <span class="keywordtype">int</span> &amp;bresenham_slope ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>    <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span><span class="comment">        * Returns coverage of target in relation to the observer. Target is loc2, observer is loc1.</span></div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span><span class="comment">        * First tile from the target is an obstacle, which has the coverage value.</span></div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span><span class="comment">        * If there&#39;s no obstacle adjacent to the target - no coverage.</span></div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span><span class="comment">        */</span></div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#a2f68bd10c5c8670061f9da7576d45879">obstacle_coverage</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;loc1, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;loc2 ) <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span><span class="comment">        * Returns coverage value of the tile.</span></div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span><span class="comment">        */</span></div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#aac17854037e868a4587556bfcfd7d16c">coverage</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span><span class="comment">         * Check whether there&#39;s a direct line of sight between `F` and</span></div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span><span class="comment">         * `T` with the additional movecost restraints.</span></div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span><span class="comment">         *</span></div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span><span class="comment">         * Checks two things:</span></div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span><span class="comment">         * 1. The `sees()` algorithm between `F` and `T`</span></div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span><span class="comment">         * 2. That moving over the line of sight would have a move_cost between</span></div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span><span class="comment">         *    `cost_min` and `cost_max`.</span></div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span><span class="comment">         */</span></div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a49630763b899657bfa7c10586df7d360">clear_path</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;f, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;t, <span class="keywordtype">int</span> range,</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>                         <span class="keywordtype">int</span> cost_min, <span class="keywordtype">int</span> cost_max ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span><span class="comment"></span> </div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span><span class="comment">         * Populates a vector of points that are reachable within a number of steps from a</span></div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span><span class="comment">         * point. It could be generalized to take advantage of z levels, but would need some</span></div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span><span class="comment">         * additional code to detect whether a valid transition was on a tile.</span></div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span><span class="comment">         *</span></div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span><span class="comment">         * Does the following:</span></div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span><span class="comment">         * 1. Checks if a point is reachable using a flood fill and if it is, adds it to a vector.</span></div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span><span class="comment">         *</span></div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span><span class="comment">         */</span></div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ac5b071f269f509ae698f95bc9966cbf7">reachable_flood_steps</a>( std::vector&lt;tripoint&gt; &amp;reachable_pts, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;f,</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>                                    <span class="keywordtype">int</span> range,</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>                                    <span class="keywordtype">int</span> cost_min, <span class="keywordtype">int</span> cost_max ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span><span class="comment"></span> </div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span><span class="comment">         * Iteratively tries Bresenham lines with different biases</span></div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span><span class="comment">         * until it finds a clear line or decides there isn&#39;t one.</span></div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span><span class="comment">         * returns the line found, which may be the straight line, but blocked.</span></div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span><span class="comment">         */</span></div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>        std::vector&lt;tripoint&gt; <a class="code hl_function" href="classmap.html#a0f73359be972a030063b4e84f770275e">find_clear_path</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;source, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;destination ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span><span class="comment"></span> </div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span><span class="comment">         * Check whether the player can access the items located @p. Certain furniture/terrain</span></div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span><span class="comment">         * may prevent that (e.g. a locked safe).</span></div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span><span class="comment">         */</span></div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#ab669e4df068956bf9b69599c85c2a0b2">accessible_items</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;t ) <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span><span class="comment">         * Calculate next search points surrounding the current position.</span></div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span><span class="comment">         * Points closer to the target come first.</span></div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span><span class="comment">         * This method leads to straighter lines and prevents weird looking movements away from the target.</span></div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span><span class="comment">         */</span></div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>        std::vector&lt;tripoint&gt; <a class="code hl_function" href="classmap.html#a04983d87d4316ae7adc5e1d52220dd90">get_dir_circle</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;f, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;t ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span><span class="comment"></span> </div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span><span class="comment">         * Calculate the best path using A*</span></div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span><span class="comment">         *</span></div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span><span class="comment">         * @param f The source location from which to path.</span></div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span><span class="comment">         * @param t The destination to which to path.</span></div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span><span class="comment">         * @param settings Structure describing pathfinding parameters.</span></div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span><span class="comment">         * @param pre_closed Never path through those points. They can still be the source or the destination.</span></div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span><span class="comment">         */</span></div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>        std::vector&lt;tripoint&gt; <a class="code hl_function" href="classmap.html#a6b4a1306861221ee22ba193a884ef606">route</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;f, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;t,</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>                                     <span class="keyword">const</span> <a class="code hl_struct" href="structpathfinding__settings.html">pathfinding_settings</a> &amp;settings,</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>        <span class="keyword">const</span> std::set&lt;tripoint&gt; &amp;pre_closed = {{ }} ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span> </div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>        <span class="comment">// Vehicles: Common to 2D and 3D</span></div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>        <a class="code hl_typedef" href="map_8h.html#ae705edb5469cf2668ca5bc3297d75ebb">VehicleList</a> <a class="code hl_function" href="classmap.html#ac1c02ce0648fe07137b86c84fc72f5de">get_vehicles</a>();</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#aa51d3d7bfa9acfbc62e9dbaac9450fc1">add_vehicle_to_cache</a>( <a class="code hl_class" href="classvehicle.html">vehicle</a> * );</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a5fdaa85d36d4c8b742ea050d4c07a7b3">clear_vehicle_point_from_cache</a>( <a class="code hl_class" href="classvehicle.html">vehicle</a> *veh, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pt );</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno"><a class="line" href="classmap.html#a3f35a1c31ddcf68790f73c3ad3f9939e">  742</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a3f35a1c31ddcf68790f73c3ad3f9939e">update_vehicle_cache</a>( <a class="code hl_class" href="classvehicle.html">vehicle</a> *, <span class="keywordtype">int</span> old_zlevel );</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a373c5fa6237a293b00633c6c84ca452d">reset_vehicle_cache</a>( <span class="keywordtype">int</span> zlev );</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a082082f0586969638b0885acdf51ba08">clear_vehicle_cache</a>( <span class="keywordtype">int</span> zlev );</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a7f8bbcf57854207039f62609c3f58f23">clear_vehicle_list</a>( <span class="keywordtype">int</span> zlev );</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#abfb6cb650fb5b2e2fab71ca1e3a159b1">update_vehicle_list</a>( <span class="keyword">const</span> <a class="code hl_class" href="classsubmap.html">submap</a> *to, <span class="keywordtype">int</span> zlev );</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>        <span class="comment">//Returns true if vehicle zones are dirty and need to be recached</span></div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a8a6e17bf2b027fe957361bb7c5d857ce">check_vehicle_zones</a>( <span class="keywordtype">int</span> zlev );</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>        std::vector&lt;zone_data *&gt; <a class="code hl_function" href="classmap.html#ad79afd7cb9bc2a9c102b7618d12929f3">get_vehicle_zones</a>( <span class="keywordtype">int</span> zlev );</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a42f8b2d41163c6a3261af6bc6613e403">register_vehicle_zone</a>( <a class="code hl_class" href="classvehicle.html">vehicle</a> *, <span class="keywordtype">int</span> zlev );</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a098e18c24d766d1b52255cd5b9693e8d">deregister_vehicle_zone</a>( <a class="code hl_class" href="classzone__data.html">zone_data</a> &amp;zone );</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span> </div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>        <span class="comment">// Removes vehicle from map and returns it in unique_ptr</span></div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>        std::unique_ptr&lt;vehicle&gt; <a class="code hl_function" href="classmap.html#a3900980bbee1853f6230b94736b2e86b">detach_vehicle</a>( <a class="code hl_class" href="classvehicle.html">vehicle</a> *veh );</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ac7f59f4bc6fad84a8d8c0ddd4e023734">destroy_vehicle</a>( <a class="code hl_class" href="classvehicle.html">vehicle</a> *veh );</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>        <span class="comment">// Vehicle movement</span></div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a5d64e11c1e8810efcdd4a19cb91ecbf5">vehmove</a>();</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>        <span class="comment">// Selects a vehicle to move, returns false if no moving vehicles</span></div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#ae32ac36969a3658f689f1390806b53b0">vehproceed</a>( <a class="code hl_typedef" href="map_8h.html#ae705edb5469cf2668ca5bc3297d75ebb">VehicleList</a> &amp;vehicle_list );</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span> </div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>        <span class="comment">// Vehicles</span></div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>        <a class="code hl_typedef" href="map_8h.html#ae705edb5469cf2668ca5bc3297d75ebb">VehicleList</a> <a class="code hl_function" href="classmap.html#ac1c02ce0648fe07137b86c84fc72f5de">get_vehicles</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;start, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;end );<span class="comment"></span></div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span><span class="comment">        * Checks if tile is occupied by vehicle and by which part.</span></div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span><span class="comment">        *</span></div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span><span class="comment">        * @param p Tile to check for vehicle</span></div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span><span class="comment">        */</span></div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>        <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> <a class="code hl_function" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>        <a class="code hl_class" href="classvehicle.html">vehicle</a> *<a class="code hl_function" href="classmap.html#ab822562ab4d1069ff53486f67098d0da">veh_at_internal</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">int</span> &amp;part_num );</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>        <span class="keyword">const</span> <a class="code hl_class" href="classvehicle.html">vehicle</a> *<a class="code hl_function" href="classmap.html#ab822562ab4d1069ff53486f67098d0da">veh_at_internal</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">int</span> &amp;part_num ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>        <span class="comment">// Put player on vehicle at x,y</span></div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a2e2945f391fc0ed68f1b1192b9caa7cf">board_vehicle</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <a class="code hl_class" href="classplayer.html">player</a> *pl );</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>        <span class="comment">// Remove given passenger from given vehicle part.</span></div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>        <span class="comment">// If dead_passenger, then null passenger is acceptable.</span></div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a53d95390d133477f8b4a1ce76482750b">unboard_vehicle</a>( <span class="keyword">const</span> <a class="code hl_class" href="classvpart__reference.html">vpart_reference</a> &amp;, <a class="code hl_class" href="classCharacter.html">Character</a> *passenger,</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>                              <span class="keywordtype">bool</span> dead_passenger = <span class="keyword">false</span> );</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>        <span class="comment">// Remove passenger from vehicle at p.</span></div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a53d95390d133477f8b4a1ce76482750b">unboard_vehicle</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">bool</span> dead_passenger = <span class="keyword">false</span> );</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>        <span class="comment">// Change vehicle coordinates and move vehicle&#39;s driver along.</span></div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>        <span class="comment">// WARNING: not checking collisions!</span></div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>        <span class="comment">// optionally: include a list of parts to displace instead of the entire vehicle</span></div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#abeefac00972febd607e98bb0431bd5a9">displace_vehicle</a>( <a class="code hl_class" href="classvehicle.html">vehicle</a> &amp;veh, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dp, <span class="keywordtype">bool</span> adjust_pos = <span class="keyword">true</span>,</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>                               <span class="keyword">const</span> std::set&lt;int&gt; &amp;parts_to_move = {} );</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>        <span class="comment">// make sure a vehicle that is split across z-levels is properly supported</span></div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>        <span class="comment">// calls displace_vehicle() and shouldn&#39;t be called from displace_vehicle</span></div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#afee1f0c76ff8ec4fab45e22689463268">level_vehicle</a>( <a class="code hl_class" href="classvehicle.html">vehicle</a> &amp;veh );</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>        <span class="comment">// move water under wheels. true if moved</span></div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#ac488d178329e7fcab01c758e138dd768">displace_water</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dp );</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span> </div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>        <span class="comment">// Returns the wheel area of the vehicle multiplied by traction of the surface</span></div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>        <span class="comment">// When ignore_movement_modifiers is set to true, it returns the area of the wheels touching the ground</span></div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>        <span class="comment">// TODO: Remove the ugly sinking vehicle hack</span></div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>        <span class="keywordtype">float</span> <a class="code hl_function" href="classmap.html#a1d638822dc7c62d6ec6ee4f64ae0f4b2">vehicle_wheel_traction</a>( <span class="keyword">const</span> <a class="code hl_class" href="classvehicle.html">vehicle</a> &amp;veh, <span class="keywordtype">bool</span> ignore_movement_modifiers = <span class="keyword">false</span> ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span> </div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>        <span class="comment">// Executes vehicle-vehicle collision based on vehicle::collision results</span></div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>        <span class="comment">// Returns impulse of the executed collision</span></div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>        <span class="comment">// If vector contains collisions with vehicles other than veh2, they will be ignored</span></div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>        <span class="keywordtype">float</span> <a class="code hl_function" href="classmap.html#af7af4d1d491495bed468293d33a2ee50">vehicle_vehicle_collision</a>( <a class="code hl_class" href="classvehicle.html">vehicle</a> &amp;veh, <a class="code hl_class" href="classvehicle.html">vehicle</a> &amp;veh2,</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>                                         <span class="keyword">const</span> std::vector&lt;veh_collision&gt; &amp;collisions );</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>        <span class="comment">// Throws vehicle passengers about the vehicle, possibly out of it</span></div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>        <span class="comment">// Returns change in vehicle orientation due to lost control</span></div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>        <a class="code hl_class" href="classunits_1_1quantity.html">units::angle</a> <a class="code hl_function" href="classmap.html#ac7023d5bb12f333f7237a08bd471b112">shake_vehicle</a>( <a class="code hl_class" href="classvehicle.html">vehicle</a> &amp;veh, <span class="keywordtype">int</span> velocity_before, <a class="code hl_class" href="classunits_1_1quantity.html">units::angle</a> <a class="code hl_enumeration" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a> );</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span> </div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>        <span class="comment">// Actually moves the vehicle</span></div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>        <span class="comment">// Unlike displace_vehicle, this one handles collisions</span></div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>        <a class="code hl_class" href="classvehicle.html">vehicle</a> *<a class="code hl_function" href="classmap.html#add9128611766f2a8095b0104f0fd7371">move_vehicle</a>( <a class="code hl_class" href="classvehicle.html">vehicle</a> &amp;veh, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dp, <span class="keyword">const</span> <a class="code hl_class" href="classtileray.html">tileray</a> &amp;facing );</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span> </div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>        <span class="comment">// Furniture</span></div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a029b364a2b257f06a689f27412d21576">set</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> &amp;new_terrain, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">furn_id</a> &amp;new_furniture );</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno"><a class="line" href="classmap.html#a60ab42ebcbc9e2a6586b5c67682cea24">  810</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a60ab42ebcbc9e2a6586b5c67682cea24">set</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> &amp;new_terrain, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">furn_id</a> &amp;new_furniture ) {</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>            <a class="code hl_function" href="classmap.html#abf6455d82007aa379f4de85aea2f923f">furn_set</a>( p, new_furniture );</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>            <a class="code hl_function" href="classmap.html#a75c60b0b73d8b492df608a2a4b824784">ter_set</a>( p, new_terrain );</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>        }</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>        std::string <a class="code hl_function" href="classmap.html#a148fb7ddc87ffb1da97dd33e0529c983">name</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno"><a class="line" href="classmap.html#a0de3e08924ce1e74493200f11a3eff3c">  815</a></span>        std::string <a class="code hl_function" href="classmap.html#a0de3e08924ce1e74493200f11a3eff3c">name</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p ) {</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a148fb7ddc87ffb1da97dd33e0529c983">name</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>        }</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>        std::string <a class="code hl_function" href="classmap.html#a64c0e02c7c79eb42879665a3e8b75999">disp_name</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );<span class="comment"></span></div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span><span class="comment">        * Returns the name of the obstacle at p that might be blocking movement/projectiles/etc.</span></div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span><span class="comment">        * Note that this only accounts for vehicles, terrain, and furniture.</span></div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span><span class="comment">        */</span></div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>        std::string <a class="code hl_function" href="classmap.html#ab38205e356b39b5961e0513d45e90170">obstacle_name</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a00008f407a53edc2445622618d7ed071">has_furn</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno"><a class="line" href="classmap.html#a04a9cda43618d742103548917e097f0d">  825</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a04a9cda43618d742103548917e097f0d">has_furn</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a00008f407a53edc2445622618d7ed071">has_furn</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>        }</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>        <a class="code hl_class" href="classint__id.html">furn_id</a> <a class="code hl_function" href="classmap.html#af55e014aab791bbe4c8630361c1311dd">furn</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno"><a class="line" href="classmap.html#aa9ac78d26a34776b16cf2441e21aadcc">  829</a></span>        <a class="code hl_class" href="classint__id.html">furn_id</a> <a class="code hl_function" href="classmap.html#aa9ac78d26a34776b16cf2441e21aadcc">furn</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#af55e014aab791bbe4c8630361c1311dd">furn</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>        }<span class="comment"></span></div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span><span class="comment">        * Sets the furniture at given position.</span></div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span><span class="comment">        *</span></div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span><span class="comment">        * @param p Position within the map</span></div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span><span class="comment">        * @param new_furniture Id of new furniture</span></div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span><span class="comment">        * @param new_active Override default active tile of new furniture</span></div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span><span class="comment">        */</span></div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#abf6455d82007aa379f4de85aea2f923f">furn_set</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">furn_id</a> &amp;new_furniture,</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>                       <a class="code hl_class" href="classcata_1_1poly__serialized.html">cata::poly_serialized&lt;active_tile_data&gt;</a> new_active = <span class="keyword">nullptr</span> );</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno"><a class="line" href="classmap.html#a2e95d7c5f24bc9b383d545532841c011">  841</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a2e95d7c5f24bc9b383d545532841c011">furn_set</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">furn_id</a> &amp;new_furniture ) {</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>            <a class="code hl_function" href="classmap.html#abf6455d82007aa379f4de85aea2f923f">furn_set</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ), new_furniture );</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>        }</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>        std::string <a class="code hl_function" href="classmap.html#a20933e73f539d62c2a10bed22bb9a0c7">furnname</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno"><a class="line" href="classmap.html#a82d7a5589bd9721ab26892949de82ac6">  845</a></span>        std::string <a class="code hl_function" href="classmap.html#a82d7a5589bd9721ab26892949de82ac6">furnname</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p ) {</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a20933e73f539d62c2a10bed22bb9a0c7">furnname</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>        }</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#ae20c877c82882f08e1c6ac4f2994e11d">can_move_furniture</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pos, <a class="code hl_class" href="classplayer.html">player</a> *p = <span class="keyword">nullptr</span> );</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span> </div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>        <span class="comment">// Terrain</span></div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>        <a class="code hl_class" href="classint__id.html">ter_id</a> <a class="code hl_function" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno"><a class="line" href="classmap.html#ab9d1c1052a8aa770fa00676c045d7805">  852</a></span>        <a class="code hl_class" href="classint__id.html">ter_id</a> <a class="code hl_function" href="classmap.html#ab9d1c1052a8aa770fa00676c045d7805">ter</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>        }</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span> </div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>        <span class="comment">// Return a bitfield of the adjacent tiles which connect to the given</span></div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>        <span class="comment">// connect_group.  From least-significant bit the order is south, east,</span></div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>        <span class="comment">// west, north (because that&#39;s what cata_tiles expects).</span></div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>        <span class="comment">// Based on a combination of visibility and memory, not simply the true</span></div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>        <span class="comment">// terrain. Additional overrides can be passed in to override terrain</span></div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>        <span class="comment">// at specific positions. This is used to display terrain overview in</span></div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>        <span class="comment">// the map editor.</span></div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>        uint8_t <a class="code hl_function" href="classmap.html#ad2f1b5a9f0c086f5a16817ab872e3f20">get_known_connections</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">int</span> connect_group,</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>                                       <span class="keyword">const</span> std::map&lt;tripoint, ter_id&gt; &amp;<span class="keyword">override</span> = {} ) <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span><span class="comment">         * Returns the full harvest list, for spawning.</span></div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span><span class="comment">         */</span></div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>        <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">harvest_id</a> &amp;<a class="code hl_function" href="classmap.html#ac78d19d421262da398e2873d7b173b76">get_harvest</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span><span class="comment">         * Returns names of the items that would be dropped.</span></div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span><span class="comment">         */</span></div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>        <span class="keyword">const</span> std::set&lt;std::string&gt; &amp;<a class="code hl_function" href="classmap.html#ac9d96deaafa7d74a897a9e5ca1c1f928">get_harvest_names</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>        <a class="code hl_class" href="classint__id.html">ter_id</a> <a class="code hl_function" href="classmap.html#aa644647b252ed03e1724952f4bf45b33">get_ter_transforms_into</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>        <a class="code hl_class" href="classint__id.html">furn_id</a> <a class="code hl_function" href="classmap.html#aaa27eaf6665896e5b85c65671409c196">get_furn_transforms_into</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span> </div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a75c60b0b73d8b492df608a2a4b824784">ter_set</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> &amp;new_terrain );</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno"><a class="line" href="classmap.html#ab2224583f3434f36ad8cec987800c5ab">  877</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#ab2224583f3434f36ad8cec987800c5ab">ter_set</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> &amp;new_terrain ) {</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a75c60b0b73d8b492df608a2a4b824784">ter_set</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ), new_terrain );</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>        }</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span> </div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>        std::string <a class="code hl_function" href="classmap.html#a51e32639c8df0c90e0743f929bcf2111">tername</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno"><a class="line" href="classmap.html#a83c94946ab7ab1e15a85c53a5a86ba38">  882</a></span>        std::string <a class="code hl_function" href="classmap.html#a83c94946ab7ab1e15a85c53a5a86ba38">tername</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a51e32639c8df0c90e0743f929bcf2111">tername</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>        }</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span> </div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>        <span class="comment">// Check for terrain/furniture/field that provide a</span></div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>        <span class="comment">// &quot;fire&quot; item to be used for example when crafting or when</span></div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>        <span class="comment">// a iuse function needs fire.</span></div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a2b9a117ad421bd11ca8efd7449ce2528">has_nearby_fire</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">int</span> radius = 1 );<span class="comment"></span></div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span><span class="comment">         * Check whether a table/workbench/vehicle kitchen or other flat</span></div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span><span class="comment">         * surface is nearby that could be used for crafting or eating.</span></div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span><span class="comment">         */</span></div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a12abdc940dd179905a8df41be1fa3240">has_nearby_table</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">int</span> radius = 1 );<span class="comment"></span></div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span><span class="comment">         * Check whether a chair or vehicle seat is nearby.</span></div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span><span class="comment">         */</span></div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a19d0a94bda17366a979a8b88ff11ecbf">has_nearby_chair</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">int</span> radius = 1 );<span class="comment"></span></div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span><span class="comment">         * Check if creature can see some items at p. Includes:</span></div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span><span class="comment">         * - check for items at this location (has_items(p))</span></div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span><span class="comment">         * - check for SEALED flag (sealed furniture/terrain makes</span></div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span><span class="comment">         * items not visible under any circumstances).</span></div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span><span class="comment">         * - check for CONTAINER flag (makes items only visible when</span></div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span><span class="comment">         * the creature is at p or at an adjacent square).</span></div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span><span class="comment">         */</span></div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a5b666218957f159f8af59e98644c7183">sees_some_items</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classCreature.html">Creature</a> &amp;who ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a5b666218957f159f8af59e98644c7183">sees_some_items</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;from ) <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span><span class="comment">         * Check if the creature could see items at p if there were</span></div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span><span class="comment">         * any items. This is similar to @ref sees_some_items, but it</span></div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span><span class="comment">         * does not check that there are actually any items.</span></div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span><span class="comment">         */</span></div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a632c3745cfe78bec4f22a0c7bc110b89">could_see_items</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classCreature.html">Creature</a> &amp;who ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a632c3745cfe78bec4f22a0c7bc110b89">could_see_items</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;from ) <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span><span class="comment">         * Checks for existence of items. Faster than i_at(p).empty</span></div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span><span class="comment">         */</span></div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#aa904e9f61ca568d8ed985cf22193b8ed">has_items</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span><span class="comment"></span> </div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span><span class="comment">         * Calls the examine function of furniture or terrain at given tile, for given character.</span></div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span><span class="comment">         * Will only examine terrain if furniture had @ref iexamine::none as the examine function.</span></div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span><span class="comment">         */</span></div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a52b32f804d34e21991b6faba6d32a7f2">examine</a>( <a class="code hl_class" href="classCharacter.html">Character</a> &amp;p, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pos );</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span><span class="comment"></span> </div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span><span class="comment">        /**</span></div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span><span class="comment">         * Returns true if point at pos is harvestable right now, with no extra tools.</span></div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span><span class="comment">         */</span></div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a19208d20803ab7c5da1073e17da18bd1">is_harvestable</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pos ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span> </div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>        <span class="comment">// Flags</span></div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>        <span class="comment">// Words relevant to terrain (sharp, etc)</span></div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>        std::string <a class="code hl_function" href="classmap.html#a86c093ba6fe7847f45345ab7ad5eb032">features</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno"><a class="line" href="classmap.html#a9c52d6a26a4bbf6355a1229bf209e734">  935</a></span>        std::string <a class="code hl_function" href="classmap.html#a9c52d6a26a4bbf6355a1229bf209e734">features</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p ) {</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a86c093ba6fe7847f45345ab7ad5eb032">features</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>        }</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>        <span class="comment">// Checks terrain, furniture and vehicles</span></div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <span class="keyword">const</span> std::string &amp;flag, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno"><a class="line" href="classmap.html#adbfd2bb4583f1ea91d1e3a573828e918">  940</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#adbfd2bb4583f1ea91d1e3a573828e918">has_flag</a>( <span class="keyword">const</span> std::string &amp;flag, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( flag, <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>        }</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>        <span class="comment">// True if items can be dropped in this tile</span></div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#afc6f711de83d8f975128a3d60a6a7b53">can_put_items</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno"><a class="line" href="classmap.html#a65518f97b7a638265b96536605792662">  945</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a65518f97b7a638265b96536605792662">can_put_items</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#afc6f711de83d8f975128a3d60a6a7b53">can_put_items</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>        }</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>        <span class="comment">// True if items can be placed in this tile</span></div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a3014d235b1298cadddb4c412d133ae6b">can_put_items_ter_furn</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno"><a class="line" href="classmap.html#a9139499b2decb34f2f9eca240513ec3b">  950</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a9139499b2decb34f2f9eca240513ec3b">can_put_items_ter_furn</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a3014d235b1298cadddb4c412d133ae6b">can_put_items_ter_furn</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>        }</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>        <span class="comment">// Checks terrain</span></div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#af0e872a5d0a7bf1e9745aeb18d3b5e44">has_flag_ter</a>( <span class="keyword">const</span> std::string &amp;flag, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno"><a class="line" href="classmap.html#a715903684f1484a8e08cc2e9e0a203f7">  955</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a715903684f1484a8e08cc2e9e0a203f7">has_flag_ter</a>( <span class="keyword">const</span> std::string &amp;flag, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#af0e872a5d0a7bf1e9745aeb18d3b5e44">has_flag_ter</a>( flag, <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>        }</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>        <span class="comment">// Checks furniture</span></div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a09ef3e8c2e6664e3ed98d1e1e18a4b4f">has_flag_furn</a>( <span class="keyword">const</span> std::string &amp;flag, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno"><a class="line" href="classmap.html#a5092fd3035d8c40636924d4f3c36f6db">  960</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a5092fd3035d8c40636924d4f3c36f6db">has_flag_furn</a>( <span class="keyword">const</span> std::string &amp;flag, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a09ef3e8c2e6664e3ed98d1e1e18a4b4f">has_flag_furn</a>( flag, <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>        }</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>        <span class="comment">// Checks terrain or furniture</span></div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a516c0764134cc86b57297811520395f7">has_flag_ter_or_furn</a>( <span class="keyword">const</span> std::string &amp;flag, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno"><a class="line" href="classmap.html#a2fc6312dfc01453eb271e5688dc0b293">  965</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a2fc6312dfc01453eb271e5688dc0b293">has_flag_ter_or_furn</a>( <span class="keyword">const</span> std::string &amp;flag, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a516c0764134cc86b57297811520395f7">has_flag_ter_or_furn</a>( flag, <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>        }</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>        <span class="comment">// Fast &quot;oh hai it&#39;s update_scent/lightmap/draw/monmove/self/etc again, what about this one&quot; flag checking</span></div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>        <span class="comment">// Checks terrain, furniture and vehicles</span></div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code hl_enumeration" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258">ter_bitflags</a> flag, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno"><a class="line" href="classmap.html#a73d32ad291fdd6bc72b76765eaf26a00">  971</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a73d32ad291fdd6bc72b76765eaf26a00">has_flag</a>( <a class="code hl_enumeration" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258">ter_bitflags</a> flag, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( flag, <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>        }</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>        <span class="comment">// Checks terrain</span></div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#af0e872a5d0a7bf1e9745aeb18d3b5e44">has_flag_ter</a>( <a class="code hl_enumeration" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258">ter_bitflags</a> flag, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno"><a class="line" href="classmap.html#a970ac447d203c6b9b95654e7cbdb3264">  976</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a970ac447d203c6b9b95654e7cbdb3264">has_flag_ter</a>( <a class="code hl_enumeration" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258">ter_bitflags</a> flag, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#af0e872a5d0a7bf1e9745aeb18d3b5e44">has_flag_ter</a>( flag, <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>        }</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>        <span class="comment">// Checks furniture</span></div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a09ef3e8c2e6664e3ed98d1e1e18a4b4f">has_flag_furn</a>( <a class="code hl_enumeration" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258">ter_bitflags</a> flag, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno"><a class="line" href="classmap.html#ac3d6a1de0b2fee8ffeddbeb4ef0e4392">  981</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#ac3d6a1de0b2fee8ffeddbeb4ef0e4392">has_flag_furn</a>( <a class="code hl_enumeration" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258">ter_bitflags</a> flag, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a09ef3e8c2e6664e3ed98d1e1e18a4b4f">has_flag_furn</a>( flag, <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>        }</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>        <span class="comment">// Checks terrain or furniture</span></div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a516c0764134cc86b57297811520395f7">has_flag_ter_or_furn</a>( <a class="code hl_enumeration" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258">ter_bitflags</a> flag, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno"><a class="line" href="classmap.html#aa7ba9a828d41772f23b9559ca25cda2d">  986</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#aa7ba9a828d41772f23b9559ca25cda2d">has_flag_ter_or_furn</a>( <a class="code hl_enumeration" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258">ter_bitflags</a> flag, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a516c0764134cc86b57297811520395f7">has_flag_ter_or_furn</a>( flag, <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>        }</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span> </div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>        <span class="comment">// Bashable</span><span class="comment"></span></div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span><span class="comment">        /** Returns true if there is a bashable vehicle part or the furn/terrain is bashable at p */</span></div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a670590e1c5a25d81f56def7c89dbde95">is_bashable</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">bool</span> allow_floor = <span class="keyword">false</span> ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno"><a class="line" href="classmap.html#aa744f1f81c9834bf054cf7f861db0718">  993</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#aa744f1f81c9834bf054cf7f861db0718">is_bashable</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a670590e1c5a25d81f56def7c89dbde95">is_bashable</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>        }<span class="comment"></span></div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span><span class="comment">        /** Returns true if the terrain at p is bashable */</span></div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a354aefad19d6e0086aa6160a1f45bb1d">is_bashable_ter</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">bool</span> allow_floor = <span class="keyword">false</span> ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno"><a class="line" href="classmap.html#a9a67163470170b8b8d410245de4c5cc6">  998</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a9a67163470170b8b8d410245de4c5cc6">is_bashable_ter</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a354aefad19d6e0086aa6160a1f45bb1d">is_bashable_ter</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>        }<span class="comment"></span></div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span><span class="comment">        /** Returns true if the furniture at p is bashable */</span></div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a61c8a24a2bbd44540d799602f0c49c7e">is_bashable_furn</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"><a class="line" href="classmap.html#a9f2480c9c38a593d0d9a9727679c05b1"> 1003</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a9f2480c9c38a593d0d9a9727679c05b1">is_bashable_furn</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a61c8a24a2bbd44540d799602f0c49c7e">is_bashable_furn</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>        }<span class="comment"></span></div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span><span class="comment">        /** Returns true if the furniture or terrain at p is bashable */</span></div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a2e3300e786112b4ea45a9d3176b5f3b0">is_bashable_ter_furn</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">bool</span> allow_floor = <span class="keyword">false</span> ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"><a class="line" href="classmap.html#af080fc7eb8fc042c06da13b3224b0c98"> 1008</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#af080fc7eb8fc042c06da13b3224b0c98">is_bashable_ter_furn</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a2e3300e786112b4ea45a9d3176b5f3b0">is_bashable_ter_furn</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>        }<span class="comment"></span></div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span><span class="comment">        /** Returns max_str of the furniture or terrain at p */</span></div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#a0b83bb9cbf7265f78eaad06dc1f7b8c3">bash_strength</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">bool</span> allow_floor = <span class="keyword">false</span> ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"><a class="line" href="classmap.html#a61ecf6d11fc073394bb2ecdeed1b00fa"> 1013</a></span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#a61ecf6d11fc073394bb2ecdeed1b00fa">bash_strength</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a0b83bb9cbf7265f78eaad06dc1f7b8c3">bash_strength</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>        }<span class="comment"></span></div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span><span class="comment">        /** Returns min_str of the furniture or terrain at p */</span></div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#adfb4f21d749696fdd25c7b37ba2b7b21">bash_resistance</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">bool</span> allow_floor = <span class="keyword">false</span> ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"><a class="line" href="classmap.html#a72084339cb56113209490d729076da24"> 1018</a></span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#a72084339cb56113209490d729076da24">bash_resistance</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#adfb4f21d749696fdd25c7b37ba2b7b21">bash_resistance</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>        }<span class="comment"></span></div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span><span class="comment">        /** Returns a success rating from -1 to 10 for a given tile based on a set strength, used for AI movement planning</span></div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span><span class="comment">        *  Values roughly correspond to 10% increment chances of success on a given bash, rounded down. -1 means the square is not bashable */</span></div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#a6c9fdb474119bafd75efa7c12e0bec1a">bash_rating</a>( <span class="keywordtype">int</span> str, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">bool</span> allow_floor = <span class="keyword">false</span> ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"><a class="line" href="classmap.html#a6dadf7b3339f08dfc0441f16e28df3c1"> 1024</a></span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#a6dadf7b3339f08dfc0441f16e28df3c1">bash_rating</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> str, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a6c9fdb474119bafd75efa7c12e0bec1a">bash_rating</a>( str, <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>        }</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span> </div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>        <span class="comment">// Rubble</span><span class="comment"></span></div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span><span class="comment">        /** Generates rubble at the given location, if overwrite is true it just writes on top of what currently exists</span></div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span><span class="comment">         *  floor_type is only used if there is a non-bashable wall at the location or with overwrite = true */</span></div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a3c3e0f60fa466dd9e5726d35653b177b">make_rubble</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">furn_id</a> &amp;rubble_type, <span class="keywordtype">bool</span> items,</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>                          <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> &amp;floor_type, <span class="keywordtype">bool</span> overwrite = <span class="keyword">false</span> );</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"><a class="line" href="classmap.html#af4f796ebb35b9973d42b8c6b6aaa7415"> 1033</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#af4f796ebb35b9973d42b8c6b6aaa7415">make_rubble</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">furn_id</a> &amp;rubble_type, <span class="keywordtype">bool</span> items ) {</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>            <a class="code hl_function" href="classmap.html#a3c3e0f60fa466dd9e5726d35653b177b">make_rubble</a>( p, rubble_type, items, <a class="code hl_variable" href="mapdata_8cpp.html#aa4573ce2c594834a8ced806a5099f3e3">t_dirt</a>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>        }</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"><a class="line" href="classmap.html#adbe3ef9d6f8ed3217ecd33f86ed902f9"> 1036</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#adbe3ef9d6f8ed3217ecd33f86ed902f9">make_rubble</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) {</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>            <a class="code hl_function" href="classmap.html#a3c3e0f60fa466dd9e5726d35653b177b">make_rubble</a>( p, <a class="code hl_variable" href="mapdata_8cpp.html#af611f8ecab4117286d3984ca761828f3">f_rubble</a>, <span class="keyword">false</span>, <a class="code hl_variable" href="mapdata_8cpp.html#aa4573ce2c594834a8ced806a5099f3e3">t_dirt</a>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>        }</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span> </div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a3bc75c8b706a54c1575b4460b2f363b1">is_outside</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"><a class="line" href="classmap.html#a26c8ee6461f6ae1320070cf8c4b5fcda"> 1041</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a26c8ee6461f6ae1320070cf8c4b5fcda">is_outside</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a3bc75c8b706a54c1575b4460b2f363b1">is_outside</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>        }<span class="comment"></span></div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span><span class="comment">         * Returns whether or not the terrain at the given location can be dived into</span></div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span><span class="comment">         * (by monsters that can swim or are aquatic or non-breathing).</span></div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span><span class="comment">         * @param p The coordinate to look at.</span></div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span><span class="comment">         * @return true if the terrain can be dived into; false if not.</span></div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span><span class="comment">         */</span></div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#ab687d9988b59167571f5476882b24206">is_divable</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"><a class="line" href="classmap.html#a8121dd3c233f1f3ac5044b758c925042"> 1051</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a8121dd3c233f1f3ac5044b758c925042">is_divable</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#ab687d9988b59167571f5476882b24206">is_divable</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>        }</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#af9b776627d41969fbca5089c3d22162c">is_water_shallow_current</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"><a class="line" href="classmap.html#a22f3270ff56759c395b162e4b7e94d33"> 1055</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a22f3270ff56759c395b162e4b7e94d33">is_water_shallow_current</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#af9b776627d41969fbca5089c3d22162c">is_water_shallow_current</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>        }</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span><span class="comment"></span> </div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span><span class="comment">        /** Check if the last terrain is wall in direction NORTH, SOUTH, WEST or EAST</span></div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span><span class="comment">         *  @param no_furn if true, the function will stop and return false</span></div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span><span class="comment">         *  if it encounters a furniture</span></div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span><span class="comment">         *  @param p starting coordinates of check</span></div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span><span class="comment">         *  @param max ending coordinates of check</span></div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span><span class="comment">         *  @param dir Direction of check</span></div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span><span class="comment">         *  @return true if from x to xmax or y to ymax depending on direction</span></div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span><span class="comment">         *  all terrain is floor and the last terrain is a wall */</span></div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a704806392ba72fd727d1d99a0d1b7290">is_last_ter_wall</a>( <span class="keywordtype">bool</span> no_furn, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p,</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>                               <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;max, <a class="code hl_enumeration" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a> dir ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span><span class="comment"></span> </div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span><span class="comment">         * Checks if there are any tinder flagged items on the tile.</span></div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span><span class="comment">         * @param p tile to check</span></div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span><span class="comment">         */</span></div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a9ce376640615301527e81990f7641e87">tinder_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span><span class="comment"></span> </div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span><span class="comment">         * Checks if there are any flammable items on the tile.</span></div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span><span class="comment">         * @param p tile to check</span></div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span><span class="comment">         * @param threshold Fuel threshold (lower means worse fuels are accepted).</span></div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span><span class="comment">         */</span></div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#ab1a08686c7d7b52636e0362ac4a0847f">flammable_items_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">int</span> threshold = 0 );<span class="comment"></span></div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span><span class="comment">        /** Returns true if there is a flammable item or field or the furn/terrain is flammable at p */</span></div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a87b7a3bab2c88e7779008341bf75502f">is_flammable</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>        <a class="code hl_struct" href="structpoint.html">point</a> <a class="code hl_function" href="classmap.html#a18802cb6d3bda6d30738d8479ea27bb4">random_outdoor_tile</a>();</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>        <span class="comment">// mapgen</span></div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span> </div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a87e33ddabbfca693421039886d5fc4fd">draw_line_ter</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p1, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p2 );</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a6099760d86eb5c4cceceaddbc1c75d39">draw_line_furn</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">furn_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p1, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p2 );</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a7b85e137b5fe6ffc47e51769a3e472bb">draw_fill_background</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> );</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a7b85e137b5fe6ffc47e51769a3e472bb">draw_fill_background</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ace91d270e314ee1f266a1f4e30ea129b">ter_id</a>( *f )() );</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a7b85e137b5fe6ffc47e51769a3e472bb">draw_fill_background</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structweighted__int__list.html">weighted_int_list&lt;ter_id&gt;</a> &amp;f );</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span> </div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a6b843366d933d4890f8b45624f3e1dd9">draw_square_ter</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p1, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p2 );</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#af9897dfd3c11c0cefd1470d849d15250">draw_square_furn</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">furn_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p1, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p2 );</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a6b843366d933d4890f8b45624f3e1dd9">draw_square_ter</a>( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ace91d270e314ee1f266a1f4e30ea129b">ter_id</a>( *f )(), <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p1, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p2 );</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a6b843366d933d4890f8b45624f3e1dd9">draw_square_ter</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structweighted__int__list.html">weighted_int_list&lt;ter_id&gt;</a> &amp;f, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p1,</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>                              <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p2 );</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a13bdb8150fd5ac7ae19b631c6b9f4228">draw_rough_circle_ter</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <span class="keywordtype">int</span> rad );</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ad8a08ae2149e29300b950c275557bdbb">draw_rough_circle_furn</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">furn_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <span class="keywordtype">int</span> rad );</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a81afa05c125ced74e6d63ac7d30ccce6">draw_circle_ter</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structrl__vec2d.html">rl_vec2d</a> &amp;p, <span class="keywordtype">double</span> rad );</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a81afa05c125ced74e6d63ac7d30ccce6">draw_circle_ter</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <span class="keywordtype">int</span> rad );</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a0b6503d673bafd5a78a66cb7fd48ccfc">draw_circle_furn</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">furn_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <span class="keywordtype">int</span> rad );</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span> </div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a4a55442d672ac6bbf118e30000e1b077">add_corpse</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span> </div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>        <span class="comment">// Terrain changing functions</span></div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>        <span class="comment">// Change all instances of $from-&gt;$to</span></div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a16c42a0494cf948a154567bc43571f90">translate</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> &amp;from, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> &amp;to );</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>        <span class="comment">// Change all instances $from-&gt;$to within this radius, optionally limited to locations in the same submap.</span></div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>        <span class="comment">// Optionally toggles instances $from-&gt;$to &amp; $to-&gt;$from</span></div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a88e7b774d854a4e04c5712d45def9237">translate_radius</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> &amp;from, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> &amp;to, <span class="keywordtype">float</span> radi, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p,</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>                               <span class="keywordtype">bool</span> same_submap = <span class="keyword">false</span>, <span class="keywordtype">bool</span> toggle_between = <span class="keyword">false</span> );</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a99c1c5f7d292ff80d79ec6ba34632623">close_door</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">bool</span> inside, <span class="keywordtype">bool</span> check_only );</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a1f9586b472e2bf4dac4487c0a061c152">open_door</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">bool</span> inside, <span class="keywordtype">bool</span> check_only = <span class="keyword">false</span> );</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>        <span class="comment">// Destruction</span><span class="comment"></span></div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span><span class="comment">        /** bash a square for a set number of times at set power.  Does not destroy */</span></div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a6af11441d8c42d42d1925930a6e2b663">batter</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">int</span> power, <span class="keywordtype">int</span> tries = 1, <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="weather__type_8h.html#a72d839b22172d982273f161206458e25aea0954256baa532a790715983c326a09">silent</a> = <span class="keyword">false</span> );<span class="comment"></span></div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span><span class="comment">        /** Keeps bashing a square until it can&#39;t be bashed anymore */</span></div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a07dbd4505e0464a1f58bc732febfd6f4">destroy</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="weather__type_8h.html#a72d839b22172d982273f161206458e25aea0954256baa532a790715983c326a09">silent</a> = <span class="keyword">false</span> );<span class="comment"></span></div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span><span class="comment">        /** Keeps bashing a square until there is no more furniture */</span></div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#aa9876f3b15b72bae95b49982fb1bc1a5">destroy_furn</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="weather__type_8h.html#a72d839b22172d982273f161206458e25aea0954256baa532a790715983c326a09">silent</a> = <span class="keyword">false</span> );</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a02dae7dd50e6ef9b92f6501e4d9e48b8">crush</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a30089f97bb31ba2ca2243c178a4a3c65">shoot</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <a class="code hl_struct" href="structprojectile.html">projectile</a> &amp;proj, <span class="keywordtype">bool</span> hit_items );<span class="comment"></span></div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span><span class="comment">        /** Checks if a square should collapse, returns the X for the one_in(X) collapse chance */</span></div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#a304bbd8ce5c2593668b4da84394577d8">collapse_check</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );<span class="comment"></span></div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span><span class="comment">        /** Causes a collapse at p, such as from destroying a wall */</span></div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a8a94a0d6ee64a54e71a7d3b4d2344d85">collapse_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="weather__type_8h.html#a72d839b22172d982273f161206458e25aea0954256baa532a790715983c326a09">silent</a>, <span class="keywordtype">bool</span> was_supporting = <span class="keyword">false</span>,</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>                          <span class="keywordtype">bool</span> destroy_pos = <span class="keyword">true</span> );<span class="comment"></span></div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span><span class="comment">        /** Checks surrounding tiles for suspension, and has them check for collapse. !!Should only be called after the tile at this point has been destroyed!!*/</span></div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a210355005aedbea83b68a32c0415fdbd">propagate_suspension_check</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_struct" href="structpoint.html">point</a> );<span class="comment"></span></div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span><span class="comment">        /** Triggers a recursive collapse of suspended tiles based on their support validity*/</span></div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a97a225ab559b4f2e8f1f6f43d34fd392">collapse_invalid_suspension</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_struct" href="structpoint.html">point</a> );<span class="comment"></span></div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span><span class="comment">        /** Checks the four orientations in which a suspended tile could be valid, and returns if the tile is valid*/</span></div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#aca0dcb78a357fd6ecd55de98dc9a97fb">is_suspension_valid</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_struct" href="structpoint.html">point</a> );<span class="comment"></span></div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span><span class="comment">        /** Tries to smash the items at the given tripoint. */</span></div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a369e57962e2c38b17464c405b6d7184b">smash_items</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">int</span> power, <span class="keyword">const</span> std::string &amp;cause_message, <span class="keywordtype">bool</span> do_destroy );<span class="comment"></span></div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span><span class="comment">         * Returns a pair where first is whether anything was smashed and second is if it was destroyed.</span></div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span><span class="comment">         *</span></div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span><span class="comment">         * @param p Where to bash</span></div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span><span class="comment">         * @param str How hard to bash</span></div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span><span class="comment">         * @param silent Don&#39;t produce any sound</span></div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span><span class="comment">         * @param destroy Destroys some otherwise unbashable tiles</span></div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span><span class="comment">         * @param bash_floor Allow bashing the floor and the tile that supports it</span></div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span><span class="comment">         * @param bashing_vehicle Vehicle that should NOT be bashed (because it is doing the bashing)</span></div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span><span class="comment">         */</span></div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>        <a class="code hl_struct" href="structbash__results.html">bash_results</a> <a class="code hl_function" href="classmap.html#a2266f21420ae2a1b44e8df9a028764e4">bash</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">int</span> str, <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="weather__type_8h.html#a72d839b22172d982273f161206458e25aea0954256baa532a790715983c326a09">silent</a> = <span class="keyword">false</span>,</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>                           <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a07dbd4505e0464a1f58bc732febfd6f4">destroy</a> = <span class="keyword">false</span>, <span class="keywordtype">bool</span> bash_floor = <span class="keyword">false</span>,</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>                           <span class="keyword">const</span> <a class="code hl_class" href="classvehicle.html">vehicle</a> *bashing_vehicle = <span class="keyword">nullptr</span> );</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span> </div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>        <a class="code hl_struct" href="structbash__results.html">bash_results</a> <a class="code hl_function" href="classmap.html#ad8ccb1a4c807b25822a3da621caffa72">bash_vehicle</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_struct" href="structbash__params.html">bash_params</a> &amp;params );</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>        <a class="code hl_struct" href="structbash__results.html">bash_results</a> <a class="code hl_function" href="classmap.html#aeaaa0be9820edcc0314f1aad1b9c8eb8">bash_ter_furn</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_struct" href="structbash__params.html">bash_params</a> &amp;params );</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span> </div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>        <span class="comment">// Effects of attacks/items</span></div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#ad594a3d6b0035190e2597dfad8280b33">hit_with_acid</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a815ea08e464d32c516dcc9f3af9d8e2e">hit_with_fire</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span><span class="comment"></span> </div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span><span class="comment">         * Returns true if there is furniture for which filter returns true in a 1 tile radius of p.</span></div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span><span class="comment">         * Pass return_true&lt;furn_t&gt; to detect all adjacent furniture.</span></div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span><span class="comment">         * @param p the location to check at</span></div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span><span class="comment">         * @param filter what to filter the furniture by.</span></div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span><span class="comment">         */</span></div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a40edb8b25c5e5b18d3a74912356f069a">has_adjacent_furniture_with</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p,</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>                                          <span class="keyword">const</span> std::function&lt;<span class="keywordtype">bool</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structfurn__t.html">furn_t</a> &amp; )&gt; &amp;filter );<span class="comment"></span></div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span><span class="comment">         * Remove moppable fields/items at this location</span></div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span><span class="comment">         *  @param p the location</span></div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span><span class="comment">         *  @return true if anything moppable was there, false otherwise.</span></div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span><span class="comment">         */</span></div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a2e540ff49324888b2641a7d8484f5376">mop_spills</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );<span class="comment"></span></div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span><span class="comment">         * Moved here from weather.cpp for speed. Decays fire, washable fields and scent.</span></div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span><span class="comment">         * Washable fields are decayed only by 1/3 of the amount fire is.</span></div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span><span class="comment">         */</span></div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#afdc3d888540a2a6f8fedc8b8026b08d3">decay_fields_and_scent</a>( <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> &amp;amount );</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span> </div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>        <span class="comment">// Signs</span></div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>        std::string <a class="code hl_function" href="classmap.html#a5c968c93ff5170d9901823f7b25bb557">get_signage</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ae7ef998adaaa74d9755c10a5c61200a3">set_signage</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> std::string &amp;<a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a> ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ae363ec87b2ef0cccd7c5f5c860402313">delete_signage</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span> </div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>        <span class="comment">// Radiation</span></div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#a49871648d1ab92a02a1a6f12797390a7">get_radiation</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#aa8517a6c4e119d2ac983ebce5f7f6ea5">set_radiation</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">int</span> value );</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"><a class="line" href="classmap.html#a1110b01d9a661d8e6ae4737aacba480f"> 1186</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a1110b01d9a661d8e6ae4737aacba480f">set_radiation</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <span class="keyword">const</span> <span class="keywordtype">int</span> value ) {</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>            <a class="code hl_function" href="classmap.html#aa8517a6c4e119d2ac983ebce5f7f6ea5">set_radiation</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ), value );</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>        }</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span><span class="comment"></span> </div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span><span class="comment">        /** Increment the radiation in the given tile by the given delta</span></div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span><span class="comment">        *  (decrement it if delta is negative)</span></div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span><span class="comment">        */</span></div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a03860b3f7c4c378d92e2719997b97f8c">adjust_radiation</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">int</span> delta );</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"><a class="line" href="classmap.html#a4fe667a3e03d54338bc336108d880f38"> 1194</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a4fe667a3e03d54338bc336108d880f38">adjust_radiation</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <span class="keyword">const</span> <span class="keywordtype">int</span> delta ) {</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>            <a class="code hl_function" href="classmap.html#a03860b3f7c4c378d92e2719997b97f8c">adjust_radiation</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ), delta );</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>        }</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span> </div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>        <span class="comment">// Temperature</span></div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>        <span class="comment">// Temperature for submap</span></div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#aedcfa0db62ad0d6c8590f714de2f98be">get_temperature</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>        <span class="comment">// Set temperature for all four submap quadrants</span></div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a33eacfd2d7cffa2af0f90cbb77ade2f1">set_temperature</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">int</span> <a class="code hl_typedef" href="namespaceunits.html#a458531725a9f70ed821e8067cfaf3a0d">temperature</a> );</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"><a class="line" href="classmap.html#ac84fdb03e34711ad8b42c56d00e490b2"> 1203</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ac84fdb03e34711ad8b42c56d00e490b2">set_temperature</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <span class="keywordtype">int</span> new_temperature ) {</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>            <a class="code hl_function" href="classmap.html#a33eacfd2d7cffa2af0f90cbb77ade2f1">set_temperature</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ), new_temperature );</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>        }</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span> </div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>        <span class="comment">// Returns points for all submaps with inconsistent state relative to</span></div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>        <span class="comment">// the list in map.  Used in tests.</span></div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>        std::vector&lt;tripoint&gt; <a class="code hl_function" href="classmap.html#a12f1a97d91cb17669da9c056480fea7a">check_submap_active_item_consistency</a>();</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>        <span class="comment">// Accessor that returns a wrapped reference to an item stack for safe modification.</span></div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>        <a class="code hl_class" href="classmap__stack.html">map_stack</a> <a class="code hl_function" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"><a class="line" href="classmap.html#ad53c2d6b878cd2a3d1ad77d6aeeb27e2"> 1212</a></span>        <a class="code hl_class" href="classmap__stack.html">map_stack</a> <a class="code hl_function" href="classmap.html#ad53c2d6b878cd2a3d1ad77d6aeeb27e2">i_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p ) {</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>        }</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>        <a class="code hl_class" href="classitem.html">item</a> <a class="code hl_function" href="classmap.html#a3fea339e0cf553409e982fd0fb385d84">water_from</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a9b1c092685c43287d5db23156f3f337e">i_clear</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"><a class="line" href="classmap.html#aa8da7d6f52ca859712be7af8d04da1d7"> 1217</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#aa8da7d6f52ca859712be7af8d04da1d7">i_clear</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p ) {</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>            <a class="code hl_function" href="classmap.html#a9b1c092685c43287d5db23156f3f337e">i_clear</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>        }</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>        <span class="comment">// i_rem() methods that return values act like container::erase(),</span></div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>        <span class="comment">// returning an iterator to the next item after removal.</span></div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>        <a class="code hl_class" href="classcata_1_1colony_1_1colony__iterator.html">map_stack::iterator</a> <a class="code hl_function" href="classmap.html#ad12f3e2ddb1c38ca6b8e75a1a9e48a3d">i_rem</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <a class="code hl_class" href="classcata_1_1colony_1_1colony__iterator.html">map_stack::const_iterator</a> it );</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"><a class="line" href="classmap.html#a6f35d18d363dc61df1e8d4fdb0e99426"> 1223</a></span>        <a class="code hl_class" href="classcata_1_1colony_1_1colony__iterator.html">map_stack::iterator</a> <a class="code hl_function" href="classmap.html#a6f35d18d363dc61df1e8d4fdb0e99426">i_rem</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;location, <a class="code hl_class" href="classcata_1_1colony_1_1colony__iterator.html">map_stack::const_iterator</a> it ) {</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#ad12f3e2ddb1c38ca6b8e75a1a9e48a3d">i_rem</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( location, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ), it );</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>        }</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ad12f3e2ddb1c38ca6b8e75a1a9e48a3d">i_rem</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <a class="code hl_class" href="classitem.html">item</a> *it );</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"><a class="line" href="classmap.html#a0cddc412ecd2b306b3b6f0293dba3900"> 1227</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a0cddc412ecd2b306b3b6f0293dba3900">i_rem</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <a class="code hl_class" href="classitem.html">item</a> *it ) {</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>            <a class="code hl_function" href="classmap.html#ad12f3e2ddb1c38ca6b8e75a1a9e48a3d">i_rem</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ), it );</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>        }</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a2182c8dd7cbebaaf41e7ab28ca053d6a">spawn_artifact</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a2191dc3bd14940254a3e9b8fc47d0c3a">spawn_natural_artifact</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <a class="code hl_enumeration" href="enums_8h.html#a9514e9cfc369de1113bc9e44cd5db33d">artifact_natural_property</a> prop );</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#acfe43259087397daac52876165a3120c">spawn_item</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;type_id,</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>                         <span class="keywordtype">unsigned</span> quantity = 1, <span class="keywordtype">int</span> charges = 0,</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>                         <span class="keyword">const</span> <a class="code hl_class" href="classtime__point.html">time_point</a> &amp;birthday = <a class="code hl_variable" href="namespacecalendar.html#ab01178b933b4f1c62bd75b2edfdbaf79">calendar::start_of_cataclysm</a>, <span class="keywordtype">int</span> damlevel = 0 );</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"><a class="line" href="classmap.html#aaccd17991efef22321d698c2e49141fe"> 1235</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#aaccd17991efef22321d698c2e49141fe">spawn_item</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;type_id,</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>                         <span class="keywordtype">unsigned</span> quantity = 1, <span class="keywordtype">int</span> charges = 0,</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>                         <span class="keyword">const</span> <a class="code hl_class" href="classtime__point.html">time_point</a> &amp;birthday = <a class="code hl_variable" href="namespacecalendar.html#ab01178b933b4f1c62bd75b2edfdbaf79">calendar::start_of_cataclysm</a>, <span class="keywordtype">int</span> damlevel = 0 ) {</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>            <a class="code hl_function" href="classmap.html#acfe43259087397daac52876165a3120c">spawn_item</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ), type_id, quantity, charges, birthday, damlevel );</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>        }</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span> </div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>        <span class="comment">// FIXME: remove these overloads and require spawn_item to take an</span></div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>        <span class="comment">// itype_id</span></div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"><a class="line" href="classmap.html#a104508abdc0ddb48fef910e70a79241a"> 1243</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a104508abdc0ddb48fef910e70a79241a">spawn_item</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> std::string &amp;type_id,</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>                         <span class="keywordtype">unsigned</span> quantity = 1, <span class="keywordtype">int</span> charges = 0,</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>                         <span class="keyword">const</span> <a class="code hl_class" href="classtime__point.html">time_point</a> &amp;birthday = <a class="code hl_variable" href="namespacecalendar.html#ab01178b933b4f1c62bd75b2edfdbaf79">calendar::start_of_cataclysm</a>, <span class="keywordtype">int</span> damlevel = 0 ) {</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>            <a class="code hl_function" href="classmap.html#acfe43259087397daac52876165a3120c">spawn_item</a>( p, <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( type_id ), quantity, charges, birthday, damlevel );</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>        }</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"><a class="line" href="classmap.html#a02c23b3e96f18937325d96a27a969be8"> 1248</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a02c23b3e96f18937325d96a27a969be8">spawn_item</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <span class="keyword">const</span> std::string &amp;type_id,</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>                         <span class="keywordtype">unsigned</span> quantity = 1, <span class="keywordtype">int</span> charges = 0,</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>                         <span class="keyword">const</span> <a class="code hl_class" href="classtime__point.html">time_point</a> &amp;birthday = <a class="code hl_variable" href="namespacecalendar.html#ab01178b933b4f1c62bd75b2edfdbaf79">calendar::start_of_cataclysm</a>, <span class="keywordtype">int</span> damlevel = 0 ) {</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>            <a class="code hl_function" href="classmap.html#acfe43259087397daac52876165a3120c">spawn_item</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ), type_id, quantity, charges, birthday, damlevel );</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>        }</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>        <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> <a class="code hl_function" href="classmap.html#ae47264a5a225fbac1e19fccc8f6dcc55">max_volume</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>        <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> <a class="code hl_function" href="classmap.html#a5aed3d4e04f4571603bb532f95f08f47">free_volume</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>        <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> <a class="code hl_function" href="classmap.html#af9786eec1a9615eedf83340533346586">stored_volume</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span><span class="comment"></span> </div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span><span class="comment">         *  Adds an item to map tile or stacks charges</span></div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span><span class="comment">         *  @param pos Where to add item</span></div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span><span class="comment">         *  @param obj Item to add</span></div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span><span class="comment">         *  @param overflow if destination is full attempt to drop on adjacent tiles</span></div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span><span class="comment">         *  @return reference to dropped (and possibly stacked) item or null item on failure</span></div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span><span class="comment">         *  @warning function is relatively expensive and meant for user initiated actions, not mapgen</span></div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span><span class="comment">         */</span></div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>        <a class="code hl_class" href="classitem.html">item</a> &amp;<a class="code hl_function" href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">add_item_or_charges</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pos, <a class="code hl_class" href="classitem.html">item</a> obj, <span class="keywordtype">bool</span> overflow = <span class="keyword">true</span> );</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"><a class="line" href="classmap.html#ab1895c8f3af58c7d9cddd2daec02e7b1"> 1266</a></span>        <a class="code hl_class" href="classitem.html">item</a> &amp;<a class="code hl_function" href="classmap.html#ab1895c8f3af58c7d9cddd2daec02e7b1">add_item_or_charges</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <a class="code hl_class" href="classitem.html">item</a> obj, <span class="keywordtype">bool</span> overflow = <span class="keyword">true</span> ) {</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">add_item_or_charges</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ), obj, overflow );</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>        }</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span><span class="comment"></span> </div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span><span class="comment">         * Place an item on the map, despite the parameter name, this is not necessarily a new item.</span></div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span><span class="comment">         * WARNING: does -not- check volume or stack charges. player functions (drop etc) should use</span></div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span><span class="comment">         * map::add_item_or_charges</span></div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span><span class="comment">         *</span></div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span><span class="comment">         * @returns The item that got added, or nulitem.</span></div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span><span class="comment">         */</span></div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>        <a class="code hl_class" href="classitem.html">item</a> &amp;<a class="code hl_function" href="classmap.html#a64d3ea19afd7a9c65f072dd65fb15405">add_item</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <a class="code hl_class" href="classitem.html">item</a> new_item );</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"><a class="line" href="classmap.html#a34d9c93a1b6f9cee46e13f963f196e46"> 1278</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a34d9c93a1b6f9cee46e13f963f196e46">add_item</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <a class="code hl_class" href="classitem.html">item</a> new_item ) {</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>            <a class="code hl_function" href="classmap.html#a64d3ea19afd7a9c65f072dd65fb15405">add_item</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ), new_item );</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>        }</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>        <a class="code hl_class" href="classitem.html">item</a> &amp;<a class="code hl_function" href="classmap.html#a8d67cd8fe3f142bae77fbd0eb81106d5">spawn_an_item</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <a class="code hl_class" href="classitem.html">item</a> new_item, <span class="keywordtype">int</span> charges, <span class="keywordtype">int</span> damlevel );</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"><a class="line" href="classmap.html#a36ab6461add343b1d763945b4a9c9d61"> 1282</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a36ab6461add343b1d763945b4a9c9d61">spawn_an_item</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <a class="code hl_class" href="classitem.html">item</a> new_item, <span class="keywordtype">int</span> charges, <span class="keywordtype">int</span> damlevel ) {</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>            <a class="code hl_function" href="classmap.html#a8d67cd8fe3f142bae77fbd0eb81106d5">spawn_an_item</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ), new_item, charges, damlevel );</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>        }</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span><span class="comment"></span> </div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span><span class="comment">         * Update an item&#39;s active status, for example when adding</span></div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span><span class="comment">         * hot or perishable liquid to a container.</span></div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span><span class="comment">         */</span></div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#abc7101be108a49131b6646bfb29d381f">make_active</a>( <a class="code hl_class" href="classitem__location.html">item_location</a> &amp;loc );</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span><span class="comment"></span> </div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span><span class="comment">         * Update luminosity before and after item&#39;s transformation</span></div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span><span class="comment">         */</span></div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a0e3e16bbd43c622282867e85ff5100d2">update_lum</a>( <a class="code hl_class" href="classitem__location.html">item_location</a> &amp;loc, <span class="keywordtype">bool</span> <a class="code hl_function" href="namespaceom__direction.html#a75c0342ea30288a5a6d5bdbff38f7cde">add</a> );</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span><span class="comment"></span> </div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span><span class="comment">         * @name Consume items on the map</span></div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span><span class="comment">         *</span></div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span><span class="comment">         * The functions here consume accessible items / item charges on the map or in vehicles</span></div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span><span class="comment">         * around the player (whose positions is given as origin).</span></div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span><span class="comment">         * They return a list of copies of the consumed items (with the actually consumed charges</span></div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span><span class="comment">         * in it).</span></div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span><span class="comment">         * The quantity / amount parameter will be reduced by the number of items/charges removed.</span></div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span><span class="comment">         * If all required items could be removed from the map, the quantity/amount will be 0,</span></div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span><span class="comment">         * otherwise it will contain a positive value and the remaining items must be gathered from</span></div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span><span class="comment">         * somewhere else.</span></div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span><span class="comment">         */</span><span class="comment"></span></div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span><span class="comment">        /*@{*/</span></div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>        std::list&lt;item&gt; <a class="code hl_function" href="classmap.html#ad39f63b4307dd002b3a8cfc0e99f8013">use_amount_square</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>,</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>                                           <span class="keywordtype">int</span> &amp;quantity, <span class="keyword">const</span> std::function&lt;<span class="keywordtype">bool</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; )&gt; &amp;filter = return_true&lt;item&gt; );</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>        std::list&lt;item&gt; <a class="code hl_function" href="classmap.html#aed386d18875f9545fa964659b1a68be6">use_amount</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_enumeration" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, <span class="keywordtype">int</span> range, <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>,</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>                                    <span class="keywordtype">int</span> &amp;quantity, <span class="keyword">const</span> std::function&lt;<span class="keywordtype">bool</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; )&gt; &amp;filter = return_true&lt;item&gt; );</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>        std::list&lt;item&gt; <a class="code hl_function" href="classmap.html#a303a4950ef1850ddcc5e8f902418ac82">use_charges</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_enumeration" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, <span class="keywordtype">int</span> range, <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>,</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>                                     <span class="keywordtype">int</span> &amp;quantity, <span class="keyword">const</span> std::function&lt;<span class="keywordtype">bool</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; )&gt; &amp;filter = return_true&lt;item&gt;,</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>                                     <a class="code hl_class" href="classbasecamp.html">basecamp</a> *bcp = <span class="keyword">nullptr</span> );<span class="comment"></span></div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span><span class="comment">        /*@}*/</span></div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span><span class="comment"></span> </div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span><span class="comment">        * Place items from item group in the rectangle f - t. Several items may be spawned</span></div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span><span class="comment">        * on different places. Several items may spawn at once (at one place) when the item group says</span></div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span><span class="comment">        * so (uses @ref item_group::items_from which may return several items at once).</span></div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span><span class="comment">        * @param loc Current location of items to be placed</span></div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span><span class="comment">        * @param chance Chance for more items. A chance of 100 creates 1 item all the time, otherwise</span></div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span><span class="comment">        * it&#39;s the chance that more items will be created (place items until the random roll with that</span></div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span><span class="comment">        * chance fails). The chance is used for the first item as well, so it may not spawn an item at</span></div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span><span class="comment">        * all. Values &lt;= 0 or &gt; 100 are invalid.</span></div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span><span class="comment">        * @param p1 One corner of rectangle in which to spawn items</span></div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span><span class="comment">        * @param p2 Second corner of rectangle in which to spawn items</span></div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span><span class="comment">        * @param ongrass If false the items won&#39;t spawn on flat terrain (grass, floor, ...).</span></div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span><span class="comment">        * @param turn The birthday that the created items shall have.</span></div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span><span class="comment">        * @param magazine percentage chance item will contain the default magazine</span></div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span><span class="comment">        * @param ammo percentage chance item will be filled with default ammo</span></div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span><span class="comment">        * @return vector containing all placed items</span></div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span><span class="comment">        */</span></div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>        std::vector&lt;item *&gt; <a class="code hl_function" href="classmap.html#aa5988c07cbd9e65c05e92e2610cd5ad3">place_items</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">item_group_id</a> &amp;loc, <span class="keywordtype">int</span> chance, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p1,</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>                                         <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p2, <span class="keywordtype">bool</span> ongrass, <span class="keyword">const</span> <a class="code hl_class" href="classtime__point.html">time_point</a> &amp;<a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a>,</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>                                         <span class="keywordtype">int</span> magazine = 0, <span class="keywordtype">int</span> ammo = 0 );</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"><a class="line" href="classmap.html#ae5552cf3b7ca876675b436a54f3b7615"> 1339</a></span>        std::vector&lt;item *&gt; <a class="code hl_function" href="classmap.html#ae5552cf3b7ca876675b436a54f3b7615">place_items</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">item_group_id</a> &amp;loc, <span class="keywordtype">int</span> chance, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p1,</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>                                         <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p2, <span class="keywordtype">bool</span> ongrass, <span class="keyword">const</span> <a class="code hl_class" href="classtime__point.html">time_point</a> &amp;<a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a>,</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>                                         <span class="keywordtype">int</span> magazine = 0, <span class="keywordtype">int</span> ammo = 0 ) {</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#aa5988c07cbd9e65c05e92e2610cd5ad3">place_items</a>( loc, chance, <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p1, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ), <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p2, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ), ongrass,</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>                                <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a>, magazine, ammo );</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>        }<span class="comment"></span></div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span><span class="comment">        * Place items from an item group at p. Places as much items as the item group says.</span></div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span><span class="comment">        * (Most item groups are distributions and will only create one item.)</span></div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span><span class="comment">        * @param loc Current location of items</span></div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span><span class="comment">        * @param p Destination of items</span></div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span><span class="comment">        * @param turn The birthday that the created items shall have.</span></div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span><span class="comment">        * @return Vector of pointers to placed items (can be empty, but no nulls).</span></div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span><span class="comment">        */</span></div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>        std::vector&lt;item *&gt; <a class="code hl_function" href="classmap.html#ad3d3b83077d79c76e904abb5041dd78d">put_items_from_loc</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">item_group_id</a> &amp;loc, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p,</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>                                                <span class="keyword">const</span> <a class="code hl_class" href="classtime__point.html">time_point</a> &amp;<a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a> = <a class="code hl_variable" href="namespacecalendar.html#ab01178b933b4f1c62bd75b2edfdbaf79">calendar::start_of_cataclysm</a> );</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span> </div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>        <span class="comment">// Similar to spawn_an_item, but spawns a list of items, or nothing if the list is empty.</span></div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>        std::vector&lt;item *&gt; <a class="code hl_function" href="classmap.html#a4648afd5a1ecdebba3dc5c5068363f8e">spawn_items</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> std::vector&lt;item&gt; &amp;new_items );</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"><a class="line" href="classmap.html#a685323dd8a093f19ec646334e312c02d"> 1358</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a685323dd8a093f19ec646334e312c02d">spawn_items</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <span class="keyword">const</span> std::vector&lt;item&gt; &amp;new_items ) {</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>            <a class="code hl_function" href="classmap.html#a4648afd5a1ecdebba3dc5c5068363f8e">spawn_items</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ), new_items );</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>        }</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span> </div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a6e8b67afc4a7ea73f70fa3f7e48a6a67">create_anomaly</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <a class="code hl_enumeration" href="enums_8h.html#a9514e9cfc369de1113bc9e44cd5db33d">artifact_natural_property</a> prop, <span class="keywordtype">bool</span> create_rubble = <span class="keyword">true</span> );</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"><a class="line" href="classmap.html#a4792d0868679ad6deeaf02c8cd3adbd1"> 1363</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a4792d0868679ad6deeaf02c8cd3adbd1">create_anomaly</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;cp, <a class="code hl_enumeration" href="enums_8h.html#a9514e9cfc369de1113bc9e44cd5db33d">artifact_natural_property</a> prop, <span class="keywordtype">bool</span> create_rubble = <span class="keyword">true</span> ) {</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>            <a class="code hl_function" href="classmap.html#a6e8b67afc4a7ea73f70fa3f7e48a6a67">create_anomaly</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( cp, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ), prop, create_rubble );</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>        }</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span> </div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>        <span class="comment">// Partial construction functions</span></div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ae910e8f94fada3a28c3d81d96eadb70c">partial_con_set</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_struct" href="structpartial__con.html">partial_con</a> &amp;con );</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ab28692303adbeea326cea5252f0a461a">partial_con_remove</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>        <a class="code hl_struct" href="structpartial__con.html">partial_con</a> *<a class="code hl_function" href="classmap.html#ab39ceb8f855edf31f6af0fa91864048b">partial_con_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>        <span class="comment">// Traps</span></div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ade82e480520c05f5a4e8917df19cef8c">trap_set</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">trap_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> );</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span> </div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structtrap.html">trap</a> &amp;<a class="code hl_function" href="classmap.html#a30ccb67ed3651d350f2caf214e0b5176">tr_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span><span class="comment">        /// See @ref trap::can_see, which is called for the trap here.</span></div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span><span class="comment"></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a2578f467596e13fb8631fd01126a9667">can_see_trap_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classCharacter.html">Character</a> &amp;<a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span> </div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#af36e4659abd2e9886fbfcb72153b36ce">disarm_trap</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ae6be5b2b977897215861971bf64fb502">remove_trap</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>        <span class="keyword">const</span> std::vector&lt;tripoint&gt; &amp;<a class="code hl_function" href="classmap.html#a17f0017c1f3883d5eedc4c5de06515ca">get_furn_field_locations</a>() <span class="keyword">const</span>;</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>        <span class="keyword">const</span> std::vector&lt;tripoint&gt; &amp;<a class="code hl_function" href="classmap.html#aca8eb1167f6fb43f47555590dbf9f9c6">trap_locations</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">trap_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span> </div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>        <span class="comment">// Spawns byproducts from items destroyed in fire.</span></div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a9ada8bea4712648bcb27d0cd32f63c6a">create_burnproducts</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;fuel, <span class="keyword">const</span> <a class="code hl_class" href="classunits_1_1quantity.html">units::mass</a> &amp;burned_mass );</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>        <span class="comment">// See fields.cpp</span></div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#aa0d14cd7febb068abb69390c7bde9156">process_fields</a>();</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#aa926674ebd4c5600b1994a73cd492fae">process_fields_in_submap</a>( <a class="code hl_class" href="classsubmap.html">submap</a> *current_submap, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;submap_pos );<span class="comment"></span></div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span><span class="comment">         * Apply field effects to the creature when it&#39;s on a square with fields.</span></div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span><span class="comment">         */</span></div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a780bfbdc19649391081c1ad6e0e4aa81">creature_in_field</a>( <a class="code hl_class" href="classCreature.html">Creature</a> &amp;critter );<span class="comment"></span></div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span><span class="comment">         * Apply trap effects to the creature, similar to @ref creature_in_field.</span></div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span><span class="comment">         * If there is no trap at the creatures location, nothing is done.</span></div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span><span class="comment">         * If the creature can avoid the trap, nothing is done as well.</span></div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span><span class="comment">         * Otherwise the trap is triggered.</span></div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span><span class="comment">         * @param critter Creature that just got trapped</span></div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span><span class="comment">         * @param may_avoid If true, the creature tries to avoid the trap</span></div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span><span class="comment">         * (@ref Creature::avoid_trap). If false, the trap is always triggered.</span></div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span><span class="comment">         */</span></div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a75a40ba325d4b3764befa9e60edd6ddf">creature_on_trap</a>( <a class="code hl_class" href="classCreature.html">Creature</a> &amp;critter, <span class="keywordtype">bool</span> may_avoid = <span class="keyword">true</span> );</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>        <span class="comment">// Field functions</span><span class="comment"></span></div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span><span class="comment">         * Get the fields that are here. This is for querying and looking at it only,</span></div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span><span class="comment">         * one can not change the fields.</span></div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span><span class="comment">         * @param p The local map coordinates, if out of bounds, returns an empty field.</span></div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span><span class="comment">         */</span></div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>        <span class="keyword">const</span> <a class="code hl_class" href="classfield.html">field</a> &amp;<a class="code hl_function" href="classmap.html#a395a729a4b954692cf08d13e1d32f73e">field_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span><span class="comment">         * Gets fields that are here. Both for querying and edition.</span></div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span><span class="comment">         */</span></div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>        <a class="code hl_class" href="classfield.html">field</a> &amp;<a class="code hl_function" href="classmap.html#a395a729a4b954692cf08d13e1d32f73e">field_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );<span class="comment"></span></div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span><span class="comment">         * Get the age of a field entry (@ref field_entry::age), if there is no</span></div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span><span class="comment">         * field of that type, returns `-1_turns`.</span></div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span><span class="comment">         */</span></div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>        <a class="code hl_class" href="classtime__duration.html">time_duration</a> <a class="code hl_function" href="classmap.html#a1e2d0ee9656a17039576cad540e73dff">get_field_age</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">field_type_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> ) <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span><span class="comment">         * Get the intensity of a field entry (@ref field_entry::intensity),</span></div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span><span class="comment">         * if there is no field of that type, returns 0.</span></div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span><span class="comment">         */</span></div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#a34f983a946812fa51de439bd68f6dc09">get_field_intensity</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">field_type_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> ) <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span><span class="comment">         * Increment/decrement age of field entry at point.</span></div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span><span class="comment">         * @return resulting age or `-1_turns` if not present (does *not* create a new field).</span></div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span><span class="comment">         */</span></div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>        <a class="code hl_class" href="classtime__duration.html">time_duration</a> <a class="code hl_function" href="classmap.html#a812772b8c5553003e6f5a2b7963da114">mod_field_age</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">field_type_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>,</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>                                     <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> &amp;offset );<span class="comment"></span></div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span><span class="comment">         * Increment/decrement intensity of field entry at point, creating if not present,</span></div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span><span class="comment">         * removing if intensity becomes 0.</span></div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span><span class="comment">         * @return resulting intensity, or 0 for not present (either removed or not created at all).</span></div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span><span class="comment">         */</span></div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#ace2f169fced91ed2daf1f3ab1fb0d0cf">mod_field_intensity</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">field_type_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keywordtype">int</span> offset );<span class="comment"></span></div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span><span class="comment">         * Set age of field entry at point.</span></div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span><span class="comment">         * @param p Location of field</span></div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span><span class="comment">         * @param type ID of field</span></div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span><span class="comment">         * @param age New age of specified field</span></div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span><span class="comment">         * @param isoffset If true, the given age value is added to the existing value,</span></div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span><span class="comment">         * if false, the existing age is ignored and overridden.</span></div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span><span class="comment">         * @return resulting age or `-1_turns` if not present (does *not* create a new field).</span></div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span><span class="comment">         */</span></div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>        <a class="code hl_class" href="classtime__duration.html">time_duration</a> <a class="code hl_function" href="classmap.html#a0ae241c4167c39e8fd776778451b4f8e">set_field_age</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">field_type_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>,</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>                                     <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> &amp;age, <span class="keywordtype">bool</span> isoffset = <span class="keyword">false</span> );<span class="comment"></span></div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span><span class="comment">         * Set intensity of field entry at point, creating if not present,</span></div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span><span class="comment">         * removing if intensity becomes 0.</span></div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span><span class="comment">         * @param p Location of field</span></div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span><span class="comment">         * @param type ID of field</span></div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span><span class="comment">         * @param new_intensity New intensity of field</span></div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span><span class="comment">         * @param isoffset If true, the given new_intensity value is added to the existing value,</span></div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span><span class="comment">         * if false, the existing intensity is ignored and overridden.</span></div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span><span class="comment">         * @return resulting intensity, or 0 for not present (either removed or not created at all).</span></div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span><span class="comment">         */</span></div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#a3d22e002568dbeee5e7366191a337f87">set_field_intensity</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">field_type_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keywordtype">int</span> new_intensity,</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>                                 <span class="keywordtype">bool</span> isoffset = <span class="keyword">false</span> );<span class="comment"></span></div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span><span class="comment">         * Get field of specific type at point.</span></div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span><span class="comment">         * @return NULL if there is no such field entry at that place.</span></div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span><span class="comment">         */</span></div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>        <a class="code hl_class" href="classfield__entry.html">field_entry</a> *<a class="code hl_function" href="classmap.html#a30cfefdb115c16c5e1af6cc99f94bbbd">get_field</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">field_type_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> );</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a7cb97c4cba30ae940b9fb0041102c283">dangerous_field_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );<span class="comment"></span></div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span><span class="comment">         * Add field entry at point, or set intensity if present</span></div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span><span class="comment">         * @return false if the field could not be created (out of bounds), otherwise true.</span></div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span><span class="comment">         */</span></div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a32a9de57ddea3145ca42e6acfde7f3d6">add_field</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">field_type_id</a> &amp;type_id, <span class="keywordtype">int</span> intensity = INT_MAX,</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>                        <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> &amp;age = 0_turns, <span class="keywordtype">bool</span> hit_player = <span class="keyword">true</span> );<span class="comment"></span></div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span><span class="comment">         * Remove field entry at xy, ignored if the field entry is not present.</span></div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span><span class="comment">         */</span></div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a02ff5fbdbdb3df97210f4874c41fd75a">remove_field</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">field_type_id</a> &amp;field_to_remove );</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span> </div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>        <span class="comment">// Splatters of various kind</span></div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a78a575384ef025ebc3bc5f29bdfb0bb1">add_splatter</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">field_type_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;where, <span class="keywordtype">int</span> intensity = 1 );</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a522fd89a4564c34f30ed629a00aa28fe">add_splatter_trail</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">field_type_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;from, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;to );</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a1da8c683a3f6db0013d47ee9fd27caa4">add_splash</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">field_type_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_enumvalue" href="cata__tiles_8h.html#affa90804269b044a43867f93746f8f8eaadb115059e28d960fa8badfac5516667">center</a>, <span class="keywordtype">int</span> radius, <span class="keywordtype">int</span> intensity );</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span> </div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a11febee9ceafc538b720ee0d30d995d8">propagate_field</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_enumvalue" href="cata__tiles_8h.html#affa90804269b044a43867f93746f8f8eaadb115059e28d960fa8badfac5516667">center</a>, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">field_type_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>,</div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>                              <span class="keywordtype">int</span> amount, <span class="keywordtype">int</span> max_intensity = 0 );</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span><span class="comment"></span> </div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span><span class="comment">         * Runs one cycle of emission @ref src which **may** result in propagation of fields</span></div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span><span class="comment">         * @param pos Location of emission</span></div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span><span class="comment">         * @param src Id of object producing the emission</span></div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span><span class="comment">         * @param mul Multiplies the chance and possibly qty (if `chance*mul &gt; 100`) of the emission</span></div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span><span class="comment">         */</span></div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a150f1b826e0e2722ccf76dbdac136ffd">emit_field</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pos, <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">emit_id</a> &amp;src, <span class="keywordtype">float</span> mul = 1.0f );</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span> </div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>        <span class="comment">// Scent propagation helpers</span><span class="comment"></span></div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span><span class="comment">         * Build the map of scent-resistant tiles.</span></div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span><span class="comment">         * Should be way faster than if done in `game.cpp` using public map functions.</span></div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span><span class="comment">         */</span></div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a0cbc4e53db628a8ffefe5d08bd3d17d6">scent_blockers</a>( std::array&lt;std::array&lt;bool, MAPSIZE_X&gt;, <a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a>&gt; &amp;blocks_scent,</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>                             std::array&lt;std::array&lt;bool, MAPSIZE_X&gt;, <a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a>&gt; &amp;reduces_scent,</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>                             <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;min, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;max );</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span> </div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>        <span class="comment">// Computers</span></div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>        <a class="code hl_class" href="classcomputer.html">computer</a> *<a class="code hl_function" href="classmap.html#ac48a5f0c157b680f0bbb2d45be5fe8fd">computer_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>        <a class="code hl_class" href="classcomputer.html">computer</a> *<a class="code hl_function" href="classmap.html#a50eb3eab7ce0da9ab7bd9287ffda0867">add_computer</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> std::string &amp;<a class="code hl_function" href="classmap.html#a148fb7ddc87ffb1da97dd33e0529c983">name</a>, <span class="keywordtype">int</span> security );</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span> </div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>        <span class="comment">// Camps</span></div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ac8451c8ba1f2b7ac8e52d2b8657ea00c">add_camp</a>( <span class="keyword">const</span> <a class="code hl_class" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;omt_pos, <span class="keyword">const</span> std::string &amp;<a class="code hl_function" href="classmap.html#a148fb7ddc87ffb1da97dd33e0529c983">name</a> );</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a598ecce13c7f2d3720ce852ee7246d63">remove_submap_camp</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp; );</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>        <a class="code hl_class" href="classbasecamp.html">basecamp</a> <a class="code hl_function" href="classmap.html#a017052b50f1c36e9a0942110b4e0d5e7">hoist_submap_camp</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a1e5a0861247defbe414be8cc65475a17">point_within_camp</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;point_check ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>        <span class="comment">// Graffiti</span></div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a5ccfdc04bdc6f516d836502579aeac89">has_graffiti_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>        <span class="keyword">const</span> std::string &amp;<a class="code hl_function" href="classmap.html#ae074b6e1e06913bee442d894f590131f">graffiti_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#adfdb43bc66ebe32a7a7cc4665b7786f8">set_graffiti</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> std::string &amp;contents );</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a024fc101274d566dd204484cc627dc0b">delete_graffiti</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span> </div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>        <span class="comment">// Climbing</span><span class="comment"></span></div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span><span class="comment">         * Checks 3x3 block centered on p for terrain to climb.</span></div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span><span class="comment">         * @return Difficulty of climbing check from point p.</span></div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span><span class="comment">         */</span></div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#aa0e6e89f8f4989c540fefe7bbacfd8ce">climb_difficulty</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span> </div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span>        <span class="comment">// Support (of weight, structures etc.)</span></div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>    <span class="keyword">private</span>:</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>        <span class="comment">// Tiles whose ability to support things was removed in the last turn</span></div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"><a class="line" href="classmap.html#abd92496d16784ab9dbbafebbac3113cb"> 1525</a></span>        std::set&lt;tripoint&gt; <a class="code hl_variable" href="classmap.html#abd92496d16784ab9dbbafebbac3113cb">support_cache_dirty</a>;</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>        <span class="comment">// Checks if the tile is supported and adds it to support_cache_dirty if it isn&#39;t</span></div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a7d1cc370ba431f44145769485a32dbad">support_dirty</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span> </div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>        <span class="comment">// Returns true if terrain at p has NO flag TFLAG_NO_FLOOR,</span></div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>        <span class="comment">// if we&#39;re not in z-levels mode or if we&#39;re at lowest level</span></div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#ad11eaa007e285dcfe4c6ffb6f1ce46d3">has_floor</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span><span class="comment">        /** Does this tile support vehicles and furniture above it */</span></div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a3779768673ad08004a999b1ac440421c">supports_above</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a3e525fc14178c776d0261cce3efec2a0">has_floor_or_support</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span><span class="comment"></span> </div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span><span class="comment">         * Handles map objects of given type (not creatures) falling down.</span></div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span><span class="comment">         * Returns true if anything changed.</span></div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span><span class="comment">         */</span><span class="comment"></span></div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span><span class="comment">        /*@{*/</span></div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a917ff7d9d77ffa85056e530b4f40cf55">drop_everything</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a295539aa7c44745ecfce2e4338f66ebd">drop_furniture</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a58834e89550b62525b97d43f728c5f70">drop_items</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a8e0d5676be3d8701b5fadf5201f0f816">drop_vehicle</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ab01dff51df9a87024849b38c70b67853">drop_fields</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );<span class="comment"></span></div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span><span class="comment">        /*@}*/</span></div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span><span class="comment"></span> </div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span><span class="comment">         * Invoked @ref drop_everything on cached dirty tiles.</span></div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span><span class="comment">         */</span></div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a0f8d41171be4f7eab7a0074b01ac5a1e">process_falling</a>();</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span> </div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a574a8aa376ea529e51b058ca083a81d2">is_cornerfloor</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span> </div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>        <span class="comment">// mapgen.cpp functions</span></div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#aa6a7244304f9053fa555bbc29ed0dcc5">generate</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classtime__point.html">time_point</a> &amp;when );</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a914c546c1b7a389738e90d8c652af2b8">place_spawns</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mongroup_id</a> &amp;<a class="code hl_enumeration" href="namespacesfx.html#a746a046c4c6989d32aa62d6799c2f496">group</a>, <span class="keywordtype">int</span> chance,</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>                           <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p1, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p2, <span class="keywordtype">float</span> density,</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>                           <span class="keywordtype">bool</span> individual = <span class="keyword">false</span>, <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="npc_8h.html#ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9">friendly</a> = <span class="keyword">false</span>, <span class="keyword">const</span> std::string &amp;<a class="code hl_function" href="classmap.html#a148fb7ddc87ffb1da97dd33e0529c983">name</a> = <span class="stringliteral">&quot;NONE&quot;</span>,</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>                           <span class="keywordtype">int</span> mission_id = -1 );</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a43cc89934fb2011b212dc6dcbdb378d0">place_gas_pump</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <span class="keywordtype">int</span> charges, <span class="keyword">const</span> std::string &amp;fuel_type );</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a43cc89934fb2011b212dc6dcbdb378d0">place_gas_pump</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <span class="keywordtype">int</span> charges );</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>        <span class="comment">// 6 liters at 250 ml per charge</span></div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a96cf0c40f0c8ae14931465754742b389">place_toilet</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <span class="keywordtype">int</span> charges = 6 * 4 );</div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#af2844aa0cfcf48a0e3cdc92356598b57">place_vending</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">item_group_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keywordtype">bool</span> reinforced = <span class="keyword">false</span> );</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>        <span class="comment">// places an NPC, if static NPCs are enabled or if force is true</span></div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>        <a class="code hl_class" href="classcharacter__id.html">character_id</a> <a class="code hl_function" href="classmap.html#ae7d770f1222781972553b75b14f52b2b">place_npc</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">string_id&lt;npc_template&gt;</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>,</div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>                                <span class="keywordtype">bool</span> force = <span class="keyword">false</span> );</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a1d17d7a657d0113c7510bfd3d7c605eb">apply_faction_ownership</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p1, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p2, <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">faction_id</a> &amp;<span class="keywordtype">id</span> );</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#adab57612922364ffdb667c306f5a622c">add_spawn</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keywordtype">int</span> <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p,</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>                        <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="npc_8h.html#ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9">friendly</a> = <span class="keyword">false</span>, <span class="keywordtype">int</span> <a class="code hl_class" href="classstring__id.html">faction_id</a> = -1, <span class="keywordtype">int</span> mission_id = -1,</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>                        <span class="keyword">const</span> std::string &amp;<a class="code hl_function" href="classmap.html#a148fb7ddc87ffb1da97dd33e0529c983">name</a> = <span class="stringliteral">&quot;NONE&quot;</span> ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a2155fcd616db300e940029543dac65fa">do_vehicle_caching</a>( <span class="keywordtype">int</span> z );</div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>        <span class="comment">// Note: in 3D mode, will actually build caches on ALL z-levels</span></div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#af827e12041decbf5816871c8048cde8e">build_map_cache</a>( <span class="keywordtype">int</span> zlev, <span class="keywordtype">bool</span> skip_lightmap = <span class="keyword">false</span> );</div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>        <span class="comment">// Unlike the other caches, this populates a supplied cache instead of an internal cache.</span></div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a565f43799a9bfc1294be5e58ffd633e3">build_obstacle_cache</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;start, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;end,</div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>                                   <span class="keywordtype">float</span>( &amp;obstacle_cache )[<a class="code hl_variable" href="game__constants_8h.html#a2f229f6ae9b3affb78ec8139ccdbf18e">MAPSIZE_X</a>][<a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a>] );</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span> </div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span>        <a class="code hl_class" href="classvehicle.html">vehicle</a> *<a class="code hl_function" href="classmap.html#ae66fa55ab500d718db02445344a2ae8e">add_vehicle</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">vgroup_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <a class="code hl_class" href="classunits_1_1quantity.html">units::angle</a> dir,</div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>                              <span class="keywordtype">int</span> init_veh_fuel = -1, <span class="keywordtype">int</span> init_veh_status = -1,</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>                              <span class="keywordtype">bool</span> merge_wrecks = <span class="keyword">true</span> );</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span>        <a class="code hl_class" href="classvehicle.html">vehicle</a> *<a class="code hl_function" href="classmap.html#ae66fa55ab500d718db02445344a2ae8e">add_vehicle</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">vgroup_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <a class="code hl_class" href="classunits_1_1quantity.html">units::angle</a> dir,</div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>                              <span class="keywordtype">int</span> init_veh_fuel = -1, <span class="keywordtype">int</span> init_veh_status = -1,</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>                              <span class="keywordtype">bool</span> merge_wrecks = <span class="keyword">true</span> );</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>        <a class="code hl_class" href="classvehicle.html">vehicle</a> *<a class="code hl_function" href="classmap.html#ae66fa55ab500d718db02445344a2ae8e">add_vehicle</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">vproto_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <a class="code hl_class" href="classunits_1_1quantity.html">units::angle</a> dir,</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>                              <span class="keywordtype">int</span> init_veh_fuel = -1, <span class="keywordtype">int</span> init_veh_status = -1,</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>                              <span class="keywordtype">bool</span> merge_wrecks = <span class="keyword">true</span> );</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>        <a class="code hl_class" href="classvehicle.html">vehicle</a> *<a class="code hl_function" href="classmap.html#ae66fa55ab500d718db02445344a2ae8e">add_vehicle</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">vproto_id</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <a class="code hl_class" href="classunits_1_1quantity.html">units::angle</a> dir,</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>                              <span class="keywordtype">int</span> init_veh_fuel = -1, <span class="keywordtype">int</span> init_veh_status = -1,</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>                              <span class="keywordtype">bool</span> merge_wrecks = <span class="keyword">true</span> );</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>        <span class="comment">// Light/transparency</span></div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>        <span class="keywordtype">float</span> <a class="code hl_function" href="classmap.html#a5741cc08c79673119a9ec251a6253644">light_transparency</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>        <span class="comment">// Assumes 0,0 is light map center</span></div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>        <a class="code hl_enumeration" href="lightmap_8h.html#aeb9bbbd65db85e3561729666fb6c7b38">lit_level</a> <a class="code hl_function" href="classmap.html#a40876da830d622a5ff5ed547bb320e1b">light_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>        <span class="comment">// Raw values for tilesets</span></div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>        <span class="keywordtype">float</span> <a class="code hl_function" href="classmap.html#a47284179cd831f04aaa7ff3242a5fb7b">ambient_light_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span><span class="comment">         * Returns whether the tile at `p` is transparent(you can look past it).</span></div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span><span class="comment">         */</span></div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a2e43e061dcdfc249076b990a7f174c78">is_transparent</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>        <span class="comment">// End of light/transparency</span></div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span><span class="comment"></span> </div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span><span class="comment">         * Whether the player character (g-&gt;u) can see the given square (local map coordinates).</span></div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span><span class="comment">         * This only checks the transparency of the path to the target, the light level is not</span></div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span><span class="comment">         * checked.</span></div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span><span class="comment">         * @param t Target point to look at</span></div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span><span class="comment">         * @param max_range All squares that are further away than this are invisible.</span></div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span><span class="comment">         * Ignored if smaller than 0.</span></div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span><span class="comment">         */</span></div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a1e7335a160e134f492ec79d338897ffd">pl_sees</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;t, <span class="keywordtype">int</span> max_range ) <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span><span class="comment">         * Uses the map cache to tell if the player could see the given square.</span></div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span><span class="comment">         * pl_sees implies pl_line_of_sight</span></div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span><span class="comment">         * Used for infrared.</span></div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span><span class="comment">         */</span></div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a9904dc81ea55ea22ae51cfa07da5943c">pl_line_of_sight</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;t, <span class="keywordtype">int</span> max_range ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"><a class="line" href="classmap.html#ad05f776b59564ff618ece546f9190dbc"> 1620</a></span>        std::set&lt;vehicle *&gt; <a class="code hl_variable" href="classmap.html#ad05f776b59564ff618ece546f9190dbc">dirty_vehicle_list</a>;</div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span><span class="comment"></span> </div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span><span class="comment">        /** return @ref abs_sub */</span></div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span>        <a class="code hl_struct" href="structtripoint.html">tripoint</a> <a class="code hl_function" href="classmap.html#a3eae9d2a9abf1a4489aec6b3facf4364">get_abs_sub</a>() <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span><span class="comment">         * Translates local (to this map) coordinates of a square to global absolute coordinates.</span></div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span><span class="comment">         * Coordinates is in the system that is used by the ter/furn/i_at functions.</span></div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span><span class="comment">         * Output is in the same scale, but in global system.</span></div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span><span class="comment">         */</span></div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>        <a class="code hl_struct" href="structtripoint.html">tripoint</a> <a class="code hl_function" href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">getabs</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"><a class="line" href="classmap.html#a7da4f8b25fe152094dd4fc009b22a4a2"> 1630</a></span>        <a class="code hl_struct" href="structpoint.html">point</a> <a class="code hl_function" href="classmap.html#a7da4f8b25fe152094dd4fc009b22a4a2">getabs</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">getabs</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) ).<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>();</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>        }<span class="comment"></span></div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span><span class="comment">         * Inverse of @ref getabs</span></div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span><span class="comment">         */</span></div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>        <a class="code hl_struct" href="structtripoint.html">tripoint</a> <a class="code hl_function" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"><a class="line" href="classmap.html#a18f570073555f056acb36580a10bd0ff"> 1637</a></span>        <a class="code hl_struct" href="structpoint.html">point</a> <a class="code hl_function" href="classmap.html#a18f570073555f056acb36580a10bd0ff">getlocal</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) ).<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>();</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>        }</div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span>        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a46608709f68358365d0734b1063fed73">inbounds</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"><a class="line" href="classmap.html#af97720389f7317c6c761082ae9cf7a2b"> 1641</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#af97720389f7317c6c761082ae9cf7a2b">inbounds</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#a46608709f68358365d0734b1063fed73">inbounds</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, 0 ) );</div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>        }</div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span> </div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"><a class="line" href="classmap.html#aa00000bc092d452f60dc532532d58232"> 1645</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#aa00000bc092d452f60dc532532d58232">inbounds_z</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> z )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>            <span class="keywordflow">return</span> z &gt;= -<a class="code hl_variable" href="game__constants_8h.html#aad0eacfa516a8f7e005674027d7640fe">OVERMAP_DEPTH</a> &amp;&amp; z &lt;= <a class="code hl_variable" href="game__constants_8h.html#a3984a9476d1edc78e4e7b886a08d4d4b">OVERMAP_HEIGHT</a>;</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>        }</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span><span class="comment"></span> </div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span><span class="comment">        /** Clips the coordinates of p to fit the map bounds */</span></div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a6de7bd08f979537c8dcda8ebdc7e6d1e">clip_to_bounds</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a6de7bd08f979537c8dcda8ebdc7e6d1e">clip_to_bounds</a>( <span class="keywordtype">int</span> &amp;x, <span class="keywordtype">int</span> &amp;y ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a6de7bd08f979537c8dcda8ebdc7e6d1e">clip_to_bounds</a>( <span class="keywordtype">int</span> &amp;x, <span class="keywordtype">int</span> &amp;y, <span class="keywordtype">int</span> &amp;z ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span> </div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"><a class="line" href="classmap.html#af402a7273ea8f54a9fa0947e0d37f88b"> 1654</a></span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#af402a7273ea8f54a9fa0947e0d37f88b">getmapsize</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="classmap.html#a7997e4febecb36a59b48b06649dc9173">my_MAPSIZE</a>;</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>        }</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"><a class="line" href="classmap.html#abff2fded83a8e96e5e20084c3cb59579"> 1657</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#abff2fded83a8e96e5e20084c3cb59579">has_zlevels</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="classmap.html#a87a151868377cb4b2843de06991c97da">zlevels</a>;</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>        }</div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span> </div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>        <span class="comment">// Not protected/private for mapgen_functions.cpp access</span></div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>        <span class="comment">// Rotates the current map 90*turns degrees clockwise</span></div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>        <span class="comment">// Useful for houses, shops, etc</span></div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>        <span class="comment">// @param turns number of 90 clockwise turns to make</span></div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>        <span class="comment">// @param setpos_safe if true, being used outside of mapgen and can use setpos to</span></div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>        <span class="comment">// set NPC positions.  if false, cannot use setpos</span></div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a37268cf3dfc2a32e85a40c2a7266dfc9">rotate</a>( <span class="keywordtype">int</span> turns, <span class="keywordtype">bool</span> setpos_safe = <span class="keyword">false</span> );</div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span> </div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span>        <span class="comment">// Monster spawning:</span></div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>    <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span><span class="comment">         * Spawn monsters from submap spawn points and from the overmap.</span></div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span><span class="comment">         * @param ignore_sight If true, monsters may spawn in the view of the player</span></div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span><span class="comment">         * character (useful when the whole map has been loaded instead, e.g.</span></div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span><span class="comment">         * when starting a new game, or after teleportation or after moving vertically).</span></div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span><span class="comment">         * If false, monsters are not spawned in view of player character.</span></div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span><span class="comment">         */</span></div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a4407eecc14fd57c23f00c69065ccb92a">spawn_monsters</a>( <span class="keywordtype">bool</span> ignore_sight );</div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span><span class="comment"></span> </div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span><span class="comment">        * Checks to see if the item that is rotting away generates a creature when it does.</span></div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span><span class="comment">        * @param item item that is spawning creatures</span></div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span><span class="comment">        * @param p The point on this map where the item is and creature will be</span></div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span><span class="comment">        */</span></div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a5690822d7d509cd4dc51ff92064353fe">rotten_item_spawn</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;<a class="code hl_class" href="classitem.html">item</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span>    <span class="keyword">private</span>:</div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>        <span class="comment">// Helper #1 - spawns monsters on one submap</span></div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a7b67ca636381af314cab48ac8cfd4ef9">spawn_monsters_submap</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;gp, <span class="keywordtype">bool</span> ignore_sight );</div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>        <span class="comment">// Helper #2 - spawns monsters on one submap and from one group on this submap</span></div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ac2c21098789333b1b21bd1d1cd0c9020">spawn_monsters_submap_group</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;gp, <a class="code hl_struct" href="structmongroup.html">mongroup</a> &amp;<a class="code hl_enumeration" href="namespacesfx.html#a746a046c4c6989d32aa62d6799c2f496">group</a>, <span class="keywordtype">bool</span> ignore_sight );</div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span> </div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>    <span class="keyword">protected</span>:</div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a1b76ba7e48045df7ca442d77d1cb95cb">saven</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_variable" href="classmap.html#a3a86dcc9866606ffff52cde90dd23ca6">grid</a> );</div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a2c4ac22567d831d344a9388522d07804">loadn</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_variable" href="classmap.html#a3a86dcc9866606ffff52cde90dd23ca6">grid</a>, <span class="keywordtype">bool</span> update_vehicles );</div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"><a class="line" href="classmap.html#a43ecddf9d50f95ecbbfb52fc2bdf55cf"> 1695</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a43ecddf9d50f95ecbbfb52fc2bdf55cf">loadn</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;<a class="code hl_variable" href="classmap.html#a3a86dcc9866606ffff52cde90dd23ca6">grid</a>, <span class="keywordtype">bool</span> update_vehicles ) {</div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="classmap.html#a87a151868377cb4b2843de06991c97da">zlevels</a> ) {</div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>                <span class="keywordflow">for</span>( <span class="keywordtype">int</span> gridz = -<a class="code hl_variable" href="game__constants_8h.html#aad0eacfa516a8f7e005674027d7640fe">OVERMAP_DEPTH</a>; gridz &lt;= <a class="code hl_variable" href="game__constants_8h.html#a3984a9476d1edc78e4e7b886a08d4d4b">OVERMAP_HEIGHT</a>; gridz++ ) {</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>                    <a class="code hl_function" href="classmap.html#a2c4ac22567d831d344a9388522d07804">loadn</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( <a class="code hl_variable" href="classmap.html#a3a86dcc9866606ffff52cde90dd23ca6">grid</a>, gridz ), update_vehicles );</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>                }</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span> </div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>                <span class="comment">// Note: we want it in a separate loop! It is a post-load cleanup</span></div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>                <span class="comment">// Since we&#39;re adding roofs, we want it to go up (from lowest to highest)</span></div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span>                <span class="keywordflow">for</span>( <span class="keywordtype">int</span> gridz = -<a class="code hl_variable" href="game__constants_8h.html#aad0eacfa516a8f7e005674027d7640fe">OVERMAP_DEPTH</a>; gridz &lt;= <a class="code hl_variable" href="game__constants_8h.html#a3984a9476d1edc78e4e7b886a08d4d4b">OVERMAP_HEIGHT</a>; gridz++ ) {</div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>                    <a class="code hl_function" href="classmap.html#a7c30a301c4ca99469f7319e975f53204">add_roofs</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( <a class="code hl_variable" href="classmap.html#a3a86dcc9866606ffff52cde90dd23ca6">grid</a>, gridz ) );</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>                }</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>                <a class="code hl_function" href="classmap.html#a2c4ac22567d831d344a9388522d07804">loadn</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( <a class="code hl_variable" href="classmap.html#a3a86dcc9866606ffff52cde90dd23ca6">grid</a>, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ), update_vehicles );</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>            }</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>        }<span class="comment"></span></div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span><span class="comment">         * Fast forward a submap that has just been loading into this map.</span></div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span><span class="comment">         * This is used to rot and remove rotten items, grow plants, fill funnels etc.</span></div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span><span class="comment">         */</span></div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#abddcabb7480af082608079646b44e3c5">actualize</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_variable" href="classmap.html#a3a86dcc9866606ffff52cde90dd23ca6">grid</a> );<span class="comment"></span></div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span><span class="comment">         * Hacks in missing roofs. Should be removed when 3D mapgen is done.</span></div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span><span class="comment">         */</span></div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a7c30a301c4ca99469f7319e975f53204">add_roofs</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_variable" href="classmap.html#a3a86dcc9866606ffff52cde90dd23ca6">grid</a> );<span class="comment"></span></div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span><span class="comment">         * Go through the list of items, update their rotten status and remove items</span></div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span><span class="comment">         * that have rotten away completely.</span></div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span><span class="comment">         * @param items items to remove</span></div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span><span class="comment">         * @param p The point on this map where the items are, used for rot calculation.</span></div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span><span class="comment">         */</span></div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Container&gt;</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a049fee607a4d1c1c18a0613f7290fe67">remove_rotten_items</a>( Container &amp;items, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );<span class="comment"></span></div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span><span class="comment">         * Try to fill funnel based items here. Simulates rain from @p since till now.</span></div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span><span class="comment">         * @param p The location in this map where to fill funnels.</span></div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span><span class="comment">         */</span></div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a19f928c936dc941359ea5f5f7690b3dd">fill_funnels</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classtime__point.html">time_point</a> &amp;since );<span class="comment"></span></div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span><span class="comment">         * Try to grow a harvestable plant to the next stage(s).</span></div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span><span class="comment">         */</span></div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#abc43c98747739f2ab2c010e1408c9711">grow_plant</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );<span class="comment"></span></div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span><span class="comment">         * Try to grow fruits on static plants (not planted by the player)</span></div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span><span class="comment">         * @param p Place to restock</span></div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span><span class="comment">         * @param time_since_last_actualize Time since this function has been</span></div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span><span class="comment">         * called the last time.</span></div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span><span class="comment">         */</span></div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#aa32803b6cf35273de4616478b5a1a9b3">restock_fruits</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> &amp;time_since_last_actualize );<span class="comment"></span></div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span><span class="comment">         * Produce sap on tapped maple trees</span></div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span><span class="comment">         * @param p Location of tapped tree</span></div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span><span class="comment">         * @param time_since_last_actualize Time since this function has been</span></div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span><span class="comment">         * called the last time.</span></div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span><span class="comment">         */</span></div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ae31d12de24e927850112617197a5b66b">produce_sap</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> &amp;time_since_last_actualize );<span class="comment"></span></div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span><span class="comment">         * Radiation-related plant (and fungus?) death.</span></div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span><span class="comment">         */</span></div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a138991d1b089bb2744230a8fc648e54b">rad_scorch</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> &amp;time_since_last_actualize );</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a9a83fa9c0546aebdf0730927f5b48be4">decay_cosmetic_fields</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> &amp;time_since_last_actualize );</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span> </div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a68b51d9820bb941312ffa9d7757e31bc">player_in_field</a>( <a class="code hl_class" href="classplayer.html">player</a> &amp;u );</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a8f928a118aa01688ea55482dcefc3dde">monster_in_field</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z );<span class="comment"></span></div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span><span class="comment">         * As part of the map shifting, this shifts the trap locations stored in @ref traplocs.</span></div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span><span class="comment">         * @param shift The amount shifting in submap, the same as go into @ref shift.</span></div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span><span class="comment">         */</span></div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ab16fdf1f01a0909f2e6a5b704308bcb5">shift_traps</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_function" href="classmap.html#a2d8a816bd0b73e0fdfaa9793e93ad623">shift</a> );</div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span> </div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a00ba41a0d44bd37f0fb7f2cfa99351d2">copy_grid</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;to, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;from );</div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a5107b0cde18d396baac2f29b5a2d7e8f">draw_map</a>( <a class="code hl_class" href="classmapgendata.html">mapgendata</a> &amp;dat );</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span> </div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a09daa790840223d03e1b64a4258679c1">draw_office_tower</a>( <a class="code hl_class" href="classmapgendata.html">mapgendata</a> &amp;dat );</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a68f688f84a55aec9b816e3a764e16049">draw_lab</a>( <a class="code hl_class" href="classmapgendata.html">mapgendata</a> &amp;dat );</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#af927cd3cda8865cd11b64471be0b8752">draw_temple</a>( <a class="code hl_class" href="classmapgendata.html">mapgendata</a> &amp;dat );</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a1ef5a9b3b40012c6ad3fc2afe7cfcf89">draw_mine</a>( <a class="code hl_class" href="classmapgendata.html">mapgendata</a> &amp;dat );</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a2fae552c350d108d853b12ae7d8e320a">draw_anthill</a>( <a class="code hl_class" href="classmapgendata.html">mapgendata</a> &amp;dat );</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a5121429b183ff2eb92ef01ab00a7054c">draw_slimepit</a>( <a class="code hl_class" href="classmapgendata.html">mapgendata</a> &amp;dat );</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a27764d80748ed450fb6f31bf875297da">draw_triffid</a>( <a class="code hl_class" href="classmapgendata.html">mapgendata</a> &amp;dat );</div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#adc3af955070307fd2ba5aa4287853943">draw_connections</a>( <a class="code hl_class" href="classmapgendata.html">mapgendata</a> &amp;dat );</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span> </div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>        <span class="comment">// Builds a transparency cache and returns true if the cache was invalidated.</span></div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>        <span class="comment">// Used to determine if seen cache should be rebuilt.</span></div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a89da249cc934c0d0cae7d099e603c080">build_transparency_cache</a>( <span class="keywordtype">int</span> zlev );</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#af1f9afa3c36ade30dc57a18b7e3c4165">build_vision_transparency_cache</a>( <span class="keywordtype">int</span> zlev );</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>        <span class="comment">// fills lm with sunlight. pzlev is current player&#39;s zlevel</span></div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a65a8e439cefab21daed19bb917edc989">build_sunlight_cache</a>( <span class="keywordtype">int</span> pzlev );</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a0e95d9982171ecb3af0ff7b3dcb73067">build_outside_cache</a>( <span class="keywordtype">int</span> zlev );</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>        <span class="comment">// Builds a floor cache and returns true if the cache was invalidated.</span></div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>        <span class="comment">// Used to determine if seen cache should be rebuilt.</span></div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#aaa9278488910f589488c04d35c30e376">build_floor_cache</a>( <span class="keywordtype">int</span> zlev );</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>        <span class="comment">// We want this visible in `game`, because we want it built earlier in the turn than the rest</span></div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a06e2a939fc28a75aa41e2e4da11af705">build_floor_caches</a>();</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>        <span class="comment">// Checks all suspended tiles on a z level and adds those that are invalid to the support_dirty_cache */</span></div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a11b25c9b43f51a8337358f2db9e878ab">update_suspension_cache</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> &amp;z );</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>    <span class="keyword">protected</span>:</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#aaab5141f8f88b9ddbabcd8256e83e87e">generate_lightmap</a>( <span class="keywordtype">int</span> zlev );</div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a3749fea4df26a1261eacecf94a58f199">build_seen_cache</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_enumeration" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, <span class="keywordtype">int</span> target_z );</div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#af5803dfe0eb057d67d6c3e3f8e148001">apply_character_light</a>( <a class="code hl_class" href="classCharacter.html">Character</a> &amp;p );</div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span> </div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"><a class="line" href="classmap.html#a7997e4febecb36a59b48b06649dc9173"> 1796</a></span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="classmap.html#a7997e4febecb36a59b48b06649dc9173">my_MAPSIZE</a>;</div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"><a class="line" href="classmap.html#a87a151868377cb4b2843de06991c97da"> 1797</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="classmap.html#a87a151868377cb4b2843de06991c97da">zlevels</a>;</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span><span class="comment"></span> </div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span><span class="comment">         * Absolute coordinates of first submap (get_submap_at(0,0))</span></div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span><span class="comment">         * This is in submap coordinates (see overmapbuffer for explanation).</span></div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span><span class="comment">         * It is set upon:</span></div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span><span class="comment">         * - loading submap at grid[0],</span></div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span><span class="comment">         * - generating submaps (@ref generate)</span></div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span><span class="comment">         * - shifting the map with @ref shift</span></div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span><span class="comment">         */</span></div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"><a class="line" href="classmap.html#a5413e71e313df95a11e09d279c5605da"> 1807</a></span>        <a class="code hl_struct" href="structtripoint.html">tripoint</a> <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>;<span class="comment"></span></div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span><span class="comment">         * Sets @ref abs_sub, see there. Uses the same coordinate system as @ref abs_sub.</span></div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span><span class="comment">         */</span></div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a2df948ca418fb89696c818351059ffe2">set_abs_sub</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span> </div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>    <span class="keyword">private</span>:</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>        <a class="code hl_class" href="classfield.html">field</a> &amp;<a class="code hl_function" href="classmap.html#a30cfefdb115c16c5e1af6cc99f94bbbd">get_field</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span><span class="comment"></span> </div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span><span class="comment">         * Get the submap pointer with given index in @ref grid, the index must be valid!</span></div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span><span class="comment">         */</span></div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>        <a class="code hl_class" href="classsubmap.html">submap</a> *<a class="code hl_function" href="classmap.html#ab0c0699bdf66027bc976ca0c7556e8cd">getsubmap</a>( <span class="keywordtype">size_t</span> grididx ) <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span><span class="comment">         * Get the submap pointer containing the specified position within the reality bubble.</span></div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span><span class="comment">         * (p) must be a valid coordinate, check with @ref inbounds.</span></div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span><span class="comment">         */</span></div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>        <a class="code hl_class" href="classsubmap.html">submap</a> *<a class="code hl_function" href="classmap.html#afd700e5c054365e19499bb2b902f9c50">get_submap_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"><a class="line" href="classmap.html#af829ce8bf81640d8e8197eb697ab2e96"> 1825</a></span>        <a class="code hl_class" href="classsubmap.html">submap</a> *<a class="code hl_function" href="classmap.html#af829ce8bf81640d8e8197eb697ab2e96">get_submap_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#afd700e5c054365e19499bb2b902f9c50">get_submap_at</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) );</div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>        }<span class="comment"></span></div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span><span class="comment">         * Get the submap pointer containing the specified position within the reality bubble.</span></div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span><span class="comment">         * The same as other get_submap_at, (p) must be valid (@ref inbounds).</span></div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span><span class="comment">         * Also writes the position within the submap to offset_p</span></div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span><span class="comment">         */</span></div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>        <a class="code hl_class" href="classsubmap.html">submap</a> *<a class="code hl_function" href="classmap.html#afd700e5c054365e19499bb2b902f9c50">get_submap_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <a class="code hl_struct" href="structpoint.html">point</a> &amp;offset_p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"><a class="line" href="classmap.html#a9703929ca4188fa367afe12ada52e2d4"> 1834</a></span>        <a class="code hl_class" href="classsubmap.html">submap</a> *<a class="code hl_function" href="classmap.html#a9703929ca4188fa367afe12ada52e2d4">get_submap_at</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;p, <a class="code hl_struct" href="structpoint.html">point</a> &amp;offset_p )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#afd700e5c054365e19499bb2b902f9c50">get_submap_at</a>( { p, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> }, offset_p );</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>        }<span class="comment"></span></div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span><span class="comment">         * Get submap pointer in the grid at given grid coordinates. Grid coordinates must</span></div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span><span class="comment">         * be valid: 0 &lt;= x &lt; my_MAPSIZE, same for y.</span></div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span><span class="comment">         * z must be between -OVERMAP_DEPTH and OVERMAP_HEIGHT</span></div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span><span class="comment">         */</span></div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"><a class="line" href="classmap.html#ac5d9bf2b01f243d3983c2054f75b1101"> 1842</a></span>        <a class="code hl_class" href="classsubmap.html">submap</a> *<a class="code hl_function" href="classmap.html#ac5d9bf2b01f243d3983c2054f75b1101">get_submap_at_grid</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;gridp )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#ab0c0699bdf66027bc976ca0c7556e8cd">getsubmap</a>( <a class="code hl_function" href="classmap.html#ab448e17e1847234311043c6140722a36">get_nonant</a>( gridp ) );</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>        }</div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>        <a class="code hl_class" href="classsubmap.html">submap</a> *<a class="code hl_function" href="classmap.html#ac5d9bf2b01f243d3983c2054f75b1101">get_submap_at_grid</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;gridp ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>    <span class="keyword">protected</span>:<span class="comment"></span></div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span><span class="comment">         * Get the index of a submap pointer in the grid given by grid coordinates. The grid</span></div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span><span class="comment">         * coordinates must be valid: 0 &lt;= x &lt; my_MAPSIZE, same for y.</span></div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span><span class="comment">         * Version with z-levels checks for z between -OVERMAP_DEPTH and OVERMAP_HEIGHT</span></div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span><span class="comment">         */</span></div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>        <span class="keywordtype">size_t</span> <a class="code hl_function" href="classmap.html#ab448e17e1847234311043c6140722a36">get_nonant</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;gridp ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"><a class="line" href="classmap.html#a57d621c74b96f1550b18bf528e4e5282"> 1853</a></span>        <span class="keywordtype">size_t</span> <a class="code hl_function" href="classmap.html#a57d621c74b96f1550b18bf528e4e5282">get_nonant</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;gridp )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classmap.html#ab448e17e1847234311043c6140722a36">get_nonant</a>( { gridp, <a class="code hl_variable" href="classmap.html#a5413e71e313df95a11e09d279c5605da">abs_sub</a>.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> } );</div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>        }<span class="comment"></span></div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span><span class="comment">         * Set the submap pointer in @ref grid at the give index. This is the inverse of</span></div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span><span class="comment">         * @ref getsubmap, any existing pointer is overwritten. The index must be valid.</span></div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span><span class="comment">         * The given submap pointer must not be null.</span></div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span><span class="comment">         */</span></div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a6661848d660b8e3f85425173b3970189">setsubmap</a>( <span class="keywordtype">size_t</span> grididx, <a class="code hl_class" href="classsubmap.html">submap</a> *smap );</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span>    <span class="keyword">private</span>:<span class="comment"></span></div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span><span class="comment">        /** Caclulate the greatest populated zlevel in the loaded submaps and save in the level cache.</span></div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span><span class="comment">         * fills the map::max_populated_zlev and returns it</span></div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span><span class="comment">         * @return max_populated_zlev value</span></div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span><span class="comment">         */</span></div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#a588ac7e135c9e5a472c374808f88a741">calc_max_populated_zlev</a>();<span class="comment"></span></div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span><span class="comment">         * Conditionally invalidates max_pupulated_zlev cache if the submap uniformity change occurs above current</span></div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span><span class="comment">         *  max_pupulated_zlev value</span></div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span><span class="comment">         * @param zlev zlevel where uniformity change occured</span></div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span><span class="comment">         */</span></div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ab13e08e4d7498f7172088482c3f703a7">invalidate_max_populated_zlev</a>( <span class="keywordtype">int</span> zlev );</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span><span class="comment"></span> </div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span><span class="comment">         * Internal versions of public functions to avoid checking same variables multiple times.</span></div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span><span class="comment">         * They lack safety checks, because their callers already do those.</span></div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span><span class="comment">         */</span></div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#a82e5c795f37fb4e7346577af53a4a4e6">move_cost_internal</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structfurn__t.html">furn_t</a> &amp;<a class="code hl_enumvalue" href="crafting_8h.html#aa5f7f30378264d4adcf8b4a0ceb3b207afd87f5969ecaa22eaca667dd742f916d">furniture</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structter__t.html">ter_t</a> &amp;<a class="code hl_enumvalue" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a>,</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>                                <span class="keyword">const</span> <a class="code hl_class" href="classvehicle.html">vehicle</a> *veh, <span class="keywordtype">int</span> vpart ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#a73ef839e31b07dcdccedb77368cd92ea">bash_rating_internal</a>( <span class="keywordtype">int</span> str, <span class="keyword">const</span> <a class="code hl_struct" href="structfurn__t.html">furn_t</a> &amp;<a class="code hl_enumvalue" href="crafting_8h.html#aa5f7f30378264d4adcf8b4a0ceb3b207afd87f5969ecaa22eaca667dd742f916d">furniture</a>,</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>                                  <span class="keyword">const</span> <a class="code hl_struct" href="structter__t.html">ter_t</a> &amp;<a class="code hl_enumvalue" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a>, <span class="keywordtype">bool</span> allow_floor,</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>                                  <span class="keyword">const</span> <a class="code hl_class" href="classvehicle.html">vehicle</a> *veh, <span class="keywordtype">int</span> part ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span><span class="comment"></span> </div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span><span class="comment">         * Internal version of the drawsq. Keeps a cached maptile for less re-getting.</span></div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span><span class="comment">         * Returns false if it has drawn all it should, true if `draw_from_above` should be called after.</span></div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span><span class="comment">         */</span></div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a8fc80d514c364e8ecc449c8f4123ab4d">draw_maptile</a>( <span class="keyword">const</span> <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p,</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>                           <span class="keyword">const</span> <a class="code hl_struct" href="structmaptile.html">maptile</a> &amp;tile, <span class="keyword">const</span> <a class="code hl_struct" href="structdrawsq__params.html">drawsq_params</a> &amp;params ) <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span><span class="comment">         * Draws the tile as seen from above.</span></div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span><span class="comment">         */</span></div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#aa8975778aca76154b99b6e7168bc6979">draw_from_above</a>( <span class="keyword">const</span> <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p,</div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span>                              <span class="keyword">const</span> <a class="code hl_struct" href="structmaptile.html">maptile</a> &amp;tile, <span class="keyword">const</span> <a class="code hl_struct" href="structdrawsq__params.html">drawsq_params</a> &amp;params ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span> </div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classmap.html#a915a3dcfc0e32e5b0612bd78e8d79243">determine_wall_corner</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span>        <span class="comment">// apply a circular light pattern immediately, however it&#39;s best to use...</span></div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a46b6d0943241ddaead39b5eedcc5ef09">apply_light_source</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">float</span> luminance );</div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>        <span class="comment">// ...this, which will apply the light after at the end of generate_lightmap, and prevent redundant</span></div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>        <span class="comment">// light rays from causing massive slowdowns, if there&#39;s a huge amount of light.</span></div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a31bd5aca4c99cdaf0e97fd2e8fcad98e">add_light_source</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">float</span> luminance );</div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>        <span class="comment">// Handle just cardinal directions and 45 deg angles.</span></div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a63126c9363a61961a6cad379492b47b6">apply_directional_light</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">int</span> <a class="code hl_enumeration" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a>, <span class="keywordtype">float</span> luminance );</div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a0fcf5c9b35fd96a282ed003f68b813a2">apply_light_arc</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <a class="code hl_class" href="classunits_1_1quantity.html">units::angle</a>, <span class="keywordtype">float</span> luminance,</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span>                              <a class="code hl_class" href="classunits_1_1quantity.html">units::angle</a> wideangle = 30_degrees );</div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a2f5b28af5fac5319da3bab2fca702be6">apply_light_ray</a>( <span class="keywordtype">bool</span> lit[<a class="code hl_variable" href="game__constants_8h.html#a2f229f6ae9b3affb78ec8139ccdbf18e">MAPSIZE_X</a>][<a class="code hl_variable" href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a>],</div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>                              <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;s, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;e, <span class="keywordtype">float</span> luminance );</div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a91b9214403515036c183e3616ca7feeb">add_light_from_items</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <a class="code hl_class" href="classcata_1_1colony_1_1colony__iterator.html">item_stack::iterator</a> begin,</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>                                   <a class="code hl_class" href="classcata_1_1colony_1_1colony__iterator.html">item_stack::iterator</a> end );</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>        std::unique_ptr&lt;vehicle&gt; <a class="code hl_function" href="classmap.html#a0d32c07a36d263fd968b489f41d89420">add_vehicle_to_map</a>( std::unique_ptr&lt;vehicle&gt; veh, <span class="keywordtype">bool</span> merge_wrecks );</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span> </div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>        <span class="comment">// Internal methods used to bash just the selected features</span></div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span>        <span class="comment">// &quot;Externaled&quot; for testing, because the interface to bashing is rng dependent</span></div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span>        <span class="comment">// Information on what to bash/what was bashed is read from/written to the bash_params/bash_results struct</span></div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span>        <a class="code hl_struct" href="structbash__results.html">bash_results</a> <a class="code hl_function" href="classmap.html#ace91a7277228a64a9446deec36738e19">bash_items</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_struct" href="structbash__params.html">bash_params</a> &amp;params );</div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>        <a class="code hl_struct" href="structbash__results.html">bash_results</a> <a class="code hl_function" href="classmap.html#ab9958eb6278f6c7bbf2930a65f01b38f">bash_field</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_struct" href="structbash__params.html">bash_params</a> &amp;params );</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span> </div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>        <span class="comment">// Successfully bashing things down</span></div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>        <a class="code hl_struct" href="structbash__results.html">bash_results</a> <a class="code hl_function" href="classmap.html#afc9fbcd52f702f22362818c072d84592">bash_ter_success</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_struct" href="structbash__params.html">bash_params</a> &amp;params );</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span>        <a class="code hl_struct" href="structbash__results.html">bash_results</a> <a class="code hl_function" href="classmap.html#ae268a0c697e38f27cd050d3c4e2bb8fa">bash_furn_success</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keyword">const</span> <a class="code hl_struct" href="structbash__params.html">bash_params</a> &amp;params );</div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span> </div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span>    <span class="keyword">private</span>:</div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span>        <span class="comment">// Gets the roof type of the tile at p</span></div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span>        <span class="comment">// Second argument refers to whether we have to get a roof (we&#39;re over an unpassable tile)</span></div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span>        <span class="comment">// or can just return air because we bashed down an entire floor tile</span></div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span>        <a class="code hl_class" href="classint__id.html">ter_id</a> <a class="code hl_function" href="classmap.html#a15c1968c86e6672c4cdb5166ef94a650">get_roof</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p, <span class="keywordtype">bool</span> allow_air ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span> </div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#af9d088d0e05d85da58dc17707833d7bc">process_items</a>();</div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>    <span class="keyword">private</span>:</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span>        <span class="comment">// Iterates over every item on the map, passing each item to the provided function.</span></div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#af65b016e50920ff9469be88d7535b493">process_items_in_submap</a>( <a class="code hl_class" href="classsubmap.html">submap</a> &amp;current_submap, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;gridp );</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ae2c7821504ac13b0ad7197f64d913229">process_items_in_vehicles</a>( <a class="code hl_class" href="classsubmap.html">submap</a> &amp;current_submap );</div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a5b4cb710817289a4be3db97bd0714daa">process_items_in_vehicle</a>( <a class="code hl_class" href="classvehicle.html">vehicle</a> &amp;cur_veh, <a class="code hl_class" href="classsubmap.html">submap</a> &amp;current_submap );</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span><span class="comment"></span> </div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span><span class="comment">        /** Enum used by functors in `function_over` to control execution. */</span></div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"><a class="line" href="classmap.html#aadedc1bc0f2088dbc9e2e6c5f7b0a716"> 1939</a></span>        <span class="keyword">enum</span> <a class="code hl_enumeration" href="classmap.html#aadedc1bc0f2088dbc9e2e6c5f7b0a716">iteration_state</a> {</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"><a class="line" href="classmap.html#aadedc1bc0f2088dbc9e2e6c5f7b0a716aa12b3b935aabc2d25f63c997c272882b"> 1940</a></span>            <a class="code hl_enumvalue" href="classmap.html#aadedc1bc0f2088dbc9e2e6c5f7b0a716aa12b3b935aabc2d25f63c997c272882b">ITER_CONTINUE</a> = 0,  <span class="comment">// Keep iterating</span></div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"><a class="line" href="classmap.html#aadedc1bc0f2088dbc9e2e6c5f7b0a716a9ab0b0f028d686ac48a4b5d48dcb8c7b"> 1941</a></span>            <a class="code hl_enumvalue" href="classmap.html#aadedc1bc0f2088dbc9e2e6c5f7b0a716a9ab0b0f028d686ac48a4b5d48dcb8c7b">ITER_SKIP_SUBMAP</a>,   <span class="comment">// Skip the rest of this submap</span></div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"><a class="line" href="classmap.html#aadedc1bc0f2088dbc9e2e6c5f7b0a716a2a313788517863222407f26e74d1e5c6"> 1942</a></span>            <a class="code hl_enumvalue" href="classmap.html#aadedc1bc0f2088dbc9e2e6c5f7b0a716a2a313788517863222407f26e74d1e5c6">ITER_SKIP_ZLEVEL</a>,   <span class="comment">// Skip the rest of this z-level</span></div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>            <a class="code hl_enumvalue" href="classmap.html#aadedc1bc0f2088dbc9e2e6c5f7b0a716aaf26fed121301ba275de78fcab2981f4">ITER_FINISH</a>         <span class="comment">// End iteration</span></div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"><a class="line" href="classmap.html#aadedc1bc0f2088dbc9e2e6c5f7b0a716aaf26fed121301ba275de78fcab2981f4"> 1944</a></span>        };<span class="comment"></span></div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span><span class="comment">        * Runs a functor over given submaps</span></div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span><span class="comment">        * over submaps in the area, getting next submap only when the current one &quot;runs out&quot; rather than every time.</span></div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span><span class="comment">        * gp in the functor is Grid (like `get_submap_at_grid`) coordinate of the submap,</span></div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span><span class="comment">        * Will silently clip the area to map bounds.</span></div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span><span class="comment">        * @param start Starting point for function</span></div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span><span class="comment">        * @param end End point for function</span></div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span><span class="comment">        * @param fun Function to run</span></div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span><span class="comment">        */</span><span class="comment"></span></div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span><span class="comment">        /*@{*/</span></div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Functor&gt;</div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#af3309f3c1ff4423e66e1100277db8d82">function_over</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;start, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;end, Functor fun ) <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span><span class="comment">        /*@}*/</span></div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span><span class="comment"></span> </div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span><span class="comment">         * The list of currently loaded submaps. The size of this should not be changed.</span></div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span><span class="comment">         * After calling @ref load or @ref generate, it should only contain non-null pointers.</span></div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span><span class="comment">         * Use @ref getsubmap or @ref setsubmap to access it.</span></div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span><span class="comment">         */</span></div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"><a class="line" href="classmap.html#a3a86dcc9866606ffff52cde90dd23ca6"> 1964</a></span>        std::vector&lt;submap *&gt; <a class="code hl_variable" href="classmap.html#a3a86dcc9866606ffff52cde90dd23ca6">grid</a>;<span class="comment"></span></div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span><span class="comment">         * This vector contains an entry for each trap type, it has therefor the same size</span></div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span><span class="comment">         * as the traplist vector. Each entry contains a list of all point on the map that</span></div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span><span class="comment">         * contain a trap of that type. The first entry however is always empty as it denotes the</span></div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span><span class="comment">         * tr_null trap.</span></div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span><span class="comment">         */</span></div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"><a class="line" href="classmap.html#a325f948d048578d7ef2479ce20ba3fcd"> 1971</a></span>        std::vector&lt; std::vector&lt;tripoint&gt; &gt; <a class="code hl_variable" href="classmap.html#a325f948d048578d7ef2479ce20ba3fcd">traplocs</a>;<span class="comment"></span></div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span><span class="comment">         * Vector of tripoints containing active field-emitting furniture</span></div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span><span class="comment">         */</span></div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"><a class="line" href="classmap.html#a7d9d84e3b573eec7c387f60e8208d0d1"> 1975</a></span>        std::vector&lt;tripoint&gt; <a class="code hl_variable" href="classmap.html#a7d9d84e3b573eec7c387f60e8208d0d1">field_furn_locs</a>;<span class="comment"></span></div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span><span class="comment">         * Holds caches for visibility, light, transparency and vehicles</span></div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span><span class="comment">         */</span></div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"><a class="line" href="classmap.html#ad8afc8795cfeed3d27aadcf1259ae985"> 1979</a></span>        std::array&lt; std::unique_ptr&lt;level_cache&gt;, <a class="code hl_variable" href="game__constants_8h.html#a3b81841aab42975add2ee3525f48058a">OVERMAP_LAYERS</a> &gt; <a class="code hl_variable" href="classmap.html#ad8afc8795cfeed3d27aadcf1259ae985">caches</a>;</div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span> </div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"><a class="line" href="classmap.html#a372326780a5cc8eefd08d0cf223164b0"> 1981</a></span>        <span class="keyword">mutable</span> std::array&lt; std::unique_ptr&lt;pathfinding_cache&gt;, <a class="code hl_variable" href="game__constants_8h.html#a3b81841aab42975add2ee3525f48058a">OVERMAP_LAYERS</a> &gt; <a class="code hl_variable" href="classmap.html#a372326780a5cc8eefd08d0cf223164b0">pathfinding_caches</a>;<span class="comment"></span></div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span><span class="comment">         * Set of submaps that contain active items in absolute coordinates.</span></div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span><span class="comment">         */</span></div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"><a class="line" href="classmap.html#a2cf6c37dcd143c01c1a96e4fe9a15862"> 1985</a></span>        std::set&lt;tripoint&gt; <a class="code hl_variable" href="classmap.html#a2cf6c37dcd143c01c1a96e4fe9a15862">submaps_with_active_items</a>;</div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span><span class="comment"></span> </div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span><span class="comment">         * Cache of coordinate pairs recently checked for visibility.</span></div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span><span class="comment">         */</span></div>
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"><a class="line" href="classmap.html#a51539ec1ea2f6bd5a4de46430ebbb57b"> 1990</a></span>        <span class="keyword">mutable</span> <a class="code hl_class" href="classlru__cache.html">lru_cache&lt;point, char&gt;</a> <a class="code hl_variable" href="classmap.html#a51539ec1ea2f6bd5a4de46430ebbb57b">skew_vision_cache</a>;</div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span><span class="comment"></span> </div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span><span class="comment">        /**</span></div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span><span class="comment">         * Vehicle list doesn&#39;t change often, but is pretty expensive.</span></div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span><span class="comment">         */</span></div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"><a class="line" href="classmap.html#acd274fe2dedb149855c07d3f13255462"> 1995</a></span>        <a class="code hl_typedef" href="map_8h.html#ae705edb5469cf2668ca5bc3297d75ebb">VehicleList</a> <a class="code hl_variable" href="classmap.html#acd274fe2dedb149855c07d3f13255462">last_full_vehicle_list</a>;</div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"><a class="line" href="classmap.html#a1d077af6c601c24e7d79bc34a20d5c50"> 1996</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="classmap.html#a1d077af6c601c24e7d79bc34a20d5c50">last_full_vehicle_list_dirty</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span> </div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span>        <span class="comment">// Note: no bounds check</span></div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"><a class="line" href="classmap.html#a2c2523e489f73c84e7a77a138e60ba25"> 1999</a></span>        <a class="code hl_struct" href="structlevel__cache.html">level_cache</a> &amp;<a class="code hl_function" href="classmap.html#a2c2523e489f73c84e7a77a138e60ba25">get_cache</a>( <span class="keywordtype">int</span> zlev )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span>            <span class="keywordflow">return</span> *<a class="code hl_variable" href="classmap.html#ad8afc8795cfeed3d27aadcf1259ae985">caches</a>[zlev + <a class="code hl_variable" href="game__constants_8h.html#aad0eacfa516a8f7e005674027d7640fe">OVERMAP_DEPTH</a>];</div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"> 2001</span>        }</div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"> 2002</span> </div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>        <a class="code hl_struct" href="structpathfinding__cache.html">pathfinding_cache</a> &amp;<a class="code hl_function" href="classmap.html#ae6fc7d1438c1ffd5fee38b40f8fe58fd">get_pathfinding_cache</a>( <span class="keywordtype">int</span> zlev ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span> </div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"><a class="line" href="classmap.html#aeae209ff5f7a02424246f9ae8086d026"> 2005</a></span>        <a class="code hl_struct" href="structvisibility__variables.html">visibility_variables</a> <a class="code hl_variable" href="classmap.html#aeae209ff5f7a02424246f9ae8086d026">visibility_variables_cache</a>;</div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span> </div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>        <span class="comment">// caches the highest zlevel above which all zlevels are uniform</span></div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>        <span class="comment">// !value || value-&gt;first != map::abs_sub means cache is invalid</span></div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"><a class="line" href="classmap.html#a087847b7569f1ed8e64d2229b52880b6"> 2009</a></span>        <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;std::pair&lt;tripoint, int&gt;</a>&gt; <a class="code hl_variable" href="classmap.html#a087847b7569f1ed8e64d2229b52880b6">max_populated_zlev</a> = <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span> </div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"><a class="line" href="classmap.html#ad969a92f39f92552ab4f177cd0faea55"> 2012</a></span>        <span class="keyword">const</span> <a class="code hl_struct" href="structlevel__cache.html">level_cache</a> &amp;<a class="code hl_function" href="classmap.html#ad969a92f39f92552ab4f177cd0faea55">get_cache_ref</a>( <span class="keywordtype">int</span> zlev )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span>            <span class="keywordflow">return</span> *<a class="code hl_variable" href="classmap.html#ad8afc8795cfeed3d27aadcf1259ae985">caches</a>[zlev + <a class="code hl_variable" href="game__constants_8h.html#aad0eacfa516a8f7e005674027d7640fe">OVERMAP_DEPTH</a>];</div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span>        }</div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span> </div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structpathfinding__cache.html">pathfinding_cache</a> &amp;<a class="code hl_function" href="classmap.html#ad357c4299f89a66ece9df0c3edc4401d">get_pathfinding_cache_ref</a>( <span class="keywordtype">int</span> zlev ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span> </div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a0848fb321e7b0f59f0573da235a8c6fc">update_pathfinding_cache</a>( <span class="keywordtype">int</span> zlev ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span> </div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#ae72c979995b04d027d8f0410de2fda23">update_visibility_cache</a>( <span class="keywordtype">int</span> zlev );</div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structvisibility__variables.html">visibility_variables</a> &amp;<a class="code hl_function" href="classmap.html#abb8095f0f1825688edee2d0edc5fd06d">get_visibility_variables_cache</a>() <span class="keyword">const</span>;</div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span> </div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classmap.html#a0f9c14dd2ca58faecca355af2f70ee17">update_submap_active_item_status</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span> </div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span>        <span class="comment">// Just exposed for unit test introspection.</span></div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"><a class="line" href="classmap.html#ad1a2ca71760b44fdfca1848b800373c3"> 2026</a></span>        <span class="keyword">const</span> std::set&lt;tripoint&gt; &amp;<a class="code hl_function" href="classmap.html#ad1a2ca71760b44fdfca1848b800373c3">get_submaps_with_active_items</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="classmap.html#a2cf6c37dcd143c01c1a96e4fe9a15862">submaps_with_active_items</a>;</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>        }</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span>        <span class="comment">// Clips the area to map bounds</span></div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span>        <a class="code hl_class" href="classtripoint__range.html">tripoint_range&lt;tripoint&gt;</a> <a class="code hl_function" href="classmap.html#afc1b449ad33a0170327a2bda5f27ade3">points_in_rectangle</a>(</div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;from, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;to ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span>        <a class="code hl_class" href="classtripoint__range.html">tripoint_range&lt;tripoint&gt;</a> <a class="code hl_function" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>(</div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_enumvalue" href="cata__tiles_8h.html#affa90804269b044a43867f93746f8f8eaadb115059e28d960fa8badfac5516667">center</a>, <span class="keywordtype">size_t</span> radius, <span class="keywordtype">size_t</span> radiusz = 0 ) <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span><span class="comment">        /**</span></div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span><span class="comment">         * Yields a range of all points that are contained in the map and have the z-level of</span></div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span><span class="comment">         * this map (@ref abs_sub).</span></div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span><span class="comment">         */</span></div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>        <a class="code hl_class" href="classtripoint__range.html">tripoint_range&lt;tripoint&gt;</a> <a class="code hl_function" href="classmap.html#a61d83c54adde6e54f8abf5a2b6834ea1">points_on_zlevel</a>() <span class="keyword">const</span>;<span class="comment"></span></div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span><span class="comment">        /// Same as above, but uses the specific z-level. If the given z-level is invalid, it</span></div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span><span class="comment">        /// returns an empty range.</span></div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span><span class="comment"></span>        <a class="code hl_class" href="classtripoint__range.html">tripoint_range&lt;tripoint&gt;</a> <a class="code hl_function" href="classmap.html#a61d83c54adde6e54f8abf5a2b6834ea1">points_on_zlevel</a>( <span class="keywordtype">int</span> z ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span> </div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span>        std::list&lt;item_location&gt; <a class="code hl_function" href="classmap.html#afc51ecd77cb0aa34b9a7297438d5963d">get_active_items_in_radius</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_enumvalue" href="cata__tiles_8h.html#affa90804269b044a43867f93746f8f8eaadb115059e28d960fa8badfac5516667">center</a>, <span class="keywordtype">int</span> radius ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span>        std::list&lt;item_location&gt; <a class="code hl_function" href="classmap.html#afc51ecd77cb0aa34b9a7297438d5963d">get_active_items_in_radius</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_enumvalue" href="cata__tiles_8h.html#affa90804269b044a43867f93746f8f8eaadb115059e28d960fa8badfac5516667">center</a>, <span class="keywordtype">int</span> radius,</div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span>                <a class="code hl_enumeration" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5">special_item_type</a> <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span><span class="comment"></span> </div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span><span class="comment">        /**returns positions of furnitures with matching flag in the specified radius*/</span></div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span>        std::list&lt;tripoint&gt; <a class="code hl_function" href="classmap.html#a5e5055e48a79647a051c6f1b845fc25a">find_furnitures_with_flag_in_radius</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_enumvalue" href="cata__tiles_8h.html#affa90804269b044a43867f93746f8f8eaadb115059e28d960fa8badfac5516667">center</a>, <span class="keywordtype">size_t</span> radius,</div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"> 2049</span>                <span class="keyword">const</span> std::string &amp;flag,</div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span>                <span class="keywordtype">size_t</span> radiusz = 0 );<span class="comment"></span></div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span><span class="comment">        /**returns creatures in specified radius*/</span></div>
<div class="line"><a id="l02052" name="l02052"></a><span class="lineno"> 2052</span>        std::list&lt;Creature *&gt; <a class="code hl_function" href="classmap.html#a0883848153267d70cdfdc14d7abf08b7">get_creatures_in_radius</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_enumvalue" href="cata__tiles_8h.html#affa90804269b044a43867f93746f8f8eaadb115059e28d960fa8badfac5516667">center</a>, <span class="keywordtype">size_t</span> radius,</div>
<div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span>                <span class="keywordtype">size_t</span> radiusz = 0 );</div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"> 2054</span> </div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span>        <a class="code hl_struct" href="structlevel__cache.html">level_cache</a> &amp;<a class="code hl_function" href="classmap.html#a41fa0e03c8ccfc8fb013a6ab5459d06e">access_cache</a>( <span class="keywordtype">int</span> zlev );</div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structlevel__cache.html">level_cache</a> &amp;<a class="code hl_function" href="classmap.html#a41fa0e03c8ccfc8fb013a6ab5459d06e">access_cache</a>( <span class="keywordtype">int</span> zlev ) <span class="keyword">const</span>;</div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"> 2057</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classmap.html#a00c5d0f6d308750d5e85554afd60ea09">dont_draw_lower_floor</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p );</div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span>};</div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span> </div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span><a class="code hl_class" href="classmap.html">map</a> &amp;<a class="code hl_function" href="map_8h.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"> 2061</span> </div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"> 2062</span><span class="keyword">template</span>&lt;<span class="keywordtype">int</span> SIZE, <span class="keywordtype">int</span> MULTIPLIER&gt;</div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span><span class="keywordtype">void</span> <a class="code hl_function" href="map_8h.html#a7c3a7f6a3874e9928b498a842013d636">shift_bitset_cache</a>( std::bitset&lt;SIZE *SIZE&gt; &amp;cache, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;s );</div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span> </div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span><span class="keywordtype">bool</span> <a class="code hl_function" href="map_8h.html#a154653b69f33e37a47333fd07d81c6f0">ter_furn_has_flag</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structter__t.html">ter_t</a> &amp;ter, <span class="keyword">const</span> <a class="code hl_struct" href="structfurn__t.html">furn_t</a> &amp;furn, <a class="code hl_enumeration" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258">ter_bitflags</a> flag );</div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"><a class="line" href="classtinymap.html"> 2066</a></span><span class="keyword">class </span><a class="code hl_class" href="classtinymap.html">tinymap</a> : <span class="keyword">public</span> <a class="code hl_class" href="classmap.html">map</a></div>
<div class="line"><a id="l02067" name="l02067"></a><span class="lineno"> 2067</span>{</div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"><a class="line" href="classtinymap.html#a61f882783d55204dfb52502ca1d5d9db"> 2068</a></span>        <span class="keyword">friend</span> <span class="keyword">class </span><a class="code hl_class" href="classeditmap.html">editmap</a>;</div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span>        <a class="code hl_function" href="classtinymap.html#a54bdc4c7c29d62cbebc4f81383b9424b">tinymap</a>( <span class="keywordtype">int</span> mapsize = 2, <span class="keywordtype">bool</span> <a class="code hl_variable" href="classmap.html#a87a151868377cb4b2843de06991c97da">zlevels</a> = <span class="keyword">false</span> );</div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="classtinymap.html#ae76363b427f6ff89d9eb7b765e09a8c7">inbounds</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p ) <span class="keyword">const override</span>;</div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"> 2072</span>};</div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span> </div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"><a class="line" href="classfake__map.html"> 2074</a></span><span class="keyword">class </span><a class="code hl_class" href="classfake__map.html">fake_map</a> : <span class="keyword">public</span> <a class="code hl_class" href="classtinymap.html">tinymap</a></div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span>{</div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span>    <span class="keyword">private</span>:</div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"><a class="line" href="classfake__map.html#ae55d323f709be3035a325b848e262a77"> 2077</a></span>        std::vector&lt;std::unique_ptr&lt;submap&gt;&gt; <a class="code hl_variable" href="classfake__map.html#ae55d323f709be3035a325b848e262a77">temp_submaps_</a>;</div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span>        <a class="code hl_function" href="classfake__map.html#a1311c6d7de533d9d8b959ee5086430ca">fake_map</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">furn_id</a> &amp;fur_type, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">ter_id</a> &amp;ter_type, <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">trap_id</a> &amp;trap_type,</div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span>                  <span class="keywordtype">int</span> fake_map_z );</div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"><a class="line" href="classfake__map.html#aa213d78aee33708365e03ae194e11767"> 2081</a></span>        <a class="code hl_function" href="classfake__map.html#aa213d78aee33708365e03ae194e11767">~fake_map</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span>};</div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span><span class="preprocessor">#endif </span><span class="comment">// CATA_SRC_MAP_H</span></div>
<div class="ttc" id="aactive__item__cache_8h_html_acc683dc9a32f0cb3fb0032b41c6e17b5"><div class="ttname"><a href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5">special_item_type</a></div><div class="ttdeci">special_item_type</div><div class="ttdef"><b>Definition:</b> <a href="active__item__cache_8h_source.html#l00021">active_item_cache.h:21</a></div></div>
<div class="ttc" id="abodypart_8h_html"><div class="ttname"><a href="bodypart_8h.html">bodypart.h</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a></div><div class="ttdeci">body_part</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00039">bodypart.h:39</a></div></div>
<div class="ttc" id="acalendar_8h_html"><div class="ttname"><a href="calendar_8h.html">calendar.h</a></div></div>
<div class="ttc" id="acata__tiles_8h_html_affa90804269b044a43867f93746f8f8eaadb115059e28d960fa8badfac5516667"><div class="ttname"><a href="cata__tiles_8h.html#affa90804269b044a43867f93746f8f8eaadb115059e28d960fa8badfac5516667">text_alignment::center</a></div><div class="ttdeci">@ center</div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">cata_variant_type::itype_id</a></div><div class="ttdeci">@ itype_id</div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4ace91d270e314ee1f266a1f4e30ea129b"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ace91d270e314ee1f266a1f4e30ea129b">cata_variant_type::ter_id</a></div><div class="ttdeci">@ ter_id</div></div>
<div class="ttc" id="acharacter_8h_html_a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf"><div class="ttname"><a href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">rechargeable_cbm::other</a></div><div class="ttdeci">@ other</div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00259">character.h:260</a></div></div>
<div class="ttc" id="aclassCreature_html"><div class="ttname"><a href="classCreature.html">Creature</a></div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00077">creature.h:78</a></div></div>
<div class="ttc" id="aclassactive__tile__data_html"><div class="ttname"><a href="classactive__tile__data.html">active_tile_data</a></div><div class="ttdef"><b>Definition:</b> <a href="active__tile__data_8h_source.html#l00014">active_tile_data.h:15</a></div></div>
<div class="ttc" id="aclassbasecamp_html"><div class="ttname"><a href="classbasecamp.html">basecamp</a></div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00116">basecamp.h:117</a></div></div>
<div class="ttc" id="aclasscata_1_1colony_1_1colony__iterator_html"><div class="ttname"><a href="classcata_1_1colony_1_1colony__iterator.html">cata::colony::colony_iterator&lt; false &gt;</a></div></div>
<div class="ttc" id="aclasscata_1_1colony_html"><div class="ttname"><a href="classcata_1_1colony.html">cata::colony</a></div><div class="ttdef"><b>Definition:</b> <a href="colony_8h_source.html#l00073">colony.h:75</a></div></div>
<div class="ttc" id="aclasscata_1_1optional_html"><div class="ttname"><a href="classcata_1_1optional.html">cata::optional</a></div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00030">optional.h:31</a></div></div>
<div class="ttc" id="aclasscata_1_1poly__serialized_html"><div class="ttname"><a href="classcata_1_1poly__serialized.html">cata::poly_serialized</a></div><div class="ttdoc">Copyable unique_ptr that writes and reads objects of derived types.</div><div class="ttdef"><b>Definition:</b> <a href="poly__serialized_8h_source.html#l00018">poly_serialized.h:19</a></div></div>
<div class="ttc" id="aclasscatacurses_1_1window_html"><div class="ttname"><a href="classcatacurses_1_1window.html">catacurses::window</a></div><div class="ttdoc">A wrapper over a pointer to a curses window.</div><div class="ttdef"><b>Definition:</b> <a href="cursesdef_8h_source.html#l00054">cursesdef.h:55</a></div></div>
<div class="ttc" id="aclasscharacter__id_html"><div class="ttname"><a href="classcharacter__id.html">character_id</a></div><div class="ttdef"><b>Definition:</b> <a href="character__id_8h_source.html#l00011">character_id.h:12</a></div></div>
<div class="ttc" id="aclasscomputer_html"><div class="ttname"><a href="classcomputer.html">computer</a></div><div class="ttdef"><b>Definition:</b> <a href="computer_8h_source.html#l00109">computer.h:110</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; tripoint, coords::origin::abs, coords::sm &gt;</a></div></div>
<div class="ttc" id="aclasseditmap_html"><div class="ttname"><a href="classeditmap.html">editmap</a></div><div class="ttdef"><b>Definition:</b> <a href="editmap_8h_source.html#l00048">editmap.h:49</a></div></div>
<div class="ttc" id="aclassfake__map_html"><div class="ttname"><a href="classfake__map.html">fake_map</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02074">map.h:2075</a></div></div>
<div class="ttc" id="aclassfake__map_html_a1311c6d7de533d9d8b959ee5086430ca"><div class="ttname"><a href="classfake__map.html#a1311c6d7de533d9d8b959ee5086430ca">fake_map::fake_map</a></div><div class="ttdeci">fake_map(const furn_id &amp;fur_type, const ter_id &amp;ter_type, const trap_id &amp;trap_type, int fake_map_z)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07611">map.cpp:7611</a></div></div>
<div class="ttc" id="aclassfake__map_html_aa213d78aee33708365e03ae194e11767"><div class="ttname"><a href="classfake__map.html#aa213d78aee33708365e03ae194e11767">fake_map::~fake_map</a></div><div class="ttdeci">~fake_map() override</div></div>
<div class="ttc" id="aclassfake__map_html_ae55d323f709be3035a325b848e262a77"><div class="ttname"><a href="classfake__map.html#ae55d323f709be3035a325b848e262a77">fake_map::temp_submaps_</a></div><div class="ttdeci">std::vector&lt; std::unique_ptr&lt; submap &gt; &gt; temp_submaps_</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02077">map.h:2077</a></div></div>
<div class="ttc" id="aclassfield__entry_html"><div class="ttname"><a href="classfield__entry.html">field_entry</a></div><div class="ttdoc">An active or passive effect existing on a tile.</div><div class="ttdef"><b>Definition:</b> <a href="field_8h_source.html#l00019">field.h:20</a></div></div>
<div class="ttc" id="aclassfield_html"><div class="ttname"><a href="classfield.html">field</a></div><div class="ttdoc">A variable sized collection of field entries on a given map square.</div><div class="ttdef"><b>Definition:</b> <a href="field_8h_source.html#l00130">field.h:131</a></div></div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id&lt; ter_t &gt;</a></div></div>
<div class="ttc" id="aclassitem__location_html"><div class="ttname"><a href="classitem__location.html">item_location</a></div><div class="ttdoc">A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)seriali...</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00022">item_location.h:23</a></div></div>
<div class="ttc" id="aclassitem__stack_html"><div class="ttname"><a href="classitem__stack.html">item_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8h_source.html#l00019">item_stack.h:20</a></div></div>
<div class="ttc" id="aclassitem__stack_html_a4fc307204e23390ef6790b99439d4475"><div class="ttname"><a href="classitem__stack.html#a4fc307204e23390ef6790b99439d4475">item_stack::const_iterator</a></div><div class="ttdeci">cata::colony&lt; item &gt;::const_iterator const_iterator</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8h_source.html#l00026">item_stack.h:26</a></div></div>
<div class="ttc" id="aclassitem__stack_html_a711217cbaded7f3f13b4b54f9ef617af"><div class="ttname"><a href="classitem__stack.html#a711217cbaded7f3f13b4b54f9ef617af">item_stack::iterator</a></div><div class="ttdeci">cata::colony&lt; item &gt;::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8h_source.html#l00025">item_stack.h:25</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00175">item.h:176</a></div></div>
<div class="ttc" id="aclasslru__cache_html"><div class="ttname"><a href="classlru__cache.html">lru_cache</a></div><div class="ttdef"><b>Definition:</b> <a href="lru__cache_8h_source.html#l00012">lru_cache.h:13</a></div></div>
<div class="ttc" id="aclassmap__cursor_html"><div class="ttname"><a href="classmap__cursor.html">map_cursor</a></div><div class="ttdef"><b>Definition:</b> <a href="map__selector_8h_source.html#l00010">map_selector.h:11</a></div></div>
<div class="ttc" id="aclassmap__stack_html"><div class="ttname"><a href="classmap__stack.html">map_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00100">map.h:101</a></div></div>
<div class="ttc" id="aclassmap__stack_html_a2af44345dd3047c16b16493d5b98f006"><div class="ttname"><a href="classmap__stack.html#a2af44345dd3047c16b16493d5b98f006">map_stack::map_stack</a></div><div class="ttdeci">map_stack(cata::colony&lt; item &gt; *newstack, tripoint newloc, map *neworigin)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00106">map.h:106</a></div></div>
<div class="ttc" id="aclassmap__stack_html_a80f7eb3e4fae05a90c710e25ebbfa084"><div class="ttname"><a href="classmap__stack.html#a80f7eb3e4fae05a90c710e25ebbfa084">map_stack::count_limit</a></div><div class="ttdeci">int count_limit() const override</div><div class="ttdoc">Maximum number of items allowed here.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00110">map.h:110</a></div></div>
<div class="ttc" id="aclassmap__stack_html_aa4c1241946ae2733a70133ace0162a24"><div class="ttname"><a href="classmap__stack.html#aa4c1241946ae2733a70133ace0162a24">map_stack::max_volume</a></div><div class="ttdeci">units::volume max_volume() const override</div><div class="ttdoc">Maximum volume allowed here.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00157">map.cpp:157</a></div></div>
<div class="ttc" id="aclassmap__stack_html_aa4d2ae0e4cb92bd812a27a05ba96c395"><div class="ttname"><a href="classmap__stack.html#aa4d2ae0e4cb92bd812a27a05ba96c395">map_stack::myorigin</a></div><div class="ttdeci">map * myorigin</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00104">map.h:104</a></div></div>
<div class="ttc" id="aclassmap__stack_html_ab58ec66a7ca2e476c6d90967dccc8062"><div class="ttname"><a href="classmap__stack.html#ab58ec66a7ca2e476c6d90967dccc8062">map_stack::erase</a></div><div class="ttdeci">iterator erase(const_iterator it) override</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00147">map.cpp:147</a></div></div>
<div class="ttc" id="aclassmap__stack_html_abbc2e2342baf6a35d2f6422a6bc78bbb"><div class="ttname"><a href="classmap__stack.html#abbc2e2342baf6a35d2f6422a6bc78bbb">map_stack::insert</a></div><div class="ttdeci">void insert(const item &amp;newitem) override</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00152">map.cpp:152</a></div></div>
<div class="ttc" id="aclassmap__stack_html_abc143c9a61bbaa4f45b164029f857b61"><div class="ttname"><a href="classmap__stack.html#abc143c9a61bbaa4f45b164029f857b61">map_stack::location</a></div><div class="ttdeci">tripoint location</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00103">map.h:103</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00371">map.h:372</a></div></div>
<div class="ttc" id="aclassmap_html_a00008f407a53edc2445622618d7ed071"><div class="ttname"><a href="classmap.html#a00008f407a53edc2445622618d7ed071">map::has_furn</a></div><div class="ttdeci">bool has_furn(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01354">map.cpp:1354</a></div></div>
<div class="ttc" id="aclassmap_html_a00ba41a0d44bd37f0fb7f2cfa99351d2"><div class="ttname"><a href="classmap.html#a00ba41a0d44bd37f0fb7f2cfa99351d2">map::copy_grid</a></div><div class="ttdeci">void copy_grid(const tripoint &amp;to, const tripoint &amp;from)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07339">map.cpp:7339</a></div></div>
<div class="ttc" id="aclassmap_html_a00c5d0f6d308750d5e85554afd60ea09"><div class="ttname"><a href="classmap.html#a00c5d0f6d308750d5e85554afd60ea09">map::dont_draw_lower_floor</a></div><div class="ttdeci">bool dont_draw_lower_floor(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05849">map.cpp:5849</a></div></div>
<div class="ttc" id="aclassmap_html_a017052b50f1c36e9a0942110b4e0d5e7"><div class="ttname"><a href="classmap.html#a017052b50f1c36e9a0942110b4e0d5e7">map::hoist_submap_camp</a></div><div class="ttdeci">basecamp hoist_submap_camp(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05571">map.cpp:5571</a></div></div>
<div class="ttc" id="aclassmap_html_a024fc101274d566dd204484cc627dc0b"><div class="ttname"><a href="classmap.html#a024fc101274d566dd204484cc627dc0b">map::delete_graffiti</a></div><div class="ttdeci">void delete_graffiti(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07644">map.cpp:7644</a></div></div>
<div class="ttc" id="aclassmap_html_a029b364a2b257f06a689f27412d21576"><div class="ttname"><a href="classmap.html#a029b364a2b257f06a689f27412d21576">map::set</a></div><div class="ttdeci">void set(const tripoint &amp;p, const ter_id &amp;new_terrain, const furn_id &amp;new_furniture)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01330">map.cpp:1330</a></div></div>
<div class="ttc" id="aclassmap_html_a02c23b3e96f18937325d96a27a969be8"><div class="ttname"><a href="classmap.html#a02c23b3e96f18937325d96a27a969be8">map::spawn_item</a></div><div class="ttdeci">void spawn_item(const point &amp;p, const std::string &amp;type_id, unsigned quantity=1, int charges=0, const time_point &amp;birthday=calendar::start_of_cataclysm, int damlevel=0)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01248">map.h:1248</a></div></div>
<div class="ttc" id="aclassmap_html_a02dae7dd50e6ef9b92f6501e4d9e48b8"><div class="ttname"><a href="classmap.html#a02dae7dd50e6ef9b92f6501e4d9e48b8">map::crush</a></div><div class="ttdeci">void crush(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03665">map.cpp:3665</a></div></div>
<div class="ttc" id="aclassmap_html_a02ff5fbdbdb3df97210f4874c41fd75a"><div class="ttname"><a href="classmap.html#a02ff5fbdbdb3df97210f4874c41fd75a">map::remove_field</a></div><div class="ttdeci">void remove_field(const tripoint &amp;p, const field_type_id &amp;field_to_remove)</div><div class="ttdoc">Remove field entry at xy, ignored if the field entry is not present.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05463">map.cpp:5463</a></div></div>
<div class="ttc" id="aclassmap_html_a03860b3f7c4c378d92e2719997b97f8c"><div class="ttname"><a href="classmap.html#a03860b3f7c4c378d92e2719997b97f8c">map::adjust_radiation</a></div><div class="ttdeci">void adjust_radiation(const tripoint &amp;p, int delta)</div><div class="ttdoc">Increment the radiation in the given tile by the given delta (decrement it if delta is negative)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04051">map.cpp:4051</a></div></div>
<div class="ttc" id="aclassmap_html_a04043fae77ccf354fa62e60354beb547"><div class="ttname"><a href="classmap.html#a04043fae77ccf354fa62e60354beb547">map::set_floor_cache_dirty</a></div><div class="ttdeci">void set_floor_cache_dirty(const int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00436">map.h:436</a></div></div>
<div class="ttc" id="aclassmap_html_a045c4ad0d7f973fe996d3936086504c6"><div class="ttname"><a href="classmap.html#a045c4ad0d7f973fe996d3936086504c6">map::check_seen_cache</a></div><div class="ttdeci">bool check_seen_cache(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00469">map.h:469</a></div></div>
<div class="ttc" id="aclassmap_html_a04983d87d4316ae7adc5e1d52220dd90"><div class="ttname"><a href="classmap.html#a04983d87d4316ae7adc5e1d52220dd90">map::get_dir_circle</a></div><div class="ttdeci">std::vector&lt; tripoint &gt; get_dir_circle(const tripoint &amp;f, const tripoint &amp;t) const</div><div class="ttdoc">Calculate next search points surrounding the current position.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06465">map.cpp:6465</a></div></div>
<div class="ttc" id="aclassmap_html_a049fee607a4d1c1c18a0613f7290fe67"><div class="ttname"><a href="classmap.html#a049fee607a4d1c1c18a0613f7290fe67">map::remove_rotten_items</a></div><div class="ttdeci">void remove_rotten_items(Container &amp;items, const tripoint &amp;p)</div><div class="ttdoc">Go through the list of items, update their rotten status and remove items that have rotten away compl...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06921">map.cpp:6921</a></div></div>
<div class="ttc" id="aclassmap_html_a04a9cda43618d742103548917e097f0d"><div class="ttname"><a href="classmap.html#a04a9cda43618d742103548917e097f0d">map::has_furn</a></div><div class="ttdeci">bool has_furn(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00825">map.h:825</a></div></div>
<div class="ttc" id="aclassmap_html_a06e2a939fc28a75aa41e2e4da11af705"><div class="ttname"><a href="classmap.html#a06e2a939fc28a75aa41e2e4da11af705">map::build_floor_caches</a></div><div class="ttdeci">void build_floor_caches()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07880">map.cpp:7880</a></div></div>
<div class="ttc" id="aclassmap_html_a07dbd4505e0464a1f58bc732febfd6f4"><div class="ttname"><a href="classmap.html#a07dbd4505e0464a1f58bc732febfd6f4">map::destroy</a></div><div class="ttdeci">void destroy(const tripoint &amp;p, bool silent=false)</div><div class="ttdoc">Keeps bashing a square until it can't be bashed anymore.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03631">map.cpp:3631</a></div></div>
<div class="ttc" id="aclassmap_html_a082082f0586969638b0885acdf51ba08"><div class="ttname"><a href="classmap.html#a082082f0586969638b0885acdf51ba08">map::clear_vehicle_cache</a></div><div class="ttdeci">void clear_vehicle_cache(int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00303">map.cpp:303</a></div></div>
<div class="ttc" id="aclassmap_html_a0848fb321e7b0f59f0573da235a8c6fc"><div class="ttname"><a href="classmap.html#a0848fb321e7b0f59f0573da235a8c6fc">map::update_pathfinding_cache</a></div><div class="ttdeci">void update_pathfinding_cache(int zlev) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08570">map.cpp:8570</a></div></div>
<div class="ttc" id="aclassmap_html_a087847b7569f1ed8e64d2229b52880b6"><div class="ttname"><a href="classmap.html#a087847b7569f1ed8e64d2229b52880b6">map::max_populated_zlev</a></div><div class="ttdeci">cata::optional&lt; std::pair&lt; tripoint, int &gt; &gt; max_populated_zlev</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02009">map.h:2009</a></div></div>
<div class="ttc" id="aclassmap_html_a0883848153267d70cdfdc14d7abf08b7"><div class="ttname"><a href="classmap.html#a0883848153267d70cdfdc14d7abf08b7">map::get_creatures_in_radius</a></div><div class="ttdeci">std::list&lt; Creature * &gt; get_creatures_in_radius(const tripoint &amp;center, size_t radius, size_t radiusz=0)</div><div class="ttdoc">returns creatures in specified radius</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08482">map.cpp:8482</a></div></div>
<div class="ttc" id="aclassmap_html_a091e78df9647c7c8a468a33886a097c5"><div class="ttname"><a href="classmap.html#a091e78df9647c7c8a468a33886a097c5">map::draw</a></div><div class="ttdeci">void draw(const catacurses::window &amp;w, const tripoint &amp;center)</div><div class="ttdoc">Draw a visible part of the map into w.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05690">map.cpp:5690</a></div></div>
<div class="ttc" id="aclassmap_html_a098e18c24d766d1b52255cd5b9693e8d"><div class="ttname"><a href="classmap.html#a098e18c24d766d1b52255cd5b9693e8d">map::deregister_vehicle_zone</a></div><div class="ttdeci">bool deregister_vehicle_zone(zone_data &amp;zone)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00942">map.cpp:942</a></div></div>
<div class="ttc" id="aclassmap_html_a09daa790840223d03e1b64a4258679c1"><div class="ttname"><a href="classmap.html#a09daa790840223d03e1b64a4258679c1">map::draw_office_tower</a></div><div class="ttdeci">void draw_office_tower(mapgendata &amp;dat)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l02927">mapgen.cpp:2927</a></div></div>
<div class="ttc" id="aclassmap_html_a09ef3e8c2e6664e3ed98d1e1e18a4b4f"><div class="ttname"><a href="classmap.html#a09ef3e8c2e6664e3ed98d1e1e18a4b4f">map::has_flag_furn</a></div><div class="ttdeci">bool has_flag_furn(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02328">map.cpp:2328</a></div></div>
<div class="ttc" id="aclassmap_html_a0ae241c4167c39e8fd776778451b4f8e"><div class="ttname"><a href="classmap.html#a0ae241c4167c39e8fd776778451b4f8e">map::set_field_age</a></div><div class="ttdeci">time_duration set_field_age(const tripoint &amp;p, const field_type_id &amp;type, const time_duration &amp;age, bool isoffset=false)</div><div class="ttdoc">Set age of field entry at point.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05337">map.cpp:5337</a></div></div>
<div class="ttc" id="aclassmap_html_a0b6503d673bafd5a78a66cb7fd48ccfc"><div class="ttname"><a href="classmap.html#a0b6503d673bafd5a78a66cb7fd48ccfc">map::draw_circle_furn</a></div><div class="ttdeci">void draw_circle_furn(const furn_id &amp;type, const point &amp;p, int rad)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08226">map.cpp:8226</a></div></div>
<div class="ttc" id="aclassmap_html_a0b83bb9cbf7265f78eaad06dc1f7b8c3"><div class="ttname"><a href="classmap.html#a0b83bb9cbf7265f78eaad06dc1f7b8c3">map::bash_strength</a></div><div class="ttdeci">int bash_strength(const tripoint &amp;p, bool allow_floor=false) const</div><div class="ttdoc">Returns max_str of the furniture or terrain at p.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02458">map.cpp:2458</a></div></div>
<div class="ttc" id="aclassmap_html_a0cbc4e53db628a8ffefe5d08bd3d17d6"><div class="ttname"><a href="classmap.html#a0cbc4e53db628a8ffefe5d08bd3d17d6">map::scent_blockers</a></div><div class="ttdeci">void scent_blockers(std::array&lt; std::array&lt; bool, MAPSIZE_X &gt;, MAPSIZE_Y &gt; &amp;blocks_scent, std::array&lt; std::array&lt; bool, MAPSIZE_X &gt;, MAPSIZE_Y &gt; &amp;reduces_scent, const point &amp;min, const point &amp;max)</div><div class="ttdoc">Build the map of scent-resistant tiles.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08332">map.cpp:8332</a></div></div>
<div class="ttc" id="aclassmap_html_a0cc22df7b44f7835fa10ed241848b041"><div class="ttname"><a href="classmap.html#a0cc22df7b44f7835fa10ed241848b041">map::~map</a></div><div class="ttdeci">virtual ~map()</div></div>
<div class="ttc" id="aclassmap_html_a0cddc412ecd2b306b3b6f0293dba3900"><div class="ttname"><a href="classmap.html#a0cddc412ecd2b306b3b6f0293dba3900">map::i_rem</a></div><div class="ttdeci">void i_rem(const point &amp;p, item *it)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01227">map.h:1227</a></div></div>
<div class="ttc" id="aclassmap_html_a0d32c07a36d263fd968b489f41d89420"><div class="ttname"><a href="classmap.html#a0d32c07a36d263fd968b489f41d89420">map::add_vehicle_to_map</a></div><div class="ttdeci">std::unique_ptr&lt; vehicle &gt; add_vehicle_to_map(std::unique_ptr&lt; vehicle &gt; veh, bool merge_wrecks)</div><div class="ttdoc">Takes a vehicle already created with new and attempts to place it on the map, checking for collisions...</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l05671">mapgen.cpp:5671</a></div></div>
<div class="ttc" id="aclassmap_html_a0de3e08924ce1e74493200f11a3eff3c"><div class="ttname"><a href="classmap.html#a0de3e08924ce1e74493200f11a3eff3c">map::name</a></div><div class="ttdeci">std::string name(const point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00815">map.h:815</a></div></div>
<div class="ttc" id="aclassmap_html_a0e3e16bbd43c622282867e85ff5100d2"><div class="ttname"><a href="classmap.html#a0e3e16bbd43c622282867e85ff5100d2">map::update_lum</a></div><div class="ttdeci">void update_lum(item_location &amp;loc, bool add)</div><div class="ttdoc">Update luminosity before and after item's transformation.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04440">map.cpp:4440</a></div></div>
<div class="ttc" id="aclassmap_html_a0e95d9982171ecb3af0ff7b3dcb73067"><div class="ttname"><a href="classmap.html#a0e95d9982171ecb3af0ff7b3dcb73067">map::build_outside_cache</a></div><div class="ttdeci">void build_outside_cache(int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07726">map.cpp:7726</a></div></div>
<div class="ttc" id="aclassmap_html_a0ecdaa7f32bcc5dbcb162ae76ad863c9"><div class="ttname"><a href="classmap.html#a0ecdaa7f32bcc5dbcb162ae76ad863c9">map::set_transparency_cache_dirty</a></div><div class="ttdeci">void set_transparency_cache_dirty(const int zlev)</div><div class="ttdoc">Sets a dirty flag on the a given cache.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00393">map.h:393</a></div></div>
<div class="ttc" id="aclassmap_html_a0f73359be972a030063b4e84f770275e"><div class="ttname"><a href="classmap.html#a0f73359be972a030063b4e84f770275e">map::find_clear_path</a></div><div class="ttdeci">std::vector&lt; tripoint &gt; find_clear_path(const tripoint &amp;source, const tripoint &amp;destination) const</div><div class="ttdoc">Iteratively tries Bresenham lines with different biases until it finds a clear line or decides there ...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06247">map.cpp:6247</a></div></div>
<div class="ttc" id="aclassmap_html_a0f8d41171be4f7eab7a0074b01ac5a1e"><div class="ttname"><a href="classmap.html#a0f8d41171be4f7eab7a0074b01ac5a1e">map::process_falling</a></div><div class="ttdeci">void process_falling()</div><div class="ttdoc">Invoked drop_everything on cached dirty tiles.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02285">map.cpp:2285</a></div></div>
<div class="ttc" id="aclassmap_html_a0f9c14dd2ca58faecca355af2f70ee17"><div class="ttname"><a href="classmap.html#a0f9c14dd2ca58faecca355af2f70ee17">map::update_submap_active_item_status</a></div><div class="ttdeci">void update_submap_active_item_status(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05585">map.cpp:5585</a></div></div>
<div class="ttc" id="aclassmap_html_a0fcf5c9b35fd96a282ed003f68b813a2"><div class="ttname"><a href="classmap.html#a0fcf5c9b35fd96a282ed003f68b813a2">map::apply_light_arc</a></div><div class="ttdeci">void apply_light_arc(const tripoint &amp;p, units::angle, float luminance, units::angle wideangle=30_degrees)</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l01478">lightmap.cpp:1478</a></div></div>
<div class="ttc" id="aclassmap_html_a104508abdc0ddb48fef910e70a79241a"><div class="ttname"><a href="classmap.html#a104508abdc0ddb48fef910e70a79241a">map::spawn_item</a></div><div class="ttdeci">void spawn_item(const tripoint &amp;p, const std::string &amp;type_id, unsigned quantity=1, int charges=0, const time_point &amp;birthday=calendar::start_of_cataclysm, int damlevel=0)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01243">map.h:1243</a></div></div>
<div class="ttc" id="aclassmap_html_a1110b01d9a661d8e6ae4737aacba480f"><div class="ttname"><a href="classmap.html#a1110b01d9a661d8e6ae4737aacba480f">map::set_radiation</a></div><div class="ttdeci">void set_radiation(const point &amp;p, const int value)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01186">map.h:1186</a></div></div>
<div class="ttc" id="aclassmap_html_a11b25c9b43f51a8337358f2db9e878ab"><div class="ttname"><a href="classmap.html#a11b25c9b43f51a8337358f2db9e878ab">map::update_suspension_cache</a></div><div class="ttdeci">void update_suspension_cache(const int &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07889">map.cpp:7889</a></div></div>
<div class="ttc" id="aclassmap_html_a11dbf59db7e4322c15b4aab9dfef5a91"><div class="ttname"><a href="classmap.html#a11dbf59db7e4322c15b4aab9dfef5a91">map::get_neighbors</a></div><div class="ttdeci">std::array&lt; std::pair&lt; tripoint, maptile &gt;, 8 &gt; get_neighbors(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map__field_8cpp_source.html#l00190">map_field.cpp:190</a></div></div>
<div class="ttc" id="aclassmap_html_a11febee9ceafc538b720ee0d30d995d8"><div class="ttname"><a href="classmap.html#a11febee9ceafc538b720ee0d30d995d8">map::propagate_field</a></div><div class="ttdeci">void propagate_field(const tripoint &amp;center, const field_type_id &amp;type, int amount, int max_intensity=0)</div><div class="ttdef"><b>Definition:</b> <a href="map__field_8cpp_source.html#l01937">map_field.cpp:1937</a></div></div>
<div class="ttc" id="aclassmap_html_a12abdc940dd179905a8df41be1fa3240"><div class="ttname"><a href="classmap.html#a12abdc940dd179905a8df41be1fa3240">map::has_nearby_table</a></div><div class="ttdeci">bool has_nearby_table(const tripoint &amp;p, int radius=1)</div><div class="ttdoc">Check whether a table/workbench/vehicle kitchen or other flat surface is nearby that could be used fo...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02775">map.cpp:2775</a></div></div>
<div class="ttc" id="aclassmap_html_a12f1a97d91cb17669da9c056480fea7a"><div class="ttname"><a href="classmap.html#a12f1a97d91cb17669da9c056480fea7a">map::check_submap_active_item_consistency</a></div><div class="ttdeci">std::vector&lt; tripoint &gt; check_submap_active_item_consistency()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04572">map.cpp:4572</a></div></div>
<div class="ttc" id="aclassmap_html_a138991d1b089bb2744230a8fc648e54b"><div class="ttname"><a href="classmap.html#a138991d1b089bb2744230a8fc648e54b">map::rad_scorch</a></div><div class="ttdeci">void rad_scorch(const tripoint &amp;p, const time_duration &amp;time_since_last_actualize)</div><div class="ttdoc">Radiation-related plant (and fungus?) death.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07172">map.cpp:7172</a></div></div>
<div class="ttc" id="aclassmap_html_a13bdb8150fd5ac7ae19b631c6b9f4228"><div class="ttname"><a href="classmap.html#a13bdb8150fd5ac7ae19b631c6b9f4228">map::draw_rough_circle_ter</a></div><div class="ttdeci">void draw_rough_circle_ter(const ter_id &amp;type, const point &amp;p, int rad)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08198">map.cpp:8198</a></div></div>
<div class="ttc" id="aclassmap_html_a148fb7ddc87ffb1da97dd33e0529c983"><div class="ttname"><a href="classmap.html#a148fb7ddc87ffb1da97dd33e0529c983">map::name</a></div><div class="ttdeci">std::string name(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01336">map.cpp:1336</a></div></div>
<div class="ttc" id="aclassmap_html_a150f1b826e0e2722ccf76dbdac136ffd"><div class="ttname"><a href="classmap.html#a150f1b826e0e2722ccf76dbdac136ffd">map::emit_field</a></div><div class="ttdeci">void emit_field(const tripoint &amp;pos, const emit_id &amp;src, float mul=1.0f)</div><div class="ttdoc">Runs one cycle of emission src which may result in propagation of fields.</div><div class="ttdef"><b>Definition:</b> <a href="map__field_8cpp_source.html#l01924">map_field.cpp:1924</a></div></div>
<div class="ttc" id="aclassmap_html_a15c1968c86e6672c4cdb5166ef94a650"><div class="ttname"><a href="classmap.html#a15c1968c86e6672c4cdb5166ef94a650">map::get_roof</a></div><div class="ttdeci">ter_id get_roof(const tripoint &amp;p, bool allow_air) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03103">map.cpp:3103</a></div></div>
<div class="ttc" id="aclassmap_html_a16c42a0494cf948a154567bc43571f90"><div class="ttname"><a href="classmap.html#a16c42a0494cf948a154567bc43571f90">map::translate</a></div><div class="ttdeci">void translate(const ter_id &amp;from, const ter_id &amp;to)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03926">map.cpp:3926</a></div></div>
<div class="ttc" id="aclassmap_html_a17f0017c1f3883d5eedc4c5de06515ca"><div class="ttname"><a href="classmap.html#a17f0017c1f3883d5eedc4c5de06515ca">map::get_furn_field_locations</a></div><div class="ttdeci">const std::vector&lt; tripoint &gt; &amp; get_furn_field_locations() const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07578">map.cpp:7578</a></div></div>
<div class="ttc" id="aclassmap_html_a18802cb6d3bda6d30738d8479ea27bb4"><div class="ttname"><a href="classmap.html#a18802cb6d3bda6d30738d8479ea27bb4">map::random_outdoor_tile</a></div><div class="ttdeci">point random_outdoor_tile()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02739">map.cpp:2739</a></div></div>
<div class="ttc" id="aclassmap_html_a18ecc805eaa201e9a852d1087a95b4e7"><div class="ttname"><a href="classmap.html#a18ecc805eaa201e9a852d1087a95b4e7">map::apparent_light_helper</a></div><div class="ttdeci">static apparent_light_info apparent_light_helper(const level_cache &amp;map_cache, const tripoint &amp;p)</div><div class="ttdoc">Helper function for light claculation; exposed here for map editor.</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00636">lightmap.cpp:636</a></div></div>
<div class="ttc" id="aclassmap_html_a18f570073555f056acb36580a10bd0ff"><div class="ttname"><a href="classmap.html#a18f570073555f056acb36580a10bd0ff">map::getlocal</a></div><div class="ttdeci">point getlocal(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01637">map.h:1637</a></div></div>
<div class="ttc" id="aclassmap_html_a19208d20803ab7c5da1073e17da18bd1"><div class="ttname"><a href="classmap.html#a19208d20803ab7c5da1073e17da18bd1">map::is_harvestable</a></div><div class="ttdeci">bool is_harvestable(const tripoint &amp;pos) const</div><div class="ttdoc">Returns true if point at pos is harvestable right now, with no extra tools.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01641">map.cpp:1641</a></div></div>
<div class="ttc" id="aclassmap_html_a19d0a94bda17366a979a8b88ff11ecbf"><div class="ttname"><a href="classmap.html#a19d0a94bda17366a979a8b88ff11ecbf">map::has_nearby_chair</a></div><div class="ttdeci">bool has_nearby_chair(const tripoint &amp;p, int radius=1)</div><div class="ttdoc">Check whether a chair or vehicle seat is nearby.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02789">map.cpp:2789</a></div></div>
<div class="ttc" id="aclassmap_html_a19f928c936dc941359ea5f5f7690b3dd"><div class="ttname"><a href="classmap.html#a19f928c936dc941359ea5f5f7690b3dd">map::fill_funnels</a></div><div class="ttdeci">void fill_funnels(const tripoint &amp;p, const time_point &amp;since)</div><div class="ttdoc">Try to fill funnel based items here.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06960">map.cpp:6960</a></div></div>
<div class="ttc" id="aclassmap_html_a1b76ba7e48045df7ca442d77d1cb95cb"><div class="ttname"><a href="classmap.html#a1b76ba7e48045df7ca442d77d1cb95cb">map::saven</a></div><div class="ttdeci">void saven(const tripoint &amp;grid)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06770">map.cpp:6770</a></div></div>
<div class="ttc" id="aclassmap_html_a1d077af6c601c24e7d79bc34a20d5c50"><div class="ttname"><a href="classmap.html#a1d077af6c601c24e7d79bc34a20d5c50">map::last_full_vehicle_list_dirty</a></div><div class="ttdeci">bool last_full_vehicle_list_dirty</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01996">map.h:1996</a></div></div>
<div class="ttc" id="aclassmap_html_a1d17d7a657d0113c7510bfd3d7c605eb"><div class="ttname"><a href="classmap.html#a1d17d7a657d0113c7510bfd3d7c605eb">map::apply_faction_ownership</a></div><div class="ttdeci">void apply_faction_ownership(const point &amp;p1, const point &amp;p2, const faction_id &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l05494">mapgen.cpp:5494</a></div></div>
<div class="ttc" id="aclassmap_html_a1d638822dc7c62d6ec6ee4f64ae0f4b2"><div class="ttname"><a href="classmap.html#a1d638822dc7c62d6ec6ee4f64ae0f4b2">map::vehicle_wheel_traction</a></div><div class="ttdeci">float vehicle_wheel_traction(const vehicle &amp;veh, bool ignore_movement_modifiers=false) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__move_8cpp_source.html#l01501">vehicle_move.cpp:1501</a></div></div>
<div class="ttc" id="aclassmap_html_a1da8c683a3f6db0013d47ee9fd27caa4"><div class="ttname"><a href="classmap.html#a1da8c683a3f6db0013d47ee9fd27caa4">map::add_splash</a></div><div class="ttdeci">void add_splash(const field_type_id &amp;type, const tripoint &amp;center, int radius, int intensity)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05526">map.cpp:5526</a></div></div>
<div class="ttc" id="aclassmap_html_a1e2d0ee9656a17039576cad540e73dff"><div class="ttname"><a href="classmap.html#a1e2d0ee9656a17039576cad540e73dff">map::get_field_age</a></div><div class="ttdeci">time_duration get_field_age(const tripoint &amp;p, const field_type_id &amp;type) const</div><div class="ttdoc">Get the age of a field entry (field_entry::age), if there is no field of that type,...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05371">map.cpp:5371</a></div></div>
<div class="ttc" id="aclassmap_html_a1e5a0861247defbe414be8cc65475a17"><div class="ttname"><a href="classmap.html#a1e5a0861247defbe414be8cc65475a17">map::point_within_camp</a></div><div class="ttdeci">bool point_within_camp(const tripoint &amp;point_check) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05551">map.cpp:5551</a></div></div>
<div class="ttc" id="aclassmap_html_a1e7335a160e134f492ec79d338897ffd"><div class="ttname"><a href="classmap.html#a1e7335a160e134f492ec79d338897ffd">map::pl_sees</a></div><div class="ttdeci">bool pl_sees(const tripoint &amp;t, int max_range) const</div><div class="ttdoc">Whether the player character (g-&gt;u) can see the given square (local map coordinates).</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00746">lightmap.cpp:746</a></div></div>
<div class="ttc" id="aclassmap_html_a1ef5a9b3b40012c6ad3fc2afe7cfcf89"><div class="ttname"><a href="classmap.html#a1ef5a9b3b40012c6ad3fc2afe7cfcf89">map::draw_mine</a></div><div class="ttdeci">void draw_mine(mapgendata &amp;dat)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l04762">mapgen.cpp:4762</a></div></div>
<div class="ttc" id="aclassmap_html_a1f9586b472e2bf4dac4487c0a061c152"><div class="ttname"><a href="classmap.html#a1f9586b472e2bf4dac4487c0a061c152">map::open_door</a></div><div class="ttdeci">bool open_door(const tripoint &amp;p, bool inside, bool check_only=false)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03873">map.cpp:3873</a></div></div>
<div class="ttc" id="aclassmap_html_a20933e73f539d62c2a10bed22bb9a0c7"><div class="ttname"><a href="classmap.html#a20933e73f539d62c2a10bed22bb9a0c7">map::furnname</a></div><div class="ttdeci">std::string furnname(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01480">map.cpp:1480</a></div></div>
<div class="ttc" id="aclassmap_html_a210355005aedbea83b68a32c0415fdbd"><div class="ttname"><a href="classmap.html#a210355005aedbea83b68a32c0415fdbd">map::propagate_suspension_check</a></div><div class="ttdeci">void propagate_suspension_check(const tripoint &amp;point)</div><div class="ttdoc">Checks surrounding tiles for suspension, and has them check for collapse.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02952">map.cpp:2952</a></div></div>
<div class="ttc" id="aclassmap_html_a2155fcd616db300e940029543dac65fa"><div class="ttname"><a href="classmap.html#a2155fcd616db300e940029543dac65fa">map::do_vehicle_caching</a></div><div class="ttdeci">void do_vehicle_caching(int z)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07991">map.cpp:7991</a></div></div>
<div class="ttc" id="aclassmap_html_a2182c8dd7cbebaaf41e7ab28ca053d6a"><div class="ttname"><a href="classmap.html#a2182c8dd7cbebaaf41e7ab28ca053d6a">map::spawn_artifact</a></div><div class="ttdeci">void spawn_artifact(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04177">map.cpp:4177</a></div></div>
<div class="ttc" id="aclassmap_html_a2191dc3bd14940254a3e9b8fc47d0c3a"><div class="ttname"><a href="classmap.html#a2191dc3bd14940254a3e9b8fc47d0c3a">map::spawn_natural_artifact</a></div><div class="ttdeci">void spawn_natural_artifact(const tripoint &amp;p, artifact_natural_property prop)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04182">map.cpp:4182</a></div></div>
<div class="ttc" id="aclassmap_html_a2266f21420ae2a1b44e8df9a028764e4"><div class="ttname"><a href="classmap.html#a2266f21420ae2a1b44e8df9a028764e4">map::bash</a></div><div class="ttdeci">bash_results bash(const tripoint &amp;p, int str, bool silent=false, bool destroy=false, bool bash_floor=false, const vehicle *bashing_vehicle=nullptr)</div><div class="ttdoc">Returns a pair where first is whether anything was smashed and second is if it was destroyed.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03520">map.cpp:3520</a></div></div>
<div class="ttc" id="aclassmap_html_a22f3270ff56759c395b162e4b7e94d33"><div class="ttname"><a href="classmap.html#a22f3270ff56759c395b162e4b7e94d33">map::is_water_shallow_current</a></div><div class="ttdeci">bool is_water_shallow_current(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01055">map.h:1055</a></div></div>
<div class="ttc" id="aclassmap_html_a24aa8ce2d47ee346d3e3e11003757fca"><div class="ttname"><a href="classmap.html#a24aa8ce2d47ee346d3e3e11003757fca">map::set_seen_cache_dirty</a></div><div class="ttdeci">void set_seen_cache_dirty(const int zlevel)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00423">map.h:423</a></div></div>
<div class="ttc" id="aclassmap_html_a2578f467596e13fb8631fd01126a9667"><div class="ttname"><a href="classmap.html#a2578f467596e13fb8631fd01126a9667">map::can_see_trap_at</a></div><div class="ttdeci">bool can_see_trap_at(const tripoint &amp;p, const Character &amp;c) const</div><div class="ttdoc">See trap::can_see, which is called for the trap here.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05130">map.cpp:5130</a></div></div>
<div class="ttc" id="aclassmap_html_a2583b85e82d40e942e950351c1670deb"><div class="ttname"><a href="classmap.html#a2583b85e82d40e942e950351c1670deb">map::get_wind_blockers</a></div><div class="ttdeci">std::tuple&lt; maptile, maptile, maptile &gt; get_wind_blockers(const int &amp;winddirection, const tripoint &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="map__field_8cpp_source.html#l01890">map_field.cpp:1890</a></div></div>
<div class="ttc" id="aclassmap_html_a267286ed64b9685c23cf335b2bd225bb"><div class="ttname"><a href="classmap.html#a267286ed64b9685c23cf335b2bd225bb">map::maptile_at</a></div><div class="ttdeci">maptile maptile_at(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00196">map.cpp:196</a></div></div>
<div class="ttc" id="aclassmap_html_a26c8ee6461f6ae1320070cf8c4b5fcda"><div class="ttname"><a href="classmap.html#a26c8ee6461f6ae1320070cf8c4b5fcda">map::is_outside</a></div><div class="ttdeci">bool is_outside(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01041">map.h:1041</a></div></div>
<div class="ttc" id="aclassmap_html_a27764d80748ed450fb6f31bf875297da"><div class="ttname"><a href="classmap.html#a27764d80748ed450fb6f31bf875297da">map::draw_triffid</a></div><div class="ttdeci">void draw_triffid(mapgendata &amp;dat)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l05087">mapgen.cpp:5087</a></div></div>
<div class="ttc" id="aclassmap_html_a27e22f0999ea03eff18babc48643c568"><div class="ttname"><a href="classmap.html#a27e22f0999ea03eff18babc48643c568">map::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02304">map.cpp:2304</a></div></div>
<div class="ttc" id="aclassmap_html_a291e3c90746d24dabba01954fde977d7"><div class="ttname"><a href="classmap.html#a291e3c90746d24dabba01954fde977d7">map::sees</a></div><div class="ttdeci">bool sees(const tripoint &amp;F, const tripoint &amp;T, int range) const</div><div class="ttdoc">Returns whether F sees T with a view range of range.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06120">map.cpp:6120</a></div></div>
<div class="ttc" id="aclassmap_html_a295539aa7c44745ecfce2e4338f66ebd"><div class="ttname"><a href="classmap.html#a295539aa7c44745ecfce2e4338f66ebd">map::drop_furniture</a></div><div class="ttdeci">void drop_furniture(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02072">map.cpp:2072</a></div></div>
<div class="ttc" id="aclassmap_html_a2a5095bdf837336c48fbbbd2571151dc"><div class="ttname"><a href="classmap.html#a2a5095bdf837336c48fbbbd2571151dc">map::set_outside_cache_dirty</a></div><div class="ttdeci">void set_outside_cache_dirty(const int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00430">map.h:430</a></div></div>
<div class="ttc" id="aclassmap_html_a2a5ac15baf0b9a2d7d871db5c738b84f"><div class="ttname"><a href="classmap.html#a2a5ac15baf0b9a2d7d871db5c738b84f">map::is_wall_adjacent</a></div><div class="ttdeci">bool is_wall_adjacent(const tripoint &amp;center) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01779">map.cpp:1779</a></div></div>
<div class="ttc" id="aclassmap_html_a2b9a117ad421bd11ca8efd7449ce2528"><div class="ttname"><a href="classmap.html#a2b9a117ad421bd11ca8efd7449ce2528">map::has_nearby_fire</a></div><div class="ttdeci">bool has_nearby_fire(const tripoint &amp;p, int radius=1)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02762">map.cpp:2762</a></div></div>
<div class="ttc" id="aclassmap_html_a2c2523e489f73c84e7a77a138e60ba25"><div class="ttname"><a href="classmap.html#a2c2523e489f73c84e7a77a138e60ba25">map::get_cache</a></div><div class="ttdeci">level_cache &amp; get_cache(int zlev) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01999">map.h:1999</a></div></div>
<div class="ttc" id="aclassmap_html_a2c4ac22567d831d344a9388522d07804"><div class="ttname"><a href="classmap.html#a2c4ac22567d831d344a9388522d07804">map::loadn</a></div><div class="ttdeci">void loadn(const tripoint &amp;grid, bool update_vehicles)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06824">map.cpp:6824</a></div></div>
<div class="ttc" id="aclassmap_html_a2cf6c37dcd143c01c1a96e4fe9a15862"><div class="ttname"><a href="classmap.html#a2cf6c37dcd143c01c1a96e4fe9a15862">map::submaps_with_active_items</a></div><div class="ttdeci">std::set&lt; tripoint &gt; submaps_with_active_items</div><div class="ttdoc">Set of submaps that contain active items in absolute coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01985">map.h:1985</a></div></div>
<div class="ttc" id="aclassmap_html_a2d734f291c46db96540c27b8fc8bd487"><div class="ttname"><a href="classmap.html#a2d734f291c46db96540c27b8fc8bd487">map::passable_ter_furn</a></div><div class="ttdeci">bool passable_ter_furn(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01844">map.cpp:1844</a></div></div>
<div class="ttc" id="aclassmap_html_a2d8a816bd0b73e0fdfaa9793e93ad623"><div class="ttname"><a href="classmap.html#a2d8a816bd0b73e0fdfaa9793e93ad623">map::shift</a></div><div class="ttdeci">void shift(const point &amp;s)</div><div class="ttdoc">Shift the map along the vector s.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06621">map.cpp:6621</a></div></div>
<div class="ttc" id="aclassmap_html_a2df948ca418fb89696c818351059ffe2"><div class="ttname"><a href="classmap.html#a2df948ca418fb89696c818351059ffe2">map::set_abs_sub</a></div><div class="ttdeci">void set_abs_sub(const tripoint &amp;p)</div><div class="ttdoc">Sets abs_sub, see there.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08058">map.cpp:8058</a></div></div>
<div class="ttc" id="aclassmap_html_a2e2945f391fc0ed68f1b1192b9caa7cf"><div class="ttname"><a href="classmap.html#a2e2945f391fc0ed68f1b1192b9caa7cf">map::board_vehicle</a></div><div class="ttdeci">void board_vehicle(const tripoint &amp;p, player *pl)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01028">map.cpp:1028</a></div></div>
<div class="ttc" id="aclassmap_html_a2e3300e786112b4ea45a9d3176b5f3b0"><div class="ttname"><a href="classmap.html#a2e3300e786112b4ea45a9d3176b5f3b0">map::is_bashable_ter_furn</a></div><div class="ttdeci">bool is_bashable_ter_furn(const tripoint &amp;p, bool allow_floor=false) const</div><div class="ttdoc">Returns true if the furniture or terrain at p is bashable.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02453">map.cpp:2453</a></div></div>
<div class="ttc" id="aclassmap_html_a2e43e061dcdfc249076b990a7f174c78"><div class="ttname"><a href="classmap.html#a2e43e061dcdfc249076b990a7f174c78">map::is_transparent</a></div><div class="ttdeci">bool is_transparent(const tripoint &amp;p) const</div><div class="ttdoc">Returns whether the tile at p is transparent(you can look past it).</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00624">lightmap.cpp:624</a></div></div>
<div class="ttc" id="aclassmap_html_a2e540ff49324888b2641a7d8484f5376"><div class="ttname"><a href="classmap.html#a2e540ff49324888b2641a7d8484f5376">map::mop_spills</a></div><div class="ttdeci">bool mop_spills(const tripoint &amp;p)</div><div class="ttdoc">Remove moppable fields/items at this location.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02803">map.cpp:2803</a></div></div>
<div class="ttc" id="aclassmap_html_a2e95d7c5f24bc9b383d545532841c011"><div class="ttname"><a href="classmap.html#a2e95d7c5f24bc9b383d545532841c011">map::furn_set</a></div><div class="ttdeci">void furn_set(const point &amp;p, const furn_id &amp;new_furniture)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00841">map.h:841</a></div></div>
<div class="ttc" id="aclassmap_html_a2f5b28af5fac5319da3bab2fca702be6"><div class="ttname"><a href="classmap.html#a2f5b28af5fac5319da3bab2fca702be6">map::apply_light_ray</a></div><div class="ttdeci">void apply_light_ray(bool lit[MAPSIZE_X][MAPSIZE_Y], const tripoint &amp;s, const tripoint &amp;e, float luminance)</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l01534">lightmap.cpp:1534</a></div></div>
<div class="ttc" id="aclassmap_html_a2f68bd10c5c8670061f9da7576d45879"><div class="ttname"><a href="classmap.html#a2f68bd10c5c8670061f9da7576d45879">map::obstacle_coverage</a></div><div class="ttdeci">int obstacle_coverage(const tripoint &amp;loc1, const tripoint &amp;loc2) const</div><div class="ttdoc">Returns coverage of target in relation to the observer.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06203">map.cpp:6203</a></div></div>
<div class="ttc" id="aclassmap_html_a2fae552c350d108d853b12ae7d8e320a"><div class="ttname"><a href="classmap.html#a2fae552c350d108d853b12ae7d8e320a">map::draw_anthill</a></div><div class="ttdeci">void draw_anthill(mapgendata &amp;dat)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l05025">mapgen.cpp:5025</a></div></div>
<div class="ttc" id="aclassmap_html_a2fc6312dfc01453eb271e5688dc0b293"><div class="ttname"><a href="classmap.html#a2fc6312dfc01453eb271e5688dc0b293">map::has_flag_ter_or_furn</a></div><div class="ttdeci">bool has_flag_ter_or_furn(const std::string &amp;flag, const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00965">map.h:965</a></div></div>
<div class="ttc" id="aclassmap_html_a30089f97bb31ba2ca2243c178a4a3c65"><div class="ttname"><a href="classmap.html#a30089f97bb31ba2ca2243c178a4a3c65">map::shoot</a></div><div class="ttdeci">void shoot(const tripoint &amp;p, projectile &amp;proj, bool hit_items)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03718">map.cpp:3718</a></div></div>
<div class="ttc" id="aclassmap_html_a3014d235b1298cadddb4c412d133ae6b"><div class="ttname"><a href="classmap.html#a3014d235b1298cadddb4c412d133ae6b">map::can_put_items_ter_furn</a></div><div class="ttdeci">bool can_put_items_ter_furn(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02318">map.cpp:2318</a></div></div>
<div class="ttc" id="aclassmap_html_a303a4950ef1850ddcc5e8f902418ac82"><div class="ttname"><a href="classmap.html#a303a4950ef1850ddcc5e8f902418ac82">map::use_charges</a></div><div class="ttdeci">std::list&lt; item &gt; use_charges(const tripoint &amp;origin, int range, const itype_id &amp;type, int &amp;quantity, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;, basecamp *bcp=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04934">map.cpp:4934</a></div></div>
<div class="ttc" id="aclassmap_html_a304bbd8ce5c2593668b4da84394577d8"><div class="ttname"><a href="classmap.html#a304bbd8ce5c2593668b4da84394577d8">map::collapse_check</a></div><div class="ttdeci">int collapse_check(const tripoint &amp;p)</div><div class="ttdoc">Checks if a square should collapse, returns the X for the one_in(X) collapse chance.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02858">map.cpp:2858</a></div></div>
<div class="ttc" id="aclassmap_html_a30ccb67ed3651d350f2caf214e0b5176"><div class="ttname"><a href="classmap.html#a30ccb67ed3651d350f2caf214e0b5176">map::tr_at</a></div><div class="ttdeci">const trap &amp; tr_at(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05135">map.cpp:5135</a></div></div>
<div class="ttc" id="aclassmap_html_a30cfefdb115c16c5e1af6cc99f94bbbd"><div class="ttname"><a href="classmap.html#a30cfefdb115c16c5e1af6cc99f94bbbd">map::get_field</a></div><div class="ttdeci">field_entry * get_field(const tripoint &amp;p, const field_type_id &amp;type)</div><div class="ttdoc">Get field of specific type at point.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05383">map.cpp:5383</a></div></div>
<div class="ttc" id="aclassmap_html_a3188771064ca49d4798c6a80bfad0fcd"><div class="ttname"><a href="classmap.html#a3188771064ca49d4798c6a80bfad0fcd">map::valid_move</a></div><div class="ttdeci">bool valid_move(const tripoint &amp;from, const tripoint &amp;to, bool bash=false, bool flying=false, bool via_ramp=false) const</div><div class="ttdoc">Returns true if a creature could walk from from to to in one step.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01872">map.cpp:1872</a></div></div>
<div class="ttc" id="aclassmap_html_a31bd5aca4c99cdaf0e97fd2e8fcad98e"><div class="ttname"><a href="classmap.html#a31bd5aca4c99cdaf0e97fd2e8fcad98e">map::add_light_source</a></div><div class="ttdeci">void add_light_source(const tripoint &amp;p, float luminance)</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00582">lightmap.cpp:582</a></div></div>
<div class="ttc" id="aclassmap_html_a325f948d048578d7ef2479ce20ba3fcd"><div class="ttname"><a href="classmap.html#a325f948d048578d7ef2479ce20ba3fcd">map::traplocs</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; tripoint &gt; &gt; traplocs</div><div class="ttdoc">This vector contains an entry for each trap type, it has therefor the same size as the traplist vecto...</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01971">map.h:1971</a></div></div>
<div class="ttc" id="aclassmap_html_a32a9de57ddea3145ca42e6acfde7f3d6"><div class="ttname"><a href="classmap.html#a32a9de57ddea3145ca42e6acfde7f3d6">map::add_field</a></div><div class="ttdeci">bool add_field(const tripoint &amp;p, const field_type_id &amp;type_id, int intensity=INT_MAX, const time_duration &amp;age=0_turns, bool hit_player=true)</div><div class="ttdoc">Add field entry at point, or set intensity if present.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05406">map.cpp:5406</a></div></div>
<div class="ttc" id="aclassmap_html_a33eacfd2d7cffa2af0f90cbb77ade2f1"><div class="ttname"><a href="classmap.html#a33eacfd2d7cffa2af0f90cbb77ade2f1">map::set_temperature</a></div><div class="ttdeci">void set_temperature(const tripoint &amp;p, int temperature)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04073">map.cpp:4073</a></div></div>
<div class="ttc" id="aclassmap_html_a34187b9eff71461437403611d0d122a7"><div class="ttname"><a href="classmap.html#a34187b9eff71461437403611d0d122a7">map::ranged_target_size</a></div><div class="ttdeci">double ranged_target_size(const tripoint &amp;p) const</div><div class="ttdoc">Size of map objects at p for purposes of ranged combat.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01966">map.cpp:1966</a></div></div>
<div class="ttc" id="aclassmap_html_a34d9c93a1b6f9cee46e13f963f196e46"><div class="ttname"><a href="classmap.html#a34d9c93a1b6f9cee46e13f963f196e46">map::add_item</a></div><div class="ttdeci">void add_item(const point &amp;p, item new_item)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01278">map.h:1278</a></div></div>
<div class="ttc" id="aclassmap_html_a34f983a946812fa51de439bd68f6dc09"><div class="ttname"><a href="classmap.html#a34f983a946812fa51de439bd68f6dc09">map::get_field_intensity</a></div><div class="ttdeci">int get_field_intensity(const tripoint &amp;p, const field_type_id &amp;type) const</div><div class="ttdoc">Get the intensity of a field entry (field_entry::intensity), if there is no field of that type,...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05377">map.cpp:5377</a></div></div>
<div class="ttc" id="aclassmap_html_a354aefad19d6e0086aa6160a1f45bb1d"><div class="ttname"><a href="classmap.html#a354aefad19d6e0086aa6160a1f45bb1d">map::is_bashable_ter</a></div><div class="ttdeci">bool is_bashable_ter(const tripoint &amp;p, bool allow_floor=false) const</div><div class="ttdoc">Returns true if the terrain at p is bashable.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02442">map.cpp:2442</a></div></div>
<div class="ttc" id="aclassmap_html_a369e57962e2c38b17464c405b6d7184b"><div class="ttname"><a href="classmap.html#a369e57962e2c38b17464c405b6d7184b">map::smash_items</a></div><div class="ttdeci">void smash_items(const tripoint &amp;p, int power, const std::string &amp;cause_message, bool do_destroy)</div><div class="ttdoc">Tries to smash the items at the given tripoint.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02992">map.cpp:2992</a></div></div>
<div class="ttc" id="aclassmap_html_a36ab6461add343b1d763945b4a9c9d61"><div class="ttname"><a href="classmap.html#a36ab6461add343b1d763945b4a9c9d61">map::spawn_an_item</a></div><div class="ttdeci">void spawn_an_item(const point &amp;p, item new_item, int charges, int damlevel)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01282">map.h:1282</a></div></div>
<div class="ttc" id="aclassmap_html_a36f4343f19c891a6bbeb32499ff5d9d3"><div class="ttname"><a href="classmap.html#a36f4343f19c891a6bbeb32499ff5d9d3">map::move_cost_ter_furn</a></div><div class="ttdeci">int move_cost_ter_furn(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00624">map.h:624</a></div></div>
<div class="ttc" id="aclassmap_html_a372326780a5cc8eefd08d0cf223164b0"><div class="ttname"><a href="classmap.html#a372326780a5cc8eefd08d0cf223164b0">map::pathfinding_caches</a></div><div class="ttdeci">std::array&lt; std::unique_ptr&lt; pathfinding_cache &gt;, OVERMAP_LAYERS &gt; pathfinding_caches</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01981">map.h:1981</a></div></div>
<div class="ttc" id="aclassmap_html_a37268cf3dfc2a32e85a40c2a7266dfc9"><div class="ttname"><a href="classmap.html#a37268cf3dfc2a32e85a40c2a7266dfc9">map::rotate</a></div><div class="ttdeci">void rotate(int turns, bool setpos_safe=false)</div><div class="ttdoc">Rotates this map, and all of its contents, by the specified multiple of 90 degrees.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l05797">mapgen.cpp:5797</a></div></div>
<div class="ttc" id="aclassmap_html_a373c5fa6237a293b00633c6c84ca452d"><div class="ttname"><a href="classmap.html#a373c5fa6237a293b00633c6c84ca452d">map::reset_vehicle_cache</a></div><div class="ttdeci">void reset_vehicle_cache(int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00249">map.cpp:249</a></div></div>
<div class="ttc" id="aclassmap_html_a3749fea4df26a1261eacecf94a58f199"><div class="ttname"><a href="classmap.html#a3749fea4df26a1261eacecf94a58f199">map::build_seen_cache</a></div><div class="ttdeci">void build_seen_cache(const tripoint &amp;origin, int target_z)</div><div class="ttdoc">Calculates the Field Of View for the provided map from the given x, y coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l01224">lightmap.cpp:1224</a></div></div>
<div class="ttc" id="aclassmap_html_a3779768673ad08004a999b1ac440421c"><div class="ttname"><a href="classmap.html#a3779768673ad08004a999b1ac440421c">map::supports_above</a></div><div class="ttdeci">bool supports_above(const tripoint &amp;p) const</div><div class="ttdoc">Does this tile support vehicles and furniture above it.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02031">map.cpp:2031</a></div></div>
<div class="ttc" id="aclassmap_html_a3900980bbee1853f6230b94736b2e86b"><div class="ttname"><a href="classmap.html#a3900980bbee1853f6230b94736b2e86b">map::detach_vehicle</a></div><div class="ttdeci">std::unique_ptr&lt; vehicle &gt; detach_vehicle(vehicle *veh)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00340">map.cpp:340</a></div></div>
<div class="ttc" id="aclassmap_html_a395a729a4b954692cf08d13e1d32f73e"><div class="ttname"><a href="classmap.html#a395a729a4b954692cf08d13e1d32f73e">map::field_at</a></div><div class="ttdeci">const field &amp; field_at(const tripoint &amp;p) const</div><div class="ttdoc">Get the fields that are here.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05297">map.cpp:5297</a></div></div>
<div class="ttc" id="aclassmap_html_a3a86dcc9866606ffff52cde90dd23ca6"><div class="ttname"><a href="classmap.html#a3a86dcc9866606ffff52cde90dd23ca6">map::grid</a></div><div class="ttdeci">std::vector&lt; submap * &gt; grid</div><div class="ttdoc">The list of currently loaded submaps.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01964">map.h:1964</a></div></div>
<div class="ttc" id="aclassmap_html_a3bc75c8b706a54c1575b4460b2f363b1"><div class="ttname"><a href="classmap.html#a3bc75c8b706a54c1575b4460b2f363b1">map::is_outside</a></div><div class="ttdeci">bool is_outside(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02572">map.cpp:2572</a></div></div>
<div class="ttc" id="aclassmap_html_a3c3e0f60fa466dd9e5726d35653b177b"><div class="ttname"><a href="classmap.html#a3c3e0f60fa466dd9e5726d35653b177b">map::make_rubble</a></div><div class="ttdeci">void make_rubble(const tripoint &amp;p, const furn_id &amp;rubble_type, bool items, const ter_id &amp;floor_type, bool overwrite=false)</div><div class="ttdoc">Generates rubble at the given location, if overwrite is true it just writes on top of what currently ...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02507">map.cpp:2507</a></div></div>
<div class="ttc" id="aclassmap_html_a3d22e002568dbeee5e7366191a337f87"><div class="ttname"><a href="classmap.html#a3d22e002568dbeee5e7366191a337f87">map::set_field_intensity</a></div><div class="ttdeci">int set_field_intensity(const tripoint &amp;p, const field_type_id &amp;type, int new_intensity, bool isoffset=false)</div><div class="ttdoc">Set intensity of field entry at point, creating if not present, removing if intensity becomes 0.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05350">map.cpp:5350</a></div></div>
<div class="ttc" id="aclassmap_html_a3d3299337a809f5b5d4c435a199cd82c"><div class="ttname"><a href="classmap.html#a3d3299337a809f5b5d4c435a199cd82c">map::clear_traps</a></div><div class="ttdeci">void clear_traps()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07561">map.cpp:7561</a></div></div>
<div class="ttc" id="aclassmap_html_a3e525fc14178c776d0261cce3efec2a0"><div class="ttname"><a href="classmap.html#a3e525fc14178c776d0261cce3efec2a0">map::has_floor_or_support</a></div><div class="ttdeci">bool has_floor_or_support(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02050">map.cpp:2050</a></div></div>
<div class="ttc" id="aclassmap_html_a3eae9d2a9abf1a4489aec6b3facf4364"><div class="ttname"><a href="classmap.html#a3eae9d2a9abf1a4489aec6b3facf4364">map::get_abs_sub</a></div><div class="ttdeci">tripoint get_abs_sub() const</div><div class="ttdoc">return abs_sub</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08063">map.cpp:8063</a></div></div>
<div class="ttc" id="aclassmap_html_a3f35a1c31ddcf68790f73c3ad3f9939e"><div class="ttname"><a href="classmap.html#a3f35a1c31ddcf68790f73c3ad3f9939e">map::update_vehicle_cache</a></div><div class="ttdeci">void update_vehicle_cache(vehicle *, int old_zlevel)</div></div>
<div class="ttc" id="aclassmap_html_a3fea339e0cf553409e982fd0fb385d84"><div class="ttname"><a href="classmap.html#a3fea339e0cf553409e982fd0fb385d84">map::water_from</a></div><div class="ttdeci">item water_from(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04379">map.cpp:4379</a></div></div>
<div class="ttc" id="aclassmap_html_a40876da830d622a5ff5ed547bb320e1b"><div class="ttname"><a href="classmap.html#a40876da830d622a5ff5ed547bb320e1b">map::light_at</a></div><div class="ttdeci">lit_level light_at(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00590">lightmap.cpp:590</a></div></div>
<div class="ttc" id="aclassmap_html_a40edb8b25c5e5b18d3a74912356f069a"><div class="ttname"><a href="classmap.html#a40edb8b25c5e5b18d3a74912356f069a">map::has_adjacent_furniture_with</a></div><div class="ttdeci">bool has_adjacent_furniture_with(const tripoint &amp;p, const std::function&lt; bool(const furn_t &amp;)&gt; &amp;filter)</div><div class="ttdoc">Returns true if there is furniture for which filter returns true in a 1 tile radius of p.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02750">map.cpp:2750</a></div></div>
<div class="ttc" id="aclassmap_html_a41fa0e03c8ccfc8fb013a6ab5459d06e"><div class="ttname"><a href="classmap.html#a41fa0e03c8ccfc8fb013a6ab5459d06e">map::access_cache</a></div><div class="ttdeci">level_cache &amp; access_cache(int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08496">map.cpp:8496</a></div></div>
<div class="ttc" id="aclassmap_html_a426c21f7244ff80a61685a89e9146fec"><div class="ttname"><a href="classmap.html#a426c21f7244ff80a61685a89e9146fec">map::getlocal</a></div><div class="ttdeci">tripoint getlocal(const tripoint &amp;p) const</div><div class="ttdoc">Inverse of getabs.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08053">map.cpp:8053</a></div></div>
<div class="ttc" id="aclassmap_html_a42f8b2d41163c6a3261af6bc6613e403"><div class="ttname"><a href="classmap.html#a42f8b2d41163c6a3261af6bc6613e403">map::register_vehicle_zone</a></div><div class="ttdeci">void register_vehicle_zone(vehicle *, int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00936">map.cpp:936</a></div></div>
<div class="ttc" id="aclassmap_html_a43cc89934fb2011b212dc6dcbdb378d0"><div class="ttname"><a href="classmap.html#a43cc89934fb2011b212dc6dcbdb378d0">map::place_gas_pump</a></div><div class="ttdeci">void place_gas_pump(const point &amp;p, int charges, const std::string &amp;fuel_type)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l05439">mapgen.cpp:5439</a></div></div>
<div class="ttc" id="aclassmap_html_a43ecddf9d50f95ecbbfb52fc2bdf55cf"><div class="ttname"><a href="classmap.html#a43ecddf9d50f95ecbbfb52fc2bdf55cf">map::loadn</a></div><div class="ttdeci">void loadn(const point &amp;grid, bool update_vehicles)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01695">map.h:1695</a></div></div>
<div class="ttc" id="aclassmap_html_a4407eecc14fd57c23f00c69065ccb92a"><div class="ttname"><a href="classmap.html#a4407eecc14fd57c23f00c69065ccb92a">map::spawn_monsters</a></div><div class="ttdeci">void spawn_monsters(bool ignore_sight)</div><div class="ttdoc">Spawn monsters from submap spawn points and from the overmap.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07537">map.cpp:7537</a></div></div>
<div class="ttc" id="aclassmap_html_a45fa684aaebe5689e9c9ebdc29868420"><div class="ttname"><a href="classmap.html#a45fa684aaebe5689e9c9ebdc29868420">map::move_cost</a></div><div class="ttdeci">int move_cost(const point &amp;p, const vehicle *ignored_vehicle=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00607">map.h:607</a></div></div>
<div class="ttc" id="aclassmap_html_a4648afd5a1ecdebba3dc5c5068363f8e"><div class="ttname"><a href="classmap.html#a4648afd5a1ecdebba3dc5c5068363f8e">map::spawn_items</a></div><div class="ttdeci">std::vector&lt; item * &gt; spawn_items(const tripoint &amp;p, const std::vector&lt; item &gt; &amp;new_items)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04156">map.cpp:4156</a></div></div>
<div class="ttc" id="aclassmap_html_a46608709f68358365d0734b1063fed73"><div class="ttname"><a href="classmap.html#a46608709f68358365d0734b1063fed73">map::inbounds</a></div><div class="ttdeci">virtual bool inbounds(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07588">map.cpp:7588</a></div></div>
<div class="ttc" id="aclassmap_html_a466c11349ea9c7fc52079c7e407b1744"><div class="ttname"><a href="classmap.html#a466c11349ea9c7fc52079c7e407b1744">map::check_and_set_seen_cache</a></div><div class="ttdeci">bool check_and_set_seen_cache(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00474">map.h:474</a></div></div>
<div class="ttc" id="aclassmap_html_a46a11e492059459bbf26ba0f44ad951a"><div class="ttname"><a href="classmap.html#a46a11e492059459bbf26ba0f44ad951a">map::create_hot_air</a></div><div class="ttdeci">void create_hot_air(const tripoint &amp;p, int intensity)</div><div class="ttdef"><b>Definition:</b> <a href="map__field_8cpp_source.html#l00361">map_field.cpp:361</a></div></div>
<div class="ttc" id="aclassmap_html_a46b6d0943241ddaead39b5eedcc5ef09"><div class="ttname"><a href="classmap.html#a46b6d0943241ddaead39b5eedcc5ef09">map::apply_light_source</a></div><div class="ttdeci">void apply_light_source(const tripoint &amp;p, float luminance)</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l01359">lightmap.cpp:1359</a></div></div>
<div class="ttc" id="aclassmap_html_a47284179cd831f04aaa7ff3242a5fb7b"><div class="ttname"><a href="classmap.html#a47284179cd831f04aaa7ff3242a5fb7b">map::ambient_light_at</a></div><div class="ttdeci">float ambient_light_at(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00615">lightmap.cpp:615</a></div></div>
<div class="ttc" id="aclassmap_html_a4792d0868679ad6deeaf02c8cd3adbd1"><div class="ttname"><a href="classmap.html#a4792d0868679ad6deeaf02c8cd3adbd1">map::create_anomaly</a></div><div class="ttdeci">void create_anomaly(const point &amp;cp, artifact_natural_property prop, bool create_rubble=true)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01363">map.h:1363</a></div></div>
<div class="ttc" id="aclassmap_html_a49630763b899657bfa7c10586df7d360"><div class="ttname"><a href="classmap.html#a49630763b899657bfa7c10586df7d360">map::clear_path</a></div><div class="ttdeci">bool clear_path(const tripoint &amp;f, const tripoint &amp;t, int range, int cost_min, int cost_max) const</div><div class="ttdoc">Check whether there's a direct line of sight between F and T with the additional movecost restraints.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06380">map.cpp:6380</a></div></div>
<div class="ttc" id="aclassmap_html_a49871648d1ab92a02a1a6f12797390a7"><div class="ttname"><a href="classmap.html#a49871648d1ab92a02a1a6f12797390a7">map::get_radiation</a></div><div class="ttdeci">int get_radiation(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04027">map.cpp:4027</a></div></div>
<div class="ttc" id="aclassmap_html_a49d42535b664b5a6e4e8a02e3e773f4d"><div class="ttname"><a href="classmap.html#a49d42535b664b5a6e4e8a02e3e773f4d">map::set_memory_seen_cache_dirty</a></div><div class="ttdeci">void set_memory_seen_cache_dirty(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00451">map.h:451</a></div></div>
<div class="ttc" id="aclassmap_html_a4a55442d672ac6bbf118e30000e1b077"><div class="ttname"><a href="classmap.html#a4a55442d672ac6bbf118e30000e1b077">map::add_corpse</a></div><div class="ttdeci">void add_corpse(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08233">map.cpp:8233</a></div></div>
<div class="ttc" id="aclassmap_html_a4f5f812d7e89a998429958573a4c340f"><div class="ttname"><a href="classmap.html#a4f5f812d7e89a998429958573a4c340f">map::points_in_radius</a></div><div class="ttdeci">tripoint_range&lt; tripoint &gt; points_in_radius(const tripoint &amp;center, size_t radius, size_t radiusz=0) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08396">map.cpp:8396</a></div></div>
<div class="ttc" id="aclassmap_html_a4fe667a3e03d54338bc336108d880f38"><div class="ttname"><a href="classmap.html#a4fe667a3e03d54338bc336108d880f38">map::adjust_radiation</a></div><div class="ttdeci">void adjust_radiation(const point &amp;p, const int delta)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01194">map.h:1194</a></div></div>
<div class="ttc" id="aclassmap_html_a501f3a1d449ac022f1b36b99da653e94"><div class="ttname"><a href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">map::getabs</a></div><div class="ttdeci">tripoint getabs(const tripoint &amp;p) const</div><div class="ttdoc">Translates local (to this map) coordinates of a square to global absolute coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08048">map.cpp:8048</a></div></div>
<div class="ttc" id="aclassmap_html_a5092fd3035d8c40636924d4f3c36f6db"><div class="ttname"><a href="classmap.html#a5092fd3035d8c40636924d4f3c36f6db">map::has_flag_furn</a></div><div class="ttdeci">bool has_flag_furn(const std::string &amp;flag, const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00960">map.h:960</a></div></div>
<div class="ttc" id="aclassmap_html_a50eb3eab7ce0da9ab7bd9287ffda0867"><div class="ttname"><a href="classmap.html#a50eb3eab7ce0da9ab7bd9287ffda0867">map::add_computer</a></div><div class="ttdeci">computer * add_computer(const tripoint &amp;p, const std::string &amp;name, int security)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l05782">mapgen.cpp:5782</a></div></div>
<div class="ttc" id="aclassmap_html_a5107b0cde18d396baac2f29b5a2d7e8f"><div class="ttname"><a href="classmap.html#a5107b0cde18d396baac2f29b5a2d7e8f">map::draw_map</a></div><div class="ttdeci">void draw_map(mapgendata &amp;dat)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l02884">mapgen.cpp:2884</a></div></div>
<div class="ttc" id="aclassmap_html_a5121429b183ff2eb92ef01ab00a7054c"><div class="ttname"><a href="classmap.html#a5121429b183ff2eb92ef01ab00a7054c">map::draw_slimepit</a></div><div class="ttdeci">void draw_slimepit(mapgendata &amp;dat)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l05043">mapgen.cpp:5043</a></div></div>
<div class="ttc" id="aclassmap_html_a5130a127601b67e569eaef37a1a88610"><div class="ttname"><a href="classmap.html#a5130a127601b67e569eaef37a1a88610">map::i_at</a></div><div class="ttdeci">map_stack i_at(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04083">map.cpp:4083</a></div></div>
<div class="ttc" id="aclassmap_html_a51539ec1ea2f6bd5a4de46430ebbb57b"><div class="ttname"><a href="classmap.html#a51539ec1ea2f6bd5a4de46430ebbb57b">map::skew_vision_cache</a></div><div class="ttdeci">lru_cache&lt; point, char &gt; skew_vision_cache</div><div class="ttdoc">Cache of coordinate pairs recently checked for visibility.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01990">map.h:1990</a></div></div>
<div class="ttc" id="aclassmap_html_a516c0764134cc86b57297811520395f7"><div class="ttname"><a href="classmap.html#a516c0764134cc86b57297811520395f7">map::has_flag_ter_or_furn</a></div><div class="ttdeci">bool has_flag_ter_or_furn(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02333">map.cpp:2333</a></div></div>
<div class="ttc" id="aclassmap_html_a51e32639c8df0c90e0743f929bcf2111"><div class="ttname"><a href="classmap.html#a51e32639c8df0c90e0743f929bcf2111">map::tername</a></div><div class="ttdeci">std::string tername(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01720">map.cpp:1720</a></div></div>
<div class="ttc" id="aclassmap_html_a522fd89a4564c34f30ed629a00aa28fe"><div class="ttname"><a href="classmap.html#a522fd89a4564c34f30ed629a00aa28fe">map::add_splatter_trail</a></div><div class="ttdeci">void add_splatter_trail(const field_type_id &amp;type, const tripoint &amp;from, const tripoint &amp;to)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05508">map.cpp:5508</a></div></div>
<div class="ttc" id="aclassmap_html_a52b32f804d34e21991b6faba6d32a7f2"><div class="ttname"><a href="classmap.html#a52b32f804d34e21991b6faba6d32a7f2">map::examine</a></div><div class="ttdeci">void examine(Character &amp;p, const tripoint &amp;pos)</div><div class="ttdoc">Calls the examine function of furniture or terrain at given tile, for given character.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01631">map.cpp:1631</a></div></div>
<div class="ttc" id="aclassmap_html_a535690d28a08b8397a7a002c5c4c74af"><div class="ttname"><a href="classmap.html#a535690d28a08b8397a7a002c5c4c74af">map::spread_gas</a></div><div class="ttdeci">void spread_gas(field_entry &amp;cur, const tripoint &amp;p, int percent_spread, const time_duration &amp;outdoor_age_speedup, scent_block &amp;sblk)</div><div class="ttdef"><b>Definition:</b> <a href="map__field_8cpp_source.html#l00249">map_field.cpp:249</a></div></div>
<div class="ttc" id="aclassmap_html_a53d95390d133477f8b4a1ce76482750b"><div class="ttname"><a href="classmap.html#a53d95390d133477f8b4a1ce76482750b">map::unboard_vehicle</a></div><div class="ttdeci">void unboard_vehicle(const vpart_reference &amp;, Character *passenger, bool dead_passenger=false)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01060">map.cpp:1060</a></div></div>
<div class="ttc" id="aclassmap_html_a5413e71e313df95a11e09d279c5605da"><div class="ttname"><a href="classmap.html#a5413e71e313df95a11e09d279c5605da">map::abs_sub</a></div><div class="ttdeci">tripoint abs_sub</div><div class="ttdoc">Absolute coordinates of first submap (get_submap_at(0,0)) This is in submap coordinates (see overmapb...</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01807">map.h:1807</a></div></div>
<div class="ttc" id="aclassmap_html_a5579e13088b4ccd9c5a75458919d528a"><div class="ttname"><a href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">map::add_item_or_charges</a></div><div class="ttdeci">item &amp; add_item_or_charges(const tripoint &amp;pos, item obj, bool overflow=true)</div><div class="ttdoc">Adds an item to map tile or stacks charges.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04228">map.cpp:4228</a></div></div>
<div class="ttc" id="aclassmap_html_a565f43799a9bfc1294be5e58ffd633e3"><div class="ttname"><a href="classmap.html#a565f43799a9bfc1294be5e58ffd633e3">map::build_obstacle_cache</a></div><div class="ttdeci">void build_obstacle_cache(const tripoint &amp;start, const tripoint &amp;end, float(&amp;obstacle_cache)[MAPSIZE_X][MAPSIZE_Y])</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07780">map.cpp:7780</a></div></div>
<div class="ttc" id="aclassmap_html_a5690822d7d509cd4dc51ff92064353fe"><div class="ttname"><a href="classmap.html#a5690822d7d509cd4dc51ff92064353fe">map::rotten_item_spawn</a></div><div class="ttdeci">void rotten_item_spawn(const item &amp;item, const tripoint &amp;p)</div><div class="ttdoc">Checks to see if the item that is rotting away generates a creature when it does.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06935">map.cpp:6935</a></div></div>
<div class="ttc" id="aclassmap_html_a5741cc08c79673119a9ec251a6253644"><div class="ttname"><a href="classmap.html#a5741cc08c79673119a9ec251a6253644">map::light_transparency</a></div><div class="ttdeci">float light_transparency(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00629">lightmap.cpp:629</a></div></div>
<div class="ttc" id="aclassmap_html_a574a8aa376ea529e51b058ca083a81d2"><div class="ttname"><a href="classmap.html#a574a8aa376ea529e51b058ca083a81d2">map::is_cornerfloor</a></div><div class="ttdeci">bool is_cornerfloor(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08679">map.cpp:8679</a></div></div>
<div class="ttc" id="aclassmap_html_a57d621c74b96f1550b18bf528e4e5282"><div class="ttname"><a href="classmap.html#a57d621c74b96f1550b18bf528e4e5282">map::get_nonant</a></div><div class="ttdeci">size_t get_nonant(const point &amp;gridp) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01853">map.h:1853</a></div></div>
<div class="ttc" id="aclassmap_html_a58834e89550b62525b97d43f728c5f70"><div class="ttname"><a href="classmap.html#a58834e89550b62525b97d43f728c5f70">map::drop_items</a></div><div class="ttdeci">void drop_items(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02214">map.cpp:2214</a></div></div>
<div class="ttc" id="aclassmap_html_a588ac7e135c9e5a472c374808f88a741"><div class="ttname"><a href="classmap.html#a588ac7e135c9e5a472c374808f88a741">map::calc_max_populated_zlev</a></div><div class="ttdeci">int calc_max_populated_zlev()</div><div class="ttdoc">Caclulate the greatest populated zlevel in the loaded submaps and save in the level cache.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08711">map.cpp:8711</a></div></div>
<div class="ttc" id="aclassmap_html_a598ecce13c7f2d3720ce852ee7246d63"><div class="ttname"><a href="classmap.html#a598ecce13c7f2d3720ce852ee7246d63">map::remove_submap_camp</a></div><div class="ttdeci">void remove_submap_camp(const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05566">map.cpp:5566</a></div></div>
<div class="ttc" id="aclassmap_html_a5aed3d4e04f4571603bb532f95f08f47"><div class="ttname"><a href="classmap.html#a5aed3d4e04f4571603bb532f95f08f47">map::free_volume</a></div><div class="ttdeci">units::volume free_volume(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04223">map.cpp:4223</a></div></div>
<div class="ttc" id="aclassmap_html_a5b4cb710817289a4be3db97bd0714daa"><div class="ttname"><a href="classmap.html#a5b4cb710817289a4be3db97bd0714daa">map::process_items_in_vehicle</a></div><div class="ttdeci">void process_items_in_vehicle(vehicle &amp;cur_veh, submap &amp;current_submap)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04677">map.cpp:4677</a></div></div>
<div class="ttc" id="aclassmap_html_a5b666218957f159f8af59e98644c7183"><div class="ttname"><a href="classmap.html#a5b666218957f159f8af59e98644c7183">map::sees_some_items</a></div><div class="ttdeci">bool sees_some_items(const tripoint &amp;p, const Creature &amp;who) const</div><div class="ttdoc">Check if creature can see some items at p.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04754">map.cpp:4754</a></div></div>
<div class="ttc" id="aclassmap_html_a5c968c93ff5170d9901823f7b25bb557"><div class="ttname"><a href="classmap.html#a5c968c93ff5170d9901823f7b25bb557">map::get_signage</a></div><div class="ttdeci">std::string get_signage(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03993">map.cpp:3993</a></div></div>
<div class="ttc" id="aclassmap_html_a5ccfdc04bdc6f516d836502579aeac89"><div class="ttname"><a href="classmap.html#a5ccfdc04bdc6f516d836502579aeac89">map::has_graffiti_at</a></div><div class="ttdeci">bool has_graffiti_at(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07665">map.cpp:7665</a></div></div>
<div class="ttc" id="aclassmap_html_a5d33742e90766904990440df9f0cceab"><div class="ttname"><a href="classmap.html#a5d33742e90766904990440df9f0cceab">map::set_pathfinding_cache_dirty</a></div><div class="ttdeci">void set_pathfinding_cache_dirty(int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08549">map.cpp:8549</a></div></div>
<div class="ttc" id="aclassmap_html_a5d64e11c1e8810efcdd4a19cb91ecbf5"><div class="ttname"><a href="classmap.html#a5d64e11c1e8810efcdd4a19cb91ecbf5">map::vehmove</a></div><div class="ttdeci">void vehmove()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00398">map.cpp:398</a></div></div>
<div class="ttc" id="aclassmap_html_a5e5055e48a79647a051c6f1b845fc25a"><div class="ttname"><a href="classmap.html#a5e5055e48a79647a051c6f1b845fc25a">map::find_furnitures_with_flag_in_radius</a></div><div class="ttdeci">std::list&lt; tripoint &gt; find_furnitures_with_flag_in_radius(const tripoint &amp;center, size_t radius, const std::string &amp;flag, size_t radiusz=0)</div><div class="ttdoc">returns positions of furnitures with matching flag in the specified radius</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08468">map.cpp:8468</a></div></div>
<div class="ttc" id="aclassmap_html_a5fdaa85d36d4c8b742ea050d4c07a7b3"><div class="ttname"><a href="classmap.html#a5fdaa85d36d4c8b742ea050d4c07a7b3">map::clear_vehicle_point_from_cache</a></div><div class="ttdeci">void clear_vehicle_point_from_cache(vehicle *veh, const tripoint &amp;pt)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00285">map.cpp:285</a></div></div>
<div class="ttc" id="aclassmap_html_a6099760d86eb5c4cceceaddbc1c75d39"><div class="ttname"><a href="classmap.html#a6099760d86eb5c4cceceaddbc1c75d39">map::draw_line_furn</a></div><div class="ttdeci">void draw_line_furn(const furn_id &amp;type, const point &amp;p1, const point &amp;p2)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08134">map.cpp:8134</a></div></div>
<div class="ttc" id="aclassmap_html_a60ab42ebcbc9e2a6586b5c67682cea24"><div class="ttname"><a href="classmap.html#a60ab42ebcbc9e2a6586b5c67682cea24">map::set</a></div><div class="ttdeci">void set(const point &amp;p, const ter_id &amp;new_terrain, const furn_id &amp;new_furniture)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00810">map.h:810</a></div></div>
<div class="ttc" id="aclassmap_html_a61c8a24a2bbd44540d799602f0c49c7e"><div class="ttname"><a href="classmap.html#a61c8a24a2bbd44540d799602f0c49c7e">map::is_bashable_furn</a></div><div class="ttdeci">bool is_bashable_furn(const tripoint &amp;p) const</div><div class="ttdoc">Returns true if the furniture at p is bashable.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02448">map.cpp:2448</a></div></div>
<div class="ttc" id="aclassmap_html_a61d83c54adde6e54f8abf5a2b6834ea1"><div class="ttname"><a href="classmap.html#a61d83c54adde6e54f8abf5a2b6834ea1">map::points_on_zlevel</a></div><div class="ttdeci">tripoint_range&lt; tripoint &gt; points_on_zlevel() const</div><div class="ttdoc">Yields a range of all points that are contained in the map and have the z-level of this map (abs_sub)...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08417">map.cpp:8417</a></div></div>
<div class="ttc" id="aclassmap_html_a61ecf6d11fc073394bb2ecdeed1b00fa"><div class="ttname"><a href="classmap.html#a61ecf6d11fc073394bb2ecdeed1b00fa">map::bash_strength</a></div><div class="ttdeci">int bash_strength(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01013">map.h:1013</a></div></div>
<div class="ttc" id="aclassmap_html_a63126c9363a61961a6cad379492b47b6"><div class="ttname"><a href="classmap.html#a63126c9363a61961a6cad379492b47b6">map::apply_directional_light</a></div><div class="ttdeci">void apply_directional_light(const tripoint &amp;p, int direction, float luminance)</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l01439">lightmap.cpp:1439</a></div></div>
<div class="ttc" id="aclassmap_html_a632c3745cfe78bec4f22a0c7bc110b89"><div class="ttname"><a href="classmap.html#a632c3745cfe78bec4f22a0c7bc110b89">map::could_see_items</a></div><div class="ttdeci">bool could_see_items(const tripoint &amp;p, const Creature &amp;who) const</div><div class="ttdoc">Check if the creature could see items at p if there were any items.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04765">map.cpp:4765</a></div></div>
<div class="ttc" id="aclassmap_html_a64c0e02c7c79eb42879665a3e8b75999"><div class="ttname"><a href="classmap.html#a64c0e02c7c79eb42879665a3e8b75999">map::disp_name</a></div><div class="ttdeci">std::string disp_name(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01341">map.cpp:1341</a></div></div>
<div class="ttc" id="aclassmap_html_a64d3ea19afd7a9c65f072dd65fb15405"><div class="ttname"><a href="classmap.html#a64d3ea19afd7a9c65f072dd65fb15405">map::add_item</a></div><div class="ttdeci">item &amp; add_item(const tripoint &amp;p, item new_item)</div><div class="ttdoc">Place an item on the map, despite the parameter name, this is not necessarily a new item.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04328">map.cpp:4328</a></div></div>
<div class="ttc" id="aclassmap_html_a65518f97b7a638265b96536605792662"><div class="ttname"><a href="classmap.html#a65518f97b7a638265b96536605792662">map::can_put_items</a></div><div class="ttdeci">bool can_put_items(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00945">map.h:945</a></div></div>
<div class="ttc" id="aclassmap_html_a65a8e439cefab21daed19bb917edc989"><div class="ttname"><a href="classmap.html#a65a8e439cefab21daed19bb917edc989">map::build_sunlight_cache</a></div><div class="ttdeci">void build_sunlight_cache(int pzlev)</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00218">lightmap.cpp:218</a></div></div>
<div class="ttc" id="aclassmap_html_a6661848d660b8e3f85425173b3970189"><div class="ttname"><a href="classmap.html#a6661848d660b8e3f85425173b3970189">map::setsubmap</a></div><div class="ttdeci">void setsubmap(size_t grididx, submap *smap)</div><div class="ttdoc">Set the submap pointer in grid at the give index.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08077">map.cpp:8077</a></div></div>
<div class="ttc" id="aclassmap_html_a670590e1c5a25d81f56def7c89dbde95"><div class="ttname"><a href="classmap.html#a670590e1c5a25d81f56def7c89dbde95">map::is_bashable</a></div><div class="ttdeci">bool is_bashable(const tripoint &amp;p, bool allow_floor=false) const</div><div class="ttdoc">Returns true if there is a bashable vehicle part or the furn/terrain is bashable at p.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02423">map.cpp:2423</a></div></div>
<div class="ttc" id="aclassmap_html_a685323dd8a093f19ec646334e312c02d"><div class="ttname"><a href="classmap.html#a685323dd8a093f19ec646334e312c02d">map::spawn_items</a></div><div class="ttdeci">void spawn_items(const point &amp;p, const std::vector&lt; item &gt; &amp;new_items)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01358">map.h:1358</a></div></div>
<div class="ttc" id="aclassmap_html_a68add3c10cb6f193d09612a726c35bef"><div class="ttname"><a href="classmap.html#a68add3c10cb6f193d09612a726c35bef">map::set_transparency_cache_dirty</a></div><div class="ttdeci">void set_transparency_cache_dirty(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00402">map.h:402</a></div></div>
<div class="ttc" id="aclassmap_html_a68b51d9820bb941312ffa9d7757e31bc"><div class="ttname"><a href="classmap.html#a68b51d9820bb941312ffa9d7757e31bc">map::player_in_field</a></div><div class="ttdeci">void player_in_field(player &amp;u)</div><div class="ttdef"><b>Definition:</b> <a href="map__field_8cpp_source.html#l01220">map_field.cpp:1220</a></div></div>
<div class="ttc" id="aclassmap_html_a68f688f84a55aec9b816e3a764e16049"><div class="ttname"><a href="classmap.html#a68f688f84a55aec9b816e3a764e16049">map::draw_lab</a></div><div class="ttdeci">void draw_lab(mapgendata &amp;dat)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l03515">mapgen.cpp:3515</a></div></div>
<div class="ttc" id="aclassmap_html_a6af11441d8c42d42d1925930a6e2b663"><div class="ttname"><a href="classmap.html#a6af11441d8c42d42d1925930a6e2b663">map::batter</a></div><div class="ttdeci">void batter(const tripoint &amp;p, int power, int tries=1, bool silent=false)</div><div class="ttdoc">bash a square for a set number of times at set power.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03657">map.cpp:3657</a></div></div>
<div class="ttc" id="aclassmap_html_a6b4a1306861221ee22ba193a884ef606"><div class="ttname"><a href="classmap.html#a6b4a1306861221ee22ba193a884ef606">map::route</a></div><div class="ttdeci">std::vector&lt; tripoint &gt; route(const tripoint &amp;f, const tripoint &amp;t, const pathfinding_settings &amp;settings, const std::set&lt; tripoint &gt; &amp;pre_closed={{ }}) const</div><div class="ttdoc">Calculate the best path using A*.</div><div class="ttdef"><b>Definition:</b> <a href="pathfinding_8cpp_source.html#l00194">pathfinding.cpp:194</a></div></div>
<div class="ttc" id="aclassmap_html_a6b843366d933d4890f8b45624f3e1dd9"><div class="ttname"><a href="classmap.html#a6b843366d933d4890f8b45624f3e1dd9">map::draw_square_ter</a></div><div class="ttdeci">void draw_square_ter(const ter_id &amp;type, const point &amp;p1, const point &amp;p2)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08168">map.cpp:8168</a></div></div>
<div class="ttc" id="aclassmap_html_a6bc669c8915ae41469ef8f0b5e925c3e"><div class="ttname"><a href="classmap.html#a6bc669c8915ae41469ef8f0b5e925c3e">map::save</a></div><div class="ttdeci">void save()</div><div class="ttdoc">Add currently loaded submaps (in grid) to the mapbuffer.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06499">map.cpp:6499</a></div></div>
<div class="ttc" id="aclassmap_html_a6c9fdb474119bafd75efa7c12e0bec1a"><div class="ttname"><a href="classmap.html#a6c9fdb474119bafd75efa7c12e0bec1a">map::bash_rating</a></div><div class="ttdeci">int bash_rating(int str, const tripoint &amp;p, bool allow_floor=false) const</div><div class="ttdoc">Returns a success rating from -1 to 10 for a given tile based on a set strength, used for AI movement...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02486">map.cpp:2486</a></div></div>
<div class="ttc" id="aclassmap_html_a6dadf7b3339f08dfc0441f16e28df3c1"><div class="ttname"><a href="classmap.html#a6dadf7b3339f08dfc0441f16e28df3c1">map::bash_rating</a></div><div class="ttdeci">int bash_rating(const int str, const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01024">map.h:1024</a></div></div>
<div class="ttc" id="aclassmap_html_a6de7bd08f979537c8dcda8ebdc7e6d1e"><div class="ttname"><a href="classmap.html#a6de7bd08f979537c8dcda8ebdc7e6d1e">map::clip_to_bounds</a></div><div class="ttdeci">void clip_to_bounds(tripoint &amp;p) const</div><div class="ttdoc">Clips the coordinates of p to fit the map bounds.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08649">map.cpp:8649</a></div></div>
<div class="ttc" id="aclassmap_html_a6e8b67afc4a7ea73f70fa3f7e48a6a67"><div class="ttname"><a href="classmap.html#a6e8b67afc4a7ea73f70fa3f7e48a6a67">map::create_anomaly</a></div><div class="ttdeci">void create_anomaly(const tripoint &amp;p, artifact_natural_property prop, bool create_rubble=true)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l06319">mapgen.cpp:6319</a></div></div>
<div class="ttc" id="aclassmap_html_a6f35d18d363dc61df1e8d4fdb0e99426"><div class="ttname"><a href="classmap.html#a6f35d18d363dc61df1e8d4fdb0e99426">map::i_rem</a></div><div class="ttdeci">map_stack::iterator i_rem(const point &amp;location, map_stack::const_iterator it)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01223">map.h:1223</a></div></div>
<div class="ttc" id="aclassmap_html_a704806392ba72fd727d1d99a0d1b7290"><div class="ttname"><a href="classmap.html#a704806392ba72fd727d1d99a0d1b7290">map::is_last_ter_wall</a></div><div class="ttdeci">bool is_last_ter_wall(bool no_furn, const point &amp;p, const point &amp;max, direction dir) const</div><div class="ttdoc">Check if the last terrain is wall in direction NORTH, SOUTH, WEST or EAST.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02582">map.cpp:2582</a></div></div>
<div class="ttc" id="aclassmap_html_a715903684f1484a8e08cc2e9e0a203f7"><div class="ttname"><a href="classmap.html#a715903684f1484a8e08cc2e9e0a203f7">map::has_flag_ter</a></div><div class="ttdeci">bool has_flag_ter(const std::string &amp;flag, const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00955">map.h:955</a></div></div>
<div class="ttc" id="aclassmap_html_a72084339cb56113209490d729076da24"><div class="ttname"><a href="classmap.html#a72084339cb56113209490d729076da24">map::bash_resistance</a></div><div class="ttdeci">int bash_resistance(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01018">map.h:1018</a></div></div>
<div class="ttc" id="aclassmap_html_a728d97469f08da32ae2108d30d2a51ca"><div class="ttname"><a href="classmap.html#a728d97469f08da32ae2108d30d2a51ca">map::combined_movecost</a></div><div class="ttdeci">int combined_movecost(const tripoint &amp;from, const tripoint &amp;to, const vehicle *ignored_vehicle=nullptr, int modifier=0, bool flying=false, bool via_ramp=false) const</div><div class="ttdoc">Cost to move out of one tile and into the next.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01849">map.cpp:1849</a></div></div>
<div class="ttc" id="aclassmap_html_a73d32ad291fdd6bc72b76765eaf26a00"><div class="ttname"><a href="classmap.html#a73d32ad291fdd6bc72b76765eaf26a00">map::has_flag</a></div><div class="ttdeci">bool has_flag(ter_bitflags flag, const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00971">map.h:971</a></div></div>
<div class="ttc" id="aclassmap_html_a73ef839e31b07dcdccedb77368cd92ea"><div class="ttname"><a href="classmap.html#a73ef839e31b07dcdccedb77368cd92ea">map::bash_rating_internal</a></div><div class="ttdeci">int bash_rating_internal(int str, const furn_t &amp;furniture, const ter_t &amp;terrain, bool allow_floor, const vehicle *veh, int part) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02378">map.cpp:2378</a></div></div>
<div class="ttc" id="aclassmap_html_a756c0c0b5bef35566e82a8caa22379fc"><div class="ttname"><a href="classmap.html#a756c0c0b5bef35566e82a8caa22379fc">map::operator=</a></div><div class="ttdeci">map &amp; operator=(map &amp;&amp;)</div></div>
<div class="ttc" id="aclassmap_html_a75a40ba325d4b3764befa9e60edd6ddf"><div class="ttname"><a href="classmap.html#a75a40ba325d4b3764befa9e60edd6ddf">map::creature_on_trap</a></div><div class="ttdeci">void creature_on_trap(Creature &amp;critter, bool may_avoid=true)</div><div class="ttdoc">Apply trap effects to the creature, similar to creature_in_field.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08259">map.cpp:8259</a></div></div>
<div class="ttc" id="aclassmap_html_a75c60b0b73d8b492df608a2a4b824784"><div class="ttname"><a href="classmap.html#a75c60b0b73d8b492df608a2a4b824784">map::ter_set</a></div><div class="ttdeci">bool ter_set(const tripoint &amp;p, const ter_id &amp;new_terrain)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01650">map.cpp:1650</a></div></div>
<div class="ttc" id="aclassmap_html_a780bfbdc19649391081c1ad6e0e4aa81"><div class="ttname"><a href="classmap.html#a780bfbdc19649391081c1ad6e0e4aa81">map::creature_in_field</a></div><div class="ttdeci">void creature_in_field(Creature &amp;critter)</div><div class="ttdoc">Apply field effects to the creature when it's on a square with fields.</div><div class="ttdef"><b>Definition:</b> <a href="map__field_8cpp_source.html#l01559">map_field.cpp:1559</a></div></div>
<div class="ttc" id="aclassmap_html_a78a575384ef025ebc3bc5f29bdfb0bb1"><div class="ttname"><a href="classmap.html#a78a575384ef025ebc3bc5f29bdfb0bb1">map::add_splatter</a></div><div class="ttdeci">void add_splatter(const field_type_id &amp;type, const tripoint &amp;where, int intensity=1)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05489">map.cpp:5489</a></div></div>
<div class="ttc" id="aclassmap_html_a7997e4febecb36a59b48b06649dc9173"><div class="ttname"><a href="classmap.html#a7997e4febecb36a59b48b06649dc9173">map::my_MAPSIZE</a></div><div class="ttdeci">int my_MAPSIZE</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01796">map.h:1796</a></div></div>
<div class="ttc" id="aclassmap_html_a7b67ca636381af314cab48ac8cfd4ef9"><div class="ttname"><a href="classmap.html#a7b67ca636381af314cab48ac8cfd4ef9">map::spawn_monsters_submap</a></div><div class="ttdeci">void spawn_monsters_submap(const tripoint &amp;gp, bool ignore_sight)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07482">map.cpp:7482</a></div></div>
<div class="ttc" id="aclassmap_html_a7b85e137b5fe6ffc47e51769a3e472bb"><div class="ttname"><a href="classmap.html#a7b85e137b5fe6ffc47e51769a3e472bb">map::draw_fill_background</a></div><div class="ttdeci">void draw_fill_background(const ter_id &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08141">map.cpp:8141</a></div></div>
<div class="ttc" id="aclassmap_html_a7c30a301c4ca99469f7319e975f53204"><div class="ttname"><a href="classmap.html#a7c30a301c4ca99469f7319e975f53204">map::add_roofs</a></div><div class="ttdeci">void add_roofs(const tripoint &amp;grid)</div><div class="ttdoc">Hacks in missing roofs.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07292">map.cpp:7292</a></div></div>
<div class="ttc" id="aclassmap_html_a7cb97c4cba30ae940b9fb0041102c283"><div class="ttname"><a href="classmap.html#a7cb97c4cba30ae940b9fb0041102c283">map::dangerous_field_at</a></div><div class="ttdeci">bool dangerous_field_at(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05395">map.cpp:5395</a></div></div>
<div class="ttc" id="aclassmap_html_a7d1cc370ba431f44145769485a32dbad"><div class="ttname"><a href="classmap.html#a7d1cc370ba431f44145769485a32dbad">map::support_dirty</a></div><div class="ttdeci">void support_dirty(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02278">map.cpp:2278</a></div></div>
<div class="ttc" id="aclassmap_html_a7d9d84e3b573eec7c387f60e8208d0d1"><div class="ttname"><a href="classmap.html#a7d9d84e3b573eec7c387f60e8208d0d1">map::field_furn_locs</a></div><div class="ttdeci">std::vector&lt; tripoint &gt; field_furn_locs</div><div class="ttdoc">Vector of tripoints containing active field-emitting furniture.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01975">map.h:1975</a></div></div>
<div class="ttc" id="aclassmap_html_a7da4f8b25fe152094dd4fc009b22a4a2"><div class="ttname"><a href="classmap.html#a7da4f8b25fe152094dd4fc009b22a4a2">map::getabs</a></div><div class="ttdeci">point getabs(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01630">map.h:1630</a></div></div>
<div class="ttc" id="aclassmap_html_a7f8bbcf57854207039f62609c3f58f23"><div class="ttname"><a href="classmap.html#a7f8bbcf57854207039f62609c3f58f23">map::clear_vehicle_list</a></div><div class="ttdeci">void clear_vehicle_list(int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00317">map.cpp:317</a></div></div>
<div class="ttc" id="aclassmap_html_a802cc11379d4be61f4e2b13a50f6390e"><div class="ttname"><a href="classmap.html#a802cc11379d4be61f4e2b13a50f6390e">map::impassable</a></div><div class="ttdeci">bool impassable(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01806">map.cpp:1806</a></div></div>
<div class="ttc" id="aclassmap_html_a8121dd3c233f1f3ac5044b758c925042"><div class="ttname"><a href="classmap.html#a8121dd3c233f1f3ac5044b758c925042">map::is_divable</a></div><div class="ttdeci">bool is_divable(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01051">map.h:1051</a></div></div>
<div class="ttc" id="aclassmap_html_a812772b8c5553003e6f5a2b7963da114"><div class="ttname"><a href="classmap.html#a812772b8c5553003e6f5a2b7963da114">map::mod_field_age</a></div><div class="ttdeci">time_duration mod_field_age(const tripoint &amp;p, const field_type_id &amp;type, const time_duration &amp;offset)</div><div class="ttdoc">Increment/decrement age of field entry at point.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05326">map.cpp:5326</a></div></div>
<div class="ttc" id="aclassmap_html_a815ea08e464d32c516dcc9f3af9d8e2e"><div class="ttname"><a href="classmap.html#a815ea08e464d32c516dcc9f3af9d8e2e">map::hit_with_fire</a></div><div class="ttdeci">bool hit_with_fire(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03860">map.cpp:3860</a></div></div>
<div class="ttc" id="aclassmap_html_a81afa05c125ced74e6d63ac7d30ccce6"><div class="ttname"><a href="classmap.html#a81afa05c125ced74e6d63ac7d30ccce6">map::draw_circle_ter</a></div><div class="ttdeci">void draw_circle_ter(const ter_id &amp;type, const rl_vec2d &amp;p, double rad)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08212">map.cpp:8212</a></div></div>
<div class="ttc" id="aclassmap_html_a82534d8752a0be6bbb000928d1f1978b"><div class="ttname"><a href="classmap.html#a82534d8752a0be6bbb000928d1f1978b">map::impassable_ter_furn</a></div><div class="ttdeci">bool impassable_ter_furn(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01839">map.cpp:1839</a></div></div>
<div class="ttc" id="aclassmap_html_a82d7a5589bd9721ab26892949de82ac6"><div class="ttname"><a href="classmap.html#a82d7a5589bd9721ab26892949de82ac6">map::furnname</a></div><div class="ttdeci">std::string furnname(const point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00845">map.h:845</a></div></div>
<div class="ttc" id="aclassmap_html_a82e5c795f37fb4e7346577af53a4a4e6"><div class="ttname"><a href="classmap.html#a82e5c795f37fb4e7346577af53a4a4e6">map::move_cost_internal</a></div><div class="ttdeci">int move_cost_internal(const furn_t &amp;furniture, const ter_t &amp;terrain, const vehicle *veh, int vpart) const</div><div class="ttdoc">Internal versions of public functions to avoid checking same variables multiple times.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01754">map.cpp:1754</a></div></div>
<div class="ttc" id="aclassmap_html_a83c94946ab7ab1e15a85c53a5a86ba38"><div class="ttname"><a href="classmap.html#a83c94946ab7ab1e15a85c53a5a86ba38">map::tername</a></div><div class="ttdeci">std::string tername(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00882">map.h:882</a></div></div>
<div class="ttc" id="aclassmap_html_a86c093ba6fe7847f45345ab7ad5eb032"><div class="ttname"><a href="classmap.html#a86c093ba6fe7847f45345ab7ad5eb032">map::features</a></div><div class="ttdeci">std::string features(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01725">map.cpp:1725</a></div></div>
<div class="ttc" id="aclassmap_html_a87a151868377cb4b2843de06991c97da"><div class="ttname"><a href="classmap.html#a87a151868377cb4b2843de06991c97da">map::zlevels</a></div><div class="ttdeci">bool zlevels</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01797">map.h:1797</a></div></div>
<div class="ttc" id="aclassmap_html_a87b7a3bab2c88e7779008341bf75502f"><div class="ttname"><a href="classmap.html#a87b7a3bab2c88e7779008341bf75502f">map::is_flammable</a></div><div class="ttdeci">bool is_flammable(const tripoint &amp;p)</div><div class="ttdoc">Returns true if there is a flammable item or field or the furn/terrain is flammable at p.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02651">map.cpp:2651</a></div></div>
<div class="ttc" id="aclassmap_html_a87e33ddabbfca693421039886d5fc4fd"><div class="ttname"><a href="classmap.html#a87e33ddabbfca693421039886d5fc4fd">map::draw_line_ter</a></div><div class="ttdeci">void draw_line_ter(const ter_id &amp;type, const point &amp;p1, const point &amp;p2)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08127">map.cpp:8127</a></div></div>
<div class="ttc" id="aclassmap_html_a88e7b774d854a4e04c5712d45def9237"><div class="ttname"><a href="classmap.html#a88e7b774d854a4e04c5712d45def9237">map::translate_radius</a></div><div class="ttdeci">void translate_radius(const ter_id &amp;from, const ter_id &amp;to, float radi, const tripoint &amp;p, bool same_submap=false, bool toggle_between=false)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03942">map.cpp:3942</a></div></div>
<div class="ttc" id="aclassmap_html_a89da249cc934c0d0cae7d099e603c080"><div class="ttname"><a href="classmap.html#a89da249cc934c0d0cae7d099e603c080">map::build_transparency_cache</a></div><div class="ttdeci">bool build_transparency_cache(int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00081">lightmap.cpp:81</a></div></div>
<div class="ttc" id="aclassmap_html_a8a6e17bf2b027fe957361bb7c5d857ce"><div class="ttname"><a href="classmap.html#a8a6e17bf2b027fe957361bb7c5d857ce">map::check_vehicle_zones</a></div><div class="ttdeci">bool check_vehicle_zones(int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00908">map.cpp:908</a></div></div>
<div class="ttc" id="aclassmap_html_a8a94a0d6ee64a54e71a7d3b4d2344d85"><div class="ttname"><a href="classmap.html#a8a94a0d6ee64a54e71a7d3b4d2344d85">map::collapse_at</a></div><div class="ttdeci">void collapse_at(const tripoint &amp;p, bool silent, bool was_supporting=false, bool destroy_pos=true)</div><div class="ttdoc">Causes a collapse at p, such as from destroying a wall.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02907">map.cpp:2907</a></div></div>
<div class="ttc" id="aclassmap_html_a8d67cd8fe3f142bae77fbd0eb81106d5"><div class="ttname"><a href="classmap.html#a8d67cd8fe3f142bae77fbd0eb81106d5">map::spawn_an_item</a></div><div class="ttdeci">item &amp; spawn_an_item(const tripoint &amp;p, item new_item, int charges, int damlevel)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04138">map.cpp:4138</a></div></div>
<div class="ttc" id="aclassmap_html_a8e0d5676be3d8701b5fadf5201f0f816"><div class="ttname"><a href="classmap.html#a8e0d5676be3d8701b5fadf5201f0f816">map::drop_vehicle</a></div><div class="ttdeci">void drop_vehicle(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02244">map.cpp:2244</a></div></div>
<div class="ttc" id="aclassmap_html_a8f928a118aa01688ea55482dcefc3dde"><div class="ttname"><a href="classmap.html#a8f928a118aa01688ea55482dcefc3dde">map::monster_in_field</a></div><div class="ttdeci">void monster_in_field(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="map__field_8cpp_source.html#l01628">map_field.cpp:1628</a></div></div>
<div class="ttc" id="aclassmap_html_a8fc80d514c364e8ecc449c8f4123ab4d"><div class="ttname"><a href="classmap.html#a8fc80d514c364e8ecc449c8f4123ab4d">map::draw_maptile</a></div><div class="ttdeci">bool draw_maptile(const catacurses::window &amp;w, const tripoint &amp;p, const maptile &amp;tile, const drawsq_params &amp;params) const</div><div class="ttdoc">Internal version of the drawsq.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05855">map.cpp:5855</a></div></div>
<div class="ttc" id="aclassmap_html_a9139499b2decb34f2f9eca240513ec3b"><div class="ttname"><a href="classmap.html#a9139499b2decb34f2f9eca240513ec3b">map::can_put_items_ter_furn</a></div><div class="ttdeci">bool can_put_items_ter_furn(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00950">map.h:950</a></div></div>
<div class="ttc" id="aclassmap_html_a914c546c1b7a389738e90d8c652af2b8"><div class="ttname"><a href="classmap.html#a914c546c1b7a389738e90d8c652af2b8">map::place_spawns</a></div><div class="ttdeci">void place_spawns(const mongroup_id &amp;group, int chance, const point &amp;p1, const point &amp;p2, float density, bool individual=false, bool friendly=false, const std::string &amp;name=&quot;NONE&quot;, int mission_id=-1)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l05389">mapgen.cpp:5389</a></div></div>
<div class="ttc" id="aclassmap_html_a915a3dcfc0e32e5b0612bd78e8d79243"><div class="ttname"><a href="classmap.html#a915a3dcfc0e32e5b0612bd78e8d79243">map::determine_wall_corner</a></div><div class="ttdeci">int determine_wall_corner(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07675">map.cpp:7675</a></div></div>
<div class="ttc" id="aclassmap_html_a917ff7d9d77ffa85056e530b4f40cf55"><div class="ttname"><a href="classmap.html#a917ff7d9d77ffa85056e530b4f40cf55">map::drop_everything</a></div><div class="ttdeci">void drop_everything(const tripoint &amp;p)</div><div class="ttdoc">Handles map objects of given type (not creatures) falling down.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02056">map.cpp:2056</a></div></div>
<div class="ttc" id="aclassmap_html_a91b9214403515036c183e3616ca7feeb"><div class="ttname"><a href="classmap.html#a91b9214403515036c183e3616ca7feeb">map::add_light_from_items</a></div><div class="ttdeci">void add_light_from_items(const tripoint &amp;p, item_stack::iterator begin, item_stack::iterator end)</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00063">lightmap.cpp:63</a></div></div>
<div class="ttc" id="aclassmap_html_a91bb6418064c2a4c142e9410c3c661ef"><div class="ttname"><a href="classmap.html#a91bb6418064c2a4c142e9410c3c661ef">map::maptile_has_bounds</a></div><div class="ttdeci">std::pair&lt; tripoint, maptile &gt; maptile_has_bounds(const tripoint &amp;p, bool bounds_checked)</div><div class="ttdef"><b>Definition:</b> <a href="map__field_8cpp_source.html#l00180">map_field.cpp:180</a></div></div>
<div class="ttc" id="aclassmap_html_a950d661eae6e1f5c7c501473331e5c84"><div class="ttname"><a href="classmap.html#a950d661eae6e1f5c7c501473331e5c84">map::map</a></div><div class="ttdeci">map(bool zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00379">map.h:379</a></div></div>
<div class="ttc" id="aclassmap_html_a96cf0c40f0c8ae14931465754742b389"><div class="ttname"><a href="classmap.html#a96cf0c40f0c8ae14931465754742b389">map::place_toilet</a></div><div class="ttdeci">void place_toilet(const point &amp;p, int charges=6 *4)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l05452">mapgen.cpp:5452</a></div></div>
<div class="ttc" id="aclassmap_html_a9703929ca4188fa367afe12ada52e2d4"><div class="ttname"><a href="classmap.html#a9703929ca4188fa367afe12ada52e2d4">map::get_submap_at</a></div><div class="ttdeci">submap * get_submap_at(const point &amp;p, point &amp;offset_p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01834">map.h:1834</a></div></div>
<div class="ttc" id="aclassmap_html_a970ac447d203c6b9b95654e7cbdb3264"><div class="ttname"><a href="classmap.html#a970ac447d203c6b9b95654e7cbdb3264">map::has_flag_ter</a></div><div class="ttdeci">bool has_flag_ter(ter_bitflags flag, const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00976">map.h:976</a></div></div>
<div class="ttc" id="aclassmap_html_a97a225ab559b4f2e8f1f6f43d34fd392"><div class="ttname"><a href="classmap.html#a97a225ab559b4f2e8f1f6f43d34fd392">map::collapse_invalid_suspension</a></div><div class="ttdeci">void collapse_invalid_suspension(const tripoint &amp;point)</div><div class="ttdoc">Triggers a recursive collapse of suspended tiles based on their support validity.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02961">map.cpp:2961</a></div></div>
<div class="ttc" id="aclassmap_html_a9904dc81ea55ea22ae51cfa07da5943c"><div class="ttname"><a href="classmap.html#a9904dc81ea55ea22ae51cfa07da5943c">map::pl_line_of_sight</a></div><div class="ttdeci">bool pl_line_of_sight(const tripoint &amp;t, int max_range) const</div><div class="ttdoc">Uses the map cache to tell if the player could see the given square.</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00764">lightmap.cpp:764</a></div></div>
<div class="ttc" id="aclassmap_html_a99c1c5f7d292ff80d79ec6ba34632623"><div class="ttname"><a href="classmap.html#a99c1c5f7d292ff80d79ec6ba34632623">map::close_door</a></div><div class="ttdeci">bool close_door(const tripoint &amp;p, bool inside, bool check_only)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03967">map.cpp:3967</a></div></div>
<div class="ttc" id="aclassmap_html_a9a67163470170b8b8d410245de4c5cc6"><div class="ttname"><a href="classmap.html#a9a67163470170b8b8d410245de4c5cc6">map::is_bashable_ter</a></div><div class="ttdeci">bool is_bashable_ter(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00998">map.h:998</a></div></div>
<div class="ttc" id="aclassmap_html_a9a83fa9c0546aebdf0730927f5b48be4"><div class="ttname"><a href="classmap.html#a9a83fa9c0546aebdf0730927f5b48be4">map::decay_cosmetic_fields</a></div><div class="ttdeci">void decay_cosmetic_fields(const tripoint &amp;p, const time_duration &amp;time_since_last_actualize)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07218">map.cpp:7218</a></div></div>
<div class="ttc" id="aclassmap_html_a9ada8bea4712648bcb27d0cd32f63c6a"><div class="ttname"><a href="classmap.html#a9ada8bea4712648bcb27d0cd32f63c6a">map::create_burnproducts</a></div><div class="ttdeci">void create_burnproducts(const tripoint &amp;p, const item &amp;fuel, const units::mass &amp;burned_mass)</div><div class="ttdef"><b>Definition:</b> <a href="map__field_8cpp_source.html#l00096">map_field.cpp:96</a></div></div>
<div class="ttc" id="aclassmap_html_a9b1c092685c43287d5db23156f3f337e"><div class="ttname"><a href="classmap.html#a9b1c092685c43287d5db23156f3f337e">map::i_clear</a></div><div class="ttdeci">void i_clear(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04121">map.cpp:4121</a></div></div>
<div class="ttc" id="aclassmap_html_a9c52d6a26a4bbf6355a1229bf209e734"><div class="ttname"><a href="classmap.html#a9c52d6a26a4bbf6355a1229bf209e734">map::features</a></div><div class="ttdeci">std::string features(const point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00935">map.h:935</a></div></div>
<div class="ttc" id="aclassmap_html_a9ca9495068efebbdf83d185e0845cc54"><div class="ttname"><a href="classmap.html#a9ca9495068efebbdf83d185e0845cc54">map::get_visibility</a></div><div class="ttdeci">visibility_type get_visibility(lit_level ll, const visibility_variables &amp;cache) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05640">map.cpp:5640</a></div></div>
<div class="ttc" id="aclassmap_html_a9ce376640615301527e81990f7641e87"><div class="ttname"><a href="classmap.html#a9ce376640615301527e81990f7641e87">map::tinder_at</a></div><div class="ttdeci">bool tinder_at(const tripoint &amp;p)</div><div class="ttdoc">Checks if there are any tinder flagged items on the tile.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02624">map.cpp:2624</a></div></div>
<div class="ttc" id="aclassmap_html_a9f2480c9c38a593d0d9a9727679c05b1"><div class="ttname"><a href="classmap.html#a9f2480c9c38a593d0d9a9727679c05b1">map::is_bashable_furn</a></div><div class="ttdeci">bool is_bashable_furn(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01003">map.h:1003</a></div></div>
<div class="ttc" id="aclassmap_html_aa00000bc092d452f60dc532532d58232"><div class="ttname"><a href="classmap.html#aa00000bc092d452f60dc532532d58232">map::inbounds_z</a></div><div class="ttdeci">bool inbounds_z(const int z) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01645">map.h:1645</a></div></div>
<div class="ttc" id="aclassmap_html_aa0d14cd7febb068abb69390c7bde9156"><div class="ttname"><a href="classmap.html#aa0d14cd7febb068abb69390c7bde9156">map::process_fields</a></div><div class="ttdeci">void process_fields()</div><div class="ttdef"><b>Definition:</b> <a href="map__field_8cpp_source.html#l00141">map_field.cpp:141</a></div></div>
<div class="ttc" id="aclassmap_html_aa0e6e89f8f4989c540fefe7bbacfd8ce"><div class="ttname"><a href="classmap.html#aa0e6e89f8f4989c540fefe7bbacfd8ce">map::climb_difficulty</a></div><div class="ttdeci">int climb_difficulty(const tripoint &amp;p) const</div><div class="ttdoc">Checks 3x3 block centered on p for terrain to climb.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01980">map.cpp:1980</a></div></div>
<div class="ttc" id="aclassmap_html_aa28280d14d55eb7b912b9d2e14acd025"><div class="ttname"><a href="classmap.html#aa28280d14d55eb7b912b9d2e14acd025">map::vertical_shift</a></div><div class="ttdeci">void vertical_shift(int newz)</div><div class="ttdoc">Moves the map vertically to (not by!) newz.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06742">map.cpp:6742</a></div></div>
<div class="ttc" id="aclassmap_html_aa3103fc24e5eb83380766809334b2ac6"><div class="ttname"><a href="classmap.html#aa3103fc24e5eb83380766809334b2ac6">map::set_suspension_cache_dirty</a></div><div class="ttdeci">void set_suspension_cache_dirty(const int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00442">map.h:442</a></div></div>
<div class="ttc" id="aclassmap_html_aa32803b6cf35273de4616478b5a1a9b3"><div class="ttname"><a href="classmap.html#aa32803b6cf35273de4616478b5a1a9b3">map::restock_fruits</a></div><div class="ttdeci">void restock_fruits(const tripoint &amp;p, const time_duration &amp;time_since_last_actualize)</div><div class="ttdoc">Try to grow fruits on static plants (not planted by the player)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07061">map.cpp:7061</a></div></div>
<div class="ttc" id="aclassmap_html_aa3646717fd2a2a35fa554503ff4918f8"><div class="ttname"><a href="classmap.html#aa3646717fd2a2a35fa554503ff4918f8">map::map</a></div><div class="ttdeci">map(int mapsize=MAPSIZE, bool zlev=false)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00169">map.cpp:169</a></div></div>
<div class="ttc" id="aclassmap_html_aa487d96256c3d35db7a1bf273156b64a"><div class="ttname"><a href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">map::veh_at</a></div><div class="ttdeci">optional_vpart_position veh_at(const tripoint &amp;p) const</div><div class="ttdoc">Checks if tile is occupied by vehicle and by which part.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00988">map.cpp:988</a></div></div>
<div class="ttc" id="aclassmap_html_aa51d3d7bfa9acfbc62e9dbaac9450fc1"><div class="ttname"><a href="classmap.html#aa51d3d7bfa9acfbc62e9dbaac9450fc1">map::add_vehicle_to_cache</a></div><div class="ttdeci">void add_vehicle_to_cache(vehicle *)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00261">map.cpp:261</a></div></div>
<div class="ttc" id="aclassmap_html_aa5988c07cbd9e65c05e92e2610cd5ad3"><div class="ttname"><a href="classmap.html#aa5988c07cbd9e65c05e92e2610cd5ad3">map::place_items</a></div><div class="ttdeci">std::vector&lt; item * &gt; place_items(const item_group_id &amp;loc, int chance, const tripoint &amp;p1, const tripoint &amp;p2, bool ongrass, const time_point &amp;turn, int magazine=0, int ammo=0)</div><div class="ttdoc">Place items from item group in the rectangle f - t.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l05513">mapgen.cpp:5513</a></div></div>
<div class="ttc" id="aclassmap_html_aa644647b252ed03e1724952f4bf45b33"><div class="ttname"><a href="classmap.html#aa644647b252ed03e1724952f4bf45b33">map::get_ter_transforms_into</a></div><div class="ttdeci">ter_id get_ter_transforms_into(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01618">map.cpp:1618</a></div></div>
<div class="ttc" id="aclassmap_html_aa6a7244304f9053fa555bbc29ed0dcc5"><div class="ttname"><a href="classmap.html#aa6a7244304f9053fa555bbc29ed0dcc5">map::generate</a></div><div class="ttdeci">void generate(const tripoint &amp;p, const time_point &amp;when)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l00105">mapgen.cpp:105</a></div></div>
<div class="ttc" id="aclassmap_html_aa744f1f81c9834bf054cf7f861db0718"><div class="ttname"><a href="classmap.html#aa744f1f81c9834bf054cf7f861db0718">map::is_bashable</a></div><div class="ttdeci">bool is_bashable(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00993">map.h:993</a></div></div>
<div class="ttc" id="aclassmap_html_aa7959ae0022b6910c744d14d8cc218ed"><div class="ttname"><a href="classmap.html#aa7959ae0022b6910c744d14d8cc218ed">map::gas_spread_to</a></div><div class="ttdeci">void gas_spread_to(field_entry &amp;cur, maptile &amp;dst, const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map__field_8cpp_source.html#l00223">map_field.cpp:223</a></div></div>
<div class="ttc" id="aclassmap_html_aa7ba9a828d41772f23b9559ca25cda2d"><div class="ttname"><a href="classmap.html#aa7ba9a828d41772f23b9559ca25cda2d">map::has_flag_ter_or_furn</a></div><div class="ttdeci">bool has_flag_ter_or_furn(ter_bitflags flag, const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00986">map.h:986</a></div></div>
<div class="ttc" id="aclassmap_html_aa8517a6c4e119d2ac983ebce5f7f6ea5"><div class="ttname"><a href="classmap.html#aa8517a6c4e119d2ac983ebce5f7f6ea5">map::set_radiation</a></div><div class="ttdeci">void set_radiation(const tripoint &amp;p, int value)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04039">map.cpp:4039</a></div></div>
<div class="ttc" id="aclassmap_html_aa8975778aca76154b99b6e7168bc6979"><div class="ttname"><a href="classmap.html#aa8975778aca76154b99b6e7168bc6979">map::draw_from_above</a></div><div class="ttdeci">void draw_from_above(const catacurses::window &amp;w, const tripoint &amp;p, const maptile &amp;tile, const drawsq_params &amp;params) const</div><div class="ttdoc">Draws the tile as seen from above.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06046">map.cpp:6046</a></div></div>
<div class="ttc" id="aclassmap_html_aa8da7d6f52ca859712be7af8d04da1d7"><div class="ttname"><a href="classmap.html#aa8da7d6f52ca859712be7af8d04da1d7">map::i_clear</a></div><div class="ttdeci">void i_clear(const point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01217">map.h:1217</a></div></div>
<div class="ttc" id="aclassmap_html_aa904e9f61ca568d8ed985cf22193b8ed"><div class="ttname"><a href="classmap.html#aa904e9f61ca568d8ed985cf22193b8ed">map::has_items</a></div><div class="ttdeci">bool has_items(const tripoint &amp;p) const</div><div class="ttdoc">Checks for existence of items.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04789">map.cpp:4789</a></div></div>
<div class="ttc" id="aclassmap_html_aa926674ebd4c5600b1994a73cd492fae"><div class="ttname"><a href="classmap.html#aa926674ebd4c5600b1994a73cd492fae">map::process_fields_in_submap</a></div><div class="ttdeci">void process_fields_in_submap(submap *current_submap, const tripoint &amp;submap_pos)</div><div class="ttdef"><b>Definition:</b> <a href="map__field_8cpp_source.html#l00394">map_field.cpp:394</a></div></div>
<div class="ttc" id="aclassmap_html_aa9876f3b15b72bae95b49982fb1bc1a5"><div class="ttname"><a href="classmap.html#aa9876f3b15b72bae95b49982fb1bc1a5">map::destroy_furn</a></div><div class="ttdeci">void destroy_furn(const tripoint &amp;p, bool silent=false)</div><div class="ttdoc">Keeps bashing a square until there is no more furniture.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03647">map.cpp:3647</a></div></div>
<div class="ttc" id="aclassmap_html_aa9ac78d26a34776b16cf2441e21aadcc"><div class="ttname"><a href="classmap.html#aa9ac78d26a34776b16cf2441e21aadcc">map::furn</a></div><div class="ttdeci">furn_id furn(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00829">map.h:829</a></div></div>
<div class="ttc" id="aclassmap_html_aaa27eaf6665896e5b85c65671409c196"><div class="ttname"><a href="classmap.html#aaa27eaf6665896e5b85c65671409c196">map::get_furn_transforms_into</a></div><div class="ttdeci">furn_id get_furn_transforms_into(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01623">map.cpp:1623</a></div></div>
<div class="ttc" id="aclassmap_html_aaa9278488910f589488c04d35c30e376"><div class="ttname"><a href="classmap.html#aaa9278488910f589488c04d35c30e376">map::build_floor_cache</a></div><div class="ttdeci">bool build_floor_cache(int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07832">map.cpp:7832</a></div></div>
<div class="ttc" id="aclassmap_html_aaaa6ba11a5354111acb19e60a5f566ce"><div class="ttname"><a href="classmap.html#aaaa6ba11a5354111acb19e60a5f566ce">map::impassable</a></div><div class="ttdeci">bool impassable(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00611">map.h:611</a></div></div>
<div class="ttc" id="aclassmap_html_aaab5141f8f88b9ddbabcd8256e83e87e"><div class="ttname"><a href="classmap.html#aaab5141f8f88b9ddbabcd8256e83e87e">map::generate_lightmap</a></div><div class="ttdeci">void generate_lightmap(int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00369">lightmap.cpp:369</a></div></div>
<div class="ttc" id="aclassmap_html_aac17854037e868a4587556bfcfd7d16c"><div class="ttname"><a href="classmap.html#aac17854037e868a4587556bfcfd7d16c">map::coverage</a></div><div class="ttdeci">int coverage(const tripoint &amp;p) const</div><div class="ttdoc">Returns coverage value of the tile.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06230">map.cpp:6230</a></div></div>
<div class="ttc" id="aclassmap_html_aac3b3cde4ebfa3bc6e4af70c6418be71"><div class="ttname"><a href="classmap.html#aac3b3cde4ebfa3bc6e4af70c6418be71">map::apparent_light_at</a></div><div class="ttdeci">lit_level apparent_light_at(const tripoint &amp;p, const visibility_variables &amp;cache) const</div><div class="ttdoc">Determine the visible light level for a tile, based on light_at for the tile, vision distance,...</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00698">lightmap.cpp:698</a></div></div>
<div class="ttc" id="aclassmap_html_aac63fb28872f612df34a7f9a86898ed7"><div class="ttname"><a href="classmap.html#aac63fb28872f612df34a7f9a86898ed7">map::on_vehicle_moved</a></div><div class="ttdeci">void on_vehicle_moved(int smz)</div><div class="ttdoc">Callback invoked when a vehicle has moved.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00389">map.cpp:389</a></div></div>
<div class="ttc" id="aclassmap_html_aaccd17991efef22321d698c2e49141fe"><div class="ttname"><a href="classmap.html#aaccd17991efef22321d698c2e49141fe">map::spawn_item</a></div><div class="ttdeci">void spawn_item(const point &amp;p, const itype_id &amp;type_id, unsigned quantity=1, int charges=0, const time_point &amp;birthday=calendar::start_of_cataclysm, int damlevel=0)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01235">map.h:1235</a></div></div>
<div class="ttc" id="aclassmap_html_aadedc1bc0f2088dbc9e2e6c5f7b0a716"><div class="ttname"><a href="classmap.html#aadedc1bc0f2088dbc9e2e6c5f7b0a716">map::iteration_state</a></div><div class="ttdeci">iteration_state</div><div class="ttdoc">Enum used by functors in function_over to control execution.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01939">map.h:1939</a></div></div>
<div class="ttc" id="aclassmap_html_aadedc1bc0f2088dbc9e2e6c5f7b0a716a2a313788517863222407f26e74d1e5c6"><div class="ttname"><a href="classmap.html#aadedc1bc0f2088dbc9e2e6c5f7b0a716a2a313788517863222407f26e74d1e5c6">map::ITER_SKIP_ZLEVEL</a></div><div class="ttdeci">@ ITER_SKIP_ZLEVEL</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01942">map.h:1942</a></div></div>
<div class="ttc" id="aclassmap_html_aadedc1bc0f2088dbc9e2e6c5f7b0a716a9ab0b0f028d686ac48a4b5d48dcb8c7b"><div class="ttname"><a href="classmap.html#aadedc1bc0f2088dbc9e2e6c5f7b0a716a9ab0b0f028d686ac48a4b5d48dcb8c7b">map::ITER_SKIP_SUBMAP</a></div><div class="ttdeci">@ ITER_SKIP_SUBMAP</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01941">map.h:1941</a></div></div>
<div class="ttc" id="aclassmap_html_aadedc1bc0f2088dbc9e2e6c5f7b0a716aa12b3b935aabc2d25f63c997c272882b"><div class="ttname"><a href="classmap.html#aadedc1bc0f2088dbc9e2e6c5f7b0a716aa12b3b935aabc2d25f63c997c272882b">map::ITER_CONTINUE</a></div><div class="ttdeci">@ ITER_CONTINUE</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01940">map.h:1940</a></div></div>
<div class="ttc" id="aclassmap_html_aadedc1bc0f2088dbc9e2e6c5f7b0a716aaf26fed121301ba275de78fcab2981f4"><div class="ttname"><a href="classmap.html#aadedc1bc0f2088dbc9e2e6c5f7b0a716aaf26fed121301ba275de78fcab2981f4">map::ITER_FINISH</a></div><div class="ttdeci">@ ITER_FINISH</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01944">map.h:1943</a></div></div>
<div class="ttc" id="aclassmap_html_ab01dff51df9a87024849b38c70b67853"><div class="ttname"><a href="classmap.html#ab01dff51df9a87024849b38c70b67853">map::drop_fields</a></div><div class="ttdeci">void drop_fields(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02254">map.cpp:2254</a></div></div>
<div class="ttc" id="aclassmap_html_ab020e57342f622ba55131fbd8ac31c6f"><div class="ttname"><a href="classmap.html#ab020e57342f622ba55131fbd8ac31c6f">map::operator=</a></div><div class="ttdeci">map &amp; operator=(const map &amp;)=delete</div></div>
<div class="ttc" id="aclassmap_html_ab0c0699bdf66027bc976ca0c7556e8cd"><div class="ttname"><a href="classmap.html#ab0c0699bdf66027bc976ca0c7556e8cd">map::getsubmap</a></div><div class="ttdeci">submap * getsubmap(size_t grididx) const</div><div class="ttdoc">Get the submap pointer with given index in grid, the index must be valid!</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08068">map.cpp:8068</a></div></div>
<div class="ttc" id="aclassmap_html_ab118e42361f7efce62fdf46df19c9994"><div class="ttname"><a href="classmap.html#ab118e42361f7efce62fdf46df19c9994">map::clear_spawns</a></div><div class="ttdeci">void clear_spawns()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07554">map.cpp:7554</a></div></div>
<div class="ttc" id="aclassmap_html_ab13e08e4d7498f7172088482c3f703a7"><div class="ttname"><a href="classmap.html#ab13e08e4d7498f7172088482c3f703a7">map::invalidate_max_populated_zlev</a></div><div class="ttdeci">void invalidate_max_populated_zlev(int zlev)</div><div class="ttdoc">Conditionally invalidates max_pupulated_zlev cache if the submap uniformity change occurs above curre...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08742">map.cpp:8742</a></div></div>
<div class="ttc" id="aclassmap_html_ab16fdf1f01a0909f2e6a5b704308bcb5"><div class="ttname"><a href="classmap.html#ab16fdf1f01a0909f2e6a5b704308bcb5">map::shift_traps</a></div><div class="ttdeci">void shift_traps(const tripoint &amp;shift)</div><div class="ttdoc">As part of the map shifting, this shifts the trap locations stored in traplocs.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06535">map.cpp:6535</a></div></div>
<div class="ttc" id="aclassmap_html_ab1895c8f3af58c7d9cddd2daec02e7b1"><div class="ttname"><a href="classmap.html#ab1895c8f3af58c7d9cddd2daec02e7b1">map::add_item_or_charges</a></div><div class="ttdeci">item &amp; add_item_or_charges(const point &amp;p, item obj, bool overflow=true)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01266">map.h:1266</a></div></div>
<div class="ttc" id="aclassmap_html_ab1a08686c7d7b52636e0362ac4a0847f"><div class="ttname"><a href="classmap.html#ab1a08686c7d7b52636e0362ac4a0847f">map::flammable_items_at</a></div><div class="ttdeci">bool flammable_items_at(const tripoint &amp;p, int threshold=0)</div><div class="ttdoc">Checks if there are any flammable items on the tile.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02634">map.cpp:2634</a></div></div>
<div class="ttc" id="aclassmap_html_ab2224583f3434f36ad8cec987800c5ab"><div class="ttname"><a href="classmap.html#ab2224583f3434f36ad8cec987800c5ab">map::ter_set</a></div><div class="ttdeci">bool ter_set(const point &amp;p, const ter_id &amp;new_terrain)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00877">map.h:877</a></div></div>
<div class="ttc" id="aclassmap_html_ab28692303adbeea326cea5252f0a461a"><div class="ttname"><a href="classmap.html#ab28692303adbeea326cea5252f0a461a">map::partial_con_remove</a></div><div class="ttdeci">void partial_con_remove(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05165">map.cpp:5165</a></div></div>
<div class="ttc" id="aclassmap_html_ab3329218e47ef1729d54bbf27622c1ba"><div class="ttname"><a href="classmap.html#ab3329218e47ef1729d54bbf27622c1ba">map::move_cost_ter_furn</a></div><div class="ttdeci">int move_cost_ter_furn(const tripoint &amp;p) const</div><div class="ttdoc">Similar behavior to move_cost(), but ignores vehicles.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01816">map.cpp:1816</a></div></div>
<div class="ttc" id="aclassmap_html_ab38205e356b39b5961e0513d45e90170"><div class="ttname"><a href="classmap.html#ab38205e356b39b5961e0513d45e90170">map::obstacle_name</a></div><div class="ttdeci">std::string obstacle_name(const tripoint &amp;p)</div><div class="ttdoc">Returns the name of the obstacle at p that might be blocking movement/projectiles/etc.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01346">map.cpp:1346</a></div></div>
<div class="ttc" id="aclassmap_html_ab39ceb8f855edf31f6af0fa91864048b"><div class="ttname"><a href="classmap.html#ab39ceb8f855edf31f6af0fa91864048b">map::partial_con_at</a></div><div class="ttdeci">partial_con * partial_con_at(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05151">map.cpp:5151</a></div></div>
<div class="ttc" id="aclassmap_html_ab42c106bfff9e18e1767421be6e9e72c"><div class="ttname"><a href="classmap.html#ab42c106bfff9e18e1767421be6e9e72c">map::burn_body_part</a></div><div class="ttdeci">int burn_body_part(player &amp;u, field_entry &amp;cur, body_part bp, int scale)</div><div class="ttdef"><b>Definition:</b> <a href="map__field_8cpp_source.html#l00124">map_field.cpp:124</a></div></div>
<div class="ttc" id="aclassmap_html_ab448e17e1847234311043c6140722a36"><div class="ttname"><a href="classmap.html#ab448e17e1847234311043c6140722a36">map::get_nonant</a></div><div class="ttdeci">size_t get_nonant(const tripoint &amp;gridp) const</div><div class="ttdoc">Get the index of a submap pointer in the grid given by grid coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08110">map.cpp:8110</a></div></div>
<div class="ttc" id="aclassmap_html_ab669e4df068956bf9b69599c85c2a0b2"><div class="ttname"><a href="classmap.html#ab669e4df068956bf9b69599c85c2a0b2">map::accessible_items</a></div><div class="ttdeci">bool accessible_items(const tripoint &amp;t) const</div><div class="ttdoc">Check whether the player can access the items located .</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06460">map.cpp:6460</a></div></div>
<div class="ttc" id="aclassmap_html_ab687d9988b59167571f5476882b24206"><div class="ttname"><a href="classmap.html#ab687d9988b59167571f5476882b24206">map::is_divable</a></div><div class="ttdeci">bool is_divable(const tripoint &amp;p) const</div><div class="ttdoc">Returns whether or not the terrain at the given location can be dived into (by monsters that can swim...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02567">map.cpp:2567</a></div></div>
<div class="ttc" id="aclassmap_html_ab822562ab4d1069ff53486f67098d0da"><div class="ttname"><a href="classmap.html#ab822562ab4d1069ff53486f67098d0da">map::veh_at_internal</a></div><div class="ttdeci">vehicle * veh_at_internal(const tripoint &amp;p, int &amp;part_num)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01023">map.cpp:1023</a></div></div>
<div class="ttc" id="aclassmap_html_ab9958eb6278f6c7bbf2930a65f01b38f"><div class="ttname"><a href="classmap.html#ab9958eb6278f6c7bbf2930a65f01b38f">map::bash_field</a></div><div class="ttdeci">bash_results bash_field(const tripoint &amp;p, const bash_params &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03610">map.cpp:3610</a></div></div>
<div class="ttc" id="aclassmap_html_ab9d1c1052a8aa770fa00676c045d7805"><div class="ttname"><a href="classmap.html#ab9d1c1052a8aa770fa00676c045d7805">map::ter</a></div><div class="ttdeci">ter_id ter(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00852">map.h:852</a></div></div>
<div class="ttc" id="aclassmap_html_aba8f330c2cc25be0652489b42d8dd530"><div class="ttname"><a href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">map::ter</a></div><div class="ttdeci">ter_id ter(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01509">map.cpp:1509</a></div></div>
<div class="ttc" id="aclassmap_html_abb8095f0f1825688edee2d0edc5fd06d"><div class="ttname"><a href="classmap.html#abb8095f0f1825688edee2d0edc5fd06d">map::get_visibility_variables_cache</a></div><div class="ttdeci">const visibility_variables &amp; get_visibility_variables_cache() const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05635">map.cpp:5635</a></div></div>
<div class="ttc" id="aclassmap_html_abc43c98747739f2ab2c010e1408c9711"><div class="ttname"><a href="classmap.html#abc43c98747739f2ab2c010e1408c9711">map::grow_plant</a></div><div class="ttdeci">void grow_plant(const tripoint &amp;p)</div><div class="ttdoc">Try to grow a harvestable plant to the next stage(s).</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06983">map.cpp:6983</a></div></div>
<div class="ttc" id="aclassmap_html_abc7101be108a49131b6646bfb29d381f"><div class="ttname"><a href="classmap.html#abc7101be108a49131b6646bfb29d381f">map::make_active</a></div><div class="ttdeci">void make_active(item_location &amp;loc)</div><div class="ttdoc">Update an item's active status, for example when adding hot or perishable liquid to a container.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04420">map.cpp:4420</a></div></div>
<div class="ttc" id="aclassmap_html_abd92496d16784ab9dbbafebbac3113cb"><div class="ttname"><a href="classmap.html#abd92496d16784ab9dbbafebbac3113cb">map::support_cache_dirty</a></div><div class="ttdeci">std::set&lt; tripoint &gt; support_cache_dirty</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01525">map.h:1525</a></div></div>
<div class="ttc" id="aclassmap_html_abddcabb7480af082608079646b44e3c5"><div class="ttname"><a href="classmap.html#abddcabb7480af082608079646b44e3c5">map::actualize</a></div><div class="ttdeci">void actualize(const tripoint &amp;grid)</div><div class="ttdoc">Fast forward a submap that has just been loading into this map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07238">map.cpp:7238</a></div></div>
<div class="ttc" id="aclassmap_html_abe9e7b93cf8ee15c370ad55c3138c4f6"><div class="ttname"><a href="classmap.html#abe9e7b93cf8ee15c370ad55c3138c4f6">map::move_cost</a></div><div class="ttdeci">int move_cost(const tripoint &amp;p, const vehicle *ignored_vehicle=nullptr) const</div><div class="ttdoc">Calculate the cost to move past the tile at p.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01791">map.cpp:1791</a></div></div>
<div class="ttc" id="aclassmap_html_abeefac00972febd607e98bb0431bd5a9"><div class="ttname"><a href="classmap.html#abeefac00972febd607e98bb0431bd5a9">map::displace_vehicle</a></div><div class="ttdeci">bool displace_vehicle(vehicle &amp;veh, const tripoint &amp;dp, bool adjust_pos=true, const std::set&lt; int &gt; &amp;parts_to_move={})</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01098">map.cpp:1098</a></div></div>
<div class="ttc" id="aclassmap_html_abf6455d82007aa379f4de85aea2f923f"><div class="ttname"><a href="classmap.html#abf6455d82007aa379f4de85aea2f923f">map::furn_set</a></div><div class="ttdeci">void furn_set(const tripoint &amp;p, const furn_id &amp;new_furniture, cata::poly_serialized&lt; active_tile_data &gt; new_active=nullptr)</div><div class="ttdoc">Sets the furniture at given position.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01371">map.cpp:1371</a></div></div>
<div class="ttc" id="aclassmap_html_abfb6cb650fb5b2e2fab71ca1e3a159b1"><div class="ttname"><a href="classmap.html#abfb6cb650fb5b2e2fab71ca1e3a159b1">map::update_vehicle_list</a></div><div class="ttdeci">void update_vehicle_list(const submap *to, int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00326">map.cpp:326</a></div></div>
<div class="ttc" id="aclassmap_html_abfe32fc67ef91fe15105c31b5ef884ab"><div class="ttname"><a href="classmap.html#abfe32fc67ef91fe15105c31b5ef884ab">map::set_seen_cache_dirty</a></div><div class="ttdeci">void set_seen_cache_dirty(const tripoint change_location)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00409">map.h:409</a></div></div>
<div class="ttc" id="aclassmap_html_abff2fded83a8e96e5e20084c3cb59579"><div class="ttname"><a href="classmap.html#abff2fded83a8e96e5e20084c3cb59579">map::has_zlevels</a></div><div class="ttdeci">bool has_zlevels() const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01657">map.h:1657</a></div></div>
<div class="ttc" id="aclassmap_html_ac1c02ce0648fe07137b86c84fc72f5de"><div class="ttname"><a href="classmap.html#ac1c02ce0648fe07137b86c84fc72f5de">map::get_vehicles</a></div><div class="ttdeci">VehicleList get_vehicles()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00232">map.cpp:232</a></div></div>
<div class="ttc" id="aclassmap_html_ac2c21098789333b1b21bd1d1cd0c9020"><div class="ttname"><a href="classmap.html#ac2c21098789333b1b21bd1d1cd0c9020">map::spawn_monsters_submap_group</a></div><div class="ttdeci">void spawn_monsters_submap_group(const tripoint &amp;gp, mongroup &amp;group, bool ignore_sight)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07348">map.cpp:7348</a></div></div>
<div class="ttc" id="aclassmap_html_ac3d6a1de0b2fee8ffeddbeb4ef0e4392"><div class="ttname"><a href="classmap.html#ac3d6a1de0b2fee8ffeddbeb4ef0e4392">map::has_flag_furn</a></div><div class="ttdeci">bool has_flag_furn(ter_bitflags flag, const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00981">map.h:981</a></div></div>
<div class="ttc" id="aclassmap_html_ac488d178329e7fcab01c758e138dd768"><div class="ttname"><a href="classmap.html#ac488d178329e7fcab01c758e138dd768">map::displace_water</a></div><div class="ttdeci">bool displace_water(const tripoint &amp;dp)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01290">map.cpp:1290</a></div></div>
<div class="ttc" id="aclassmap_html_ac48a5f0c157b680f0bbb2d45be5fe8fd"><div class="ttname"><a href="classmap.html#ac48a5f0c157b680f0bbb2d45be5fe8fd">map::computer_at</a></div><div class="ttdeci">computer * computer_at(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05540">map.cpp:5540</a></div></div>
<div class="ttc" id="aclassmap_html_ac5b071f269f509ae698f95bc9966cbf7"><div class="ttname"><a href="classmap.html#ac5b071f269f509ae698f95bc9966cbf7">map::reachable_flood_steps</a></div><div class="ttdeci">void reachable_flood_steps(std::vector&lt; tripoint &gt; &amp;reachable_pts, const tripoint &amp;f, int range, int cost_min, int cost_max) const</div><div class="ttdoc">Populates a vector of points that are reachable within a number of steps from a point.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06270">map.cpp:6270</a></div></div>
<div class="ttc" id="aclassmap_html_ac5d9bf2b01f243d3983c2054f75b1101"><div class="ttname"><a href="classmap.html#ac5d9bf2b01f243d3983c2054f75b1101">map::get_submap_at_grid</a></div><div class="ttdeci">submap * get_submap_at_grid(const point &amp;gridp) const</div><div class="ttdoc">Get submap pointer in the grid at given grid coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01842">map.h:1842</a></div></div>
<div class="ttc" id="aclassmap_html_ac7023d5bb12f333f7237a08bd471b112"><div class="ttname"><a href="classmap.html#ac7023d5bb12f333f7237a08bd471b112">map::shake_vehicle</a></div><div class="ttdeci">units::angle shake_vehicle(vehicle &amp;veh, int velocity_before, units::angle direction)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__move_8cpp_source.html#l01565">vehicle_move.cpp:1565</a></div></div>
<div class="ttc" id="aclassmap_html_ac78d19d421262da398e2873d7b173b76"><div class="ttname"><a href="classmap.html#ac78d19d421262da398e2873d7b173b76">map::get_harvest</a></div><div class="ttdeci">const harvest_id &amp; get_harvest(const tripoint &amp;p) const</div><div class="ttdoc">Returns the full harvest list, for spawning.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01575">map.cpp:1575</a></div></div>
<div class="ttc" id="aclassmap_html_ac7f59f4bc6fad84a8d8c0ddd4e023734"><div class="ttname"><a href="classmap.html#ac7f59f4bc6fad84a8d8c0ddd4e023734">map::destroy_vehicle</a></div><div class="ttdeci">void destroy_vehicle(vehicle *veh)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00384">map.cpp:384</a></div></div>
<div class="ttc" id="aclassmap_html_ac8451c8ba1f2b7ac8e52d2b8657ea00c"><div class="ttname"><a href="classmap.html#ac8451c8ba1f2b7ac8e52d2b8657ea00c">map::add_camp</a></div><div class="ttdeci">void add_camp(const tripoint_abs_omt &amp;omt_pos, const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05577">map.cpp:5577</a></div></div>
<div class="ttc" id="aclassmap_html_ac84fdb03e34711ad8b42c56d00e490b2"><div class="ttname"><a href="classmap.html#ac84fdb03e34711ad8b42c56d00e490b2">map::set_temperature</a></div><div class="ttdeci">void set_temperature(const point &amp;p, int new_temperature)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01203">map.h:1203</a></div></div>
<div class="ttc" id="aclassmap_html_ac9d96deaafa7d74a897a9e5ca1c1f928"><div class="ttname"><a href="classmap.html#ac9d96deaafa7d74a897a9e5ca1c1f928">map::get_harvest_names</a></div><div class="ttdeci">const std::set&lt; std::string &gt; &amp; get_harvest_names(const tripoint &amp;p) const</div><div class="ttdoc">Returns names of the items that would be dropped.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01595">map.cpp:1595</a></div></div>
<div class="ttc" id="aclassmap_html_aca0dcb78a357fd6ecd55de98dc9a97fb"><div class="ttname"><a href="classmap.html#aca0dcb78a357fd6ecd55de98dc9a97fb">map::is_suspension_valid</a></div><div class="ttdeci">bool is_suspension_valid(const tripoint &amp;point)</div><div class="ttdoc">Checks the four orientations in which a suspended tile could be valid, and returns if the tile is val...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02971">map.cpp:2971</a></div></div>
<div class="ttc" id="aclassmap_html_aca8eb1167f6fb43f47555590dbf9f9c6"><div class="ttname"><a href="classmap.html#aca8eb1167f6fb43f47555590dbf9f9c6">map::trap_locations</a></div><div class="ttdeci">const std::vector&lt; tripoint &gt; &amp; trap_locations(const trap_id &amp;type) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07583">map.cpp:7583</a></div></div>
<div class="ttc" id="aclassmap_html_acba271f09a3ee19d230806f70a97856b"><div class="ttname"><a href="classmap.html#acba271f09a3ee19d230806f70a97856b">map::load</a></div><div class="ttdeci">void load(const tripoint &amp;w, bool update_vehicles)</div><div class="ttdoc">Load submaps into grid.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06514">map.cpp:6514</a></div></div>
<div class="ttc" id="aclassmap_html_acd274fe2dedb149855c07d3f13255462"><div class="ttname"><a href="classmap.html#acd274fe2dedb149855c07d3f13255462">map::last_full_vehicle_list</a></div><div class="ttdeci">VehicleList last_full_vehicle_list</div><div class="ttdoc">Vehicle list doesn't change often, but is pretty expensive.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01995">map.h:1995</a></div></div>
<div class="ttc" id="aclassmap_html_ace2f169fced91ed2daf1f3ab1fb0d0cf"><div class="ttname"><a href="classmap.html#ace2f169fced91ed2daf1f3ab1fb0d0cf">map::mod_field_intensity</a></div><div class="ttdeci">int mod_field_intensity(const tripoint &amp;p, const field_type_id &amp;type, int offset)</div><div class="ttdoc">Increment/decrement intensity of field entry at point, creating if not present, removing if intensity...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05332">map.cpp:5332</a></div></div>
<div class="ttc" id="aclassmap_html_ace91a7277228a64a9446deec36738e19"><div class="ttname"><a href="classmap.html#ace91a7277228a64a9446deec36738e19">map::bash_items</a></div><div class="ttdeci">bash_results bash_items(const tripoint &amp;p, const bash_params &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03558">map.cpp:3558</a></div></div>
<div class="ttc" id="aclassmap_html_acfe43259087397daac52876165a3120c"><div class="ttname"><a href="classmap.html#acfe43259087397daac52876165a3120c">map::spawn_item</a></div><div class="ttdeci">void spawn_item(const tripoint &amp;p, const itype_id &amp;type_id, unsigned quantity=1, int charges=0, const time_point &amp;birthday=calendar::start_of_cataclysm, int damlevel=0)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04187">map.cpp:4187</a></div></div>
<div class="ttc" id="aclassmap_html_ad05f776b59564ff618ece546f9190dbc"><div class="ttname"><a href="classmap.html#ad05f776b59564ff618ece546f9190dbc">map::dirty_vehicle_list</a></div><div class="ttdeci">std::set&lt; vehicle * &gt; dirty_vehicle_list</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01620">map.h:1620</a></div></div>
<div class="ttc" id="aclassmap_html_ad11eaa007e285dcfe4c6ffb6f1ce46d3"><div class="ttname"><a href="classmap.html#ad11eaa007e285dcfe4c6ffb6f1ce46d3">map::has_floor</a></div><div class="ttdeci">bool has_floor(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02018">map.cpp:2018</a></div></div>
<div class="ttc" id="aclassmap_html_ad12f3e2ddb1c38ca6b8e75a1a9e48a3d"><div class="ttname"><a href="classmap.html#ad12f3e2ddb1c38ca6b8e75a1a9e48a3d">map::i_rem</a></div><div class="ttdeci">map_stack::iterator i_rem(const tripoint &amp;p, map_stack::const_iterator it)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04096">map.cpp:4096</a></div></div>
<div class="ttc" id="aclassmap_html_ad189f4216a9eaacbf9c5aa0ceedaea18"><div class="ttname"><a href="classmap.html#ad189f4216a9eaacbf9c5aa0ceedaea18">map::drawsq</a></div><div class="ttdeci">void drawsq(const catacurses::window &amp;w, const tripoint &amp;p, const drawsq_params &amp;params) const</div><div class="ttdoc">Draw the map tile at the given coordinate.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05818">map.cpp:5818</a></div></div>
<div class="ttc" id="aclassmap_html_ad1a2ca71760b44fdfca1848b800373c3"><div class="ttname"><a href="classmap.html#ad1a2ca71760b44fdfca1848b800373c3">map::get_submaps_with_active_items</a></div><div class="ttdeci">const std::set&lt; tripoint &gt; &amp; get_submaps_with_active_items() const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02026">map.h:2026</a></div></div>
<div class="ttc" id="aclassmap_html_ad2f1b5a9f0c086f5a16817ab872e3f20"><div class="ttname"><a href="classmap.html#ad2f1b5a9f0c086f5a16817ab872e3f20">map::get_known_connections</a></div><div class="ttdeci">uint8_t get_known_connections(const tripoint &amp;p, int connect_group, const std::map&lt; tripoint, ter_id &gt; &amp;override={}) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01521">map.cpp:1521</a></div></div>
<div class="ttc" id="aclassmap_html_ad357c4299f89a66ece9df0c3edc4401d"><div class="ttname"><a href="classmap.html#ad357c4299f89a66ece9df0c3edc4401d">map::get_pathfinding_cache_ref</a></div><div class="ttdeci">const pathfinding_cache &amp; get_pathfinding_cache_ref(int zlev) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08556">map.cpp:8556</a></div></div>
<div class="ttc" id="aclassmap_html_ad39f63b4307dd002b3a8cfc0e99f8013"><div class="ttname"><a href="classmap.html#ad39f63b4307dd002b3a8cfc0e99f8013">map::use_amount_square</a></div><div class="ttdeci">std::list&lt; item &gt; use_amount_square(const tripoint &amp;p, const itype_id &amp;type, int &amp;quantity, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04816">map.cpp:4816</a></div></div>
<div class="ttc" id="aclassmap_html_ad3d3b83077d79c76e904abb5041dd78d"><div class="ttname"><a href="classmap.html#ad3d3b83077d79c76e904abb5041dd78d">map::put_items_from_loc</a></div><div class="ttdeci">std::vector&lt; item * &gt; put_items_from_loc(const item_group_id &amp;loc, const tripoint &amp;p, const time_point &amp;turn=calendar::start_of_cataclysm)</div><div class="ttdoc">Place items from an item group at p.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l05571">mapgen.cpp:5571</a></div></div>
<div class="ttc" id="aclassmap_html_ad53c2d6b878cd2a3d1ad77d6aeeb27e2"><div class="ttname"><a href="classmap.html#ad53c2d6b878cd2a3d1ad77d6aeeb27e2">map::i_at</a></div><div class="ttdeci">map_stack i_at(const point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01212">map.h:1212</a></div></div>
<div class="ttc" id="aclassmap_html_ad594a3d6b0035190e2597dfad8280b33"><div class="ttname"><a href="classmap.html#ad594a3d6b0035190e2597dfad8280b33">map::hit_with_acid</a></div><div class="ttdeci">bool hit_with_acid(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03823">map.cpp:3823</a></div></div>
<div class="ttc" id="aclassmap_html_ad79afd7cb9bc2a9c102b7618d12929f3"><div class="ttname"><a href="classmap.html#ad79afd7cb9bc2a9c102b7618d12929f3">map::get_vehicle_zones</a></div><div class="ttdeci">std::vector&lt; zone_data * &gt; get_vehicle_zones(int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00918">map.cpp:918</a></div></div>
<div class="ttc" id="aclassmap_html_ad8a08ae2149e29300b950c275557bdbb"><div class="ttname"><a href="classmap.html#ad8a08ae2149e29300b950c275557bdbb">map::draw_rough_circle_furn</a></div><div class="ttdeci">void draw_rough_circle_furn(const furn_id &amp;type, const point &amp;p, int rad)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08205">map.cpp:8205</a></div></div>
<div class="ttc" id="aclassmap_html_ad8afc8795cfeed3d27aadcf1259ae985"><div class="ttname"><a href="classmap.html#ad8afc8795cfeed3d27aadcf1259ae985">map::caches</a></div><div class="ttdeci">std::array&lt; std::unique_ptr&lt; level_cache &gt;, OVERMAP_LAYERS &gt; caches</div><div class="ttdoc">Holds caches for visibility, light, transparency and vehicles.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01979">map.h:1979</a></div></div>
<div class="ttc" id="aclassmap_html_ad8ccb1a4c807b25822a3da621caffa72"><div class="ttname"><a href="classmap.html#ad8ccb1a4c807b25822a3da621caffa72">map::bash_vehicle</a></div><div class="ttdeci">bash_results bash_vehicle(const tripoint &amp;p, const bash_params &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03592">map.cpp:3592</a></div></div>
<div class="ttc" id="aclassmap_html_ad969a92f39f92552ab4f177cd0faea55"><div class="ttname"><a href="classmap.html#ad969a92f39f92552ab4f177cd0faea55">map::get_cache_ref</a></div><div class="ttdeci">const level_cache &amp; get_cache_ref(int zlev) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02012">map.h:2012</a></div></div>
<div class="ttc" id="aclassmap_html_adab57612922364ffdb667c306f5a622c"><div class="ttname"><a href="classmap.html#adab57612922364ffdb667c306f5a622c">map::add_spawn</a></div><div class="ttdeci">void add_spawn(const mtype_id &amp;type, int count, const tripoint &amp;p, bool friendly=false, int faction_id=-1, int mission_id=-1, const std::string &amp;name=&quot;NONE&quot;) const</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l05578">mapgen.cpp:5578</a></div></div>
<div class="ttc" id="aclassmap_html_adbe3ef9d6f8ed3217ecd33f86ed902f9"><div class="ttname"><a href="classmap.html#adbe3ef9d6f8ed3217ecd33f86ed902f9">map::make_rubble</a></div><div class="ttdeci">void make_rubble(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01036">map.h:1036</a></div></div>
<div class="ttc" id="aclassmap_html_adbfd2bb4583f1ea91d1e3a573828e918"><div class="ttname"><a href="classmap.html#adbfd2bb4583f1ea91d1e3a573828e918">map::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag, const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00940">map.h:940</a></div></div>
<div class="ttc" id="aclassmap_html_adc3af955070307fd2ba5aa4287853943"><div class="ttname"><a href="classmap.html#adc3af955070307fd2ba5aa4287853943">map::draw_connections</a></div><div class="ttdeci">void draw_connections(mapgendata &amp;dat)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l05235">mapgen.cpp:5235</a></div></div>
<div class="ttc" id="aclassmap_html_add9128611766f2a8095b0104f0fd7371"><div class="ttname"><a href="classmap.html#add9128611766f2a8095b0104f0fd7371">map::move_vehicle</a></div><div class="ttdeci">vehicle * move_vehicle(vehicle &amp;veh, const tripoint &amp;dp, const tileray &amp;facing)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00504">map.cpp:504</a></div></div>
<div class="ttc" id="aclassmap_html_ade82e480520c05f5a4e8917df19cef8c"><div class="ttname"><a href="classmap.html#ade82e480520c05f5a4e8917df19cef8c">map::trap_set</a></div><div class="ttdeci">void trap_set(const tripoint &amp;p, const trap_id &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05187">map.cpp:5187</a></div></div>
<div class="ttc" id="aclassmap_html_adfb4f21d749696fdd25c7b37ba2b7b21"><div class="ttname"><a href="classmap.html#adfb4f21d749696fdd25c7b37ba2b7b21">map::bash_resistance</a></div><div class="ttdeci">int bash_resistance(const tripoint &amp;p, bool allow_floor=false) const</div><div class="ttdoc">Returns min_str of the furniture or terrain at p.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02472">map.cpp:2472</a></div></div>
<div class="ttc" id="aclassmap_html_adfdb43bc66ebe32a7a7cc4665b7786f8"><div class="ttname"><a href="classmap.html#adfdb43bc66ebe32a7a7cc4665b7786f8">map::set_graffiti</a></div><div class="ttdeci">void set_graffiti(const tripoint &amp;p, const std::string &amp;contents)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07634">map.cpp:7634</a></div></div>
<div class="ttc" id="aclassmap_html_ae04fa29257df29a4c346f6af8af1a72c"><div class="ttname"><a href="classmap.html#ae04fa29257df29a4c346f6af8af1a72c">map::passable</a></div><div class="ttdeci">bool passable(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00615">map.h:615</a></div></div>
<div class="ttc" id="aclassmap_html_ae074b6e1e06913bee442d894f590131f"><div class="ttname"><a href="classmap.html#ae074b6e1e06913bee442d894f590131f">map::graffiti_at</a></div><div class="ttdeci">const std::string &amp; graffiti_at(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07654">map.cpp:7654</a></div></div>
<div class="ttc" id="aclassmap_html_ae20c877c82882f08e1c6ac4f2994e11d"><div class="ttname"><a href="classmap.html#ae20c877c82882f08e1c6ac4f2994e11d">map::can_move_furniture</a></div><div class="ttdeci">bool can_move_furniture(const tripoint &amp;pos, player *p=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01456">map.cpp:1456</a></div></div>
<div class="ttc" id="aclassmap_html_ae268a0c697e38f27cd050d3c4e2bb8fa"><div class="ttname"><a href="classmap.html#ae268a0c697e38f27cd050d3c4e2bb8fa">map::bash_furn_success</a></div><div class="ttdeci">bash_results bash_furn_success(const tripoint &amp;p, const bash_params &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03300">map.cpp:3300</a></div></div>
<div class="ttc" id="aclassmap_html_ae2c7821504ac13b0ad7197f64d913229"><div class="ttname"><a href="classmap.html#ae2c7821504ac13b0ad7197f64d913229">map::process_items_in_vehicles</a></div><div class="ttdeci">void process_items_in_vehicles(submap &amp;current_submap)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04656">map.cpp:4656</a></div></div>
<div class="ttc" id="aclassmap_html_ae31d12de24e927850112617197a5b66b"><div class="ttname"><a href="classmap.html#ae31d12de24e927850112617197a5b66b">map::produce_sap</a></div><div class="ttdeci">void produce_sap(const tripoint &amp;p, const time_duration &amp;time_since_last_actualize)</div><div class="ttdoc">Produce sap on tapped maple trees.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07075">map.cpp:7075</a></div></div>
<div class="ttc" id="aclassmap_html_ae32ac36969a3658f689f1390806b53b0"><div class="ttname"><a href="classmap.html#ae32ac36969a3658f689f1390806b53b0">map::vehproceed</a></div><div class="ttdeci">bool vehproceed(VehicleList &amp;vehicle_list)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00446">map.cpp:446</a></div></div>
<div class="ttc" id="aclassmap_html_ae363ec87b2ef0cccd7c5f5c860402313"><div class="ttname"><a href="classmap.html#ae363ec87b2ef0cccd7c5f5c860402313">map::delete_signage</a></div><div class="ttdeci">void delete_signage(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04015">map.cpp:4015</a></div></div>
<div class="ttc" id="aclassmap_html_ae47264a5a225fbac1e19fccc8f6dcc55"><div class="ttname"><a href="classmap.html#ae47264a5a225fbac1e19fccc8f6dcc55">map::max_volume</a></div><div class="ttdeci">units::volume max_volume(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04211">map.cpp:4211</a></div></div>
<div class="ttc" id="aclassmap_html_ae5552cf3b7ca876675b436a54f3b7615"><div class="ttname"><a href="classmap.html#ae5552cf3b7ca876675b436a54f3b7615">map::place_items</a></div><div class="ttdeci">std::vector&lt; item * &gt; place_items(const item_group_id &amp;loc, int chance, const point &amp;p1, const point &amp;p2, bool ongrass, const time_point &amp;turn, int magazine=0, int ammo=0)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01339">map.h:1339</a></div></div>
<div class="ttc" id="aclassmap_html_ae66fa55ab500d718db02445344a2ae8e"><div class="ttname"><a href="classmap.html#ae66fa55ab500d718db02445344a2ae8e">map::add_vehicle</a></div><div class="ttdeci">vehicle * add_vehicle(const vgroup_id &amp;type, const tripoint &amp;p, units::angle dir, int init_veh_fuel=-1, int init_veh_status=-1, bool merge_wrecks=true)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l05600">mapgen.cpp:5600</a></div></div>
<div class="ttc" id="aclassmap_html_ae6be5b2b977897215861971bf64fb502"><div class="ttname"><a href="classmap.html#ae6be5b2b977897215861971bf64fb502">map::remove_trap</a></div><div class="ttdeci">void remove_trap(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05271">map.cpp:5271</a></div></div>
<div class="ttc" id="aclassmap_html_ae6fc7d1438c1ffd5fee38b40f8fe58fd"><div class="ttname"><a href="classmap.html#ae6fc7d1438c1ffd5fee38b40f8fe58fd">map::get_pathfinding_cache</a></div><div class="ttdeci">pathfinding_cache &amp; get_pathfinding_cache(int zlev) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08544">map.cpp:8544</a></div></div>
<div class="ttc" id="aclassmap_html_ae72c979995b04d027d8f0410de2fda23"><div class="ttname"><a href="classmap.html#ae72c979995b04d027d8f0410de2fda23">map::update_visibility_cache</a></div><div class="ttdeci">void update_visibility_cache(int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05594">map.cpp:5594</a></div></div>
<div class="ttc" id="aclassmap_html_ae7d770f1222781972553b75b14f52b2b"><div class="ttname"><a href="classmap.html#ae7d770f1222781972553b75b14f52b2b">map::place_npc</a></div><div class="ttdeci">character_id place_npc(const point &amp;p, const string_id&lt; npc_template &gt; &amp;type, bool force=false)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l05480">mapgen.cpp:5480</a></div></div>
<div class="ttc" id="aclassmap_html_ae7ef998adaaa74d9755c10a5c61200a3"><div class="ttname"><a href="classmap.html#ae7ef998adaaa74d9755c10a5c61200a3">map::set_signage</a></div><div class="ttdeci">void set_signage(const tripoint &amp;p, const std::string &amp;message) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04004">map.cpp:4004</a></div></div>
<div class="ttc" id="aclassmap_html_ae910e8f94fada3a28c3d81d96eadb70c"><div class="ttname"><a href="classmap.html#ae910e8f94fada3a28c3d81d96eadb70c">map::partial_con_set</a></div><div class="ttdeci">void partial_con_set(const tripoint &amp;p, const partial_con &amp;con)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05175">map.cpp:5175</a></div></div>
<div class="ttc" id="aclassmap_html_aeaaa0be9820edcc0314f1aad1b9c8eb8"><div class="ttname"><a href="classmap.html#aeaaa0be9820edcc0314f1aad1b9c8eb8">map::bash_ter_furn</a></div><div class="ttdeci">bash_results bash_ter_furn(const tripoint &amp;p, const bash_params &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03396">map.cpp:3396</a></div></div>
<div class="ttc" id="aclassmap_html_aeae209ff5f7a02424246f9ae8086d026"><div class="ttname"><a href="classmap.html#aeae209ff5f7a02424246f9ae8086d026">map::visibility_variables_cache</a></div><div class="ttdeci">visibility_variables visibility_variables_cache</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02005">map.h:2005</a></div></div>
<div class="ttc" id="aclassmap_html_aed386d18875f9545fa964659b1a68be6"><div class="ttname"><a href="classmap.html#aed386d18875f9545fa964659b1a68be6">map::use_amount</a></div><div class="ttdeci">std::list&lt; item &gt; use_amount(const tripoint &amp;origin, int range, const itype_id &amp;type, int &amp;quantity, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04838">map.cpp:4838</a></div></div>
<div class="ttc" id="aclassmap_html_aedcfa0db62ad0d6c8590f714de2f98be"><div class="ttname"><a href="classmap.html#aedcfa0db62ad0d6c8590f714de2f98be">map::get_temperature</a></div><div class="ttdeci">int get_temperature(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04064">map.cpp:4064</a></div></div>
<div class="ttc" id="aclassmap_html_aef5205f2179c538caf9901871d434462"><div class="ttname"><a href="classmap.html#aef5205f2179c538caf9901871d434462">map::maptile_at_internal</a></div><div class="ttdeci">maptile maptile_at_internal(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00214">map.cpp:214</a></div></div>
<div class="ttc" id="aclassmap_html_af080fc7eb8fc042c06da13b3224b0c98"><div class="ttname"><a href="classmap.html#af080fc7eb8fc042c06da13b3224b0c98">map::is_bashable_ter_furn</a></div><div class="ttdeci">bool is_bashable_ter_furn(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01008">map.h:1008</a></div></div>
<div class="ttc" id="aclassmap_html_af0e872a5d0a7bf1e9745aeb18d3b5e44"><div class="ttname"><a href="classmap.html#af0e872a5d0a7bf1e9745aeb18d3b5e44">map::has_flag_ter</a></div><div class="ttdeci">bool has_flag_ter(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02323">map.cpp:2323</a></div></div>
<div class="ttc" id="aclassmap_html_af1f9afa3c36ade30dc57a18b7e3c4165"><div class="ttname"><a href="classmap.html#af1f9afa3c36ade30dc57a18b7e3c4165">map::build_vision_transparency_cache</a></div><div class="ttdeci">bool build_vision_transparency_cache(int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00165">lightmap.cpp:165</a></div></div>
<div class="ttc" id="aclassmap_html_af2844aa0cfcf48a0e3cdc92356598b57"><div class="ttname"><a href="classmap.html#af2844aa0cfcf48a0e3cdc92356598b57">map::place_vending</a></div><div class="ttdeci">void place_vending(const point &amp;p, const item_group_id &amp;type, bool reinforced=false)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l05460">mapgen.cpp:5460</a></div></div>
<div class="ttc" id="aclassmap_html_af3309f3c1ff4423e66e1100277db8d82"><div class="ttname"><a href="classmap.html#af3309f3c1ff4423e66e1100277db8d82">map::function_over</a></div><div class="ttdeci">void function_over(const tripoint &amp;start, const tripoint &amp;end, Functor fun) const</div><div class="ttdoc">Runs a functor over given submaps over submaps in the area, getting next submap only when the current...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08278">map.cpp:8278</a></div></div>
<div class="ttc" id="aclassmap_html_af36e4659abd2e9886fbfcb72153b36ce"><div class="ttname"><a href="classmap.html#af36e4659abd2e9886fbfcb72153b36ce">map::disarm_trap</a></div><div class="ttdeci">void disarm_trap(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05213">map.cpp:5213</a></div></div>
<div class="ttc" id="aclassmap_html_af402a7273ea8f54a9fa0947e0d37f88b"><div class="ttname"><a href="classmap.html#af402a7273ea8f54a9fa0947e0d37f88b">map::getmapsize</a></div><div class="ttdeci">int getmapsize() const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01654">map.h:1654</a></div></div>
<div class="ttc" id="aclassmap_html_af4227f2341fcd97f9dab44741bdb0a84"><div class="ttname"><a href="classmap.html#af4227f2341fcd97f9dab44741bdb0a84">map::gas_can_spread_to</a></div><div class="ttdeci">bool gas_can_spread_to(field_entry &amp;cur, const maptile &amp;dst)</div><div class="ttdef"><b>Definition:</b> <a href="map__field_8cpp_source.html#l00211">map_field.cpp:211</a></div></div>
<div class="ttc" id="aclassmap_html_af4f796ebb35b9973d42b8c6b6aaa7415"><div class="ttname"><a href="classmap.html#af4f796ebb35b9973d42b8c6b6aaa7415">map::make_rubble</a></div><div class="ttdeci">void make_rubble(const tripoint &amp;p, const furn_id &amp;rubble_type, bool items)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01033">map.h:1033</a></div></div>
<div class="ttc" id="aclassmap_html_af55e014aab791bbe4c8630361c1311dd"><div class="ttname"><a href="classmap.html#af55e014aab791bbe4c8630361c1311dd">map::furn</a></div><div class="ttdeci">furn_id furn(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01359">map.cpp:1359</a></div></div>
<div class="ttc" id="aclassmap_html_af563dc2397e71a053569cb45c6bb7e77"><div class="ttname"><a href="classmap.html#af563dc2397e71a053569cb45c6bb7e77">map::passable</a></div><div class="ttdeci">bool passable(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01811">map.cpp:1811</a></div></div>
<div class="ttc" id="aclassmap_html_af5803dfe0eb057d67d6c3e3f8e148001"><div class="ttname"><a href="classmap.html#af5803dfe0eb057d67d6c3e3f8e148001">map::apply_character_light</a></div><div class="ttdeci">void apply_character_light(Character &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00196">lightmap.cpp:196</a></div></div>
<div class="ttc" id="aclassmap_html_af65b016e50920ff9469be88d7535b493"><div class="ttname"><a href="classmap.html#af65b016e50920ff9469be88d7535b493">map::process_items_in_submap</a></div><div class="ttdeci">void process_items_in_submap(submap &amp;current_submap, const tripoint &amp;gridp)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04626">map.cpp:4626</a></div></div>
<div class="ttc" id="aclassmap_html_af7af4d1d491495bed468293d33a2ee50"><div class="ttname"><a href="classmap.html#af7af4d1d491495bed468293d33a2ee50">map::vehicle_vehicle_collision</a></div><div class="ttdeci">float vehicle_vehicle_collision(vehicle &amp;veh, vehicle &amp;veh2, const std::vector&lt; veh_collision &gt; &amp;collisions)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00741">map.cpp:741</a></div></div>
<div class="ttc" id="aclassmap_html_af827e12041decbf5816871c8048cde8e"><div class="ttname"><a href="classmap.html#af827e12041decbf5816871c8048cde8e">map::build_map_cache</a></div><div class="ttdeci">void build_map_cache(int zlev, bool skip_lightmap=false)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08008">map.cpp:8008</a></div></div>
<div class="ttc" id="aclassmap_html_af829ce8bf81640d8e8197eb697ab2e96"><div class="ttname"><a href="classmap.html#af829ce8bf81640d8e8197eb697ab2e96">map::get_submap_at</a></div><div class="ttdeci">submap * get_submap_at(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01825">map.h:1825</a></div></div>
<div class="ttc" id="aclassmap_html_af839ef9ba53f51b09259e0af06881fe6"><div class="ttname"><a href="classmap.html#af839ef9ba53f51b09259e0af06881fe6">map::invalidate_map_cache</a></div><div class="ttdeci">void invalidate_map_cache(const int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00458">map.h:458</a></div></div>
<div class="ttc" id="aclassmap_html_af927cd3cda8865cd11b64471be0b8752"><div class="ttname"><a href="classmap.html#af927cd3cda8865cd11b64471be0b8752">map::draw_temple</a></div><div class="ttdeci">void draw_temple(mapgendata &amp;dat)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l04516">mapgen.cpp:4516</a></div></div>
<div class="ttc" id="aclassmap_html_af97720389f7317c6c761082ae9cf7a2b"><div class="ttname"><a href="classmap.html#af97720389f7317c6c761082ae9cf7a2b">map::inbounds</a></div><div class="ttdeci">bool inbounds(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l01641">map.h:1641</a></div></div>
<div class="ttc" id="aclassmap_html_af9786eec1a9615eedf83340533346586"><div class="ttname"><a href="classmap.html#af9786eec1a9615eedf83340533346586">map::stored_volume</a></div><div class="ttdeci">units::volume stored_volume(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04217">map.cpp:4217</a></div></div>
<div class="ttc" id="aclassmap_html_af9897dfd3c11c0cefd1470d849d15250"><div class="ttname"><a href="classmap.html#af9897dfd3c11c0cefd1470d849d15250">map::draw_square_furn</a></div><div class="ttdeci">void draw_square_furn(const furn_id &amp;type, const point &amp;p1, const point &amp;p2)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08175">map.cpp:8175</a></div></div>
<div class="ttc" id="aclassmap_html_af9b776627d41969fbca5089c3d22162c"><div class="ttname"><a href="classmap.html#af9b776627d41969fbca5089c3d22162c">map::is_water_shallow_current</a></div><div class="ttdeci">bool is_water_shallow_current(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02562">map.cpp:2562</a></div></div>
<div class="ttc" id="aclassmap_html_af9d088d0e05d85da58dc17707833d7bc"><div class="ttname"><a href="classmap.html#af9d088d0e05d85da58dc17707833d7bc">map::process_items</a></div><div class="ttdeci">void process_items()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04598">map.cpp:4598</a></div></div>
<div class="ttc" id="aclassmap_html_afc1b449ad33a0170327a2bda5f27ade3"><div class="ttname"><a href="classmap.html#afc1b449ad33a0170327a2bda5f27ade3">map::points_in_rectangle</a></div><div class="ttdeci">tripoint_range&lt; tripoint &gt; points_in_rectangle(const tripoint &amp;from, const tripoint &amp;to) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08386">map.cpp:8386</a></div></div>
<div class="ttc" id="aclassmap_html_afc51ecd77cb0aa34b9a7297438d5963d"><div class="ttname"><a href="classmap.html#afc51ecd77cb0aa34b9a7297438d5963d">map::get_active_items_in_radius</a></div><div class="ttdeci">std::list&lt; item_location &gt; get_active_items_in_radius(const tripoint &amp;center, int radius) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08422">map.cpp:8422</a></div></div>
<div class="ttc" id="aclassmap_html_afc6f711de83d8f975128a3d60a6a7b53"><div class="ttname"><a href="classmap.html#afc6f711de83d8f975128a3d60a6a7b53">map::can_put_items</a></div><div class="ttdeci">bool can_put_items(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02309">map.cpp:2309</a></div></div>
<div class="ttc" id="aclassmap_html_afc9fbcd52f702f22362818c072d84592"><div class="ttname"><a href="classmap.html#afc9fbcd52f702f22362818c072d84592">map::bash_ter_success</a></div><div class="ttdeci">bash_results bash_ter_success(const tripoint &amp;p, const bash_params &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03171">map.cpp:3171</a></div></div>
<div class="ttc" id="aclassmap_html_afd700e5c054365e19499bb2b902f9c50"><div class="ttname"><a href="classmap.html#afd700e5c054365e19499bb2b902f9c50">map::get_submap_at</a></div><div class="ttdeci">submap * get_submap_at(const tripoint &amp;p) const</div><div class="ttdoc">Get the submap pointer containing the specified position within the reality bubble.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08089">map.cpp:8089</a></div></div>
<div class="ttc" id="aclassmap_html_afdc3d888540a2a6f8fedc8b8026b08d3"><div class="ttname"><a href="classmap.html#afdc3d888540a2a6f8fedc8b8026b08d3">map::decay_fields_and_scent</a></div><div class="ttdeci">void decay_fields_and_scent(const time_duration &amp;amount)</div><div class="ttdoc">Moved here from weather.cpp for speed.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02672">map.cpp:2672</a></div></div>
<div class="ttc" id="aclassmap_html_afee1f0c76ff8ec4fab45e22689463268"><div class="ttname"><a href="classmap.html#afee1f0c76ff8ec4fab45e22689463268">map::level_vehicle</a></div><div class="ttdeci">void level_vehicle(vehicle &amp;veh)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01282">map.cpp:1282</a></div></div>
<div class="ttc" id="aclassmapgendata_html"><div class="ttname"><a href="classmapgendata.html">mapgendata</a></div><div class="ttdoc">Contains various information regarding the individual mapgen instance (generating a specific part of ...</div><div class="ttdef"><b>Definition:</b> <a href="mapgendata_8h_source.html#l00035">mapgendata.h:36</a></div></div>
<div class="ttc" id="aclassmonster_html"><div class="ttname"><a href="classmonster.html">monster</a></div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00083">monster.h:84</a></div></div>
<div class="ttc" id="aclassnpc__template_html"><div class="ttname"><a href="classnpc__template.html">npc_template</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01403">npc.h:1404</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html"><div class="ttname"><a href="classoptional__vpart__position.html">optional_vpart_position</a></div><div class="ttdoc">Simple wrapper to forward functions that may return a cata::optional to vpart_position.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00101">vpart_position.h:102</a></div></div>
<div class="ttc" id="aclassplayer_html"><div class="ttname"><a href="classplayer.html">player</a></div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00098">player.h:99</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id</a></div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00196">string_id.h:197</a></div></div>
<div class="ttc" id="aclasssubmap_html"><div class="ttname"><a href="classsubmap.html">submap</a></div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00064">submap.h:65</a></div></div>
<div class="ttc" id="aclasstileray_html"><div class="ttname"><a href="classtileray.html">tileray</a></div><div class="ttdef"><b>Definition:</b> <a href="tileray_8h_source.html#l00026">tileray.h:27</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00179">calendar.h:180</a></div></div>
<div class="ttc" id="aclasstime__point_html"><div class="ttname"><a href="classtime__point.html">time_point</a></div><div class="ttdoc">A point in the game time.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00430">calendar.h:431</a></div></div>
<div class="ttc" id="aclasstinymap_html"><div class="ttname"><a href="classtinymap.html">tinymap</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02066">map.h:2067</a></div></div>
<div class="ttc" id="aclasstinymap_html_a54bdc4c7c29d62cbebc4f81383b9424b"><div class="ttname"><a href="classtinymap.html#a54bdc4c7c29d62cbebc4f81383b9424b">tinymap::tinymap</a></div><div class="ttdeci">tinymap(int mapsize=2, bool zlevels=false)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08122">map.cpp:8122</a></div></div>
<div class="ttc" id="aclasstinymap_html_ae76363b427f6ff89d9eb7b765e09a8c7"><div class="ttname"><a href="classtinymap.html#ae76363b427f6ff89d9eb7b765e09a8c7">tinymap::inbounds</a></div><div class="ttdeci">bool inbounds(const tripoint &amp;p) const override</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07599">map.cpp:7599</a></div></div>
<div class="ttc" id="aclasstripoint__range_html"><div class="ttname"><a href="classtripoint__range.html">tripoint_range</a></div><div class="ttdef"><b>Definition:</b> <a href="map__iterator_8h_source.html#l00012">map_iterator.h:13</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units__def_8h_source.html#l00014">units_def.h:15</a></div></div>
<div class="ttc" id="aclassvehicle_html"><div class="ttname"><a href="classvehicle.html">vehicle</a></div><div class="ttdoc">A vehicle as a whole with all its components.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00674">vehicle.h:675</a></div></div>
<div class="ttc" id="aclassvisitable_html"><div class="ttname"><a href="classvisitable.html">visitable</a></div><div class="ttdef"><b>Definition:</b> <a href="visitable_8h_source.html#l00023">visitable.h:24</a></div></div>
<div class="ttc" id="aclassvpart__reference_html"><div class="ttname"><a href="classvpart__reference.html">vpart_reference</a></div><div class="ttdoc">This is a wrapper over a vehicle pointer and a reference to a part of it.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00124">vpart_position.h:125</a></div></div>
<div class="ttc" id="aclasszone__data_html"><div class="ttname"><a href="classzone__data.html">zone_data</a></div><div class="ttdoc">These are zones the player can designate.</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8h_source.html#l00233">clzones.h:234</a></div></div>
<div class="ttc" id="acolony_8h_html"><div class="ttname"><a href="colony_8h.html">colony.h</a></div></div>
<div class="ttc" id="acoordinate__conversions_8cpp_html_aab2861adbce30d229bf852df21a98c1a"><div class="ttname"><a href="coordinate__conversions_8cpp.html#aab2861adbce30d229bf852df21a98c1a">ms_to_sm_copy</a></div><div class="ttdeci">point ms_to_sm_copy(const point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="coordinate__conversions_8cpp_source.html#l00125">coordinate_conversions.cpp:125</a></div></div>
<div class="ttc" id="acoordinate__conversions_8h_html"><div class="ttname"><a href="coordinate__conversions_8h.html">coordinate_conversions.h</a></div></div>
<div class="ttc" id="acoordinates_8h_html"><div class="ttname"><a href="coordinates_8h.html">coordinates.h</a></div></div>
<div class="ttc" id="acrafting_8h_html_aa5f7f30378264d4adcf8b4a0ceb3b207afd87f5969ecaa22eaca667dd742f916d"><div class="ttname"><a href="crafting_8h.html#aa5f7f30378264d4adcf8b4a0ceb3b207afd87f5969ecaa22eaca667dd742f916d">bench_type::furniture</a></div><div class="ttdeci">@ furniture</div></div>
<div class="ttc" id="adescriptions_8cpp_html_aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04"><div class="ttname"><a href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">description_target::terrain</a></div><div class="ttdeci">@ terrain</div></div>
<div class="ttc" id="aenums_8h_html"><div class="ttname"><a href="enums_8h.html">enums.h</a></div></div>
<div class="ttc" id="aenums_8h_html_a098f2c63abf2d51d89c2b3e8db8b313b"><div class="ttname"><a href="enums_8h.html#a098f2c63abf2d51d89c2b3e8db8b313b">visibility_type</a></div><div class="ttdeci">visibility_type</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00057">enums.h:57</a></div></div>
<div class="ttc" id="aenums_8h_html_a9514e9cfc369de1113bc9e44cd5db33d"><div class="ttname"><a href="enums_8h.html#a9514e9cfc369de1113bc9e44cd5db33d">artifact_natural_property</a></div><div class="ttdeci">artifact_natural_property</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00152">enums.h:152</a></div></div>
<div class="ttc" id="aenums_8h_html_ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab"><div class="ttname"><a href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a></div><div class="ttdeci">@ type</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00075">enums.h:75</a></div></div>
<div class="ttc" id="afilter__utils_8h_html"><div class="ttname"><a href="filter__utils_8h.html">filter_utils.h</a></div></div>
<div class="ttc" id="agame__constants_8h_html"><div class="ttname"><a href="game__constants_8h.html">game_constants.h</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a2b6d307dfab13601267fc3c627192f4e"><div class="ttname"><a href="game__constants_8h.html#a2b6d307dfab13601267fc3c627192f4e">MAPSIZE_Y</a></div><div class="ttdeci">static constexpr int MAPSIZE_Y</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00040">game_constants.h:40</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a2f229f6ae9b3affb78ec8139ccdbf18e"><div class="ttname"><a href="game__constants_8h.html#a2f229f6ae9b3affb78ec8139ccdbf18e">MAPSIZE_X</a></div><div class="ttdeci">static constexpr int MAPSIZE_X</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00039">game_constants.h:39</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a3984a9476d1edc78e4e7b886a08d4d4b"><div class="ttname"><a href="game__constants_8h.html#a3984a9476d1edc78e4e7b886a08d4d4b">OVERMAP_HEIGHT</a></div><div class="ttdeci">static constexpr int OVERMAP_HEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00063">game_constants.h:63</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a3b81841aab42975add2ee3525f48058a"><div class="ttname"><a href="game__constants_8h.html#a3b81841aab42975add2ee3525f48058a">OVERMAP_LAYERS</a></div><div class="ttdeci">static constexpr int OVERMAP_LAYERS</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00065">game_constants.h:65</a></div></div>
<div class="ttc" id="agame__constants_8h_html_aad0eacfa516a8f7e005674027d7640fe"><div class="ttname"><a href="game__constants_8h.html#aad0eacfa516a8f7e005674027d7640fe">OVERMAP_DEPTH</a></div><div class="ttdeci">static constexpr int OVERMAP_DEPTH</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00061">game_constants.h:61</a></div></div>
<div class="ttc" id="agame__constants_8h_html_ad277b12d7860c613865a85a2cc383c17"><div class="ttname"><a href="game__constants_8h.html#ad277b12d7860c613865a85a2cc383c17">MAPSIZE</a></div><div class="ttdeci">static constexpr int MAPSIZE</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00031">game_constants.h:31</a></div></div>
<div class="ttc" id="agame__constants_8h_html_aee38c8a585c0020fc8ade031dab65393"><div class="ttname"><a href="game__constants_8h.html#aee38c8a585c0020fc8ade031dab65393">MAX_ITEM_IN_SQUARE</a></div><div class="ttdeci">static constexpr int MAX_ITEM_IN_SQUARE</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00025">game_constants.h:25</a></div></div>
<div class="ttc" id="aitem_8h_html"><div class="ttname"><a href="item_8h.html">item.h</a></div></div>
<div class="ttc" id="aitem__stack_8h_html"><div class="ttname"><a href="item__stack_8h.html">item_stack.h</a></div></div>
<div class="ttc" id="alightmap_8h_html"><div class="ttname"><a href="lightmap_8h.html">lightmap.h</a></div></div>
<div class="ttc" id="alightmap_8h_html_aeb9bbbd65db85e3561729666fb6c7b38"><div class="ttname"><a href="lightmap_8h.html#aeb9bbbd65db85e3561729666fb6c7b38">lit_level</a></div><div class="ttdeci">lit_level</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8h_source.html#l00043">lightmap.h:43</a></div></div>
<div class="ttc" id="aline_8h_html"><div class="ttname"><a href="line_8h.html">line.h</a></div></div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3">direction</a></div><div class="ttdeci">direction</div><div class="ttdef"><b>Definition:</b> <a href="line_8h_source.html#l00039">line.h:39</a></div></div>
<div class="ttc" id="alru__cache_8h_html"><div class="ttname"><a href="lru__cache_8h.html">lru_cache.h</a></div></div>
<div class="ttc" id="amagic_8cpp_html_a6753ecfe87da659675b18c2f81d6ec12"><div class="ttname"><a href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a></div><div class="ttdeci">constexpr double c</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01031">magic.cpp:1031</a></div></div>
<div class="ttc" id="amap_8h_html_a154653b69f33e37a47333fd07d81c6f0"><div class="ttname"><a href="map_8h.html#a154653b69f33e37a47333fd07d81c6f0">ter_furn_has_flag</a></div><div class="ttdeci">bool ter_furn_has_flag(const ter_t &amp;ter, const furn_t &amp;furn, ter_bitflags flag)</div><div class="ttdef"><b>Definition:</b> <a href="map__field_8cpp_source.html#l00161">map_field.cpp:161</a></div></div>
<div class="ttc" id="amap_8h_html_a7c3a7f6a3874e9928b498a842013d636"><div class="ttname"><a href="map_8h.html#a7c3a7f6a3874e9928b498a842013d636">shift_bitset_cache</a></div><div class="ttdeci">void shift_bitset_cache(std::bitset&lt; SIZE *SIZE &gt; &amp;cache, const point &amp;s)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06565">map.cpp:6565</a></div></div>
<div class="ttc" id="amap_8h_html_acb0b34be6e497bdd2f9f40ae6929d562"><div class="ttname"><a href="map_8h.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00149">map.cpp:141</a></div></div>
<div class="ttc" id="amap_8h_html_ae705edb5469cf2668ca5bc3297d75ebb"><div class="ttname"><a href="map_8h.html#ae705edb5469cf2668ca5bc3297d75ebb">VehicleList</a></div><div class="ttdeci">std::vector&lt; wrapped_vehicle &gt; VehicleList</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00085">map.h:85</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_aa4573ce2c594834a8ced806a5099f3e3"><div class="ttname"><a href="mapdata_8cpp.html#aa4573ce2c594834a8ced806a5099f3e3">t_dirt</a></div><div class="ttdeci">ter_id t_dirt</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00625">mapdata.cpp:625</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_af611f8ecab4117286d3984ca761828f3"><div class="ttname"><a href="mapdata_8cpp.html#af611f8ecab4117286d3984ca761828f3">f_rubble</a></div><div class="ttdeci">furn_id f_rubble</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l01097">mapdata.cpp:1097</a></div></div>
<div class="ttc" id="amapdata_8h_html"><div class="ttname"><a href="mapdata_8h.html">mapdata.h</a></div></div>
<div class="ttc" id="amapdata_8h_html_aa04d037303ea30193f7cf0cd82304258"><div class="ttname"><a href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258">ter_bitflags</a></div><div class="ttdeci">ter_bitflags</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00275">mapdata.h:275</a></div></div>
<div class="ttc" id="amemory__fast_8h_html"><div class="ttname"><a href="memory__fast_8h.html">memory_fast.h</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ab01178b933b4f1c62bd75b2edfdbaf79"><div class="ttname"><a href="namespacecalendar.html#ab01178b933b4f1c62bd75b2edfdbaf79">calendar::start_of_cataclysm</a></div><div class="ttdeci">const time_point &amp; start_of_cataclysm</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00033">calendar.cpp:33</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00036">calendar.cpp:36</a></div></div>
<div class="ttc" id="anamespacecata_html"><div class="ttname"><a href="namespacecata.html">cata</a></div><div class="ttdef"><b>Definition:</b> <a href="achievement_8h_source.html#l00025">achievement.h:26</a></div></div>
<div class="ttc" id="anamespacecata_html_ad05314667ac5d05f984aeeef26b9a87f"><div class="ttname"><a href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a></div><div class="ttdeci">static constexpr nullopt_t nullopt</div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00022">optional.h:22</a></div></div>
<div class="ttc" id="anamespacecatacurses_html"><div class="ttname"><a href="namespacecatacurses.html">catacurses</a></div><div class="ttdoc">Contains the curses interface used by the whole game.</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00049">basecamp.h:50</a></div></div>
<div class="ttc" id="anamespacecoords_html_ad99808a305ad40299e592d1266bed4a7"><div class="ttname"><a href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">coords::origin</a></div><div class="ttdeci">origin</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00057">coordinates.h:57</a></div></div>
<div class="ttc" id="anamespacecoords_html_aefed5186be640da17dc0e723c536715a"><div class="ttname"><a href="namespacecoords.html#aefed5186be640da17dc0e723c536715a">coords::scale</a></div><div class="ttdeci">scale</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00021">coordinates.h:21</a></div></div>
<div class="ttc" id="anamespacedetail_html_ab2f84fb3de26acdac3fc63a2dce5ea5e"><div class="ttname"><a href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">detail::count</a></div><div class="ttdeci">constexpr size_t count()</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__core_8h_source.html#l01073">fmtlib_core.h:1073</a></div></div>
<div class="ttc" id="anamespacemapgen__defer_html_a616ad2c7ee2eb002b683b41b04a888c1"><div class="ttname"><a href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">mapgen_defer::message</a></div><div class="ttdeci">std::string message</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l00403">mapgen.cpp:403</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a75c0342ea30288a5a6d5bdbff38f7cde"><div class="ttname"><a href="namespaceom__direction.html#a75c0342ea30288a5a6d5bdbff38f7cde">om_direction::add</a></div><div class="ttdeci">type add(type dir1, type dir2)</div><div class="ttdoc">Returns a sum of two numbers.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l04117">overmap.cpp:4117</a></div></div>
<div class="ttc" id="anamespacesfx_html_a746a046c4c6989d32aa62d6799c2f496"><div class="ttname"><a href="namespacesfx.html#a746a046c4c6989d32aa62d6799c2f496">sfx::group</a></div><div class="ttdeci">group</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8h_source.html#l00125">sounds.h:125</a></div></div>
<div class="ttc" id="anamespaceunits_html_a458531725a9f70ed821e8067cfaf3a0d"><div class="ttname"><a href="namespaceunits.html#a458531725a9f70ed821e8067cfaf3a0d">units::temperature</a></div><div class="ttdeci">quantity&lt; int, temperature_in_millidegree_celsius_tag &gt; temperature</div><div class="ttdef"><b>Definition:</b> <a href="units__temperature_8h_source.html#l00061">units_temperature.h:61</a></div></div>
<div class="ttc" id="anpc_8h_html_ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9"><div class="ttname"><a href="npc_8h.html#ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9">attitude_group::friendly</a></div><div class="ttdeci">@ friendly</div></div>
<div class="ttc" id="apoint_8h_html"><div class="ttname"><a href="point_8h.html">point.h</a></div></div>
<div class="ttc" id="apoint_8h_html_afa8693bb804568b71fece8ab73d959bf"><div class="ttname"><a href="point_8h.html#afa8693bb804568b71fece8ab73d959bf">tripoint_min</a></div><div class="ttdeci">static constexpr tripoint tripoint_min</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00318">point.h:318</a></div></div>
<div class="ttc" id="ashadowcasting_8h_html"><div class="ttname"><a href="shadowcasting_8h.html">shadowcasting.h</a></div></div>
<div class="ttc" id="astructbash__params_html"><div class="ttname"><a href="structbash__params.html">bash_params</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00127">map.h:127</a></div></div>
<div class="ttc" id="astructbash__params_html_a0165ea77e4f907309af720e5d2c1a237"><div class="ttname"><a href="structbash__params.html#a0165ea77e4f907309af720e5d2c1a237">bash_params::roll</a></div><div class="ttdeci">float roll</div><div class="ttdoc">Value from 0.0 to 1.0 that affects interpolation between str_min and str_max At 0....</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00143">map.h:143</a></div></div>
<div class="ttc" id="astructbash__params_html_a1d288562b7a6e93aa2953ef283d5e5ef"><div class="ttname"><a href="structbash__params.html#a1d288562b7a6e93aa2953ef283d5e5ef">bash_params::bash_params</a></div><div class="ttdeci">bash_params()=default</div></div>
<div class="ttc" id="astructbash__params_html_a23e57435b411801b07da42606f2e2d12"><div class="ttname"><a href="structbash__params.html#a23e57435b411801b07da42606f2e2d12">bash_params::do_recurse</a></div><div class="ttdeci">bool do_recurse</div><div class="ttdoc">Hack to prevent infinite recursion.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00155">map.h:155</a></div></div>
<div class="ttc" id="astructbash__params_html_a3b3229b5ce009b595dc82bfed95e7fcb"><div class="ttname"><a href="structbash__params.html#a3b3229b5ce009b595dc82bfed95e7fcb">bash_params::bash_floor</a></div><div class="ttdeci">bool bash_floor</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00136">map.h:136</a></div></div>
<div class="ttc" id="astructbash__params_html_a671251d575df9c4f407a3c62fea7575d"><div class="ttname"><a href="structbash__params.html#a671251d575df9c4f407a3c62fea7575d">bash_params::bashing_from_above</a></div><div class="ttdeci">bool bashing_from_above</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00150">map.h:150</a></div></div>
<div class="ttc" id="astructbash__params_html_a93df5793726ccd72cbaa46ed96c0b33d"><div class="ttname"><a href="structbash__params.html#a93df5793726ccd72cbaa46ed96c0b33d">bash_params::destroy</a></div><div class="ttdeci">bool destroy</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00134">map.h:134</a></div></div>
<div class="ttc" id="astructbash__params_html_aaf7748c3a501452b81278fd277468655"><div class="ttname"><a href="structbash__params.html#aaf7748c3a501452b81278fd277468655">bash_params::strength</a></div><div class="ttdeci">int strength</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00130">map.h:130</a></div></div>
<div class="ttc" id="astructbash__params_html_af468c3e85f965ec2c3cd221a57109241"><div class="ttname"><a href="structbash__params.html#af468c3e85f965ec2c3cd221a57109241">bash_params::silent</a></div><div class="ttdeci">bool silent</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00132">map.h:132</a></div></div>
<div class="ttc" id="astructbash__results_html"><div class="ttname"><a href="structbash__results.html">bash_results</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00158">map.h:158</a></div></div>
<div class="ttc" id="astructbash__results_html_a06ab05bdb5bc8081c7c6b324862aeb10"><div class="ttname"><a href="structbash__results.html#a06ab05bdb5bc8081c7c6b324862aeb10">bash_results::subresults</a></div><div class="ttdeci">std::vector&lt; bash_results &gt; subresults</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00170">map.h:170</a></div></div>
<div class="ttc" id="astructbash__results_html_a212628d9c99fd430df1a609da3427ee7"><div class="ttname"><a href="structbash__results.html#a212628d9c99fd430df1a609da3427ee7">bash_results::bash_results</a></div><div class="ttdeci">bash_results(bool did_bash, bool success, bool bashed_solid)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00159">map.h:159</a></div></div>
<div class="ttc" id="astructbash__results_html_a48c2a9a4e6818114ae5506cf3eee1083"><div class="ttname"><a href="structbash__results.html#a48c2a9a4e6818114ae5506cf3eee1083">bash_results::did_bash</a></div><div class="ttdeci">bool did_bash</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00164">map.h:164</a></div></div>
<div class="ttc" id="astructbash__results_html_a73ff68ed8a80ac1c7e4a5b50fc8fc5e5"><div class="ttname"><a href="structbash__results.html#a73ff68ed8a80ac1c7e4a5b50fc8fc5e5">bash_results::bash_results</a></div><div class="ttdeci">bash_results()=default</div></div>
<div class="ttc" id="astructbash__results_html_a7b4071c6742fab2f9aa93c9275c26b92"><div class="ttname"><a href="structbash__results.html#a7b4071c6742fab2f9aa93c9275c26b92">bash_results::operator|=</a></div><div class="ttdeci">bash_results &amp; operator|=(const bash_results &amp;other)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03622">map.cpp:3622</a></div></div>
<div class="ttc" id="astructbash__results_html_aca607ab5e6884fe03b2119ffecd88419"><div class="ttname"><a href="structbash__results.html#aca607ab5e6884fe03b2119ffecd88419">bash_results::success</a></div><div class="ttdeci">bool success</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00166">map.h:166</a></div></div>
<div class="ttc" id="astructbash__results_html_afe659e698646174add3359fbb95e9309"><div class="ttname"><a href="structbash__results.html#afe659e698646174add3359fbb95e9309">bash_results::bashed_solid</a></div><div class="ttdeci">bool bashed_solid</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00168">map.h:168</a></div></div>
<div class="ttc" id="astructdrawsq__params_html"><div class="ttname"><a href="structdrawsq__params.html">drawsq_params</a></div><div class="ttdoc">Draw parameters used by map::drawsq() and similar methods.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00176">map.h:176</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_a07e0031d80c902338e81e0625215c8ee"><div class="ttname"><a href="structdrawsq__params.html#a07e0031d80c902338e81e0625215c8ee">drawsq_params::highlight</a></div><div class="ttdeci">constexpr drawsq_params &amp; highlight(bool v)</div><div class="ttdoc">Highlight the tile.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00194">map.h:194</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_a207196316483ad82ae1f8dfaa313f1f2"><div class="ttname"><a href="structdrawsq__params.html#a207196316483ad82ae1f8dfaa313f1f2">drawsq_params::center</a></div><div class="ttdeci">tripoint center() const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08749">map.cpp:8749</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_a3589f58cf06ea91bb8bfda355f6ab123"><div class="ttname"><a href="structdrawsq__params.html#a3589f58cf06ea91bb8bfda355f6ab123">drawsq_params::bright_light</a></div><div class="ttdeci">constexpr drawsq_params &amp; bright_light(bool v)</div><div class="ttdoc">Whether tile is in bright light.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00236">map.h:236</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_a428d49afdfcc51ecdc020957048066da"><div class="ttname"><a href="structdrawsq__params.html#a428d49afdfcc51ecdc020957048066da">drawsq_params::memorize</a></div><div class="ttdeci">constexpr bool memorize() const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00254">map.h:254</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_a45c2dd16f8e773f6bf5fe1e75003e5c4"><div class="ttname"><a href="structdrawsq__params.html#a45c2dd16f8e773f6bf5fe1e75003e5c4">drawsq_params::do_low_light</a></div><div class="ttdeci">bool do_low_light</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00181">map.h:181</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_a4eac1f2803404297e656a201f399ea4d"><div class="ttname"><a href="structdrawsq__params.html#a4eac1f2803404297e656a201f399ea4d">drawsq_params::highlight</a></div><div class="ttdeci">constexpr bool highlight() const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00198">map.h:198</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_a51debed89297fe92ab6e33e20da23027"><div class="ttname"><a href="structdrawsq__params.html#a51debed89297fe92ab6e33e20da23027">drawsq_params::show_items</a></div><div class="ttdeci">constexpr bool show_items() const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00212">map.h:212</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_a57a10508ab63236e853c498ef0569dd7"><div class="ttname"><a href="structdrawsq__params.html#a57a10508ab63236e853c498ef0569dd7">drawsq_params::view_center</a></div><div class="ttdeci">tripoint view_center</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00178">map.h:178</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_a5e8a2d599e28f7b51e70697c0ef63908"><div class="ttname"><a href="structdrawsq__params.html#a5e8a2d599e28f7b51e70697c0ef63908">drawsq_params::do_bright_light</a></div><div class="ttdeci">bool do_bright_light</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00182">map.h:182</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_a62c9449e7c7cf3d1a7828e2c65100ac8"><div class="ttname"><a href="structdrawsq__params.html#a62c9449e7c7cf3d1a7828e2c65100ac8">drawsq_params::center</a></div><div class="ttdeci">constexpr drawsq_params &amp; center(const tripoint &amp;p)</div><div class="ttdoc">Set view center.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00279">map.h:279</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_a85a865bd29411c9fe01a0faf3ffcc9af"><div class="ttname"><a href="structdrawsq__params.html#a85a865bd29411c9fe01a0faf3ffcc9af">drawsq_params::center_at_avatar</a></div><div class="ttdeci">constexpr drawsq_params &amp; center_at_avatar()</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00283">map.h:283</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_a8e475f98647ecc186ceef593e256e458"><div class="ttname"><a href="structdrawsq__params.html#a8e475f98647ecc186ceef593e256e458">drawsq_params::low_light</a></div><div class="ttdeci">constexpr bool low_light() const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00226">map.h:226</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_a93d0b3025f413faa84e7b5a162d3c78e"><div class="ttname"><a href="structdrawsq__params.html#a93d0b3025f413faa84e7b5a162d3c78e">drawsq_params::do_output</a></div><div class="ttdeci">bool do_output</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00184">map.h:184</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_a9636fcbae9c656f3600c2597a87e1ffc"><div class="ttname"><a href="structdrawsq__params.html#a9636fcbae9c656f3600c2597a87e1ffc">drawsq_params::drawsq_params</a></div><div class="ttdeci">constexpr drawsq_params()=default</div></div>
<div class="ttc" id="astructdrawsq__params_html_a9cdc4238e5d02c4c875ef71e557f290e"><div class="ttname"><a href="structdrawsq__params.html#a9cdc4238e5d02c4c875ef71e557f290e">drawsq_params::bright_light</a></div><div class="ttdeci">constexpr bool bright_light() const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00240">map.h:240</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_aa033428159f5951773478d013287ab55"><div class="ttname"><a href="structdrawsq__params.html#aa033428159f5951773478d013287ab55">drawsq_params::output</a></div><div class="ttdeci">constexpr bool output() const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00269">map.h:269</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_aa1f5053e75daac9a717b5121f2ec6680"><div class="ttname"><a href="structdrawsq__params.html#aa1f5053e75daac9a717b5121f2ec6680">drawsq_params::do_show_items</a></div><div class="ttdeci">bool do_show_items</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00180">map.h:180</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_ab0e480cbaf3820a8db148b33168b0c8c"><div class="ttname"><a href="structdrawsq__params.html#ab0e480cbaf3820a8db148b33168b0c8c">drawsq_params::output</a></div><div class="ttdeci">constexpr drawsq_params &amp; output(bool v)</div><div class="ttdoc">HACK: Whether the tile should be printed.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00265">map.h:265</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_ad2daef9ac32afb87bb654c4a24ea55ed"><div class="ttname"><a href="structdrawsq__params.html#ad2daef9ac32afb87bb654c4a24ea55ed">drawsq_params::do_highlight</a></div><div class="ttdeci">bool do_highlight</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00179">map.h:179</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_ad93d9fda9626f875b7c869f80112605e"><div class="ttname"><a href="structdrawsq__params.html#ad93d9fda9626f875b7c869f80112605e">drawsq_params::do_memorize</a></div><div class="ttdeci">bool do_memorize</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00183">map.h:183</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_ade6ae5245d19a1d0b1a3528b26ca3eb9"><div class="ttname"><a href="structdrawsq__params.html#ade6ae5245d19a1d0b1a3528b26ca3eb9">drawsq_params::memorize</a></div><div class="ttdeci">constexpr drawsq_params &amp; memorize(bool v)</div><div class="ttdoc">Whether the tile should be memorized.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00250">map.h:250</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_aec60dd738bbba7cdc8148d2e6039210a"><div class="ttname"><a href="structdrawsq__params.html#aec60dd738bbba7cdc8148d2e6039210a">drawsq_params::show_items</a></div><div class="ttdeci">constexpr drawsq_params &amp; show_items(bool v)</div><div class="ttdoc">Whether to draw items on the tile.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00208">map.h:208</a></div></div>
<div class="ttc" id="astructdrawsq__params_html_aef10e6e767f6b4c50d09b07b51579642"><div class="ttname"><a href="structdrawsq__params.html#aef10e6e767f6b4c50d09b07b51579642">drawsq_params::low_light</a></div><div class="ttdeci">constexpr drawsq_params &amp; low_light(bool v)</div><div class="ttdoc">Whether tile is low light, and should be drawn with muted color.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00222">map.h:222</a></div></div>
<div class="ttc" id="astructfour__quadrants_html"><div class="ttname"><a href="structfour__quadrants.html">four_quadrants</a></div><div class="ttdef"><b>Definition:</b> <a href="shadowcasting_8h_source.html#l00026">shadowcasting.h:26</a></div></div>
<div class="ttc" id="astructfurn__t_html"><div class="ttname"><a href="structfurn__t.html">furn_t</a></div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00489">mapdata.h:489</a></div></div>
<div class="ttc" id="astructlevel__cache_html"><div class="ttname"><a href="structlevel__cache.html">level_cache</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00291">map.h:291</a></div></div>
<div class="ttc" id="astructlevel__cache_html_a09608233136cae79d2bd94c3d1d9ffdd"><div class="ttname"><a href="structlevel__cache.html#a09608233136cae79d2bd94c3d1d9ffdd">level_cache::outside_cache_dirty</a></div><div class="ttdeci">bool outside_cache_dirty</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00297">map.h:297</a></div></div>
<div class="ttc" id="astructlevel__cache_html_a0d5b0df13e2b5fe817a458be44546219"><div class="ttname"><a href="structlevel__cache.html#a0d5b0df13e2b5fe817a458be44546219">level_cache::seen_cache</a></div><div class="ttdeci">float seen_cache[MAPSIZE_X][MAPSIZE_Y]</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00331">map.h:331</a></div></div>
<div class="ttc" id="astructlevel__cache_html_a109f086036f662c196589200b972f8a4"><div class="ttname"><a href="structlevel__cache.html#a109f086036f662c196589200b972f8a4">level_cache::light_source_buffer</a></div><div class="ttdeci">float light_source_buffer[MAPSIZE_X][MAPSIZE_Y]</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00308">map.h:308</a></div></div>
<div class="ttc" id="astructlevel__cache_html_a1d3856892a7a5815f09ea7e8e502c2e5"><div class="ttname"><a href="structlevel__cache.html#a1d3856892a7a5815f09ea7e8e502c2e5">level_cache::lm</a></div><div class="ttdeci">four_quadrants lm[MAPSIZE_X][MAPSIZE_Y]</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00304">map.h:304</a></div></div>
<div class="ttc" id="astructlevel__cache_html_a24b1fdeb40834e94a75234743cc2948d"><div class="ttname"><a href="structlevel__cache.html#a24b1fdeb40834e94a75234743cc2948d">level_cache::floor_cache_dirty</a></div><div class="ttdeci">bool floor_cache_dirty</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00298">map.h:298</a></div></div>
<div class="ttc" id="astructlevel__cache_html_a2af0622caf0c878e166015f22e2add9e"><div class="ttname"><a href="structlevel__cache.html#a2af0622caf0c878e166015f22e2add9e">level_cache::field_cache</a></div><div class="ttdeci">std::bitset&lt; MAPSIZE *MAPSIZE &gt; field_cache</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00340">map.h:340</a></div></div>
<div class="ttc" id="astructlevel__cache_html_a5442c23fc714c659faac43bfd17bc2f4"><div class="ttname"><a href="structlevel__cache.html#a5442c23fc714c659faac43bfd17bc2f4">level_cache::transparency_cache_dirty</a></div><div class="ttdeci">std::bitset&lt; MAPSIZE *MAPSIZE &gt; transparency_cache_dirty</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00296">map.h:296</a></div></div>
<div class="ttc" id="astructlevel__cache_html_a588b0269e8b90fbaaf314abf1ed85f55"><div class="ttname"><a href="structlevel__cache.html#a588b0269e8b90fbaaf314abf1ed85f55">level_cache::floor_cache</a></div><div class="ttdeci">bool floor_cache[MAPSIZE_X][MAPSIZE_Y]</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00318">map.h:318</a></div></div>
<div class="ttc" id="astructlevel__cache_html_a89601d2fa12cacb02a3c347a11c63162"><div class="ttname"><a href="structlevel__cache.html#a89601d2fa12cacb02a3c347a11c63162">level_cache::veh_in_active_range</a></div><div class="ttdeci">bool veh_in_active_range</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00342">map.h:342</a></div></div>
<div class="ttc" id="astructlevel__cache_html_a8e9aa1e28e9e616a972ac6cb5353d104"><div class="ttname"><a href="structlevel__cache.html#a8e9aa1e28e9e616a972ac6cb5353d104">level_cache::zone_vehicles</a></div><div class="ttdeci">std::set&lt; vehicle * &gt; zone_vehicles</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00346">map.h:346</a></div></div>
<div class="ttc" id="astructlevel__cache_html_a98e6882301ee3fd356e840dc466bfc45"><div class="ttname"><a href="structlevel__cache.html#a98e6882301ee3fd356e840dc466bfc45">level_cache::vehicle_list</a></div><div class="ttdeci">std::set&lt; vehicle * &gt; vehicle_list</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00345">map.h:345</a></div></div>
<div class="ttc" id="astructlevel__cache_html_a9a4ea1fae01f7663677734507557ba8f"><div class="ttname"><a href="structlevel__cache.html#a9a4ea1fae01f7663677734507557ba8f">level_cache::level_cache</a></div><div class="ttdeci">level_cache()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08516">map.cpp:8516</a></div></div>
<div class="ttc" id="astructlevel__cache_html_a9a900fe87f376efd5c76ac14d03ce62b"><div class="ttname"><a href="structlevel__cache.html#a9a900fe87f376efd5c76ac14d03ce62b">level_cache::map_memory_seen_cache</a></div><div class="ttdeci">std::bitset&lt; MAPSIZE_X *MAPSIZE_Y &gt; map_memory_seen_cache</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00339">map.h:339</a></div></div>
<div class="ttc" id="astructlevel__cache_html_a9f85fb15dc9bf14c0134cb07bdf5db60"><div class="ttname"><a href="structlevel__cache.html#a9f85fb15dc9bf14c0134cb07bdf5db60">level_cache::suspension_cache_initialized</a></div><div class="ttdeci">bool suspension_cache_initialized</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00300">map.h:300</a></div></div>
<div class="ttc" id="astructlevel__cache_html_aa548a971fec11c3cb30e0f5eba367056"><div class="ttname"><a href="structlevel__cache.html#aa548a971fec11c3cb30e0f5eba367056">level_cache::suspension_cache</a></div><div class="ttdeci">std::list&lt; point &gt; suspension_cache</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00302">map.h:302</a></div></div>
<div class="ttc" id="astructlevel__cache_html_aa6b0ffa35becad0f59623507be05abf7"><div class="ttname"><a href="structlevel__cache.html#aa6b0ffa35becad0f59623507be05abf7">level_cache::suspension_cache_dirty</a></div><div class="ttdeci">bool suspension_cache_dirty</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00301">map.h:301</a></div></div>
<div class="ttc" id="astructlevel__cache_html_aae5b10f8c81f98cfcba26167bf800df7"><div class="ttname"><a href="structlevel__cache.html#aae5b10f8c81f98cfcba26167bf800df7">level_cache::sm</a></div><div class="ttdeci">float sm[MAPSIZE_X][MAPSIZE_Y]</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00305">map.h:305</a></div></div>
<div class="ttc" id="astructlevel__cache_html_aaf488243c97a59afbd63a9f9e2972afc"><div class="ttname"><a href="structlevel__cache.html#aaf488243c97a59afbd63a9f9e2972afc">level_cache::outside_cache</a></div><div class="ttdeci">bool outside_cache[MAPSIZE_X][MAPSIZE_Y]</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00312">map.h:312</a></div></div>
<div class="ttc" id="astructlevel__cache_html_ab2cdaa15a42d7ab408b8ab4d368c5bf2"><div class="ttname"><a href="structlevel__cache.html#ab2cdaa15a42d7ab408b8ab4d368c5bf2">level_cache::level_cache</a></div><div class="ttdeci">level_cache(const level_cache &amp;other)=default</div></div>
<div class="ttc" id="astructlevel__cache_html_abc05173a201b92434aa76b9548e8c5db"><div class="ttname"><a href="structlevel__cache.html#abc05173a201b92434aa76b9548e8c5db">level_cache::veh_exists_at</a></div><div class="ttdeci">bool veh_exists_at[MAPSIZE_X][MAPSIZE_Y]</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00343">map.h:343</a></div></div>
<div class="ttc" id="astructlevel__cache_html_ac4600f4173f4f10c4ed8f015877f5288"><div class="ttname"><a href="structlevel__cache.html#ac4600f4173f4f10c4ed8f015877f5288">level_cache::seen_cache_dirty</a></div><div class="ttdeci">bool seen_cache_dirty</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00299">map.h:299</a></div></div>
<div class="ttc" id="astructlevel__cache_html_ad1be36035ce00b2c64dd1b73528f4975"><div class="ttname"><a href="structlevel__cache.html#ad1be36035ce00b2c64dd1b73528f4975">level_cache::transparency_cache</a></div><div class="ttdeci">float transparency_cache[MAPSIZE_X][MAPSIZE_Y]</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00322">map.h:322</a></div></div>
<div class="ttc" id="astructlevel__cache_html_add0cbb5f55e168b6555aebc425bab1c6"><div class="ttname"><a href="structlevel__cache.html#add0cbb5f55e168b6555aebc425bab1c6">level_cache::veh_cached_parts</a></div><div class="ttdeci">std::map&lt; tripoint, std::pair&lt; vehicle *, int &gt; &gt; veh_cached_parts</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00344">map.h:344</a></div></div>
<div class="ttc" id="astructlevel__cache_html_ae679f104e906364a8b4bfce502d99b67"><div class="ttname"><a href="structlevel__cache.html#ae679f104e906364a8b4bfce502d99b67">level_cache::vision_transparency_cache</a></div><div class="ttdeci">float vision_transparency_cache[MAPSIZE_X][MAPSIZE_Y]</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00327">map.h:327</a></div></div>
<div class="ttc" id="astructlevel__cache_html_af70ab849b23746d4c7758a6d7dc34ca8"><div class="ttname"><a href="structlevel__cache.html#af70ab849b23746d4c7758a6d7dc34ca8">level_cache::camera_cache</a></div><div class="ttdeci">float camera_cache[MAPSIZE_X][MAPSIZE_Y]</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00335">map.h:335</a></div></div>
<div class="ttc" id="astructlevel__cache_html_afc09df9c0144ecc9c0fb47a2131506eb"><div class="ttname"><a href="structlevel__cache.html#afc09df9c0144ecc9c0fb47a2131506eb">level_cache::visibility_cache</a></div><div class="ttdeci">lit_level visibility_cache[MAPSIZE_X][MAPSIZE_Y]</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00338">map.h:338</a></div></div>
<div class="ttc" id="astructmap_1_1apparent__light__info_html"><div class="ttname"><a href="structmap_1_1apparent__light__info.html">map::apparent_light_info</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00489">map.h:489</a></div></div>
<div class="ttc" id="astructmap_1_1apparent__light__info_html_ab1ec00d9260f395d3643939cac3225e3"><div class="ttname"><a href="structmap_1_1apparent__light__info.html#ab1ec00d9260f395d3643939cac3225e3">map::apparent_light_info::obstructed</a></div><div class="ttdeci">bool obstructed</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00490">map.h:490</a></div></div>
<div class="ttc" id="astructmap_1_1apparent__light__info_html_ac8afbae318626e5c260383f34f3e46ec"><div class="ttname"><a href="structmap_1_1apparent__light__info.html#ac8afbae318626e5c260383f34f3e46ec">map::apparent_light_info::apparent_light</a></div><div class="ttdeci">float apparent_light</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00491">map.h:491</a></div></div>
<div class="ttc" id="astructmaptile_html"><div class="ttname"><a href="structmaptile.html">maptile</a></div><div class="ttdoc">A wrapper for a submap point.</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00267">submap.h:267</a></div></div>
<div class="ttc" id="astructmongroup_html"><div class="ttname"><a href="structmongroup.html">mongroup</a></div><div class="ttdef"><b>Definition:</b> <a href="mongroup_8h_source.html#l00079">mongroup.h:79</a></div></div>
<div class="ttc" id="astructpartial__con_html"><div class="ttname"><a href="structpartial__con.html">partial_con</a></div><div class="ttdef"><b>Definition:</b> <a href="construction_8h_source.html#l00030">construction.h:30</a></div></div>
<div class="ttc" id="astructpathfinding__cache_html"><div class="ttname"><a href="structpathfinding__cache.html">pathfinding_cache</a></div><div class="ttdef"><b>Definition:</b> <a href="pathfinding_8h_source.html#l00041">pathfinding.h:41</a></div></div>
<div class="ttc" id="astructpathfinding__settings_html"><div class="ttname"><a href="structpathfinding__settings.html">pathfinding_settings</a></div><div class="ttdef"><b>Definition:</b> <a href="pathfinding_8h_source.html#l00050">pathfinding.h:50</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00035">point.h:35</a></div></div>
<div class="ttc" id="astructprojectile_html"><div class="ttname"><a href="structprojectile.html">projectile</a></div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00020">projectile.h:20</a></div></div>
<div class="ttc" id="astructrl__vec2d_html"><div class="ttname"><a href="structrl__vec2d.html">rl_vec2d</a></div><div class="ttdef"><b>Definition:</b> <a href="point__float_8h_source.html#l00010">point_float.h:10</a></div></div>
<div class="ttc" id="astructscent__block_html"><div class="ttname"><a href="structscent__block.html">scent_block</a></div><div class="ttdef"><b>Definition:</b> <a href="scent__block_8h_source.html#l00012">scent_block.h:12</a></div></div>
<div class="ttc" id="astructter__t_html"><div class="ttname"><a href="structter__t.html">ter_t</a></div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00457">mapdata.h:457</a></div></div>
<div class="ttc" id="astructtrap_html"><div class="ttname"><a href="structtrap.html">trap</a></div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00086">trap.h:86</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00147">point.h:147</a></div></div>
<div class="ttc" id="astructtripoint_html_a89f6c0a16e2bfd7ce4f1f1d20404c4d7"><div class="ttname"><a href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">tripoint::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00151">point.h:151</a></div></div>
<div class="ttc" id="astructtripoint_html_ac944c0e329b5eba2602f7a52f66bbbb9"><div class="ttname"><a href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">tripoint::z</a></div><div class="ttdeci">int z</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00152">point.h:152</a></div></div>
<div class="ttc" id="astructtripoint_html_accc0725c936dbebb2486f969f39e2e5f"><div class="ttname"><a href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">tripoint::xy</a></div><div class="ttdeci">constexpr point xy() const</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00220">point.h:220</a></div></div>
<div class="ttc" id="astructtripoint_html_affdc0d5b75024cbfacd208a495def3dc"><div class="ttname"><a href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">tripoint::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00150">point.h:150</a></div></div>
<div class="ttc" id="astructveh__collision_html"><div class="ttname"><a href="structveh__collision.html">veh_collision</a></div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00107">vehicle.h:107</a></div></div>
<div class="ttc" id="astructvisibility__variables_html"><div class="ttname"><a href="structvisibility__variables.html">visibility_variables</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00116">map.h:116</a></div></div>
<div class="ttc" id="astructvisibility__variables_html_a1c7e65e8b8105ef486b2b9874b674d97"><div class="ttname"><a href="structvisibility__variables.html#a1c7e65e8b8105ef486b2b9874b674d97">visibility_variables::u_is_boomered</a></div><div class="ttdeci">bool u_is_boomered</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00120">map.h:120</a></div></div>
<div class="ttc" id="astructvisibility__variables_html_a29009b81b8bdd36630c42f3b8773934d"><div class="ttname"><a href="structvisibility__variables.html#a29009b81b8bdd36630c42f3b8773934d">visibility_variables::vision_threshold</a></div><div class="ttdeci">float vision_threshold</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00124">map.h:124</a></div></div>
<div class="ttc" id="astructvisibility__variables_html_a727d3a75517818a82fea93e7d776ed19"><div class="ttname"><a href="structvisibility__variables.html#a727d3a75517818a82fea93e7d776ed19">visibility_variables::u_clairvoyance</a></div><div class="ttdeci">int u_clairvoyance</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00123">map.h:123</a></div></div>
<div class="ttc" id="astructvisibility__variables_html_a819f1ebdf308308df688f63d810e2c06"><div class="ttname"><a href="structvisibility__variables.html#a819f1ebdf308308df688f63d810e2c06">visibility_variables::variables_set</a></div><div class="ttdeci">bool variables_set</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00118">map.h:118</a></div></div>
<div class="ttc" id="astructvisibility__variables_html_ac72fc56d2bf35dfde2b01ec10dcdf727"><div class="ttname"><a href="structvisibility__variables.html#ac72fc56d2bf35dfde2b01ec10dcdf727">visibility_variables::u_sight_impaired</a></div><div class="ttdeci">bool u_sight_impaired</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00119">map.h:119</a></div></div>
<div class="ttc" id="astructvisibility__variables_html_ae5bfa91f710dbe6eec585beecda8a7b4"><div class="ttname"><a href="structvisibility__variables.html#ae5bfa91f710dbe6eec585beecda8a7b4">visibility_variables::g_light_level</a></div><div class="ttdeci">int g_light_level</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00122">map.h:122</a></div></div>
<div class="ttc" id="astructweighted__int__list_html"><div class="ttname"><a href="structweighted__int__list.html">weighted_int_list</a></div><div class="ttdef"><b>Definition:</b> <a href="weighted__list_8h_source.html#l00186">weighted_list.h:186</a></div></div>
<div class="ttc" id="astructwrapped__vehicle_html"><div class="ttname"><a href="structwrapped__vehicle.html">wrapped_vehicle</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00080">map.h:80</a></div></div>
<div class="ttc" id="astructwrapped__vehicle_html_a388df284c0b682fb74c4c67fd14c12e6"><div class="ttname"><a href="structwrapped__vehicle.html#a388df284c0b682fb74c4c67fd14c12e6">wrapped_vehicle::pos</a></div><div class="ttdeci">tripoint pos</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00081">map.h:81</a></div></div>
<div class="ttc" id="astructwrapped__vehicle_html_a3ccd9b33c1b712d26939aa4ad0d1816e"><div class="ttname"><a href="structwrapped__vehicle.html#a3ccd9b33c1b712d26939aa4ad0d1816e">wrapped_vehicle::v</a></div><div class="ttdeci">vehicle * v</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00082">map.h:82</a></div></div>
<div class="ttc" id="atype__id_8h_html"><div class="ttname"><a href="type__id_8h.html">type_id.h</a></div></div>
<div class="ttc" id="aunits_8h_html"><div class="ttname"><a href="units_8h.html">units.h</a></div></div>
<div class="ttc" id="aweather__type_8h_html_a72d839b22172d982273f161206458e25aea0954256baa532a790715983c326a09"><div class="ttname"><a href="weather__type_8h.html#a72d839b22172d982273f161206458e25aea0954256baa532a790715983c326a09">silent</a></div><div class="ttdeci">@ silent</div><div class="ttdef"><b>Definition:</b> <a href="weather__type_8h_source.html#l00056">weather_type.h:56</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="map_8h.html">map.h</a></li>
    <li class="footer">Generated on Sat Nov 12 2022 15:15:27 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
