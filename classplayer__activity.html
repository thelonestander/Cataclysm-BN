<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: player_activity Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classplayer__activity.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classplayer__activity-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">player_activity Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="player__activity_8h_source.html">player_activity.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a158270689df786c1d7813a7f50dcadda"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a158270689df786c1d7813a7f50dcadda">player_activity</a> ()</td></tr>
<tr class="separator:a158270689df786c1d7813a7f50dcadda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a788de4351c63833dbebf9da4ac0cb975"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a788de4351c63833dbebf9da4ac0cb975">player_activity</a> (<a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>, int turns=0, int Index=-1, int pos=INT_MIN, const std::string &amp;name_in=&quot;&quot;)</td></tr>
<tr class="separator:a788de4351c63833dbebf9da4ac0cb975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fb5e5e8822200169cf87488aa8a9b83"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a8fb5e5e8822200169cf87488aa8a9b83">~player_activity</a> ()</td></tr>
<tr class="separator:a8fb5e5e8822200169cf87488aa8a9b83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a085a03cf8f66f5a006390fa05c3e1dac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a085a03cf8f66f5a006390fa05c3e1dac">player_activity</a> (const <a class="el" href="classactivity__actor.html">activity_actor</a> &amp;<a class="el" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a>)</td></tr>
<tr class="memdesc:a085a03cf8f66f5a006390fa05c3e1dac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new activity with the given actor.  <a href="classplayer__activity.html#a085a03cf8f66f5a006390fa05c3e1dac">More...</a><br /></td></tr>
<tr class="separator:a085a03cf8f66f5a006390fa05c3e1dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8259a14b23a65dbfda5aa31d074fa860"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a8259a14b23a65dbfda5aa31d074fa860">player_activity</a> (<a class="el" href="classplayer__activity.html">player_activity</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a8259a14b23a65dbfda5aa31d074fa860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ec4839c40c20943cbfe28f13c3b0a9a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a7ec4839c40c20943cbfe28f13c3b0a9a">player_activity</a> (const <a class="el" href="classplayer__activity.html">player_activity</a> &amp;)=default</td></tr>
<tr class="separator:a7ec4839c40c20943cbfe28f13c3b0a9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb747c5138ba09209de359e85ce3ec45"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classplayer__activity.html">player_activity</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#adb747c5138ba09209de359e85ce3ec45">operator=</a> (<a class="el" href="classplayer__activity.html">player_activity</a> &amp;&amp;)=default</td></tr>
<tr class="separator:adb747c5138ba09209de359e85ce3ec45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13ea85ae5cffe32c3ff265de51837aa7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classplayer__activity.html">player_activity</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a13ea85ae5cffe32c3ff265de51837aa7">operator=</a> (const <a class="el" href="classplayer__activity.html">player_activity</a> &amp;)=default</td></tr>
<tr class="separator:a13ea85ae5cffe32c3ff265de51837aa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18f8d1efa005b6f267e1049269bf506b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a18f8d1efa005b6f267e1049269bf506b">operator bool</a> () const</td></tr>
<tr class="separator:a18f8d1efa005b6f267e1049269bf506b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac0ed0719997b097dd5d891c77e2b333"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#aac0ed0719997b097dd5d891c77e2b333">is_null</a> () const</td></tr>
<tr class="separator:aac0ed0719997b097dd5d891c77e2b333"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae44b657c59940e256aeb15e73bf2be1d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#ae44b657c59940e256aeb15e73bf2be1d">is_multi_type</a> () const</td></tr>
<tr class="separator:ae44b657c59940e256aeb15e73bf2be1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a765ca7b3410253c05939a8c1f1999c4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">set_to_null</a> ()</td></tr>
<tr class="memdesc:a765ca7b3410253c05939a8c1f1999c4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This replaces the former usage <code>act.type = ACT_NULL</code>  <a href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">More...</a><br /></td></tr>
<tr class="separator:a765ca7b3410253c05939a8c1f1999c4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a316b1ded84b8c60b250ab06661f5bce5"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a316b1ded84b8c60b250ab06661f5bce5">id</a> () const</td></tr>
<tr class="separator:a316b1ded84b8c60b250ab06661f5bce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35ae80d8cdad27d0c568b85accf03745"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a35ae80d8cdad27d0c568b85accf03745">rooted</a> () const</td></tr>
<tr class="separator:a35ae80d8cdad27d0c568b85accf03745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f57b22b4b9af424c55ef8d2610c76aa"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a0f57b22b4b9af424c55ef8d2610c76aa">get_stop_phrase</a> () const</td></tr>
<tr class="separator:a0f57b22b4b9af424c55ef8d2610c76aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cb0c0038d5644696ece4789dd514c2a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classtranslation.html">translation</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a5cb0c0038d5644696ece4789dd514c2a">get_verb</a> () const</td></tr>
<tr class="separator:a5cb0c0038d5644696ece4789dd514c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad71857a82b50cc853a4084a44aef5e96"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#ad71857a82b50cc853a4084a44aef5e96">get_value</a> (size_t <a class="el" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a>, int def=0) const</td></tr>
<tr class="separator:ad71857a82b50cc853a4084a44aef5e96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab3f4af03e8a3be4f8c97af561e8ffeb"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#aab3f4af03e8a3be4f8c97af561e8ffeb">get_str_value</a> (size_t <a class="el" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a>, const std::string &amp;def=&quot;&quot;) const</td></tr>
<tr class="separator:aab3f4af03e8a3be4f8c97af561e8ffeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fbe0c1782ea56191fd7a02fb6bc8738"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a3fbe0c1782ea56191fd7a02fb6bc8738">get_progress_message</a> (const <a class="el" href="classavatar.html">avatar</a> &amp;u) const</td></tr>
<tr class="memdesc:a3fbe0c1782ea56191fd7a02fb6bc8738"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper that returns an activity specific progress message.  <a href="classplayer__activity.html#a3fbe0c1782ea56191fd7a02fb6bc8738">More...</a><br /></td></tr>
<tr class="separator:a3fbe0c1782ea56191fd7a02fb6bc8738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d8cbb948cfc71aae1198f5ca0db7dd1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a6d8cbb948cfc71aae1198f5ca0db7dd1">is_suspendable</a> () const</td></tr>
<tr class="memdesc:a6d8cbb948cfc71aae1198f5ca0db7dd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">If this returns true, the action can be continued without starting from scratch again (see <a class="el" href="classCharacter.html#ad2f8dc354e09863a8d257b353a749caa">player::backlog</a>).  <a href="classplayer__activity.html#a6d8cbb948cfc71aae1198f5ca0db7dd1">More...</a><br /></td></tr>
<tr class="separator:a6d8cbb948cfc71aae1198f5ca0db7dd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39a3c15127f2f675f564f3c15869ee5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a39a3c15127f2f675f564f3c15869ee5d">serialize</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;json) const</td></tr>
<tr class="separator:a39a3c15127f2f675f564f3c15869ee5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adce4e86f744d9f801b41b1becdf257e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#adce4e86f744d9f801b41b1becdf257e5">deserialize</a> (<a class="el" href="classJsonIn.html">JsonIn</a> &amp;jsin)</td></tr>
<tr class="separator:adce4e86f744d9f801b41b1becdf257e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fdeb1c50af92421688a5a28157856ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a5fdeb1c50af92421688a5a28157856ea">migrate_item_position</a> (<a class="el" href="classCharacter.html">Character</a> &amp;guy)</td></tr>
<tr class="separator:a5fdeb1c50af92421688a5a28157856ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aa5e49ac08bb4440a4413f38134dedc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a7aa5e49ac08bb4440a4413f38134dedc">start_or_resume</a> (<a class="el" href="classCharacter.html">Character</a> &amp;who, bool resuming)</td></tr>
<tr class="memdesc:a7aa5e49ac08bb4440a4413f38134dedc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preform necessary initialization to start or resume the activity.  <a href="classplayer__activity.html#a7aa5e49ac08bb4440a4413f38134dedc">More...</a><br /></td></tr>
<tr class="separator:a7aa5e49ac08bb4440a4413f38134dedc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7b51e8b4196e8b098f1c55c06c6e197"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#aa7b51e8b4196e8b098f1c55c06c6e197">do_turn</a> (<a class="el" href="classplayer.html">player</a> &amp;p)</td></tr>
<tr class="memdesc:aa7b51e8b4196e8b098f1c55c06c6e197"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the activity for a single turn.  <a href="classplayer__activity.html#aa7b51e8b4196e8b098f1c55c06c6e197">More...</a><br /></td></tr>
<tr class="separator:aa7b51e8b4196e8b098f1c55c06c6e197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a547e7433a50fe7dab19faa1a110c9ac0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a547e7433a50fe7dab19faa1a110c9ac0">canceled</a> (<a class="el" href="classCharacter.html">Character</a> &amp;who)</td></tr>
<tr class="memdesc:a547e7433a50fe7dab19faa1a110c9ac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs activity-specific cleanup when <a class="el" href="classCharacter.html#a597968eba450c923b56a1c9cac1676dc">Character::cancel_activity()</a> is called.  <a href="classplayer__activity.html#a547e7433a50fe7dab19faa1a110c9ac0">More...</a><br /></td></tr>
<tr class="separator:a547e7433a50fe7dab19faa1a110c9ac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abecfb3ed21a7ab0d7ac168ae9fc135e1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#abecfb3ed21a7ab0d7ac168ae9fc135e1">can_resume_with</a> (const <a class="el" href="classplayer__activity.html">player_activity</a> &amp;<a class="el" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>, const <a class="el" href="classCharacter.html">Character</a> &amp;who) const</td></tr>
<tr class="memdesc:abecfb3ed21a7ab0d7ac168ae9fc135e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if activities are similar enough that this activity can be resumed instead of starting the other activity.  <a href="classplayer__activity.html#abecfb3ed21a7ab0d7ac168ae9fc135e1">More...</a><br /></td></tr>
<tr class="separator:abecfb3ed21a7ab0d7ac168ae9fc135e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d9fae80ac3076d0a2818e171ae34ea1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a0d9fae80ac3076d0a2818e171ae34ea1">is_distraction_ignored</a> (<a class="el" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96">distraction_type</a> <a class="el" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>) const</td></tr>
<tr class="separator:a0d9fae80ac3076d0a2818e171ae34ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7eb73e1613215c4508b0345de0303f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#ae7eb73e1613215c4508b0345de0303f7">ignore_distraction</a> (<a class="el" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96">distraction_type</a> <a class="el" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>)</td></tr>
<tr class="separator:ae7eb73e1613215c4508b0345de0303f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a061614065397a1fd52cfd6e934606f51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a061614065397a1fd52cfd6e934606f51">allow_distractions</a> ()</td></tr>
<tr class="separator:a061614065397a1fd52cfd6e934606f51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb34f48d1d26a1fd6081edc929265609"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#acb34f48d1d26a1fd6081edc929265609">inherit_distractions</a> (const <a class="el" href="classplayer__activity.html">player_activity</a> &amp;)</td></tr>
<tr class="separator:acb34f48d1d26a1fd6081edc929265609"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab13abd6949ab1da7ac048abfb8f27baf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#ab13abd6949ab1da7ac048abfb8f27baf">moves_total</a> = 0</td></tr>
<tr class="memdesc:ab13abd6949ab1da7ac048abfb8f27baf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of moves required to complete the activity.  <a href="classplayer__activity.html#ab13abd6949ab1da7ac048abfb8f27baf">More...</a><br /></td></tr>
<tr class="separator:ab13abd6949ab1da7ac048abfb8f27baf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a477cad2588badd9c96627a91f5eb61"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> = 0</td></tr>
<tr class="memdesc:a3a477cad2588badd9c96627a91f5eb61"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of moves remaining in this activity before it is complete.  <a href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">More...</a><br /></td></tr>
<tr class="separator:a3a477cad2588badd9c96627a91f5eb61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad178291b5e3a19aab5cbc56c45d77dcb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#ad178291b5e3a19aab5cbc56c45d77dcb">interruptable_with_kb</a> = true</td></tr>
<tr class="memdesc:ad178291b5e3a19aab5cbc56c45d77dcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls whether this activity can be cancelled with 'pause' action.  <a href="classplayer__activity.html#ad178291b5e3a19aab5cbc56c45d77dcb">More...</a><br /></td></tr>
<tr class="separator:ad178291b5e3a19aab5cbc56c45d77dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af40e3a7e2719460248e8c7d4661b9fa8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a> = 0</td></tr>
<tr class="separator:af40e3a7e2719460248e8c7d4661b9fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c0f4901d647d15e63531cf1091daf19"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a3c0f4901d647d15e63531cf1091daf19">position</a> = 0</td></tr>
<tr class="memdesc:a3c0f4901d647d15e63531cf1091daf19"><td class="mdescLeft">&#160;</td><td class="mdescRight">An activity specific value.  <a href="classplayer__activity.html#a3c0f4901d647d15e63531cf1091daf19">More...</a><br /></td></tr>
<tr class="separator:a3c0f4901d647d15e63531cf1091daf19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a878a082cf9150511f6ab911b3c9d30aa"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a878a082cf9150511f6ab911b3c9d30aa">name</a></td></tr>
<tr class="separator:a878a082cf9150511f6ab911b3c9d30aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a979cd5aca677ff30dcbb767d4a3980d2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem__location.html">item_location</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a></td></tr>
<tr class="separator:a979cd5aca677ff30dcbb767d4a3980d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca09f19b9a36866a33a46cf0c8ee484d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a></td></tr>
<tr class="separator:aca09f19b9a36866a33a46cf0c8ee484d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b2c5a44b184330e2384906fe0727210"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a></td></tr>
<tr class="separator:a1b2c5a44b184330e2384906fe0727210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13afed9baf3755048523a4ba9b896216"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a13afed9baf3755048523a4ba9b896216">coords</a></td></tr>
<tr class="separator:a13afed9baf3755048523a4ba9b896216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb6198e1b33fc9dfa2d7ef2003a0ea54"><td class="memItemLeft" align="right" valign="top">std::unordered_set&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#adb6198e1b33fc9dfa2d7ef2003a0ea54">coord_set</a></td></tr>
<tr class="separator:adb6198e1b33fc9dfa2d7ef2003a0ea54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ee6e1103056d6fb9a5af9cb9b2a4f5f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="memory__fast_8h.html#ab8afe5baa726add2054cce385cad8855">weak_ptr_fast</a>&lt; <a class="el" href="classmonster.html">monster</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a4ee6e1103056d6fb9a5af9cb9b2a4f5f">monsters</a></td></tr>
<tr class="separator:a4ee6e1103056d6fb9a5af9cb9b2a4f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8add7819b06dcfa95ca4871447159f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtripoint.html">tripoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">placement</a></td></tr>
<tr class="separator:ad8add7819b06dcfa95ca4871447159f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fd0176419e160cb65627895ea041722"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a0fd0176419e160cb65627895ea041722">no_drink_nearby_for_auto_consume</a> = false</td></tr>
<tr class="separator:a0fd0176419e160cb65627895ea041722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbe541d0a0062c25ca2f3f8db10e9798"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#abbe541d0a0062c25ca2f3f8db10e9798">no_food_nearby_for_auto_consume</a> = false</td></tr>
<tr class="separator:abbe541d0a0062c25ca2f3f8db10e9798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7009e282d5300da78140ba918c5bca18"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a7009e282d5300da78140ba918c5bca18">auto_resume</a> = false</td></tr>
<tr class="memdesc:a7009e282d5300da78140ba918c5bca18"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true, the activity will be auto-resumed next time the player attempts an identical activity.  <a href="classplayer__activity.html#a7009e282d5300da78140ba918c5bca18">More...</a><br /></td></tr>
<tr class="separator:a7009e282d5300da78140ba918c5bca18"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0e540c5f23a3578093669cf0d62e3e42"><td class="memItemLeft" align="right" valign="top"><a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a></td></tr>
<tr class="separator:a0e540c5f23a3578093669cf0d62e3e42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ef77d9119c52f4a8a59b1d10efc76b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1clone__ptr.html">cata::clone_ptr</a>&lt; <a class="el" href="classactivity__actor.html">activity_actor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a></td></tr>
<tr class="separator:a5ef77d9119c52f4a8a59b1d10efc76b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eab8695ac70dd05d49d0a874064b0b2"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96">distraction_type</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classplayer__activity.html#a4eab8695ac70dd05d49d0a874064b0b2">ignored_distractions</a></td></tr>
<tr class="separator:a4eab8695ac70dd05d49d0a874064b0b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00031">31</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a158270689df786c1d7813a7f50dcadda" name="a158270689df786c1d7813a7f50dcadda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a158270689df786c1d7813a7f50dcadda">&#9670;&nbsp;</a></span>player_activity() <span class="overload">[1/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">player_activity::player_activity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00041">41</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>: <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>( <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">activity_id::NULL_ID</a>() ) { }</div>
<div class="ttc" id="aclassplayer__activity_html_a0e540c5f23a3578093669cf0d62e3e42"><div class="ttname"><a href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">player_activity::type</a></div><div class="ttdeci">activity_id type</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00034">player_activity.h:34</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae29dd8ed38d2b5eb443a65ad46f10b2d"><div class="ttname"><a href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; activity_type &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; activity_type &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="player__activity_8cpp_source.html#l00257">do_turn()</a>.</p>

</div>
</div>
<a id="a788de4351c63833dbebf9da4ac0cb975" name="a788de4351c63833dbebf9da4ac0cb975"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a788de4351c63833dbebf9da4ac0cb975">&#9670;&nbsp;</a></span>player_activity() <span class="overload">[2/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">player_activity::player_activity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>turns</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Index</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pos</em> = <code>INT_MIN</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name_in</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00043">43</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>                                                             :</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>( t ), <a class="code hl_variable" href="classplayer__activity.html#ab13abd6949ab1da7ac048abfb8f27baf">moves_total</a>( turns ), <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a>( turns ),</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    <a class="code hl_variable" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a>( Index ),</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    <a class="code hl_variable" href="classplayer__activity.html#a3c0f4901d647d15e63531cf1091daf19">position</a>( pos ), <a class="code hl_variable" href="classplayer__activity.html#a878a082cf9150511f6ab911b3c9d30aa">name</a>( name_in ),</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    <a class="code hl_variable" href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">placement</a>( <a class="code hl_variable" href="point_8h.html#afa8693bb804568b71fece8ab73d959bf">tripoint_min</a> ), <a class="code hl_variable" href="classplayer__activity.html#a7009e282d5300da78140ba918c5bca18">auto_resume</a>( <span class="keyword">false</span> )</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>{</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>}</div>
<div class="ttc" id="aclassplayer__activity_html_a3a477cad2588badd9c96627a91f5eb61"><div class="ttname"><a href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">player_activity::moves_left</a></div><div class="ttdeci">int moves_left</div><div class="ttdoc">The number of moves remaining in this activity before it is complete.</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00043">player_activity.h:43</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a3c0f4901d647d15e63531cf1091daf19"><div class="ttname"><a href="classplayer__activity.html#a3c0f4901d647d15e63531cf1091daf19">player_activity::position</a></div><div class="ttdeci">int position</div><div class="ttdoc">An activity specific value.</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00054">player_activity.h:54</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a7009e282d5300da78140ba918c5bca18"><div class="ttname"><a href="classplayer__activity.html#a7009e282d5300da78140ba918c5bca18">player_activity::auto_resume</a></div><div class="ttdeci">bool auto_resume</div><div class="ttdoc">If true, the activity will be auto-resumed next time the player attempts an identical activity.</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00069">player_activity.h:69</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a878a082cf9150511f6ab911b3c9d30aa"><div class="ttname"><a href="classplayer__activity.html#a878a082cf9150511f6ab911b3c9d30aa">player_activity::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00055">player_activity.h:55</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_ab13abd6949ab1da7ac048abfb8f27baf"><div class="ttname"><a href="classplayer__activity.html#ab13abd6949ab1da7ac048abfb8f27baf">player_activity::moves_total</a></div><div class="ttdeci">int moves_total</div><div class="ttdoc">Total number of moves required to complete the activity.</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00041">player_activity.h:41</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_ad8add7819b06dcfa95ca4871447159f2"><div class="ttname"><a href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">player_activity::placement</a></div><div class="ttdeci">tripoint placement</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00062">player_activity.h:62</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_af40e3a7e2719460248e8c7d4661b9fa8"><div class="ttname"><a href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">player_activity::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00049">player_activity.h:49</a></div></div>
<div class="ttc" id="apoint_8h_html_afa8693bb804568b71fece8ab73d959bf"><div class="ttname"><a href="point_8h.html#afa8693bb804568b71fece8ab73d959bf">tripoint_min</a></div><div class="ttdeci">static constexpr tripoint tripoint_min</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00318">point.h:318</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8fb5e5e8822200169cf87488aa8a9b83" name="a8fb5e5e8822200169cf87488aa8a9b83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fb5e5e8822200169cf87488aa8a9b83">&#9670;&nbsp;</a></span>~player_activity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">player_activity::~player_activity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a085a03cf8f66f5a006390fa05c3e1dac" name="a085a03cf8f66f5a006390fa05c3e1dac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a085a03cf8f66f5a006390fa05c3e1dac">&#9670;&nbsp;</a></span>player_activity() <span class="overload">[3/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">player_activity::player_activity </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classactivity__actor.html">activity_actor</a> &amp;&#160;</td>
          <td class="paramname"><em>actor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new activity with the given actor. </p>

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00052">52</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>                                                              : <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>( <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a>.get_type() ),</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a>( <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a>.clone() ), <a class="code hl_variable" href="classplayer__activity.html#ab13abd6949ab1da7ac048abfb8f27baf">moves_total</a>( 0 ), <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a>( 0 )</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>{</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>}</div>
<div class="ttc" id="aclassplayer__activity_html_a5ef77d9119c52f4a8a59b1d10efc76b3"><div class="ttname"><a href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">player_activity::actor</a></div><div class="ttdeci">cata::clone_ptr&lt; activity_actor &gt; actor</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00035">player_activity.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8259a14b23a65dbfda5aa31d074fa860" name="a8259a14b23a65dbfda5aa31d074fa860"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8259a14b23a65dbfda5aa31d074fa860">&#9670;&nbsp;</a></span>player_activity() <span class="overload">[4/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">player_activity::player_activity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer__activity.html">player_activity</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7ec4839c40c20943cbfe28f13c3b0a9a" name="a7ec4839c40c20943cbfe28f13c3b0a9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ec4839c40c20943cbfe28f13c3b0a9a">&#9670;&nbsp;</a></span>player_activity() <span class="overload">[5/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">player_activity::player_activity </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer__activity.html">player_activity</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a061614065397a1fd52cfd6e934606f51" name="a061614065397a1fd52cfd6e934606f51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a061614065397a1fd52cfd6e934606f51">&#9670;&nbsp;</a></span>allow_distractions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player_activity::allow_distractions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00433">433</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>{</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    <a class="code hl_variable" href="classplayer__activity.html#a4eab8695ac70dd05d49d0a874064b0b2">ignored_distractions</a>.clear();</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>}</div>
<div class="ttc" id="aclassplayer__activity_html_a4eab8695ac70dd05d49d0a874064b0b2"><div class="ttname"><a href="classplayer__activity.html#a4eab8695ac70dd05d49d0a874064b0b2">player_activity::ignored_distractions</a></div><div class="ttdeci">std::set&lt; distraction_type &gt; ignored_distractions</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00037">player_activity.h:37</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player__activity_8h_source.html#l00037">ignored_distractions</a>.</p>

</div>
</div>
<a id="abecfb3ed21a7ab0d7ac168ae9fc135e1" name="abecfb3ed21a7ab0d7ac168ae9fc135e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abecfb3ed21a7ab0d7ac168ae9fc135e1">&#9670;&nbsp;</a></span>can_resume_with()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player_activity::can_resume_with </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer__activity.html">player_activity</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>who</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if activities are similar enough that this activity can be resumed instead of starting the other activity. </p>

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00376">376</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>{</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    <span class="comment">// Should be used for relative positions</span></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    <span class="comment">// And to forbid resuming now-invalid crafting</span></div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span> </div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    <span class="keywordflow">if</span>( !*<span class="keyword">this</span> || !<a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> || <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a31c383e5dc81ad4df044ea97b7766224">no_resume</a>() ) {</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    }</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span> </div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <span class="keywordflow">if</span>( <span class="keywordtype">id</span>() != <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.id() ) {</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    }</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span> </div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    <span class="comment">// if actor XOR other.actor then id() != other.id() so</span></div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>    <span class="comment">// we will correctly return false based on final return statement</span></div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a> &amp;&amp; <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.actor ) {</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a>-&gt;can_resume_with( *<a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.actor, who );</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    }</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span> </div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    <span class="keywordflow">if</span>( <span class="keywordtype">id</span>() == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_CLEAR_RUBBLE&quot;</span> ) ) {</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.coords.empty() || <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.coords[0] != <a class="code hl_namespace" href="namespacecoords.html">coords</a>[0] ) {</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>        }</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span>() == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_READ&quot;</span> ) ) {</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>        <span class="comment">// Return false if any NPCs joined or left the study session</span></div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>        <span class="comment">// the vector {1, 2} != {2, 1}, so we&#39;ll have to check manually</span></div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.size() != <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.values.size() ) {</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>        }</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> foo : <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.values ) {</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">std::find</a>( <a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.begin(), <a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.end(), foo ) == <a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.end() ) {</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>            }</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>        }</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.empty() || <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.targets.empty() || <a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>[0] != <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.targets[0] ) {</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>        }</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span>() == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_VEHICLE&quot;</span> ) ) {</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a> != <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.values || <a class="code hl_variable" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a> != <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.str_values ) {</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>        }</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>    }</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span> </div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>    <span class="keywordflow">return</span> !<a class="code hl_variable" href="classplayer__activity.html#a7009e282d5300da78140ba918c5bca18">auto_resume</a> &amp;&amp; <a class="code hl_variable" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a> == <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.index &amp;&amp;</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>           <a class="code hl_variable" href="classplayer__activity.html#a3c0f4901d647d15e63531cf1091daf19">position</a> == <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.position &amp;&amp; <a class="code hl_variable" href="classplayer__activity.html#a878a082cf9150511f6ab911b3c9d30aa">name</a> == <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.name &amp;&amp; <a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a> == <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.targets;</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>}</div>
<div class="ttc" id="aactivity__type_8h_html_a61b219d1f1a69a8d5e8af6b500f09354"><div class="ttname"><a href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a></div><div class="ttdeci">string_id&lt; activity_type &gt; activity_id</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00015">activity_type.h:15</a></div></div>
<div class="ttc" id="acharacter_8h_html_a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf"><div class="ttname"><a href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">rechargeable_cbm::other</a></div><div class="ttdeci">@ other</div></div>
<div class="ttc" id="aclassactivity__type_html_a31c383e5dc81ad4df044ea97b7766224"><div class="ttname"><a href="classactivity__type.html#a31c383e5dc81ad4df044ea97b7766224">activity_type::no_resume</a></div><div class="ttdeci">bool no_resume() const</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00058">activity_type.h:58</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a1b2c5a44b184330e2384906fe0727210"><div class="ttname"><a href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">player_activity::str_values</a></div><div class="ttdeci">std::vector&lt; std::string &gt; str_values</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00058">player_activity.h:58</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a979cd5aca677ff30dcbb767d4a3980d2"><div class="ttname"><a href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">player_activity::targets</a></div><div class="ttdeci">std::vector&lt; item_location &gt; targets</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00056">player_activity.h:56</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_aca09f19b9a36866a33a46cf0c8ee484d"><div class="ttname"><a href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">player_activity::values</a></div><div class="ttdeci">std::vector&lt; int &gt; values</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00057">player_activity.h:57</a></div></div>
<div class="ttc" id="anamespacecoords_html"><div class="ttname"><a href="namespacecoords.html">coords</a></div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00018">coordinates.h:19</a></div></div>
<div class="ttc" id="anamespacedetail_html_ad06b74f7502b63cbab323bba1ca3f72b"><div class="ttname"><a href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">detail::find</a></div><div class="ttdeci">FMT_CONSTEXPR bool find(Ptr first, Ptr last, T value, Ptr &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format_8h_source.html#l03355">fmtlib_format.h:3355</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player__activity_8h_source.html#l00035">actor</a>, <a class="el" href="player__activity_8h_source.html#l00069">auto_resume</a>, <a class="el" href="fmtlib__format_8h_source.html#l03355">detail::find()</a>, <a class="el" href="player__activity_8h_source.html#l00049">index</a>, <a class="el" href="player__activity_8h_source.html#l00055">name</a>, <a class="el" href="activity__type_8h_source.html#l00058">activity_type::no_resume()</a>, <a class="el" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>, <a class="el" href="player__activity_8h_source.html#l00054">position</a>, <a class="el" href="player__activity_8h_source.html#l00058">str_values</a>, <a class="el" href="player__activity_8h_source.html#l00056">targets</a>, <a class="el" href="player__activity_8h_source.html#l00034">type</a>, and <a class="el" href="player__activity_8h_source.html#l00057">values</a>.</p>

</div>
</div>
<a id="a547e7433a50fe7dab19faa1a110c9ac0" name="a547e7433a50fe7dab19faa1a110c9ac0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a547e7433a50fe7dab19faa1a110c9ac0">&#9670;&nbsp;</a></span>canceled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player_activity::canceled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>who</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs activity-specific cleanup when <a class="el" href="classCharacter.html#a597968eba450c923b56a1c9cac1676dc">Character::cancel_activity()</a> is called. </p>

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00359">359</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>{</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>    <span class="keywordflow">if</span>( *<span class="keyword">this</span> &amp;&amp; <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a> ) {</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>        <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a>-&gt;canceled( *<span class="keyword">this</span>, who );</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    }</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player__activity_8h_source.html#l00035">actor</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l09208">Character::cancel_activity()</a>.</p>

</div>
</div>
<a id="adce4e86f744d9f801b41b1becdf257e5" name="adce4e86f744d9f801b41b1becdf257e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adce4e86f744d9f801b41b1becdf257e5">&#9670;&nbsp;</a></span>deserialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player_activity::deserialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonIn.html">JsonIn</a> &amp;&#160;</td>
          <td class="paramname"><em>jsin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l00218">218</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>{</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <a class="code hl_class" href="classJsonObject.html">JsonObject</a> data = jsin.<a class="code hl_function" href="classJsonIn.html#af988f122efed0696d9d05f649e57c9b2">get_object</a>();</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    data.<a class="code hl_function" href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">allow_omitted_members</a>();</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;type&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> );</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span> </div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>.<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    }</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span> </div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_actor = <a class="code hl_variable" href="namespaceactivity__actors.html#a64efed528ede51a589c81290916c6455">activity_actors::deserialize_functions</a>.find( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> ) !=</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>                           <a class="code hl_variable" href="namespaceactivity__actors.html#a64efed528ede51a589c81290916c6455">activity_actors::deserialize_functions</a>.end();</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span> </div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <span class="comment">// Handle migration of pre-activity_actor activities</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>    <span class="comment">// ACT_MIGRATION_CANCEL will clear the backlog and reset npc state</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <span class="comment">// this may cause inconvenience but should avoid any lasting damage to npcs</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>    <span class="keywordflow">if</span>( has_actor &amp;&amp; !data.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;actor&quot;</span> ) ) {</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> = <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_MIGRATION_CANCEL&quot;</span> );</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>    }</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span> </div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;actor&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a> );</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;moves_left&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> );</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;index&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a> );</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;position&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#a3c0f4901d647d15e63531cf1091daf19">position</a> );</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;coords&quot;</span>, <a class="code hl_namespace" href="namespacecoords.html">coords</a> );</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;coord_set&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#adb6198e1b33fc9dfa2d7ef2003a0ea54">coord_set</a> );</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;name&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#a878a082cf9150511f6ab911b3c9d30aa">name</a> );</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;targets&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a> );</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;placement&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">placement</a> );</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    <a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a> = data.<a class="code hl_function" href="classJsonObject.html#a03292534acb8eea484df94cf75ff9b19">get_int_array</a>( <span class="stringliteral">&quot;values&quot;</span> );</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    <a class="code hl_variable" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a> = data.<a class="code hl_function" href="classJsonObject.html#a82c84e4f6eb744e24a0a60cb0ed88491">get_string_array</a>( <span class="stringliteral">&quot;str_values&quot;</span> );</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;auto_resume&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#a7009e282d5300da78140ba918c5bca18">auto_resume</a> );</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    data.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;monsters&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#a4ee6e1103056d6fb9a5af9cb9b2a4f5f">monsters</a> );</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span> </div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>}</div>
<div class="ttc" id="aclassJsonIn_html_af988f122efed0696d9d05f649e57c9b2"><div class="ttname"><a href="classJsonIn.html#af988f122efed0696d9d05f649e57c9b2">JsonIn::get_object</a></div><div class="ttdeci">JsonObject get_object()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01364">json.cpp:1364</a></div></div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00831">json.h:832</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a03292534acb8eea484df94cf75ff9b19"><div class="ttname"><a href="classJsonObject.html#a03292534acb8eea484df94cf75ff9b19">JsonObject::get_int_array</a></div><div class="ttdeci">std::vector&lt; int &gt; get_int_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00343">json.cpp:343</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a82c84e4f6eb744e24a0a60cb0ed88491"><div class="ttname"><a href="classJsonObject.html#a82c84e4f6eb744e24a0a60cb0ed88491">JsonObject::get_string_array</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_string_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00352">json.cpp:352</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a887d230c6a42ef2a6cf72c0e040cd4e3"><div class="ttname"><a href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">JsonObject::has_member</a></div><div class="ttdeci">bool has_member(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00181">json.cpp:181</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae00f195360e3783cf50527cf07344202"><div class="ttname"><a href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">JsonObject::allow_omitted_members</a></div><div class="ttdeci">void allow_omitted_members() const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00150">json.cpp:150</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae66d47f9cb4993dfaf79819ec2aff2f8"><div class="ttname"><a href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">JsonObject::read</a></div><div class="ttdeci">bool read(const std::string &amp;name, T &amp;t, bool throw_on_error=true) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00944">json.h:944</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a4ee6e1103056d6fb9a5af9cb9b2a4f5f"><div class="ttname"><a href="classplayer__activity.html#a4ee6e1103056d6fb9a5af9cb9b2a4f5f">player_activity::monsters</a></div><div class="ttdeci">std::vector&lt; weak_ptr_fast&lt; monster &gt; &gt; monsters</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00061">player_activity.h:61</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_adb6198e1b33fc9dfa2d7ef2003a0ea54"><div class="ttname"><a href="classplayer__activity.html#adb6198e1b33fc9dfa2d7ef2003a0ea54">player_activity::coord_set</a></div><div class="ttdeci">std::unordered_set&lt; tripoint &gt; coord_set</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00060">player_activity.h:60</a></div></div>
<div class="ttc" id="aclassstring__id_html_a3ca78345025397b3d3ac22729ba1684b"><div class="ttname"><a href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">string_id::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdoc">Returns whether this represents the id of the null-object (in which case it's the null-id).</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00317">string_id.h:317</a></div></div>
<div class="ttc" id="anamespaceactivity__actors_html_a64efed528ede51a589c81290916c6455"><div class="ttname"><a href="namespaceactivity__actors.html#a64efed528ede51a589c81290916c6455">activity_actors::deserialize_functions</a></div><div class="ttdeci">const std::unordered_map&lt; activity_id, std::unique_ptr&lt; activity_actor &gt; JsonIn deserialize_functions</div><div class="ttdef"><b>Definition:</b> <a href="activity__actor_8cpp_source.html#l01056">activity_actor.cpp:1056</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player__activity_8h_source.html#l00035">actor</a>, <a class="el" href="json_8cpp_source.html#l00150">JsonObject::allow_omitted_members()</a>, <a class="el" href="player__activity_8h_source.html#l00069">auto_resume</a>, <a class="el" href="player__activity_8h_source.html#l00060">coord_set</a>, <a class="el" href="activity__actor_8cpp_source.html#l01056">activity_actors::deserialize_functions</a>, <a class="el" href="json_8cpp_source.html#l00343">JsonObject::get_int_array()</a>, <a class="el" href="json_8cpp_source.html#l01364">JsonIn::get_object()</a>, <a class="el" href="json_8cpp_source.html#l00352">JsonObject::get_string_array()</a>, <a class="el" href="json_8cpp_source.html#l00181">JsonObject::has_member()</a>, <a class="el" href="player__activity_8h_source.html#l00049">index</a>, <a class="el" href="string__id_8h_source.html#l00317">string_id&lt; T &gt;::is_null()</a>, <a class="el" href="player__activity_8h_source.html#l00061">monsters</a>, <a class="el" href="player__activity_8h_source.html#l00043">moves_left</a>, <a class="el" href="player__activity_8h_source.html#l00055">name</a>, <a class="el" href="player__activity_8h_source.html#l00062">placement</a>, <a class="el" href="player__activity_8h_source.html#l00054">position</a>, <a class="el" href="json_8h_source.html#l00944">JsonObject::read()</a>, <a class="el" href="player__activity_8h_source.html#l00058">str_values</a>, <a class="el" href="player__activity_8h_source.html#l00056">targets</a>, <a class="el" href="player__activity_8h_source.html#l00034">type</a>, and <a class="el" href="player__activity_8h_source.html#l00057">values</a>.</p>

</div>
</div>
<a id="aa7b51e8b4196e8b098f1c55c06c6e197" name="aa7b51e8b4196e8b098f1c55c06c6e197"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7b51e8b4196e8b098f1c55c06c6e197">&#9670;&nbsp;</a></span>do_turn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player_activity::do_turn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs the activity for a single turn. </p>
<p >If the activity is complete at the end of the turn, do_turn also executes whatever actions, if any, are needed to conclude the activity. </p>

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00257">257</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>{</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    <span class="comment">// Should happen before activity or it may fail du to 0 moves</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    <span class="keywordflow">if</span>( *<span class="keyword">this</span> &amp;&amp; <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a28ce4287c06b4b532a5231f8fdef4da8">will_refuel_fires</a>() ) {</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>        <a class="code hl_function" href="activity__handlers_8h.html#a7a32ef665b942c94079f45593d021901">try_fuel_fire</a>( *<span class="keyword">this</span>, p );</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    }</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( 30_minutes ) ) {</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>        <a class="code hl_variable" href="classplayer__activity.html#abbe541d0a0062c25ca2f3f8db10e9798">no_food_nearby_for_auto_consume</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>        <a class="code hl_variable" href="classplayer__activity.html#a0fd0176419e160cb65627895ea041722">no_drink_nearby_for_auto_consume</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    }</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>    <span class="keywordflow">if</span>( *<span class="keyword">this</span> &amp;&amp; !p.<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() &amp;&amp; <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a11aacfbd78191ccc9556a6dbb23e1efb">valid_auto_needs</a>() &amp;&amp; !<a class="code hl_variable" href="classplayer__activity.html#abbe541d0a0062c25ca2f3f8db10e9798">no_food_nearby_for_auto_consume</a> ) {</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>        <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classCharacter.html#a42c4ba47635e0659553c233c399da84a">get_kcal_percent</a>() &lt; 0.95f ) {</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="activity__handlers_8h.html#aab4d9965fb0cbf630cd17fd92ae115b1">find_auto_consume</a>( p, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>                <a class="code hl_variable" href="classplayer__activity.html#abbe541d0a0062c25ca2f3f8db10e9798">no_food_nearby_for_auto_consume</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>            }</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>        }</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>        <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classCharacter.html#a7ca6c670844c9fd8c419c474788a7bf7">get_thirst</a>() &gt; <a class="code hl_enumvalue" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa52def7c94d005c020297bef28628392a">thirst_levels::thirsty</a> &amp;&amp; !<a class="code hl_variable" href="classplayer__activity.html#a0fd0176419e160cb65627895ea041722">no_drink_nearby_for_auto_consume</a> ) {</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="activity__handlers_8h.html#aab4d9965fb0cbf630cd17fd92ae115b1">find_auto_consume</a>( p, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>                <a class="code hl_variable" href="classplayer__activity.html#a0fd0176419e160cb65627895ea041722">no_drink_nearby_for_auto_consume</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>            }</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>        }</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    }</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a01147d9db2d1bf7fb13335f8a6c5670a">based_on</a>() == <a class="code hl_enumvalue" href="activity__type_8h.html#a8132e9b1ea024b8949e7825f8502a9b4a346ff32eaa3c09983fb2ec057816d352">based_on_type::TIME</a> ) {</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> &gt;= 100 ) {</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>            <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> -= 100;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>            p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 0;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>            p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> * <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> / 100;</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>            <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> = 0;</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>        }</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a01147d9db2d1bf7fb13335f8a6c5670a">based_on</a>() == <a class="code hl_enumvalue" href="activity__type_8h.html#a8132e9b1ea024b8949e7825f8502a9b4a65a59338b99aee6a451e86b17b462b5a">based_on_type::SPEED</a> ) {</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>        <span class="keywordflow">if</span>( p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> &lt;= <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> ) {</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>            <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> -= p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a>;</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>            p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 0;</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>            p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a>;</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>            <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> = 0;</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        }</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    }</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    <span class="keywordtype">int</span> previous_stamina = p.<a class="code hl_function" href="classCharacter.html#a0ffe14df559cee6e9b5d02f5b214d009">get_stamina</a>();</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>    <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() &amp;&amp; p.<a class="code hl_function" href="classCharacter.html#a2b38269bfb5ffc4edef08f904bd487f6">check_outbounds_activity</a>( *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>        <span class="comment">// npc might be operating at the edge of the reality bubble.</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>        <span class="comment">// or just now reloaded back into it, and their activity target might</span></div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        <span class="comment">// be still unloaded, can cause infinite loops.</span></div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>        <a class="code hl_function" href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">set_to_null</a>();</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>        p.<a class="code hl_function" href="classCharacter.html#aa342bc315f7b61074f2ac81217a2a0f5">drop_invalid_inventory</a>();</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    }</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> travel_activity = <a class="code hl_function" href="classplayer__activity.html#a316b1ded84b8c60b250ab06661f5bce5">id</a>() == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_TRAVELLING&quot;</span> );</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>    <span class="comment">// This might finish the activity (set it to null)</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a> ) {</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>        <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a>-&gt;do_turn( *<span class="keyword">this</span>, p );</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>        <span class="comment">// Use the legacy turn function</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a3f83e1a21e15b9a36bb2ffe9c1c96b90">call_do_turn</a>( <span class="keyword">this</span>, &amp;p );</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    }</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>    <span class="comment">// Activities should never excessively drain stamina.</span></div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    <span class="comment">// adjusted stamina because</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    <span class="comment">// autotravel doesn&#39;t reduce stamina after do_turn()</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    <span class="comment">// it just sets a destination, clears the activity, then moves afterwards</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <span class="comment">// so set stamina -1 if that is the case</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>    <span class="comment">// to simulate that the next step will surely use up some stamina anyway</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>    <span class="comment">// this is to ensure that resting will occur when traveling overburdened</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> adjusted_stamina = travel_activity ? p.<a class="code hl_function" href="classCharacter.html#a0ffe14df559cee6e9b5d02f5b214d009">get_stamina</a>() - 1 : p.<a class="code hl_function" href="classCharacter.html#a0ffe14df559cee6e9b5d02f5b214d009">get_stamina</a>();</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <span class="keywordflow">if</span>( adjusted_stamina &lt; previous_stamina &amp;&amp; p.<a class="code hl_function" href="classCharacter.html#a0ffe14df559cee6e9b5d02f5b214d009">get_stamina</a>() &lt; p.<a class="code hl_function" href="classCharacter.html#aefe5432750eb1c2c65fea628fd9878a7">get_stamina_max</a>() / 3 ) {</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 50 ) ) {</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>            p.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You pause for a moment to catch your breath.&quot;</span> ) );</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>        }</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>        <a class="code hl_variable" href="classplayer__activity.html#a7009e282d5300da78140ba918c5bca18">auto_resume</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>        <a class="code hl_class" href="classplayer__activity.html">player_activity</a> new_act( <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_WAIT_STAMINA&quot;</span> ), to_moves&lt;int&gt;( 1_minutes ) );</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>        new_act.values.push_back( 200 + p.<a class="code hl_function" href="classCharacter.html#aefe5432750eb1c2c65fea628fd9878a7">get_stamina_max</a>() / 3 );</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>        p.<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( new_act );</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    }</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>    <span class="keywordflow">if</span>( *<span class="keyword">this</span> &amp;&amp; <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a8c7737b83f50f87dbc1e0c4a920f8834">rooted</a>() ) {</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>        p.<a class="code hl_function" href="classCharacter.html#ab37374ceb3147c0841a71a9244faab6e">rooted</a>();</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>        p.<a class="code hl_function" href="classplayer.html#a2a40fdd3243988aac9e6784421558fb7">pause</a>();</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    }</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span> </div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    <span class="keywordflow">if</span>( *<span class="keyword">this</span> &amp;&amp; <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> &lt;= 0 ) {</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>        <span class="comment">// Note: For some activities &quot;finish&quot; is a misnomer; that&#39;s why we explicitly check if the</span></div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>        <span class="comment">// type is ACT_NULL below.</span></div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a> ) {</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>            <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a>-&gt;finish( *<span class="keyword">this</span>, p );</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>            <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a96a74ec754eb8c2f48873a26429e6173">call_finish</a>( <span class="keyword">this</span>, &amp;p ) ) {</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>                <span class="comment">// &quot;Finish&quot; is never a misnomer for any activity without a finish function</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>                <a class="code hl_function" href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">set_to_null</a>();</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>            }</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        }</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    }</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    <span class="keywordflow">if</span>( !*<span class="keyword">this</span> ) {</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>        <span class="comment">// Make sure data of previous activity is cleared</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>        p.<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a> = <a class="code hl_function" href="classplayer__activity.html#a158270689df786c1d7813a7f50dcadda">player_activity</a>();</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>        p.<a class="code hl_function" href="classCharacter.html#ab0a16a221b42885b3a0cb4a774b592e5">resume_backlog_activity</a>();</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span> </div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>        <span class="comment">// If whatever activity we were doing forced us to pick something up to</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>        <span class="comment">// handle it, drop any overflow that may have caused</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>        p.<a class="code hl_function" href="classCharacter.html#aa342bc315f7b61074f2ac81217a2a0f5">drop_invalid_inventory</a>();</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    }</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>}</div>
<div class="ttc" id="aactivity__handlers_8h_html_a7a32ef665b942c94079f45593d021901"><div class="ttname"><a href="activity__handlers_8h.html#a7a32ef665b942c94079f45593d021901">try_fuel_fire</a></div><div class="ttdeci">void try_fuel_fire(player_activity &amp;act, player &amp;p, bool starting_fire=false)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l03206">activity_item_handling.cpp:3206</a></div></div>
<div class="ttc" id="aactivity__handlers_8h_html_aab4d9965fb0cbf630cd17fd92ae115b1"><div class="ttname"><a href="activity__handlers_8h.html#aab4d9965fb0cbf630cd17fd92ae115b1">find_auto_consume</a></div><div class="ttdeci">bool find_auto_consume(player &amp;p, bool food)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l03102">activity_item_handling.cpp:3102</a></div></div>
<div class="ttc" id="aactivity__type_8h_html_a8132e9b1ea024b8949e7825f8502a9b4a346ff32eaa3c09983fb2ec057816d352"><div class="ttname"><a href="activity__type_8h.html#a8132e9b1ea024b8949e7825f8502a9b4a346ff32eaa3c09983fb2ec057816d352">based_on_type::TIME</a></div><div class="ttdeci">@ TIME</div></div>
<div class="ttc" id="aactivity__type_8h_html_a8132e9b1ea024b8949e7825f8502a9b4a65a59338b99aee6a451e86b17b462b5a"><div class="ttname"><a href="activity__type_8h.html#a8132e9b1ea024b8949e7825f8502a9b4a65a59338b99aee6a451e86b17b462b5a">based_on_type::SPEED</a></div><div class="ttdeci">@ SPEED</div></div>
<div class="ttc" id="acharacter_8h_html_a2e6af65e94e820564fb484840378cf4aa52def7c94d005c020297bef28628392a"><div class="ttname"><a href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa52def7c94d005c020297bef28628392a">thirst_levels::thirsty</a></div><div class="ttdeci">@ thirsty</div></div>
<div class="ttc" id="aclassCharacter_html_a0ffe14df559cee6e9b5d02f5b214d009"><div class="ttname"><a href="classCharacter.html#a0ffe14df559cee6e9b5d02f5b214d009">Character::get_stamina</a></div><div class="ttdeci">int get_stamina() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07175">character.cpp:7175</a></div></div>
<div class="ttc" id="aclassCharacter_html_a20839520f569c4f05876a55e89f67361"><div class="ttname"><a href="classCharacter.html#a20839520f569c4f05876a55e89f67361">Character::activity</a></div><div class="ttdeci">player_activity activity</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01580">character.h:1580</a></div></div>
<div class="ttc" id="aclassCharacter_html_a2b38269bfb5ffc4edef08f904bd487f6"><div class="ttname"><a href="classCharacter.html#a2b38269bfb5ffc4edef08f904bd487f6">Character::check_outbounds_activity</a></div><div class="ttdeci">bool check_outbounds_activity(const player_activity &amp;act, bool check_only=false)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00987">character.cpp:987</a></div></div>
<div class="ttc" id="aclassCharacter_html_a42c4ba47635e0659553c233c399da84a"><div class="ttname"><a href="classCharacter.html#a42c4ba47635e0659553c233c399da84a">Character::get_kcal_percent</a></div><div class="ttdeci">float get_kcal_percent() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04306">character.cpp:4306</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7ca6c670844c9fd8c419c474788a7bf7"><div class="ttname"><a href="classCharacter.html#a7ca6c670844c9fd8c419c474788a7bf7">Character::get_thirst</a></div><div class="ttdeci">int get_thirst() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04311">character.cpp:4311</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa342bc315f7b61074f2ac81217a2a0f5"><div class="ttname"><a href="classCharacter.html#aa342bc315f7b61074f2ac81217a2a0f5">Character::drop_invalid_inventory</a></div><div class="ttdeci">void drop_invalid_inventory()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03179">character.cpp:3179</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab0a16a221b42885b3a0cb4a774b592e5"><div class="ttname"><a href="classCharacter.html#ab0a16a221b42885b3a0cb4a774b592e5">Character::resume_backlog_activity</a></div><div class="ttdeci">void resume_backlog_activity()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09240">character.cpp:9240</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab37374ceb3147c0841a71a9244faab6e"><div class="ttname"><a href="classCharacter.html#ab37374ceb3147c0841a71a9244faab6e">Character::rooted</a></div><div class="ttdeci">void rooted()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08818">character.cpp:8818</a></div></div>
<div class="ttc" id="aclassCharacter_html_aefe5432750eb1c2c65fea628fd9878a7"><div class="ttname"><a href="classCharacter.html#aefe5432750eb1c2c65fea628fd9878a7">Character::get_stamina_max</a></div><div class="ttdeci">int get_stamina_max() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07180">character.cpp:7180</a></div></div>
<div class="ttc" id="aclassCharacter_html_af7d50915d362a56eeff40bc6b392326d"><div class="ttname"><a href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">Character::assign_activity</a></div><div class="ttdeci">void assign_activity(const activity_id &amp;type, int moves=calendar::INDEFINITELY_LONG, int index=-1, int pos=INT_MIN, const std::string &amp;name=&quot;&quot;)</div><div class="ttdoc">Legacy activity assignment, does not work for any activites using the new activity_actor class and ma...</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09165">character.cpp:9165</a></div></div>
<div class="ttc" id="aclassCreature_html_a8c5a392caa213bee9581b47e9f0e2052"><div class="ttname"><a href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">Creature::moves</a></div><div class="ttdeci">int moves</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00569">creature.h:569</a></div></div>
<div class="ttc" id="aclassactivity__type_html_a01147d9db2d1bf7fb13335f8a6c5670a"><div class="ttname"><a href="classactivity__type.html#a01147d9db2d1bf7fb13335f8a6c5670a">activity_type::based_on</a></div><div class="ttdeci">based_on_type based_on() const</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00055">activity_type.h:55</a></div></div>
<div class="ttc" id="aclassactivity__type_html_a11aacfbd78191ccc9556a6dbb23e1efb"><div class="ttname"><a href="classactivity__type.html#a11aacfbd78191ccc9556a6dbb23e1efb">activity_type::valid_auto_needs</a></div><div class="ttdeci">bool valid_auto_needs() const</div><div class="ttdoc">If true, player will automatically consume from relevant auto-eat/drink zones during activity.</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00073">activity_type.h:73</a></div></div>
<div class="ttc" id="aclassactivity__type_html_a28ce4287c06b4b532a5231f8fdef4da8"><div class="ttname"><a href="classactivity__type.html#a28ce4287c06b4b532a5231f8fdef4da8">activity_type::will_refuel_fires</a></div><div class="ttdeci">bool will_refuel_fires() const</div><div class="ttdoc">If true, player will refuel one adjacent fire if there is firewood spot adjacent.</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00067">activity_type.h:67</a></div></div>
<div class="ttc" id="aclassactivity__type_html_a3f83e1a21e15b9a36bb2ffe9c1c96b90"><div class="ttname"><a href="classactivity__type.html#a3f83e1a21e15b9a36bb2ffe9c1c96b90">activity_type::call_do_turn</a></div><div class="ttdeci">void call_do_turn(player_activity *, player *) const</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8cpp_source.html#l00096">activity_type.cpp:96</a></div></div>
<div class="ttc" id="aclassactivity__type_html_a8c7737b83f50f87dbc1e0c4a920f8834"><div class="ttname"><a href="classactivity__type.html#a8c7737b83f50f87dbc1e0c4a920f8834">activity_type::rooted</a></div><div class="ttdeci">bool rooted() const</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00045">activity_type.h:45</a></div></div>
<div class="ttc" id="aclassactivity__type_html_a96a74ec754eb8c2f48873a26429e6173"><div class="ttname"><a href="classactivity__type.html#a96a74ec754eb8c2f48873a26429e6173">activity_type::call_finish</a></div><div class="ttdeci">bool call_finish(player_activity *, player *) const</div><div class="ttdoc">Returns whether it had a finish function or not.</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8cpp_source.html#l00104">activity_type.cpp:104</a></div></div>
<div class="ttc" id="aclassplayer__activity_html"><div class="ttname"><a href="classplayer__activity.html">player_activity</a></div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00031">player_activity.h:32</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a0fd0176419e160cb65627895ea041722"><div class="ttname"><a href="classplayer__activity.html#a0fd0176419e160cb65627895ea041722">player_activity::no_drink_nearby_for_auto_consume</a></div><div class="ttdeci">bool no_drink_nearby_for_auto_consume</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00064">player_activity.h:64</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a158270689df786c1d7813a7f50dcadda"><div class="ttname"><a href="classplayer__activity.html#a158270689df786c1d7813a7f50dcadda">player_activity::player_activity</a></div><div class="ttdeci">player_activity()</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00041">player_activity.cpp:41</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a316b1ded84b8c60b250ab06661f5bce5"><div class="ttname"><a href="classplayer__activity.html#a316b1ded84b8c60b250ab06661f5bce5">player_activity::id</a></div><div class="ttdeci">const activity_id &amp; id() const</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00097">player_activity.h:97</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a765ca7b3410253c05939a8c1f1999c4a"><div class="ttname"><a href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">player_activity::set_to_null</a></div><div class="ttdeci">void set_to_null()</div><div class="ttdoc">This replaces the former usage act.type = ACT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00077">player_activity.cpp:77</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_abbe541d0a0062c25ca2f3f8db10e9798"><div class="ttname"><a href="classplayer__activity.html#abbe541d0a0062c25ca2f3f8db10e9798">player_activity::no_food_nearby_for_auto_consume</a></div><div class="ttdeci">bool no_food_nearby_for_auto_consume</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00065">player_activity.h:65</a></div></div>
<div class="ttc" id="aclassplayer_html_a2a40fdd3243988aac9e6784421558fb7"><div class="ttname"><a href="classplayer.html#a2a40fdd3243988aac9e6784421558fb7">player::pause</a></div><div class="ttdeci">void pause()</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00756">player.cpp:756</a></div></div>
<div class="ttc" id="aclassplayer_html_a4b34c26cb73111ff42bcab11576f51a0"><div class="ttname"><a href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">player::is_npc</a></div><div class="ttdeci">bool is_npc() const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00131">player.h:131</a></div></div>
<div class="ttc" id="aclassplayer_html_ae7009d849f19a4f5ebe877cbe463c459"><div class="ttname"><a href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">player::add_msg_if_player</a></div><div class="ttdeci">void add_msg_if_player(const std::string &amp;msg) const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l04368">player.cpp:4368</a></div></div>
<div class="ttc" id="anamespacecalendar_html_a356df28513f4d655ae35c312ab6e7d55"><div class="ttname"><a href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a></div><div class="ttdeci">bool once_every(const time_duration &amp;event_frequency)</div><div class="ttdoc">Predicate to handle rate-limiting.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00490">calendar.cpp:490</a></div></div>
<div class="ttc" id="arng_8cpp_html_aad28bdad07401a34ecf9912708f8b750"><div class="ttname"><a href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a></div><div class="ttdeci">bool one_in(int chance)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00065">rng.cpp:65</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="player__activity_8h_source.html#l00035">actor</a>, <a class="el" href="player_8cpp_source.html#l04368">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09165">Character::assign_activity()</a>, <a class="el" href="player__activity_8h_source.html#l00069">auto_resume</a>, <a class="el" href="activity__type_8h_source.html#l00055">activity_type::based_on()</a>, <a class="el" href="activity__type_8cpp_source.html#l00096">activity_type::call_do_turn()</a>, <a class="el" href="activity__type_8cpp_source.html#l00104">activity_type::call_finish()</a>, <a class="el" href="character_8cpp_source.html#l00987">Character::check_outbounds_activity()</a>, <a class="el" href="character_8cpp_source.html#l03179">Character::drop_invalid_inventory()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03102">find_auto_consume()</a>, <a class="el" href="character_8cpp_source.html#l04306">Character::get_kcal_percent()</a>, <a class="el" href="character_8cpp_source.html#l07175">Character::get_stamina()</a>, <a class="el" href="character_8cpp_source.html#l07180">Character::get_stamina_max()</a>, <a class="el" href="character_8cpp_source.html#l04311">Character::get_thirst()</a>, <a class="el" href="player__activity_8h_source.html#l00097">id()</a>, <a class="el" href="player_8h_source.html#l00131">player::is_npc()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="player__activity_8h_source.html#l00043">moves_left</a>, <a class="el" href="player__activity_8h_source.html#l00064">no_drink_nearby_for_auto_consume</a>, <a class="el" href="player__activity_8h_source.html#l00065">no_food_nearby_for_auto_consume</a>, <a class="el" href="calendar_8cpp_source.html#l00490">calendar::once_every()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="player_8cpp_source.html#l00756">player::pause()</a>, <a class="el" href="player__activity_8cpp_source.html#l00041">player_activity()</a>, <a class="el" href="character_8cpp_source.html#l09240">Character::resume_backlog_activity()</a>, <a class="el" href="character_8cpp_source.html#l08818">Character::rooted()</a>, <a class="el" href="activity__type_8h_source.html#l00045">activity_type::rooted()</a>, <a class="el" href="player__activity_8cpp_source.html#l00077">set_to_null()</a>, <a class="el" href="activity__type_8h.html#a8132e9b1ea024b8949e7825f8502a9b4a65a59338b99aee6a451e86b17b462b5a">SPEED</a>, <a class="el" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa52def7c94d005c020297bef28628392a">thirsty</a>, <a class="el" href="activity__type_8h.html#a8132e9b1ea024b8949e7825f8502a9b4a346ff32eaa3c09983fb2ec057816d352">TIME</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03206">try_fuel_fire()</a>, <a class="el" href="player__activity_8h_source.html#l00034">type</a>, <a class="el" href="activity__type_8h_source.html#l00073">activity_type::valid_auto_needs()</a>, <a class="el" href="player__activity_8h_source.html#l00057">values</a>, and <a class="el" href="activity__type_8h_source.html#l00067">activity_type::will_refuel_fires()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l03329">npc::do_player_activity()</a>, <a class="el" href="npcmove_8cpp_source.html#l03312">npc::do_pulp()</a>, <a class="el" href="npc_8cpp_source.html#l01192">npc::drop()</a>, and <a class="el" href="game_8cpp_source.html#l01740">game::process_activity()</a>.</p>

</div>
</div>
<a id="a3fbe0c1782ea56191fd7a02fb6bc8738" name="a3fbe0c1782ea56191fd7a02fb6bc8738"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fbe0c1782ea56191fd7a02fb6bc8738">&#9670;&nbsp;</a></span>get_progress_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; std::string &gt; player_activity::get_progress_message </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classavatar.html">avatar</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper that returns an activity specific progress message. </p>

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00176">176</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>{</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> || <a class="code hl_function" href="classplayer__activity.html#a5cb0c0038d5644696ece4789dd514c2a">get_verb</a>().empty() ) {</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>        <span class="keywordflow">return</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;std::string&gt;</a>();</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    }</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span> </div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_ADV_INVENTORY&quot;</span> ) ||</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_AIM&quot;</span> ) ||</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_ARMOR_LAYERS&quot;</span> ) ||</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_ATM&quot;</span> ) ||</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_CONSUME_DRINK_MENU&quot;</span> ) ||</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_CONSUME_FOOD_MENU&quot;</span> ) ||</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_CONSUME_MEDS_MENU&quot;</span> ) ||</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_EAT_MENU&quot;</span> ) ) {</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    }</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span> </div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    std::string extra_info;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_CRAFT&quot;</span> ) ) {</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="player__activity_8cpp.html#a95360d3991a20508af04cf9afd413252">craft_progress_message</a>( u, *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_READ&quot;</span> ) ) {</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>        <span class="keywordflow">if</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *book = <a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.front().get_item() ) {</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>            <span class="keywordflow">if</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;reading = book-&gt;type-&gt;book ) {</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>                <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">skill_id</a> &amp;skill = reading-&gt;skill;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>                <span class="keywordflow">if</span>( skill &amp;&amp; u.<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( skill ) &lt; reading-&gt;level &amp;&amp;</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>                    u.<a class="code hl_function" href="classCharacter.html#a2726ac089fa49e864b486e289f53fade">get_skill_level_object</a>( skill ).<a class="code hl_function" href="classSkillLevel.html#a4de8923aafd85db2946ed9860874d660">can_train</a>() ) {</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>                    <span class="keyword">const</span> <a class="code hl_class" href="classSkillLevel.html">SkillLevel</a> &amp;skill_level = u.<a class="code hl_function" href="classCharacter.html#a2726ac089fa49e864b486e289f53fade">get_skill_level_object</a>( skill );</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>                    <span class="comment">//~ skill_name current_skill_level -&gt; next_skill_level (% to next level)</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>                    extra_info = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;reading progress&quot;</span>, <span class="stringliteral">&quot;%s %d -&gt; %d (%d%%)&quot;</span> ),</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>                                                skill.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code hl_function" href="classSkill.html#a11c69074ce9b251983f170510808bd85">name</a>(),</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>                                                skill_level.<a class="code hl_function" href="classSkillLevel.html#a28763c074460e59ab2851ab31f9e2a3c">level</a>(),</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>                                                skill_level.<a class="code hl_function" href="classSkillLevel.html#a28763c074460e59ab2851ab31f9e2a3c">level</a>() + 1,</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>                                                skill_level.<a class="code hl_function" href="classSkillLevel.html#a79e3b6ce793c12b5de3e4029a5e40768">exercise</a>() );</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>                }</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>            }</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>        }</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#ab13abd6949ab1da7ac048abfb8f27baf">moves_total</a> &gt; 0 ) {</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_BURROW&quot;</span> ) ||</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_HACKSAW&quot;</span> ) ||</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_JACKHAMMER&quot;</span> ) ||</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_PICKAXE&quot;</span> ) ||</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_DISASSEMBLE&quot;</span> ) ||</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_VEHICLE&quot;</span> ) ||</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_FILL_PIT&quot;</span> ) ||</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_DIG&quot;</span> ) ||</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_DIG_CHANNEL&quot;</span> ) ||</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_CHOP_TREE&quot;</span> ) ||</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_CHOP_LOGS&quot;</span> ) ||</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_CHOP_PLANKS&quot;</span> )</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>          ) {</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> percentage = ( ( <a class="code hl_variable" href="classplayer__activity.html#ab13abd6949ab1da7ac048abfb8f27baf">moves_total</a> - <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> ) * 100 ) / <a class="code hl_variable" href="classplayer__activity.html#ab13abd6949ab1da7ac048abfb8f27baf">moves_total</a>;</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span> </div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>            extra_info = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%d%%&quot;</span>, percentage );</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>        }</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span> </div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_BUILD&quot;</span> ) ) {</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>            <a class="code hl_struct" href="structpartial__con.html">partial_con</a> *pc = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().<a class="code hl_function" href="classmap.html#ab39ceb8f855edf31f6af0fa91864048b">partial_con_at</a>( <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().getlocal( u.<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">placement</a> ) );</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>            <span class="keywordflow">if</span>( pc ) {</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>                <span class="keywordtype">int</span> counter = std::min( pc-&gt;<a class="code hl_variable" href="structpartial__con.html#a85b4cad2bfa67cb504ee89ca3129c17d">counter</a>, 10000000 );</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> percentage = counter / 100000;</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span> </div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>                extra_info = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;%d%%&quot;</span>, percentage );</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>            }</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>        }</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    }</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span> </div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    <span class="keywordflow">return</span> extra_info.empty() ? <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s…&quot;</span> ),</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>            <a class="code hl_function" href="classplayer__activity.html#a5cb0c0038d5644696ece4789dd514c2a">get_verb</a>().translated() ) : <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s: %s&quot;</span> ),</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>                    <a class="code hl_function" href="classplayer__activity.html#a5cb0c0038d5644696ece4789dd514c2a">get_verb</a>().translated(), extra_info );</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>}</div>
<div class="ttc" id="aclassCharacter_html_a2726ac089fa49e864b486e289f53fade"><div class="ttname"><a href="classCharacter.html#a2726ac089fa49e864b486e289f53fade">Character::get_skill_level_object</a></div><div class="ttdeci">SkillLevel &amp; get_skill_level_object(const skill_id &amp;ident)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03322">character.cpp:3322</a></div></div>
<div class="ttc" id="aclassCharacter_html_afa95fe499ca6b55ab97f1b442a4c95c5"><div class="ttname"><a href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">Character::get_skill_level</a></div><div class="ttdeci">int get_skill_level(const skill_id &amp;ident) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03327">character.cpp:3327</a></div></div>
<div class="ttc" id="aclassSkillLevel_html"><div class="ttname"><a href="classSkillLevel.html">SkillLevel</a></div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00106">skill.h:107</a></div></div>
<div class="ttc" id="aclassSkillLevel_html_a28763c074460e59ab2851ab31f9e2a3c"><div class="ttname"><a href="classSkillLevel.html#a28763c074460e59ab2851ab31f9e2a3c">SkillLevel::level</a></div><div class="ttdeci">int level() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00125">skill.h:125</a></div></div>
<div class="ttc" id="aclassSkillLevel_html_a4de8923aafd85db2946ed9860874d660"><div class="ttname"><a href="classSkillLevel.html#a4de8923aafd85db2946ed9860874d660">SkillLevel::can_train</a></div><div class="ttdeci">bool can_train() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8cpp_source.html#l00298">skill.cpp:298</a></div></div>
<div class="ttc" id="aclassSkillLevel_html_a79e3b6ce793c12b5de3e4029a5e40768"><div class="ttname"><a href="classSkillLevel.html#a79e3b6ce793c12b5de3e4029a5e40768">SkillLevel::exercise</a></div><div class="ttdeci">int exercise(bool raw=false) const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00140">skill.h:140</a></div></div>
<div class="ttc" id="aclassSkill_html_a11c69074ce9b251983f170510808bd85"><div class="ttname"><a href="classSkill.html#a11c69074ce9b251983f170510808bd85">Skill::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00068">skill.h:68</a></div></div>
<div class="ttc" id="aclasscata_1_1optional_html"><div class="ttname"><a href="classcata_1_1optional.html">cata::optional</a></div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00030">optional.h:31</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00175">item.h:176</a></div></div>
<div class="ttc" id="aclassmap_html_ab39ceb8f855edf31f6af0fa91864048b"><div class="ttname"><a href="classmap.html#ab39ceb8f855edf31f6af0fa91864048b">map::partial_con_at</a></div><div class="ttdeci">partial_con * partial_con_at(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05151">map.cpp:5151</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a5cb0c0038d5644696ece4789dd514c2a"><div class="ttname"><a href="classplayer__activity.html#a5cb0c0038d5644696ece4789dd514c2a">player_activity::get_verb</a></div><div class="ttdeci">const translation &amp; get_verb() const</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00093">player_activity.cpp:93</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; Skill &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00058">achievement.cpp:58</a></div></div>
<div class="ttc" id="amap_8cpp_html_acb0b34be6e497bdd2f9f40ae6929d562"><div class="ttname"><a href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00141">map.cpp:141</a></div></div>
<div class="ttc" id="anamespacecata_html_ad05314667ac5d05f984aeeef26b9a87f"><div class="ttname"><a href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a></div><div class="ttdeci">static constexpr nullopt_t nullopt</div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00022">optional.h:22</a></div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_a95360d3991a20508af04cf9afd413252"><div class="ttname"><a href="player__activity_8cpp.html#a95360d3991a20508af04cf9afd413252">craft_progress_message</a></div><div class="ttdeci">static std::string craft_progress_message(const avatar &amp;u, const player_activity &amp;act)</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00118">player_activity.cpp:118</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a9b089d0b697443b096063219dab08ef5"><div class="ttname"><a href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a></div><div class="ttdeci">std::string string_format(std::string format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00418">string_formatter.h:418</a></div></div>
<div class="ttc" id="astructpartial__con_html"><div class="ttname"><a href="structpartial__con.html">partial_con</a></div><div class="ttdef"><b>Definition:</b> <a href="construction_8h_source.html#l00030">construction.h:30</a></div></div>
<div class="ttc" id="astructpartial__con_html_a85b4cad2bfa67cb504ee89ca3129c17d"><div class="ttname"><a href="structpartial__con.html#a85b4cad2bfa67cb504ee89ca3129c17d">partial_con::counter</a></div><div class="ttdeci">int counter</div><div class="ttdef"><b>Definition:</b> <a href="construction_8h_source.html#l00031">construction.h:31</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_af0c79b5c75a7cf2df78663485b03ed9a"><div class="ttname"><a href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a></div><div class="ttdeci">const char * pgettext(const char *context, const char *msgid)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00041">translations.cpp:41</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="character_8h_source.html#l01580">Character::activity</a>, <a class="el" href="skill_8cpp_source.html#l00298">SkillLevel::can_train()</a>, <a class="el" href="construction_8h_source.html#l00031">partial_con::counter</a>, <a class="el" href="player__activity_8cpp_source.html#l00118">craft_progress_message()</a>, <a class="el" href="skill_8h_source.html#l00140">SkillLevel::exercise()</a>, <a class="el" href="map_8cpp_source.html#l00141">get_map()</a>, <a class="el" href="character_8cpp_source.html#l03327">Character::get_skill_level()</a>, <a class="el" href="character_8cpp_source.html#l03322">Character::get_skill_level_object()</a>, <a class="el" href="player__activity_8cpp_source.html#l00093">get_verb()</a>, <a class="el" href="skill_8h_source.html#l00125">SkillLevel::level()</a>, <a class="el" href="player__activity_8h_source.html#l00043">moves_left</a>, <a class="el" href="player__activity_8h_source.html#l00041">moves_total</a>, <a class="el" href="skill_8h_source.html#l00068">Skill::name()</a>, <a class="el" href="optional_8h_source.html#l00022">cata::nullopt</a>, <a class="el" href="achievement_8cpp_source.html#l00058">string_id&lt; T &gt;::obj()</a>, <a class="el" href="map_8cpp_source.html#l05151">map::partial_con_at()</a>, <a class="el" href="translations_8cpp_source.html#l00041">pgettext()</a>, <a class="el" href="player__activity_8h_source.html#l00062">placement</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="player__activity_8h_source.html#l00056">targets</a>, and <a class="el" href="player__activity_8h_source.html#l00034">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l01434">game::do_turn()</a>.</p>

</div>
</div>
<a id="a0f57b22b4b9af424c55ef8d2610c76aa" name="a0f57b22b4b9af424c55ef8d2610c76aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f57b22b4b9af424c55ef8d2610c76aa">&#9670;&nbsp;</a></span>get_stop_phrase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string player_activity::get_stop_phrase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00088">88</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>{</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#ad92938fe43dae0b166b017a0d4afde61">stop_phrase</a>();</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>}</div>
<div class="ttc" id="aclassactivity__type_html_ad92938fe43dae0b166b017a0d4afde61"><div class="ttname"><a href="classactivity__type.html#ad92938fe43dae0b166b017a0d4afde61">activity_type::stop_phrase</a></div><div class="ttdeci">std::string stop_phrase() const</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8cpp_source.html#l00121">activity_type.cpp:121</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="activity__type_8cpp_source.html#l00121">activity_type::stop_phrase()</a>, and <a class="el" href="player__activity_8h_source.html#l00034">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l01790">game::cancel_activity_or_ignore_query()</a>, and <a class="el" href="game_8cpp_source.html#l01839">game::cancel_activity_query()</a>.</p>

</div>
</div>
<a id="aab3f4af03e8a3be4f8c97af561e8ffeb" name="aab3f4af03e8a3be4f8c97af561e8ffeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab3f4af03e8a3be4f8c97af561e8ffeb">&#9670;&nbsp;</a></span>get_str_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string player_activity::get_str_value </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>def</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00113">113</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>{</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a> &lt; <a class="code hl_variable" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a>.size() ? <a class="code hl_variable" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a>[<a class="code hl_variable" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a>] : def;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player__activity_8h_source.html#l00049">index</a>, and <a class="el" href="player__activity_8h_source.html#l00058">str_values</a>.</p>

<p class="reference">Referenced by <a class="el" href="avatar_8cpp_source.html#l00716">avatar::do_read()</a>, and <a class="el" href="npc_8cpp_source.html#l00894">npc::finish_read()</a>.</p>

</div>
</div>
<a id="ad71857a82b50cc853a4084a44aef5e96" name="ad71857a82b50cc853a4084a44aef5e96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad71857a82b50cc853a4084a44aef5e96">&#9670;&nbsp;</a></span>get_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player_activity::get_value </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>def</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00098">98</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>{</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a> &lt; <a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.size() ? <a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>[<a class="code hl_variable" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a>] : def;</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player__activity_8h_source.html#l00049">index</a>, and <a class="el" href="player__activity_8h_source.html#l00057">values</a>.</p>

</div>
</div>
<a id="a5cb0c0038d5644696ece4789dd514c2a" name="a5cb0c0038d5644696ece4789dd514c2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cb0c0038d5644696ece4789dd514c2a">&#9670;&nbsp;</a></span>get_verb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classtranslation.html">translation</a> &amp; player_activity::get_verb </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00093">93</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>{</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a895de2408ed81a8aaa60df8e2e64265e">verb</a>();</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>}</div>
<div class="ttc" id="aclassactivity__type_html_a895de2408ed81a8aaa60df8e2e64265e"><div class="ttname"><a href="classactivity__type.html#a895de2408ed81a8aaa60df8e2e64265e">activity_type::verb</a></div><div class="ttdeci">const translation &amp; verb() const</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00052">activity_type.h:52</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player__activity_8h_source.html#l00034">type</a>, and <a class="el" href="activity__type_8h_source.html#l00052">activity_type::verb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__activity_8cpp_source.html#l00176">get_progress_message()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l01744">basecamp::job_assignment_ui()</a>.</p>

</div>
</div>
<a id="a316b1ded84b8c60b250ab06661f5bce5" name="a316b1ded84b8c60b250ab06661f5bce5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a316b1ded84b8c60b250ab06661f5bce5">&#9670;&nbsp;</a></span>id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a> &amp; player_activity::id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00097">97</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>                                      {</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>;</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player__activity_8h_source.html#l00034">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l09171">Character::assign_activity()</a>, <a class="el" href="iexamine_8cpp_source.html#l04707">iexamine::autodoc()</a>, <a class="el" href="player_8cpp_source.html#l04410">player::calc_focus_equilibrium()</a>, <a class="el" href="crafting_8cpp_source.html#l01933">player::disassemble()</a>, <a class="el" href="npcmove_8cpp_source.html#l03329">npc::do_player_activity()</a>, <a class="el" href="game_8cpp_source.html#l01434">game::do_turn()</a>, <a class="el" href="player__activity_8cpp_source.html#l00257">do_turn()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00201">eff_fun_bleed()</a>, <a class="el" href="character_8cpp_source.html#l09284">Character::fall_asleep()</a>, <a class="el" href="character_8cpp_source.html#l09198">Character::has_activity()</a>, <a class="el" href="character_8cpp_source.html#l10451">Character::has_distant_destination()</a>, <a class="el" href="character_8cpp_source.html#l09296">Character::in_sleep_state()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00373">Character::load()</a>, <a class="el" href="savegame__json_8cpp_source.html#l01403">npc::load()</a>, <a class="el" href="npcmove_8cpp_source.html#l00705">npc::move()</a>, <a class="el" href="npc_8cpp_source.html#l03120">npc::set_mission()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00626">Character::store()</a>, <a class="el" href="character_8cpp_source.html#l04759">Character::update_needs()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l03910">heal_actor::use_healing_item()</a>.</p>

</div>
</div>
<a id="ae7eb73e1613215c4508b0345de0303f7" name="ae7eb73e1613215c4508b0345de0303f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7eb73e1613215c4508b0345de0303f7">&#9670;&nbsp;</a></span>ignore_distraction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player_activity::ignore_distraction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96">distraction_type</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00428">428</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>{</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>    <a class="code hl_variable" href="classplayer__activity.html#a4eab8695ac70dd05d49d0a874064b0b2">ignored_distractions</a>.emplace( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> );</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player__activity_8h_source.html#l00037">ignored_distractions</a>, and <a class="el" href="player__activity_8h_source.html#l00034">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l01790">game::cancel_activity_or_ignore_query()</a>, and <a class="el" href="player__activity_8cpp_source.html#l00438">inherit_distractions()</a>.</p>

</div>
</div>
<a id="acb34f48d1d26a1fd6081edc929265609" name="acb34f48d1d26a1fd6081edc929265609"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb34f48d1d26a1fd6081edc929265609">&#9670;&nbsp;</a></span>inherit_distractions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player_activity::inherit_distractions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer__activity.html">player_activity</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00438">438</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>{</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;<a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> : <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.ignored_distractions ) {</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>        <a class="code hl_function" href="classplayer__activity.html#ae7eb73e1613215c4508b0345de0303f7">ignore_distraction</a>( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> );</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>    }</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>}</div>
<div class="ttc" id="aclassplayer__activity_html_ae7eb73e1613215c4508b0345de0303f7"><div class="ttname"><a href="classplayer__activity.html#ae7eb73e1613215c4508b0345de0303f7">player_activity::ignore_distraction</a></div><div class="ttdeci">void ignore_distraction(distraction_type type)</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00428">player_activity.cpp:428</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player__activity_8cpp_source.html#l00428">ignore_distraction()</a>, <a class="el" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>, and <a class="el" href="player__activity_8h_source.html#l00034">type</a>.</p>

</div>
</div>
<a id="a0d9fae80ac3076d0a2818e171ae34ea1" name="a0d9fae80ac3076d0a2818e171ae34ea1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d9fae80ac3076d0a2818e171ae34ea1">&#9670;&nbsp;</a></span>is_distraction_ignored()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player_activity::is_distraction_ignored </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96">distraction_type</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00423">423</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>{</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classplayer__activity.html#a4eab8695ac70dd05d49d0a874064b0b2">ignored_distractions</a>.find( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> ) != <a class="code hl_variable" href="classplayer__activity.html#a4eab8695ac70dd05d49d0a874064b0b2">ignored_distractions</a>.end();</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player__activity_8h_source.html#l00037">ignored_distractions</a>, and <a class="el" href="player__activity_8h_source.html#l00034">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l01790">game::cancel_activity_or_ignore_query()</a>, <a class="el" href="sounds_8cpp_source.html#l00386">sounds::process_sound_markers()</a>, and <a class="el" href="game_8cpp_source.html#l01701">game::process_voluntary_act_interrupt()</a>.</p>

</div>
</div>
<a id="ae44b657c59940e256aeb15e73bf2be1d" name="ae44b657c59940e256aeb15e73bf2be1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae44b657c59940e256aeb15e73bf2be1d">&#9670;&nbsp;</a></span>is_multi_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player_activity::is_multi_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00108">108</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>{</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#aa5ac16650391c20842e0f091df5c3e05">multi_activity</a>();</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>}</div>
<div class="ttc" id="aclassactivity__type_html_aa5ac16650391c20842e0f091df5c3e05"><div class="ttname"><a href="classactivity__type.html#aa5ac16650391c20842e0f091df5c3e05">activity_type::multi_activity</a></div><div class="ttdeci">bool multi_activity() const</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00061">activity_type.h:61</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="activity__type_8h_source.html#l00061">activity_type::multi_activity()</a>, and <a class="el" href="player__activity_8h_source.html#l00034">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l03329">npc::do_player_activity()</a>, and <a class="el" href="activity__handlers_8cpp_source.html#l00417">activity_handlers::resume_for_multi_activities()</a>.</p>

</div>
</div>
<a id="aac0ed0719997b097dd5d891c77e2b333" name="aac0ed0719997b097dd5d891c77e2b333"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac0ed0719997b097dd5d891c77e2b333">&#9670;&nbsp;</a></span>is_null()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool player_activity::is_null </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00090">90</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>                             {</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>.<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>();</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="string__id_8h_source.html#l00317">string_id&lt; T &gt;::is_null()</a>, and <a class="el" href="player__activity_8h_source.html#l00034">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l10467">Character::has_destination_activity()</a>, <a class="el" href="character_8cpp_source.html#l10451">Character::has_distant_destination()</a>, and <a class="el" href="condition_8cpp_source.html#l00142">conditional_t&lt; T &gt;::set_has_activity()</a>.</p>

</div>
</div>
<a id="a6d8cbb948cfc71aae1198f5ca0db7dd1" name="a6d8cbb948cfc71aae1198f5ca0db7dd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d8cbb948cfc71aae1198f5ca0db7dd1">&#9670;&nbsp;</a></span>is_suspendable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player_activity::is_suspendable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If this returns true, the action can be continued without starting from scratch again (see <a class="el" href="classCharacter.html#ad2f8dc354e09863a8d257b353a749caa">player::backlog</a>). </p>
<p >This is only possible if the player start the very same activity (with the same parameters) again. </p>

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00103">103</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>{</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a54a8507ca430b5e4673d376790928459">suspendable</a>();</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>}</div>
<div class="ttc" id="aclassactivity__type_html_a54a8507ca430b5e4673d376790928459"><div class="ttname"><a href="classactivity__type.html#a54a8507ca430b5e4673d376790928459">activity_type::suspendable</a></div><div class="ttdeci">bool suspendable() const</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00048">activity_type.h:48</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="activity__type_8h_source.html#l00048">activity_type::suspendable()</a>, and <a class="el" href="player__activity_8h_source.html#l00034">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l09208">Character::cancel_activity()</a>.</p>

</div>
</div>
<a id="a5fdeb1c50af92421688a5a28157856ea" name="a5fdeb1c50af92421688a5a28157856ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fdeb1c50af92421688a5a28157856ea">&#9670;&nbsp;</a></span>migrate_item_position()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player_activity::migrate_item_position </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>guy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00059">59</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>{</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> simple_action_replace =</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#acdc2d231ebdbf7d9571d84ebe9993c5f">ACT_FIRSTAID</a> || <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#a42d6b7855ec8abf909a933f7f2d10b71">ACT_GAME</a> ||</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#af0f6a1c716782ccc53519e943b63c61d">ACT_PICKAXE</a> || <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#a6711fd78d3e82221c6fe213bf91bf80c">ACT_START_FIRE</a> ||</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#a4e1de2690242373f2205a99a8d032098">ACT_HAND_CRANK</a> || <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#acb4abc5eb29a421c42368040e27a6520">ACT_VIBE</a> ||</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#a59d58bc26d449fa251d2dc52e814cd59">ACT_OXYTORCH</a> || <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#a63532169a015e803e57202c5af8ce838">ACT_FISH</a> ||</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#af6b1d6ef23b0cf8236b3b845203ca506">ACT_ATM</a>;</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span> </div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    <span class="keywordflow">if</span>( simple_action_replace ) {</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>        <a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.push_back( <a class="code hl_class" href="classitem__location.html">item_location</a>( guy, &amp;guy.<a class="code hl_function" href="classCharacter.html#a654ed96afe759517e0bf1a31c7a3ea11">i_at</a>( <a class="code hl_variable" href="classplayer__activity.html#a3c0f4901d647d15e63531cf1091daf19">position</a> ) ) );</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#a573323959b411f59620f6e0733141ac9">ACT_GUNMOD_ADD</a> ) {</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>        <span class="comment">// this activity has two indices; &quot;position&quot; = gun and &quot;values[0]&quot; = mod</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>        <a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.push_back( <a class="code hl_class" href="classitem__location.html">item_location</a>( guy, &amp;guy.<a class="code hl_function" href="classCharacter.html#a654ed96afe759517e0bf1a31c7a3ea11">i_at</a>( <a class="code hl_variable" href="classplayer__activity.html#a3c0f4901d647d15e63531cf1091daf19">position</a> ) ) );</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>        <a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.push_back( <a class="code hl_class" href="classitem__location.html">item_location</a>( guy, &amp;guy.<a class="code hl_function" href="classCharacter.html#a654ed96afe759517e0bf1a31c7a3ea11">i_at</a>( <a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>[0] ) ) );</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    }</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>}</div>
<div class="ttc" id="aclassCharacter_html_a654ed96afe759517e0bf1a31c7a3ea11"><div class="ttname"><a href="classCharacter.html#a654ed96afe759517e0bf1a31c7a3ea11">Character::i_at</a></div><div class="ttdeci">item &amp; i_at(int position)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02391">character.cpp:2391</a></div></div>
<div class="ttc" id="aclassitem__location_html"><div class="ttname"><a href="classitem__location.html">item_location</a></div><div class="ttdoc">A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)seriali...</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00022">item_location.h:23</a></div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_a42d6b7855ec8abf909a933f7f2d10b71"><div class="ttname"><a href="player__activity_8cpp.html#a42d6b7855ec8abf909a933f7f2d10b71">ACT_GAME</a></div><div class="ttdeci">static const activity_id ACT_GAME(&quot;ACT_GAME&quot;)</div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_a4e1de2690242373f2205a99a8d032098"><div class="ttname"><a href="player__activity_8cpp.html#a4e1de2690242373f2205a99a8d032098">ACT_HAND_CRANK</a></div><div class="ttdeci">static const activity_id ACT_HAND_CRANK(&quot;ACT_HAND_CRANK&quot;)</div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_a573323959b411f59620f6e0733141ac9"><div class="ttname"><a href="player__activity_8cpp.html#a573323959b411f59620f6e0733141ac9">ACT_GUNMOD_ADD</a></div><div class="ttdeci">static const activity_id ACT_GUNMOD_ADD(&quot;ACT_GUNMOD_ADD&quot;)</div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_a59d58bc26d449fa251d2dc52e814cd59"><div class="ttname"><a href="player__activity_8cpp.html#a59d58bc26d449fa251d2dc52e814cd59">ACT_OXYTORCH</a></div><div class="ttdeci">static const activity_id ACT_OXYTORCH(&quot;ACT_OXYTORCH&quot;)</div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_a63532169a015e803e57202c5af8ce838"><div class="ttname"><a href="player__activity_8cpp.html#a63532169a015e803e57202c5af8ce838">ACT_FISH</a></div><div class="ttdeci">static const activity_id ACT_FISH(&quot;ACT_FISH&quot;)</div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_a6711fd78d3e82221c6fe213bf91bf80c"><div class="ttname"><a href="player__activity_8cpp.html#a6711fd78d3e82221c6fe213bf91bf80c">ACT_START_FIRE</a></div><div class="ttdeci">static const activity_id ACT_START_FIRE(&quot;ACT_START_FIRE&quot;)</div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_acb4abc5eb29a421c42368040e27a6520"><div class="ttname"><a href="player__activity_8cpp.html#acb4abc5eb29a421c42368040e27a6520">ACT_VIBE</a></div><div class="ttdeci">static const activity_id ACT_VIBE(&quot;ACT_VIBE&quot;)</div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_acdc2d231ebdbf7d9571d84ebe9993c5f"><div class="ttname"><a href="player__activity_8cpp.html#acdc2d231ebdbf7d9571d84ebe9993c5f">ACT_FIRSTAID</a></div><div class="ttdeci">static const activity_id ACT_FIRSTAID(&quot;ACT_FIRSTAID&quot;)</div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_af0f6a1c716782ccc53519e943b63c61d"><div class="ttname"><a href="player__activity_8cpp.html#af0f6a1c716782ccc53519e943b63c61d">ACT_PICKAXE</a></div><div class="ttdeci">static const activity_id ACT_PICKAXE(&quot;ACT_PICKAXE&quot;)</div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_af6b1d6ef23b0cf8236b3b845203ca506"><div class="ttname"><a href="player__activity_8cpp.html#af6b1d6ef23b0cf8236b3b845203ca506">ACT_ATM</a></div><div class="ttdeci">static const activity_id ACT_ATM(&quot;ACT_ATM&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player__activity_8cpp.html#af6b1d6ef23b0cf8236b3b845203ca506">ACT_ATM</a>, <a class="el" href="player__activity_8cpp.html#acdc2d231ebdbf7d9571d84ebe9993c5f">ACT_FIRSTAID</a>, <a class="el" href="player__activity_8cpp.html#a63532169a015e803e57202c5af8ce838">ACT_FISH</a>, <a class="el" href="player__activity_8cpp.html#a42d6b7855ec8abf909a933f7f2d10b71">ACT_GAME</a>, <a class="el" href="player__activity_8cpp.html#a573323959b411f59620f6e0733141ac9">ACT_GUNMOD_ADD</a>, <a class="el" href="player__activity_8cpp.html#a4e1de2690242373f2205a99a8d032098">ACT_HAND_CRANK</a>, <a class="el" href="player__activity_8cpp.html#a59d58bc26d449fa251d2dc52e814cd59">ACT_OXYTORCH</a>, <a class="el" href="player__activity_8cpp.html#af0f6a1c716782ccc53519e943b63c61d">ACT_PICKAXE</a>, <a class="el" href="player__activity_8cpp.html#a6711fd78d3e82221c6fe213bf91bf80c">ACT_START_FIRE</a>, <a class="el" href="player__activity_8cpp.html#acb4abc5eb29a421c42368040e27a6520">ACT_VIBE</a>, <a class="el" href="character_8cpp_source.html#l02391">Character::i_at()</a>, <a class="el" href="player__activity_8h_source.html#l00054">position</a>, <a class="el" href="player__activity_8h_source.html#l00056">targets</a>, <a class="el" href="player__activity_8h_source.html#l00034">type</a>, and <a class="el" href="player__activity_8h_source.html#l00057">values</a>.</p>

</div>
</div>
<a id="a18f8d1efa005b6f267e1049269bf506b" name="a18f8d1efa005b6f267e1049269bf506b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18f8d1efa005b6f267e1049269bf506b">&#9670;&nbsp;</a></span>operator bool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">player_activity::operator bool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00087">87</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>                                       {</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>            <span class="keywordflow">return</span> !<a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>.<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>();</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="string__id_8h_source.html#l00317">string_id&lt; T &gt;::is_null()</a>, and <a class="el" href="player__activity_8h_source.html#l00034">type</a>.</p>

</div>
</div>
<a id="a13ea85ae5cffe32c3ff265de51837aa7" name="a13ea85ae5cffe32c3ff265de51837aa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13ea85ae5cffe32c3ff265de51837aa7">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classplayer__activity.html">player_activity</a> &amp; player_activity::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer__activity.html">player_activity</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="adb747c5138ba09209de359e85ce3ec45" name="adb747c5138ba09209de359e85ce3ec45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb747c5138ba09209de359e85ce3ec45">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classplayer__activity.html">player_activity</a> &amp; player_activity::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer__activity.html">player_activity</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a35ae80d8cdad27d0c568b85accf03745" name="a35ae80d8cdad27d0c568b85accf03745"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35ae80d8cdad27d0c568b85accf03745">&#9670;&nbsp;</a></span>rooted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player_activity::rooted </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00083">83</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>{</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a8c7737b83f50f87dbc1e0c4a920f8834">rooted</a>();</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="activity__type_8h_source.html#l00045">activity_type::rooted()</a>, and <a class="el" href="player__activity_8h_source.html#l00034">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__activity_8cpp_source.html#l00247">start_or_resume()</a>.</p>

</div>
</div>
<a id="a39a3c15127f2f675f564f3c15869ee5d" name="a39a3c15127f2f675f564f3c15869ee5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39a3c15127f2f675f564f3c15869ee5d">&#9670;&nbsp;</a></span>serialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player_activity::serialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonOut.html">JsonOut</a> &amp;&#160;</td>
          <td class="paramname"><em>json</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l00195">195</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>{</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    json.<a class="code hl_function" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;type&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> );</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span> </div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>.<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;actor&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a> );</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;moves_left&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> );</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;index&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a> );</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;position&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#a3c0f4901d647d15e63531cf1091daf19">position</a> );</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;coords&quot;</span>, <a class="code hl_namespace" href="namespacecoords.html">coords</a> );</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;coord_set&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#adb6198e1b33fc9dfa2d7ef2003a0ea54">coord_set</a> );</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;name&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#a878a082cf9150511f6ab911b3c9d30aa">name</a> );</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;targets&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a> );</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;placement&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">placement</a> );</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;values&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a> );</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;str_values&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a> );</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;auto_resume&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#a7009e282d5300da78140ba918c5bca18">auto_resume</a> );</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;monsters&quot;</span>, <a class="code hl_variable" href="classplayer__activity.html#a4ee6e1103056d6fb9a5af9cb9b2a4f5f">monsters</a> );</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    }</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    json.<a class="code hl_function" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>}</div>
<div class="ttc" id="aclassJsonOut_html_a4756f9a569adbfc60de127f7c335d82f"><div class="ttname"><a href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">JsonOut::start_object</a></div><div class="ttdeci">void start_object(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01931">json.cpp:1931</a></div></div>
<div class="ttc" id="aclassJsonOut_html_aa38d37840ed6ba168b78a43570e98681"><div class="ttname"><a href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">JsonOut::end_object</a></div><div class="ttdeci">void end_object()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01942">json.cpp:1942</a></div></div>
<div class="ttc" id="aclassJsonOut_html_adb3c899f0ad7fc4f25cd3357c51a2c42"><div class="ttname"><a href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">JsonOut::member</a></div><div class="ttdeci">void member(const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02046">json.cpp:2046</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player__activity_8h_source.html#l00035">actor</a>, <a class="el" href="player__activity_8h_source.html#l00069">auto_resume</a>, <a class="el" href="player__activity_8h_source.html#l00060">coord_set</a>, <a class="el" href="json_8cpp_source.html#l01942">JsonOut::end_object()</a>, <a class="el" href="player__activity_8h_source.html#l00049">index</a>, <a class="el" href="string__id_8h_source.html#l00317">string_id&lt; T &gt;::is_null()</a>, <a class="el" href="json_8cpp_source.html#l02046">JsonOut::member()</a>, <a class="el" href="player__activity_8h_source.html#l00061">monsters</a>, <a class="el" href="player__activity_8h_source.html#l00043">moves_left</a>, <a class="el" href="player__activity_8h_source.html#l00055">name</a>, <a class="el" href="player__activity_8h_source.html#l00062">placement</a>, <a class="el" href="player__activity_8h_source.html#l00054">position</a>, <a class="el" href="json_8cpp_source.html#l01931">JsonOut::start_object()</a>, <a class="el" href="player__activity_8h_source.html#l00058">str_values</a>, <a class="el" href="player__activity_8h_source.html#l00056">targets</a>, <a class="el" href="player__activity_8h_source.html#l00034">type</a>, and <a class="el" href="player__activity_8h_source.html#l00057">values</a>.</p>

</div>
</div>
<a id="a765ca7b3410253c05939a8c1f1999c4a" name="a765ca7b3410253c05939a8c1f1999c4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a765ca7b3410253c05939a8c1f1999c4a">&#9670;&nbsp;</a></span>set_to_null()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player_activity::set_to_null </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This replaces the former usage <code>act.type = ACT_NULL</code> </p>

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00077">77</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>{</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> = <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">activity_id::NULL_ID</a>();</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    <a class="code hl_function" href="namespacesfx.html#a649e58c2b2476c8a814dfe94e865ec3e">sfx::end_activity_sounds</a>(); <span class="comment">// kill activity sounds when activity is nullified</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>}</div>
<div class="ttc" id="anamespacesfx_html_a649e58c2b2476c8a814dfe94e865ec3e"><div class="ttname"><a href="namespacesfx.html#a649e58c2b2476c8a814dfe94e865ec3e">sfx::end_activity_sounds</a></div><div class="ttdeci">void end_activity_sounds()</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l01596">sounds.cpp:1596</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sounds_8cpp_source.html#l01596">sfx::end_activity_sounds()</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; activity_type &gt;::NULL_ID()</a>, and <a class="el" href="player__activity_8h_source.html#l00034">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l02112">activity_on_turn_move_loot()</a>, <a class="el" href="construction_8cpp_source.html#l00958">complete_construction()</a>, <a class="el" href="crafting_8cpp_source.html#l02053">player::complete_disassemble()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02986">veh_interact::complete_vehicle()</a>, <a class="el" href="avatar_8cpp_source.html#l00716">avatar::do_read()</a>, <a class="el" href="player__activity_8cpp_source.html#l00257">do_turn()</a>, <a class="el" href="character_8cpp_source.html#l09284">Character::fall_asleep()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01488">activity_handlers::fill_liquid_do_turn()</a>, <a class="el" href="npc_8cpp_source.html#l00894">npc::finish_read()</a>, <a class="el" href="player__hardcoded__effects_8cpp_source.html#l00464">player::hardcoded_effects()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04376">perform_zone_activity_turn()</a>, <a class="el" href="sounds_8cpp_source.html#l00386">sounds::process_sound_markers()</a>, and <a class="el" href="avatar_8cpp_source.html#l00367">avatar::read()</a>.</p>

</div>
</div>
<a id="a7aa5e49ac08bb4440a4413f38134dedc" name="a7aa5e49ac08bb4440a4413f38134dedc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7aa5e49ac08bb4440a4413f38134dedc">&#9670;&nbsp;</a></span>start_or_resume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player_activity::start_or_resume </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>who</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>resuming</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Preform necessary initialization to start or resume the activity. </p>
<p >Must be called whenever a <a class="el" href="classCharacter.html">Character</a> starts a new activity. When resuming an activity, do not call <a class="el" href="classactivity__actor.html#a7a6d2b0ca0560dfca09ff8919cd9f44a" title="Called once at the start of the activity.">activity_actor::start</a> </p>

<p class="definition">Definition at line <a class="el" href="player__activity_8cpp_source.html#l00247">247</a> of file <a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>{</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a> &amp;&amp; !resuming ) {</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>        <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a>-&gt;start( *<span class="keyword">this</span>, who );</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>    }</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer__activity.html#a35ae80d8cdad27d0c568b85accf03745">rooted</a>() ) {</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>        who.<a class="code hl_function" href="classCharacter.html#a1e63260fe4977941254983ee15a528ea">rooted_message</a>();</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    }</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>}</div>
<div class="ttc" id="aclassCharacter_html_a1e63260fe4977941254983ee15a528ea"><div class="ttname"><a href="classCharacter.html#a1e63260fe4977941254983ee15a528ea">Character::rooted_message</a></div><div class="ttdeci">void rooted_message() const</div><div class="ttdoc">Handles rooting effects.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08808">character.cpp:8808</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a35ae80d8cdad27d0c568b85accf03745"><div class="ttname"><a href="classplayer__activity.html#a35ae80d8cdad27d0c568b85accf03745">player_activity::rooted</a></div><div class="ttdeci">bool rooted() const</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00083">player_activity.cpp:83</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="player__activity_8h_source.html#l00035">actor</a>, <a class="el" href="player__activity_8cpp_source.html#l00083">rooted()</a>, and <a class="el" href="character_8cpp_source.html#l08808">Character::rooted_message()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l09171">Character::assign_activity()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5ef77d9119c52f4a8a59b1d10efc76b3" name="a5ef77d9119c52f4a8a59b1d10efc76b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ef77d9119c52f4a8a59b1d10efc76b3">&#9670;&nbsp;</a></span>actor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcata_1_1clone__ptr.html">cata::clone_ptr</a>&lt;<a class="el" href="classactivity__actor.html">activity_actor</a>&gt; player_activity::actor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00035">35</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__activity_8cpp_source.html#l00376">can_resume_with()</a>, <a class="el" href="player__activity_8cpp_source.html#l00359">canceled()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00218">deserialize()</a>, <a class="el" href="player__activity_8cpp_source.html#l00257">do_turn()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00195">serialize()</a>, and <a class="el" href="player__activity_8cpp_source.html#l00247">start_or_resume()</a>.</p>

</div>
</div>
<a id="a7009e282d5300da78140ba918c5bca18" name="a7009e282d5300da78140ba918c5bca18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7009e282d5300da78140ba918c5bca18">&#9670;&nbsp;</a></span>auto_resume</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player_activity::auto_resume = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If true, the activity will be auto-resumed next time the player attempts an identical activity. </p>
<p >This value is set dynamically. </p>

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00069">69</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__activity_8cpp_source.html#l00376">can_resume_with()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00218">deserialize()</a>, <a class="el" href="player__activity_8cpp_source.html#l00257">do_turn()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00847">pickup_activity_actor::do_turn()</a>, <a class="el" href="game_8cpp_source.html#l09629">game::place_player()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00195">serialize()</a>, and <a class="el" href="iexamine_8cpp_source.html#l03609">iexamine::shrub_wildveggies()</a>.</p>

</div>
</div>
<a id="adb6198e1b33fc9dfa2d7ef2003a0ea54" name="adb6198e1b33fc9dfa2d7ef2003a0ea54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb6198e1b33fc9dfa2d7ef2003a0ea54">&#9670;&nbsp;</a></span>coord_set</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_set&lt;<a class="el" href="structtripoint.html">tripoint</a>&gt; player_activity::coord_set</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00060">60</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="veh__interact_8cpp_source.html#l02986">veh_interact::complete_vehicle()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00218">deserialize()</a>, <a class="el" href="iuse_8cpp_source.html#l01765">iuse::fishing_rod()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02808">generic_multi_activity_do()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00195">serialize()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00111">veh_interact::serialize_activity()</a>, and <a class="el" href="activity__item__handling_8cpp_source.html#l00908">vehicle_activity()</a>.</p>

</div>
</div>
<a id="a13afed9baf3755048523a4ba9b896216" name="a13afed9baf3755048523a4ba9b896216"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13afed9baf3755048523a4ba9b896216">&#9670;&nbsp;</a></span>coords</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structtripoint.html">tripoint</a>&gt; player_activity::coords</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00059">59</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l09630">iuse::craft()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01488">activity_handlers::fill_liquid_do_turn()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02608">generic_multi_activity_check_requirement()</a>, and <a class="el" href="crafting_8cpp_source.html#l00718">player::start_craft()</a>.</p>

</div>
</div>
<a id="a4eab8695ac70dd05d49d0a874064b0b2" name="a4eab8695ac70dd05d49d0a874064b0b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4eab8695ac70dd05d49d0a874064b0b2">&#9670;&nbsp;</a></span>ignored_distractions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96">distraction_type</a>&gt; player_activity::ignored_distractions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00037">37</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__activity_8cpp_source.html#l00433">allow_distractions()</a>, <a class="el" href="player__activity_8cpp_source.html#l00428">ignore_distraction()</a>, and <a class="el" href="player__activity_8cpp_source.html#l00423">is_distraction_ignored()</a>.</p>

</div>
</div>
<a id="af40e3a7e2719460248e8c7d4661b9fa8" name="af40e3a7e2719460248e8c7d4661b9fa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af40e3a7e2719460248e8c7d4661b9fa8">&#9670;&nbsp;</a></span>index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player_activity::index = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00049">49</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__activity_8cpp_source.html#l00376">can_resume_with()</a>, <a class="el" href="crafting_8cpp_source.html#l02053">player::complete_disassemble()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02986">veh_interact::complete_vehicle()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00218">deserialize()</a>, <a class="el" href="crafting_8cpp_source.html#l01933">player::disassemble()</a>, <a class="el" href="crafting_8cpp_source.html#l02030">player::disassemble_all()</a>, <a class="el" href="avatar_8cpp_source.html#l00716">avatar::do_read()</a>, <a class="el" href="player__activity_8cpp_source.html#l00113">get_str_value()</a>, <a class="el" href="player__activity_8cpp_source.html#l00098">get_value()</a>, <a class="el" href="avatar_8cpp_source.html#l00367">avatar::read()</a>, and <a class="el" href="savegame__json_8cpp_source.html#l00195">serialize()</a>.</p>

</div>
</div>
<a id="ad178291b5e3a19aab5cbc56c45d77dcb" name="ad178291b5e3a19aab5cbc56c45d77dcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad178291b5e3a19aab5cbc56c45d77dcb">&#9670;&nbsp;</a></span>interruptable_with_kb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player_activity::interruptable_with_kb = true</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controls whether this activity can be cancelled with 'pause' action. </p>

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00045">45</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l02054">game::handle_key_blocking_activity()</a>.</p>

</div>
</div>
<a id="a4ee6e1103056d6fb9a5af9cb9b2a4f5f" name="a4ee6e1103056d6fb9a5af9cb9b2a4f5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ee6e1103056d6fb9a5af9cb9b2a4f5f">&#9670;&nbsp;</a></span>monsters</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="memory__fast_8h.html#ab8afe5baa726add2054cce385cad8855">weak_ptr_fast</a>&lt;<a class="el" href="classmonster.html">monster</a>&gt; &gt; player_activity::monsters</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00061">61</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="savegame__json_8cpp_source.html#l00218">deserialize()</a>, and <a class="el" href="savegame__json_8cpp_source.html#l00195">serialize()</a>.</p>

</div>
</div>
<a id="a3a477cad2588badd9c96627a91f5eb61" name="a3a477cad2588badd9c96627a91f5eb61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a477cad2588badd9c96627a91f5eb61">&#9670;&nbsp;</a></span>moves_left</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player_activity::moves_left = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of moves remaining in this activity before it is complete. </p>

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00043">43</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iexamine_8cpp_source.html#l04707">iexamine::autodoc()</a>, <a class="el" href="crafting_8cpp_source.html#l02053">player::complete_disassemble()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00218">deserialize()</a>, <a class="el" href="crafting_8cpp_source.html#l01933">player::disassemble()</a>, <a class="el" href="player__activity_8cpp_source.html#l00257">do_turn()</a>, <a class="el" href="player__activity_8cpp_source.html#l00176">get_progress_message()</a>, <a class="el" href="game_8cpp_source.html#l01701">game::process_voluntary_act_interrupt()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00195">serialize()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l02474">learn_spell_actor::use()</a>.</p>

</div>
</div>
<a id="ab13abd6949ab1da7ac048abfb8f27baf" name="ab13abd6949ab1da7ac048abfb8f27baf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab13abd6949ab1da7ac048abfb8f27baf">&#9670;&nbsp;</a></span>moves_total</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player_activity::moves_total = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Total number of moves required to complete the activity. </p>

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00041">41</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__activity_8cpp_source.html#l00176">get_progress_message()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l02474">learn_spell_actor::use()</a>.</p>

</div>
</div>
<a id="a878a082cf9150511f6ab911b3c9d30aa" name="a878a082cf9150511f6ab911b3c9d30aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a878a082cf9150511f6ab911b3c9d30aa">&#9670;&nbsp;</a></span>name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string player_activity::name</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00055">55</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__activity_8cpp_source.html#l00376">can_resume_with()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00218">deserialize()</a>, <a class="el" href="npctalk_8cpp_source.html#l01234">dialogue::gen_responses()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00195">serialize()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l02474">learn_spell_actor::use()</a>.</p>

</div>
</div>
<a id="a0fd0176419e160cb65627895ea041722" name="a0fd0176419e160cb65627895ea041722"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fd0176419e160cb65627895ea041722">&#9670;&nbsp;</a></span>no_drink_nearby_for_auto_consume</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player_activity::no_drink_nearby_for_auto_consume = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00064">64</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__activity_8cpp_source.html#l00257">do_turn()</a>.</p>

</div>
</div>
<a id="abbe541d0a0062c25ca2f3f8db10e9798" name="abbe541d0a0062c25ca2f3f8db10e9798"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbe541d0a0062c25ca2f3f8db10e9798">&#9670;&nbsp;</a></span>no_food_nearby_for_auto_consume</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool player_activity::no_food_nearby_for_auto_consume = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00065">65</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__activity_8cpp_source.html#l00257">do_turn()</a>.</p>

</div>
</div>
<a id="ad8add7819b06dcfa95ca4871447159f2" name="ad8add7819b06dcfa95ca4871447159f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8add7819b06dcfa95ca4871447159f2">&#9670;&nbsp;</a></span>placement</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtripoint.html">tripoint</a> player_activity::placement</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00062">62</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l03336">iuse::burrow()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02070">butcher_corpse_activity()</a>, <a class="el" href="iuse_8cpp_source.html#l04817">iuse::chop_logs()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02090">chop_plank_activity()</a>, <a class="el" href="iuse_8cpp_source.html#l04773">iuse::chop_tree()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02416">chop_tree_activity()</a>, <a class="el" href="iuse_8cpp_source.html#l02935">iuse::clear_rubble()</a>, <a class="el" href="construction_8cpp_source.html#l00958">complete_construction()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01889">construction_activity()</a>, <a class="el" href="iuse_8cpp_source.html#l04712">iuse::cut_log_into_planks()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00218">deserialize()</a>, <a class="el" href="npcmove_8cpp_source.html#l03312">npc::do_pulp()</a>, <a class="el" href="iuse_8cpp_source.html#l02862">iuse::fill_pit()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02608">generic_multi_activity_check_requirement()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02808">generic_multi_activity_do()</a>, <a class="el" href="player__activity_8cpp_source.html#l00176">get_progress_message()</a>, <a class="el" href="iuse_8cpp_source.html#l04963">iuse::hacksaw()</a>, <a class="el" href="iuse_8cpp_source.html#l03227">iuse::jackhammer()</a>, <a class="el" href="iuse_8cpp_source.html#l02542">iuse::makemound()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02369">mine_activity()</a>, <a class="el" href="iuse_8cpp_source.html#l04862">iuse::oxytorch()</a>, <a class="el" href="iuse_8cpp_source.html#l03282">iuse::pickaxe()</a>, <a class="el" href="game_8cpp_source.html#l09629">game::place_player()</a>, <a class="el" href="iexamine_8cpp_source.html#l01121">iexamine::rubble()</a>, <a class="el" href="iexamine_8cpp_source.html#l01398">iexamine::safe()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00195">serialize()</a>, <a class="el" href="iexamine_8cpp_source.html#l03609">iexamine::shrub_wildveggies()</a>, <a class="el" href="handle__action_8cpp_source.html#l00671">smash()</a>, <a class="el" href="iexamine_8cpp_source.html#l00966">try_start_hacking()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01147">pick_lock_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01476">firestarter_actor::use()</a>, and <a class="el" href="activity__item__handling_8cpp_source.html#l00908">vehicle_activity()</a>.</p>

</div>
</div>
<a id="a3c0f4901d647d15e63531cf1091daf19" name="a3c0f4901d647d15e63531cf1091daf19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c0f4901d647d15e63531cf1091daf19">&#9670;&nbsp;</a></span>position</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int player_activity::position = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An activity specific value. </p>
<p >DO NOT USE FOR ITEM INDEX </p>

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00054">54</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__activity_8cpp_source.html#l00376">can_resume_with()</a>, <a class="el" href="crafting_8cpp_source.html#l02104">player::complete_disassemble()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00218">deserialize()</a>, <a class="el" href="crafting_8cpp_source.html#l01933">player::disassemble()</a>, <a class="el" href="player__activity_8cpp_source.html#l00059">migrate_item_position()</a>, <a class="el" href="avatar_8cpp_source.html#l00367">avatar::read()</a>, and <a class="el" href="savegame__json_8cpp_source.html#l00195">serialize()</a>.</p>

</div>
</div>
<a id="a1b2c5a44b184330e2384906fe0727210" name="a1b2c5a44b184330e2384906fe0727210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b2c5a44b184330e2384906fe0727210">&#9670;&nbsp;</a></span>str_values</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; player_activity::str_values</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00058">58</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__activity_8cpp_source.html#l00376">can_resume_with()</a>, <a class="el" href="crafting_8cpp_source.html#l02053">player::complete_disassemble()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02986">veh_interact::complete_vehicle()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00218">deserialize()</a>, <a class="el" href="crafting_8cpp_source.html#l01933">player::disassemble()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01488">activity_handlers::fill_liquid_do_turn()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02608">generic_multi_activity_check_requirement()</a>, <a class="el" href="player__activity_8cpp_source.html#l00113">get_str_value()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00573">talk_function::give_aid()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00585">talk_function::give_all_aid()</a>, <a class="el" href="bionics_8cpp_source.html#l02245">Character::install_bionics()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00153">inv_internal()</a>, <a class="el" href="game_8cpp_source.html#l09629">game::place_player()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00195">serialize()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00111">veh_interact::serialize_activity()</a>, <a class="el" href="bionics_8cpp_source.html#l01980">Character::uninstall_bionic()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02014">enzlave_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03084">repair_item_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02474">learn_spell_actor::use()</a>, and <a class="el" href="activity__item__handling_8cpp_source.html#l00908">vehicle_activity()</a>.</p>

</div>
</div>
<a id="a979cd5aca677ff30dcbb767d4a3980d2" name="a979cd5aca677ff30dcbb767d4a3980d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a979cd5aca677ff30dcbb767d4a3980d2">&#9670;&nbsp;</a></span>targets</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classitem__location.html">item_location</a>&gt; player_activity::targets</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00056">56</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l08556">game::butcher()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02070">butcher_corpse_activity()</a>, <a class="el" href="player_8cpp_source.html#l04410">player::calc_focus_equilibrium()</a>, <a class="el" href="player__activity_8cpp_source.html#l00376">can_resume_with()</a>, <a class="el" href="crafting_8cpp_source.html#l02053">player::complete_disassemble()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02986">veh_interact::complete_vehicle()</a>, <a class="el" href="iuse_8cpp_source.html#l09630">iuse::craft()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00218">deserialize()</a>, <a class="el" href="crafting_8cpp_source.html#l01933">player::disassemble()</a>, <a class="el" href="iuse_8cpp_source.html#l01765">iuse::fishing_rod()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02808">generic_multi_activity_do()</a>, <a class="el" href="player__activity_8cpp_source.html#l00176">get_progress_message()</a>, <a class="el" href="player_8cpp_source.html#l03519">player::gunmod_add()</a>, <a class="el" href="iuse_8cpp_source.html#l04466">iuse::hand_crank()</a>, <a class="el" href="iuse_8cpp_source.html#l03227">iuse::jackhammer()</a>, <a class="el" href="player__activity_8cpp_source.html#l00059">migrate_item_position()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02369">mine_activity()</a>, <a class="el" href="iuse_8cpp_source.html#l04862">iuse::oxytorch()</a>, <a class="el" href="iuse_8cpp_source.html#l03282">iuse::pickaxe()</a>, <a class="el" href="game_8cpp_source.html#l09629">game::place_player()</a>, <a class="el" href="iuse_8cpp_source.html#l04370">iuse::portable_game()</a>, <a class="el" href="player_8cpp_source.html#l00319">player::process_turn()</a>, <a class="el" href="game_8cpp_source.html#l08831">game::reload()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02790">activity_handlers::repair_item_finish()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00195">serialize()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00111">veh_interact::serialize_activity()</a>, <a class="el" href="crafting_8cpp_source.html#l00718">player::start_craft()</a>, <a class="el" href="player_8cpp_source.html#l03622">player::toolmod_add()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01147">pick_lock_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01476">firestarter_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02984">ammobelt_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03084">repair_item_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03649">heal_actor::use()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00908">vehicle_activity()</a>, and <a class="el" href="iuse_8cpp_source.html#l04500">iuse::vibe()</a>.</p>

</div>
</div>
<a id="a0e540c5f23a3578093669cf0d62e3e42" name="a0e540c5f23a3578093669cf0d62e3e42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e540c5f23a3578093669cf0d62e3e42">&#9670;&nbsp;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a> player_activity::type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00034">34</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__activity_8cpp_source.html#l00376">can_resume_with()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00218">deserialize()</a>, <a class="el" href="player__activity_8cpp_source.html#l00257">do_turn()</a>, <a class="el" href="player__activity_8cpp_source.html#l00176">get_progress_message()</a>, <a class="el" href="player__activity_8cpp_source.html#l00088">get_stop_phrase()</a>, <a class="el" href="player__activity_8cpp_source.html#l00093">get_verb()</a>, <a class="el" href="player__activity_8h_source.html#l00097">id()</a>, <a class="el" href="player__activity_8cpp_source.html#l00428">ignore_distraction()</a>, <a class="el" href="player__activity_8cpp_source.html#l00438">inherit_distractions()</a>, <a class="el" href="player__activity_8cpp_source.html#l00423">is_distraction_ignored()</a>, <a class="el" href="player__activity_8cpp_source.html#l00108">is_multi_type()</a>, <a class="el" href="player__activity_8h_source.html#l00090">is_null()</a>, <a class="el" href="player__activity_8cpp_source.html#l00103">is_suspendable()</a>, <a class="el" href="player__activity_8cpp_source.html#l00059">migrate_item_position()</a>, <a class="el" href="player__activity_8h_source.html#l00087">operator bool()</a>, <a class="el" href="player__activity_8cpp_source.html#l00083">rooted()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00195">serialize()</a>, and <a class="el" href="player__activity_8cpp_source.html#l00077">set_to_null()</a>.</p>

</div>
</div>
<a id="aca09f19b9a36866a33a46cf0c8ee484d" name="aca09f19b9a36866a33a46cf0c8ee484d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca09f19b9a36866a33a46cf0c8ee484d">&#9670;&nbsp;</a></span>values</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; player_activity::values</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="player__activity_8h_source.html#l00057">57</a> of file <a class="el" href="player__activity_8h_source.html">player_activity.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mutation_8cpp_source.html#l00470">Character::activate_mutation()</a>, <a class="el" href="player__activity_8cpp_source.html#l00376">can_resume_with()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02986">veh_interact::complete_vehicle()</a>, <a class="el" href="iuse_8cpp_source.html#l09630">iuse::craft()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00218">deserialize()</a>, <a class="el" href="avatar_8cpp_source.html#l00716">avatar::do_read()</a>, <a class="el" href="player__activity_8cpp_source.html#l00257">do_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01488">activity_handlers::fill_liquid_do_turn()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02608">generic_multi_activity_check_requirement()</a>, <a class="el" href="player__activity_8cpp_source.html#l00098">get_value()</a>, <a class="el" href="player_8cpp_source.html#l03519">player::gunmod_add()</a>, <a class="el" href="bionics_8cpp_source.html#l02245">Character::install_bionics()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00153">inv_internal()</a>, <a class="el" href="player__activity_8cpp_source.html#l00059">migrate_item_position()</a>, <a class="el" href="iuse_8cpp_source.html#l04862">iuse::oxytorch()</a>, <a class="el" href="avatar_8cpp_source.html#l00367">avatar::read()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00195">serialize()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00111">veh_interact::serialize_activity()</a>, <a class="el" href="crafting_8cpp_source.html#l00718">player::start_craft()</a>, <a class="el" href="bionics_8cpp_source.html#l01980">Character::uninstall_bionic()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01476">firestarter_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02014">enzlave_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03649">heal_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02474">learn_spell_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03910">heal_actor::use_healing_item()</a>, and <a class="el" href="activity__item__handling_8cpp_source.html#l00908">vehicle_activity()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="player__activity_8h_source.html">player_activity.h</a></li>
<li>src/<a class="el" href="player__activity_8cpp_source.html">player_activity.cpp</a></li>
<li>src/<a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classplayer__activity.html">player_activity</a></li>
    <li class="footer">Generated on Sat Nov 12 2022 15:15:59 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
